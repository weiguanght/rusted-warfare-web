

================================================================================
// FILE_PATH: ./gameFramework/b.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.util.HashMap;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b.class */
public class b {

    /* renamed from: a, reason: collision with root package name */
    public byte f416a;
    HashMap b = new HashMap();

    public void a(b bVar) {
        this.b.put(Byte.valueOf(bVar.f416a), bVar);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/ba.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import android.content.Context;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.File;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/ba.class */
public class ba {
    public static boolean b = true;
    public static boolean c = true;
    public static boolean d = false;
    public static boolean e = true;
    public static boolean f = false;
    public boolean h;
    int i;
    int j;
    boolean k;
    int l;
    boolean m;
    public int o;
    public int p;
    public int q;
    public String r;
    boolean s;
    private volatile boolean P;
    String t;
    boolean u;
    bd w;
    bd x;
    int y;
    int z;
    int A;
    int B;
    InputStream C;
    BufferedInputStream D;
    DataInputStream E;
    com.corrodinggames.rts.gameFramework.j.k F;
    OutputStream G;
    BufferedOutputStream H;
    DataOutputStream I;
    com.corrodinggames.rts.gameFramework.j.as J;
    bb K;
    Thread L;
    public boolean O;

    /* renamed from: a, reason: collision with root package name */
    String f445a = "replays/";
    public com.corrodinggames.rts.gameFramework.j.ak g = new com.corrodinggames.rts.gameFramework.j.ak();
    public boolean n = false;
    public int v = 1;
    Object M = new Object();
    public boolean N = false;

    public static void a(String str) {
        l.e("Replay: " + str);
    }

    public static void b(String str) {
        l.b("Replay: " + str);
    }

    public static void a(String str, Exception exc) {
        l.a("Replay: " + str, (Throwable) exc);
    }

    public File a(String str, boolean z) {
        return com.corrodinggames.rts.gameFramework.e.a.a(str, this.f445a, z);
    }

    public void a(Context context) {
    }

    public void a() {
        l lVarB = l.B();
        if (lVarB.bt != 0.0f) {
            lVarB.bt = 0.0f;
        } else {
            lVarB.bt = 1.0f;
        }
    }

    public void b() {
        l lVarB = l.B();
        if (lVarB.bt == 1.0f) {
            lVarB.bt = 2.0f;
            return;
        }
        if (lVarB.bt == 2.0f) {
            lVarB.bt = 4.0f;
            return;
        }
        if (lVarB.bt == 4.0f) {
            lVarB.bt = 8.0f;
            return;
        }
        if (lVarB.bt == 8.0f) {
            lVarB.bt = 16.0f;
            return;
        }
        if (lVarB.bt == 16.0f) {
            lVarB.bt = 32.0f;
            return;
        }
        if (lVarB.bt == 32.0f) {
            lVarB.bt = 64.0f;
        } else if (lVarB.bt == 64.0f) {
            lVarB.bt = 1.0f;
        } else {
            lVarB.bt = 1.0f;
        }
    }

    public void a(int i, String str, String str2, int i2) {
        bb bbVar = this.K;
        if (this.P && !this.u) {
            if (str2.startsWith("-t ")) {
            }
            bd bdVar = new bd();
            bdVar.f448a = i2;
            bdVar.g = new bc();
            bdVar.g.f447a = i;
            bdVar.g.b = str;
            bdVar.g.c = str2;
            if (bbVar == null) {
                l.g("Failed to record chat message, replay might have already stopped");
            } else {
                bbVar.a(bdVar);
            }
        }
    }

    public void a(byte[] bArr, int i, int i2, int i3, float f2, float f3) {
        bb bbVar = this.K;
        if (this.P && !this.u) {
            bd bdVar = new bd();
            bdVar.f448a = i;
            bdVar.f = bArr;
            bdVar.h = i2;
            bdVar.i = i3;
            bdVar.j = f2;
            bdVar.k = f3;
            if (bbVar == null) {
                l.g("Failed to save resync, replay might have already stopped");
            } else {
                bbVar.a(bdVar);
            }
        }
    }

    public void c() {
        if (f) {
            d();
        }
    }

    public void a(e eVar, int i) {
        bb bbVar = this.K;
        if (this.P && !this.u) {
            if (bbVar == null) {
                l.g("Failed to record command, replay might have already stopped");
                return;
            }
            bd bdVar = new bd();
            bdVar.e = eVar.f();
            bdVar.f448a = i;
            bbVar.a(bdVar);
            this.j++;
            if (this.j > 5) {
                this.j = 0;
                l lVarB = l.B();
                bd bdVar2 = new bd();
                bdVar2.c = Long.valueOf(f());
                bdVar2.f448a = lVarB.bx;
                bbVar.a(bdVar2);
            }
        }
    }

    public void d() {
        if (this.P && !this.u) {
            this.g.b();
            a(this.g, true);
        }
    }

    public void a(com.corrodinggames.rts.gameFramework.j.ak akVar) {
        a(akVar, false);
    }

    public void a(com.corrodinggames.rts.gameFramework.j.ak akVar, boolean z) {
        if (this.P && !this.u) {
            l lVarB = l.B();
            bd bdVar = new bd();
            com.corrodinggames.rts.gameFramework.j.as asVar = new com.corrodinggames.rts.gameFramework.j.as();
            int i = 0;
            if (z) {
                try {
                    i = 0 + 1;
                } catch (IOException e2) {
                    throw new RuntimeException(e2);
                }
            }
            asVar.c(i);
            asVar.a(akVar.b.size());
            Iterator it = akVar.b.iterator();
            while (it.hasNext()) {
                asVar.a(((com.corrodinggames.rts.gameFramework.j.al) it.next()).b);
            }
            bdVar.d = asVar.d();
            bdVar.f448a = lVarB.bx;
            this.K.a(bdVar);
        }
    }

    /* JADX WARN: Finally extract failed */
    public void e() {
        synchronized (this.M) {
            try {
                try {
                    if (this.K != null) {
                        this.K.a();
                        try {
                            this.L.join();
                        } catch (InterruptedException e2) {
                            e2.printStackTrace();
                        }
                        this.P = false;
                        this.K = null;
                        this.L = null;
                    }
                    if (this.G != null) {
                        this.I.flush();
                        this.I.close();
                        this.H.flush();
                        this.H.close();
                        this.G.flush();
                        this.G.close();
                    }
                    this.G = null;
                    this.H = null;
                    this.I = null;
                    this.J = null;
                } catch (IOException e3) {
                    e3.printStackTrace();
                    this.G = null;
                    this.H = null;
                    this.I = null;
                    this.J = null;
                }
                this.s = false;
                this.P = false;
                this.u = false;
                this.t = null;
                this.i = 0;
                this.j = 0;
                this.k = false;
                this.l = 0;
                this.m = false;
                this.y = 0;
                this.v = 1;
                this.z = 0;
                this.A = 0;
                this.B = 0;
                this.o = -1;
                this.p = 0;
                this.q = -1;
                this.r = null;
                try {
                    try {
                        if (this.C != null) {
                            this.E.close();
                            this.D.close();
                            this.C.close();
                        }
                        this.C = null;
                        this.D = null;
                        this.E = null;
                        this.F = null;
                    } catch (IOException e4) {
                        e4.printStackTrace();
                        this.C = null;
                        this.D = null;
                        this.E = null;
                        this.F = null;
                    }
                } catch (Throwable th) {
                    this.C = null;
                    this.D = null;
                    this.E = null;
                    this.F = null;
                    throw th;
                }
            } catch (Throwable th2) {
                this.G = null;
                this.H = null;
                this.I = null;
                this.J = null;
                throw th2;
            }
        }
    }

    public long f() {
        long j = 0;
        Iterator it = w.er.iterator();
        while (it.hasNext()) {
            w wVar = (w) it.next();
            if (wVar instanceof com.corrodinggames.rts.game.units.y) {
                com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) wVar;
                j = ((long) (((long) (((long) (j + (yVar.eo * 1000.0f))) + (yVar.ep * 1000.0f))) + (yVar.cu * 1.0f))) + yVar.eh;
            }
        }
        return j;
    }

    public void g() {
        if (!this.N) {
            e();
        }
    }

    public boolean c(String str) {
        return a(str, a(str, false));
    }

    private void l() {
        for (int i = 0; i < com.corrodinggames.rts.game.n.c; i++) {
            com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i);
            if (nVarK != null && (nVarK instanceof com.corrodinggames.rts.game.a.a)) {
                ((com.corrodinggames.rts.game.a.a) nVarK).aX = true;
            }
        }
    }

    public boolean a(String str, File file) {
        if (this.P) {
            if (this.u) {
                l.b("startReplayingFile: A replay is already playing");
            } else {
                l.b("startReplayingFile: A replay is already saving");
            }
        }
        e();
        l lVarB = l.B();
        lVarB.e();
        lVarB.bX.q();
        this.w = null;
        this.s = false;
        this.P = true;
        this.u = true;
        this.t = str;
        try {
            if (file.isDirectory()) {
                l.e("File is a directory: " + file.getAbsolutePath());
                l.e("Cannot load replay: Target is a folder, instead of a file");
                lVarB.a("Cannot load replay: Target is a folder, instead of a file", 1);
                return false;
            }
            this.C = com.corrodinggames.rts.gameFramework.e.a.a(file);
            if (this.C == null) {
                l.e("Cannot load replay: Failed to read replay file");
                lVarB.a("Cannot load replay: Failed to read replay file", 1);
                return false;
            }
            this.D = new BufferedInputStream(this.C);
            this.E = new DataInputStream(this.D);
            this.F = new com.corrodinggames.rts.gameFramework.j.k(this.E);
            String strL = this.F.l();
            if (!strL.equals("rustedWarfareReplay")) {
                l.e("Header is not correct:" + strL);
                l.e("Cannot load replay: File is missing header (check if this file is a replay)");
                lVarB.a("Cannot load replay: File is missing header (check if this file is a replay)", 1);
                return false;
            }
            int iF = this.F.f();
            int iF2 = this.F.f();
            a("Loading save from version: " + iF2);
            this.F.a(iF2);
            String strL2 = this.F.l();
            if ((iF2 != 96 || iF != lVarB.c(true)) && !this.n) {
                String str2 = "Cannot load replay: This replay was recording with a different version: " + strL2;
                if (l.av()) {
                    str2 = str2 + " (You can use the beta tab in steam to switch to old versions)";
                }
                lVarB.a(str2, 1);
                a("Replay version: " + iF2 + " (" + iF + ")");
                a("GameSaver.thisSaveVersion: 96 (" + lVarB.c(true) + ")");
                if (!l.aG) {
                    this.P = false;
                    return false;
                }
            }
            this.q = iF2;
            this.r = strL2;
            this.F.e();
            this.F.b("gamesave");
            this.O = false;
            this.N = true;
            a("Loading replay initial save");
            lVarB.ca.a(this.F, false, false, false);
            this.N = false;
            this.F.d("gamesave");
            if (!this.O) {
                a("ReplayEngine: --- No game setup read ----");
                lVarB.bX.ay.i = true;
                lVarB.bC = lVarB.bQ.teamUnitCapHostedGame;
                lVarB.bB = lVarB.bC;
            }
            if (!this.h) {
                l();
            }
            a("--- Reply settings ---");
            a("Unit cap: " + lVarB.bC);
            a(lVarB.bX.ay.b());
            a("Starting frame:" + lVarB.bx);
            if (!this.h) {
                for (int i = 0; i < com.corrodinggames.rts.game.n.c; i++) {
                    com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i);
                    if (nVarK != null && nVarK.v != null) {
                        lVarB.bS.h.a(VariableScope.nullOrMissingString, "Player '" + nVarK.v + "' playing as " + nVarK.N().toLowerCase() + " (team:" + nVarK.h() + ")");
                    }
                }
            }
            if (l.aw) {
                com.corrodinggames.rts.gameFramework.j.ad.g("Warning: editor will desync checksums.");
                lVarB.bv = true;
                lVarB.bl = true;
                lVarB.bn = true;
            }
            return true;
        } catch (IOException e2) {
            throw new RuntimeException(e2);
        }
    }

    public void a(boolean z) throws IOException {
        if (l.aW) {
            if (!l.bd) {
                return;
            }
        } else if (!l.bc) {
            return;
        }
        l lVarB = l.B();
        if (lVarB.bX.B && !z && !this.N && lVarB.bQ.saveMultiplayerReplays) {
            d(lVarB.al() + " [v" + lVarB.v() + "] (" + f.a("d MMM yyyy HH.mm.ss") + ").replay");
        }
    }

    public void d(String str) throws IOException {
        a("Recording replay to: " + str);
        if (this.P) {
            if (this.u) {
                b("startSaving: A replay is already playing");
            } else {
                b("startSaving: A replay is already saving");
            }
        }
        e();
        l lVarB = l.B();
        f = lVarB.bQ.replayTracing;
        if (f) {
            lVarB.bX.j("Warning traceChecksumsWriting is on. Large replay file size will be created.");
        }
        this.s = false;
        this.P = true;
        this.u = false;
        this.t = str;
        try {
            File fileA = a(str, true);
            this.G = com.corrodinggames.rts.gameFramework.e.a.a(fileA, false);
            if (this.G == null) {
                b("Failed to create replay file at:" + fileA.getAbsolutePath());
                l.B().i("Failed to create replay file (Replay recording will be disabled)");
                e();
                return;
            }
            this.H = new BufferedOutputStream(this.G);
            this.I = new DataOutputStream(this.H);
            this.J = new com.corrodinggames.rts.gameFramework.j.as(this.I);
            this.J.c("rustedWarfareReplay");
            this.J.a(lVarB.c(true));
            this.J.a(96);
            this.J.c(lVarB.v());
            this.J.a(lVarB.ar);
            this.J.e("gamesave");
            lVarB.ca.a(this.J);
            this.J.a("gamesave");
            this.I.flush();
            this.K = new bb(this);
            this.L = new Thread(this.K);
            this.L.start();
        } catch (IOException e2) {
            a("Failed to start recording replay", e2);
            l.B().i("Failed to start recording replay: " + e2.getMessage());
            e();
        } catch (Exception e3) {
            a("Failed to start recording replay (Non IOException)", e3);
            l.B().i("Failed to start recording replay (Non IOException): " + e3.getMessage());
            e();
        }
    }

    public boolean h() {
        l lVarB = l.B();
        String strX = this.F.x();
        if ("rc".equals(strX)) {
            this.y++;
            bd bdVar = new bd();
            bdVar.f448a = this.F.f();
            e eVarB = lVarB.cf.b();
            eVarB.a(this.F);
            eVarB.f475a = true;
            bdVar.e = eVarB;
            this.F.d("rc");
            this.w = bdVar;
            this.p++;
            this.o = bdVar.f448a;
            if (c) {
                a("updateGameFrame: Command: " + eVarB.i.v + " (" + eVarB.i.k + ") count:" + eVarB.d() + " id:" + this.y);
                if (eVarB.j != null) {
                    a("updateGameFrame: Waypoint: " + eVarB.j.d().name());
                    if (eVarB.j.a() != null) {
                        a("updateGameFrame: Build Type: " + eVarB.j.a().i());
                    }
                }
                if (com.corrodinggames.rts.game.units.a.s.c(eVarB.k)) {
                    a("updateGameFrame: SpecialAction: " + eVarB.k.a());
                }
                if (eVarB.n != null) {
                    a("updateGameFrame: SetAttackMode: " + eVarB.n);
                }
                if (eVarB.g) {
                    a("updateGameFrame: stopOrUndo is set");
                }
                if (eVarB.r) {
                    if (eVarB.s != 0.0f) {
                        a("updateGameFrame: changeStepRate:" + eVarB.s);
                    }
                    if (eVarB.u != 0) {
                        a("updateGameFrame: systemAction_action:" + eVarB.u);
                    }
                }
                a("updateGameFrame: ------");
                return true;
            }
            return true;
        }
        if ("wait".equals(strX)) {
            bd bdVar2 = new bd();
            bdVar2.f448a = this.F.f();
            bdVar2.b = true;
            this.w = bdVar2;
            this.F.d("wait");
            return true;
        }
        if ("cs".equals(strX)) {
            int iF = this.F.f();
            long jI = this.F.i();
            if (!this.n) {
                if (lVarB.bx != iF) {
                    l.b("replay:updateGameFrame", "expected:" + iF + " got:" + lVarB.bx);
                }
                if (f() != jI) {
                    b("checksum: checksums don't match!!");
                    b("checksum: game frameNumber:" + lVarB.bx);
                    b("checksum: Replay checksum:" + jI);
                    b("checksum: Game checksum  :" + f());
                    this.l++;
                    if (!this.k) {
                        this.k = true;
                        lVarB.bS.h.a(VariableScope.nullOrMissingString, "Error: This replay might be out of sync");
                    }
                } else {
                    a("checksum: checksums are matching frameNumber:" + lVarB.bx);
                }
            }
            this.F.d("cs");
            return true;
        }
        if ("es".equals(strX)) {
            int iF2 = this.F.f();
            if (!this.n) {
                if (lVarB.bx != iF2) {
                    l.b("replay.updateGameFrame: expected:" + iF2 + " got:" + lVarB.bx);
                }
                com.corrodinggames.rts.gameFramework.j.k kVar = new com.corrodinggames.rts.gameFramework.j.k(this.F.t());
                boolean z = false;
                if (com.corrodinggames.rts.game.units.custom.d.b.a(kVar.d(), 1)) {
                    z = true;
                }
                if (z) {
                    l.e("replay: -trace checksum-");
                } else {
                    l.e("replay: -long checksum-");
                }
                lVarB.bX.d();
                kVar.f();
                Iterator it = lVarB.bX.am.b.iterator();
                while (it.hasNext()) {
                    com.corrodinggames.rts.gameFramework.j.al alVar = (com.corrodinggames.rts.gameFramework.j.al) it.next();
                    long jI2 = kVar.i();
                    if (!this.m && jI2 == alVar.b) {
                        a("extraChecksum: " + alVar.f566a + " Checksum [" + iF2 + "]. " + jI2 + " == " + alVar.b + " (ok)");
                    }
                    if (jI2 != alVar.b) {
                        if (this.l < 150) {
                            b("extraChecksum: " + alVar.f566a + " Checksum [" + iF2 + "]. " + jI2 + " != " + alVar.b + " (failed)");
                        }
                        this.l++;
                    }
                }
            }
            this.m = true;
            this.F.d("es");
            return true;
        }
        if ("resync".equals(strX)) {
            int iF3 = this.F.f();
            l.e("Loading resync from replay");
            if (lVarB.bx != iF3) {
                l.b("replay:resync", "expected:" + iF3 + " got:" + lVarB.bx);
            }
            int iF4 = this.F.f();
            int iF5 = this.F.f();
            float fG = this.F.g();
            float fG2 = this.F.g();
            lVarB.ca.a(new com.corrodinggames.rts.gameFramework.j.k(this.F.t()), true, true, true);
            l();
            lVarB.bx = iF4;
            lVarB.by = iF5;
            lVarB.bX.am.f565a = 0L;
            if (fG < 0.1d) {
                com.corrodinggames.rts.gameFramework.j.ad.a("replay setCurrentStepRate:" + fG + " is too small", true);
            }
            lVarB.bX.a(fG, "replay");
            lVarB.bX.J = fG2;
            this.F.d("resync");
            return true;
        }
        if ("chat".equals(strX)) {
            bd bdVar3 = new bd();
            bdVar3.f448a = this.F.f();
            bdVar3.g = new bc();
            bdVar3.g.f447a = this.F.f();
            bdVar3.g.b = this.F.j();
            bdVar3.g.c = this.F.j();
            this.w = bdVar3;
            this.F.d("chat");
            return true;
        }
        if ("end".equals(strX)) {
            l.b("replay:updateGameFrame", "end of replay block found");
            lVarB.bS.h.a(VariableScope.nullOrMissingString, "Replay has ended");
            if (!lVarB.bv) {
                this.s = true;
                lVarB.bt = 0.25f;
                l.B().bS.G();
            } else {
                this.s = false;
                this.P = false;
                this.u = false;
                com.corrodinggames.rts.game.units.h hVarI = lVarB.bS.i();
                if (hVarI != null) {
                    lVarB.bs = hVarI.bX;
                }
            }
            this.F.d("end");
            l.e("number of replay commands issued:" + this.z);
            return false;
        }
        if ("endReplayMetaData".equals(strX)) {
            this.F.d("endReplayMetaData");
            return true;
        }
        l.b("updateGameFrame", "Unknown command block:" + strX);
        this.F.d(strX);
        return true;
    }

    public void a(float f2) {
        l lVarB = l.B();
        if (this.s || !this.P || !this.u) {
            return;
        }
        while (true) {
            if (this.w == null) {
                try {
                    if (!h()) {
                        return;
                    }
                } catch (IOException e2) {
                    l.b("updateGameFrame", "IOException, read of replay?");
                    e2.printStackTrace();
                    lVarB.bt = 0.25f;
                    if (!this.s && this.P) {
                        lVarB.bS.h.a(VariableScope.nullOrMissingString, "Replay ended (unexpected)");
                    }
                    this.s = true;
                    return;
                }
            }
            if (this.w != null) {
                if (this.n) {
                    this.w = null;
                } else {
                    if (b && this.w != null && this.x != this.w) {
                        this.x = this.w;
                        l.e("replay: upcoming in " + (this.w.f448a - lVarB.bx) + " command:" + (this.w.e != null));
                    }
                    if (this.w.b && this.z == 0) {
                        l.e("updateGameFrame: replay: Skipping wait on first resync without commands to avoid delay");
                        this.w = null;
                    } else if (lVarB.bx >= this.w.f448a) {
                        if (this.w.e != null) {
                            if (lVarB.bx > this.w.f448a) {
                                l.b("updateGameFrame: replay incorrect frameNumber, skipping command:" + lVarB.bx + " vs " + this.w.f448a);
                            } else {
                                if (d) {
                                    if (this.w.e.p == null) {
                                        l.e("Precommand Team: commandingPlayer==null");
                                        if (this.w.e.i != null) {
                                            l.e("Precommand Team id:" + this.w.e.i.k + " credits:" + this.w.e.i.o);
                                        }
                                    } else {
                                        l.e("Precommand Team id:" + this.w.e.p.k + " credits:" + this.w.e.p.o + " count:" + this.w.e.p.w() + " max:" + this.w.e.p.x());
                                    }
                                }
                                if (this.w.e.r && this.w.e.u != 0) {
                                    l.b("replay:issueCommand", "systemAction_action:" + this.w.e.u);
                                }
                                this.w.e.k();
                                if (d) {
                                    if (this.w.e.p != null) {
                                        l.e("Postcommand credits:" + this.w.e.p.o + " count:" + this.w.e.p.w() + " max:" + this.w.e.p.x());
                                    } else if (this.w.e.i != null) {
                                        l.e("Postcommand Team id:" + this.w.e.i.k + " credits:" + this.w.e.i.o);
                                    }
                                }
                                this.z++;
                            }
                        } else if (this.w.g != null) {
                            bc bcVar = this.w.g;
                            boolean z = false;
                            if (bcVar.c == null) {
                                z = true;
                            } else {
                                if (bcVar.c.startsWith("-i ")) {
                                    z = true;
                                }
                                if (bcVar.c.equals("<All players ready>")) {
                                    z = true;
                                }
                                if (bcVar.c.equals("--too many desync errors, suppressing output--")) {
                                    z = true;
                                }
                                if (bcVar.c.startsWith("desync:")) {
                                    z = true;
                                }
                            }
                            if (!lVarB.bQ.replaysShowRecordedChat) {
                                z = true;
                            }
                            if (z) {
                                l.b("replay:updateGameFrame", "Skipping message: " + bcVar.b + ":" + bcVar.c);
                            } else {
                                l.b("replay:updateGameFrame", "message: " + bcVar.b + ":" + bcVar.c);
                                lVarB.bS.h.a(bcVar.b, bcVar.c);
                            }
                        } else if (this.w.b) {
                            if (c) {
                            }
                        } else {
                            l.b("updateGameFrame", "error: lastReadCommand null action");
                        }
                        this.w = null;
                    }
                }
            }
            if (this.w != null) {
                return;
            }
        }
    }

    public void e(String str) {
        l.e("ReplayEngine deleteGame: " + str);
        String strO = com.corrodinggames.rts.gameFramework.e.a.o(str);
        if (strO.contains("\\") || strO.contains("/")) {
            l.e("Cannot get replay with path: " + str);
            return;
        }
        File fileA = a(str, true);
        l.e("ReplayEngine path: " + fileA.getAbsolutePath());
        if (!fileA.exists()) {
            l.e("ReplayEngine deleteGame: file doesn't exist");
        }
        if (!com.corrodinggames.rts.gameFramework.e.a.b(fileA)) {
            l.e("ReplayEngine deleteGame: failed to delete: " + fileA.getAbsolutePath());
        }
        File fileA2 = a(str + ".map", true);
        if (fileA2.exists()) {
            com.corrodinggames.rts.gameFramework.e.a.b(fileA2);
        }
    }

    public boolean i() {
        return this.P;
    }

    public boolean j() {
        return this.P && this.u;
    }

    public boolean k() {
        return this.P && !this.u;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/bt.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bt.class */
public class bt {

    /* renamed from: a, reason: collision with root package name */
    boolean f460a;
    int b;
    double c;
    double d;
    long e;
    String f;

    public bt(String str) {
        this.f460a = true;
        this.f = str;
    }

    public bt(String str, boolean z) {
        this.f460a = true;
        this.f = str;
        this.f460a = z;
    }

    public void a() {
        if (this.f460a) {
            if (this.e != 0) {
                this.e = Long.MIN_VALUE;
            } else {
                this.e = br.a();
            }
        }
    }

    public void b() {
        if (this.f460a) {
            double dA = br.a(this.e, br.a());
            this.c += dA;
            this.b++;
            if (dA > this.d) {
                this.d = dA;
            }
            this.e = 0L;
        }
    }

    public String c() {
        String str;
        if (!this.f460a) {
            return "{ Not enabled }";
        }
        if (this.b > 0) {
            str = ((("{ #" + this.b + " = ") + "peak:" + f.a(this.d, 2) + "ms ") + "avg:" + f.a(this.c / this.b, 2) + "ms ") + "total:" + f.a(this.c, 2) + "ms ";
        } else {
            str = "{ #0 = NA";
        }
        return str + "}";
    }

    public void d() {
        if (this.f460a) {
            b();
            e();
        }
    }

    public void e() {
        if (this.f460a && this.b > 0) {
            l.e(l.a(this.f + " - " + c(), "\u001b[36m"));
            f();
        }
    }

    public void f() {
        this.b = 0;
        this.c = 0.0d;
        this.d = 0.0d;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/ak.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/ak.class */
public class ak extends af {
    @Override // com.corrodinggames.rts.gameFramework.af
    public boolean a(af afVar) {
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.af
    public boolean a() {
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.af
    public boolean b() {
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.af
    public String c() {
        return "None";
    }

    @Override // com.corrodinggames.rts.gameFramework.af
    public boolean d() {
        return false;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/w.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.IOException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/w.class */
public abstract class w extends bq {
    public long eh;
    public boolean ej;
    public boolean ek;
    public boolean el;
    public int em;
    public int en;
    public float eo;
    public float ep;
    public float eq;
    public static x ei = new x();

    /* renamed from: a, reason: collision with root package name */
    private static final com.corrodinggames.rts.gameFramework.utility.o f708a = new com.corrodinggames.rts.gameFramework.utility.o();
    public static final com.corrodinggames.rts.gameFramework.utility.s er = new com.corrodinggames.rts.gameFramework.utility.s("fastGameObjectList");

    public abstract void a(float f);

    public abstract void a(float f, boolean z);

    public abstract void d(float f);

    public abstract void e(float f);

    public abstract boolean c(float f);

    public abstract boolean f(float f);

    public void S(int i) {
        this.em = i;
    }

    @Override // com.corrodinggames.rts.gameFramework.bq
    public void a(com.corrodinggames.rts.gameFramework.j.as asVar) throws IOException {
        asVar.a(this.ej);
        asVar.a(this.ek);
        asVar.a(this.em);
    }

    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        this.ej = kVar.e();
        this.ek = kVar.e();
        this.em = kVar.f();
    }

    public w() {
        this(false);
    }

    public w(boolean z) {
        this.ej = false;
        this.ek = false;
        this.em = 2;
        this.en = 0;
        this.eq = 0.0f;
        if (!z) {
            l lVarB = l.B();
            if (this.eh != 0) {
                throw new RuntimeException("ID for GameObject is already set at:" + this.eh);
            }
            this.eh = lVarB.bX.y();
            if (this.eh == 0) {
                throw new RuntimeException("Adding object with id:0 class:" + getClass().getSimpleName());
            }
            f708a.a(this);
            er.add(this);
            return;
        }
        this.eh = 0L;
    }

    public void p(float f) {
    }

    public boolean a(l lVar) {
        return true;
    }

    public void a() {
        if (this.eh != 0) {
            f708a.b(this);
            er.remove(this);
        }
        this.ej = true;
    }

    public static w a(long j, Class cls, boolean z) {
        if (j == -1) {
            return null;
        }
        w[] wVarArrA = er.a();
        int size = er.size();
        for (int i = 0; i < size; i++) {
            w wVar = wVarArrA[i];
            if (wVar.eh == j) {
                if (cls.isInstance(wVar)) {
                    return wVar;
                }
                String name = wVar.getClass().getName();
                String name2 = cls.getName();
                com.corrodinggames.rts.gameFramework.j.ad.g("object id:" + j + " was found, but with type " + name.replace("com.corrodinggames.rts.", VariableScope.nullOrMissingString) + " instead of " + name2.replace("com.corrodinggames.rts.", VariableScope.nullOrMissingString));
            }
        }
        if (!z) {
            com.corrodinggames.rts.gameFramework.j.ad.g("getFromId:" + j + " was not found");
            return null;
        }
        return null;
    }

    public static com.corrodinggames.rts.game.units.am a(long j, boolean z) {
        return (com.corrodinggames.rts.game.units.am) a(j, com.corrodinggames.rts.game.units.am.class, z);
    }

    public static com.corrodinggames.rts.game.units.y b(long j, boolean z) {
        return (com.corrodinggames.rts.game.units.y) a(j, com.corrodinggames.rts.game.units.y.class, z);
    }

    public static com.corrodinggames.rts.gameFramework.utility.o dK() {
        f708a.a();
        return f708a;
    }

    public static void dL() {
        f708a.a();
        com.corrodinggames.rts.game.units.am.bG();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/ar.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/ar.class */
public abstract class ar {
    public String b;

    public ar(String str, aq aqVar) {
        this.b = str;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n.class */
public abstract class n {
    public abstract void a(String str, int i);

    public abstract void a(String str, String str2);

    public abstract void a(String str, boolean z);

    public abstract void a(Throwable th);

    public boolean a() {
        return false;
    }

    public boolean b() {
        return false;
    }

    public boolean c() {
        return false;
    }

    public void d() {
    }
}


================================================================================
// FILE_PATH: ./gameFramework/bm.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bm.class */
public class bm extends bo {
    public bm(ArrayList arrayList) {
        Iterator it = arrayList.iterator();
        while (it.hasNext()) {
            bo boVar = (bo) it.next();
            this.f456a += boVar.f456a;
            this.b += boVar.b;
            this.c += boVar.c;
            this.d += boVar.d;
            this.e += boVar.e;
            this.f += boVar.f;
            this.g += boVar.g;
            this.h += boVar.h;
            this.i += boVar.i;
            this.j = Math.max(this.j, boVar.j);
            this.k += boVar.k;
            this.l.a(boVar.l);
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/ag.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/ag.class */
public class ag extends af {
    int e;

    @Override // com.corrodinggames.rts.gameFramework.af
    public boolean a(af afVar) {
        if (!(afVar instanceof ag) || this.e != ((ag) afVar).e) {
            return false;
        }
        return super.a(afVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.af
    public boolean a() {
        if (ac.b.a(this.e, this.b, false)) {
            if (!this.c) {
                this.c = true;
                return true;
            }
            return false;
        }
        if (ac.b.a(this.e, this.b, true)) {
            this.c = true;
            return false;
        }
        if (this.c) {
            this.c = false;
            return false;
        }
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.af
    public boolean b() {
        return ac.b.a(this.e, this.b, false);
    }

    @Override // com.corrodinggames.rts.gameFramework.af
    public String c() {
        if (this.e == 0) {
            return VariableScope.nullOrMissingString;
        }
        return ac.b.c(this.e, this.b);
    }

    @Override // com.corrodinggames.rts.gameFramework.af
    public boolean d() {
        if (this.e == 0) {
            return true;
        }
        return false;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/z.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import android.os.Process;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/z.class */
public class z extends Thread {

    /* renamed from: a, reason: collision with root package name */
    static int f710a = 0;
    public boolean b;
    long c;

    public synchronized void a(boolean z) {
        this.b = z;
    }

    public z() {
        super("GameThread" + f710a);
        this.b = true;
        f710a++;
    }

    @Override // java.lang.Thread, java.lang.Runnable
    public void run() throws InterruptedException, SecurityException, IllegalArgumentException {
        long j;
        l.aq();
        if (!l.aU) {
            Process.setThreadPriority(-4);
        }
        a();
        long j2 = this.c;
        l lVarB = l.B();
        while (this.b) {
            long jNanoTime = System.nanoTime();
            long j3 = this.c;
            a();
            lVarB.a((this.c - j3) * 0.060000002f, (int) (this.c - j3));
            if (!lVarB.bQ.batterySaving) {
            }
            if (lVarB.bQ.batterySaving) {
                j = 32258064;
            } else if (lVarB.bQ.highRefreshRate) {
                j = 3333333;
            } else {
                j = 16393442;
            }
            long jRound = Math.round(j - (System.nanoTime() - jNanoTime));
            if (jRound > 0) {
                long jNanoTime2 = System.nanoTime();
                while (true) {
                    long jNanoTime3 = System.nanoTime() - jNanoTime2;
                    if (jNanoTime3 > jRound || jNanoTime3 < 0) {
                        break;
                    }
                    long j4 = (long) ((jRound - jNanoTime3) / 1000000.0d);
                    if (j4 > 1) {
                        try {
                            Thread.sleep(j4);
                        } catch (Exception e) {
                        }
                    }
                }
            }
        }
    }

    public void a() {
        this.c = System.currentTimeMillis();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/af.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/af.class */
public abstract class af {

    /* renamed from: a, reason: collision with root package name */
    public int f402a = -1;
    public int b = 0;
    protected boolean c;
    public boolean d;

    public abstract boolean a();

    public abstract boolean b();

    public abstract String c();

    public abstract boolean d();

    public boolean a(af afVar) {
        if (this.b != afVar.b || this.f402a != afVar.f402a) {
            return false;
        }
        return true;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/bl.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bl.class */
public class bl {

    /* renamed from: a, reason: collision with root package name */
    com.corrodinggames.rts.gameFramework.utility.m f454a = new com.corrodinggames.rts.gameFramework.utility.m();

    public void a(com.corrodinggames.rts.game.units.am amVar, com.corrodinggames.rts.game.units.am amVar2) {
        if (this.f454a.f694a > 0) {
            Iterator it = this.f454a.iterator();
            while (it.hasNext()) {
                ((bk) it.next()).a(amVar, amVar2, null);
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/o.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import android.content.Context;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/o.class */
public abstract class o {
    public abstract l a(Context context);
}


================================================================================
// FILE_PATH: ./gameFramework/as.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/as.class */
public abstract class as {
    public abstract void a(ar arVar);

    public abstract void a(float f);

    public abstract void a(boolean z);

    public abstract void d();

    public abstract void a();

    public abstract void b();

    public abstract boolean c();

    public void a(float f, float f2) {
        a(f);
    }

    public void e() {
    }
}


================================================================================
// FILE_PATH: ./gameFramework/v.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import android.content.Context;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/v.class */
public class v extends o {
    @Override // com.corrodinggames.rts.gameFramework.o
    public l a(Context context) {
        return new com.corrodinggames.rts.game.i(context);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/aj.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/aj.class */
public abstract class aj {
}


================================================================================
// FILE_PATH: ./gameFramework/bu.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bu.class */
public class bu {

    /* renamed from: a, reason: collision with root package name */
    public long[] f461a = new long[br.c];
    public long[] b = new long[br.c];
    public float[] c = new float[br.c];
    public long[] d = new long[br.c];
    public long[] e = new long[br.c];
    final /* synthetic */ br f;

    public bu(br brVar) {
        this.f = brVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/c.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/c.class */
public class c {

    /* renamed from: a, reason: collision with root package name */
    static final boolean f462a = false;
    public ArrayList b = new ArrayList();
    public ArrayList c = new ArrayList();
    public ArrayList d = new ArrayList();
    static int e;

    public static void a(String str) {
        e++;
        if (e == 5) {
            l.e("(Rate Limiting...)");
        }
        if (e >= 5) {
            return;
        }
        l.e(str);
    }

    public void a() {
        this.b.clear();
        this.c.clear();
        this.d.clear();
    }

    public e b() {
        e eVar = new e(this);
        if (f462a) {
            l.e("Tracing source");
            eVar.b = l.a(new Exception("Test"));
        }
        return eVar;
    }

    public e a(com.corrodinggames.rts.game.n nVar) {
        return b(nVar);
    }

    public e b(com.corrodinggames.rts.game.n nVar) {
        if (nVar == null) {
            throw new RuntimeException("team==null");
        }
        l lVarB = l.B();
        e eVar = new e(this);
        eVar.i = nVar;
        eVar.d = lVarB.by;
        if (f462a) {
            l.e("Tracing source");
            eVar.b = l.a(new Exception("Test"));
        }
        if (!lVarB.bX.B) {
            if (!eVar.l()) {
                l.b("Command failed prepareAndCheckOnServer()");
            }
            this.b.add(eVar);
        } else {
            this.d.add(eVar);
        }
        return eVar;
    }

    public void c() {
        l lVarB = l.B();
        e = 0;
        if (!lVarB.bX.B) {
            d();
        } else {
            e();
        }
    }

    public void d() {
        l lVarB = l.B();
        int i = lVarB.bx;
        int i2 = 0;
        Iterator it = this.b.iterator();
        while (it.hasNext()) {
            e eVar = (e) it.next();
            lVarB.cb.a(eVar, i);
            eVar.k();
            i2++;
        }
        this.b.clear();
        if (i2 > 0) {
            lVarB.cb.c();
        }
    }

    public void e() {
        l lVarB = l.B();
        int i = lVarB.bx;
        int i2 = 0;
        Iterator it = this.b.iterator();
        while (it.hasNext()) {
            e eVar = (e) it.next();
            if (eVar.c == i) {
                lVarB.cb.a(eVar, i);
                eVar.k();
                it.remove();
                i2++;
            }
        }
        if (i2 > 0) {
            lVarB.cb.c();
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/at.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.util.ArrayList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/at.class */
enum at {
    starting { // from class: com.corrodinggames.rts.gameFramework.at.1
        @Override // com.corrodinggames.rts.gameFramework.at
        String d() {
            return "music/starting";
        }
    },
    buildup { // from class: com.corrodinggames.rts.gameFramework.at.2
        @Override // com.corrodinggames.rts.gameFramework.at
        String d() {
            return "music/buildup";
        }
    },
    attacked { // from class: com.corrodinggames.rts.gameFramework.at.3
        @Override // com.corrodinggames.rts.gameFramework.at
        String d() {
            return "music/attacked";
        }
    };

    String[] d;

    abstract String d();

    void a() {
        this.d = com.corrodinggames.rts.gameFramework.e.a.a(d(), false);
        if (this.d == null) {
            this.d = new String[0];
            l.n("Failed to open music folder: " + d());
            return;
        }
        l lVarB = l.B();
        ArrayList arrayList = new ArrayList();
        for (String str : this.d) {
            String strO = com.corrodinggames.rts.gameFramework.e.a.o(str);
            if (am.a(a(strO), true) != null) {
                l.e("Loaded track:" + strO);
                arrayList.add(strO);
            } else {
                l.b("Skipping track:" + strO);
            }
            lVarB.a("music", false);
        }
        this.d = (String[]) arrayList.toArray(new String[0]);
    }

    String[] b() {
        return this.d;
    }

    static void c() {
        starting.a();
        buildup.a();
        attacked.a();
    }

    String a(String str) {
        return d() + "/" + str;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/h.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/h.class */
public enum h {
    Windows,
    MacOS,
    Linux,
    Other
}


================================================================================
// FILE_PATH: ./gameFramework/bk.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bk.class */
public abstract class bk {
    public abstract void a(com.corrodinggames.rts.game.units.am amVar, com.corrodinggames.rts.game.units.am amVar2, Object obj);
}


================================================================================
// FILE_PATH: ./gameFramework/aa.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import android.graphics.PointF;
import java.io.IOException;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/aa.class */
public class aa extends bq {

    /* renamed from: a, reason: collision with root package name */
    int f398a;
    PointF b = new PointF();

    public void a() {
        this.f398a = 1;
    }

    @Override // com.corrodinggames.rts.gameFramework.bq
    public void a(com.corrodinggames.rts.gameFramework.j.as asVar) throws IOException {
        asVar.a(0);
        asVar.a(this.f398a);
    }

    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        kVar.f();
        this.f398a = kVar.f();
    }

    public void a(float f) {
    }

    public ab b() {
        ab abVar = new ab(this);
        abVar.e = this.f398a;
        this.f398a++;
        return abVar;
    }

    public ab c() {
        ab abVar = new ab(this);
        abVar.e = -1;
        abVar.b = true;
        return abVar;
    }

    public void a(com.corrodinggames.rts.gameFramework.utility.m mVar, com.corrodinggames.rts.game.units.y yVar, com.corrodinggames.rts.gameFramework.utility.m mVar2, float f, int i) {
        int i2 = 0;
        while (!mVar2.isEmpty()) {
            com.corrodinggames.rts.game.units.y yVar2 = null;
            float f2 = -1.0f;
            PointF pointF = null;
            int i3 = -1;
            Object[] objArrA = mVar2.a();
            Object[] objArrA2 = mVar.a();
            int size = mVar.size();
            for (int i4 = 0; i4 < size; i4++) {
                com.corrodinggames.rts.game.units.y yVar3 = (com.corrodinggames.rts.game.units.y) objArrA2[i4];
                if (yVar3.ad == yVar && !yVar3.aj) {
                    float f3 = -1.0f;
                    PointF pointF2 = null;
                    int i5 = -1;
                    for (int i6 = 0; i6 < mVar2.f694a; i6++) {
                        PointF pointF3 = (PointF) objArrA[i6];
                        float fA = f.a(yVar3.eo, yVar3.ep, yVar.eo + pointF3.f45a, yVar.ep + pointF3.b);
                        if (f3 == -1.0f || fA < f3) {
                            f3 = fA;
                            pointF2 = pointF3;
                            i5 = i6;
                        }
                    }
                    if (f3 > f2) {
                        yVar2 = yVar3;
                        f2 = f3;
                        pointF = pointF2;
                        i3 = i5;
                    }
                }
            }
            if (yVar2 != null) {
                i2++;
                yVar2.aj = true;
                yVar2.ak = pointF.f45a;
                yVar2.al = pointF.b;
                yVar2.am = f;
                yVar2.ao = f2;
                yVar2.ah = (short) (i + 1);
                mVar2.remove(i3);
            } else {
                return;
            }
        }
    }

    public void a(com.corrodinggames.rts.gameFramework.utility.m mVar, com.corrodinggames.rts.game.units.y yVar) {
        while (true) {
            com.corrodinggames.rts.game.units.y yVar2 = null;
            Iterator it = mVar.iterator();
            while (it.hasNext()) {
                com.corrodinggames.rts.game.units.y yVar3 = (com.corrodinggames.rts.game.units.y) it.next();
                if (yVar3.ad == yVar && yVar3.ao > 0.0f && (yVar2 == null || yVar3.ao > yVar2.ao)) {
                    if (yVar3.aj && yVar3.ao > 100.0f) {
                        yVar2 = yVar3;
                    }
                }
            }
            if (yVar2 != null) {
                yVar2.aj = false;
                com.corrodinggames.rts.game.units.y yVar4 = null;
                float f = 0.0f;
                com.corrodinggames.rts.game.units.y yVar5 = yVar2;
                int iA = f.a((int) yVar5.ao);
                Iterator it2 = mVar.iterator();
                while (it2.hasNext()) {
                    com.corrodinggames.rts.game.units.y yVar6 = (com.corrodinggames.rts.game.units.y) it2.next();
                    if (yVar6.ad == yVar && yVar6.ao > 0.0f && yVar6 != yVar5) {
                        float fC = ((0 + f.c(yVar5.eo, yVar5.ep, yVar.eo + yVar6.ak, yVar.ep + yVar6.al)) + f.c(yVar6.eo, yVar6.ep, yVar.eo + yVar5.ak, yVar.ep + yVar5.al)) - (f.a((int) yVar6.ao) + iA);
                        if (fC < f) {
                            f = fC;
                            yVar4 = yVar6;
                        }
                    }
                }
                if (yVar4 != null) {
                    float f2 = yVar5.ak;
                    float f3 = yVar5.al;
                    yVar5.ak = yVar4.ak;
                    yVar5.al = yVar4.al;
                    yVar5.ao = f.a(yVar5.eo, yVar5.ep, yVar.eo + yVar5.ak, yVar.ep + yVar5.al);
                    yVar4.ak = f2;
                    yVar4.al = f3;
                    yVar4.ao = f.a(yVar4.eo, yVar4.ep, yVar.eo + yVar4.ak, yVar.ep + yVar4.al);
                }
            } else {
                return;
            }
        }
    }

    public com.corrodinggames.rts.gameFramework.utility.m a(int i, float f, float f2) {
        int i2;
        int i3 = 1;
        int i4 = 0;
        int i5 = 6 / 2;
        float f3 = 2.0f + (f * 2.0f * 1.5f);
        com.corrodinggames.rts.gameFramework.utility.m mVar = new com.corrodinggames.rts.gameFramework.utility.m();
        int i6 = i;
        if (i6 % 2 != 0) {
            i6++;
        }
        float fK = f.k(f2);
        float fJ = f.j(f2);
        for (int i7 = 0; i7 < i6; i7++) {
            if (i3 % 2 == 0) {
                i2 = i5 + (i3 / 2);
            } else {
                i2 = i5 - ((i3 + 1) / 2);
            }
            float f4 = (i2 - i5) * f3;
            float f5 = (-i4) * f3;
            mVar.add(new PointF((f5 * fK) - (f4 * fJ), (f4 * fK) + (f5 * fJ)));
            i3++;
            if (i3 > 6) {
                i3 = 0;
                i4++;
            }
        }
        return mVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/ax.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/ax.class */
public class ax extends as {

    /* renamed from: a, reason: collision with root package name */
    aw f415a;
    av b;

    public ax(av avVar) {
        this.b = avVar;
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public void a(ar arVar) {
        this.f415a = (aw) arVar;
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public void a(boolean z) {
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public void a() {
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public void b() {
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public void d() {
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public void e() {
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public boolean c() {
        return true;
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public void a(float f) {
    }
}


================================================================================
// FILE_PATH: ./gameFramework/d.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.io.IOException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/d.class */
public class d {

    /* renamed from: a, reason: collision with root package name */
    public com.corrodinggames.rts.gameFramework.k.k f466a;
    public long b;
    public float c;
    public float d;
    public float e;
    public float f;
    public int g;
    public com.corrodinggames.rts.game.units.ao h;

    public void a(com.corrodinggames.rts.gameFramework.j.as asVar) throws IOException {
        asVar.a(this.b);
        asVar.a(this.c);
        asVar.a(this.d);
        asVar.a(this.e);
        asVar.a(this.f);
        asVar.a(this.g);
        asVar.a(this.h);
        asVar.a(this.f466a != null);
        if (this.f466a != null) {
            this.f466a.a(asVar);
        }
    }

    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        this.b = kVar.i();
        this.c = kVar.g();
        this.d = kVar.g();
        this.e = kVar.g();
        this.f = kVar.g();
        this.g = kVar.f();
        this.h = (com.corrodinggames.rts.game.units.ao) kVar.b(com.corrodinggames.rts.game.units.ao.class);
        if (kVar.e()) {
            this.f466a = new com.corrodinggames.rts.gameFramework.k.k(null, false);
            this.f466a.a(kVar);
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/bg.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.io.IOException;
import java.util.ArrayList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bg.class */
public class bg {
    bo b = new bo();
    bo[] c = new bo[com.corrodinggames.rts.game.n.e];
    int d;
    boolean e;

    /* renamed from: a, reason: collision with root package name */
    public static boolean f451a = true;
    public static bl f = new bl();

    public void a(com.corrodinggames.rts.gameFramework.j.as asVar) throws IOException {
        asVar.e("stats");
        asVar.c(0);
        int i = com.corrodinggames.rts.game.n.c;
        asVar.a(i);
        for (int i2 = 0; i2 < i; i2++) {
            this.c[i2].a(asVar);
        }
        asVar.a("stats");
    }

    public void a(com.corrodinggames.rts.gameFramework.j.k kVar, boolean z) throws IOException {
        kVar.b("stats");
        kVar.d();
        int iF = kVar.f();
        this.c = new bo[com.corrodinggames.rts.game.n.e];
        for (int i = 0; i < iF; i++) {
            this.c[i] = new bo();
            this.c[i].a(kVar);
        }
        kVar.d("stats");
    }

    public void a() {
        this.b = new bo();
        this.c = new bo[com.corrodinggames.rts.game.n.e];
        for (int i = 0; i < this.c.length; i++) {
            this.c[i] = new bo();
        }
        this.d = 0;
        this.e = f451a;
    }

    public void b() {
        int i = l.B().by;
        if (this.e && this.d <= i) {
            int i2 = 5000;
            if (i < 60000) {
                i2 = 1000;
            }
            if (i > 1800000) {
                i2 = 15000;
            }
            if (i > 3600000) {
                i2 = 30000;
            }
            int i3 = i2 + i2;
            a(i, false, false);
        }
    }

    private void a(int i, boolean z, boolean z2) {
        for (int i2 = 0; i2 < com.corrodinggames.rts.game.n.c; i2++) {
            com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i2);
            if (nVarK != null) {
                bn bnVar = this.c[i2].l;
                if (!z || bnVar.c()) {
                    bnVar.a(nVarK, i, z2);
                    bnVar.a(i2);
                }
            }
        }
    }

    public void c() {
        this.e = false;
        a(l.B().by, true, true);
    }

    public ArrayList d() {
        ArrayList arrayList = new ArrayList();
        for (int i = 0; i < com.corrodinggames.rts.game.n.c; i++) {
            if (this.c[i].l.c()) {
                arrayList.add(this.c[i]);
            }
        }
        return arrayList;
    }

    public bo a(com.corrodinggames.rts.game.units.am amVar) {
        return a(amVar.bX);
    }

    public bo a(com.corrodinggames.rts.game.n nVar) {
        int i = nVar.k;
        if (i < 0 || i >= this.c.length) {
            return this.b;
        }
        bo boVar = this.c[i];
        if (boVar == null) {
            return this.b;
        }
        return boVar;
    }

    public void a(com.corrodinggames.rts.game.units.am amVar, com.corrodinggames.rts.game.units.am amVar2, float f2) {
        if (amVar != null) {
            boolean z = amVar2.bV;
            bo boVarA = a(amVar);
            bo boVarA2 = a(amVar2);
            if (z) {
                f.a(amVar, amVar2);
                if (amVar2.bI()) {
                    boVarA.d++;
                    boVarA2.g++;
                } else if (amVar2.dd()) {
                    boVarA.e++;
                    boVarA2.h++;
                } else {
                    boVarA.c++;
                    boVarA2.f++;
                }
            }
        }
        l lVarB = l.B();
        if (amVar2.bX == lVarB.bs) {
            lVarB.a(amVar2, f2);
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/br.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import android.graphics.Paint;
import android.graphics.Rect;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/br.class */
public final class br {

    /* renamed from: a, reason: collision with root package name */
    l f458a;
    public static int c = 40;
    public int b = 0;
    public int d = 0;
    bu e = new bu(this);
    Paint f = new Paint();
    Rect g = new Rect();
    int h = -1;

    public br(l lVar) {
        this.f458a = lVar;
    }

    public static final long a() {
        return System.nanoTime();
    }

    public static final float a(long j) {
        return (System.nanoTime() - j) / 1000000.0f;
    }

    public static final double a(long j, long j2) {
        return (j2 - j) / 1000000.0d;
    }

    public static final void a(String str, long j) {
        l.e(str + VariableScope.nullOrMissingString + a(a(j)));
    }

    public final void a(bs bsVar) {
    }

    public final void b(bs bsVar) {
    }

    public static final String a(double d) {
        return VariableScope.nullOrMissingString + f.a(d, 3) + "ms";
    }

    public static final String b(double d) {
        return VariableScope.nullOrMissingString + (d / 1000000.0d) + "ms";
    }

    public final void b() {
    }

    public final void c() {
    }

    public final void a(boolean z, boolean z2) {
    }
}


================================================================================
// FILE_PATH: ./gameFramework/am.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import android.content.Context;
import android.util.Log;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/am.class */
public class am {
    au e;
    as k;
    boolean l;
    String m;
    boolean n;
    boolean o;
    float p;
    float q;
    float r;
    public boolean s;
    public String t;
    public boolean u;
    String v;
    Context w;
    boolean x;
    boolean y;
    int z;
    as A;
    boolean B;
    boolean C;
    float D;
    float H;
    boolean L;
    boolean M;

    /* renamed from: a, reason: collision with root package name */
    public static aq f403a = new an();
    static HashMap J = new HashMap();
    static int K = 0;
    Object b = new Object();
    Object c = new Object();
    volatile float d = 1.0f;
    volatile boolean f = false;
    volatile boolean g = true;
    float h = 0.0f;
    int i = 0;
    boolean j = false;
    boolean E = false;
    public boolean F = false;
    boolean G = false;
    ArrayList I = new ArrayList();
    long N = -1;

    public float a() {
        l lVarB = l.B();
        return lVarB.bQ.musicVolume * lVarB.bQ.masterVolume;
    }

    public boolean b() {
        return (l.ax() || this.u || a() <= 0.01f) ? false : true;
    }

    public void a(Context context) {
        this.w = context;
        if (l.ax()) {
            return;
        }
        f403a.a(this);
        this.k = f403a.a();
        this.A = f403a.a();
        at.c();
        if (f403a.d()) {
            this.e = new au(this);
            this.e.start();
        }
    }

    public void c() {
        if (!l.av()) {
            this.l = false;
            this.m = null;
            this.x = true;
            this.B = false;
        }
        this.y = true;
        this.u = false;
    }

    static ar a(String str, boolean z) {
        ar arVar = (ar) J.get(str);
        if (arVar != null) {
            return arVar;
        }
        try {
            ar arVarA = f403a.a(str);
            if (z) {
                J.put(str, arVarA);
            }
            return arVarA;
        } catch (ArithmeticException e) {
            K++;
            l.a("Error loading:" + str, (Throwable) e);
            if (K > 2 && K <= 4) {
                l.B().i("Failed to load music track:" + str + ". Music track skipped.");
            }
            if (!z) {
                throw new RuntimeException(e);
            }
            return null;
        } catch (Exception e2) {
            K++;
            l.a("Exception loading:" + str, (Throwable) e2);
            if (K > 2 && K <= 4) {
                l.B().i("Unknown error loading music track:" + str + ". Music track skipped.");
            }
            if (!z) {
                throw new RuntimeException(e2);
            }
            return null;
        } catch (OutOfMemoryError e3) {
            K++;
            l.a("OutOfMemoryError loading:" + str, e3);
            l.aC();
            System.gc();
            l.aC();
            if (K < 3) {
                l.B().i("Ran out of memory loading music track:" + str + ". Music track skipped.");
            }
            if (!z) {
                throw new RuntimeException(e3);
            }
            return null;
        }
    }

    public ArrayList d() {
        ArrayList arrayList = new ArrayList();
        for (String str : at.starting.b()) {
            arrayList.add(str);
        }
        for (String str2 : at.buildup.b()) {
            arrayList.add(str2);
        }
        for (String str3 : at.starting.b()) {
            arrayList.add(str3);
        }
        return arrayList;
    }

    public String a(at atVar) {
        return a(atVar, atVar);
    }

    public String a(at atVar, at atVar2) {
        at atVar3;
        l.B();
        if (f.c(atVar.b().length + atVar2.b().length) < atVar.b().length) {
            atVar3 = atVar;
        } else {
            atVar3 = atVar2;
        }
        String[] strArrB = atVar3.b();
        return atVar3.a(strArrB[f.c(strArrB.length)]);
    }

    public synchronized void e() {
        this.s = true;
        this.u = false;
        this.t = null;
    }

    public synchronized void a(String str) {
        this.s = true;
        this.u = false;
        this.t = str;
    }

    public synchronized void a(float f) {
        if (l.ax()) {
            return;
        }
        if (!f403a.d()) {
            if (!this.L) {
                b(f);
            }
            this.g = true;
        }
        this.N = l.V();
        if (l.B().bT.H.a()) {
            e();
        }
        if (this.v != null) {
            com.corrodinggames.rts.gameFramework.j.ad.a((String) null, this.v);
            this.v = null;
        }
        if (this.p != a()) {
            this.p = a();
            this.o = true;
        }
        synchronized (this.c) {
            this.d = f;
            if (this.L) {
                if (!this.M) {
                    this.M = true;
                    l.n("Music subsystem crashed, music has been disabled to keep your game running. Please send your logs.");
                }
                return;
            }
            if (!this.g) {
                this.h += f;
                this.i++;
                if (this.h > 320.0f && this.i > 80 && !this.j) {
                    this.j = true;
                    l.n("Lockup detected in music subsystem");
                }
            } else {
                this.h = 0.0f;
                this.i = 0;
            }
            this.g = false;
            this.f = true;
            this.c.notifyAll();
        }
    }

    public String b(String str) {
        return f.g(f.k(str)).replace("[noloop]", VariableScope.nullOrMissingString).replace("_", " ");
    }

    public boolean b(float f) {
        try {
            c(f);
            return true;
        } catch (Exception e) {
            l.a("Music system crashed", (Throwable) e);
            this.L = true;
            l.e("Stopping music");
            try {
                g();
                return false;
            } catch (Exception e2) {
                l.a("crash stopping music", (Throwable) e2);
                return false;
            }
        }
    }

    public void c(float f) {
        float fA;
        float fA2;
        if (l.ax()) {
            return;
        }
        f403a.a(f);
        if (!b()) {
            if (this.l && this.k.c()) {
                g();
                this.l = false;
                this.B = false;
                return;
            }
            return;
        }
        boolean z = false;
        if (!this.l) {
            z = true;
        }
        if (this.n) {
            if (!this.C) {
                this.q += f;
            }
            if (this.q > 600.0f) {
                this.r += f;
                if (this.r > 100.0f) {
                    this.r = 0.0f;
                    if (!this.l || !this.k.c()) {
                        z = true;
                        this.q = 0.0f;
                    }
                }
            }
        } else {
            this.q += f;
            if (this.q > 3600.0f) {
                l.e("Next music track, timer:" + this.q);
                z = true;
                this.q = 0.0f;
            }
        }
        if (this.y) {
            com.corrodinggames.rts.gameFramework.i.b bVarZ = com.corrodinggames.rts.gameFramework.f.g.z();
            if (bVarZ != null && bVarZ.N) {
                z = true;
            }
            this.y = false;
        }
        if (z || this.s) {
            boolean z2 = this.s;
            String str = this.t;
            if (this.s) {
                l.e("Next music track requested");
                this.s = false;
                this.q = 0.0f;
                this.t = null;
            }
            String strA = null;
            boolean z3 = false;
            com.corrodinggames.rts.gameFramework.i.b bVar = null;
            if (str != null) {
                ArrayList arrayListI = l.B().bZ.i();
                arrayListI.addAll(d());
                if (str.endsWith(".ogg") || str.endsWith(".wav")) {
                    b(str);
                }
                Iterator it = arrayListI.iterator();
                while (true) {
                    if (!it.hasNext()) {
                        break;
                    }
                    String str2 = (String) it.next();
                    if (b(str2).equalsIgnoreCase(str)) {
                        z3 = true;
                        strA = str2;
                        break;
                    }
                }
                if (strA == null) {
                    l.e("Failed to find requested music: " + str);
                }
            }
            com.corrodinggames.rts.gameFramework.i.b bVarZ2 = com.corrodinggames.rts.gameFramework.f.g.z();
            if (strA == null && bVarZ2 != null && bVarZ2.P < 10 && bVarZ2.N) {
                ArrayList arrayListQ = bVarZ2.q();
                if (arrayListQ.size() > 0) {
                    z3 = true;
                    bVar = bVarZ2;
                    strA = (String) arrayListQ.get(f.a(0, arrayListQ.size() - 1));
                    if (z2 || this.I.contains(strA)) {
                        for (int i = 0; i < 30 && (strA.equals(this.m) || this.I.contains(strA)); i++) {
                            strA = (String) arrayListQ.get(f.a(0, arrayListQ.size() - 1));
                            if (i > 20) {
                                this.I.clear();
                            }
                        }
                    }
                    l.e("Playing music from mod:" + bVarZ2.a() + " - '" + strA + "'");
                }
            }
            if (strA == null) {
                if (this.x) {
                    strA = a(at.starting);
                } else {
                    strA = a(at.buildup, at.starting);
                }
                if (z2 || this.I.contains(strA)) {
                    for (int i2 = 0; i2 < 30 && (strA.equals(this.m) || this.I.contains(strA)); i2++) {
                        strA = a(at.buildup, at.starting);
                        if (i2 > 20) {
                            this.I.clear();
                        }
                    }
                }
            }
            if (!strA.equals(this.m)) {
                this.m = strA;
                this.x = false;
                this.q = 0.0f;
                this.n = z3 || strA.contains("[noloop]");
                this.I.add(strA);
                if (this.I.size() > 4) {
                    this.I.remove(0);
                }
                if (z2) {
                    this.v = "Now playing: " + b(strA);
                }
                as asVar = this.k;
                this.k = this.A;
                this.A = asVar;
                try {
                    try {
                        this.k.a(a(strA, false));
                        this.k.a(!this.n);
                        this.E = false;
                        if (!z2 && this.B) {
                            this.E = true;
                        }
                        if (this.l) {
                            this.B = true;
                        }
                        this.C = true;
                        this.G = false;
                        this.D = 1.0f;
                        this.l = true;
                    } catch (RuntimeException e) {
                        e.printStackTrace();
                        if (this.z < 3) {
                            this.v = "Failed to play music track: " + strA;
                            this.z++;
                        }
                        if (bVar != null) {
                            bVar.P++;
                            return;
                        }
                        return;
                    }
                } catch (RuntimeException e2) {
                    e2.printStackTrace();
                    if (this.z < 3) {
                        this.v = "Failed to open music track: " + strA;
                        this.z++;
                    }
                    if (bVar != null) {
                        bVar.P++;
                        return;
                    }
                    return;
                }
            } else if (z2) {
                l.e("Same music found");
            }
        }
        if (this.C || this.o) {
            boolean zC = f403a.c();
            if (!zC) {
                if (this.F) {
                    this.D -= f * 0.1f;
                } else {
                    this.D -= f * 0.006f;
                }
            } else if (this.F) {
                this.D -= f * 0.1f;
            } else if (this.E) {
                this.D -= f * 0.003f;
            } else {
                this.D -= f * 0.008f;
            }
            if (!zC) {
                fA = this.D * a();
                fA2 = (1.0f - this.D) * a();
            } else {
                fA = ((this.D * 2.0f) - 1.0f) * a();
                fA2 = (1.0f - (this.D * 2.0f)) * a();
            }
            float fB = f.b(fA, 0.0f, 1.0f);
            float fB2 = f.b(fA2, 0.0f, 1.0f);
            if (this.C) {
                if (this.D <= 0.0f) {
                    this.C = false;
                    this.E = false;
                    if (this.B && !this.G) {
                        this.G = true;
                        this.A.d();
                    }
                    if (this.l) {
                        this.k.a(a(), a());
                    }
                } else {
                    this.H += f;
                    if (this.H > 10.0f) {
                        this.H = 0.0f;
                        if (this.B && !this.G) {
                            this.A.a(fB, fB);
                            if (fB < 0.02f) {
                                this.G = true;
                                this.A.d();
                            }
                        }
                        if (this.l) {
                            this.k.a(fB2, fB2);
                        }
                    }
                }
            } else if (this.l) {
                this.k.a(fB2, fB2);
            }
        }
        this.o = false;
    }

    public void f() {
        Log.a("RustedWarfare", "Music:pause()");
        new Thread() { // from class: com.corrodinggames.rts.gameFramework.am.1
            @Override // java.lang.Thread, java.lang.Runnable
            public void run() {
                if (am.this.j) {
                    Log.a("RustedWarfare", "Music:pause() unsynchronized");
                    am.this.g();
                } else {
                    synchronized (am.this.b) {
                        Log.a("RustedWarfare", "Music:pause() synchronized");
                        am.this.g();
                    }
                }
            }
        }.start();
    }

    public void g() {
        if (this.l) {
            this.k.a();
        }
        if (this.B) {
            this.A.a();
        }
    }

    public void h() {
        new Thread() { // from class: com.corrodinggames.rts.gameFramework.am.2
            @Override // java.lang.Thread, java.lang.Runnable
            public void run() {
                synchronized (am.this.b) {
                    if (am.this.l) {
                        am.this.k.b();
                        if (!am.this.C) {
                            am.this.k.a(am.this.a(), am.this.a());
                        }
                    }
                    if (am.this.B) {
                        am.this.A.b();
                    }
                }
            }
        }.start();
    }

    public void i() {
        f403a.b();
        if (this.B) {
            this.A.d();
            this.A.e();
        }
        if (this.k != null) {
            this.k.d();
            this.k.e();
        }
        this.k = null;
        this.m = null;
        this.l = false;
    }

    public boolean j() {
        if (this.C) {
            return true;
        }
        return false;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/q.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/q.class */
public class q {

    /* renamed from: a, reason: collision with root package name */
    com.corrodinggames.rts.gameFramework.utility.m f664a = new com.corrodinggames.rts.gameFramework.utility.m();

    public void a(Runnable runnable) {
        this.f664a.add(runnable);
    }

    public void a() {
        if (this.f664a.f694a > 0) {
            Iterator it = this.f664a.iterator();
            while (it.hasNext()) {
                ((Runnable) it.next()).run();
            }
        }
    }

    public void b() {
        if (this.f664a.f694a > 0) {
            Iterator it = this.f664a.iterator();
            while (it.hasNext()) {
                ((Runnable) it.next()).run();
            }
            this.f664a.clear();
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/p.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/p.class */
class p {

    /* renamed from: a, reason: collision with root package name */
    long f663a = System.currentTimeMillis();
    final /* synthetic */ l b;

    public p(l lVar) {
        this.b = lVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/al.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/al.class */
public class al extends aj {
}


================================================================================
// FILE_PATH: ./gameFramework/bs.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bs.class */
public enum bs {
    total { // from class: com.corrodinggames.rts.gameFramework.bs.1
    },
    update { // from class: com.corrodinggames.rts.gameFramework.bs.2
    },
    draw { // from class: com.corrodinggames.rts.gameFramework.bs.3
    },
    draw_game { // from class: com.corrodinggames.rts.gameFramework.bs.4
    },
    draw_end,
    draw_gui,
    draw_game_effects,
    update_game_shouldDraw,
    update_game_sortRender,
    update_do_all_collisions,
    update_do_all_collisions2,
    update_all_team_and_ai,
    update_geo_indexes,
    update_minimap,
    update_groupcontroller,
    draw_game_unit,
    draw_setup,
    draw_setup_fill,
    draw_setup_clip,
    draw_setup_drawMap,
    surface_draw,
    realdraw_in_drawthread,
    update_waiting_on_draw,
    draw_waiting_on_update,
    load_total,
    load_map,
    load_units,
    load_compression,
    init_total,
    init_unitcolour
}


================================================================================
// FILE_PATH: ./gameFramework/bf.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bf.class */
public class bf {

    /* renamed from: a, reason: collision with root package name */
    public int f450a;
    public String b;
    public int c;
    public boolean d;
    public boolean e;
    public boolean f;
    public long g;
    public int h;
    final /* synthetic */ be i;

    public bf(be beVar) {
        this.i = beVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/e.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import android.graphics.PointF;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.IOException;
import java.util.AbstractList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/e.class */
public class e {

    /* renamed from: a, reason: collision with root package name */
    public boolean f475a;
    public String b;
    public int c;
    public int d;
    public com.corrodinggames.rts.game.n i;
    public com.corrodinggames.rts.game.units.au j;
    public PointF l;
    public com.corrodinggames.rts.game.units.am m;
    public com.corrodinggames.rts.game.units.a n;
    private PointF z;
    public com.corrodinggames.rts.game.n p;
    public short q;
    public boolean r;
    public float s;
    public float t;
    public int u;
    final /* synthetic */ c y;
    public boolean e = false;
    public boolean f = false;
    public boolean g = false;
    public boolean h = false;
    public com.corrodinggames.rts.game.units.a.c k = com.corrodinggames.rts.game.units.a.s.i;
    public boolean o = false;
    private com.corrodinggames.rts.gameFramework.utility.m A = new com.corrodinggames.rts.gameFramework.utility.m();
    com.corrodinggames.rts.gameFramework.utility.m v = new com.corrodinggames.rts.gameFramework.utility.m();
    com.corrodinggames.rts.gameFramework.utility.m w = new com.corrodinggames.rts.gameFramework.utility.m();
    public boolean x = false;

    public e(c cVar) {
        this.y = cVar;
    }

    public boolean a() {
        Iterator it = this.w.iterator();
        while (it.hasNext()) {
            if (((d) it.next()).f466a.a() == null) {
                return false;
            }
        }
        return true;
    }

    public void b() {
        l lVarB = l.B();
        this.x = true;
        ab abVarC = lVarB.bV.c();
        Iterator it = this.v.iterator();
        while (it.hasNext()) {
            abVarC.f399a.add((com.corrodinggames.rts.game.units.y) it.next());
        }
        if (this.j != null) {
            float fG = this.j.g();
            float fH = this.j.h();
            if (this.j.d() != com.corrodinggames.rts.game.units.av.move && this.j.d() != com.corrodinggames.rts.game.units.av.attackMove && this.j.d() != com.corrodinggames.rts.game.units.av.attack) {
                return;
            }
            Iterator it2 = abVarC.a(fG, fH, this.j.j).iterator();
            while (it2.hasNext()) {
                com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) it2.next();
                if (!yVar.aK() && yVar.I() && (!this.e || yVar.ar() == null)) {
                    int iQ = 0;
                    if (this.j.d() == com.corrodinggames.rts.game.units.av.attack) {
                        iQ = yVar.q(this.j.i());
                    }
                    d dVar = new d();
                    dVar.b = yVar.eh;
                    dVar.c = yVar.eo;
                    dVar.d = yVar.ep;
                    dVar.e = fG;
                    dVar.f = fH;
                    dVar.g = lVarB.bx;
                    dVar.h = yVar.h();
                    dVar.f466a = yVar.a(fG, fH, iQ, true, false, false);
                    dVar.f466a.t = 120.0f;
                    dVar.f466a.s = dVar.f466a.t;
                    dVar.f466a.u = true;
                    this.w.add(dVar);
                }
            }
        }
    }

    public com.corrodinggames.rts.game.n c() {
        return this.i;
    }

    public int d() {
        return this.A.size() + this.v.size();
    }

    public boolean e() {
        if (!com.corrodinggames.rts.game.units.a.s.c(this.k) && d() == 0) {
            return true;
        }
        return false;
    }

    public synchronized e f() {
        try {
            com.corrodinggames.rts.gameFramework.j.as asVar = new com.corrodinggames.rts.gameFramework.j.as();
            a(asVar);
            com.corrodinggames.rts.gameFramework.j.k kVar = new com.corrodinggames.rts.gameFramework.j.k(asVar.d());
            e eVar = new e(this.y);
            eVar.c = this.c;
            eVar.a(kVar);
            return eVar;
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public void g() {
        if (this.j != null) {
            Iterator it = this.v.iterator();
            while (it.hasNext()) {
                this.A.add(Long.valueOf(((com.corrodinggames.rts.game.units.y) it.next()).eh));
            }
            this.v.clear();
            this.j.k();
        }
    }

    public synchronized void a(com.corrodinggames.rts.gameFramework.j.as asVar) {
        asVar.e("c");
        asVar.c(this.i.k);
        asVar.a(this.j != null);
        if (this.j != null) {
            this.j.a(asVar);
        }
        asVar.a(this.e);
        asVar.a(this.g);
        asVar.a(-1);
        asVar.a(this.n);
        asVar.a(this.z != null);
        if (this.z != null) {
            asVar.a(this.z.f45a);
            asVar.a(this.z.b);
        }
        asVar.a(this.o);
        asVar.a(this.v.size() + this.A.size());
        Iterator it = this.v.iterator();
        while (it.hasNext()) {
            asVar.a(((com.corrodinggames.rts.game.units.y) it.next()).eh);
        }
        Iterator it2 = this.A.iterator();
        while (it2.hasNext()) {
            asVar.a(((Long) it2.next()).longValue());
        }
        asVar.a(this.p != null);
        if (this.p != null) {
            asVar.a(this.p);
        }
        asVar.a(this.l != null);
        if (this.l != null) {
            asVar.a(this.l.f45a);
            asVar.a(this.l.b);
        }
        asVar.a(this.m);
        asVar.c(this.k.a());
        asVar.a(this.f);
        asVar.a(this.q);
        asVar.a(this.r);
        if (this.r) {
            asVar.c(0);
            asVar.a(this.s);
            asVar.a(this.t);
            asVar.a(this.u);
        }
        asVar.a(this.w.size());
        for (int i = 0; i < this.w.size(); i++) {
            ((d) this.w.get(i)).a(asVar);
        }
        asVar.a(this.h);
        asVar.a("c");
    }

    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        kVar.b("c");
        this.i = com.corrodinggames.rts.game.n.k(kVar.d());
        if (this.i == null) {
            throw new IOException("team==null");
        }
        if (kVar.e()) {
            this.j = new com.corrodinggames.rts.game.units.au();
            this.j.a(kVar);
        }
        this.e = kVar.e();
        this.g = kVar.e();
        this.k = com.corrodinggames.rts.game.units.a.c.a(String.valueOf(kVar.f()));
        this.n = (com.corrodinggames.rts.game.units.a) kVar.b(com.corrodinggames.rts.game.units.a.class);
        if (kVar.e()) {
            this.z = new PointF();
            this.z.f45a = kVar.g();
            this.z.b = kVar.g();
        }
        this.o = kVar.e();
        int iF = kVar.f();
        for (int i = 0; i < iF; i++) {
            this.A.add(Long.valueOf(kVar.n()));
        }
        if (kVar.b() >= 16) {
            this.p = null;
            if (kVar.e()) {
                this.p = kVar.s();
            }
        }
        if (kVar.b() >= 29) {
            if (kVar.e()) {
                this.l = new PointF();
                this.l.f45a = kVar.g();
                this.l.b = kVar.g();
            }
            this.m = kVar.o();
        }
        if (kVar.b() >= 33) {
            this.k = com.corrodinggames.rts.game.units.a.c.a(kVar.l());
        }
        if (kVar.b() >= 37) {
            this.f = kVar.e();
        }
        if (kVar.b() >= 52) {
            this.q = kVar.v();
        }
        if (kVar.b() >= 53) {
            this.r = kVar.e();
            if (this.r) {
                kVar.d();
                this.s = kVar.g();
                this.t = kVar.g();
                this.u = kVar.f();
            }
            int iF2 = kVar.f();
            this.w.clear();
            for (int i2 = 0; i2 < iF2; i2++) {
                d dVar = new d();
                dVar.a(kVar);
                this.w.add(dVar);
            }
        }
        if (kVar.b() >= 80) {
            this.h = kVar.e();
        }
        kVar.d("c");
    }

    public void a(AbstractList abstractList) {
        Iterator it = abstractList.iterator();
        while (it.hasNext()) {
            a((com.corrodinggames.rts.game.units.y) it.next());
        }
    }

    public void a(com.corrodinggames.rts.game.units.y yVar) {
        if (yVar == null) {
            throw new RuntimeException("unit cannot be null");
        }
        if (yVar.bX != this.i) {
        }
        if (this.i.w) {
            if (yVar.bX != this.i && l.B().bs != this.i) {
                l.b("CommandController", "Warning AI: " + this.i.k + " gave an order to unit with team:" + yVar.bX.k + " type:" + yVar.r().i());
                l.g(VariableScope.nullOrMissingString);
            }
            if (yVar.cW()) {
                l.b("CommandController", "Warning AI: " + this.i.k + " gave an order to unit with canNotBeGivenOrdersByPlayer: " + yVar.r().i());
            }
        }
        this.v.add(yVar);
    }

    public void h() {
        this.o = true;
    }

    public void a(float f, float f2) {
        this.j = new com.corrodinggames.rts.game.units.au();
        this.j.a(f, f2);
    }

    public void b(float f, float f2) {
        this.j = new com.corrodinggames.rts.game.units.au();
        this.j.b(f, f2);
    }

    public void a(com.corrodinggames.rts.game.units.am amVar) {
        this.j = new com.corrodinggames.rts.game.units.au();
        this.j.a(amVar);
    }

    public void a(float f, float f2, boolean z) {
        this.j = new com.corrodinggames.rts.game.units.au();
        this.j.b(f, f2);
        this.j.j = z;
    }

    public void a(com.corrodinggames.rts.game.units.am amVar, boolean z) {
        this.j = new com.corrodinggames.rts.game.units.au();
        this.j.a(amVar);
        this.j.j = z;
    }

    public void a(float f, float f2, com.corrodinggames.rts.game.units.as asVar, int i) {
        this.j = new com.corrodinggames.rts.game.units.au();
        this.j.a(f, f2, asVar, i);
    }

    public void b(com.corrodinggames.rts.game.units.am amVar) {
        this.j = new com.corrodinggames.rts.game.units.au();
        this.j.b(amVar);
    }

    public void c(com.corrodinggames.rts.game.units.am amVar) {
        this.j = new com.corrodinggames.rts.game.units.au();
        this.j.c(amVar);
    }

    public void c(float f, float f2) {
        this.j = new com.corrodinggames.rts.game.units.au();
        this.j.c(f, f2);
    }

    public void d(com.corrodinggames.rts.game.units.am amVar) {
        this.j = new com.corrodinggames.rts.game.units.au();
        this.j.f(amVar);
    }

    public void e(com.corrodinggames.rts.game.units.am amVar) {
        this.j = new com.corrodinggames.rts.game.units.au();
        this.j.g(amVar);
    }

    public void f(com.corrodinggames.rts.game.units.am amVar) {
        this.j = new com.corrodinggames.rts.game.units.au();
        this.j.h(amVar);
    }

    public void a(com.corrodinggames.rts.game.units.a.c cVar) {
        this.k = cVar;
    }

    public void a(com.corrodinggames.rts.game.units.a.c cVar, PointF pointF, com.corrodinggames.rts.game.units.am amVar) {
        this.k = cVar;
        this.l = pointF;
        this.m = amVar;
    }

    public void a(com.corrodinggames.rts.game.units.a aVar) {
        this.n = aVar;
    }

    public void a(PointF pointF) {
        this.z = pointF;
    }

    public synchronized void i() {
        Iterator it = this.A.iterator();
        while (it.hasNext()) {
            com.corrodinggames.rts.game.units.y yVarB = w.b(((Long) it.next()).longValue(), true);
            if (yVarB != null) {
                this.v.add(yVarB);
            }
        }
        this.A.clear();
        Iterator it2 = this.v.iterator();
        while (it2.hasNext()) {
            if (((com.corrodinggames.rts.game.units.y) it2.next()).bV) {
                it2.remove();
            }
        }
    }

    public void j() {
        if (com.corrodinggames.rts.game.units.a.s.c(this.k)) {
            Iterator it = this.v.iterator();
            while (it.hasNext()) {
                com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) it.next();
                yVar.b(yVar.a(this.k), this.g);
            }
        }
    }

    public void k() {
        com.corrodinggames.rts.game.units.au auVarAt;
        String str;
        l lVarB = l.B();
        if (lVarB.cb.j() && !this.f475a) {
            return;
        }
        i();
        if (this.r) {
            if (this.s != 0.0f) {
                l.e("issueCommand: changeStepRate:" + this.s);
                lVarB.bX.a(this.s, "command");
                return;
            }
            if (this.u != 0) {
                l.e("system action:" + this.u);
                if (this.u == 1) {
                    l.e("new DebugDesyncDetector");
                    new com.corrodinggames.rts.game.units.g(false).b(com.corrodinggames.rts.game.n.i);
                    return;
                }
                if (this.u == 2) {
                    l.e("new DebugDesyncDetector (stress test)");
                    com.corrodinggames.rts.game.units.g gVar = new com.corrodinggames.rts.game.units.g(false);
                    gVar.b(com.corrodinggames.rts.game.n.i);
                    gVar.f365a = true;
                    return;
                }
                if (this.u == 100) {
                    l.e("team surrender");
                    if (this.i == null) {
                        l.e("team not found");
                        return;
                    }
                    if (lVarB.bX.C) {
                        lVarB.bX.j("'" + this.i.v + "' has surrendered");
                    }
                    this.i.E = true;
                    Iterator it = com.corrodinggames.rts.game.units.am.bE.iterator();
                    while (it.hasNext()) {
                        com.corrodinggames.rts.game.units.am amVar = (com.corrodinggames.rts.game.units.am) it.next();
                        if (amVar.bX == this.i && (amVar instanceof com.corrodinggames.rts.game.units.y)) {
                            ((com.corrodinggames.rts.game.units.y) amVar).c(false);
                        }
                    }
                    return;
                }
                if (this.u == 200) {
                    l.e("queue quick resync");
                    lVarB.bX.N = true;
                    return;
                }
                if (this.u == 5) {
                    l.e("system command spawn");
                    if (this.j == null || this.j.d() != com.corrodinggames.rts.game.units.av.build || this.j.a() == null) {
                        l.e("system command spawn - failed");
                        return;
                    }
                    int iB = this.j.b();
                    com.corrodinggames.rts.game.units.as asVarA = this.j.a();
                    boolean z = false;
                    if (this.i != null && this.i == lVarB.bs && lVarB.bs.a(false, false) == 0) {
                        z = true;
                    }
                    com.corrodinggames.rts.game.units.am amVarA = asVarA.a();
                    amVarA.eo = this.j.g();
                    amVarA.ep = this.j.h();
                    if (this.i != null) {
                        amVarA.f(this.i);
                    } else {
                        amVarA.f(com.corrodinggames.rts.game.n.i);
                    }
                    amVarA.B(null);
                    if (iB != 1 && (amVarA instanceof com.corrodinggames.rts.game.units.y)) {
                        ((com.corrodinggames.rts.game.units.y) amVarA).a(iB);
                    }
                    amVarA.cP();
                    if (amVarA instanceof com.corrodinggames.rts.game.units.y) {
                        com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) amVarA;
                        yVar.br();
                        if (amVarA.bI()) {
                            lVarB.bU.a(yVar);
                        }
                    }
                    com.corrodinggames.rts.game.n.c(amVarA);
                    if (lVarB.bs == amVarA.bX && amVarA.bX != com.corrodinggames.rts.game.n.i && !amVarA.u() && z) {
                        lVarB.b(amVarA.eo, amVarA.ep);
                        lVarB.bS.j(amVarA);
                        return;
                    }
                    return;
                }
                l.e("issueCommand: unknown system action:" + this.u);
                return;
            }
            l.e("issueCommand: Null System action");
            return;
        }
        if (this.p != null) {
            this.p.Y = System.currentTimeMillis();
            this.p.Z = lVarB.by;
        }
        if (this.p != null) {
            String str2 = null;
            com.corrodinggames.rts.game.units.y yVar2 = null;
            Iterator it2 = this.v.iterator();
            while (it2.hasNext()) {
                com.corrodinggames.rts.game.units.y yVar3 = (com.corrodinggames.rts.game.units.y) it2.next();
                if (yVar3.bX != this.p && !a(this.p, yVar3.bX)) {
                    if (str2 == null) {
                        str = VariableScope.nullOrMissingString;
                    } else {
                        str = str2 + ", ";
                    }
                    if (yVar2 == null) {
                        yVar2 = yVar3;
                    }
                    str2 = str + yVar3.eh;
                    it2.remove();
                } else if (yVar3.cW()) {
                    c.a("Warning unit: " + yVar3.eh + " has canNotBeGivenOrdersByPlayer set");
                    it2.remove();
                }
            }
            if (str2 != null) {
                com.corrodinggames.rts.gameFramework.j.ad.a("Player(" + this.p.k + ") " + this.p.v + " cannot control units: " + str2, true);
                if (yVar2 != null) {
                    String str3 = VariableScope.nullOrMissingString;
                    if (yVar2.bX != null) {
                        str3 = str3 + " targetUnitTeamId: " + yVar2.bX.k + " targetUnitTeamName: " + yVar2.bX.v;
                    }
                    c.a(str3);
                }
            }
        }
        if (this.o) {
            Iterator it3 = this.v.iterator();
            while (it3.hasNext()) {
                com.corrodinggames.rts.game.units.y yVar4 = (com.corrodinggames.rts.game.units.y) it3.next();
                yVar4.az();
                yVar4.R = null;
            }
        }
        if (this.j != null) {
            this.j.c();
            ab abVarB = lVarB.bV.b();
            abVarB.g = this.w;
            int i = 0;
            while (i <= 1) {
                boolean z2 = i == 1;
                Iterator it4 = this.v.iterator();
                while (it4.hasNext()) {
                    com.corrodinggames.rts.game.units.y yVar5 = (com.corrodinggames.rts.game.units.y) it4.next();
                    if (yVar5.ae == z2) {
                        if (this.f) {
                            yVar5.aA();
                        } else if (!this.e) {
                            yVar5.az();
                        } else if (this.h && this.j != null && (auVarAt = yVar5.at()) != null && this.j.a(auVarAt) && (auVarAt.d() == com.corrodinggames.rts.game.units.av.attackMove || auVarAt.d() == com.corrodinggames.rts.game.units.av.move)) {
                            if (this.j.d() == com.corrodinggames.rts.game.units.av.attackMove || this.j.d() == com.corrodinggames.rts.game.units.av.move) {
                                yVar5.au();
                            }
                        }
                    }
                }
                i++;
            }
            Iterator it5 = this.v.iterator();
            while (it5.hasNext()) {
                com.corrodinggames.rts.game.units.y yVar6 = (com.corrodinggames.rts.game.units.y) it5.next();
                if (!yVar6.a(this.j, c.e < 5)) {
                    String str4 = VariableScope.nullOrMissingString;
                    if (this.p != null) {
                        str4 = "Player(" + this.p.k + ") " + this.p.v + ": ";
                    }
                    c.a(str4 + "isValidNewWaypoint==false on: " + yVar6.c());
                } else {
                    com.corrodinggames.rts.game.units.au auVarD = yVar6.d(this.j);
                    abVarB.a(yVar6, auVarD);
                    yVar6.a(auVarD);
                }
            }
            abVarB.b();
            return;
        }
        if (com.corrodinggames.rts.game.units.a.s.c(this.k)) {
            Iterator it6 = this.v.iterator();
            while (it6.hasNext()) {
                com.corrodinggames.rts.game.units.y yVar7 = (com.corrodinggames.rts.game.units.y) it6.next();
                com.corrodinggames.rts.game.units.a.s sVarA = yVar7.a(this.k);
                if (sVarA == null) {
                    c.a("Could not find specialAction:" + this.k.a() + " on " + yVar7.r().i());
                } else if (!sVarA.b(yVar7)) {
                    c.a("!isAvailable specialAction:" + this.k.a() + " on " + yVar7.r().i() + " (action being skipped)");
                    if (c.f462a) {
                        c.a("Command source:" + this.b);
                    }
                } else {
                    yVar7.a(sVarA);
                    com.corrodinggames.rts.gameFramework.f.an.a(yVar7, sVarA);
                    yVar7.a(sVarA, this.g, this.l, this.m);
                }
            }
            com.corrodinggames.rts.game.units.a.j jVarA = com.corrodinggames.rts.game.units.a.j.a(this.k);
            if (jVarA != null) {
                if (lVarB.bs != null && this.i != null) {
                    if (this.i.d(lVarB.bs)) {
                        lVarB.bS.a(this.l.f45a, this.l.b, this.i, jVarA);
                    }
                } else {
                    c.a("PingMapAction failed: game.playerTeam==null or this.team==null");
                }
            }
        }
        if (this.n != null) {
            Iterator it7 = this.v.iterator();
            while (it7.hasNext()) {
                ((com.corrodinggames.rts.game.units.y) it7.next()).P = this.n;
            }
        }
        if (this.z != null) {
            Iterator it8 = this.v.iterator();
            while (it8.hasNext()) {
                Object obj = (com.corrodinggames.rts.game.units.y) it8.next();
                if (obj instanceof com.corrodinggames.rts.game.units.d.l) {
                    ((com.corrodinggames.rts.game.units.d.l) obj).a(this.z);
                }
            }
        }
    }

    public boolean a(com.corrodinggames.rts.game.n nVar, com.corrodinggames.rts.game.n nVar2) {
        if (nVar != null && nVar2 != null && nVar2.d(nVar) && (this.q & (1 << nVar2.k)) != 0) {
            return true;
        }
        return false;
    }

    public boolean l() {
        com.corrodinggames.rts.game.units.as asVarA;
        com.corrodinggames.rts.game.units.am amVarA;
        this.q = (short) 0;
        for (int i = 0; i < com.corrodinggames.rts.game.n.c; i++) {
            com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i);
            if (nVarK != null && nVarK.p()) {
                this.q = (short) (this.q | (1 << i));
            }
        }
        if (l.B().c(true) < 127 && this.j != null && this.j.d() == com.corrodinggames.rts.game.units.av.build && (asVarA = this.j.a()) != null && (amVarA = com.corrodinggames.rts.game.units.am.a(asVarA)) != null && !(amVarA instanceof com.corrodinggames.rts.game.units.y)) {
            l.e("Rejecting non OrderableUnit build order: " + asVarA.i());
            return false;
        }
        if (this.j != null && this.j.n) {
            l.e("Rejecting waypoint with addedByAction true");
            return false;
        }
        return true;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/ay.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/ay.class */
public abstract class ay extends az {
    public int es;
    public int et;
    public float eu;
    public float ev;
    public boolean ew;

    public void b(com.corrodinggames.rts.gameFramework.m.e eVar) {
        T(eVar.p);
        U(eVar.q);
        this.ew = true;
    }

    public void a(com.corrodinggames.rts.gameFramework.m.e eVar, int i) {
        T(eVar.p / i);
        U(eVar.q);
        this.ew = false;
    }

    public void T(int i) {
        this.es = i;
        this.eu = i / 2;
    }

    public void U(int i) {
        this.et = i;
        this.ev = i / 2;
    }

    public void V(int i) {
        this.es = i;
        this.eu = i / 2.0f;
    }

    public void W(int i) {
        this.et = i;
        this.ev = i / 2.0f;
    }

    protected ay(boolean z) {
        super(z);
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void a() {
        super.a();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/bj.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bj.class */
public enum bj {
    income(com.corrodinggames.rts.gameFramework.g.f.income),
    armyValue(com.corrodinggames.rts.gameFramework.g.f.armyValue),
    buildingValue(com.corrodinggames.rts.gameFramework.g.f.buildingValue),
    totalValue(com.corrodinggames.rts.gameFramework.g.f.totalValue);

    final com.corrodinggames.rts.gameFramework.g.f e;

    bj(com.corrodinggames.rts.gameFramework.g.f fVar) {
        this.e = fVar;
    }

    public com.corrodinggames.rts.gameFramework.g.f a() {
        return this.e;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/i.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.lang.Thread;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/i.class */
public class i implements Thread.UncaughtExceptionHandler {

    /* renamed from: a, reason: collision with root package name */
    private Thread.UncaughtExceptionHandler f544a;

    i(Thread.UncaughtExceptionHandler uncaughtExceptionHandler) {
        this.f544a = uncaughtExceptionHandler;
    }

    @Override // java.lang.Thread.UncaughtExceptionHandler
    public synchronized void uncaughtException(Thread thread, Throwable th) {
        l lVarB = null;
        try {
            try {
                l.dQ = null;
                l.dR = null;
                l.dP = null;
                System.gc();
                try {
                    l.e("uncaughtException start");
                    lVarB = l.B();
                    if (lVarB != null && (th instanceof OutOfMemoryError)) {
                        l.e("Freeing memory");
                        try {
                            com.corrodinggames.rts.game.b.b.al = null;
                            if (lVarB.bL != null) {
                                lVarB.bL = null;
                            }
                            if (lVarB.bN != null) {
                                lVarB.bN.i();
                                lVarB.bN = null;
                            }
                            System.gc();
                            l.e("uncaughtException: Memory freed");
                        } catch (Throwable th2) {
                            l.e("exception freeing memory");
                            th2.printStackTrace();
                        }
                    }
                    l.a("gameEngine:uncaughtExceptionHandler", th);
                    String strA = l.a(th);
                    boolean z = false;
                    boolean z2 = false;
                    if (lVarB != null) {
                        SettingsEngine settingsEngine = lVarB.bQ;
                        if (settingsEngine != null) {
                            z = settingsEngine.sendReports;
                        } else {
                            l.e("CustomExceptionHandler: no settings");
                        }
                    } else {
                        l.e("CustomExceptionHandler: no game");
                    }
                    if (l.dO) {
                        l.e("CustomExceptionHandler: a crash was already sent");
                        z = false;
                        z2 = true;
                    }
                    l.dO = true;
                    if (z) {
                        try {
                            l.e("Starting errorReport");
                            com.corrodinggames.rts.gameFramework.j.n.a("uncaughtException", strA);
                            l.e("waiting");
                            Thread.sleep(800L);
                        } catch (InterruptedException e) {
                            e.printStackTrace();
                        }
                    }
                    if (!z2 && lVarB != null && lVarB.dH != null) {
                        lVarB.dH.a(th);
                    }
                    l.e("fatal", strA);
                } catch (Exception e2) {
                    l.e("exception sending crash");
                    e2.printStackTrace();
                }
                if (lVarB != null) {
                    if (lVarB.dH != null && lVarB.dH.a()) {
                        l.e("gameCrashesDontExit=true");
                        if (1 == 0) {
                            l.e("Crash was not handled, exiting");
                            Runtime.getRuntime().halt(1);
                            return;
                        }
                        return;
                    }
                    if (lVarB.bX != null && lVarB.bX.B) {
                        l.e("Sending disconnect");
                        lVarB.bX.c("Game crash");
                    }
                }
                if (!l.az) {
                    if (this.f544a != null) {
                        l.e("CustomExceptionHandler: sending to: defaultUEH.uncaughtException");
                        this.f544a.uncaughtException(thread, th);
                        l.e("CustomExceptionHandler: back from: defaultUEH.uncaughtException");
                    } else {
                        l.e("CustomExceptionHandler: defaultUEH==null");
                        System.exit(2);
                    }
                }
                l.av = th;
                if (1 == 0) {
                    l.e("Crash was not handled, exiting");
                    Runtime.getRuntime().halt(1);
                }
            } catch (Throwable th3) {
                l.e("Exception in uncaughtException");
                th3.printStackTrace();
                if (0 == 0) {
                    l.e("Crash was not handled, exiting");
                    Runtime.getRuntime().halt(1);
                }
            }
        } catch (Throwable th4) {
            if (0 == 0) {
                l.e("Crash was not handled, exiting");
                Runtime.getRuntime().halt(1);
            }
            throw th4;
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/au.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/au.class */
class au extends Thread {

    /* renamed from: a, reason: collision with root package name */
    final /* synthetic */ am f412a;

    au(am amVar) {
        this.f412a = amVar;
    }

    @Override // java.lang.Thread, java.lang.Runnable
    public void run() {
        float f;
        while (true) {
            synchronized (this.f412a.c) {
                this.f412a.g = true;
                if (!this.f412a.f) {
                    try {
                        this.f412a.c.wait(am.f403a.e());
                    } catch (InterruptedException e) {
                    }
                }
                this.f412a.f = false;
                f = this.f412a.d;
            }
            synchronized (this.f412a.b) {
                if (!this.f412a.b(f)) {
                    return;
                }
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/ac.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.Locale;
import java.util.Properties;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/ac.class */
public class ac {

    /* renamed from: a, reason: collision with root package name */
    public static aj f400a = new al();
    public static ai b = new ai();
    public ad c;
    public ad d;
    public ad e;
    public ad f;
    public ad g;
    public ad h;
    public ad i;
    public ad j;
    public ad k;
    public ad l = a("Debug Left");
    public ad m = a("Debug Right");
    public ad n = b("Camera Up");
    public ad o = b("Camera Down");
    public ad p = b("Camera Left");
    public ad q = b("Camera Right");
    public ad r = b("Zoom In");
    public ad s = b("Zoom Out");
    public ad t = b("Send Chat");
    public ad u = b("Send Team Chat");
    public ad v = b("Ping Map");
    public ad w = b("Show Menu");
    public ad x = b("Save Game");
    public ad y = b("Deselect units");
    public ad z = b("Go to notification");
    public ad A = b("Select Whole Army");
    public ad B = b("Select Command Center");
    public ad C = b("Cycle Builders");
    public ad D = b("Cycle Extractors");
    public ad E = b("Cycle Upgradable Fabricators");
    public ad F = b("Cycle Land Factories");
    public ad G = b("Cycle Air Factories");
    public ad H = b("Next Music Track");
    public ae I = c("Game Speed (Single player)");
    public ad J = b("Slower");
    public ad K = b("Faster");
    public ad L = b("Pause Game");
    public ae M = c("Unit Actions");
    public ad N = b("Attack Move");
    public ad O = b("Stop");
    public ad P = b("Guard Unit");
    public ad Q = b("Patrol");
    public ad R = b("Reclaim");
    public ad S = b("Action - Upgrade");
    public ad T = b("Action - Set Rally");
    public ad U = a("Debug Editor");
    public ad V = a("Debug Pause");
    public ad W = a("Debug Slow");
    public ad X = a("Debug HideInterface");
    public ad Y = a("Debug HideInterface Temp");
    public ad Z = a("Debug InvincibleUnits");
    public ad aa = a("debugPrintSelectedUnit");
    public ad ab = a("debugDevModeSwitch");
    public ad ac = a("debugAIViewSwitch");
    public ad ad = a("debugMapSwitch");
    public ad ae = a("Debug Take Screenshot");
    public ad af = a("Debug Take Screenshot High");
    public ad[] ag;
    public ae ah;
    public ad[] ai;
    public ad[] aj;
    public ad[] ak;
    public ArrayList al;
    Properties am;
    int an;
    int ao;

    public ac() {
        this.n.a("UP").a("NUMPAD8");
        this.o.a("DOWN").a("NUMPAD2");
        this.p.a("LEFT").a("NUMPAD4");
        this.q.a("RIGHT").a("NUMPAD6");
        this.l.a("F5");
        this.m.a("F6");
        this.x.a("CTRL+S");
        this.t.a("ENTER").a("T");
        this.u.a("SHIFT+ENTER").a("Y");
        this.v.a("CTRL+M").a("CTRL+P");
        this.w.a("ESCAPE").a("F10");
        this.y.a("SPACE");
        this.z.a("CTRL+SPACE");
        this.A.a("CTRL+A");
        this.C.a("CTRL+B");
        this.D.a("CTRL+E");
        this.E.a("CTRL+F");
        this.F.a("CTRL+L");
        this.G.a("CTRL+K");
        this.B.a("CTRL+C");
        this.H.a("CTRL+N");
        this.N.a("A");
        this.L.a("BREAK");
        this.O.a("S");
        this.P.a("G");
        this.Q.a("P");
        this.S.a("U");
        this.T.a("R");
        this.U.a("CTRL+SHIFT+E");
        this.V.a("CTRL+SHIFT+P");
        this.W.a("CTRL+SHIFT+S");
        this.X.a("CTRL+SHIFT+H");
        this.Y.a("CTRL+H");
        this.Z.a("CTRL+SHIFT+I");
        this.aa.a("CTRL+SHIFT+L");
        this.ab.a("CTRL+SHIFT+D");
        this.ac.a("SHIFT+F3");
        this.ad.a("SHIFT+F4");
        this.ae.a("CTRL+SHIFT+ALT+S");
        this.af.a("CTRL+SHIFT+ALT+D");
        this.J.a("minus").a("NUMPADSUBTRACT");
        this.K.a("equals").a("NUMPADADD");
        int[] iArr = {54, 52, 31, 50, 30, 42, 41, 38, 39, 40, 37, 43};
        this.ag = new ad[10];
        for (int i = 0; i < this.ag.length; i++) {
            this.ag[i] = b("unit action " + (i + 1));
            this.ag[i].c(iArr[i]);
        }
        this.ah = c("Unit Groups");
        this.ak = new ad[10];
        int i2 = 0;
        while (i2 < this.ak.length) {
            this.ak[i2] = b("create group " + (i2 + 1));
            this.ak[i2].a(a(i2 == 9 ? 0 : i2 + 1), 0, 1, false);
            i2++;
        }
        this.ai = new ad[10];
        int i3 = 0;
        while (i3 < this.ai.length) {
            this.ai[i3] = b("select group " + (i3 + 1));
            this.ai[i3].c(a(i3 == 9 ? 0 : i3 + 1));
            i3++;
        }
        this.aj = new ad[10];
        int i4 = 0;
        while (i4 < this.aj.length) {
            this.aj[i4] = b("Add group to selection " + (i4 + 1));
            this.aj[i4].a(a(i4 == 9 ? 0 : i4 + 1), 0, 2, false);
            i4++;
        }
        this.am = new Properties();
        this.an = 0;
        this.ao = 0;
    }

    public int a(int i) {
        if (i >= 10) {
            throw new RuntimeException("number:" + i + " too high");
        }
        if (i == 0) {
            return 7;
        }
        return 8 + (i - 1);
    }

    public ad a(String str) {
        if (this.al == null) {
            this.al = new ArrayList();
        }
        ad adVar = new ad();
        adVar.f401a = str;
        adVar.b = false;
        this.al.add(adVar);
        return adVar;
    }

    public ad b(String str) {
        if (this.al == null) {
            this.al = new ArrayList();
        }
        ad adVar = new ad();
        adVar.f401a = str;
        adVar.b = true;
        this.al.add(adVar);
        return adVar;
    }

    public ae c(String str) {
        if (this.al == null) {
            this.al = new ArrayList();
        }
        ae aeVar = new ae();
        aeVar.f401a = str;
        aeVar.b = true;
        this.al.add(aeVar);
        return aeVar;
    }

    public void a(String str, String str2) {
        String strTrim = str.toLowerCase(Locale.ENGLISH).trim();
        ad adVar = null;
        Iterator it = this.al.iterator();
        while (it.hasNext()) {
            ad adVar2 = (ad) it.next();
            if (adVar2.f401a != null && adVar2.e().equals(strTrim)) {
                adVar = adVar2;
            }
        }
        if (adVar == null) {
            l.b("loadKey: could not find:" + strTrim);
            return;
        }
        String[] strArrSplit = str2.split(",");
        for (int i = 0; i <= 1 && i < strArrSplit.length; i++) {
            String str3 = strArrSplit[i];
            if (!str3.equalsIgnoreCase("DEFAULT")) {
                adVar.a(str3, i);
                if (adVar.c.size() > i && adVar.c.get(i) != null) {
                    ((af) adVar.c.get(i)).d = true;
                } else {
                    l.g("out of range");
                }
            }
        }
    }

    public String a(ad adVar) {
        String str = VariableScope.nullOrMissingString;
        boolean z = true;
        Iterator it = adVar.c.iterator();
        while (it.hasNext()) {
            af afVar = (af) it.next();
            if (z) {
                z = false;
            } else {
                str = str + ",";
            }
            if (afVar.d) {
                if (afVar.d()) {
                    str = str + "CLEARED";
                } else {
                    str = str + afVar.c();
                }
            } else {
                str = str + "DEFAULT";
            }
        }
        return str;
    }

    public boolean a(ad adVar, int i) {
        l lVarB = l.B();
        af afVarA = adVar.a(i);
        if (afVarA == null) {
            return false;
        }
        ArrayList arrayList = lVarB.bT.al;
        for (int i2 = 0; i2 < arrayList.size(); i2++) {
            ad adVar2 = (ad) arrayList.get(i2);
            if (adVar2 != adVar) {
                Iterator it = adVar2.c.iterator();
                while (it.hasNext()) {
                    if (afVarA.a((af) it.next())) {
                        return true;
                    }
                }
            }
        }
        return false;
    }

    public void a() {
        this.c = a("shoot");
        this.d = a("move up");
        this.e = a("move down");
        this.f = a("move left");
        this.g = a("move right");
        this.h = a("aim up");
        this.i = a("aim down");
        this.j = a("aim left");
        this.k = a("aim right");
        this.c.a(0, "enter", -1);
        this.c.a(0, "space", -1);
        this.d.a(0, "w", -1);
        this.e.a(0, "s", -1);
        this.f.a(0, "a", -1);
        this.g.a(0, "d", -1);
        this.h.a(0, "UP", -1);
        this.i.a(0, "DOWN", -1);
        this.j.a(0, "LEFT", -1);
        this.k.a(0, "RIGHT", -1);
        l.e("getControllerCount:" + b.a());
        this.d.b(0, 1, 0, true);
        this.e.b(0, 1, 0, false);
        this.f.b(0, 1, 1, true);
        this.g.b(0, 1, 1, false);
        this.h.b(0, 1, 2, true);
        this.i.b(0, 1, 2, false);
        this.j.b(0, 1, 3, true);
        this.k.b(0, 1, 3, false);
        this.c.b(0, 1, 4, true);
    }

    public void b() {
        if (b.a() != this.ao) {
            this.ao = b.a();
            l.e("Number of controllers changed, now:" + this.ao);
        }
    }

    public static int d(String str) {
        if (str.equalsIgnoreCase("CLEARED")) {
            return 0;
        }
        return SlickToAndroidKeycodes.a(str);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/bi.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bi.class */
public class bi extends ArrayList {
    public int a(int i) {
        if (isEmpty()) {
            return 0;
        }
        int i2 = ((bh) get(0)).b;
        Iterator it = iterator();
        while (it.hasNext()) {
            bh bhVar = (bh) it.next();
            if (bhVar.f452a > i) {
                return i2;
            }
            i2 = bhVar.b;
        }
        return i2;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.io.File;
import java.util.Enumeration;
import java.util.concurrent.ConcurrentHashMap;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j.class */
public class j {

    /* renamed from: a, reason: collision with root package name */
    static ConcurrentHashMap f548a = new ConcurrentHashMap();
    static k b;

    public static long a(String str, boolean z) {
        Long l = (Long) f548a.get(str);
        if (l != null) {
            return l.longValue();
        }
        Long lValueOf = Long.valueOf(a(str));
        if (!z) {
            f548a.put(str, lValueOf);
            if (b == null) {
            }
        }
        return lValueOf.longValue();
    }

    private static long a(String str) {
        return new File(str).lastModified();
    }

    public static synchronized void a() {
        a(l.B().bQ.liveReloading);
    }

    public static synchronized void a(boolean z) {
        if (!l.av()) {
            return;
        }
        if (z) {
            if (b != null) {
                l.e("FileChangeEngine: Already running");
                return;
            }
            l.e("FileChangeEngine: Starting");
            b = new k();
            b.start();
            return;
        }
        if (b != null) {
            b.f602a = false;
            b = null;
        }
    }

    public static void b() {
        int i = 0;
        Enumeration enumerationKeys = f548a.keys();
        while (enumerationKeys.hasMoreElements()) {
            String str = (String) enumerationKeys.nextElement();
            long jA = a(str);
            Long l = (Long) f548a.get(str);
            if (l == null) {
                l.e("FileChangeEngine: old lastModified null for " + str);
            } else if (l.longValue() != jA) {
                l.e("FileChangeEngine: Detected change to:" + str + " now " + jA);
            }
            f548a.put(str, Long.valueOf(jA));
            i++;
            if (i > 50) {
                i = 0;
                try {
                    Thread.sleep(2L);
                } catch (InterruptedException e) {
                }
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/av.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/av.class */
public class av extends aq {

    /* renamed from: a, reason: collision with root package name */
    boolean f413a = false;

    @Override // com.corrodinggames.rts.gameFramework.aq
    public ar a(String str) {
        return new aw(str, this);
    }

    @Override // com.corrodinggames.rts.gameFramework.aq
    public as a() {
        return new ax(this);
    }

    @Override // com.corrodinggames.rts.gameFramework.aq
    public void a(am amVar) {
        l.e("Null musicFactory - load");
        this.e = amVar;
    }

    @Override // com.corrodinggames.rts.gameFramework.aq
    public void b() {
    }
}


================================================================================
// FILE_PATH: ./gameFramework/s.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/s.class */
public enum s {
    menu,
    normal,
    normalSave
}


================================================================================
// FILE_PATH: ./gameFramework/ao.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/ao.class */
public class ao extends ar {

    /* renamed from: a, reason: collision with root package name */
    an f407a;

    public ao(String str, an anVar) {
        super(str, anVar);
        this.f407a = anVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/bp.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bp.class */
enum bp {
    original,
    v220911_added_history
}


================================================================================
// FILE_PATH: ./gameFramework/be.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import android.content.Context;
import android.os.Environment;
import android.util.Log;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.HashMap;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/be.class */
public class be {
    static be e = null;

    /* renamed from: a, reason: collision with root package name */
    public boolean f449a = false;
    String b = "rtsSave";
    String c = "rtsSave.bak";
    public boolean d = false;
    HashMap f = new HashMap();

    public void a(Context context) throws IOException {
        if (l.aU || this.f449a) {
            return;
        }
        try {
        } catch (FileNotFoundException e2) {
            Log.b("RustedWarfare", "file save error:", e2);
        } catch (IOException e3) {
            Log.b("RustedWarfare", "file save error:", e3);
        }
        if (context == null) {
            throw new IOException("context==null");
        }
        try {
            FileOutputStream fileOutputStreamB = context.b(this.b, 0);
            DataOutputStream dataOutputStream = new DataOutputStream(fileOutputStreamB);
            a(dataOutputStream);
            dataOutputStream.close();
            fileOutputStreamB.close();
            if (this.d) {
                try {
                    FileOutputStream fileOutputStream = new FileOutputStream(new File(Environment.getExternalStorageDirectory() + "/" + this.c));
                    DataOutputStream dataOutputStream2 = new DataOutputStream(fileOutputStream);
                    a(dataOutputStream2);
                    dataOutputStream2.close();
                    fileOutputStream.close();
                } catch (IOException e4) {
                    Log.b("RustedWarfare", "file read error:", e4);
                }
            }
        } catch (NullPointerException e5) {
            throw new IOException("openFileOutput NullPointerException", e5);
        }
    }

    public boolean a(DataOutputStream dataOutputStream) throws IOException {
        if (l.aU) {
            return false;
        }
        try {
            dataOutputStream.writeInt(1);
            dataOutputStream.writeInt(0);
            dataOutputStream.writeInt(this.f.size());
            for (bf bfVar : this.f.values()) {
                dataOutputStream.writeInt(0);
                dataOutputStream.writeInt(bfVar.f450a);
                dataOutputStream.writeUTF(bfVar.b);
                dataOutputStream.writeInt(bfVar.c);
                dataOutputStream.writeBoolean(bfVar.d);
                dataOutputStream.writeBoolean(bfVar.e);
                dataOutputStream.writeBoolean(bfVar.f);
                dataOutputStream.writeLong(bfVar.g);
                dataOutputStream.writeInt(bfVar.h);
            }
            dataOutputStream.flush();
            return true;
        } catch (IOException e2) {
            Log.b("RustedWarfare", "file save error:", e2);
            return false;
        }
    }

    public void b(Context context) throws IOException {
        if (this.f449a) {
            return;
        }
        boolean zA = false;
        Log.d("RustedWarfare", "Trying to load from internal memory");
        try {
            FileInputStream fileInputStreamA = context.a(this.b);
            zA = a(new DataInputStream(fileInputStreamA));
            if (zA) {
                Log.d("RustedWarfare", "loaded from internal memory");
            }
            fileInputStreamA.close();
        } catch (IOException e2) {
            Log.b("RustedWarfare", "file read error:", e2);
        }
        if (this.d && !zA) {
            Log.d("RustedWarfare", "Trying to load from SD");
            try {
                FileInputStream fileInputStream = new FileInputStream(new File(Environment.getExternalStorageDirectory() + "/" + this.c));
                DataInputStream dataInputStream = new DataInputStream(fileInputStream);
                if (a(dataInputStream)) {
                    Log.d("RustedWarfare", "loaded from SD");
                }
                dataInputStream.close();
                fileInputStream.close();
            } catch (IOException e3) {
                Log.b("RustedWarfare", "file read error:", e3);
            }
        }
    }

    public boolean a(DataInputStream dataInputStream) throws IOException {
        try {
            int i = dataInputStream.readInt();
            if (i > 1) {
                Log.d("RustedWarfare", "Warning file is at version:" + i);
                return false;
            }
            dataInputStream.readInt();
            int i2 = dataInputStream.readInt();
            this.f.clear();
            for (int i3 = 0; i3 < i2; i3++) {
                bf bfVar = new bf(this);
                dataInputStream.readInt();
                bfVar.f450a = dataInputStream.readInt();
                String utf = dataInputStream.readUTF();
                if (utf.equals("maps/challenge/l030;Level 5.tmx")) {
                    Log.d("RustedWarfare", "converting:" + utf);
                    utf = "maps/challenge/l090;Level 7.tmx";
                }
                bfVar.b = utf;
                bfVar.c = dataInputStream.readInt();
                bfVar.d = dataInputStream.readBoolean();
                bfVar.e = dataInputStream.readBoolean();
                bfVar.f = dataInputStream.readBoolean();
                bfVar.g = dataInputStream.readLong();
                bfVar.h = dataInputStream.readInt();
                this.f.put(a(bfVar.b), bfVar);
            }
            return true;
        } catch (IOException e2) {
            Log.b("RustedWarfare", "file read error:", e2);
            return false;
        }
    }

    public static be c(Context context) throws IOException {
        if (e == null) {
            e = new be(context);
            if (!l.aU) {
                e.b(context);
            }
        }
        return e;
    }

    private be(Context context) {
    }

    public String a(String str) {
        Integer numL = l.l(str);
        if (numL != null) {
            return l.j(str) + "/l" + numL;
        }
        return str;
    }

    public bf b(String str) {
        String strA = a(str);
        bf bfVar = (bf) this.f.get(strA);
        Log.d("RustedWarfare", "StateEngine: get(" + str + ")=" + bfVar + "  (key=" + strA + ")");
        if (bfVar == null) {
            bfVar = new bf(this);
            bfVar.f450a = 1;
            bfVar.b = str;
            this.f.put(strA, bfVar);
        }
        return bfVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/az.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.io.IOException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/az.class */
public abstract class az extends w {
    public int ex;

    protected az(boolean z) {
        super(z);
        this.ex = 0;
    }

    @Override // com.corrodinggames.rts.gameFramework.w, com.corrodinggames.rts.gameFramework.bq
    public void a(com.corrodinggames.rts.gameFramework.j.as asVar) throws IOException {
        asVar.d("xy is:");
        asVar.a(this.eo);
        asVar.a(this.ep);
        asVar.a(this.eq);
        asVar.a(this.ex);
        super.a(asVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        this.eo = kVar.g();
        this.ep = kVar.g();
        this.eq = kVar.g();
        this.ex = kVar.f();
        super.a(kVar);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/g.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.util.Locale;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/g.class */
public final class g {

    /* renamed from: a, reason: collision with root package name */
    protected static h f533a;

    public static h a() {
        if (f533a == null) {
            String lowerCase = System.getProperty("os.name", "generic").toLowerCase(Locale.ENGLISH);
            if (lowerCase.indexOf("mac") >= 0 || lowerCase.indexOf("darwin") >= 0) {
                f533a = h.MacOS;
            } else if (lowerCase.indexOf("win") >= 0) {
                f533a = h.Windows;
            } else if (lowerCase.indexOf("nux") >= 0) {
                f533a = h.Linux;
            } else {
                f533a = h.Other;
            }
        }
        return f533a;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/bd.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bd.class */
public class bd {

    /* renamed from: a, reason: collision with root package name */
    int f448a;
    boolean b;
    Long c;
    byte[] d;
    e e;
    byte[] f;
    bc g;
    public int h;
    public int i;
    public float j;
    public float k;
}


================================================================================
// FILE_PATH: ./gameFramework/bq.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bq.class */
public abstract class bq {
    public abstract void a(com.corrodinggames.rts.gameFramework.j.as asVar);
}


================================================================================
// FILE_PATH: ./gameFramework/an.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import android.media.MediaPlayer;
import java.util.ArrayList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/an.class */
public class an extends aq {

    /* renamed from: a, reason: collision with root package name */
    ArrayList f406a = new ArrayList();
    ArrayList b = new ArrayList();
    ArrayList c = new ArrayList();
    boolean d = false;

    @Override // com.corrodinggames.rts.gameFramework.aq
    public ar a(String str) {
        return new ao(str, this);
    }

    @Override // com.corrodinggames.rts.gameFramework.aq
    public as a() {
        return new ap(this);
    }

    @Override // com.corrodinggames.rts.gameFramework.aq
    public void a(am amVar) {
        this.e = amVar;
        if (this.d) {
            l.e("AndroidMusicFactory already loaded");
        }
        l.e("AndroidMusicFactory - load");
        this.d = true;
        this.f406a.add(new MediaPlayer());
        this.f406a.add(new MediaPlayer());
        this.b.addAll(this.f406a);
    }

    @Override // com.corrodinggames.rts.gameFramework.aq
    public void b() {
    }
}


================================================================================
// FILE_PATH: ./gameFramework/r.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/r.class */
class r extends p {
    public int c;
    public boolean d;
}


================================================================================
// FILE_PATH: ./gameFramework/aw.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/aw.class */
public class aw extends ar {

    /* renamed from: a, reason: collision with root package name */
    av f414a;

    public aw(String str, av avVar) {
        super(str, avVar);
        this.f414a = avVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k.class */
class k extends Thread {

    /* renamed from: a, reason: collision with root package name */
    boolean f602a = true;

    k() {
    }

    @Override // java.lang.Thread, java.lang.Runnable
    public void run() throws InterruptedException {
        while (this.f602a) {
            try {
                Thread.sleep(1000L);
            } catch (InterruptedException e) {
            }
            j.b();
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/bh.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bh.class */
public class bh {

    /* renamed from: a, reason: collision with root package name */
    public final int f452a;
    public final int b;

    public bh(int i, int i2) {
        this.f452a = i;
        this.b = i2;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/ab.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/ab.class */
public class ab {

    /* renamed from: a, reason: collision with root package name */
    com.corrodinggames.rts.gameFramework.utility.m f399a = new com.corrodinggames.rts.gameFramework.utility.m();
    boolean b;
    float c;
    float d;
    int e;
    boolean f;
    public com.corrodinggames.rts.gameFramework.utility.m g;
    final /* synthetic */ aa h;

    public ab(aa aaVar) {
        this.h = aaVar;
    }

    public void a(com.corrodinggames.rts.game.units.y yVar, com.corrodinggames.rts.game.units.au auVar) {
        auVar.i = this;
        this.f = auVar.j;
    }

    public void a(com.corrodinggames.rts.game.units.au auVar) {
        com.corrodinggames.rts.game.units.au auVarAr;
        Iterator it = this.f399a.iterator();
        while (it.hasNext()) {
            com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) it.next();
            if (!yVar.bV && (auVarAr = yVar.ar()) != null && auVarAr.b(auVar)) {
                yVar.ay();
            }
        }
    }

    public void a() {
        com.corrodinggames.rts.game.units.au auVarAr;
        this.f399a.clear();
        com.corrodinggames.rts.game.units.am[] amVarArrA = com.corrodinggames.rts.game.units.am.bE.a();
        int size = com.corrodinggames.rts.game.units.am.bE.size();
        for (int i = 0; i < size; i++) {
            com.corrodinggames.rts.game.units.am amVar = amVarArrA[i];
            if (amVar instanceof com.corrodinggames.rts.game.units.y) {
                com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) amVar;
                if (yVar.I() && (auVarAr = yVar.ar()) != null && auVarAr.i == this && yVar.bg()) {
                    this.f399a.add(yVar);
                    this.c = auVarAr.g();
                    this.d = auVarAr.h();
                }
            }
        }
    }

    public void a(com.corrodinggames.rts.game.units.y yVar) {
        yVar.ac = this.e;
        com.corrodinggames.rts.game.units.au auVarAr = yVar.ar();
        if (auVarAr != null) {
            auVarAr.i = this;
        }
    }

    public void b() {
        br.a();
        c();
    }

    public com.corrodinggames.rts.game.units.y a(com.corrodinggames.rts.gameFramework.utility.m mVar, float f, float f2, boolean z) {
        float f3 = -1.0f;
        com.corrodinggames.rts.game.units.y yVar = null;
        Iterator it = mVar.iterator();
        while (it.hasNext()) {
            com.corrodinggames.rts.game.units.y yVar2 = (com.corrodinggames.rts.game.units.y) it.next();
            if (z || (yVar2.ad == null && !yVar2.ae)) {
                float fB = f.b(f, f2, yVar2.eo, yVar2.ep);
                if (yVar2.af) {
                    fB -= 160.0f;
                }
                if (f3 == -1.0f || fB < f3) {
                    f3 = fB;
                    yVar = yVar2;
                }
            }
        }
        return yVar;
    }

    public com.corrodinggames.rts.gameFramework.utility.m a(float f, float f2, boolean z) {
        com.corrodinggames.rts.gameFramework.utility.m mVar = new com.corrodinggames.rts.gameFramework.utility.m(1);
        com.corrodinggames.rts.gameFramework.utility.m mVar2 = new com.corrodinggames.rts.gameFramework.utility.m();
        mVar2.clear();
        mVar2.addAll(this.f399a);
        while (true) {
            com.corrodinggames.rts.game.units.y yVarA = a(mVar2, f, f2, true);
            if (yVarA != null) {
                mVar.add(yVarA);
                mVar2.remove(yVarA);
                mVar2.removeAll(a(mVar2, yVarA, true, z));
            } else {
                return mVar;
            }
        }
    }

    public com.corrodinggames.rts.gameFramework.utility.m a(com.corrodinggames.rts.gameFramework.utility.m mVar, com.corrodinggames.rts.game.units.y yVar, boolean z, boolean z2) {
        com.corrodinggames.rts.gameFramework.utility.m mVar2 = new com.corrodinggames.rts.gameFramework.utility.m(1);
        mVar2.clear();
        int i = 0;
        Object[] objArrA = mVar.a();
        int size = mVar.size();
        for (int i2 = 0; i2 < size; i2++) {
            ((com.corrodinggames.rts.game.units.y) objArrA[i2]).ap = false;
        }
        for (int i3 = 0; i3 <= 2; i3++) {
            int size2 = mVar.size();
            for (int i4 = 0; i4 < size2; i4++) {
                com.corrodinggames.rts.game.units.y yVar2 = (com.corrodinggames.rts.game.units.y) objArrA[i4];
                if (!yVar2.ap && yVar2 != yVar && ((z || (yVar2.ad == null && !yVar2.ae)) && yVar2.h() == yVar.h())) {
                    float fA = f.a(yVar2.eo, yVar2.ep, yVar.eo, yVar.ep);
                    if ((i3 != 0 || fA <= 3600.0f) && ((i3 != 1 || fA <= 14400.0f) && (((z2 && fA < 160000.0f) || (fA < 40000.0f && i < 25)) && (z2 || f.c(yVar2.z() - yVar.z()) < 0.4f)))) {
                        yVar2.ap = true;
                        mVar2.add(yVar2);
                        i++;
                    }
                }
            }
        }
        return mVar2;
    }

    public void c() {
        l lVarB = l.B();
        br.a();
        a();
        this.h.b.a(0.0f, 0.0f);
        Iterator it = this.f399a.iterator();
        while (it.hasNext()) {
            com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) it.next();
            this.h.b.b(yVar.eo, yVar.ep);
        }
        this.h.b.a(this.h.b.f45a / this.f399a.size(), this.h.b.b / this.f399a.size());
        float fD = f.d(this.h.b.f45a, this.h.b.b, this.c, this.d);
        Iterator it2 = this.f399a.iterator();
        while (it2.hasNext()) {
            com.corrodinggames.rts.game.units.y yVar2 = (com.corrodinggames.rts.game.units.y) it2.next();
            if (yVar2.ah > 1) {
                yVar2.af = yVar2.ae;
            } else {
                yVar2.af = false;
            }
            if (yVar2.af && yVar2.ah > 7 && f.c(f.c(yVar2.am, fD, 360.0f)) > 80.0f) {
                yVar2.af = false;
            }
            yVar2.aB();
            yVar2.ah = (short) 0;
            yVar2.an = lVarB.by;
            yVar2.ac = this.e;
        }
        int i = 0;
        while (true) {
            br.a();
            com.corrodinggames.rts.game.units.y yVarA = a(this.f399a, this.c, this.d, false);
            if (yVarA == null) {
                return;
            }
            yVarA.ae = true;
            ab abVarB = null;
            if (i > 0) {
                abVarB = this.h.b();
            }
            if (abVarB != null) {
                abVarB.g = this.g;
                abVarB.a(yVarA);
            }
            int i2 = 0;
            float f = 0.0f;
            Iterator it3 = a(this.f399a, yVarA, false, this.f).iterator();
            while (it3.hasNext()) {
                com.corrodinggames.rts.game.units.y yVar3 = (com.corrodinggames.rts.game.units.y) it3.next();
                if (yVar3.cj > f) {
                    f = yVar3.cj;
                }
                yVar3.a(yVarA);
                if (abVarB != null) {
                    abVarB.a(yVar3);
                }
                i2++;
            }
            if (yVarA != null) {
                yVarA.ah = (short) (i2 + 1);
            }
            com.corrodinggames.rts.gameFramework.utility.m mVar = new com.corrodinggames.rts.gameFramework.utility.m();
            Object[] objArrA = this.f399a.a();
            int size = this.f399a.size();
            for (int i3 = 0; i3 < size; i3++) {
                com.corrodinggames.rts.game.units.y yVar4 = (com.corrodinggames.rts.game.units.y) objArrA[i3];
                if (yVar4.ad == yVarA) {
                    mVar.add(yVar4);
                }
            }
            com.corrodinggames.rts.gameFramework.utility.m mVarA = this.h.a(i2, f, fD);
            br.a();
            this.h.a(mVar, yVarA, mVarA, fD, i2);
            br.a();
            this.h.a(mVar, yVarA);
            i++;
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/u.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/u.class */
public enum u {
    gameImage,
    gameImageCreate,
    gameImageColor,
    gameImageFogBuffer,
    gameFont,
    gameSound,
    uiImage
}


================================================================================
// FILE_PATH: ./gameFramework/ai.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/ai.class */
public class ai {
    public boolean a(int i, int i2, boolean z) {
        l lVarB = l.B();
        if (!lVarB.a(i2, z)) {
            return false;
        }
        return lVarB.h(i);
    }

    public boolean a(int i, int i2) {
        return false;
    }

    public int a() {
        return 0;
    }

    public float b(int i, int i2) {
        return 0.0f;
    }

    public String c(int i, int i2) {
        return "<abstract>";
    }
}


================================================================================
// FILE_PATH: ./gameFramework/bc.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bc.class */
public class bc {

    /* renamed from: a, reason: collision with root package name */
    int f447a;
    String b;
    String c;
}


================================================================================
// FILE_PATH: ./gameFramework/y.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.EOFException;
import java.io.File;
import java.io.IOException;
import java.io.OutputStream;
import java.io.PrintStream;
import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/y.class */
public class y {

    /* renamed from: a, reason: collision with root package name */
    public static boolean f709a = false;
    final boolean b;
    int c;
    int d;

    public y() {
        if (!l.as) {
        }
        this.b = false;
        this.c = -9999;
        this.d = -9999;
    }

    public File a(String str, boolean z) {
        return a(str, "saves/", z);
    }

    public static File a(String str, String str2, boolean z) {
        return com.corrodinggames.rts.gameFramework.e.a.a(str, str2, z);
    }

    public void b(String str, boolean z) {
        File fileA;
        l lVarB = l.B();
        String str2 = str;
        if (str2 != null && !str2.endsWith(".rwsave")) {
            str2 = str2 + ".rwsave";
        }
        String absolutePath = "SD card";
        File fileA2 = null;
        boolean z2 = false;
        try {
            fileA2 = a(str2 + ".tmp", true);
            if (fileA2.exists()) {
                fileA2 = a(str2 + ".tmp2", true);
            }
            fileA = a(str2, true);
            absolutePath = fileA.getAbsolutePath();
            l.e("Saving game to: " + absolutePath);
            OutputStream outputStreamA = com.corrodinggames.rts.gameFramework.e.a.a(fileA2, false);
            BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(outputStreamA);
            if (!f709a) {
                DataOutputStream dataOutputStream = new DataOutputStream(bufferedOutputStream);
                try {
                    a(new com.corrodinggames.rts.gameFramework.j.as(dataOutputStream));
                    dataOutputStream.close();
                    bufferedOutputStream.close();
                    outputStreamA.close();
                } catch (Throwable th) {
                    dataOutputStream.close();
                    bufferedOutputStream.close();
                    outputStreamA.close();
                    throw th;
                }
            } else {
                PrintStream printStream = new PrintStream(bufferedOutputStream);
                try {
                    a(new com.corrodinggames.rts.gameFramework.j.aw(printStream));
                    printStream.close();
                    bufferedOutputStream.close();
                    outputStreamA.close();
                    l.n("DEBUG plain text save created");
                } catch (Throwable th2) {
                    printStream.close();
                    bufferedOutputStream.close();
                    outputStreamA.close();
                    throw th2;
                }
            }
            if (z && l.at() && com.corrodinggames.rts.gameFramework.e.a.i(fileA.getAbsolutePath())) {
                l.e("Autosave file already exists: " + fileA.getAbsolutePath());
                if (!com.corrodinggames.rts.gameFramework.e.a.b(fileA)) {
                    l.e("Old autosave failed to delete");
                }
            }
            l.e("Finished writing save, renaming to final filename");
        } catch (Exception e) {
            if (z) {
                l.e("Auto save failed: " + e.getMessage());
                return;
            }
            e.printStackTrace();
            lVarB.a("Error saving game, please check permissions, disk space, etc. (" + f.b(e) + ")", 1);
            if (fileA2 != null && com.corrodinggames.rts.gameFramework.e.a.i(fileA2.getAbsolutePath())) {
                l.e("saveGame: Removing temp save file after crash");
                com.corrodinggames.rts.gameFramework.e.a.b(fileA2);
            }
        } catch (OutOfMemoryError e2) {
            e2.printStackTrace();
            lVarB.a("Error. Run out of memory error while saving game to " + absolutePath + ".", 1);
            if (fileA2 != null && com.corrodinggames.rts.gameFramework.e.a.i(fileA2.getAbsolutePath())) {
                l.e("saveGame: Removing temp save file after crash");
                com.corrodinggames.rts.gameFramework.e.a.b(fileA2);
            }
        }
        if (!com.corrodinggames.rts.gameFramework.e.a.b(fileA2, fileA)) {
            l.e("Failed to rename to final file");
            throw new IOException("Failed to rename to final file. Check file permissions of storage.");
        }
        com.corrodinggames.rts.gameFramework.e.a.c(fileA);
        z2 = true;
        if (z2) {
            if (z) {
                lVarB.bS.i.a("Auto Saved", 1000);
            } else {
                lVarB.bS.h.a((String) null, "Game saved");
            }
        }
    }

    public void a(com.corrodinggames.rts.gameFramework.j.as asVar) {
        l lVarB = l.B();
        l.b("GameSaver", "saveCurrentMap took:" + (System.currentTimeMillis() - System.currentTimeMillis()));
        long jCurrentTimeMillis = System.currentTimeMillis();
        try {
            asVar.c("rustedWarfareSave");
            asVar.a(lVarB.c(true));
            asVar.a(96);
            asVar.a(lVarB.ar);
            asVar.a("saveCompression", true);
            asVar.e("customUnitsBlock");
            com.corrodinggames.rts.game.units.custom.l.a(asVar);
            asVar.a("customUnitsBlock");
            asVar.e("gameSetup");
            boolean z = lVarB.bX.B || lVarB.bX.F;
            asVar.a(lVarB.bX.B);
            asVar.a(lVarB.bX.F);
            asVar.a(z);
            if (z) {
                lVarB.bX.a(asVar);
            }
            asVar.a("gameSetup");
            asVar.c(lVarB.dl);
            boolean z2 = lVarB.dm != null;
            asVar.a(z2);
            if (z2) {
                l.e("Writing remote map steam into save");
                asVar.a(lVarB.dm);
            }
            asVar.a(lVarB.by);
            asVar.a(lVarB.cy + lVarB.cI);
            asVar.a(lVarB.cz + lVarB.cJ);
            asVar.a(lVarB.cV);
            asVar.a(lVarB.bV.f398a);
            asVar.a(0);
            asVar.e();
            lVarB.bL.a(asVar);
            asVar.a(lVarB.bv);
            asVar.a(lVarB.bL.E);
            asVar.a(lVarB.bL.F);
            asVar.a(lVarB.bL.G);
            asVar.a(lVarB.ce != null);
            if (lVarB.ce != null) {
                lVarB.ce.a(asVar);
            }
            asVar.e();
            int i = -1;
            if (lVarB.bs != null) {
                i = lVarB.bs.k;
            }
            asVar.a(i);
            asVar.a(com.corrodinggames.rts.game.n.c);
            for (int i2 = 0; i2 < com.corrodinggames.rts.game.n.c; i2++) {
                com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i2);
                asVar.a(nVarK instanceof com.corrodinggames.rts.game.a.a);
                asVar.a(nVarK instanceof com.corrodinggames.rts.game.c);
                asVar.a(nVarK != null);
                if (nVarK != null) {
                    nVarK.b(asVar);
                }
            }
            if (!lVarB.bS.e) {
            }
            asVar.d("Section: unit shells");
            asVar.a(w.er.size());
            Iterator it = w.er.iterator();
            while (it.hasNext()) {
                w wVar = (w) it.next();
                if (wVar == null) {
                    throw new RuntimeException("Found null in fastGameObjectList");
                }
                if (wVar instanceof com.corrodinggames.rts.game.units.am) {
                    com.corrodinggames.rts.game.units.am amVar = (com.corrodinggames.rts.game.units.am) wVar;
                    if (amVar.r() instanceof com.corrodinggames.rts.game.units.ar) {
                        asVar.c(1);
                        asVar.a((Enum) amVar.r());
                    } else if (amVar.r() instanceof com.corrodinggames.rts.game.units.custom.l) {
                        asVar.c(3);
                        asVar.c(((com.corrodinggames.rts.game.units.custom.l) amVar.r()).M);
                    } else {
                        throw new IOException("Unhandled getUnitType on save:" + amVar.r().getClass().toString());
                    }
                } else {
                    asVar.c(2);
                    if (wVar instanceof com.corrodinggames.rts.game.l) {
                        asVar.c(1);
                    } else if (wVar instanceof com.corrodinggames.rts.game.f) {
                        asVar.c(2);
                    } else if (wVar instanceof com.corrodinggames.rts.gameFramework.d.f) {
                        asVar.c(3);
                    } else {
                        String string = null;
                        if (wVar.getClass() != null) {
                            string = wVar.getClass().toString();
                        }
                        throw new IOException("Unhandled class on save: " + string);
                    }
                }
                asVar.a(wVar.eh);
            }
            asVar.d("Section: CurrentUnitId");
            asVar.a(lVarB.bX.z());
            lVarB.bV.a(asVar);
            lVarB.bS.a(asVar);
            lVarB.bY.a(asVar);
            for (int i3 = 0; i3 < com.corrodinggames.rts.game.n.c; i3++) {
                com.corrodinggames.rts.game.n nVarK2 = com.corrodinggames.rts.game.n.k(i3);
                if (nVarK2 != null) {
                    nVarK2.a(asVar);
                }
            }
            asVar.e();
            Iterator it2 = w.er.iterator();
            while (it2.hasNext()) {
                w wVar2 = (w) it2.next();
                if (asVar.f()) {
                    String simpleName = wVar2.getClass().getSimpleName();
                    if (wVar2 instanceof com.corrodinggames.rts.game.units.am) {
                        simpleName = ((com.corrodinggames.rts.game.units.am) wVar2).r().i();
                    }
                    asVar.d("Saving unit:" + simpleName + " (id" + wVar2.eh + ")");
                }
                wVar2.a(asVar);
                asVar.e();
            }
            asVar.a("saveCompression");
            asVar.e();
            asVar.c("<SAVE END>");
            l.b("GameSaver", "saveGame took:" + (System.currentTimeMillis() - jCurrentTimeMillis));
        } catch (IOException e) {
            e.printStackTrace();
            throw e;
        }
    }

    public String a(String str) {
        if (str == null) {
            return null;
        }
        return str.equals("maps/normal/l010;mission_1__-__Dividing_River.tmx") ? "maps/normal/l010;[demo]mission_1__-__Dividing_River.tmx" : str.equals("maps/normal/l030;mission_3__-__Crossfire.tmx") ? "maps/normal/l030;[demo]mission_3__-__Crossfire.tmx" : str;
    }

    public boolean c(String str, boolean z) {
        l lVarB = l.B();
        try {
            File fileA = a(str, false);
            if (fileA.isDirectory()) {
                lVarB.a("Could not load, is a directory", 1);
                return false;
            }
            com.corrodinggames.rts.gameFramework.utility.j jVarK = com.corrodinggames.rts.gameFramework.e.a.k(fileA.getAbsolutePath());
            if (jVarK == null) {
                lVarB.a("Could not load, failed to open: " + com.corrodinggames.rts.gameFramework.e.a.d(fileA.getAbsolutePath()), 1);
                return false;
            }
            BufferedInputStream bufferedInputStream = new BufferedInputStream(jVarK);
            DataInputStream dataInputStream = new DataInputStream(bufferedInputStream);
            try {
                boolean zA = a(new com.corrodinggames.rts.gameFramework.j.k(dataInputStream), z, false, false);
                dataInputStream.close();
                bufferedInputStream.close();
                jVarK.close();
                return zA;
            } catch (Throwable th) {
                dataInputStream.close();
                bufferedInputStream.close();
                jVarK.close();
                throw th;
            }
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    }

    public void a(String str, com.corrodinggames.rts.gameFramework.j.as asVar) {
        File fileA = a(str, false);
        if (fileA == null) {
            throw new IOException("Failed to get game save: " + str);
        }
        asVar.a(fileA);
    }

    public synchronized boolean a(com.corrodinggames.rts.gameFramework.j.k kVar, boolean z, boolean z2, boolean z3) {
        w fVar;
        com.corrodinggames.rts.game.n nVarK;
        l lVarB = l.B();
        try {
            br brVar = lVarB.cd;
            if (this.b) {
                brVar.a(bs.load_total);
            }
            ArrayList arrayList = null;
            if (z3) {
                arrayList = new ArrayList();
                Iterator it = lVarB.bS.bZ.iterator();
                while (it.hasNext()) {
                    arrayList.add(Long.valueOf(((com.corrodinggames.rts.game.units.am) it.next()).eh));
                }
            }
            try {
                try {
                    String strL = kVar.l();
                    if (!strL.equals("rustedWarfareSave")) {
                        l.b("Map Load: Header is not correct:" + strL.substring(0, Math.min(strL.length(), 50)));
                        String str = "Failed to load save. (Could not find correct header)";
                        if (strL.equals("rustedWarfareReplay")) {
                            str = "Failed to load save. (This file appears to be a replay file, not a save file)";
                        }
                        l.b(str);
                        lVarB.a(str, 1);
                        return false;
                    }
                    kVar.f();
                    int iF = kVar.f();
                    l.b("gameSaver", "Loading save from version: " + iF);
                    kVar.a(iF);
                    if (iF > 96) {
                        lVarB.a("Cannot load: This save was made with a newer game", 1);
                        return false;
                    }
                    if (iF >= 5) {
                        kVar.e();
                    }
                    if (iF >= 23) {
                        brVar.a(bs.load_compression);
                        kVar.a("saveCompression", true);
                        brVar.b(bs.load_compression);
                    }
                    if (iF >= 54) {
                        kVar.b("customUnitsBlock");
                        if (lVarB.cb.j() && !z3) {
                            l.e("Loading mods from replay");
                            try {
                                com.corrodinggames.rts.game.units.custom.l.a(kVar);
                                com.corrodinggames.rts.game.units.custom.ag.d();
                            } catch (com.corrodinggames.rts.game.units.custom.bd e) {
                                l.e("Replay load: Missing unit:" + e.getMessage() + " d:" + e.b);
                                lVarB.i(e.getMessage() + ", this is likely to cause the replay to desync (reverting to default units & mods)");
                                com.corrodinggames.rts.game.units.custom.ag.b(true);
                            }
                        }
                        kVar.d("customUnitsBlock");
                    }
                    Integer numValueOf = null;
                    Integer numValueOf2 = null;
                    if (lVarB.cb.j() && z3) {
                        numValueOf = Integer.valueOf(lVarB.bB);
                        numValueOf2 = Integer.valueOf(lVarB.bC);
                    }
                    if (iF >= 56) {
                        kVar.b("gameSetup");
                        boolean zE = kVar.e();
                        boolean zE2 = zE;
                        boolean zE3 = false;
                        if (iF >= 94) {
                            zE3 = kVar.e();
                            zE2 = kVar.e();
                        }
                        if ((lVarB.cb.j() || !lVarB.bX.B) && !z3 && zE2) {
                            l.e("Using game rules from save");
                            lVarB.cb.O = true;
                            lVarB.bX.a(kVar);
                            numValueOf = Integer.valueOf(lVarB.bB);
                            numValueOf2 = Integer.valueOf(lVarB.bC);
                            if ((zE || zE3) && !lVarB.bX.F && !lVarB.bX.B && !lVarB.cb.j()) {
                                l.e("Enabling use of singlePlayer rules from saved game.");
                                lVarB.bX.F = true;
                            }
                        }
                        kVar.d("gameSetup");
                    }
                    lVarB.dm = null;
                    lVarB.dl = a(com.corrodinggames.rts.gameFramework.e.a.o(kVar.l()));
                    boolean zE4 = false;
                    if (iF >= 72) {
                        zE4 = kVar.e();
                        if (zE4) {
                            l.e("Reading remote map stream");
                            lVarB.dm = kVar.u();
                        }
                    }
                    if (lVarB.bX.B && !lVarB.bX.C && z3 && lVarB.bX.aB != null && !zE4) {
                        lVarB.dl = VariableScope.nullOrMissingString;
                        lVarB.dm = lVarB.bX.aB;
                    }
                    brVar.a(bs.load_map);
                    if (z3) {
                        lVarB.a(true, true, s.normalSave);
                        if (l.at()) {
                            lVarB.dv = true;
                        }
                    } else {
                        lVarB.a(true, s.normalSave);
                    }
                    if (!lVarB.bL.W) {
                        l.e("Not loading save because map failed to load");
                        return false;
                    }
                    if (numValueOf != null) {
                        lVarB.bB = numValueOf.intValue();
                    }
                    if (numValueOf2 != null) {
                        Integer.valueOf(lVarB.bC);
                    }
                    synchronized (lVarB) {
                        brVar.b(bs.load_map);
                        lVarB.by = kVar.f();
                        float fG = kVar.g();
                        float fG2 = kVar.g();
                        float fG3 = kVar.g();
                        if (!z3) {
                            lVarB.b(fG, fG2);
                            lVarB.cV = fG3;
                        }
                        if (iF >= 18) {
                            lVarB.bV.f398a = kVar.f();
                        }
                        kVar.f();
                        if (iF >= 19) {
                            kVar.a("end of setup");
                        }
                        lVarB.bL.a(kVar);
                        if (iF >= 86) {
                            boolean zE5 = kVar.e();
                            boolean zE6 = kVar.e();
                            boolean zE7 = kVar.e();
                            boolean zE8 = kVar.e();
                            if (!z && !zE5) {
                                lVarB.bL.E = zE6;
                                lVarB.bL.F = zE7;
                                lVarB.bL.G = zE8;
                            }
                        }
                        if (kVar.e()) {
                            if (lVarB.ce == null) {
                                l.b("gameSaver", "making new mission engine on load, this shouldn't happen");
                                lVarB.ce = new com.corrodinggames.rts.gameFramework.n.f();
                                lVarB.ce.a(false);
                            }
                            lVarB.ce.a(kVar);
                        }
                        if (iF >= 19) {
                            kVar.a("start of teams");
                        }
                        l.b("gameSaver", "loading teams");
                        com.corrodinggames.rts.game.n[] nVarArr = new com.corrodinggames.rts.game.n[com.corrodinggames.rts.game.n.e];
                        int iF2 = -1;
                        if (iF >= 36) {
                            iF2 = kVar.f();
                        }
                        int iF3 = 8;
                        if (iF >= 49) {
                            iF3 = kVar.f();
                            com.corrodinggames.rts.game.n.b(iF3, false);
                            for (int i = 0; i < com.corrodinggames.rts.game.n.c; i++) {
                                if (i >= iF3 && !z && (nVarK = com.corrodinggames.rts.game.n.k(i)) != null) {
                                    nVarK.I();
                                }
                            }
                        }
                        for (int i2 = 0; i2 < iF3; i2++) {
                            com.corrodinggames.rts.game.n nVarK2 = com.corrodinggames.rts.game.n.k(i2);
                            boolean zE9 = kVar.e();
                            boolean zE10 = false;
                            if (iF >= 7) {
                                zE10 = kVar.e();
                            }
                            if (kVar.e()) {
                                if (zE9) {
                                    if (nVarK2 == null || !(nVarK2 instanceof com.corrodinggames.rts.game.a.a)) {
                                        if (z && !z3 && nVarK2 != null) {
                                            l.b("Would replace team:" + i2 + " with AI, writing to dummy AI");
                                            nVarK2 = new com.corrodinggames.rts.game.a.a(i2, false);
                                            nVarArr[i2] = nVarK2;
                                        } else {
                                            if (z3) {
                                                l.b("Adding new AI " + i2 + " on resync");
                                            }
                                            nVarK2 = new com.corrodinggames.rts.game.a.a(i2);
                                        }
                                    }
                                } else if (zE10) {
                                    if (nVarK2 == null || !(nVarK2 instanceof com.corrodinggames.rts.game.c)) {
                                        if (z) {
                                            l.b("Replacing team:" + i2 + " with NetworkedPlayer");
                                        }
                                        nVarK2 = new com.corrodinggames.rts.game.c(i2);
                                    }
                                } else if (nVarK2 == null || !(nVarK2 instanceof com.corrodinggames.rts.game.e)) {
                                    if (z) {
                                        l.b("Replacing team:" + i2 + " with Player");
                                        if (nVarK2 != null) {
                                            nVarK2.c("Existing");
                                        }
                                    }
                                    nVarK2 = new com.corrodinggames.rts.game.e(i2);
                                }
                                Integer num = nVarK2.z;
                                if (iF >= 2) {
                                    nVarK2.b(kVar);
                                } else {
                                    nVarK2.c(kVar);
                                }
                                if (!z3) {
                                    nVarK2.i();
                                    if (z) {
                                        nVarK2.z = num;
                                        nVarK2.c("networkLoad aiDifficultyOverride=" + num);
                                        lVarB.bX.a(nVarK2);
                                        lVarB.bX.b(nVarK2);
                                    }
                                    if (nVarK2 != null && nVarK2 != nVarK2) {
                                        nVarK2.c("Transfering team stats");
                                        nVarK2.o = nVarK2.o;
                                        nVarK2.V().a(nVarK2.V());
                                    }
                                }
                            } else if (z && !lVarB.cb.j()) {
                                l.b("GameSaver: Would normally remove team:" + i2 + VariableScope.nullOrMissingString);
                                nVarArr[i2] = com.corrodinggames.rts.game.n.g;
                            } else {
                                com.corrodinggames.rts.game.n nVarK3 = com.corrodinggames.rts.game.n.k(i2);
                                if (nVarK3 != null) {
                                    nVarK3.I();
                                }
                            }
                        }
                        boolean z4 = false;
                        lVarB.bX.aq();
                        if (lVarB.cb.j()) {
                            lVarB.bs = com.corrodinggames.rts.game.n.i;
                        } else if (lVarB.bX.B) {
                            if (lVarB.bX.z != null) {
                                int i3 = lVarB.bX.z.k;
                                if (i3 != -3) {
                                    com.corrodinggames.rts.game.n nVarK4 = com.corrodinggames.rts.game.n.k(i3);
                                    if (nVarK4 == null) {
                                        throw new RuntimeException("GameSaver: Cannot relink player team: " + i3);
                                    }
                                    lVarB.bs = nVarK4;
                                }
                            }
                        } else if (iF2 != -1 && iF2 != -3) {
                            lVarB.bs = com.corrodinggames.rts.game.n.k(iF2);
                        } else {
                            for (int i4 = 0; i4 < com.corrodinggames.rts.game.n.c; i4++) {
                                if (com.corrodinggames.rts.game.n.k(i4) instanceof com.corrodinggames.rts.game.e) {
                                    lVarB.bs = com.corrodinggames.rts.game.n.k(i4);
                                }
                            }
                        }
                        Iterator it2 = w.dK().iterator();
                        while (it2.hasNext()) {
                            ((w) it2.next()).a();
                        }
                        if (lVarB.aa()) {
                            Iterator it3 = w.dK().iterator();
                            while (it3.hasNext()) {
                                w wVar = (w) it3.next();
                                if (wVar.eh == 0) {
                                    if (wVar instanceof com.corrodinggames.rts.game.units.am) {
                                        l.e("object: " + ((com.corrodinggames.rts.game.units.am) wVar).c());
                                    }
                                    throw new RuntimeException("GameLoad preload: Found object in list with id:0");
                                }
                            }
                        }
                        boolean z5 = false;
                        int iF4 = kVar.f();
                        for (int i5 = 0; i5 < iF4; i5++) {
                            byte bD = kVar.d();
                            if (bD == 1) {
                                com.corrodinggames.rts.game.units.ar arVar = (com.corrodinggames.rts.game.units.ar) kVar.b(com.corrodinggames.rts.game.units.ar.class);
                                if (arVar == com.corrodinggames.rts.game.units.ar.editorOrBuilder) {
                                    if (lVarB.cb.j() || lVarB.bv) {
                                        l.e("Creating DebugEditorBuilder for replay");
                                        fVar = new com.corrodinggames.rts.game.units.h(false);
                                        com.corrodinggames.rts.game.units.h hVarI = lVarB.bS.i();
                                        if (hVarI == null || hVarI.ej) {
                                            l.e("Relinking editor");
                                            lVarB.bS.a((com.corrodinggames.rts.game.units.h) fVar);
                                        }
                                    } else {
                                        l.e("Creating DebugEditorBuilder for load");
                                        fVar = new com.corrodinggames.rts.game.units.h(false);
                                        z4 = true;
                                    }
                                } else {
                                    fVar = arVar.a();
                                }
                            } else if (bD == 3) {
                                String strL2 = kVar.l();
                                com.corrodinggames.rts.game.units.custom.l lVarN = com.corrodinggames.rts.game.units.custom.l.n(strL2);
                                if (lVarN == null) {
                                    String str2 = "Could not find custom unit:" + strL2;
                                    l.e(str2);
                                    if (!z5) {
                                        z5 = true;
                                        com.corrodinggames.rts.gameFramework.j.ad.g(str2);
                                    }
                                    lVarN = com.corrodinggames.rts.game.units.custom.l.b;
                                    if (lVarN == null) {
                                        throw new RuntimeException("Could not find custom unit:" + strL2 + " and missingPlaceHolder is null");
                                    }
                                }
                                com.corrodinggames.rts.game.units.as asVarC = com.corrodinggames.rts.game.units.custom.l.c(lVarN);
                                if (asVarC != null) {
                                    if (asVarC instanceof com.corrodinggames.rts.game.units.custom.l) {
                                        lVarN = (com.corrodinggames.rts.game.units.custom.l) asVarC;
                                    } else {
                                        l.b("replacement not a custom unit:" + asVarC.i());
                                    }
                                }
                                fVar = lVarN.a();
                            } else if (bD == 2) {
                                byte bD2 = kVar.d();
                                if (bD2 == 1) {
                                    fVar = new com.corrodinggames.rts.game.l();
                                } else if (bD2 == 2) {
                                    fVar = new com.corrodinggames.rts.game.f(false);
                                } else if (bD2 == 3) {
                                    fVar = new com.corrodinggames.rts.gameFramework.d.f(lVarB.bR);
                                } else {
                                    throw new IOException("Unhandled gameType on load:" + ((int) bD2));
                                }
                            } else {
                                throw new IOException("Unhandled basic type on load:" + ((int) bD));
                            }
                            fVar.eh = kVar.i();
                            if (fVar.eh == 0) {
                                l.b("GameSaver: Adding object with id==0");
                                if (fVar instanceof com.corrodinggames.rts.game.units.am) {
                                    l.b(((com.corrodinggames.rts.game.units.am) fVar).cC());
                                }
                            }
                            w.dL();
                        }
                        if (iF >= 3) {
                            long jI = kVar.i();
                            if (jI <= 0) {
                                l.a("GameLoad: Trying to set next unit id <= 0: " + jI);
                                jI = 100000;
                            }
                            lVarB.bX.a(jI);
                        } else {
                            lVarB.bX.a(100000L);
                        }
                        if (iF >= 24) {
                            lVarB.bV.a(kVar);
                        }
                        if (iF >= 4) {
                            lVarB.bS.a(kVar, z3);
                        }
                        if (iF >= 57) {
                            lVarB.bY.a(kVar, z3);
                        }
                        if (iF >= 7) {
                            for (int i6 = 0; i6 < iF3; i6++) {
                                com.corrodinggames.rts.game.n nVarK5 = com.corrodinggames.rts.game.n.k(i6);
                                if (nVarArr[i6] != null) {
                                    nVarK5 = nVarArr[i6];
                                    if (nVarK5 == com.corrodinggames.rts.game.n.g) {
                                        nVarK5 = null;
                                    }
                                }
                                if (nVarK5 != null) {
                                    Integer num2 = nVarK5.z;
                                    nVarK5.c(kVar);
                                    if (!z3) {
                                        if (z) {
                                            nVarK5.z = num2;
                                            nVarK5.c("networkLoad2 aiDifficultyOverride=" + num2);
                                        }
                                        lVarB.bX.a(nVarK5);
                                        lVarB.bX.b(nVarK5);
                                    }
                                }
                            }
                        } else if (iF >= 2) {
                        }
                        if (iF >= 10) {
                            kVar.a("Pre-unit data");
                        }
                        brVar.a(bs.load_units);
                        com.corrodinggames.rts.gameFramework.utility.o oVarDK = w.dK();
                        l.b("gameSaver", "Loading unit data for " + oVarDK.size() + " objects.");
                        Iterator it4 = oVarDK.iterator();
                        while (it4.hasNext()) {
                            w wVar2 = (w) it4.next();
                            wVar2.a(kVar);
                            if (iF >= 10) {
                                kVar.a("post unit: " + wVar2.getClass().toString() + " with id:" + wVar2.eh);
                            }
                        }
                        l.b("gameSaver", "Loading unit data done.");
                        brVar.b(bs.load_units);
                        if (z4) {
                            Iterator it5 = w.dK().iterator();
                            while (it5.hasNext()) {
                                w wVar3 = (w) it5.next();
                                if (wVar3 instanceof com.corrodinggames.rts.game.units.am) {
                                    com.corrodinggames.rts.game.units.am amVar = (com.corrodinggames.rts.game.units.am) wVar3;
                                    if (!lVarB.cb.j() && !lVarB.bv && amVar.r() == com.corrodinggames.rts.game.units.ar.editorOrBuilder) {
                                        amVar.ci();
                                    }
                                }
                            }
                        }
                        if (iF >= 23) {
                            kVar.d("saveCompression");
                        }
                        if (iF >= 19) {
                            kVar.a("End of Save");
                            kVar.l();
                        }
                        l.b("gameSaver", "Checking for ID overlaps");
                        int i7 = 0;
                        if (1 != 0) {
                            w[] wVarArrA = w.er.a();
                            int size = w.er.size();
                            for (int i8 = 0; i8 < size; i8++) {
                                w wVar4 = wVarArrA[i8];
                                if (wVar4.eh == 0) {
                                    l.b("GameSaver: Fixing object with zero id.");
                                    wVar4.eh = lVarB.bX.y();
                                }
                                for (int i9 = i8 + 1; i9 < size; i9++) {
                                    w wVar5 = wVarArrA[i9];
                                    if (wVar4 != wVar5 && wVar4.eh == wVar5.eh) {
                                        i7++;
                                        wVar5.eh = lVarB.bX.y();
                                    }
                                }
                            }
                        }
                        l.b("gameSaver", "clearing out dead units.");
                        l.e("Unit.fastLiveUnitList before:" + com.corrodinggames.rts.game.units.am.bE.size());
                        Iterator it6 = com.corrodinggames.rts.game.units.am.bE.iterator();
                        while (it6.hasNext()) {
                            if (((com.corrodinggames.rts.game.units.am) it6.next()).bV) {
                                it6.remove();
                            }
                        }
                        l.e("Unit.fastLiveUnitList after:" + com.corrodinggames.rts.game.units.am.bE.size());
                        if (i7 > 0) {
                            if (iF <= 2) {
                                lVarB.a("Warning: " + i7 + " errors were found in this save, this is due to a bug in the old version", 1);
                            } else {
                                lVarB.a("Warning: " + i7 + " errors were found in this save", 1);
                            }
                        }
                        l.b("gameSaver", "Fixing map cost.");
                        lVarB.bU.a((com.corrodinggames.rts.game.units.y) null);
                        lVarB.bU.b();
                        l.b("gameSaver", "Fixing map cost done.");
                        com.corrodinggames.rts.game.n.O();
                        for (int i10 = 0; i10 < com.corrodinggames.rts.game.n.c; i10++) {
                            com.corrodinggames.rts.game.n nVarK6 = com.corrodinggames.rts.game.n.k(i10);
                            if (nVarK6 != null) {
                                nVarK6.d(false);
                            }
                        }
                        com.corrodinggames.rts.game.n.e();
                        l.b("gameSaver", "Rebuilt unit caches");
                        com.corrodinggames.rts.game.n.O();
                        com.corrodinggames.rts.game.n.Y();
                        com.corrodinggames.rts.game.n.i.d(false);
                        com.corrodinggames.rts.game.n.h.d(false);
                        for (int i11 = 0; i11 < com.corrodinggames.rts.game.n.c; i11++) {
                            com.corrodinggames.rts.game.n nVarK7 = com.corrodinggames.rts.game.n.k(i11);
                            if (nVarK7 != null && (nVarK7 instanceof com.corrodinggames.rts.game.a.a)) {
                                ((com.corrodinggames.rts.game.a.a) nVarK7).aq();
                            }
                        }
                        if (arrayList != null) {
                            lVarB.bS.y();
                            Iterator it7 = arrayList.iterator();
                            while (it7.hasNext()) {
                                com.corrodinggames.rts.game.units.am amVarA = w.a(((Long) it7.next()).longValue(), true);
                                if (amVarA != null) {
                                    lVarB.bS.k(amVarA);
                                }
                            }
                        }
                        if (lVarB.aa()) {
                            Iterator it8 = w.dK().iterator();
                            while (it8.hasNext()) {
                                w wVar6 = (w) it8.next();
                                if (wVar6.eh == 0) {
                                    if (wVar6 instanceof com.corrodinggames.rts.game.units.am) {
                                        l.e("object: " + ((com.corrodinggames.rts.game.units.am) wVar6).c());
                                    }
                                    throw new RuntimeException("GameLoad postload: Found object in list with id:0");
                                }
                            }
                        }
                        l.e("--- Save file load complete ---");
                        l.e("GameObject.fastGameObjectList:" + w.er.size());
                        l.e("Unit.fastLiveUnitList:" + com.corrodinggames.rts.game.units.am.bE.size());
                        if (!z3) {
                            lVarB.cb.a(z3);
                        }
                        if (this.b) {
                            brVar.b(bs.load_total);
                            brVar.a(true, true);
                        }
                    }
                    return true;
                } catch (EOFException e2) {
                    e2.printStackTrace();
                    l.b("Failed to load save. (End of file trying to read header)");
                    lVarB.a("Failed to load save. (End of file trying to read header)", 1);
                    return false;
                }
            } catch (IOException e3) {
                e3.printStackTrace();
                String str3 = "Failed to load save. (Failed to read header: " + e3.getMessage() + ")";
                l.b(str3);
                lVarB.a(str3, 1);
                return false;
            }
        } catch (Exception e4) {
            e4.printStackTrace();
            l.e("Save load error, clearing all units");
            Iterator it9 = w.dK().iterator();
            while (it9.hasNext()) {
                w wVar7 = (w) it9.next();
                if (wVar7.eh == 0) {
                    wVar7.eh = lVarB.bX.y();
                }
                wVar7.a();
            }
            throw new RuntimeException(e4);
        }
    }

    public boolean b(String str) {
        l.e("Deleting: " + str);
        String strO = com.corrodinggames.rts.gameFramework.e.a.o(str);
        if (strO.contains("\\") || strO.contains("/")) {
            l.e("Cannot get save with path: " + str);
            return false;
        }
        File fileA = a(str, true);
        boolean zB = com.corrodinggames.rts.gameFramework.e.a.b(fileA);
        com.corrodinggames.rts.gameFramework.e.a.b(a(str + ".map", true));
        if (!zB) {
            l.e("Failed to delete: " + fileA.getAbsolutePath());
            l.B().i("Failed to delete: " + fileA.getAbsolutePath());
            return true;
        }
        return true;
    }

    public void a(boolean z) {
        l.B();
        if (!z) {
            this.c = -9999;
            this.d = -9999;
        }
    }

    public boolean a() {
        l lVarB = l.B();
        if (!lVarB.bQ.autosaving || l.ax() || !lVarB.bG || lVarB.bH || lVarB.cb.j() || lVarB.M()) {
            return false;
        }
        return true;
    }

    public void b() {
        l lVarB = l.B();
        if (!a()) {
            return;
        }
        if (this.d == -9999) {
            this.c = lVarB.by;
            this.d = lVarB.by;
        }
        if (this.d + 300000 < lVarB.by) {
            this.d = lVarB.by;
            long jA = br.a();
            c();
            l.e("Autosaved (" + br.a(br.a(jA)) + ")");
        }
    }

    public void c() {
        b("autosave", true);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/ae.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/ae.class */
public class ae extends ad {
    @Override // com.corrodinggames.rts.gameFramework.ad
    public boolean d() {
        return true;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/bo.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.io.IOException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bo.class */
public class bo {

    /* renamed from: a, reason: collision with root package name */
    public int f456a;
    public int b;
    public int c;
    public int d;
    public int e;
    public int f;
    public int g;
    public int h;
    public int i;
    public int j;
    public long k;
    public bn l = new bn();
    private static final byte m = (byte) bp.v220911_added_history.ordinal();

    public void a(com.corrodinggames.rts.gameFramework.j.as asVar) throws IOException {
        asVar.c(m);
        asVar.e();
        asVar.a(this.f456a);
        asVar.a(this.b);
        asVar.a(this.c);
        asVar.a(this.d);
        asVar.a(this.e);
        asVar.a(this.f);
        asVar.a(this.g);
        asVar.a(this.h);
        asVar.a(this.i);
        asVar.a(this.j);
        asVar.a(this.k);
        this.l.a(asVar);
    }

    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        byte bD = kVar.d();
        kVar.a("stats start");
        this.f456a = kVar.f();
        this.b = kVar.f();
        this.c = kVar.f();
        this.d = kVar.f();
        this.e = kVar.f();
        this.f = kVar.f();
        this.g = kVar.f();
        this.h = kVar.f();
        this.i = kVar.f();
        this.j = kVar.f();
        this.k = kVar.i();
        if (bD >= bp.v220911_added_history.ordinal()) {
            this.l.a(kVar);
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/SettingsEngine.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import android.content.Context;
import android.content.SharedPreferences;
import android.net.Uri;
import android.util.Log;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.File;
import java.io.IOException;
import java.io.PrintWriter;
import java.lang.reflect.Field;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/SettingsEngine.class */
public class SettingsEngine {
    public boolean enableSounds;
    public boolean enableMouseCapture;
    public boolean androidNoSoundPrioritiesDebug;
    public boolean disableDigitGrouping;
    public String slick2dResolution;
    public int settingsGameVersion;
    public int settingsGameVersionFirst;
    public String slick2dFullScreenResolution;
    public boolean upgradedToNoPublicStorage;
    public boolean upgradedToNoPublicStorageWarningShown;
    public boolean slick2dFullScreen;
    public boolean slick2dBorderless;
    public boolean autosaving;
    public float masterVolume;
    public float gameVolume;
    public float interfaceVolume;
    public float musicVolume;
    public float scrollSpeed;
    public float edgeScrollSpeed;
    public boolean hasPlayedGameOrSeenHelp;
    public boolean onscreenControls;
    public boolean trackpad;
    public boolean dpad;
    public boolean batterySaving;
    public boolean highRefreshRate;
    public boolean renderBackground;
    public boolean renderExtraLayers;
    public boolean immersiveFullScreen;
    public boolean displayOverCutout;
    public boolean unlockedScreenRotation;
    public boolean renderDoubleScale;
    public float uiRenderScale;
    public boolean renderClouds;
    public boolean renderWithLineWidth;
    public boolean softFogFading;
    public boolean showUnitGroups;
    public boolean allowGameRecording;
    public boolean renderControls;
    public boolean showHp;
    public boolean showHpChanges;
    public boolean showUnitIcons;
    public boolean gestureZoom;
    public boolean useCircleSelect;
    public boolean showZoomButton;
    public boolean showFps;
    public boolean newRender;
    public boolean shaderEffects;
    public boolean teamShaders;
    public boolean showUnitWaypoints;
    public boolean useMinimapAllyColors;
    public boolean showWarLogOnScreen;
    public boolean classicInterface;
    public boolean quickRally;
    public boolean doubleClickToAttackMove;
    public boolean showMapPingsOnBattlefield;
    public boolean showMapPingsOnMinimap;
    public boolean showPlayerChatInGame;
    public boolean sendReports;
    public boolean shownAudioWarning;
    public boolean mouseSupport;
    public boolean keyboardSupport;
    public boolean forceEnglish;
    public String overrideLanguageCode;
    public boolean saveMultiplayerReplays;
    public boolean replaysShowRecordedChat;
    public int nextBackgroundMap;
    public String lastNetworkPlayerName;
    public String lastNetworkIP;
    public String lastDebugOption;
    public boolean landscapeOrientation;
    public int aiDifficulty;
    public int locationAction;
    public int locationDpad;
    public int keyAction;
    public int keyJump;
    public int keyLeft;
    public int keyRight;
    public int keyDown;
    public String uuid;
    public String networkClientId;
    public String networkClientIdMachineKey;
    public String networkServerId;
    public int numIncompleteLoadAttempts;
    public int numLoadsSinceRunningGameOrNormalExit;
    public int lastSeenMessageId;
    public String lastSeenMessageIds;
    public int networkPort;
    public boolean udpInMultiplayer;
    public int banTimeInSecondsAfterKick;
    public int numberOfWins;
    public boolean rateGameShown;
    public int mouseOrders;
    public int mousePlacement;
    public boolean liveReloading;
    public boolean renderVsync;
    public boolean renderSmoothDelta;
    public int teamUnitCapSinglePlayer;
    public int teamUnitCapHostedGame;
    public boolean showChatAndPingShortcuts;
    public String modSettings;
    public int modSettingsVersion;
    public int storageType;
    public boolean hasSelectedAStorageType;
    public boolean hadStoragePermissionInPast;
    public boolean loadDisabledModData;
    public int lastModCount;
    public String modSAFlinks;
    public boolean externalSAFWorking;
    public String externalSAFLink;
    public String externalSAFPathShown;
    public String externalSAFPathExtra;
    public boolean smartSelection_v2;
    public boolean replayTracing;
    SharedPreferences prefs;
    static SettingsEngine settingsEngine = null;
    public boolean resizeFontWithUIScale = true;
    public float renderDensity = 1.0f;
    public boolean renderExtraShadows = true;
    public boolean renderFancyWater = false;
    public boolean showActionInfoHoverNearMouse = true;
    public boolean disableModLazyLoad = false;
    public boolean renderAntiAlias = true;
    public boolean showSelectedUnitsList = true;
    public String teamColors = "#00ff00,#d02013,#0463f3,#ffff40,#00ffff,#d0f8f7,#000000,#ff00ea,#ff7f18,#9368c4";
    public String teamColorsNames = "GREEN,RED,BLUE,YELLOW,CYAN,WHITE,BLACK,PINK,ORANGE,PURPLE";
    public boolean highGraphics = true;
    HashMap settingFields = new HashMap();

    public static SettingsEngine getInstance(Context context) {
        if (settingsEngine == null) {
            settingsEngine = new SettingsEngine(context);
        }
        return settingsEngine;
    }

    public boolean getBooleanPref(String str, boolean z) {
        if (l.aU) {
            return z;
        }
        return this.prefs.getBoolean(str, z);
    }

    public int getIntPref(String str, int i) {
        if (l.aU) {
            return i;
        }
        return this.prefs.getInt(str, i);
    }

    public float getFloatPref(String str, float f) {
        if (l.aU) {
            return f;
        }
        return this.prefs.getFloat(str, f);
    }

    public String getStringPref(String str, String str2) {
        if (l.aU) {
            return str2;
        }
        return this.prefs.getString(str, str2);
    }

    public String getValueDynamic(String str) throws IllegalAccessException, IllegalArgumentException {
        try {
            Field field = (Field) this.settingFields.get(str);
            if (field == null) {
                throw new RuntimeException("Could not find: " + str);
            }
            Object obj = field.get(this);
            if (obj == null) {
                return null;
            }
            return obj.toString();
        } catch (IllegalAccessException e) {
            throw new RuntimeException(e);
        } catch (IllegalArgumentException e2) {
            throw new RuntimeException(e2);
        }
    }

    public boolean setValueDynamic(String str, String str2) throws IllegalAccessException, IllegalArgumentException {
        try {
            Field field = (Field) this.settingFields.get(str);
            Object objValueOf = str2;
            if (field.getType().equals(Boolean.TYPE)) {
                if (str2 == null) {
                    throw new RuntimeException("value==null");
                }
                objValueOf = Boolean.valueOf(Boolean.parseBoolean(str2));
            }
            if (field.getType().equals(Float.TYPE)) {
                if (str2 != null && str2.contains(",")) {
                    str2 = str2.replace(",", ".");
                }
                objValueOf = Float.valueOf(Float.parseFloat(str2));
            }
            if (field.getType().equals(Integer.TYPE)) {
                objValueOf = Integer.valueOf(Integer.parseInt(str2));
            }
            field.set(this, objValueOf);
            return true;
        } catch (IllegalAccessException e) {
            throw new RuntimeException(e);
        }
    }

    public String getPreferencesPath() {
        return com.corrodinggames.rts.gameFramework.e.a.e("/SD/rustedWarfare/preferences.ini");
    }

    public boolean saveToFileSystem() throws IllegalAccessException, IllegalArgumentException {
        l lVarB = l.B();
        File file = new File(getPreferencesPath());
        l.e("Saving settings to: " + file.getAbsolutePath());
        try {
            PrintWriter printWriter = new PrintWriter(file);
            printWriter.println("[settings]");
            ArrayList arrayList = new ArrayList();
            arrayList.addAll(this.settingFields.keySet());
            Collections.sort(arrayList);
            Iterator it = arrayList.iterator();
            while (it.hasNext()) {
                String str = (String) it.next();
                String valueDynamic = getValueDynamic(str);
                if (valueDynamic == null) {
                    valueDynamic = VariableScope.nullOrMissingString;
                }
                printWriter.println(str + ":" + valueDynamic.replace("\\", "\\\\").replace("\n", "\\n"));
            }
            printWriter.println("[keys]");
            Iterator it2 = lVarB.bT.al.iterator();
            while (it2.hasNext()) {
                ad adVar = (ad) it2.next();
                if (adVar.b && !adVar.d()) {
                    printWriter.println((VariableScope.nullOrMissingString + adVar.e()) + ":" + lVarB.bT.a(adVar));
                }
            }
            printWriter.close();
            return true;
        } catch (IOException e) {
            e.printStackTrace();
            l.B().a("Failed to save preferences, IO error", 1);
            return false;
        }
    }

    public void loadFromFileSystem() throws IllegalAccessException, IllegalArgumentException {
        l lVarB = l.B();
        String preferencesPath = getPreferencesPath();
        File file = new File(preferencesPath);
        if (!file.exists()) {
            l.e("preferences not found, not loading (" + preferencesPath + ")");
            return;
        }
        l.e("loadFromFileSystem filepath: " + file.getAbsolutePath());
        try {
            com.corrodinggames.rts.gameFramework.utility.ab abVar = new com.corrodinggames.rts.gameFramework.utility.ab(preferencesPath);
            Iterator it = this.settingFields.entrySet().iterator();
            while (it.hasNext()) {
                String str = (String) ((Map.Entry) it.next()).getKey();
                String strB = abVar.b("settings", str, (String) null);
                if (l.aZ) {
                    l.e(str + "= " + strB);
                }
                if (strB != null && !VariableScope.nullOrMissingString.equals(strB)) {
                    if (str.startsWith("key.")) {
                        String strReplace = str.replace("key.", VariableScope.nullOrMissingString);
                        l.e("loading keybind:" + strReplace);
                        lVarB.bT.a(strReplace, strB);
                    } else {
                        setValueDynamic(str, strB);
                    }
                }
            }
            Iterator it2 = lVarB.bT.al.iterator();
            while (it2.hasNext()) {
                ad adVar = (ad) it2.next();
                if (adVar.b && !adVar.d()) {
                    String strE = adVar.e();
                    String strB2 = abVar.b("keys", strE, (String) null);
                    if (strB2 != null && !VariableScope.nullOrMissingString.equals(strB2)) {
                        lVarB.bT.a(strE, strB2);
                    }
                }
            }
        } catch (IOException e) {
            e.printStackTrace();
            l.B().a("Failed to load preferences, IO error", 1);
        }
    }

    private SettingsEngine(Context context) throws IllegalAccessException, SecurityException, IllegalArgumentException {
        this.autosaving = true;
        this.uiRenderScale = 1.0f;
        this.renderClouds = false;
        this.softFogFading = false;
        this.doubleClickToAttackMove = false;
        this.showMapPingsOnBattlefield = true;
        this.showMapPingsOnMinimap = true;
        this.showPlayerChatInGame = true;
        this.banTimeInSecondsAfterKick = 60;
        this.teamUnitCapSinglePlayer = 1000;
        this.teamUnitCapHostedGame = 250;
        this.showChatAndPingShortcuts = true;
        for (Field field : getClass().getFields()) {
            String name = field.getName();
            if (this.settingFields.get(name) != null) {
                l.e("SettingsEngine: fields: " + name + " already exists");
            }
            if (l.aZ) {
                l.e("SettingsEngine: field:" + name);
            }
            this.settingFields.put(name, field);
        }
        if (!l.aU) {
            this.prefs = context.a("rts_settings", 0);
        }
        int intPref = getIntPref("settingVersion", 1);
        this.settingsGameVersion = getIntPref("settingsGameVersion", 0);
        this.settingsGameVersionFirst = getIntPref("settingsGameVersionFirst", 0);
        if (this.settingsGameVersionFirst == 0) {
            if (this.settingsGameVersion != 0) {
                this.settingsGameVersionFirst = this.settingsGameVersion;
            } else {
                this.settingsGameVersionFirst = 176;
            }
        }
        this.upgradedToNoPublicStorage = getBooleanPref("upgradedToNoPublicStorage", this.settingsGameVersionFirst <= 160);
        this.upgradedToNoPublicStorageWarningShown = getBooleanPref("upgradedToNoPublicStorageWarningShown", false);
        this.slick2dResolution = getStringPref("slick2dResolution", "native");
        this.slick2dFullScreenResolution = getStringPref("slick2dFullScreenResolution", "native");
        this.slick2dFullScreen = getBooleanPref("slick2dFullScreen", false);
        this.hasPlayedGameOrSeenHelp = getBooleanPref("hasPlayedGameOrSeenHelp", false);
        this.enableSounds = getBooleanPref("enableSounds", true);
        this.enableMouseCapture = getBooleanPref("enableMouseCapture", false);
        this.androidNoSoundPrioritiesDebug = getBooleanPref("androidNoSoundPrioritiesDebug", false);
        this.disableDigitGrouping = getBooleanPref("disableDigitGrouping", false);
        this.musicVolume = getFloatPref("musicVolume", 0.25f);
        this.masterVolume = getFloatPref("masterVolume", l.av() ? 0.5f : 1.0f);
        this.gameVolume = getFloatPref("gameVolume", 1.0f);
        this.interfaceVolume = getFloatPref("interfaceVolume", 0.8f);
        this.scrollSpeed = getFloatPref("scrollSpeed", 1.0f);
        this.edgeScrollSpeed = getFloatPref("edgeScrollSpeed", 1.0f);
        this.onscreenControls = getBooleanPref("onscreenControls", true);
        this.trackpad = getBooleanPref("trackpad", true);
        this.dpad = getBooleanPref("dpad", true);
        this.batterySaving = getBooleanPref("batterySaving", false);
        this.highRefreshRate = getBooleanPref("highRefreshRate", l.av());
        this.unlockedScreenRotation = getBooleanPref("unlockedScreenRotation", false);
        this.renderBackground = getBooleanPref("renderBackground", true);
        this.renderExtraLayers = getBooleanPref("renderExtraLayers", true);
        this.renderControls = getBooleanPref("renderControls", true);
        this.immersiveFullScreen = getBooleanPref("immersiveFullScreen", true);
        this.displayOverCutout = getBooleanPref("displayOverCutout", false);
        this.renderDoubleScale = getBooleanPref("renderDoubleScale", false);
        this.showUnitGroups = getBooleanPref("showUnitGroups", true);
        this.renderClouds = getBooleanPref("renderClouds", l.aZ ? true : l.av());
        this.renderWithLineWidth = getBooleanPref("renderWithLineWidth", true);
        this.softFogFading = getBooleanPref("softFogFading", l.aZ ? true : l.av());
        this.showUnitWaypoints = getBooleanPref("showUnitWaypoints", true);
        this.useMinimapAllyColors = getBooleanPref("useMinimapAllyColors", true);
        this.showWarLogOnScreen = getBooleanPref("showWarLogOnScreen", l.av());
        this.classicInterface = getBooleanPref("classicInterface", false);
        boolean z = l.av();
        this.quickRally = getBooleanPref("quickRally", z);
        if (intPref <= 1 && !l.av()) {
            this.quickRally = z;
        }
        this.doubleClickToAttackMove = getBooleanPref("doubleClickToAttackMove", true);
        this.showMapPingsOnBattlefield = getBooleanPref("showMapPingsOnBattlefield", true);
        this.showMapPingsOnMinimap = getBooleanPref("showMapPingsOnMinimap", true);
        this.showPlayerChatInGame = getBooleanPref("showPlayerChatInGame", true);
        this.allowGameRecording = false;
        this.showHp = getBooleanPref("showHp", true);
        this.showHpChanges = getBooleanPref("showHpChanges", true);
        this.showUnitIcons = getBooleanPref("showUnitIcons", true);
        this.gestureZoom = getBooleanPref("gestureZoom", true);
        this.useCircleSelect = getBooleanPref("useCircleSelect", false);
        this.showZoomButton = getBooleanPref("showZoomButton", true);
        this.showFps = getBooleanPref("showFps", false);
        this.newRender = getBooleanPref("newRender", false);
        this.shaderEffects = getBooleanPref("shaderEffects", false);
        this.teamShaders = getBooleanPref("teamShaders", false);
        this.sendReports = getBooleanPref("sendReports", true);
        this.shownAudioWarning = getBooleanPref("shownAudioWarning", false);
        this.mouseSupport = getBooleanPref("mouseSupport", !l.d(context));
        this.keyboardSupport = getBooleanPref("keyboardSupport", true);
        this.forceEnglish = getBooleanPref("forceEnglish", l.aZ);
        boolean z2 = l.av();
        this.saveMultiplayerReplays = getBooleanPref("saveMultiplayerReplays", z2);
        if (intPref <= 1) {
            this.saveMultiplayerReplays = z2;
        }
        this.replaysShowRecordedChat = getBooleanPref("replaysShowRecordedChat", true);
        this.lastNetworkPlayerName = getStringPref("lastNetworkPlayerName", null);
        this.lastNetworkIP = getStringPref("lastNetworkIP", null);
        this.lastDebugOption = getStringPref("lastDebugOption", null);
        this.aiDifficulty = getIntPref("aiDifficulty", 0);
        this.locationDpad = getIntPref("locationDpad", 0);
        this.locationAction = getIntPref("locationAction", 3);
        this.keyAction = getIntPref("keyAction", 23);
        this.keyJump = getIntPref("keyJump", 19);
        this.keyLeft = getIntPref("keyLeft", 21);
        this.keyRight = getIntPref("keyRight", 22);
        this.keyDown = getIntPref("keyDown", 20);
        this.landscapeOrientation = getBooleanPref("landscapeOrientation", true);
        this.networkPort = getIntPref("networkPort", 5123);
        if (this.networkPort < 1024 || this.networkPort > 65535) {
            this.networkPort = 5123;
        }
        this.udpInMultiplayer = getBooleanPref("udpInMultiplayer", false);
        this.banTimeInSecondsAfterKick = getIntPref("banTimeInSecondsAfterKick", 60);
        this.numIncompleteLoadAttempts = getIntPref("numIncompleteLoadAttempts", 0);
        this.numLoadsSinceRunningGameOrNormalExit = getIntPref("numLoadsSinceRunningGameOrNormalExit", 0);
        this.numberOfWins = getIntPref("numberOfWins", 0);
        this.rateGameShown = getBooleanPref("rateGameShown", false);
        this.uuid = getStringPref("uuid", null);
        this.networkClientId = getStringPref("networkClientId", null);
        this.networkServerId = getStringPref("networkServerId", null);
        this.lastSeenMessageId = getIntPref("lastSeenMessageId", -1);
        this.lastSeenMessageIds = getStringPref("lastSeenMessageIds", VariableScope.nullOrMissingString);
        this.nextBackgroundMap = getIntPref("nextBackgroundMap", 1);
        this.showChatAndPingShortcuts = getBooleanPref("showChatAndPingShortcuts", true);
        this.teamUnitCapSinglePlayer = getIntPref("teamUnitCapSinglePlayer", 1000);
        this.teamUnitCapHostedGame = getIntPref("teamUnitCapHostedGame", 250);
        this.modSettings = getStringPref("modSettings", VariableScope.nullOrMissingString);
        this.modSettingsVersion = getIntPref("modSettingsVersion", 0);
        boolean z3 = false;
        if (l.at() && com.corrodinggames.rts.appFramework.c.b(com.corrodinggames.rts.appFramework.c.a())) {
            z3 = true;
        }
        this.storageType = getIntPref("storageType", z3 ? 2 : 0);
        this.hadStoragePermissionInPast = getBooleanPref("hadStoragePermissionInPast", false);
        if (z3) {
            this.hadStoragePermissionInPast = true;
        }
        this.hasSelectedAStorageType = getBooleanPref("hasSelectedAStorageType", false);
        this.loadDisabledModData = getBooleanPref("loadDisabledModData", false);
        this.lastModCount = getIntPref("lastModCount", -1);
        this.modSAFlinks = getStringPref("modSAFlinks", null);
        this.externalSAFWorking = getBooleanPref("externalSAFWorking", false);
        this.externalSAFLink = getStringPref("externalSAFLink", null);
        this.externalSAFPathShown = getStringPref("externalSAFPathShown", null);
        this.externalSAFPathExtra = getStringPref("externalSAFPathExtra", null);
        this.smartSelection_v2 = getBooleanPref("smartSelection_v2", true);
        this.mouseOrders = getIntPref("mouseOrders", 1);
        this.mousePlacement = getIntPref("mousePlacement", 1);
        this.autosaving = getBooleanPref("autosaving", true);
        if (l.aW) {
            loadFromFileSystem();
        }
        if (this.settingsGameVersion < 174) {
            this.uiRenderScale = 1.0f;
        }
    }

    public synchronized boolean save() {
        this.settingsGameVersion = 176;
        if (l.aU) {
            if (l.aW) {
                return saveToFileSystem();
            }
            return true;
        }
        SharedPreferences.Editor editorEdit = this.prefs.edit();
        editorEdit.putInt("settingVersion", 2);
        editorEdit.putInt("settingsGameVersion", this.settingsGameVersion);
        editorEdit.putInt("settingsGameVersionFirst", this.settingsGameVersionFirst);
        editorEdit.putBoolean("upgradedToNoPublicStorage", this.upgradedToNoPublicStorage);
        editorEdit.putBoolean("upgradedToNoPublicStorageWarningShown", this.upgradedToNoPublicStorageWarningShown);
        editorEdit.putBoolean("hasPlayedGameOrSeenHelp", this.hasPlayedGameOrSeenHelp);
        editorEdit.putString("slick2dResolution", this.slick2dResolution);
        editorEdit.putString("slick2dFullScreenResolution", this.slick2dFullScreenResolution);
        editorEdit.putBoolean("slick2dFullScreen", this.slick2dFullScreen);
        editorEdit.putBoolean("enableSounds", this.enableSounds);
        editorEdit.putBoolean("enableMouseCapture", this.enableMouseCapture);
        editorEdit.putBoolean("androidNoSoundPrioritiesDebug", this.androidNoSoundPrioritiesDebug);
        editorEdit.putBoolean("disableDigitGrouping", this.disableDigitGrouping);
        Log.d("RustedWarfare", "put mv:" + this.musicVolume);
        editorEdit.putFloat("musicVolume", this.musicVolume);
        editorEdit.putFloat("masterVolume", this.masterVolume);
        editorEdit.putFloat("gameVolume", this.gameVolume);
        editorEdit.putFloat("interfaceVolume", this.interfaceVolume);
        editorEdit.putFloat("scrollSpeed", this.scrollSpeed);
        editorEdit.putFloat("edgeScrollSpeed", this.edgeScrollSpeed);
        editorEdit.putBoolean("onscreenControls", this.onscreenControls);
        editorEdit.putBoolean("trackpad", this.trackpad);
        editorEdit.putBoolean("dpad", this.dpad);
        editorEdit.putBoolean("batterySaving", this.batterySaving);
        editorEdit.putBoolean("highRefreshRate", this.highRefreshRate);
        editorEdit.putBoolean("unlockedScreenRotation", this.unlockedScreenRotation);
        editorEdit.putBoolean("renderBackground", this.renderBackground);
        editorEdit.putBoolean("renderExtraLayers", this.renderExtraLayers);
        editorEdit.putBoolean("renderControls", this.renderControls);
        editorEdit.putBoolean("immersiveFullScreen", this.immersiveFullScreen);
        editorEdit.putBoolean("displayOverCutout", this.displayOverCutout);
        editorEdit.putBoolean("renderDoubleScale", this.renderDoubleScale);
        editorEdit.putBoolean("showUnitGroups", this.showUnitGroups);
        editorEdit.putBoolean("renderWithLineWidth", this.renderWithLineWidth);
        editorEdit.putBoolean("renderClouds", this.renderClouds);
        editorEdit.putBoolean("softFogFading", this.softFogFading);
        editorEdit.putBoolean("showUnitWaypoints", this.showUnitWaypoints);
        editorEdit.putBoolean("useMinimapAllyColors", this.useMinimapAllyColors);
        editorEdit.putBoolean("showWarLogOnScreen", this.showWarLogOnScreen);
        editorEdit.putBoolean("classicInterface", this.classicInterface);
        editorEdit.putBoolean("quickRally", this.quickRally);
        editorEdit.putBoolean("doubleClickToAttackMove", this.doubleClickToAttackMove);
        editorEdit.putBoolean("showMapPingsOnBattlefield", this.showMapPingsOnBattlefield);
        editorEdit.putBoolean("showMapPingsOnMinimap", this.showMapPingsOnMinimap);
        editorEdit.putBoolean("showPlayerChatInGame", this.showPlayerChatInGame);
        editorEdit.putBoolean("allowGameRecording", this.allowGameRecording);
        editorEdit.putBoolean("showHp", this.showHp);
        editorEdit.putBoolean("showHpChanges", this.showHpChanges);
        editorEdit.putBoolean("showUnitIcons", this.showUnitIcons);
        editorEdit.putBoolean("gestureZoom", this.gestureZoom);
        editorEdit.putBoolean("useCircleSelect", this.useCircleSelect);
        editorEdit.putBoolean("showZoomButton", this.showZoomButton);
        editorEdit.putBoolean("showFps", this.showFps);
        editorEdit.putBoolean("newRender", this.newRender);
        editorEdit.putBoolean("shaderEffects", this.shaderEffects);
        editorEdit.putBoolean("teamShaders", this.teamShaders);
        editorEdit.putBoolean("sendReports", this.sendReports);
        editorEdit.putBoolean("shownAudioWarning", this.shownAudioWarning);
        editorEdit.putBoolean("mouseSupport", this.mouseSupport);
        editorEdit.putBoolean("keyboardSupport", this.keyboardSupport);
        editorEdit.putBoolean("forceEnglish", this.forceEnglish);
        editorEdit.putBoolean("saveMultiplayerReplays", this.saveMultiplayerReplays);
        editorEdit.putBoolean("replaysShowRecordedChat", this.replaysShowRecordedChat);
        editorEdit.putString("lastNetworkPlayerName", this.lastNetworkPlayerName);
        editorEdit.putString("lastNetworkIP", this.lastNetworkIP);
        editorEdit.putString("lastDebugOption", this.lastDebugOption);
        editorEdit.putInt("aiDifficulty", this.aiDifficulty);
        editorEdit.putInt("locationDpad", this.locationDpad);
        editorEdit.putInt("locationAction", this.locationAction);
        editorEdit.putInt("keyAction", this.keyAction);
        editorEdit.putInt("keyJump", this.keyJump);
        editorEdit.putInt("keyLeft", this.keyLeft);
        editorEdit.putInt("keyRight", this.keyRight);
        editorEdit.putInt("keyDown", this.keyDown);
        editorEdit.putBoolean("landscapeOrientation", this.landscapeOrientation);
        editorEdit.putInt("networkPort", this.networkPort);
        editorEdit.putBoolean("udpInMultiplayer", this.udpInMultiplayer);
        editorEdit.putInt("banTimeInSecondsAfterKick", this.banTimeInSecondsAfterKick);
        editorEdit.putInt("numIncompleteLoadAttempts", this.numIncompleteLoadAttempts);
        editorEdit.putInt("numLoadsSinceRunningGameOrNormalExit", this.numLoadsSinceRunningGameOrNormalExit);
        editorEdit.putInt("numberOfWins", this.numberOfWins);
        editorEdit.putBoolean("rateGameShown", this.rateGameShown);
        editorEdit.putString("uuid", this.uuid);
        editorEdit.putString("networkClientId", this.networkClientId);
        editorEdit.putString("networkServerId", this.networkServerId);
        editorEdit.putInt("lastSeenMessageId", this.lastSeenMessageId);
        editorEdit.putString("lastSeenMessageIds", this.lastSeenMessageIds);
        editorEdit.putInt("nextBackgroundMap", this.nextBackgroundMap);
        editorEdit.putBoolean("showChatAndPingShortcuts", this.showChatAndPingShortcuts);
        editorEdit.putString("modSettings", this.modSettings);
        editorEdit.putInt("modSettingsVersion", this.modSettingsVersion);
        editorEdit.putInt("storageType", this.storageType);
        editorEdit.putBoolean("hasSelectedAStorageType", this.hasSelectedAStorageType);
        editorEdit.putBoolean("hadStoragePermissionInPast", this.hadStoragePermissionInPast);
        editorEdit.putInt("teamUnitCapSinglePlayer", this.teamUnitCapSinglePlayer);
        editorEdit.putInt("teamUnitCapHostedGame", this.teamUnitCapHostedGame);
        editorEdit.putBoolean("loadDisabledModData", this.loadDisabledModData);
        editorEdit.putInt("lastModCount", this.lastModCount);
        editorEdit.putString("modSAFlinks", this.modSAFlinks);
        editorEdit.putBoolean("externalSAFWorking", this.externalSAFWorking);
        editorEdit.putString("externalSAFLink", this.externalSAFLink);
        editorEdit.putString("externalSAFPathShown", this.externalSAFPathShown);
        editorEdit.putString("externalSAFPathExtra", this.externalSAFPathExtra);
        editorEdit.putBoolean("smartSelection_v2", this.smartSelection_v2);
        editorEdit.putInt("mouseOrders", this.mouseOrders);
        editorEdit.putInt("mousePlacement", this.mousePlacement);
        editorEdit.putBoolean("autosaving", this.autosaving);
        editorEdit.commit();
        return true;
    }

    public boolean loadMainExternalFolder(boolean z) {
        if (!l.at()) {
            return false;
        }
        l.e("loadMainExternalFolder..");
        l lVarB = l.B();
        if (z && lVarB.c()) {
            l.e("Not loading due to extra safe mode");
            return false;
        }
        String str = lVarB.bQ.externalSAFLink;
        String str2 = lVarB.bQ.externalSAFPathShown;
        String str3 = lVarB.bQ.externalSAFPathExtra;
        if (str == null) {
            l.e("No external folder set");
            return false;
        }
        l.e("External saf link: " + str);
        l.e("External saf shown path: " + str2);
        l.e("External saf extra: " + str3);
        try {
            Uri uri = Uri.parse(str);
            boolean z2 = false;
            String str4 = null;
            String strA = com.corrodinggames.rts.gameFramework.utility.a.a.a(uri, true);
            l.e("safVirualPathBase: " + strA);
            if (strA == null) {
                l.e("createSAFLink failed for uri: " + uri);
                z2 = true;
            } else {
                str4 = strA + str3;
                l.e("safVirualPath: " + str4);
                if (!com.corrodinggames.rts.gameFramework.e.a.f(str4)) {
                    l.e("isDirectory failed for: " + str4);
                    z2 = true;
                }
            }
            if (z2) {
                l.e("error for uri: " + uri);
                lVarB.bQ.externalSAFWorking = false;
                String str5 = "Failed to read: " + str2 + " - Folder might have moved or permission expired. Please setup again under in-game settings.";
                if (com.corrodinggames.rts.gameFramework.i.a.f545a == null) {
                    com.corrodinggames.rts.gameFramework.i.a.f545a = VariableScope.nullOrMissingString;
                }
                com.corrodinggames.rts.gameFramework.i.a.f545a += str5;
                com.corrodinggames.rts.gameFramework.i.a.b = str5;
                return false;
            }
            l.e("Using external path");
            lVarB.bQ.externalSAFWorking = true;
            com.corrodinggames.rts.gameFramework.e.a.d = str4;
            return true;
        } catch (Exception e) {
            e.printStackTrace();
            return false;
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/l.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import android.R;
import android.app.Activity;
import android.app.AlertDialog;
import android.content.Context;
import android.content.DialogInterface;
import android.graphics.Paint;
import android.graphics.Point;
import android.graphics.Rect;
import android.graphics.RectF;
import android.net.wifi.WifiInfo;
import android.net.wifi.WifiManager;
import android.os.Build;
import android.os.Debug;
import android.os.Handler;
import android.os.Looper;
import android.util.Log;
import android.view.KeyEvent;
import android.view.WindowManager;
import android.widget.Toast;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.PrintStream;
import java.io.PrintWriter;
import java.io.StringWriter;
import java.lang.Thread;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.Iterator;
import java.util.concurrent.ConcurrentLinkedQueue;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/l.class */
public abstract class l {
    public Context an;
    public com.corrodinggames.rts.appFramework.f ao;
    public com.corrodinggames.rts.appFramework.f ap;
    public boolean aq;
    public static Throwable av;
    public static boolean ay;
    public static boolean az;
    public static boolean aA;
    public static boolean aB;
    public static boolean aC;
    public static boolean aD;
    public static boolean aE;
    public static boolean aF;
    public static boolean aG;
    public static boolean aJ;
    public static boolean aR;
    public boolean aS;
    public static Class bg;
    public static com.corrodinggames.rts.gameFramework.m.y bh;
    public boolean bj;
    public boolean bp;
    public com.corrodinggames.rts.game.n bs;
    public boolean bv;
    public boolean bw;
    public int by;
    public int bz;
    public int bA;
    public int bB;
    public int bC;
    public boolean bD;
    public int bJ;
    public com.corrodinggames.rts.gameFramework.utility.i bK;
    public com.corrodinggames.rts.game.b.b bL;
    public com.corrodinggames.rts.gameFramework.a.e bM;
    public am bN;
    public com.corrodinggames.rts.gameFramework.m.y bO;
    public a bP;
    public SettingsEngine bQ;
    public com.corrodinggames.rts.gameFramework.d.c bR;
    public com.corrodinggames.rts.gameFramework.f.g bS;
    public ac bT;
    public com.corrodinggames.rts.gameFramework.k.l bU;
    public aa bV;
    public com.corrodinggames.rts.gameFramework.f.o bW;
    public com.corrodinggames.rts.gameFramework.j.ad bX;
    public bg bY;
    public com.corrodinggames.rts.gameFramework.i.a bZ;
    public y ca;
    public ba cb;
    public com.corrodinggames.rts.game.units.f.c cc;
    public br cd;
    public com.corrodinggames.rts.gameFramework.n.f ce;
    public c cf;
    public float ci;
    public float cj;
    public static Point ck;
    public float cl;
    public float cm;
    public float co;
    public float cp;
    public float cq;
    public float cr;
    public float cs;
    public boolean ct;
    public int cu;
    public int cv;
    public float cw;
    public float cx;
    public float cy;
    public float cz;
    public float cA;
    public float cB;
    public float cC;
    public float cD;
    public float cE;
    public float cF;
    public float cG;
    public float cH;
    public float cI;
    public float cJ;
    public boolean cR;
    public boolean cS;
    public float cT;
    public boolean cU;
    public boolean cZ;
    public float da;
    public float db;
    public String dl;
    public com.corrodinggames.rts.gameFramework.j.k dm;
    public Paint dn;

    /* renamed from: do, reason: not valid java name */
    public Paint f2do;
    public Paint dp;
    public int dw;
    float dA;
    public String dE;
    public String dF;
    public String dG;
    String dK;
    String dL;
    private int e;
    static byte[] dP;
    static com.corrodinggames.rts.gameFramework.utility.d dS;
    static boolean dV;
    static boolean dX;
    static boolean dY;
    public boolean ee;
    public boolean ef;
    public String eg;
    public boolean eh;
    public boolean ei;
    static int ej;
    protected static l al = null;
    public static boolean as = true;
    public static boolean at = false;
    public static boolean au = false;
    public static boolean aw = false;
    public static boolean ax = false;
    public static boolean aH = false;
    public static boolean aI = false;
    public static String aK = null;
    public static boolean aL = false;
    public static boolean aM = false;
    public static boolean aN = false;
    public static boolean aO = false;
    public static boolean aP = false;
    public static String aQ = null;
    public static boolean aT = false;
    public static boolean aU = false;
    public static boolean aV = false;
    public static boolean aW = false;
    public static boolean aX = false;
    public static boolean aY = false;
    public static boolean aZ = false;
    public static String ba = null;
    public static boolean bb = false;
    public static boolean bc = true;
    public static boolean bd = true;
    public static boolean be = false;
    public static boolean bf = false;
    public static o dy = new v();
    public static String dz = Build.VERSION.RELEASE;
    public static boolean dO = false;
    static byte[] dQ = new byte[1000];
    static byte[] dR = new byte[1000];
    static boolean dT = false;
    static int dU = 0;
    static u dW = null;
    public final Object aj = new Object();
    public final Object ak = new Object();
    public Context am = null;
    public boolean ar = false;
    public boolean bi = false;
    public boolean bk = false;
    public boolean bl = false;
    public boolean bm = false;
    public boolean bn = false;
    public boolean bo = false;
    public boolean bq = false;
    public boolean br = false;
    public float bt = 1.0f;
    public float bu = -1.0f;
    public int bx = 0;
    public boolean bE = false;
    public volatile boolean bF = false;
    public volatile boolean bG = false;
    public volatile boolean bH = false;
    public volatile boolean bI = false;
    public com.corrodinggames.rts.gameFramework.g.a cg = new com.corrodinggames.rts.gameFramework.g.a();
    public boolean ch = false;
    public float cn = 1.0f;
    public final Rect cK = new Rect();
    public final Rect cL = new Rect();
    public final RectF cM = new RectF();
    public final Rect cN = new Rect();
    public final RectF cO = new RectF();
    public final RectF cP = new RectF();
    public final Rect cQ = new Rect();
    public float cV = 1.0f;
    public boolean cW = false;
    public float cX = 1.0f;
    public float cY = 1.0f;
    public boolean dc = true;
    public boolean dd = true;
    public boolean de = true;
    public boolean df = true;
    public boolean dg = true;
    public float dh = 0.0f;
    public float di = 0.0f;
    public boolean dj = false;
    protected z dk = null;
    public boolean dq = false;
    public boolean dr = false;
    public float ds = 0.0f;
    public boolean dt = false;
    public boolean du = false;
    public boolean dv = false;
    public float dx = 0.0f;
    boolean dB = false;
    ArrayList dC = new ArrayList();
    final Handler dD = new Handler(Looper.b());

    /* renamed from: a, reason: collision with root package name */
    private Runnable f617a = new Runnable() { // from class: com.corrodinggames.rts.gameFramework.l.1
        @Override // java.lang.Runnable
        public void run() {
            String str = l.this.dE;
            try {
                if (str == null) {
                    l.b("Cannot show toast, no message");
                } else {
                    Toast.makeText(l.this.am, str, 1).show();
                }
            } catch (Exception e) {
                l.b("Error showing toast: " + ((Object) str));
                e.printStackTrace();
            }
        }
    };
    private Runnable b = new Runnable() { // from class: com.corrodinggames.rts.gameFramework.l.2
        @Override // java.lang.Runnable
        public void run() {
            DialogInterface.OnClickListener onClickListener = new DialogInterface.OnClickListener() { // from class: com.corrodinggames.rts.gameFramework.l.2.1
                @Override // android.content.DialogInterface.OnClickListener
                public void onClick(DialogInterface dialogInterface, int i) {
                    l.this.bp = false;
                }
            };
            DialogInterface.OnCancelListener onCancelListener = new DialogInterface.OnCancelListener() { // from class: com.corrodinggames.rts.gameFramework.l.2.2
                @Override // android.content.DialogInterface.OnCancelListener
                public void onCancel(DialogInterface dialogInterface) {
                    l.this.bp = false;
                }
            };
            l.e("showMessageBoxRunnable context:" + l.this.am.getClass().getName());
            try {
                new AlertDialog.Builder(l.this.am).setIcon(R.drawable.ic_dialog_alert).setTitle(l.this.dF).setMessage(l.this.dG).setOnCancelListener(onCancelListener).setPositiveButton("Ok", onClickListener).show();
            } catch (WindowManager.BadTokenException e) {
                l.b("Failed to show message: " + l.this.dG);
                e.printStackTrace();
            }
        }
    };
    public n dH = null;
    transient String dI = null;
    Object dJ = new Object();
    public boolean[] dM = new boolean[10];
    protected ConcurrentLinkedQueue dN = new ConcurrentLinkedQueue();
    private boolean[] c = new boolean[KeyEvent.a() + 1];
    private boolean[] d = new boolean[KeyEvent.a() + 1];
    public byte dZ = 42;
    public byte ea = 42;
    public final q eb = new q();
    public final q ec = new q();
    public final q ed = new q();

    public abstract void a(Context context);

    public abstract boolean a();

    public abstract boolean a(boolean z);

    public abstract void a(Activity activity, com.corrodinggames.rts.appFramework.f fVar, boolean z);

    public abstract void b(int i, int i2);

    public abstract int c(boolean z);

    public abstract boolean n();

    public abstract boolean p();

    public abstract String l();

    public abstract String m();

    public abstract String r();

    public abstract String t();

    public abstract String u();

    public abstract void s();

    public abstract String v();

    public abstract void a(boolean z, boolean z2, s sVar);

    public abstract void a(boolean z, s sVar);

    public abstract void e();

    public abstract void g();

    public abstract void x();

    public abstract void a(float f, int i);

    public abstract int z();

    public abstract int b();

    public abstract boolean c();

    public abstract boolean d();

    public static boolean b(Context context) {
        String strH;
        if (aU) {
            strH = "dedicatedServer";
        } else {
            strH = context.g().h();
        }
        Log.d("RustedWarfare", "packageName:" + strH);
        if (strH.contains("rtsdemo")) {
            return true;
        }
        return false;
    }

    public boolean A() {
        return this.cS || this.cT > 0.0f || this.cU;
    }

    public static final l B() {
        return al;
    }

    public static final boolean C() {
        return be;
    }

    public static final boolean D() {
        return bf;
    }

    public void c(Context context) {
        com.corrodinggames.rts.appFramework.c.a(context);
        this.am = context;
    }

    public static synchronized l a(Context context, n nVar) {
        if (al != null) {
            if (nVar != null) {
                al.dH = nVar;
            }
            al.c(context);
            return al;
        }
        al = dy.a(context);
        e("Created new gameEngine of:" + al.getClass().getName());
        if (nVar != null) {
            al.dH = nVar;
        }
        al.a(context);
        return al;
    }

    public l(Context context) {
        Log.d("RustedWarfare", "GameEngine:GameEngine()");
        if (al != null) {
            throw new RuntimeException("gameEngine already created");
        }
        c(context);
        al = this;
    }

    protected void finalize() throws Throwable {
        Log.d("RustedWarfare", "GameEngine:finalize()");
        super.finalize();
    }

    public boolean E() {
        return true;
    }

    public void F() {
    }

    public String G() {
        if (av()) {
            return "PC";
        }
        if (aZ) {
            String strA = com.corrodinggames.rts.gameFramework.l.a.a();
            if (strA != null) {
                return "IOS - " + strA;
            }
            return "IOS";
        }
        if (aU) {
            return "SERVER";
        }
        return Build.MODEL;
    }

    public String H() {
        return dz;
    }

    public boolean I() {
        if (this.bH) {
            return true;
        }
        return false;
    }

    public synchronized void J() {
        e("--- setRunning ---");
        if (!av() && !aZ) {
            this.bN.h();
        }
        if (!aW && !bb && this.dk == null) {
            this.dk = new z();
            this.dk.a(true);
            this.dk.start();
        }
    }

    public synchronized void K() {
        e("--- setStoppedIfNotInGameThread ---");
        if (Thread.currentThread() != this.dk) {
            L();
        }
    }

    public synchronized void L() {
        e("--- setStopped ---");
        if (this.dk == null) {
            Log.d("RustedWarfare", "gameThread already null");
            return;
        }
        if (!av()) {
            this.bN.f();
        }
        this.dk.a(false);
        if (Thread.currentThread() != this.dk) {
            boolean z = true;
            while (z) {
                try {
                    this.dk.join();
                    z = false;
                } catch (InterruptedException e) {
                }
            }
            Log.d("RustedWarfare", "thread stop");
        } else {
            g("currentThread is game thread");
        }
        this.dk = null;
        if (this.ao != null) {
            this.ao.l();
        }
        if (this.bE) {
            Debug.stopMethodTracing();
        }
    }

    public boolean M() {
        if (this.bX == null || !this.bX.B || this.bX.F || this.cb.j()) {
            return false;
        }
        return true;
    }

    public boolean N() {
        if (this.bX == null) {
            return false;
        }
        return this.bX.B;
    }

    public boolean O() {
        if (this.bX == null) {
            return false;
        }
        return this.bX.F || this.bX.B || this.cb.j();
    }

    public boolean P() {
        if (this.bX == null || this.bX.F) {
            return true;
        }
        return (this.bX.B || this.cb.j()) ? false : true;
    }

    public void Q() {
        this.ct = false;
        if (this.cy < 0.0f) {
            this.cy = 0.0f;
            this.ct = true;
        }
        if (this.cz < 0.0f) {
            this.cz = 0.0f;
            this.ct = true;
        }
        if (this.bL != null) {
            if (this.cy > this.bL.i() - this.cE) {
                this.cy = this.bL.i() - this.cE;
                this.ct = true;
            }
            if (this.cz > this.bL.j() - this.cB) {
                this.cz = this.bL.j() - this.cB;
                this.ct = true;
            }
            if (this.cE > this.bL.i()) {
                this.cy = (this.bL.i() / 2.0f) - (this.cE / 2.0f);
                this.ct = true;
            }
            if (this.cB > this.bL.j()) {
                this.cz = (this.bL.j() / 2.0f) - (this.cB / 2.0f);
                this.ct = true;
            }
        }
        a(this.cy, this.cz);
    }

    public void a(float f, float f2) {
        this.cy = f;
        this.cz = f2;
        this.cu = (int) this.cy;
        this.cv = (int) this.cz;
        this.cw = ((int) (this.cy * this.cX)) / this.cX;
        this.cx = ((int) (this.cz * this.cX)) / this.cX;
        int i = 90;
        if (C()) {
            i = 210;
        }
        this.cN.a((int) (this.cy - i), (int) (this.cz - i), (int) (this.cy + this.cA + i), (int) (this.cz + this.cB + i));
        this.cO.a(this.cN);
        this.cQ.a((int) this.cy, (int) this.cz, (int) (this.cy + this.cA), (int) (this.cz + this.cB));
        this.cP.a((int) (this.cy - 300), (int) (this.cz - 300), (int) (this.cy + this.cA + 300), (int) (this.cz + this.cB + 300));
    }

    public void b(float f, float f2) {
        a(f - (this.cE / 2.0f), f2 - (this.cB / 2.0f));
    }

    public static boolean d(Context context) {
        if (aU) {
            return false;
        }
        if (Build.MODEL.equals("GT-I9100") || Build.MODEL.equals("GT-I9300")) {
            try {
                WifiInfo connectionInfo = ((WifiManager) context.c("wifi")).getConnectionInfo();
                if (connectionInfo != null) {
                    if ("BlueStacks".equals(connectionInfo.getSSID())) {
                        return true;
                    }
                    return false;
                }
                return false;
            } catch (Exception e) {
                e.printStackTrace();
                return false;
            }
        }
        return false;
    }

    public void R() {
        if (this.cX != 1.0f) {
            this.bO.a(this.cX, this.cX);
        }
    }

    public void S() {
        if (this.cX != 1.0f) {
            this.bO.a(1.0f / this.cX, 1.0f / this.cX);
        }
    }

    public static void a(String str, Exception exc) {
        e(str);
        exc.printStackTrace();
    }

    public static String a(String str, String str2) {
        if (ax && !str.contains("\u001b[0m")) {
            str = str2 + str + "\u001b[0m";
        }
        return str;
    }

    public static void a(String str) {
        e(a("--- ERROR: " + str, "\u001b[31m"));
    }

    public static void b(String str) {
        e(a(str, "\u001b[33m"));
    }

    public static void a(String str, Throwable th) {
        b(str);
        e(VariableScope.nullOrMissingString + th.toString());
        e("cause:" + th.getCause());
        th.printStackTrace();
    }

    public static void c(String str) {
        if (aX) {
            Log.b("RustedWarfare", str);
        } else {
            Log.b("RustedWarfare", str);
        }
    }

    public static void d(String str) {
        c(str);
    }

    public static void e(String str) {
        c(str);
    }

    public static void b(String str, String str2) {
        c(str + ":" + str2);
    }

    public static synchronized void f(String str) {
        c(str + " (at " + System.nanoTime() + ")");
    }

    public static void T() {
        for (StackTraceElement stackTraceElement : new Throwable().getStackTrace()) {
            e(stackTraceElement.toString());
        }
    }

    public static String U() {
        String str = VariableScope.nullOrMissingString;
        for (StackTraceElement stackTraceElement : new Throwable().getStackTrace()) {
            str = str + stackTraceElement.toString() + "\n";
        }
        return str;
    }

    public static void g(String str) {
        b(str);
        T();
    }

    public static long V() {
        return System.currentTimeMillis();
    }

    public static final boolean a(long j, long j2) {
        long jV = V();
        if (j + j2 < jV || jV < j - 1000) {
            return true;
        }
        return false;
    }

    public float W() {
        float f = this.ci;
        if (this.bQ != null) {
            f = f * this.bQ.renderDensity * this.bQ.uiRenderScale;
            if (this.bQ.renderDoubleScale) {
                return f / 2.0f;
            }
        }
        return f;
    }

    public int e(float f) {
        return (int) ((f * this.cj) + 0.5f);
    }

    public int a(int i) {
        return (int) ((i * this.cj) + 0.5f);
    }

    public void X() {
        if (this.dA != this.cj) {
            e("Density size changed now: " + this.cj + ", refreshing fonts");
            synchronized (this.dC) {
                Iterator it = this.dC.iterator();
                while (it.hasNext()) {
                    ((m) it.next()).a();
                }
            }
            this.dA = this.cj;
            if (this.bO != null) {
            }
        }
    }

    protected void Y() {
        Iterator it = this.dC.iterator();
        while (it.hasNext()) {
            this.bO.a(((m) it.next()).b);
        }
        this.dB = true;
    }

    public void a(Paint paint) {
        a(paint, 16.0f);
    }

    public void a(Paint paint, float f) {
        m mVar = new m(this);
        mVar.f624a = f;
        mVar.b = paint;
        mVar.a();
        synchronized (this.dC) {
            this.dC.add(mVar);
        }
        if (this.dB) {
            this.bO.a(mVar.b);
        }
    }

    public void b(Paint paint, float f) {
        float fE = e(f);
        if (paint.k() != fE) {
            paint.b(fE);
        }
    }

    public void h(String str) {
        a(str, true);
    }

    public void a(String str, boolean z) {
        this.dI = str;
        if (this.dH != null) {
            this.dH.a(str, z);
        }
    }

    public void Z() {
        this.dI = null;
    }

    public void i(String str) {
        a(str, 1);
    }

    public void a(String str, int i) {
        if (aU) {
            e("alert:" + str);
        } else if (str == null) {
            g("Cannot show alert, no message text");
        } else {
            this.dE = str;
            this.dD.a(this.f617a);
        }
        if (this.dH != null) {
            this.dH.a(str, i);
        }
    }

    public boolean aa() {
        if (this.dH != null) {
            return this.dH.c();
        }
        return false;
    }

    public void a(String str, com.corrodinggames.rts.game.units.custom.bb bbVar) {
        String strB = null;
        if (bbVar != null) {
            strB = bbVar.b();
        }
        c(str, strB);
    }

    public void c(String str, String str2) {
        if (this.dH != null) {
            this.dH.a(str, str2);
        }
        if (aU) {
            if (this.dH == null) {
                b("showMessageBox: not showing due to non-android:" + str2);
            }
        } else {
            this.bp = true;
            this.dF = str;
            this.dG = str2;
            this.dD.a(this.b);
        }
    }

    public void ab() {
        synchronized (this.dJ) {
            if (this.dK != null) {
                c(this.dL, this.dK);
                this.dK = null;
                this.dL = null;
            }
        }
    }

    public void d(String str, String str2) {
        this.dL = str;
        this.dK = str2;
        if (aW) {
            ab();
        } else {
            new Thread() { // from class: com.corrodinggames.rts.gameFramework.l.3
                @Override // java.lang.Thread, java.lang.Runnable
                public void run() {
                    try {
                        sleep(3000L);
                    } catch (InterruptedException e) {
                    }
                    l.this.ab();
                }
            }.start();
        }
    }

    public boolean ac() {
        if (this.aq || this.ao.k() == null) {
            return false;
        }
        return this.ao.k().b();
    }

    public void ad() {
        if (this.ao.k() == null) {
            return;
        }
        this.ao.k().c();
    }

    public int ae() {
        if (this.aq) {
            return 0;
        }
        return this.ao.k().a();
    }

    public float af() {
        return b(0);
    }

    public float ag() {
        return c(0);
    }

    public float b(int i) {
        if (this.ao == null) {
            return 0.0f;
        }
        if (this.bQ.renderDoubleScale) {
            return this.ao.k().d()[i] / 2.0f;
        }
        return this.ao.k().d()[i];
    }

    public float c(int i) {
        if (this.ao == null) {
            return 0.0f;
        }
        if (this.bQ.renderDoubleScale) {
            return this.ao.k().f()[i] / 2.0f;
        }
        return this.ao.k().f()[i];
    }

    public int d(int i) {
        return this.ao.k().e()[i];
    }

    public boolean e(int i) {
        if (i != 1 && i != 2 && i != 3) {
            throw new RuntimeException("Unknown mouseButton:" + i);
        }
        if (f(i) != -1) {
            return true;
        }
        return false;
    }

    public int f(int i) {
        if (i == 0) {
            throw new RuntimeException("finding state of 0 doesn't make sense");
        }
        int[] iArrE = this.ao.k().e();
        for (int i2 = 0; i2 < iArrE.length; i2++) {
            if (iArrE[i2] == i) {
                return i2;
            }
        }
        return -1;
    }

    public boolean g(int i) {
        if (i < this.c.length && i >= 0 && this.c[i] && this.d[i]) {
            this.d[i] = false;
            return true;
        }
        return false;
    }

    public boolean h(int i) {
        if (i >= this.c.length || i < 0) {
            return false;
        }
        return this.c[i];
    }

    public boolean a(int i, boolean z) {
        boolean z2 = true;
        boolean z3 = true;
        int iAh = ah();
        if ((i & 2) != 0) {
            if ((iAh & 2) == 0) {
                z2 = false;
            }
        } else if ((iAh & 2) != 0) {
            z3 = false;
        }
        if ((i & 1) != 0) {
            if ((iAh & 1) == 0) {
                z2 = false;
            }
        } else if ((iAh & 1) != 0) {
            z3 = false;
        }
        if ((i & 4) != 0) {
            if ((iAh & 4) == 0) {
                z2 = false;
            }
        } else if ((iAh & 4) != 0) {
            z3 = false;
        }
        if (z) {
            return z2;
        }
        return z2 && z3;
    }

    public boolean i(int i) {
        if (i == 59 || i == 60 || i == 113 || i == 114 || i == 57 || i == 58) {
            return true;
        }
        return false;
    }

    public static String j(int i) {
        String str = VariableScope.nullOrMissingString;
        if ((i & 2) != 0) {
            str = str + "shift+";
        }
        if ((i & 1) != 0) {
            str = str + "ctrl+";
        }
        if ((i & 4) != 0) {
            str = str + "alt+";
        }
        return str;
    }

    public int ah() {
        int i = 0;
        if (h(59) || h(60)) {
            i = 0 + 2;
        }
        if (h(113) || h(114)) {
            i++;
        }
        if (h(57) || h(58)) {
            i += 4;
        }
        return i;
    }

    public boolean c(int i, int i2) {
        boolean z = false;
        boolean z2 = false;
        if (i >= 0 && i < this.c.length) {
            z = this.c[i];
        }
        if (i2 >= 0 && i2 < this.c.length) {
            z2 = this.c[i2];
        }
        return z || z2;
    }

    public void b(int i, boolean z) {
        if (i >= 0 && i < this.c.length) {
            this.c[i] = z;
            if (z) {
                this.d[i] = z;
                return;
            }
            return;
        }
        e("setKeyState: Key out of range:" + i);
    }

    public void k(int i) {
        this.dN.add(new t(this, i));
    }

    public int ai() {
        return this.e;
    }

    protected void aj() {
        this.e = 0;
        while (true) {
            p pVar = (p) this.dN.poll();
            if (pVar != null) {
                if (pVar instanceof r) {
                    r rVar = (r) pVar;
                    if (rVar.c >= this.c.length || rVar.c < 0) {
                        b("updateKeyState", "keyCode (" + rVar.c + ") is out of range");
                    } else {
                        this.c[rVar.c] = !rVar.d;
                        this.d[rVar.c] = !rVar.d;
                    }
                } else if (pVar instanceof t) {
                    this.e += ((t) pVar).c;
                }
            } else {
                return;
            }
        }
    }

    public static String j(String str) {
        int iLastIndexOf = str.lastIndexOf("/");
        if (iLastIndexOf == -1) {
            iLastIndexOf = str.length();
        }
        return str.substring(0, iLastIndexOf);
    }

    public static String k(String str) {
        int i;
        int iLastIndexOf = str.lastIndexOf("/");
        if (iLastIndexOf == -1) {
            i = 0;
        } else {
            i = iLastIndexOf + 1;
        }
        return str.substring(i);
    }

    public static Integer l(String str) {
        String strK = k(str);
        e("getMapLevel for :" + str + " file:" + strK);
        Matcher matcher = Pattern.compile("^l(\\d*);.*").matcher(strK);
        if (matcher.matches()) {
            e("getMapLevel:" + str + ":" + Integer.parseInt(matcher.group(1)));
            return Integer.valueOf(Integer.parseInt(matcher.group(1)));
        }
        return null;
    }

    public static String m(String str) {
        l lVarB = B();
        Integer numL = l(str);
        if (numL == null) {
            return null;
        }
        int iLastIndexOf = str.lastIndexOf("/");
        if (iLastIndexOf == -1) {
            iLastIndexOf = str.length();
        }
        String strSubstring = str.substring(0, iLastIndexOf);
        String[] strArrA = com.corrodinggames.rts.gameFramework.e.a.a(strSubstring, true);
        if (strArrA == null) {
            return null;
        }
        for (String str2 : strArrA) {
            Integer numL2 = l(str2);
            if (numL2 != null && numL2.intValue() > numL.intValue() && (!lVarB.ar || com.corrodinggames.rts.appFramework.i.a(str2, strSubstring + "/" + str2))) {
                return strSubstring + "/" + str2;
            }
        }
        return null;
    }

    public String ak() {
        return this.dl;
    }

    public String al() {
        String strL = this.dl;
        if ((this.dl == null || VariableScope.nullOrMissingString.equals(this.dl)) && N()) {
            strL = this.bX.l();
        }
        return com.corrodinggames.rts.appFramework.i.e(com.corrodinggames.rts.appFramework.i.d(strL));
    }

    public String am() {
        return com.corrodinggames.rts.appFramework.i.d(this.dl);
    }

    public com.corrodinggames.rts.gameFramework.j.ai an() {
        if (com.corrodinggames.rts.appFramework.i.g(this.dl)) {
            return com.corrodinggames.rts.gameFramework.j.ai.customMap;
        }
        return com.corrodinggames.rts.gameFramework.j.ai.skirmishMap;
    }

    public static String a(Throwable th) {
        StringWriter stringWriter = new StringWriter();
        PrintWriter printWriter = new PrintWriter(stringWriter);
        th.printStackTrace(printWriter);
        String string = stringWriter.toString();
        printWriter.close();
        return string;
    }

    public static String b(Throwable th) {
        String strReplace;
        Throwable th2;
        String message = th.getMessage();
        if (message == null) {
            strReplace = th.getClass().getName();
        } else {
            strReplace = message.replace("java.lang.RuntimeException: ", VariableScope.nullOrMissingString).replace("java.lang.RuntimeException: ", VariableScope.nullOrMissingString);
        }
        Throwable th3 = th;
        while (true) {
            th2 = th3;
            if (th2 == null) {
                break;
            }
            Throwable cause = th2.getCause();
            if (cause == null || cause == th || cause == th2) {
                break;
            }
            th3 = cause;
        }
        if (th2 != null && th2 != th) {
            String message2 = th2.getMessage();
            if (message2 == null) {
                message2 = th2.getClass().getName();
            }
            if (!message2.equals(strReplace)) {
                strReplace = strReplace + " caused by (" + message2 + ")";
            }
        }
        return strReplace;
    }

    public static File ao() {
        com.corrodinggames.rts.gameFramework.e.a.d();
        String str = "/SD/rustedWarfare/crashes.txt";
        if (at()) {
            str = "/SD/rustedWarfare/crashes.txt";
        }
        return new File(com.corrodinggames.rts.gameFramework.e.a.e(str));
    }

    public static void e(String str, String str2) {
        try {
            PrintWriter printWriter = new PrintWriter(com.corrodinggames.rts.gameFramework.e.a.a(ao(), true));
            printWriter.write("\r\n" + str + " (at " + new SimpleDateFormat("yyyy-MM-dd HH:mm:ss.SSS").format(new Date()) + " - 1.15" + VariableScope.nullOrMissingString + ")\n");
            printWriter.write(str2 + "\r\n");
            printWriter.close();
        } catch (Throwable th) {
            e("Exception in writeCrashToFile");
            th.printStackTrace();
        }
    }

    public static void ap() {
        if (!at || aU) {
            return;
        }
        if (dS != null) {
            b("setupANRWatchDog: activeANRWatchDog!=null");
            return;
        }
        dS = new com.corrodinggames.rts.gameFramework.utility.d(4000);
        dS.a(new com.corrodinggames.rts.gameFramework.utility.e() { // from class: com.corrodinggames.rts.gameFramework.l.4
            @Override // com.corrodinggames.rts.gameFramework.utility.e
            public void a(com.corrodinggames.rts.gameFramework.utility.a aVar) throws InterruptedException, IOException {
                if (l.dT) {
                    l.b("activeANRWatchDog: ANR already detected");
                }
                l.dT = true;
                l.b("activeANRWatchDog: ANR detected");
                String strA = l.a(aVar);
                com.corrodinggames.rts.gameFramework.j.n.a("detectedANR", strA);
                try {
                    Thread.sleep(400L);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                try {
                    FileOutputStream fileOutputStream = new FileOutputStream(y.a("lastFreeze", VariableScope.nullOrMissingString, true));
                    PrintStream printStream = new PrintStream(fileOutputStream);
                    printStream.print(strA);
                    printStream.close();
                    fileOutputStream.close();
                } catch (IOException e2) {
                    throw new RuntimeException(e2);
                }
            }
        });
        dS.start();
        b("setupANRWatchDog: running");
    }

    public static void aq() {
        if (dP == null && av()) {
            dP = new byte[2500000];
            dP[0] = 2;
            dP[dP.length - 1] = 5;
        }
        if (aA) {
            Thread.UncaughtExceptionHandler uncaughtExceptionHandler = Thread.currentThread().getUncaughtExceptionHandler();
            if (!(uncaughtExceptionHandler instanceof i)) {
                Thread.currentThread().setUncaughtExceptionHandler(new i(uncaughtExceptionHandler));
                return;
            }
            return;
        }
        Thread.UncaughtExceptionHandler defaultUncaughtExceptionHandler = Thread.getDefaultUncaughtExceptionHandler();
        if (!(defaultUncaughtExceptionHandler instanceof i)) {
            Thread.setDefaultUncaughtExceptionHandler(new i(defaultUncaughtExceptionHandler));
        }
    }

    public boolean ar() {
        return true;
    }

    public boolean as() {
        return true;
    }

    public static void n(String str) {
        l lVarB = B();
        if (lVarB != null) {
            dU++;
            if (dU < 1000) {
                b("reportProblem: " + str);
            }
            if (dU < 10) {
                lVarB.a(str, 1);
            }
        }
    }

    public static boolean at() {
        return !aU;
    }

    public static boolean au() {
        return !aW || aZ;
    }

    public static boolean av() {
        return aW && !aZ;
    }

    public static boolean aw() {
        return aW && !aZ;
    }

    public static boolean ax() {
        return aU && !aW;
    }

    public boolean ay() {
        return this.bX.B || this.cb.j();
    }

    public void a(com.corrodinggames.rts.game.units.am amVar, float f) {
        this.bW.a((int) amVar.eo, (int) amVar.ep, f, amVar);
        this.bS.i.c(amVar);
    }

    public static boolean az() {
        l lVarB = B();
        if (lVarB != null && lVarB.bQ.teamShaders && (lVarB.bQ.newRender || !at())) {
            return true;
        }
        return aN;
    }

    public static boolean aA() {
        l lVarB = B();
        if (lVarB != null && lVarB.bQ.shaderEffects && (lVarB.bQ.newRender || !at())) {
            return true;
        }
        return aM;
    }

    public static boolean aB() {
        l lVarB = B();
        if (lVarB != null && lVarB.bQ.shaderEffects && (lVarB.bQ.newRender || !at())) {
            return true;
        }
        return aM;
    }

    public static void aC() {
        System.out.println("Free memory (bytes): " + Runtime.getRuntime().freeMemory());
        long jMaxMemory = Runtime.getRuntime().maxMemory();
        System.out.println("Maximum memory (bytes): " + (jMaxMemory == Long.MAX_VALUE ? "no limit" : Long.valueOf(jMaxMemory)));
        System.out.println("Total memory (bytes): " + Runtime.getRuntime().totalMemory());
    }

    public Context aD() {
        return this.am;
    }

    public static void f(String str, String str2) {
        l lVarB = B();
        if (lVarB == null) {
            return;
        }
        if (lVarB.bS != null && lVarB.bS.h != null) {
            lVarB.bS.h.a(str, str2);
        } else {
            g("addMessage: interfaceEngine/messageInterface==null");
        }
    }

    public static void a(u uVar, Throwable th) {
        dQ = null;
        e("reportCaughtOutOfMemory:" + dW);
        if (dW != null) {
            return;
        }
        dW = uVar;
        if (th != null) {
            c(th);
        }
        aC();
    }

    public static void c(Throwable th) {
        try {
            th.printStackTrace();
        } catch (Throwable th2) {
            e("Failed to print stacktrace");
        }
    }

    public void aE() {
        if (dX && !dY) {
            dY = true;
            String str = "Warning game has less than 5mb of free space remaining. A larger battle might cause a crash. ";
            int iH = this.bZ.h();
            if (iH > 1) {
                str = str + "This is often caused by large mods, you currently have: " + iH + " mods loaded. ";
            }
            c("Warning: Low memory detected", str);
        }
        if (!dV && dW != null) {
            e("Showing out of memory message");
            dV = true;
            String str2 = "trying to load data";
            if (dW == u.gameImage) {
                str2 = "trying to load game textures";
            } else if (dW == u.gameImageCreate) {
                str2 = "trying to create a texture";
            } else if (dW == u.gameImageColor) {
                str2 = "trying to colour new texture";
            } else if (dW == u.gameImageFogBuffer) {
                str2 = "trying to create texture buffer for on-screen fog fading";
            } else if (dW == u.gameFont) {
                str2 = "trying to create game fonts";
            } else if (dW == u.gameSound) {
                str2 = "trying to load game sounds";
            } else if (dW == u.uiImage) {
                str2 = "trying to load UI textures";
            }
            String str3 = "The game ran out of memory " + str2 + ". ";
            int iH2 = this.bZ.h();
            if (iH2 > 1) {
                str3 = str3 + "This is often caused by large mods, you currently have: " + iH2 + " mods. ";
            }
            if (av() && !com.corrodinggames.rts.game.i.b) {
                str3 = str3 + "You are also using the 32 bit version, switching to the 64 bit version might help. ";
            }
            c("Warning: Out Of Memory", str3);
        }
    }

    public void aF() {
        try {
            byte[] bArr = new byte[5000000];
            bArr[0] = this.dZ;
            this.ea = bArr[1];
        } catch (OutOfMemoryError e) {
            System.gc();
            e("Low memory detected");
            e.printStackTrace();
            dX = true;
        }
    }

    public void a(Runnable runnable) {
        this.ec.a(runnable);
    }

    public final boolean a(float f, float f2, float f3) {
        return this.cM.f48a < f + f3 && f - f3 < this.cM.c && this.cM.b < f2 + f3 && f2 - f3 < this.cM.d;
    }

    public static boolean o(String str) {
        if (aQ == null) {
            return false;
        }
        return aQ.contains(str);
    }

    public static void p(String str) {
        com.corrodinggames.rts.gameFramework.j.ad adVar = B().bX;
        String str2 = VariableScope.nullOrMissingString + str;
        b(str2);
        T();
        ej++;
        if (ej < 10 && adVar != null) {
            adVar.m(str2);
        }
    }

    public void a(com.corrodinggames.rts.gameFramework.g.f fVar, com.corrodinggames.rts.gameFramework.g.c cVar) {
        this.cg = new com.corrodinggames.rts.gameFramework.g.a(fVar, cVar);
        this.cg.a();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/ap.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import android.content.res.AssetFileDescriptor;
import android.media.MediaPlayer;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/ap.class */
public class ap extends as {

    /* renamed from: a, reason: collision with root package name */
    MediaPlayer f408a;
    ao b;
    an c;

    public ap(an anVar) {
        this.c = anVar;
        if (anVar.b.size() == 0) {
            throw new RuntimeException("Music player pool empty");
        }
        MediaPlayer mediaPlayer = (MediaPlayer) anVar.b.remove(0);
        anVar.c.add(this);
        this.f408a = mediaPlayer;
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public void a(ar arVar) {
        this.b = (ao) arVar;
    }

    /* JADX WARN: Finally extract failed */
    @Override // com.corrodinggames.rts.gameFramework.as
    public void a(boolean z) throws IllegalStateException, IOException, SecurityException, IllegalArgumentException {
        try {
            MediaPlayer mediaPlayer = this.f408a;
            mediaPlayer.reset();
            AssetFileDescriptor assetFileDescriptorB = null;
            if (this.b.b.startsWith("music")) {
                try {
                    assetFileDescriptorB = this.c.e.w.d().b(com.corrodinggames.rts.gameFramework.e.a.e(this.b.b));
                    mediaPlayer.setDataSource(assetFileDescriptorB.getFileDescriptor(), assetFileDescriptorB.getStartOffset(), assetFileDescriptorB.getLength());
                } catch (IOException e) {
                    throw new RuntimeException(e);
                }
            } else {
                String strE = com.corrodinggames.rts.gameFramework.e.a.e(this.b.b);
                if (com.corrodinggames.rts.gameFramework.utility.ae.a(strE) == null) {
                    mediaPlayer.setDataSource(strE);
                } else {
                    com.corrodinggames.rts.gameFramework.utility.j jVarK = com.corrodinggames.rts.gameFramework.e.a.k(strE);
                    if (jVarK == null) {
                        throw new RuntimeException("openAssetSteam() null for '" + strE + "'");
                    }
                    File fileA = com.corrodinggames.rts.gameFramework.e.a.a(this.c.e.w, "music", "ogg");
                    l.e("Temp file needed for this music from zipped/abstract mod file");
                    try {
                        FileOutputStream fileOutputStream = new FileOutputStream(fileA);
                        f.a(jVarK, fileOutputStream);
                        fileOutputStream.close();
                        jVarK.close();
                        FileInputStream fileInputStream = new FileInputStream(fileA);
                        try {
                            mediaPlayer.setDataSource(fileInputStream.getFD(), 0L, fileInputStream.available());
                            fileInputStream.close();
                            fileA.delete();
                        } catch (Throwable th) {
                            fileInputStream.close();
                            throw th;
                        }
                    } catch (Throwable th2) {
                        fileA.delete();
                        throw th2;
                    }
                }
            }
            if (z) {
                mediaPlayer.setLooping(true);
            }
            mediaPlayer.setVolume(0.0f, 0.0f);
            mediaPlayer.setOnInfoListener(new MediaPlayer.OnInfoListener() { // from class: com.corrodinggames.rts.gameFramework.ap.1
                @Override // android.media.MediaPlayer.OnInfoListener
                public boolean onInfo(MediaPlayer mediaPlayer2, int i, int i2) {
                    return true;
                }
            });
            mediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() { // from class: com.corrodinggames.rts.gameFramework.ap.2
                @Override // android.media.MediaPlayer.OnPreparedListener
                public void onPrepared(MediaPlayer mediaPlayer2) throws IllegalStateException {
                    mediaPlayer2.start();
                }
            });
            mediaPlayer.prepareAsync();
            if (assetFileDescriptorB != null) {
                assetFileDescriptorB.close();
            }
        } catch (Exception e2) {
            throw new RuntimeException(e2);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public void a() throws IllegalStateException {
        this.f408a.pause();
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public void b() throws IllegalStateException {
        this.f408a.start();
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public boolean c() {
        return this.f408a.isPlaying();
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public void d() throws IllegalStateException {
        if (this.f408a != null) {
            this.f408a.stop();
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public void e() throws IllegalStateException {
        if (this.f408a != null) {
            this.f408a.stop();
        }
        this.f408a = null;
        this.c.c.remove(this);
        this.c.b.add(this.f408a);
    }

    @Override // com.corrodinggames.rts.gameFramework.as
    public void a(float f) {
        this.f408a.setVolume(f, f);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/aq.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/aq.class */
public abstract class aq {
    protected am e;

    public abstract ar a(String str);

    public abstract as a();

    public abstract void a(am amVar);

    public abstract void b();

    public void a(int i) {
    }

    public void a(float f) {
    }

    public boolean c() {
        return false;
    }

    public boolean d() {
        return true;
    }

    public int e() {
        return 0;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import android.graphics.Paint;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m.class */
class m {

    /* renamed from: a, reason: collision with root package name */
    float f624a;
    Paint b;
    final /* synthetic */ l c;

    m(l lVar) {
        this.c = lVar;
    }

    void a() {
        float fE = this.c.e(this.f624a);
        if (this.b.k() != fE) {
            if (this.b instanceof com.corrodinggames.rts.gameFramework.m.ag) {
                ((com.corrodinggames.rts.gameFramework.m.ag) this.b).c(fE);
            } else {
                this.b.b(fE);
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/bn.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.io.IOException;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bn.class */
public class bn {

    /* renamed from: a, reason: collision with root package name */
    private int f455a = -1;
    private bi[] b = new bi[bj.values().length];

    public bn() {
        a();
    }

    public void a() {
        for (int i = 0; i < this.b.length; i++) {
            this.b[i] = new bi();
        }
    }

    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        int iF;
        int iF2;
        if (kVar.e()) {
            kVar.a("History");
            kVar.d();
            this.f455a = kVar.f();
            boolean zE = kVar.e();
            int iD = kVar.d();
            a();
            for (int i = 0; i < iD; i++) {
                int i2 = 0;
                int i3 = 0;
                int iV = kVar.v();
                for (int i4 = 0; i4 < iV; i4++) {
                    if (zE) {
                        iF = kVar.f() + i2;
                        iF2 = kVar.f() + i3;
                        i2 = iF;
                        i3 = iF2;
                    } else {
                        iF = kVar.f();
                        iF2 = kVar.f();
                    }
                    if (i < this.b.length) {
                        this.b[i].add(new bh(iF, iF2));
                    }
                }
            }
        }
    }

    public void a(com.corrodinggames.rts.gameFramework.j.as asVar) throws IOException {
        asVar.a(true);
        if (1 != 0) {
            asVar.e();
            asVar.c(0);
            asVar.a(this.f455a);
            asVar.a(true);
            asVar.c(this.b.length);
            int i = 0;
            for (bi biVar : this.b) {
                short size = (short) biVar.size();
                asVar.a(size);
                int i2 = 0;
                int i3 = 0;
                for (int i4 = 0; i4 < size; i4++) {
                    i++;
                    bh bhVar = (bh) biVar.get(i4);
                    if (1 != 0) {
                        int i5 = bhVar.f452a;
                        int i6 = bhVar.b;
                        asVar.a(i5 - i2);
                        asVar.a(i6 - i3);
                        i2 = i5;
                        i3 = i6;
                    } else {
                        asVar.a(bhVar.f452a);
                        asVar.a(bhVar.b);
                    }
                }
            }
            l.e("TeamHistory(" + this.f455a + "): totalValues written:" + i);
        }
    }

    public void a(com.corrodinggames.rts.game.n nVar, int i, boolean z) {
        for (bj bjVar : bj.values()) {
            int iA = bjVar.e.a(nVar);
            bi biVar = this.b[bjVar.ordinal()];
            if (biVar.isEmpty() || z || ((bh) biVar.get(biVar.size() - 1)).b != iA) {
                biVar.add(new bh(i, iA));
            }
        }
    }

    public void a(int i) {
        this.f455a = i;
    }

    public int b() {
        return this.f455a;
    }

    public bi a(bj bjVar) {
        return this.b[bjVar.ordinal()];
    }

    public boolean c() {
        if (this.f455a < 0) {
            return false;
        }
        for (bi biVar : this.b) {
            if (biVar.size() > 1) {
                return true;
            }
        }
        return false;
    }

    public int a(bj bjVar, int i) {
        return this.b[bjVar.ordinal()].a(i);
    }

    public void a(bn bnVar) {
        for (int i = 0; i < this.b.length; i++) {
            this.b[i] = a(this.b[i], bnVar.b[i]);
        }
    }

    private bi a(bi biVar, bi biVar2) {
        if (biVar.isEmpty()) {
            biVar.addAll(biVar2);
            return biVar;
        }
        bi biVar3 = new bi();
        int i = 0;
        int i2 = 0;
        int i3 = 0;
        Iterator it = biVar.iterator();
        while (it.hasNext()) {
            bh bhVar = (bh) it.next();
            int i4 = bhVar.f452a;
            int i5 = bhVar.b;
            if (i < biVar2.size()) {
                bh bhVar2 = (bh) biVar2.get(i);
                while (bhVar2.f452a < i4) {
                    i3 = bhVar2.b;
                    biVar3.add(new bh(bhVar2.f452a, i2 + i3));
                    i++;
                    if (i < biVar2.size()) {
                        bhVar2 = (bh) biVar2.get(i);
                    }
                }
                if (bhVar2.f452a == i4) {
                    i3 = bhVar2.b;
                    i2 = i5;
                    biVar3.add(new bh(i4, i2 + i3));
                    i++;
                } else if (bhVar2.f452a > i4) {
                    i2 = i5;
                    biVar3.add(new bh(i4, i2 + i3));
                }
            } else {
                i2 = i5;
                biVar3.add(new bh(i4, i2 + i3));
            }
        }
        while (i < biVar2.size()) {
            bh bhVar3 = (bh) biVar2.get(i);
            biVar3.add(new bh(bhVar3.f452a, i2 + bhVar3.b));
            i++;
        }
        return biVar3;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/ad.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.Locale;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/ad.class */
public class ad {

    /* renamed from: a, reason: collision with root package name */
    public String f401a;
    public boolean b = false;
    public ArrayList c = new ArrayList();
    public ArrayList d = new ArrayList();

    public boolean a() {
        Iterator it = this.c.iterator();
        while (it.hasNext()) {
            af afVar = (af) it.next();
            if (afVar.f402a == -1 && afVar.a()) {
                return true;
            }
        }
        return false;
    }

    public boolean b() {
        Iterator it = this.c.iterator();
        while (it.hasNext()) {
            af afVar = (af) it.next();
            if (afVar != null && afVar.f402a == -1 && afVar.b()) {
                return true;
            }
        }
        return false;
    }

    public String c() {
        Iterator it = this.c.iterator();
        while (it.hasNext()) {
            af afVar = (af) it.next();
            if (afVar != null) {
                return afVar.c().toUpperCase();
            }
        }
        return VariableScope.nullOrMissingString;
    }

    public af a(int i) {
        if (this.c.size() > i) {
            return (af) this.c.get(i);
        }
        return null;
    }

    public String b(int i) {
        if (this.c.size() > i) {
            af afVar = (af) this.c.get(i);
            if (afVar == null) {
                return "<null>";
            }
            return afVar.c().toUpperCase();
        }
        return VariableScope.nullOrMissingString;
    }

    public ad c(int i) {
        return a(i, 0, 0, false);
    }

    public ad a(int i, int i2, int i3, boolean z) {
        ag agVar = new ag();
        agVar.e = i;
        agVar.f402a = -1;
        agVar.b = i3;
        if (z) {
            agVar.d = true;
        }
        if (this.c.size() <= i2) {
            this.c.add(new ak());
        }
        if (this.c.size() <= i2) {
            this.c.add(new ak());
        }
        this.c.set(i2, agVar);
        return this;
    }

    public ad a(String str) {
        return a(str, -1);
    }

    public ad a(String str, int i) {
        if (str == null) {
            throw new RuntimeException("key==null");
        }
        return a(-1, str, i);
    }

    public ad a(int i, String str, int i2) {
        if (str == null) {
            throw new RuntimeException("key==null");
        }
        ag agVar = new ag();
        agVar.f402a = i;
        agVar.b = 0;
        String lowerCase = str.toLowerCase(Locale.ENGLISH);
        if (lowerCase.contains("alt+")) {
            lowerCase = lowerCase.replace("alt+", VariableScope.nullOrMissingString);
            agVar.b += 4;
        }
        if (lowerCase.contains("ctrl+")) {
            lowerCase = lowerCase.replace("ctrl+", VariableScope.nullOrMissingString);
            agVar.b++;
        }
        if (lowerCase.contains("shift+")) {
            lowerCase = lowerCase.replace("shift+", VariableScope.nullOrMissingString);
            agVar.b += 2;
        }
        try {
            agVar.e = ac.d(lowerCase);
            if (i2 == -1) {
                this.c.add(agVar);
            } else {
                if (this.c.size() <= i2) {
                    this.c.add(new ak());
                }
                if (this.c.size() <= i2) {
                    this.c.add(new ak());
                }
                this.c.set(i2, agVar);
            }
        } catch (SlickToAndroidKeycodes.MissingKey e) {
            e.printStackTrace();
            l lVarB = l.B();
            if (lVarB != null) {
                lVarB.a(e.getMessage(), 1);
            }
        }
        return this;
    }

    public ad b(int i, int i2, int i3, boolean z) {
        ah ahVar = new ah();
        ahVar.f402a = i;
        ahVar.e = i2;
        ahVar.f = i3;
        ahVar.g = z;
        try {
            ahVar.i = ahVar.a(true);
            this.c.add(ahVar);
            return this;
        } catch (IndexOutOfBoundsException e) {
            l.b("Failed to bind Axis:" + i3 + " on joystick:" + i2);
            return this;
        }
    }

    public boolean d() {
        return false;
    }

    public String e() {
        return this.f401a.replace("-", VariableScope.nullOrMissingString).replace("  ", " ").replace("  ", " ").replace(" ", "_").toLowerCase(Locale.ENGLISH);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/x.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.util.Comparator;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/x.class */
public class x implements Comparator {
    x() {
    }

    @Override // java.util.Comparator
    /* renamed from: a, reason: merged with bridge method [inline-methods] */
    public int compare(w wVar, w wVar2) {
        if (wVar.em > wVar2.em) {
            return 1;
        }
        if (wVar.em < wVar2.em) {
            return -1;
        }
        if (wVar.en > wVar2.en) {
            return 1;
        }
        if (wVar.en < wVar2.en) {
            return -1;
        }
        if (wVar.ep > wVar2.ep) {
            return 1;
        }
        return wVar.ep < wVar2.ep ? -1 : 0;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/a.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/a.class */
public class a {
    ArrayList n = new ArrayList();

    /* renamed from: a, reason: collision with root package name */
    public b f392a = a((byte) 1);
    public b b = a((byte) 2);
    public b c = a((byte) 3);
    public b d = a((byte) 4);
    public b e = a((byte) 10);
    public b f = a((byte) 11);
    public b g = a((byte) 13);
    public b h = a((byte) 21);
    public b i = a((byte) 35);
    public b j = a((byte) 40);
    public b k = a((byte) 45);
    public b l = a((byte) 52);
    public b m = a((byte) 60);

    public a() {
        b bVar = this.f392a;
        bVar.a(bVar);
        bVar.a(a((byte) 3));
        bVar.a(a((byte) 4));
        bVar.a(a((byte) 10));
        bVar.a(a((byte) 11));
        bVar.a(a((byte) 13));
        bVar.a(a((byte) 21));
        this.k.a(a((byte) 52));
        b bVar2 = this.m;
        bVar2.a(bVar2);
        bVar2.a(a((byte) 3));
        bVar2.a(a((byte) 4));
        bVar2.a(a((byte) 10));
        bVar2.a(a((byte) 11));
        bVar2.a(a((byte) 13));
        bVar2.a(a((byte) 21));
        b bVarA = a((byte) 10);
        bVarA.a(a((byte) 3));
        bVarA.a(a((byte) 4));
        bVarA.a(a((byte) 10));
        bVarA.a(a((byte) 13));
        bVarA.a(a((byte) 40));
        b bVarA2 = a((byte) 11);
        bVarA2.a(a((byte) 3));
        bVarA2.a(a((byte) 10));
        bVarA2.a(a((byte) 13));
        bVarA2.a(a((byte) 40));
        b bVarA3 = a((byte) 3);
        bVarA3.a(a((byte) 3));
        bVarA3.a(a((byte) 4));
        bVarA3.a(a((byte) 10));
        bVarA3.a(a((byte) 13));
        b bVarA4 = a((byte) 4);
        bVarA4.a(a((byte) 3));
        bVarA4.a(a((byte) 4));
        bVarA4.a(a((byte) 10));
        bVarA4.a(a((byte) 13));
        b bVarA5 = a((byte) 13);
        bVarA5.a(a((byte) 3));
        bVarA5.a(a((byte) 4));
        bVarA5.a(a((byte) 10));
        bVarA5.a(a((byte) 13));
        b bVarA6 = a((byte) 21);
        bVarA6.a(a((byte) 3));
        bVarA6.a(a((byte) 4));
        bVarA6.a(a((byte) 10));
        bVarA6.a(a((byte) 13));
        b bVar3 = this.i;
        bVar3.a(a((byte) 10));
        bVar3.a(a((byte) 13));
    }

    public b a(byte b) {
        Iterator it = this.n.iterator();
        while (it.hasNext()) {
            b bVar = (b) it.next();
            if (bVar.f416a == b) {
                return bVar;
            }
        }
        b bVar2 = new b();
        bVar2.f416a = b;
        this.n.add(bVar2);
        return bVar2;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/bb.java
================================================================================

package com.corrodinggames.rts.gameFramework;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.IOException;
import java.util.concurrent.ConcurrentLinkedQueue;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/bb.class */
class bb implements Runnable {
    volatile int b;
    int c;
    int d;
    int e;
    int f;
    int g;
    final /* synthetic */ ba k;

    /* renamed from: a, reason: collision with root package name */
    volatile boolean f446a = true;
    boolean h = false;
    public ConcurrentLinkedQueue i = new ConcurrentLinkedQueue();
    public long j = 0;

    bb(ba baVar) {
        this.k = baVar;
    }

    public synchronized void a(bd bdVar) {
        if (this.h) {
            l.e("Replay:addCommand skipped due to stopped recording");
        }
        this.i.add(bdVar);
        this.f = bdVar.f448a;
        if (bdVar.e != null) {
            this.k.A++;
        }
        if (bdVar.f != null) {
            this.k.B++;
        }
        notifyAll();
    }

    public synchronized void a() {
        this.f446a = false;
        l lVarB = l.B();
        ba.a("stop requested at:" + lVarB.bx);
        if (!this.k.P) {
            ba.a("Replay stop: warning: active==false");
        }
        if (this.k.u) {
            ba.a("Replay stop: warning: replaying==true");
        }
        this.b = lVarB.bx;
        this.c = lVarB.by;
        this.d = this.k.A;
        this.e = this.k.B;
        if (this.b < this.f) {
            l.e("Replay: stoppedFrame<lastCommandFrame: " + this.b + "<" + this.f);
            this.b = this.f;
        }
        this.j = 0L;
        notifyAll();
    }

    private synchronized void b() throws InterruptedException {
        try {
            if (this.f446a) {
                wait();
            }
        } catch (InterruptedException e) {
        }
    }

    @Override // java.lang.Runnable
    public void run() throws InterruptedException {
        l.aq();
        while (this.f446a) {
            if (this.i.size() > 0) {
                bd bdVar = (bd) this.i.remove();
                try {
                    if (bdVar.e != null) {
                        this.k.J.e("rc");
                        this.k.J.a(bdVar.f448a);
                        bdVar.e.a(this.k.J);
                        this.k.J.a("rc");
                        this.g = bdVar.f448a;
                    } else if (bdVar.c != null) {
                        this.k.J.e("cs");
                        this.k.J.a(bdVar.f448a);
                        this.k.J.a(bdVar.c.longValue());
                        this.k.J.a("cs");
                    } else if (bdVar.d != null) {
                        this.k.J.e("wait");
                        this.k.J.a(bdVar.f448a);
                        this.k.J.a("wait");
                        this.k.J.e("es");
                        this.k.J.a(bdVar.f448a);
                        this.k.J.a(bdVar.d);
                        this.k.J.a("es");
                    } else if (bdVar.f != null) {
                        this.k.J.e("wait");
                        this.k.J.a(bdVar.f448a);
                        this.k.J.a("wait");
                        this.k.J.e("resync");
                        this.k.J.a(bdVar.f448a);
                        this.k.J.a(bdVar.h);
                        this.k.J.a(bdVar.i);
                        this.k.J.a(bdVar.j);
                        this.k.J.a(bdVar.k);
                        this.k.J.a(bdVar.f);
                        this.k.J.a("resync");
                    } else if (bdVar.g != null) {
                        this.k.J.e("chat");
                        this.k.J.a(bdVar.f448a);
                        this.k.J.a(bdVar.g.f447a);
                        this.k.J.b(bdVar.g.b);
                        this.k.J.b(bdVar.g.c);
                        this.k.J.a("chat");
                    } else {
                        throw new RuntimeException("Unknown saved command");
                    }
                    if (this.j == 0 || this.j + 3000 < System.currentTimeMillis()) {
                        this.j = System.currentTimeMillis();
                        this.k.J.a();
                    }
                } catch (IOException e) {
                    l lVarB = l.B();
                    l.a("Replay error", (Throwable) e);
                    lVarB.bS.h.a(VariableScope.nullOrMissingString, "IO error recording replay, disabling record");
                    this.k.P = false;
                    this.h = true;
                    return;
                }
            }
            if (this.i.size() == 0) {
                b();
            }
        }
        try {
            this.k.J.e("wait");
            this.k.J.a(this.b);
            this.k.J.a("wait");
            this.k.J.e("end");
            this.k.J.a("end");
            this.k.J.e("endReplayMetaData");
            this.k.J.c(0);
            this.k.J.a(this.b);
            this.k.J.a(this.c);
            this.k.J.a(this.d);
            this.k.J.a(this.e);
            this.k.J.c("{frames:" + this.b + ",time:" + this.c + ",commandCount:" + this.d + ",resyncCount:" + this.e + "}");
            this.k.J.a("endReplayMetaData");
            this.k.J.a();
            ba.a("Background writer stopping");
            ba.a("Remainding commands: " + this.i.size());
            ba.a("last command: " + this.f);
            ba.a("last command write: " + this.g);
            ba.a("Commands issued: " + this.d);
            this.h = true;
        } catch (IOException e2) {
            throw new RuntimeException(e2);
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/ah.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/ah.class */
public class ah extends af {
    boolean g;
    float i;
    int e = -1;
    int f = -1;
    int h = -1;
    boolean j = false;

    @Override // com.corrodinggames.rts.gameFramework.af
    public boolean a() {
        if (b()) {
            if (!this.c) {
                this.c = true;
                return true;
            }
            return false;
        }
        if (this.c) {
            this.c = false;
            return false;
        }
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.af
    public boolean b() {
        return e() > 0.5f;
    }

    public float e() {
        return a(false);
    }

    public float a(boolean z) {
        float f;
        if (this.h != -1) {
            f = ac.b.a(this.h, this.e) ? 0.0f : 1.0f;
        } else {
            float fB = ac.b.b(this.e, this.f);
            f = this.g ? -fB : fB;
        }
        if (z) {
            return f;
        }
        if (!this.j && Math.abs(f - this.i) > 0.001f) {
            this.j = true;
        }
        if (!this.j) {
            return 0.0f;
        }
        return f;
    }

    @Override // com.corrodinggames.rts.gameFramework.af
    public String c() {
        return "controller";
    }

    @Override // com.corrodinggames.rts.gameFramework.af
    public boolean d() {
        return false;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/t.java
================================================================================

package com.corrodinggames.rts.gameFramework;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/t.class */
class t extends p {
    public int c;
    final /* synthetic */ l d;

    /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
    public t(l lVar, int i) {
        super(lVar);
        this.d = lVar;
        this.c = i;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/i/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.i;

import com.corrodinggames.rts.game.units.custom.bo;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.e.g;
import com.corrodinggames.rts.gameFramework.f;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.utility.ab;
import com.corrodinggames.rts.gameFramework.utility.j;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/i/b.class */
public class b implements Comparable {

    /* renamed from: a, reason: collision with root package name */
    public int f546a;
    public String c;
    public String d;
    public String e;
    public boolean f;
    public boolean g;
    public boolean h;
    public boolean i;
    public boolean j;
    public long k;
    boolean l;
    public boolean m;
    public String n;
    public String o;
    public String p;
    public String q;
    public boolean r;
    public String s;
    public String t;
    public String u;
    public String v;
    public int w;
    public int x;
    public boolean y;
    public boolean z;
    public boolean A = false;
    public boolean B = true;
    public boolean C;
    public boolean D;
    public int E;
    public int F;
    public long G;
    public long H;
    public int I;
    public int J;
    public int L;
    public String M;
    public boolean N;
    public boolean O;
    public int P;
    ArrayList Q;
    public String R;
    public String S;
    public String T;
    public ArrayList U;
    public ArrayList V;
    public static int b = 1;
    public static int K = 1;

    public b() {
        int i = K;
        K = i + 1;
        this.L = i;
        this.Q = new ArrayList();
        this.U = new ArrayList();
        this.V = new ArrayList();
        this.f546a = b;
        b++;
    }

    public String a() {
        if (this.s != null) {
            return this.s;
        }
        if (this.t != null) {
            return this.t;
        }
        return this.c;
    }

    public String b() {
        return f.a(a(), 25);
    }

    public String c() {
        return f.a(a(), 40);
    }

    public int d() {
        return this.L;
    }

    public String e() {
        return f();
    }

    public String f() {
        String str = VariableScope.nullOrMissingString;
        if (this.u != null) {
            str = str + this.u;
        }
        String str2 = "RAM:" + s();
        if (this.n != null) {
            str2 = str2 + " Storage: slow external unpacked";
        }
        if (l.at() && this.q != null && com.corrodinggames.rts.gameFramework.e.a.a(this.q) && !this.j) {
            str2 = str2 + " Warning: slow external storage";
        }
        return str + "\n (" + str2 + ")";
    }

    public String g() {
        if (this.y) {
            return this.q;
        }
        return com.corrodinggames.rts.gameFramework.e.a.e(this.q);
    }

    public String h() {
        if (this.y) {
            return this.p;
        }
        return com.corrodinggames.rts.gameFramework.e.a.e(this.p);
    }

    public String i() {
        return new File(g()).getAbsolutePath();
    }

    public String j() {
        return this.q;
    }

    public String k() {
        return new File(g()).getCanonicalPath();
    }

    public String l() {
        String str = this.S;
        if (this.T != null) {
            if (str == null) {
                str = VariableScope.nullOrMissingString;
            }
            str = str + this.T;
        }
        if (str == null && this.U.size() > 0) {
            str = VariableScope.nullOrMissingString;
            int i = 0;
            int i2 = 0;
            Iterator it = this.U.iterator();
            while (it.hasNext()) {
                String str2 = (String) it.next();
                if (i2 <= 2) {
                    if (str == null) {
                        str = str2;
                    } else {
                        str = str + "\n" + str2;
                    }
                } else {
                    i++;
                }
                i2++;
            }
            if (i > 0) {
                str = str + "\n" + i + " more warnings...";
            }
        }
        if ((!this.C || str != null) && !this.D && str == null) {
            if (str == null) {
                str = VariableScope.nullOrMissingString;
            }
            str = str + "Not yet loaded, reload needed";
        }
        return str;
    }

    public boolean m() {
        return !this.f && this.R == null;
    }

    public void a(String str) {
        l.b("Adding error for mod: " + b() + (m() ? VariableScope.nullOrMissingString : "(disabled)") + ": " + str);
        if (this.R == null) {
            if (!this.f) {
                l lVarB = l.B();
                String str2 = str;
                if (str2 != null && (!str2.contains(a()) || str2.contains(b()))) {
                    str2 = "Error loading mod '" + b() + "': " + str2;
                }
                int iD = lVarB.bZ.d(b());
                if (iD > 1) {
                    str2 = str2 + " (NOTE: You have " + iD + " mods with the same title: '" + b() + "' this might make debugging tricky)";
                }
                lVarB.i(str2);
            }
            l.e("Disabling mod due to error: " + b() + " path:" + i());
            this.R = str;
        }
        this.V.add(str);
    }

    public void b(String str) {
        if (this.U.contains(str)) {
            return;
        }
        this.U.add(str);
    }

    public String a(String str, int i) {
        String[] strArrH;
        String strA;
        if (i > 4 || (strArrH = com.corrodinggames.rts.gameFramework.e.a.h(str)) == null) {
            return null;
        }
        for (String str2 : strArrH) {
            if (str2.equalsIgnoreCase("mod-info.txt")) {
                return str + "/mod-info.txt";
            }
        }
        if (strArrH.length > 5) {
            return null;
        }
        for (String str3 : strArrH) {
            String str4 = str + "/" + str3;
            if (com.corrodinggames.rts.gameFramework.e.a.f(str4) && (strA = a(str4, i + 1)) != null) {
                return strA;
            }
        }
        return null;
    }

    public void n() {
        if (l.B().d()) {
            l.e("SAFE MODE: skipping setSourceFolder");
            return;
        }
        if (!g.f("mods-info", this.q + "/mod-info.txt")) {
            String str = this.q;
            if (str == null) {
                l.e("setSourceFolder: sourceFolder==null");
                return;
            }
            String[] strArrD = g.d("mods-dir-search", str);
            if (strArrD != null && strArrD.length == 1) {
                String str2 = str + "/" + strArrD[0];
                String str3 = str2 + "/mod-info.txt";
                if (com.corrodinggames.rts.gameFramework.e.a.f(str2) && com.corrodinggames.rts.gameFramework.e.a.i(str3)) {
                    l.e("Changing mod sourceFolder to:" + str2);
                    this.q = str2;
                }
            }
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r0v61, types: [java.io.InputStream] */
    public ab o() {
        j jVarK;
        String strA;
        if (this.q == null) {
            l.e("No source yet for mod: " + this.c);
            return null;
        }
        String str = this.q + "/mod-info.txt";
        try {
            if (this.j) {
                jVarK = g.e("mods-info", str);
            } else {
                jVarK = com.corrodinggames.rts.gameFramework.e.a.k(str);
            }
            if (jVarK == null && (strA = a(this.q, 1)) != null) {
                j jVarK2 = com.corrodinggames.rts.gameFramework.e.a.k(str);
                if (jVarK2 != null) {
                    l.a("mod-info.txt cache seems to be invalid for: " + str);
                    g.c("mods-info", str);
                    jVarK = jVarK2;
                } else {
                    a("No mod info at " + com.corrodinggames.rts.gameFramework.e.a.d(str) + " but found one nested at: " + com.corrodinggames.rts.gameFramework.e.a.d(strA) + " (Hint: This mod might have been extracted with an extra folder)");
                }
            }
            if (jVarK == null) {
                l.e("No mod info for: " + this.c + " at " + str);
                return null;
            }
            try {
                return new ab(jVarK, str);
            } catch (IOException e) {
                l.e("Error loading mod info for: " + this.c + " at " + str);
                e.printStackTrace();
                b("Error loading mod-info.txt: " + e.getMessage());
                return null;
            }
        } catch (Exception e2) {
            l.e("Error loading mod info for: " + this.c + " at " + str);
            e2.printStackTrace();
            b("Error loading mod-info.txt: " + e2.getMessage());
            return null;
        }
    }

    public String p() {
        String strC = c("thumbnail");
        if (strC != null) {
            return i() + "/" + strC;
        }
        return null;
    }

    public ArrayList q() {
        return this.Q;
    }

    public String c(String str) {
        ab abVarO = o();
        if (abVarO == null) {
            return null;
        }
        return abVarO.b("mod", str, (String) null);
    }

    public void r() {
        if (l.B().d()) {
            l.e("SAFE MODE: refreshData: Skipping mod read");
            this.u = "<< SAFE MODE ACTIVE: MOD DATA SKIPPED. RESTART IN NORMAL MODE. >>";
            return;
        }
        ab abVarO = o();
        if (abVarO != null) {
            this.s = abVarO.b("mod", "title", (String) null);
            this.u = abVarO.b("mod", "description", (String) null);
            if (this.u != null && this.u.contains("\\n")) {
                this.u = this.u.replace("\\n", "\n");
            }
            this.v = abVarO.b("mod", "minVersion", (String) null);
            if (this.v != null && !this.v.trim().equals(VariableScope.nullOrMissingString)) {
                try {
                    a.a(this.v);
                } catch (bo e) {
                    a(e.getMessage());
                }
            }
            this.M = abVarO.b("music", "sourceFolder", (String) null);
            this.N = abVarO.a("music", "whenUsingUnitsFromThisMod_playExclusively", (Boolean) false).booleanValue();
            this.O = abVarO.a("music", "addToNormalPlaylist", (Boolean) false).booleanValue();
            if (this.M != null && m()) {
                l.e("Loading music for: " + a());
                String strB = f.b(this.q, this.M);
                String[] strArrD = g.d("mods-dir-music", strB);
                if (strArrD == null) {
                    b("Could not read target music folder: " + com.corrodinggames.rts.gameFramework.e.a.e(strB));
                } else {
                    ArrayList arrayList = new ArrayList();
                    for (String str : strArrD) {
                        if (str.toLowerCase().endsWith(".ogg")) {
                            String strB2 = f.b(strB, str);
                            if (!this.Q.contains(strB2)) {
                                l.e("Found music track: " + str);
                            }
                            arrayList.add(strB2);
                        }
                    }
                    this.Q = arrayList;
                    if (this.Q.size() == 0) {
                        b("Could not find any .ogg files in music folder: " + com.corrodinggames.rts.gameFramework.e.a.e(strB));
                    }
                }
            }
            this.r = true;
        }
        String strW = w();
        File file = new File(strW);
        if (file.exists() && !file.isDirectory()) {
            ab abVar = null;
            try {
                abVar = new ab(strW);
            } catch (IOException e2) {
                e2.printStackTrace();
                b("IO error reading: " + com.corrodinggames.rts.gameFramework.e.a.e(strW));
            }
            if (abVar != null) {
                this.k = abVar.a("steam", "id", 0L);
            }
        }
    }

    private String w() {
        return g() + "/steam.dat";
    }

    public boolean a(long j) {
        this.k = j;
        String strW = w();
        try {
            PrintWriter printWriter = new PrintWriter(strW);
            printWriter.println("[steam]");
            printWriter.println("id: " + j);
            printWriter.close();
            return true;
        } catch (FileNotFoundException e) {
            e.printStackTrace();
            l.B().i("IO error: Failed to save workshop id for mod at: " + strW);
            return false;
        }
    }

    public String s() {
        return VariableScope.nullOrMissingString + String.format("%.2f", Float.valueOf((float) (((this.G + this.H) / 1000.0d) / 1000.0d))) + " mb" + (this.C ? " - disabled" : VariableScope.nullOrMissingString);
    }

    public void t() {
        l.e("Mod: '" + a() + "' - Memory use:" + s() + " " + (m() ? VariableScope.nullOrMissingString : " (disabled)"));
    }

    public boolean u() {
        l.e("Trying to delete mod: '" + a() + "'");
        String strH = h();
        l.e("sourceFolder: '" + strH + "'");
        if (!v()) {
            l.e("Mod: '" + a() + "' - Cannot be deleted");
            return false;
        }
        File file = new File(strH);
        if (!com.corrodinggames.rts.gameFramework.e.a.i(file.getAbsolutePath())) {
            l.e("Mod: '" + a() + "' - cannot delete: Not a file");
            return false;
        }
        boolean zB = com.corrodinggames.rts.gameFramework.e.a.b(file);
        l.e("Delete result: " + zB);
        return zB;
    }

    public boolean v() {
        if (this.z) {
            return false;
        }
        if (l.aZ && this.j) {
            return true;
        }
        if (l.at() && this.j) {
            return true;
        }
        return false;
    }

    @Override // java.lang.Comparable
    /* renamed from: a, reason: merged with bridge method [inline-methods] */
    public int compareTo(b bVar) {
        if (bVar == null) {
            return 0;
        }
        int i = this.x;
        int i2 = bVar.x;
        if (i != i2) {
            return i - i2;
        }
        String strA = a();
        String strA2 = bVar.a();
        if (strA == null) {
            strA = VariableScope.nullOrMissingString;
        }
        if (strA2 == null) {
            strA2 = VariableScope.nullOrMissingString;
        }
        return strA.compareTo(strA2);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/i/c.java
================================================================================

package com.corrodinggames.rts.gameFramework.i;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/i/c.class */
class c {

    /* renamed from: a, reason: collision with root package name */
    String f547a;
    String b;
    b c;
    final /* synthetic */ a d;

    c(a aVar) {
        this.d = aVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/i/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.i;

import com.corrodinggames.rts.game.n;
import com.corrodinggames.rts.game.units.custom.ag;
import com.corrodinggames.rts.game.units.custom.bo;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.f;
import com.corrodinggames.rts.gameFramework.f.g;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.utility.ae;
import com.corrodinggames.rts.gameFramework.utility.al;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Iterator;
import java.util.Locale;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/i/a.class */
public class a {

    /* renamed from: a, reason: collision with root package name */
    public static String f545a;
    public static String b;
    public b c = new b();
    Object d = new Object();
    ArrayList e = new ArrayList();
    ArrayList f = new ArrayList();

    public a() {
        try {
            a(l.B().u());
        } catch (bo e) {
            throw new RuntimeException(e);
        }
    }

    private static int a(String str, int i) throws bo {
        String[] strArrC = f.c(str, '.');
        if (strArrC == null) {
            throw new bo("Unexpected version format (Missing " + i + ")");
        }
        if (strArrC.length > 3) {
            throw new bo("Unexpected version format (" + str + ")");
        }
        if (strArrC.length <= i) {
            return 0;
        }
        try {
            return Integer.valueOf(strArrC[i]).intValue();
        } catch (NumberFormatException e) {
            throw new bo("Unexpected version format (Bad " + i + ")", e);
        }
    }

    public static void a(String str) {
        a(str, l.B().u());
    }

    public static String b(String str) {
        return f.a(f.a(f.a(f.a(f.a(f.a(f.a(f.a(f.a(f.a(f.a(f.a(str, "v", VariableScope.nullOrMissingString).trim(), "a", VariableScope.nullOrMissingString), "b", VariableScope.nullOrMissingString), "c", VariableScope.nullOrMissingString), "d", VariableScope.nullOrMissingString), "e", VariableScope.nullOrMissingString), "f", VariableScope.nullOrMissingString), "g", VariableScope.nullOrMissingString), "h1", VariableScope.nullOrMissingString), "h2", VariableScope.nullOrMissingString), "h3", VariableScope.nullOrMissingString), "h4", VariableScope.nullOrMissingString);
    }

    public static void a(String str, String str2) {
        String strB = b(str2);
        String strB2 = b(str);
        try {
            int iIntValue = 1000;
            int iIntValue2 = 1000;
            if (strB.contains("p")) {
                String[] strArrB = al.b(strB, "p");
                try {
                    iIntValue = Integer.valueOf(strArrB[1]).intValue();
                    strB = strArrB[0];
                } catch (NumberFormatException e) {
                    throw new bo("Unexpected min version:" + strB2 + " (Bad build number)", e);
                }
            }
            if (strB2.contains("p")) {
                String[] strArrB2 = al.b(strB2, "p");
                try {
                    iIntValue2 = Integer.valueOf(strArrB2[1]).intValue();
                    strB2 = strArrB2[0];
                } catch (NumberFormatException e2) {
                    throw new bo("Unexpected min version:" + strB2 + "(Bad build number)", e2);
                }
            }
            try {
                int iA = a(strB, 0);
                int iA2 = a(strB2, 0);
                int iA3 = a(strB, 1);
                int iA4 = a(strB2, 1);
                int iA5 = a(strB, 2);
                int iA6 = a(strB2, 2);
                if (iA2 < 1) {
                    throw new bo("Min version cannot be less than v1.10");
                }
                if (iA2 > iA) {
                    throw new bo("Requires version: " + strB2 + " or higher. (You have: " + strB + ")");
                }
                if (iA > iA2) {
                    return;
                }
                if (iA4 < 10 && iA2 == 1) {
                    throw new bo("Min version cannot be less than v1.10");
                }
                if (iA4 > iA3) {
                    throw new bo("Requires version: " + strB2 + " or higher. (You have: " + strB + ")");
                }
                if (iA3 > iA4) {
                    return;
                }
                if (iA6 > iA5) {
                    throw new bo("Requires version: " + strB2 + " or higher. (You have: " + strB + ")");
                }
                if (iA5 <= iA6 && iIntValue2 > iIntValue) {
                    throw new bo("Requires newer build: " + strB2 + " or higher. (You have: " + strB + ")");
                }
            } catch (bo e3) {
                throw new bo("Requires version: " + strB2 + " or higher. " + e3.getMessage(), e3);
            }
        } catch (RuntimeException e4) {
            throw new bo("Requires version: " + strB2 + " or higher." + e4.getMessage(), e4);
        }
    }

    public void a() {
        k();
        f();
    }

    public int a(boolean z) {
        int i = 0;
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            b bVar = (b) it.next();
            if (!bVar.f && !bVar.D && (!z || bVar.R == null)) {
                i++;
            }
        }
        return i;
    }

    public int b() {
        int i = 0;
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            b bVar = (b) it.next();
            if (!bVar.f && bVar.R != null) {
                i++;
            }
        }
        return i;
    }

    public int c() {
        int i = 0;
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            if (!((b) it.next()).z) {
                i++;
            }
        }
        return i;
    }

    public void d() {
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            b bVar = (b) it.next();
            bVar.g = bVar.f;
            bVar.h = false;
        }
    }

    public void e() {
        l lVarB = l.B();
        String str = VariableScope.nullOrMissingString;
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            b bVar = (b) it.next();
            String strReplace = bVar.c.replace(",", " ").replace("|", " ");
            if (strReplace.length() > 15) {
                strReplace = strReplace.substring(12) + "...";
            }
            if (str.length() != 0) {
                str = str + ",";
            }
            str = str + strReplace + "|" + bVar.e + "|" + (bVar.f ? "disabled" : "enabled");
        }
        lVarB.bQ.modSettingsVersion = 1;
        lVarB.bQ.modSettings = str;
    }

    public void f() {
        boolean z;
        l.e("Loading mod selection");
        for (String str : l.B().bQ.modSettings.split(",")) {
            String[] strArrSplit = str.split("\\|");
            if (strArrSplit.length != 3) {
                l.e("loadSelection: wrong count (" + strArrSplit.length + "):" + str);
            } else {
                String str2 = strArrSplit[0];
                String str3 = strArrSplit[1];
                String str4 = strArrSplit[2];
                if (str4.equals("enabled")) {
                    z = false;
                } else if (str4.equals("disabled")) {
                    z = true;
                } else {
                    l.e("loadSelection: Unknown option:" + str);
                }
                b bVarC = c(str3);
                if (bVarC == null) {
                    l.e("loadSelection: Did not find mod in settings:" + str2);
                } else {
                    bVarC.f = z;
                    bVarC.i = true;
                }
            }
        }
    }

    public b c(String str) {
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            b bVar = (b) it.next();
            if (bVar.e.equals(str)) {
                return bVar;
            }
        }
        return null;
    }

    public int d(String str) {
        if (str == null) {
            return 0;
        }
        int i = 0;
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            if (str.equals(((b) it.next()).c())) {
                i++;
            }
        }
        return i;
    }

    public b a(int i) {
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            b bVar = (b) it.next();
            if (bVar.L == i) {
                return bVar;
            }
        }
        return null;
    }

    public void g() {
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            ((b) it.next()).f = true;
        }
    }

    public int h() {
        int i = 0;
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            b bVar = (b) it.next();
            if (!bVar.f || bVar.D) {
                i++;
            }
        }
        return i;
    }

    public b e(String str) {
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            b bVar = (b) it.next();
            if (bVar.d.equals(str)) {
                return bVar;
            }
        }
        return null;
    }

    public b f(String str) {
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            b bVar = (b) it.next();
            if (bVar.a().equals(str)) {
                return bVar;
            }
        }
        return null;
    }

    public b a(String str, String str2, String str3, String str4, boolean z, boolean z2, boolean z3, int i) {
        b bVarC = c(str4);
        if (bVarC == null) {
            bVarC = new b();
            bVarC.c = str;
            bVarC.d = str2;
            bVarC.e = str4;
            bVarC.f = !z;
        }
        if (bVarC.q == null && str3 != null) {
            bVarC.q = str3;
            bVarC.p = bVarC.q;
            bVarC.n();
            if (bVarC.q != null && bVarC.q.toLowerCase(Locale.ROOT).contains("rwmod")) {
                bVarC.j = true;
            }
        }
        bVarC.x = i;
        bVarC.l = true;
        bVarC.y = z2;
        bVarC.z = z3;
        if (!bVarC.z) {
            bVarC.o = "Storage: " + com.corrodinggames.rts.gameFramework.e.a.d(bVarC.q);
        }
        bVarC.r();
        synchronized (this.d) {
            if (!this.e.contains(bVarC)) {
                ArrayList arrayList = new ArrayList();
                arrayList.addAll(this.e);
                arrayList.add(bVarC);
                Collections.sort(arrayList);
                this.e = arrayList;
            }
        }
        return bVarC;
    }

    public void a(b bVar) {
        synchronized (this.d) {
            ArrayList arrayList = new ArrayList();
            arrayList.addAll(this.e);
            arrayList.remove(bVar);
            this.e = arrayList;
        }
    }

    public void a(String str, boolean z, boolean z2) {
        l.e("loading mod custom units at:" + str);
        String[] strArrH = com.corrodinggames.rts.gameFramework.e.a.h(str);
        if (strArrH == null) {
            l.b("getAllModList: ERROR");
            l.b("getAllModList: Failed to load:" + str);
            return;
        }
        for (String str2 : strArrH) {
            String str3 = str + "/" + str2;
            if (com.corrodinggames.rts.gameFramework.e.a.f(str3) || str2.endsWith(".ini")) {
                String strE = f.e(str2);
                String strSubstring = str2;
                if (strSubstring.contains("/")) {
                    strSubstring = strSubstring.substring(str2.lastIndexOf("/") + 1);
                }
                a(strSubstring, str2, str3, strE, z, false, z2, 0);
            }
        }
    }

    public ArrayList i() {
        ArrayList arrayList = new ArrayList();
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            b bVar = (b) it.next();
            if (bVar.m()) {
                arrayList.addAll(bVar.q());
            }
        }
        return arrayList;
    }

    public ArrayList j() {
        ArrayList arrayList = new ArrayList();
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            b bVar = (b) it.next();
            if (bVar.m()) {
                arrayList.add(bVar);
            }
        }
        return arrayList;
    }

    public ArrayList k() {
        Iterator it = this.e.iterator();
        while (it.hasNext()) {
            b bVar = (b) it.next();
            bVar.l = false;
            if (bVar.m) {
                bVar.l = true;
            }
        }
        com.corrodinggames.rts.gameFramework.o.a aVarA = com.corrodinggames.rts.gameFramework.o.a.a();
        if (aVarA != null) {
            aVarA.l();
        } else {
            l.e("getAllModList: SteamEngine==null");
        }
        String strM = ag.m();
        if (!com.corrodinggames.rts.gameFramework.e.a.f(strM)) {
            l.e("Modded Custom '" + strM + "' directory not found");
        } else {
            a(strM, true, false);
        }
        String strK = ag.k();
        if (!com.corrodinggames.rts.gameFramework.e.a.f(strK)) {
            l.e("Modded Custom '" + strK + "' directory not found");
        } else {
            a(strK, false, true);
        }
        String strL = ag.l();
        if (!com.corrodinggames.rts.gameFramework.e.a.f(strL)) {
            l.e("Modded Custom '" + strL + "' directory not found");
        } else {
            a(strL, true, true);
        }
        Iterator it2 = this.e.iterator();
        while (it2.hasNext()) {
            b bVar2 = (b) it2.next();
            if (!bVar2.l) {
                l.e("Removing mod no longer found on system: " + bVar2.a());
                a(bVar2);
            }
        }
        l.e("========= Mods ===========");
        l.e("Number of mods:" + this.e.size());
        Iterator it3 = this.e.iterator();
        while (it3.hasNext()) {
            l.e("Mod: '" + ((b) it3.next()).a());
        }
        l.e("================================");
        l lVarB = l.B();
        if (lVarB.bQ.lastModCount == -1 || lVarB.bQ.modSettingsVersion < 1) {
            l.e("Disabling all new mods for first/new load");
            Iterator it4 = this.e.iterator();
            while (it4.hasNext()) {
                ((b) it4.next()).f = true;
            }
            e();
            lVarB.bQ.save();
        } else if (this.e.size() > lVarB.bQ.lastModCount + 4) {
            l.e("Too many new mods found, not enabling new mods");
            l.e("Number of mods:" + this.e.size() + " vs " + lVarB.bQ.lastModCount);
            Iterator it5 = this.e.iterator();
            while (it5.hasNext()) {
                b bVar3 = (b) it5.next();
                if (!bVar3.i) {
                    bVar3.f = true;
                }
            }
            e();
            lVarB.bQ.save();
        }
        lVarB.bQ.lastModCount = this.e.size();
        return this.e;
    }

    public void l() {
        l lVarB = l.B();
        try {
            lVarB.br = true;
            lVarB.e();
            a(false, false);
            lVarB.x();
        } finally {
            lVarB.br = false;
        }
    }

    public void a(boolean z, boolean z2) throws bo, InterruptedException, IOException {
        l.B();
        ae.b();
        if (!z2) {
            Iterator it = this.e.iterator();
            while (it.hasNext()) {
                b bVar = (b) it.next();
                if (bVar.R != null) {
                    l.e("re-enabling mod: " + bVar.a());
                }
                bVar.R = null;
                bVar.V.clear();
                bVar.S = null;
                bVar.U.clear();
                bVar.C = false;
                bVar.D = false;
                bVar.E = 0;
                bVar.F = 0;
                bVar.G = 0L;
                bVar.H = 0L;
                bVar.I = 0;
                bVar.J = 0;
                bVar.w = 0;
            }
        }
        k();
        ArrayList arrayList = new ArrayList(com.corrodinggames.rts.game.units.custom.l.d);
        if (!z2) {
            ag.h();
        } else {
            ag.b();
        }
        if (z) {
            int i = 0;
            Iterator it2 = arrayList.iterator();
            while (it2.hasNext()) {
                com.corrodinggames.rts.game.units.custom.l lVar = (com.corrodinggames.rts.game.units.custom.l) it2.next();
                if (lVar.J != null && !lVar.J.f && lVar.J.R != null && com.corrodinggames.rts.game.units.custom.l.a(lVar) == null) {
                    l.e("Was missing: " + lVar.M);
                    com.corrodinggames.rts.game.units.custom.l.d.add(lVar);
                    i++;
                }
            }
            if (i > 0) {
                ag.e();
            }
        }
        com.corrodinggames.rts.game.units.custom.l.A();
        n.P();
        g.K();
    }

    public void m() {
        l lVarB = l.B();
        if (lVarB.dH != null) {
            lVarB.dH.d();
        } else {
            l.e("No active callbacks");
        }
    }

    public String[] a(String[] strArr, String str) {
        String[] strArrA;
        l.e("addExtraMapsForPath: " + str);
        ArrayList arrayList = new ArrayList();
        if (strArr != null) {
            for (String str2 : strArr) {
                arrayList.add(str2);
            }
        }
        if (l.at() && "/SD/rusted_warfare_maps".equals(str) && (strArrA = com.corrodinggames.rts.gameFramework.e.a.a("/SD/rustedWarfare/maps", true)) != null) {
            for (String str3 : strArrA) {
                arrayList.add("NEW_PATH|maps2/" + str3);
            }
        }
        Iterator it = g(str).iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            arrayList.add("MOD|" + cVar.c.e + "/" + cVar.b);
        }
        if (strArr == null && arrayList.size() == 0) {
            return null;
        }
        return (String[]) arrayList.toArray(new String[0]);
    }

    public ArrayList g(String str) {
        ArrayList arrayList = new ArrayList();
        Iterator it = this.f.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            boolean z = false;
            if (str.startsWith("mod/") && str.startsWith("mod/" + cVar.c.e)) {
                z = true;
            }
            if (!cVar.c.f && str.startsWith("/SD/rusted_warfare_maps")) {
                z = true;
            }
            if (z) {
                l.e("Adding extra map:" + cVar.f547a);
                arrayList.add(cVar);
            }
        }
        return arrayList;
    }

    public void n() {
        this.f.clear();
    }

    public void a(String str, b bVar) {
        c cVar = new c(this);
        cVar.f547a = str;
        cVar.c = bVar;
        if (bVar.q == null) {
            l.a("Skipping:" + str + " as mod sourceFolder is null");
            return;
        }
        String strSubstring = str;
        String str2 = bVar.q;
        if (strSubstring.startsWith(str2)) {
            strSubstring = strSubstring.substring(str2.length());
        } else {
            String strO = com.corrodinggames.rts.gameFramework.e.a.o(strSubstring);
            if (strO.startsWith(str2)) {
                strSubstring = strO.substring(str2.length());
                l.e("Mod path:" + bVar.q + " in map path without tag:" + strSubstring);
            } else {
                l.a("Mod path:" + bVar.q + " not in map path:" + strSubstring);
            }
        }
        cVar.b = strSubstring;
        bVar.A = true;
        bVar.F++;
        this.f.add(cVar);
    }

    public b h(String str) {
        if (str.contains("MOD|")) {
            String[] strArrSplit = str.split("/");
            if (strArrSplit.length >= 2) {
                for (int length = strArrSplit.length - 2; length >= 0; length--) {
                    String str2 = strArrSplit[length];
                    if (str2.startsWith("MOD|")) {
                        String strSubstring = str2.substring("MOD|".length());
                        b bVarC = c(strSubstring);
                        if (bVarC == null) {
                            l.e("getLinkedModForFile: Failed to find mod with hash:" + strSubstring);
                            return null;
                        }
                        return bVarC;
                    }
                }
                return null;
            }
            return null;
        }
        return null;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.n;

import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/b.class */
public class b {

    /* renamed from: a, reason: collision with root package name */
    com.corrodinggames.rts.gameFramework.utility.m f652a = new com.corrodinggames.rts.gameFramework.utility.m();
    boolean b;

    public void a(a aVar) {
        this.f652a.add(aVar);
    }

    public boolean a() {
        return this.f652a.f694a > 0;
    }

    public boolean b() {
        boolean z = false;
        boolean z2 = true;
        Iterator it = this.f652a.iterator();
        while (it.hasNext()) {
            if (((a) it.next()).j) {
                z = true;
            } else {
                z2 = false;
            }
        }
        if (this.b && !z2) {
            z = false;
        }
        return z;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n/c.java
================================================================================

package com.corrodinggames.rts.gameFramework.n;

import android.graphics.Paint;
import android.graphics.Typeface;
import com.corrodinggames.rts.game.n;
import com.corrodinggames.rts.game.units.custom.bb;
import com.corrodinggames.rts.game.units.custom.bo;
import com.corrodinggames.rts.game.units.custom.bp;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/c.class */
public class c {
    public static a a(f fVar, com.corrodinggames.rts.game.b.a aVar) throws com.corrodinggames.rts.game.b.f {
        try {
            com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
            String str = aVar.b;
            if (str == null) {
                str = "NULL";
            }
            String strB = aVar.b("id");
            if (strB != null && !strB.equals(VariableScope.nullOrMissingString)) {
                str = strB;
            }
            String strTrim = str.trim();
            String str2 = aVar.d;
            if (str2 != null) {
                e eVarA = e.a(str2);
                if (eVarA == null) {
                    f.c("Error: Unknown type:" + str2 + " found on " + strTrim);
                    return null;
                }
                a aVar2 = new a();
                aVar2.t = aVar;
                aVar2.g = eVarA;
                aVar2.b = strTrim;
                int i = 0;
                Iterator it = fVar.J.iterator();
                while (it.hasNext()) {
                    if (((a) it.next()).b.equalsIgnoreCase(aVar2.b)) {
                        i++;
                    }
                }
                aVar2.c = aVar2.b;
                if (i != 0) {
                    aVar2.c += "_" + i;
                }
                aVar2.f649a = aVar.b;
                Integer numD = aVar2.d("team");
                if (numD != null) {
                    aVar2.y = n.k(numD.intValue());
                    if (aVar2.y == null) {
                        aVar2.g("Cannot find team:" + numD);
                        return null;
                    }
                }
                aVar2.r = aVar2.b("delay", aVar2.r);
                aVar2.p = aVar2.b("repeatDelay", aVar2.p);
                aVar2.o = aVar2.a("repeatCount", aVar2.o);
                aVar2.q = aVar2.b("resetActivationAfter", aVar2.q);
                aVar2.h = aVar2.a("allToActivate", false);
                aVar2.d.b = aVar2.h;
                aVar2.s = aVar2.b("warmup", aVar2.s);
                aVar2.A = aVar2.a("globalMessage", (bb) null);
                aVar2.w = aVar2.a("textOffsetX", 0.0f);
                aVar2.x = aVar2.a("textOffsetY", 0.0f);
                if (aVar2.g == e.mapText || aVar2.g == e.objective) {
                    aVar2.z = aVar2.a("text", (bb) null);
                }
                if (aVar2.g == e.mapText) {
                    fVar.i = true;
                    aVar2.B = new Paint();
                    aVar2.B.a(true);
                    aVar2.B.a(Paint.Align.CENTER);
                    aVar2.B.a(Typeface.a(Typeface.c, 1));
                    aVar2.B.b(aVar2.c("textColor", -1));
                    lVarB.b(aVar2.B, aVar2.a("textSize", 20));
                    if (aVar2.B.f() == 0) {
                        aVar2.g("Text has an alpha of 0");
                    }
                    String strB2 = aVar2.b("style");
                    if (strB2 != null && !strB2.equals(VariableScope.nullOrMissingString)) {
                        if (strB2.equalsIgnoreCase("arrow")) {
                            aVar2.C = true;
                        } else {
                            aVar2.g("Unknown style: " + strB2);
                        }
                    }
                }
                if (aVar2.g == e.event_unitAdd) {
                    try {
                        aVar2.v = bp.a(aVar2.b("spawnUnits"), "<unitAdd>", "spawnUnits");
                        if (aVar2.a() == null) {
                            aVar2.g("No team set");
                        }
                    } catch (bo e) {
                        f.c(e.getMessage());
                        return null;
                    }
                }
                if (aVar2.g == e.event_teamTags) {
                    aVar2.a("addTeamTags");
                    aVar2.a("removeTeamTags");
                }
                if (aVar2.g == e.event_changeCredits) {
                    aVar2.a("add");
                    aVar2.a("set");
                }
                if (aVar2.g == e.trigger_unitDetect) {
                    aVar2.a(com.corrodinggames.rts.gameFramework.n.a.c.d(aVar2));
                }
                if (aVar2.g == e.trigger_teamTagDetect) {
                    aVar2.a(com.corrodinggames.rts.gameFramework.n.a.b.d(aVar2));
                }
                aVar2.a("comment");
                aVar2.a("team");
                aVar2.a("globalMessage");
                aVar2.a("globalMessage_delayPerChar");
                aVar2.a("globalMessage_textColor");
                aVar2.a("debugMessage");
                aVar2.a("showOnMap");
                aVar2.a("text");
                aVar2.a("target");
                aVar2.a("onlyIfEmpty");
                if (aVar2.g == e.event_move) {
                    aVar2.a("unload");
                }
                if (aVar2.g == e.event_unitRemove) {
                    aVar2.a("onlyIfEmpty");
                }
                return aVar2;
            }
            f.c("Error: no type field set for: " + strTrim);
            return null;
        } catch (RuntimeException e2) {
            throw new com.corrodinggames.rts.game.b.f("Error while reading: " + aVar.b(), e2);
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n/h.java
================================================================================

package com.corrodinggames.rts.gameFramework.n;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/h.class */
enum h {
    normal
}


================================================================================
// FILE_PATH: ./gameFramework/n/d.java
================================================================================

package com.corrodinggames.rts.gameFramework.n;

import android.graphics.PointF;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.y;
import com.corrodinggames.rts.gameFramework.f.n;
import com.corrodinggames.rts.gameFramework.f.r;
import com.corrodinggames.rts.gameFramework.j.ad;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/d.class */
public class d {
    public static void a(f fVar, a aVar) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        boolean z = false;
        if (!aVar.j) {
            z = true;
        }
        fVar.a(aVar);
        aVar.i = true;
        aVar.j = true;
        aVar.k = lVarB.by;
        boolean z2 = false;
        if (aVar.A != null) {
            n nVarA = lVarB.bS.h.a((String) null, aVar.A.b());
            if (nVarA != null) {
                String strB = aVar.b("globalMessage_delayPerChar");
                if (strB != null) {
                    if (strB.equals("slow")) {
                        nVarA.e = 18;
                    } else {
                        int iB = aVar.b("globalMessage_delayPerChar", -1);
                        if (iB != -1) {
                            nVarA.e = iB;
                        }
                    }
                }
                int iC = aVar.c("globalMessage_textColor", -1);
                if (iC != -1) {
                    nVarA.f = iC;
                }
            }
            z2 = true;
        }
        String strB2 = aVar.b("debugMessage");
        if (strB2 != null) {
            aVar.h("Debug: " + strB2);
            if (lVarB.bv && lVarB.bl) {
                ad.a((String) null, "Debug: " + strB2);
            }
            z2 = true;
        }
        if (aVar.a("showOnMap", false)) {
            lVarB.bW.a(aVar.b(), aVar.c(), r.message);
            z2 = true;
        }
        if (aVar.f.f694a > 0) {
            Iterator it = aVar.f.iterator();
            while (it.hasNext()) {
                if (((com.corrodinggames.rts.gameFramework.n.a.a) it.next()).c(aVar)) {
                    z2 = true;
                }
            }
        }
        if (aVar.g == e.objective) {
            if (z) {
                aVar.h("objective met");
            }
            z2 = true;
        }
        if (aVar.g == e.trigger_basic) {
            z2 = true;
        }
        if (aVar.g == e.trigger_unitDetect) {
            z2 = true;
        }
        if (aVar.g == e.trigger_teamTagDetect) {
            z2 = true;
        }
        if (aVar.g == e.mapText) {
            z2 = true;
        }
        if (aVar.g == e.moveCamera) {
            z2 = true;
            lVarB.b(aVar.b(), aVar.c());
        }
        if (aVar.g == e.event_unitAdd) {
            float fB = aVar.b();
            float fC = aVar.c();
            com.corrodinggames.rts.game.n nVarA2 = aVar.a();
            if (nVarA2 == null) {
                aVar.g("No team set, cannot spawn");
            } else if (aVar.v != null) {
                aVar.v.a(fB, fC, 0.0f, 0.0f, nVarA2, false, null, null, false);
            } else {
                aVar.g("No valid unit list to spawn");
            }
            z2 = true;
        }
        if (aVar.g == e.event_changeCredits) {
            com.corrodinggames.rts.game.n nVarA3 = aVar.a();
            if (nVarA3 == null) {
                aVar.g("Team not set for changeCredits");
                return;
            }
            if (aVar.d("set") != null) {
                nVarA3.o = r0.intValue();
            }
            if (aVar.d("add") != null) {
                nVarA3.d(r0.intValue());
            }
            return;
        }
        if (aVar.g == e.event_teamTags) {
            com.corrodinggames.rts.game.n nVarA4 = aVar.a();
            if (nVarA4 == null) {
                aVar.g("Team not set for event_teamTags");
                return;
            }
            String strA = aVar.a("addTeamTags", (String) null);
            if (strA != null) {
                nVarA4.b(com.corrodinggames.rts.game.units.custom.g.a(strA));
            }
            String strA2 = aVar.a("removeTeamTags", (String) null);
            if (strA2 != null) {
                nVarA4.c(com.corrodinggames.rts.game.units.custom.g.a(strA2));
            }
            return;
        }
        if (aVar.g == e.event_move) {
            String strB3 = aVar.b("target");
            if (strB3 == null) {
                f.i("Move trigger has no target id:" + aVar.f649a);
                return;
            }
            PointF pointFF = fVar.f(strB3);
            if (pointFF == null) {
                f.i("Move trigger: Cannot find target for:" + aVar.f649a + " target:" + strB3);
                return;
            }
            com.corrodinggames.rts.game.n nVarA5 = aVar.a();
            if (nVarA5 == null) {
                f.i("Team not set map trigger:" + aVar.f649a);
                return;
            }
            int i = 0;
            com.corrodinggames.rts.gameFramework.e eVarB = lVarB.cf.b(nVarA5);
            Iterator it2 = am.bE.iterator();
            while (it2.hasNext()) {
                am amVar = (am) it2.next();
                if (amVar.bX == nVarA5 && (amVar instanceof y) && aVar.a(amVar) && aVar.b(amVar)) {
                    eVarB.a((y) amVar);
                    i++;
                }
            }
            eVarB.a(pointFF.f45a, pointFF.b);
            if (z) {
                fVar.b("firstActivation: move at:" + lVarB.by + " for teamId:" + nVarA5.k + " to targetId:" + strB3 + " (#units:" + i + ")");
            }
            if (aVar.b("unload") != null) {
                Iterator it3 = am.bE.iterator();
                while (it3.hasNext()) {
                    am amVar2 = (am) it3.next();
                    if (amVar2.bX == nVarA5 && (amVar2 instanceof y) && aVar.a(amVar2) && aVar.b(amVar2) && amVar2.cr()) {
                        y yVar = (y) amVar2;
                        com.corrodinggames.rts.gameFramework.e eVarB2 = lVarB.cf.b(nVarA5);
                        eVarB2.e = true;
                        eVarB2.a(yVar);
                        eVarB2.a(yVar.cp());
                    }
                }
            }
            return;
        }
        if (aVar.g == e.event_unitRemove) {
            com.corrodinggames.rts.gameFramework.utility.m mVar = new com.corrodinggames.rts.gameFramework.utility.m();
            Iterator it4 = am.bE.iterator();
            while (it4.hasNext()) {
                am amVar3 = (am) it4.next();
                if ((amVar3 instanceof y) && aVar.a(amVar3) && aVar.b(amVar3)) {
                    mVar.add(amVar3);
                }
            }
            if (mVar.size() > 0) {
                Iterator it5 = mVar.iterator();
                while (it5.hasNext()) {
                    am amVar4 = (am) it5.next();
                    amVar4.ci();
                    if ((amVar4 instanceof y) && amVar4.bI()) {
                        lVarB.bU.a((y) amVar4);
                    }
                }
            }
            z2 = true;
        }
        if (!z2) {
            aVar.h("Trigger activated with no effect");
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n/e.java
================================================================================

package com.corrodinggames.rts.gameFramework.n;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/e.class */
public enum e {
    objective { // from class: com.corrodinggames.rts.gameFramework.n.e.1
        @Override // com.corrodinggames.rts.gameFramework.n.e
        public String a() {
            return "objective";
        }
    },
    event_move { // from class: com.corrodinggames.rts.gameFramework.n.e.4
        @Override // com.corrodinggames.rts.gameFramework.n.e
        public String a() {
            return "move";
        }
    },
    event_changeCredits { // from class: com.corrodinggames.rts.gameFramework.n.e.5
        @Override // com.corrodinggames.rts.gameFramework.n.e
        public String a() {
            return "changeCredits";
        }
    },
    event_teamTags { // from class: com.corrodinggames.rts.gameFramework.n.e.6
        @Override // com.corrodinggames.rts.gameFramework.n.e
        public String a() {
            return "teamTags";
        }
    },
    event_unitAdd { // from class: com.corrodinggames.rts.gameFramework.n.e.7
        @Override // com.corrodinggames.rts.gameFramework.n.e
        public String a() {
            return "unitAdd";
        }
    },
    event_unitRemove { // from class: com.corrodinggames.rts.gameFramework.n.e.8
        @Override // com.corrodinggames.rts.gameFramework.n.e
        public String a() {
            return "unitRemove";
        }
    },
    mapText { // from class: com.corrodinggames.rts.gameFramework.n.e.9
        @Override // com.corrodinggames.rts.gameFramework.n.e
        public String a() {
            return "mapText";
        }
    },
    moveCamera { // from class: com.corrodinggames.rts.gameFramework.n.e.10
        @Override // com.corrodinggames.rts.gameFramework.n.e
        public String a() {
            return "moveCamera";
        }
    },
    trigger_unitDetect { // from class: com.corrodinggames.rts.gameFramework.n.e.11
        @Override // com.corrodinggames.rts.gameFramework.n.e
        public String a() {
            return "unitDetect";
        }
    },
    trigger_teamTagDetect { // from class: com.corrodinggames.rts.gameFramework.n.e.2
        @Override // com.corrodinggames.rts.gameFramework.n.e
        public String a() {
            return "teamTagDetect";
        }
    },
    trigger_basic { // from class: com.corrodinggames.rts.gameFramework.n.e.3
        @Override // com.corrodinggames.rts.gameFramework.n.e
        public String a() {
            return "basic";
        }
    };

    public abstract String a();

    public static e a(String str) {
        for (e eVar : values()) {
            if (eVar.a().equalsIgnoreCase(str)) {
                return eVar;
            }
        }
        return null;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n/i.java
================================================================================

package com.corrodinggames.rts.gameFramework.n;

import com.corrodinggames.rts.game.n;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.as;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/i.class */
class i {

    /* renamed from: a, reason: collision with root package name */
    boolean f657a;
    com.corrodinggames.rts.gameFramework.utility.m b = new com.corrodinggames.rts.gameFramework.utility.m();
    final /* synthetic */ f c;

    i(f fVar) {
        this.c = fVar;
    }

    public void a(as asVar, int i) {
        as asVarC = com.corrodinggames.rts.game.units.custom.l.c(asVar);
        if (asVarC != null) {
            asVar = asVarC;
        }
        b(asVar, i);
    }

    public void b(as asVar, int i) {
        Iterator it = this.b.iterator();
        while (it.hasNext()) {
            j jVar = (j) it.next();
            if (jVar.f658a == asVar) {
                jVar.b += i;
                return;
            }
        }
        j jVar2 = new j(this);
        jVar2.f658a = asVar;
        jVar2.b = i;
        this.b.add(jVar2);
    }

    public void a(float f, float f2) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        int i = 0;
        n nVarK = n.k(1);
        if (nVarK == null) {
            com.corrodinggames.rts.gameFramework.l.e("Warning: Creating missing wave team AI");
            nVarK = new com.corrodinggames.rts.game.a.a(1);
            nVarK.r = 100;
            nVarK.U = true;
        }
        Iterator it = this.b.iterator();
        while (it.hasNext()) {
            j jVar = (j) it.next();
            for (int i2 = 0; i2 < jVar.b; i2++) {
                am amVarA = jVar.f658a.a();
                amVarA.eo = f + com.corrodinggames.rts.gameFramework.f.a(-85, 85, i + 0);
                amVarA.ep = f2 + com.corrodinggames.rts.gameFramework.f.a(-85, 85, i + 1);
                amVarA.cg = com.corrodinggames.rts.gameFramework.f.a(-180, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_STB_INPUT, i + 2);
                i += 3;
                amVarA.b(nVarK);
                if (amVarA.eo < 0.0f) {
                    amVarA.eo = 0.0f;
                }
                if (amVarA.ep < 0.0f) {
                    amVarA.ep = 0.0f;
                }
                if (amVarA.eo > lVarB.bL.i()) {
                    amVarA.eo = lVarB.bL.i();
                }
                if (amVarA.ep > lVarB.bL.j()) {
                    amVarA.ep = lVarB.bL.j();
                }
                if (i2 == 0) {
                    lVarB.bW.a(amVarA);
                }
            }
        }
    }

    public String toString() {
        if (this.b.size() == 0) {
            return "No units";
        }
        String str = VariableScope.nullOrMissingString;
        boolean z = true;
        Iterator it = this.b.iterator();
        while (it.hasNext()) {
            j jVar = (j) it.next();
            if (!z) {
                str = str + ", ";
            }
            z = false;
            str = (str + jVar.b + "x ") + jVar.f658a.e();
        }
        return str;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n/j.java
================================================================================

package com.corrodinggames.rts.gameFramework.n;

import com.corrodinggames.rts.game.units.as;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/j.class */
class j {

    /* renamed from: a, reason: collision with root package name */
    as f658a;
    int b = 1;
    final /* synthetic */ i c;

    j(i iVar) {
        this.c = iVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n/f.java
================================================================================

package com.corrodinggames.rts.gameFramework.n;

import android.graphics.Paint;
import android.graphics.PointF;
import android.graphics.Typeface;
import com.corrodinggames.rts.game.n;
import com.corrodinggames.rts.game.units.al;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ar;
import com.corrodinggames.rts.game.units.custom.bb;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.game.units.y;
import com.corrodinggames.rts.gameFramework.bq;
import com.corrodinggames.rts.gameFramework.j.ad;
import com.corrodinggames.rts.gameFramework.j.as;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/f.class */
public class f extends bq {

    /* renamed from: a, reason: collision with root package name */
    public static boolean f654a = false;
    int b;
    int c;
    n d;
    l e;
    public bb h;
    boolean i;
    boolean j;
    public boolean k;
    public boolean l;
    boolean m;
    boolean n;
    boolean o;
    boolean p;
    public boolean q;
    public Paint E;
    public Paint F;
    public Paint G;
    public Paint H;
    public boolean N;
    l f = l.allUnitsAndBuildings;
    public ArrayList g = new ArrayList();
    public int r = 0;
    String s = null;
    String t = null;
    int u = 0;
    int v = 2;
    int w = 1;
    int x = 0;
    public int y = 0;
    float z = 3000.0f;
    float A = 0.0f;
    float B = 0.0f;
    h C = h.normal;
    ArrayList D = new ArrayList();
    final boolean I = true;
    public ArrayList J = new ArrayList();
    PointF K = new PointF();
    int L = 0;
    float M = 0.0f;
    public ArrayList O = new ArrayList();
    PointF P = new PointF();
    boolean Q = false;
    boolean R = false;
    ArrayList S = new ArrayList();
    ArrayList T = new ArrayList();

    public void a(String str) {
        com.corrodinggames.rts.gameFramework.l.b("MissionEngine", "Map warning: " + str);
        ad.a((String) null, "Map error: " + str);
    }

    @Override // com.corrodinggames.rts.gameFramework.bq
    public void a(as asVar) throws IOException {
        asVar.a(this.j);
        asVar.a(this.r);
        asVar.a(this.u);
        asVar.a(this.v);
        asVar.a(this.w);
        asVar.a(this.x);
        asVar.a(this.z);
        asVar.a(this.A);
        asVar.a(this.B);
        asVar.a(this.m);
        asVar.a(6);
        asVar.a(this.J.size());
        Iterator it = this.J.iterator();
        while (it.hasNext()) {
            a aVar = (a) it.next();
            asVar.c(aVar.c);
            asVar.a(aVar.j);
            asVar.a(aVar.k);
            asVar.a(aVar.l);
            asVar.a(aVar.m);
            asVar.a(aVar.n);
        }
        asVar.a(this.y);
        asVar.a(this.l);
    }

    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        this.j = kVar.e();
        this.r = kVar.f();
        this.u = kVar.f();
        this.v = kVar.f();
        this.w = kVar.f();
        this.x = kVar.f();
        this.z = kVar.g();
        this.A = kVar.g();
        this.B = kVar.g();
        this.m = kVar.e();
        int iF = kVar.f();
        if (iF >= 1) {
            int iF2 = kVar.f();
            for (int i = 0; i < iF2; i++) {
                String strL = kVar.l();
                boolean zE = kVar.e();
                int iF3 = 0;
                int iF4 = 0;
                boolean zE2 = false;
                int iF5 = 0;
                if (iF >= 2) {
                    iF3 = kVar.f();
                    iF4 = kVar.f();
                }
                if (iF >= 3) {
                    zE2 = kVar.e();
                }
                if (iF >= 4) {
                    iF5 = kVar.f();
                }
                a aVarE = e(strL);
                if (aVarE == null) {
                    com.corrodinggames.rts.gameFramework.l.b("MissionEngine:readIn: Could not find saved trigger:" + strL + " for de/activation");
                } else {
                    aVarE.j = zE;
                    aVarE.k = iF3;
                    aVarE.l = iF4;
                    aVarE.m = zE2;
                    aVarE.n = iF5;
                }
            }
        }
        if (iF >= 5) {
            this.y = kVar.f();
        }
        if (iF >= 6) {
            this.l = kVar.e();
        } else {
            this.l = true;
        }
    }

    public void b(String str) {
        com.corrodinggames.rts.gameFramework.l.b("MissionEngine:triggerLog", str);
    }

    public boolean a() {
        return this.n;
    }

    public boolean b() {
        return this.o;
    }

    public void a(boolean z) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        this.q = false;
        this.b = lVarB.by - 1000;
        this.c = lVarB.by - 1000;
        this.E = new Paint();
        this.E.a(255, 255, 255, 255);
        this.E.a(true);
        this.E.a(Paint.Align.CENTER);
        this.E.a(Typeface.a(Typeface.c, 1));
        lVarB.a(this.E, 24.0f);
        this.G = new Paint();
        this.G.a(255, 255, 255, 255);
        this.G.a(true);
        this.G.a(Paint.Align.CENTER);
        lVarB.a(this.G, 18.0f);
        this.H = new Paint();
        this.H.a(255, 255, 255, 255);
        this.H.a(true);
        this.H.a(Paint.Align.CENTER);
        lVarB.a(this.H, 14.0f);
        this.F = new Paint();
        this.F.a(this.H);
        lVarB.a(this.F, 18.0f);
        this.j = true;
        boolean z2 = false;
        com.corrodinggames.rts.game.b.a aVarA = null;
        if (lVarB.bL.Q == null) {
            com.corrodinggames.rts.gameFramework.l.b("MissionEngine", "Error: 'triggers' object layer is missing from this map");
            z2 = true;
        } else {
            aVarA = lVarB.bL.Q.a("map_info");
        }
        if (aVarA == null) {
            com.corrodinggames.rts.gameFramework.l.b("MissionEngine", "Error: map_info is missing from this map");
            z2 = true;
        }
        if (aVarA != null && aVarA.b("type") == null) {
            a("type is missing from map_info");
            z2 = true;
        }
        if (z2) {
            com.corrodinggames.rts.gameFramework.l.b("MissionEngine", "Defaulting to skirmish");
            this.n = true;
            this.e = l.noConstructionOrTech;
            return;
        }
        this.k = "survival".equalsIgnoreCase(aVarA.b("type"));
        if (this.k) {
            this.l = "true".equalsIgnoreCase(aVarA.b("survivalWavesClassic"));
            if (this.l) {
                com.corrodinggames.rts.gameFramework.l.e("Classic survial waves selected");
            }
            f();
            this.p = false;
            this.y = lVarB.bQ.aiDifficulty;
            if (!this.l) {
                this.z = 1200.0f;
                if (this.y < 0) {
                    this.z = 3000.0f;
                }
            } else {
                this.z = 3000.0f;
            }
        }
        String strB = aVarA.b("survivalWaves");
        if (strB != null) {
            g(strB);
        }
        String strB2 = aVarA.b("startWithMusic");
        if (strB2 != null) {
            lVarB.bN.a(strB2);
        }
        this.n = "skirmish".equalsIgnoreCase(aVarA.b("type"));
        if (this.n) {
            this.e = l.noConstructionOrTech;
        }
        this.o = "true".equalsIgnoreCase(aVarA.b("shareFogWithAllies"));
        String strB3 = aVarA.b("winCondition");
        if (strB3 == null && !this.n) {
            throw new com.corrodinggames.rts.game.b.f("win condition not set");
        }
        if (strB3 != null) {
            if (strB3.equalsIgnoreCase("none")) {
                this.e = l.none;
            } else if (strB3.equalsIgnoreCase("allUnitsAndBuildings")) {
                this.e = l.allUnitsAndBuildings;
            } else if (strB3.equalsIgnoreCase("allBuildings")) {
                this.e = l.allBuildings;
            } else if (strB3.equalsIgnoreCase("mainBuilings") || strB3.equalsIgnoreCase("mainBuildings")) {
                this.e = l.mainBuildings;
            } else if (strB3.equalsIgnoreCase("commandCenter")) {
                this.e = l.commandCenter;
            } else if (strB3.equalsIgnoreCase("requiredObjectives")) {
                this.e = l.requiredObjectives;
            } else {
                throw new com.corrodinggames.rts.game.b.f("unknown win condition:" + strB3);
            }
        }
        if (this.n) {
            this.f = this.e;
        }
        this.h = aVarA.a("introText", (bb) null);
        if (this.h != null) {
            this.h.a("\\\\n", "\n");
            if (this.h.a()) {
                this.h = null;
            }
        }
        if (!lVarB.ay() && !this.n) {
            this.d = n.k(3);
            if (this.d != null) {
                this.d.r = 0;
            }
        }
        if (lVarB.ay()) {
        }
        Iterator it = lVarB.bL.Q.c.iterator();
        while (it.hasNext()) {
            com.corrodinggames.rts.game.b.a aVar = (com.corrodinggames.rts.game.b.a) it.next();
            if ("team_info".equalsIgnoreCase(aVar.d)) {
                int i = Integer.parseInt(aVar.a("team", "-2"));
                if (i == -2) {
                    throw new RuntimeException("cannot find team for:" + aVar.b);
                }
                n nVarK = n.k(i);
                if (nVarK == null) {
                    com.corrodinggames.rts.gameFramework.l.b("No team loaded for:" + i + " skipping");
                } else {
                    if (aVar.c("credits") != null) {
                        nVarK.o = r0.intValue();
                    }
                    if (aVar.b("basicAI") != null && lVarB.P() && (nVarK instanceof com.corrodinggames.rts.game.a.a)) {
                        com.corrodinggames.rts.gameFramework.l.b("Using basic AI:" + i + " by map request");
                        ((com.corrodinggames.rts.game.a.a) nVarK).aY = true;
                    }
                    String strB4 = aVar.b("lockAiDifficulty");
                    if (strB4 != null && (nVarK instanceof com.corrodinggames.rts.game.a.a)) {
                        com.corrodinggames.rts.gameFramework.l.b("Locking lockAiDifficulty:" + i + " by map request to: " + strB4);
                        com.corrodinggames.rts.game.a.a aVar2 = (com.corrodinggames.rts.game.a.a) nVarK;
                        aVar2.x = Integer.parseInt(strB4);
                        aVar2.y = true;
                        lVarB.bX.aq();
                    }
                    if (aVar.b("disabledAI") != null && lVarB.P() && (nVarK instanceof com.corrodinggames.rts.game.a.a)) {
                        com.corrodinggames.rts.gameFramework.l.b("Disabling AI:" + i + " by map request");
                        ((com.corrodinggames.rts.game.a.a) nVarK).aX = true;
                    }
                    String strB5 = aVar.b("allyGroup");
                    if (strB5 != null && lVarB.P()) {
                        nVarK.r = Integer.parseInt(strB5);
                    }
                    String strB6 = aVar.b("ai");
                    if (strB6 != null) {
                        nVarK.U = strB6.equalsIgnoreCase("survival");
                    }
                }
            }
            if ("camera_start".equalsIgnoreCase(aVar.b) && !z) {
                lVarB.b(aVar.e, aVar.f);
                this.q = true;
                if (aVar.c("zoomTo") != null) {
                    lVarB.cV = r0.intValue();
                }
            }
            if ("attack_point".equalsIgnoreCase(aVar.b)) {
                this.D.add(new PointF(aVar.e, aVar.f));
            }
            if ("rotate".equalsIgnoreCase(aVar.d)) {
                float f = Float.parseFloat(aVar.b("dir"));
                Iterator it2 = am.bE.iterator();
                while (it2.hasNext()) {
                    am amVar = (am) it2.next();
                    if ((amVar instanceof y) && !amVar.bI() && aVar.a(amVar)) {
                        amVar.cg = f;
                    }
                }
            }
            if ("fall".equalsIgnoreCase(aVar.d)) {
                Iterator it3 = am.bE.iterator();
                while (it3.hasNext()) {
                    am amVar2 = (am) it3.next();
                    if ((amVar2 instanceof y) && !amVar2.bI() && aVar.a(amVar2)) {
                        amVar2.dc();
                    }
                }
            }
            if ("set_team".equalsIgnoreCase(aVar.d)) {
                int i2 = Integer.parseInt(aVar.b("team"));
                Iterator it4 = am.bE.iterator();
                while (it4.hasNext()) {
                    am amVar3 = (am) it4.next();
                    if ((amVar3 instanceof y) && aVar.a(amVar3)) {
                        amVar3.P(i2);
                    }
                }
            }
            if ("ai_allow_full_use".equalsIgnoreCase(aVar.d)) {
                Iterator it5 = am.bE.iterator();
                while (it5.hasNext()) {
                    am amVar4 = (am) it5.next();
                    if ((amVar4 instanceof y) && aVar.a(amVar4)) {
                        ((y) amVar4).bM = false;
                    }
                }
            }
            if ("disable_unit_ai".equalsIgnoreCase(aVar.d)) {
                Iterator it6 = am.bE.iterator();
                while (it6.hasNext()) {
                    am amVar5 = (am) it6.next();
                    if ((amVar5 instanceof y) && aVar.a(amVar5)) {
                        amVar5.bN = true;
                    }
                }
            }
        }
        Iterator it7 = am.bE.iterator();
        while (it7.hasNext()) {
            am amVar6 = (am) it7.next();
            if (!amVar6.u() && !(amVar6 instanceof al) && !amVar6.bI() && amVar6.cN == null && amVar6.cO == null) {
                am amVar7 = null;
                float f2 = 4900.0f;
                Iterator it8 = am.bE.iterator();
                while (it8.hasNext()) {
                    am amVar8 = (am) it8.next();
                    if (amVar8.cr() && amVar6 != amVar8 && (amVar6.bX == n.i || amVar8.bX.d(amVar6.bX))) {
                        float fA = com.corrodinggames.rts.gameFramework.f.a(amVar8.eo, amVar8.ep, amVar6.eo, amVar6.ep);
                        if (fA < f2 && amVar8.d(amVar6, true)) {
                            amVar7 = amVar8;
                            f2 = fA;
                        }
                    }
                }
                if (amVar7 != null) {
                    amVar7.e(amVar6, true);
                }
            }
        }
        this.J.clear();
        Iterator it9 = lVarB.bL.Q.c.iterator();
        while (it9.hasNext()) {
            com.corrodinggames.rts.game.b.a aVar3 = (com.corrodinggames.rts.game.b.a) it9.next();
            if (!"team_info".equalsIgnoreCase(aVar3.d) && !"point".equalsIgnoreCase(aVar3.d) && !"camera_pan".equalsIgnoreCase(aVar3.d) && !"camera_start".equalsIgnoreCase(aVar3.b) && !"map_info".equalsIgnoreCase(aVar3.b) && !"attack_point".equalsIgnoreCase(aVar3.b) && !"rotate".equalsIgnoreCase(aVar3.d) && !"fall".equalsIgnoreCase(aVar3.d) && !"set_team".equalsIgnoreCase(aVar3.d) && !"ai_allow_full_use".equalsIgnoreCase(aVar3.d) && !"disable_unit_ai".equalsIgnoreCase(aVar3.d) && !"info".equalsIgnoreCase(aVar3.d)) {
                if (aVar3.n == null) {
                    c("Error: Skipping trigger:" + aVar3.b + " - no properties found");
                } else {
                    a aVarA2 = c.a(this, aVar3);
                    if (aVarA2 != null) {
                        this.J.add(aVarA2);
                    }
                }
            }
        }
        Iterator it10 = this.J.iterator();
        while (it10.hasNext()) {
            a aVar4 = (a) it10.next();
            String strB7 = aVar4.b("activateIds");
            if (strB7 == null) {
                strB7 = aVar4.b("alsoActivate");
            }
            if (strB7 != null) {
                for (String str : strB7.split(",")) {
                    a aVarD = d(str);
                    if (aVarD == null) {
                        aVar4.g("linkedTo target not found: " + strB7);
                        com.corrodinggames.rts.gameFramework.l.e("Possible IDs:");
                        Iterator it11 = this.J.iterator();
                        while (it11.hasNext()) {
                            a aVar5 = (a) it11.next();
                            if (aVar5.b != null) {
                                com.corrodinggames.rts.gameFramework.l.e(aVar5.b);
                            }
                        }
                        com.corrodinggames.rts.gameFramework.l.e("--------");
                    } else {
                        aVarD.d.a(aVar4);
                    }
                }
            }
            String strB8 = aVar4.b("whenActivatedIds");
            if (strB8 == null) {
                strB8 = aVar4.b("activatedBy");
            }
            if (strB8 != null) {
                for (String str2 : strB8.split(",")) {
                    a aVarD2 = d(str2);
                    if (aVarD2 == null) {
                        aVar4.g("linkedFrom target not found: " + str2);
                    } else {
                        aVar4.d.a(aVarD2);
                    }
                }
            }
            String strB9 = aVar4.b("deactivatedBy");
            if (strB9 != null) {
                for (String str3 : strB9.split(",")) {
                    a aVarD3 = d(str3);
                    if (aVarD3 == null) {
                        aVar4.g("deactivatedBy: target not found: " + str3);
                    } else {
                        aVar4.e.a(aVarD3);
                    }
                }
            }
        }
        com.corrodinggames.rts.gameFramework.l.e("Found " + this.J.size() + " map triggers");
        Iterator it12 = this.J.iterator();
        while (it12.hasNext()) {
            a aVar6 = (a) it12.next();
            for (String str4 : aVar6.t.a()) {
                aVar6.g("Key was not used: " + str4);
            }
        }
        c();
    }

    public void c() {
        Iterator it = this.J.iterator();
        while (it.hasNext()) {
            a aVar = (a) it.next();
            if (aVar.g == e.objective) {
                boolean z = false;
                Iterator it2 = this.g.iterator();
                while (it2.hasNext()) {
                    if (((m) it2.next()).f661a == aVar) {
                        z = true;
                    }
                }
                if (!z) {
                    m mVar = new m();
                    mVar.f661a = aVar;
                    this.g.add(mVar);
                    com.corrodinggames.rts.gameFramework.l.e("Found objective: " + mVar.a());
                }
            }
        }
    }

    public static void c(String str) {
        com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.gameFramework.l.b("MissionEngine", str);
        ad.g(str);
    }

    public a d(String str) {
        String strTrim = str.trim();
        Iterator it = this.J.iterator();
        while (it.hasNext()) {
            a aVar = (a) it.next();
            if (aVar.b != null && aVar.b.equalsIgnoreCase(strTrim)) {
                return aVar;
            }
        }
        return null;
    }

    public a e(String str) {
        String strTrim = str.trim();
        Iterator it = this.J.iterator();
        while (it.hasNext()) {
            a aVar = (a) it.next();
            if (aVar.c.equalsIgnoreCase(strTrim)) {
                return aVar;
            }
        }
        return null;
    }

    public PointF f(String str) {
        com.corrodinggames.rts.game.b.i iVar = com.corrodinggames.rts.gameFramework.l.B().bL.Q;
        if (iVar != null) {
            Iterator it = iVar.c.iterator();
            while (it.hasNext()) {
                com.corrodinggames.rts.game.b.a aVar = (com.corrodinggames.rts.game.b.a) it.next();
                if ("point".equalsIgnoreCase(aVar.d) && aVar.c != null && aVar.c.equalsIgnoreCase(str)) {
                    this.K.a(aVar.e, aVar.f);
                    return this.K;
                }
            }
            return null;
        }
        return null;
    }

    public void a(float f) {
        com.corrodinggames.rts.gameFramework.l.B();
    }

    public void b(float f) {
        g gVarD;
        i iVarC;
        String strB;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (this.i) {
            Iterator it = this.J.iterator();
            while (it.hasNext()) {
                a aVar = (a) it.next();
                if (aVar.g == e.mapText && aVar.j) {
                    float fB = aVar.b() - lVarB.cw;
                    float fC = aVar.c() - lVarB.cx;
                    float f2 = fB * lVarB.cX;
                    float f3 = fC * lVarB.cX;
                    float f4 = f2 + aVar.w;
                    float f5 = f3 + aVar.x;
                    if (aVar.C) {
                        com.corrodinggames.rts.gameFramework.d.c.s[9].a(2, f4, f5, aVar.B);
                        f5 -= r0.c - 2;
                    }
                    if (aVar.z != null && (strB = aVar.z.b()) != null && !strB.equals(VariableScope.nullOrMissingString)) {
                        lVarB.bO.a(strB, f4, f5, aVar.B);
                    }
                }
            }
        }
        if (this.k && !this.N) {
            boolean z = false;
            this.B = com.corrodinggames.rts.gameFramework.f.a(this.B, f);
            if (this.B == 0.0f && this.A != 0.0f) {
                this.A = com.corrodinggames.rts.gameFramework.f.a(this.A, f);
                z = true;
            }
            if (1 != 0) {
                if (z) {
                    int iK = (int) (23.0f + (this.E.k() / 2.0f));
                    lVarB.bO.a("- Wave " + this.r + " -", lVarB.cF / 2.0f, iK, this.E);
                    if (this.s != null) {
                        lVarB.bO.a(this.s, lVarB.cF / 2.0f, iK + this.E.k() + 2.0f, this.F);
                    }
                } else {
                    int iK2 = (int) (23.0f + (this.G.k() / 2.0f));
                    String str = "Wave " + (this.r + 1) + " in " + com.corrodinggames.rts.gameFramework.f.f(String.valueOf((int) (this.z / 60.0d)), 3);
                    if (this.m) {
                        str = "Defeat - Wave " + this.r;
                    }
                    lVarB.bO.a(str, lVarB.cF / 2.0f, iK2, this.G);
                    if (this.t == null) {
                        if (!this.l) {
                            iVarC = b(false);
                        } else {
                            iVarC = c(false);
                        }
                        this.t = iVarC.toString();
                    }
                    lVarB.bO.a(this.t, lVarB.cF / 2.0f, iK2 + this.G.k() + 2.0f, this.H);
                }
            }
        }
        if (this.k && this.N && (gVarD = d()) != null) {
            int i = gVarD.e - (lVarB.by / 1000);
            int iK3 = (int) (23.0f + (this.G.k() / 2.0f));
            String str2 = "Wave " + (this.r + 1) + " in " + com.corrodinggames.rts.gameFramework.f.f(String.valueOf(i), 3);
            if (this.m) {
                str2 = "Defeat - Wave " + this.r;
            }
            lVarB.bO.a(str2, lVarB.cF / 2.0f, iK3, this.G);
            String str3 = gVarD.f;
            if (str3 != null) {
                lVarB.bO.a(str3, lVarB.cF / 2.0f, iK3 + this.G.k() + 2.0f, this.H);
            }
        }
    }

    public void g(String str) {
        com.corrodinggames.rts.gameFramework.l.e("Loading survival waves");
        this.N = true;
        int i = 0;
        int i2 = 0;
        for (String str2 : str.split("\n")) {
            i2++;
            g gVar = new g(this);
            if (gVar.a(str2)) {
                gVar.e = i + ((int) gVar.d);
                i = gVar.e;
                com.corrodinggames.rts.gameFramework.l.e("Adding wave " + i2 + " at " + gVar.e);
                this.O.add(gVar);
            }
        }
    }

    public g d() {
        if (this.r < this.O.size()) {
            return (g) this.O.get(this.r);
        }
        return null;
    }

    public void e() {
        this.R = true;
        this.P.a((PointF) this.D.get(com.corrodinggames.rts.gameFramework.f.a(0, this.D.size() - 1, this.r)));
    }

    public void f() {
        this.S.clear();
        a(this.S, "scout", 0.7f);
        a(this.S, ar.tank, 2.1f);
        a(this.S, "mechGun", 1.0f);
        a(this.S, "lightGunship", 2.8f);
        a(this.S, ar.hoverTank, 1.9f);
        a(this.S, ar.helicopter, 0.8f);
        a(this.S, ar.heavyTank, 1.0f);
        a(this.S, ar.heavyHoverTank, 0.8f);
        a(this.S, ar.gunShip, 0.7f);
        a(this.S, "plasmaTank", 0.6f);
        a(this.S, "missileAirship", 0.4f);
        this.T.clear();
        a(this.T, ar.experimentalTank, 1.0f);
        a(this.T, ar.experimentalHoverTank, 0.5f);
    }

    public void a(ArrayList arrayList, String str, float f) {
        a(arrayList, com.corrodinggames.rts.game.units.custom.l.s(str), f);
    }

    public void a(ArrayList arrayList, com.corrodinggames.rts.game.units.as asVar, float f) {
        if (asVar == null) {
            asVar = ar.tank;
        }
        com.corrodinggames.rts.game.units.as asVarC = com.corrodinggames.rts.game.units.custom.l.c(asVar);
        if (asVarC != null) {
            asVar = asVarC;
        }
        k kVar = new k(this);
        kVar.f659a = asVar;
        kVar.b = f;
        arrayList.add(kVar);
    }

    public void a(i iVar, int i, float f) {
        if (i < 0) {
            i = 0;
        }
        int size = this.S.size();
        if (size == 0) {
            com.corrodinggames.rts.gameFramework.l.b("error maxTypeNum: " + size);
            return;
        }
        k kVar = (k) this.S.get(i % size);
        int iE = (int) com.corrodinggames.rts.gameFramework.f.e((int) ((i + 3) * 0.5d * kVar.b * f), 0.8f);
        if (iE < 1) {
            iE = 1;
        }
        iVar.b(kVar.f659a, iE);
    }

    public i b(boolean z) {
        i iVar = new i(this);
        boolean z2 = false;
        if (this.u > 50 && (this.u + 1) % 100 == 0) {
            int size = this.T.size();
            int i = this.u / 100;
            if (size == 0) {
                com.corrodinggames.rts.gameFramework.l.b("error maxTypeNum: " + size);
            } else {
                k kVar = (k) this.T.get(i % size);
                int i2 = (int) (i * kVar.b);
                if (i2 < 1) {
                    i2 = 1;
                }
                iVar.b(kVar.f659a, i2);
            }
            z2 = true;
        }
        int i3 = 0;
        if (this.y > 0) {
            i3 = this.y;
        }
        a(iVar, this.u + i3, 1.0f);
        if (this.u > 15 && !z2) {
            a(iVar, ((int) ((this.u + i3) * 1.1f)) - 11, 0.5f);
        }
        if (z) {
            this.u++;
            this.v++;
        }
        return iVar;
    }

    public i c(boolean z) {
        i iVar = new i(this);
        iVar.f657a = false;
        int i = this.v;
        ar arVar = null;
        if (this.p) {
            arVar = ar.ladybug;
        } else {
            if (this.u == 0) {
                i++;
                arVar = ar.tank;
            }
            if (this.u == 1) {
                arVar = ar.hoverTank;
            }
            if (this.u == 2) {
                arVar = ar.helicopter;
            }
            if (this.u == 3) {
                i = this.w;
                arVar = ar.heavyTank;
            }
            if (this.u == 4) {
                i = this.w;
                arVar = ar.heavyHoverTank;
                if (this.w % 2 == 0) {
                    arVar = ar.gunShip;
                }
            }
            if (this.u == 5) {
                iVar.f657a = true;
                i = 1;
                arVar = ar.experimentalTank;
            }
            if (z) {
                this.u++;
                boolean z2 = false;
                if (this.w == 1) {
                    if (this.u > 2) {
                        z2 = true;
                    }
                } else if (this.w < 5) {
                    if (this.u > 4) {
                        z2 = true;
                    }
                } else {
                    if (this.u > 5) {
                        z2 = true;
                    }
                    if (this.u > 4 && this.w % 2 == 0) {
                        z2 = true;
                    }
                }
                if (z2) {
                    this.u = 0;
                    this.v += 2;
                    this.w++;
                }
            }
        }
        iVar.a(arVar, i);
        return iVar;
    }

    public void c(float f) {
        i iVarC;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        int i = lVarB.by;
        this.M = com.corrodinggames.rts.gameFramework.f.a(this.M, f);
        if (lVarB.aq && lVarB.bH) {
            com.corrodinggames.rts.game.b.a aVar = null;
            if (lVarB.bL.Q != null) {
                Iterator it = lVarB.bL.Q.c.iterator();
                while (it.hasNext()) {
                    com.corrodinggames.rts.game.b.a aVar2 = (com.corrodinggames.rts.game.b.a) it.next();
                    if ("camera_pan".equalsIgnoreCase(aVar2.d) && this.L == Integer.parseInt(aVar2.a("index", "-1"))) {
                        aVar = aVar2;
                    }
                }
            }
            if (aVar == null) {
                this.L = 0;
            } else {
                float fI = aVar.e;
                float fJ = aVar.f;
                if (fI < lVarB.cI + 2.0f) {
                    fI = lVarB.cI + 2.0f;
                }
                if (fJ < lVarB.cJ + 2.0f) {
                    fJ = lVarB.cJ + 2.0f;
                }
                if (fI > (lVarB.bL.i() - lVarB.cI) - 2.0f) {
                    fI = (lVarB.bL.i() - lVarB.cI) - 2.0f;
                }
                if (fJ > (lVarB.bL.j() - lVarB.cJ) - 2.0f) {
                    fJ = (lVarB.bL.j() - lVarB.cJ) - 2.0f;
                }
                float fD = com.corrodinggames.rts.gameFramework.f.d(lVarB.cy + lVarB.cI, lVarB.cz + lVarB.cJ, fI, fJ);
                float fA = com.corrodinggames.rts.gameFramework.f.a(lVarB.cy + lVarB.cI, lVarB.cz + lVarB.cJ, fI, fJ);
                if (this.M == 0.0f && (fA < 225.0f || lVarB.ct)) {
                    this.L++;
                    this.M = 50.0f;
                }
                float f2 = 0.45f * f;
                lVarB.cy += com.corrodinggames.rts.gameFramework.f.k(fD) * f2;
                lVarB.cz += com.corrodinggames.rts.gameFramework.f.j(fD) * f2;
                lVarB.a(lVarB.cy, lVarB.cz);
                lVarB.Q();
            }
        }
        if (this.k) {
            if (!this.N) {
                if (!this.m) {
                    this.z = com.corrodinggames.rts.gameFramework.f.a(this.z, f);
                }
                if (this.z == 0.0f && !this.m) {
                    this.r++;
                    this.A = 180.0f;
                    PointF pointF = (PointF) this.D.get(com.corrodinggames.rts.gameFramework.f.a(0, this.D.size() - 1, this.r));
                    if (!this.l) {
                        this.s = b(false).toString();
                        iVarC = b(true);
                    } else {
                        this.s = c(false).toString();
                        iVarC = c(true);
                    }
                    this.z = 1800.0f;
                    if (!this.l) {
                        if (this.y > 0) {
                            this.z -= (this.y * 3) * 60;
                        } else {
                            this.z -= (this.y * 9) * 60;
                        }
                    }
                    iVarC.a(pointF.f45a, pointF.b);
                    this.t = null;
                }
            } else if (!this.m) {
                g gVarD = d();
                if (gVarD != null) {
                    if (gVarD.e * 1000 < lVarB.by) {
                        gVarD.a();
                        this.r++;
                    }
                } else if (!lVarB.dq && !lVarB.cb.j()) {
                    lVarB.bS.G();
                }
            }
        }
        if (this.j) {
            this.j = false;
            if (this.h != null) {
                lVarB.a("Briefing", this.h);
            }
        }
        if (i > this.b + 250) {
            this.b = i;
            a(i);
        }
        if (i > this.c + 1000) {
            this.c = i;
            if (h()) {
                h();
                h();
            }
            boolean z = false;
            if (lVarB.bs != null) {
                if (lVarB.bs.j()) {
                }
                if (lVarB.bs.b()) {
                    z = true;
                }
            }
            if (!lVarB.dq && !lVarB.dt && !lVarB.cb.j() && !z) {
                boolean z2 = true;
                boolean z3 = true;
                if (this.e == l.none) {
                    z2 = false;
                } else if (this.e == l.requiredObjectives) {
                    Iterator it2 = this.g.iterator();
                    while (it2.hasNext()) {
                        if (!((m) it2.next()).b()) {
                            z2 = false;
                        }
                    }
                } else if (lVarB.bs != null) {
                    Iterator it3 = am.bE.iterator();
                    while (true) {
                        if (!it3.hasNext()) {
                            break;
                        }
                        am amVar = (am) it3.next();
                        if (lVarB.bs.c(amVar.bX) && a(this.e, amVar)) {
                            z2 = false;
                            break;
                        }
                    }
                }
                if (this.f == l.none || this.f == l.requiredObjectives) {
                    z3 = false;
                } else if (lVarB.bs != null) {
                    Iterator it4 = am.bE.iterator();
                    while (true) {
                        if (!it4.hasNext()) {
                            break;
                        }
                        am amVar2 = (am) it4.next();
                        if (lVarB.bs.d(amVar2.bX) && a(this.f, amVar2)) {
                            z3 = false;
                            break;
                        }
                    }
                }
                if (z3 && !z2) {
                    lVarB.bS.H();
                }
                if (z2) {
                    lVarB.bS.G();
                    if (lVarB.by > 1500) {
                        lVarB.bQ.numberOfWins++;
                        lVarB.bQ.save();
                    }
                }
            }
            if (this.k && !this.m) {
                boolean z4 = true;
                Iterator it5 = am.bE.iterator();
                while (it5.hasNext()) {
                    am amVar3 = (am) it5.next();
                    if ((amVar3 instanceof com.corrodinggames.rts.game.units.d.e) || amVar3.bP) {
                        if (!amVar3.bV && !amVar3.u() && amVar3.bX == lVarB.bs) {
                            z4 = false;
                        }
                    }
                }
                if (z4) {
                    this.m = true;
                    lVarB.bS.H();
                }
            }
        }
    }

    public boolean a(l lVar, am amVar) {
        if (!(amVar instanceof y) || amVar.bV || amVar.cT() || lVar == l.none) {
            return false;
        }
        if (lVar == l.allUnitsAndBuildings) {
            return true;
        }
        if (lVar == l.allBuildings) {
            return amVar.bI();
        }
        if (lVar == l.commandCenter) {
            return (amVar instanceof com.corrodinggames.rts.game.units.d.e) || amVar.bP;
        }
        if (lVar == l.mainBuildings) {
            return amVar.bI() && amVar.bJ() && !(amVar instanceof com.corrodinggames.rts.game.units.d.a.b) && !(amVar instanceof com.corrodinggames.rts.game.units.d.g);
        }
        if (lVar == l.noConstructionOrTech) {
            if (amVar.bJ() || amVar.ak()) {
                return true;
            }
            return false;
        }
        if (lVar == l.requiredObjectives) {
            return false;
        }
        return false;
    }

    public void h(String str) {
        com.corrodinggames.rts.gameFramework.l.e("Map Script: " + str);
    }

    public void a(a aVar) {
        if (g()) {
            h("Activiated trigger:" + aVar.f649a + " (id:" + aVar.b + ")");
        }
    }

    public boolean g() {
        return f654a && com.corrodinggames.rts.gameFramework.l.B().bl;
    }

    public static void i(String str) {
        ad.g("Map ScriptError: " + str);
    }

    public void a(int i) {
        Iterator it = this.J.iterator();
        while (it.hasNext()) {
            a aVar = (a) it.next();
            if (aVar.j && aVar.q != -1 && i >= aVar.k + aVar.q) {
                aVar.j = false;
                aVar.u = false;
            }
            if (!aVar.j && !aVar.u && aVar.d()) {
                aVar.u = true;
            }
            if ((aVar.j || aVar.u) && aVar.e.b()) {
                aVar.j = false;
                aVar.u = false;
                aVar.m = true;
            }
            if (aVar.j && aVar.p > 0 && i >= aVar.k + aVar.p) {
                aVar.u = true;
            }
            if (aVar.u) {
                aVar.u = false;
                try {
                    d.a(this, aVar);
                } catch (com.corrodinggames.rts.game.b.f e) {
                    e.printStackTrace();
                    aVar.g("Error activating trigger: " + e.getMessage());
                }
            }
        }
    }

    public boolean h() {
        boolean z;
        boolean z2 = false;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i = 0; i < size; i++) {
            am amVar = amVarArrA[i];
            if (amVar.bX == n.i && (amVar instanceof y) && amVar.bT() && !amVar.o()) {
                int i2 = 0;
                int size2 = am.bE.size();
                while (true) {
                    if (i2 < size2) {
                        am amVar2 = amVarArrA[i2];
                        if (!lVarB.ay()) {
                            z = amVar2.bX == lVarB.bs;
                        } else {
                            z = !amVar2.bX.w;
                            if (amVar.cO()) {
                                z = true;
                            }
                        }
                        if (amVar2.bX != null && amVar2.bX.k < 0) {
                            z = false;
                        }
                        if (!z || amVar2.bX == amVar.bX || !(amVar2 instanceof y) || amVar2.i() || !amVar2.bT() || com.corrodinggames.rts.gameFramework.f.a(amVar2.eo, amVar2.ep, amVar.eo, amVar.ep) >= 28900.0f) {
                            i2++;
                        } else {
                            amVar.e(amVar2.bX);
                            amVar.cJ = 60.0f;
                            z2 = true;
                            break;
                        }
                    }
                }
            }
        }
        return z2;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n/g.java
================================================================================

package com.corrodinggames.rts.gameFramework.n;

import android.graphics.PointF;
import com.corrodinggames.rts.game.units.ar;
import com.corrodinggames.rts.game.units.as;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/g.class */
public class g {

    /* renamed from: a, reason: collision with root package name */
    public ArrayList f655a = new ArrayList();
    public boolean b;
    public boolean c;
    public float d;
    public int e;
    public String f;
    public boolean g;
    public boolean h;
    final /* synthetic */ f i;

    public g(f fVar) {
        this.i = fVar;
    }

    public boolean a(String str) throws com.corrodinggames.rts.game.b.f, NumberFormatException {
        String strGroup;
        String str2;
        String strTrim = str.trim();
        com.corrodinggames.rts.gameFramework.l.e("Got:" + strTrim);
        if (strTrim.length() == 0) {
            return false;
        }
        com.corrodinggames.rts.gameFramework.l.e("..");
        String strGroup2 = null;
        String strGroup3 = null;
        String strGroup4 = null;
        if (strTrim.startsWith("+")) {
            Matcher matcher = Pattern.compile("\\+([^ ]*)([^\\[-]*)(\\[(.*?)\\])? *(-.*)?").matcher(strTrim);
            if (matcher.matches()) {
                strGroup2 = matcher.group(1);
                strGroup3 = matcher.group(2);
                strGroup = matcher.group(4);
                strGroup4 = matcher.group(5);
                com.corrodinggames.rts.gameFramework.l.e("Got o:" + strGroup + " d:" + strGroup2 + " dn:" + strGroup3 + " units:" + strGroup4);
            } else {
                throw new com.corrodinggames.rts.game.b.f("Unknown wave line in map: " + strTrim);
            }
        } else if (strTrim.startsWith("!")) {
            Matcher matcher2 = Pattern.compile("\\!(.*)").matcher(strTrim);
            if (matcher2.matches()) {
                strGroup = matcher2.group(1);
            } else {
                throw new com.corrodinggames.rts.game.b.f("Unknown wave line in map: " + strTrim);
            }
        } else {
            throw new com.corrodinggames.rts.game.b.f("Unknown wave format: " + strTrim);
        }
        if (strGroup2 != null) {
            String[] strArrSplit = strGroup2.trim().split(":");
            String str3 = "0";
            if (strArrSplit.length == 1) {
                str2 = strArrSplit[0];
            } else if (strArrSplit.length == 2) {
                str3 = strArrSplit[0];
                str2 = strArrSplit[1];
            } else {
                throw new com.corrodinggames.rts.game.b.f("Unknown time format in wave: " + strTrim);
            }
            try {
                this.d = Integer.parseInt(str2) + (Integer.parseInt(str3) * 60);
            } catch (NumberFormatException e) {
                throw new com.corrodinggames.rts.game.b.f("Failed to parse time on: " + strTrim, e);
            }
        }
        if (strGroup3 != null) {
            this.f = strGroup3.trim();
            this.h = true;
        }
        if (strGroup != null) {
            for (String str4 : strGroup.split(",")) {
                String[] strArrSplit2 = str4.split(":");
                String strTrim2 = strArrSplit2[0].trim();
                if (strArrSplit2.length > 1) {
                    strArrSplit2[1].trim();
                }
                if ("lockSpawn".equalsIgnoreCase(strTrim2)) {
                    this.b = true;
                } else if ("unlockSpawn".equalsIgnoreCase(strTrim2)) {
                    this.c = true;
                } else if ("noTimer".equalsIgnoreCase(strTrim2)) {
                    this.g = true;
                } else if (!"paused".equalsIgnoreCase(strTrim2) && !"win".equalsIgnoreCase(strTrim2) && !VariableScope.nullOrMissingString.equalsIgnoreCase(strTrim2)) {
                    throw new com.corrodinggames.rts.game.b.f("Unknown wave option '" + strTrim2 + "' in: " + strTrim);
                }
            }
        }
        if (strGroup4 != null) {
            String strTrim3 = strGroup4.trim();
            if (strTrim3.startsWith("-")) {
                strTrim3 = strTrim3.substring(1);
            }
            for (String str5 : strTrim3.split(",")) {
                String strTrim4 = str5.trim();
                if (!strTrim4.contains(" ")) {
                    throw new com.corrodinggames.rts.game.b.f("Unknown wave format '" + strTrim4 + "' in: " + strTrim);
                }
                int iIndexOf = strTrim4.indexOf(" ");
                String strTrim5 = strTrim4.substring(0, iIndexOf).trim();
                String strTrim6 = strTrim4.substring(iIndexOf + 1).trim();
                try {
                    int i = Integer.parseInt(strTrim5);
                    as asVarA = ar.a(strTrim6);
                    if (asVarA == null) {
                        throw new com.corrodinggames.rts.game.b.f("Could not find unit '" + strTrim6 + "' in: " + strTrim);
                    }
                    i iVar = new i(this.i);
                    iVar.b(asVarA, i);
                    this.f655a.add(iVar);
                } catch (NumberFormatException e2) {
                    throw new com.corrodinggames.rts.game.b.f("Expected starting number in wave format '" + strTrim4 + "' in: " + strTrim);
                }
            }
            return true;
        }
        return true;
    }

    public void a() {
        com.corrodinggames.rts.gameFramework.l.e("Activating wave");
        if (!this.i.R) {
            this.i.e();
        }
        PointF pointF = this.i.P;
        Iterator it = this.f655a.iterator();
        while (it.hasNext()) {
            ((i) it.next()).a(pointF.f45a, pointF.b);
        }
        if (!this.i.Q) {
            this.i.e();
        }
        if (this.b) {
            this.i.Q = true;
        }
        if (this.c) {
            this.i.Q = false;
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n/k.java
================================================================================

package com.corrodinggames.rts.gameFramework.n;

import com.corrodinggames.rts.game.units.as;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/k.class */
class k {

    /* renamed from: a, reason: collision with root package name */
    as f659a;
    float b = 1.0f;
    final /* synthetic */ f c;

    k(f fVar) {
        this.c = fVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n/l.java
================================================================================

package com.corrodinggames.rts.gameFramework.n;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/l.class */
enum l {
    none,
    allUnitsAndBuildings,
    allBuildings,
    mainBuildings,
    commandCenter,
    noConstructionOrTech,
    requiredObjectives
}


================================================================================
// FILE_PATH: ./gameFramework/n/m.java
================================================================================

package com.corrodinggames.rts.gameFramework.n;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/m.class */
public class m {

    /* renamed from: a, reason: collision with root package name */
    a f661a;

    public String a() {
        if (this.f661a.z == null) {
            return "<null>";
        }
        return this.f661a.z.b();
    }

    public boolean b() {
        return this.f661a.j;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.n;

import android.graphics.Color;
import android.graphics.Paint;
import com.corrodinggames.rts.game.n;
import com.corrodinggames.rts.game.units.ak;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.custom.bb;
import com.corrodinggames.rts.game.units.custom.bp;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.j.ad;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/a.class */
public class a {

    /* renamed from: a, reason: collision with root package name */
    public String f649a;
    public String b;
    public String c;
    public e g;
    public boolean h;
    public boolean i;
    public boolean j;
    public int k;
    public int l;
    public boolean m;
    public int p;
    public com.corrodinggames.rts.game.b.a t;
    public bp v;
    public float w;
    public float x;
    public n y;
    public bb z;
    public bb A;
    public Paint B;
    public boolean C;
    public b d = new b();
    public b e = new b();
    public com.corrodinggames.rts.gameFramework.utility.m f = new com.corrodinggames.rts.gameFramework.utility.m();
    public int n = -1;
    public int o = Integer.MAX_VALUE;
    public int q = -1;
    public int r = -1;
    public int s = -1;
    public boolean u = false;

    public void a(com.corrodinggames.rts.gameFramework.n.a.a aVar) {
        this.f.add(aVar);
    }

    public void a(String str) {
        this.t.b(str);
    }

    public String b(String str) {
        return this.t.b(str);
    }

    public String a(String str, String str2) {
        return this.t.a(str, str2);
    }

    public boolean c(String str) {
        return this.t.b(str) != null;
    }

    public int a(String str, int i) throws com.corrodinggames.rts.game.b.f {
        String strA = a(str, (String) null);
        if (strA == null) {
            return i;
        }
        try {
            return Integer.parseInt(strA);
        } catch (NumberFormatException e) {
            throw f(str + ": Unexpected integer value:'" + strA + "'");
        }
    }

    public int b(String str, int i) throws com.corrodinggames.rts.game.b.f {
        double d;
        String strB = b(str);
        if (strB == null) {
            return i;
        }
        if (strB.endsWith("ms")) {
            strB = strB.substring(0, strB.length() - 2);
            d = 1.0d;
        } else if (strB.endsWith("s")) {
            strB = strB.substring(0, strB.length() - 1);
            d = 1000.0d;
        } else {
            d = 1.0d;
        }
        try {
            return (int) (Double.parseDouble(strB) * d);
        } catch (NumberFormatException e) {
            e.printStackTrace();
            throw f(str + ": Unexpected time:'" + strB + "'");
        }
    }

    public float a(String str, float f) throws com.corrodinggames.rts.game.b.f {
        String strA = a(str, (String) null);
        if (strA == null) {
            return f;
        }
        try {
            return Float.parseFloat(strA);
        } catch (NumberFormatException e) {
            throw f(str + ": Unexpected float value:'" + strA + "'");
        }
    }

    public Integer d(String str) throws com.corrodinggames.rts.game.b.f {
        String strA = a(str, (String) null);
        if (strA == null) {
            return null;
        }
        try {
            return Integer.valueOf(Integer.parseInt(strA));
        } catch (NumberFormatException e) {
            throw f(str + ": Unexpected integer value:'" + strA + "'");
        }
    }

    public Boolean e(String str) throws com.corrodinggames.rts.game.b.f {
        String strA = a(str, (String) null);
        if (strA == null) {
            return null;
        }
        if (strA.equalsIgnoreCase("true")) {
            return true;
        }
        if (strA.equalsIgnoreCase("false")) {
            return false;
        }
        throw f(str + ": Unexpected boolean value:'" + strA + "'");
    }

    public boolean a(String str, String str2, boolean z) throws com.corrodinggames.rts.game.b.f {
        Boolean boolE = e(str);
        if (boolE != null) {
            return boolE.booleanValue();
        }
        Boolean boolE2 = e(str2);
        if (boolE2 != null) {
            return boolE2.booleanValue();
        }
        return z;
    }

    public boolean a(String str, boolean z) throws com.corrodinggames.rts.game.b.f {
        String strA = a(str, (String) null);
        if (strA == null) {
            return z;
        }
        if (strA.equalsIgnoreCase("true")) {
            return true;
        }
        if (strA.equalsIgnoreCase("false")) {
            return false;
        }
        throw f(str + ": Unexpected boolean value:'" + strA + "'");
    }

    public int c(String str, int i) throws com.corrodinggames.rts.game.b.f {
        String strB = b(str);
        if (strB == null) {
            return i;
        }
        if (strB.equals(VariableScope.nullOrMissingString)) {
            throw f(str + ": Unknown color:" + strB);
        }
        try {
            return Color.a(strB);
        } catch (IllegalArgumentException e) {
            throw f(str + ": Unknown color:" + strB);
        }
    }

    public bb a(String str, bb bbVar) {
        return this.t.a(str, bbVar);
    }

    public boolean a(am amVar) {
        return this.t.a(amVar);
    }

    public com.corrodinggames.rts.game.b.f f(String str) {
        return a(str, (Exception) null);
    }

    public com.corrodinggames.rts.game.b.f a(String str, Exception exc) {
        String str2 = "MapTrigger-Error (" + this.f649a + " id:" + this.b + "): " + str;
        ad.g(str2);
        if (exc == null) {
            return new com.corrodinggames.rts.game.b.f(str2);
        }
        return new com.corrodinggames.rts.game.b.f(str2, exc);
    }

    public void g(String str) {
        ad.g("MapTrigger-Error (" + this.f649a + " id:" + this.b + " type:" + this.g + "): " + str);
    }

    public void h(String str) {
        com.corrodinggames.rts.gameFramework.l.e("MapTrigger-Debug (" + this.b + " type:" + this.g + "): " + str);
    }

    public n a() {
        return this.y;
    }

    public int b() {
        return (int) this.t.j.d();
    }

    public int c() {
        return (int) this.t.j.e();
    }

    /* JADX WARN: Multi-variable type inference failed */
    public boolean b(am amVar) {
        n nVarA = a();
        if (nVarA != null && amVar.bX != nVarA) {
            return false;
        }
        if (c("onlyIfEmpty") && amVar.cr() && (amVar instanceof ak) && ((ak) amVar).bB() > 0) {
            return false;
        }
        return true;
    }

    public boolean d() {
        boolean z;
        int i = com.corrodinggames.rts.gameFramework.l.B().by;
        boolean z2 = true;
        boolean z3 = false;
        if (!this.m && this.r != -1) {
            if (this.r <= i) {
                z3 = true;
                this.m = true;
            } else {
                z2 = false;
            }
        }
        if (this.d.a()) {
            if (this.d.b()) {
                z3 = true;
            } else {
                z2 = false;
            }
        }
        if (this.f.f694a > 0) {
            Iterator it = this.f.iterator();
            while (it.hasNext()) {
                com.corrodinggames.rts.gameFramework.n.a.a aVar = (com.corrodinggames.rts.gameFramework.n.a.a) it.next();
                if (aVar.a(this)) {
                    if (aVar.b(this)) {
                        z3 = true;
                    } else {
                        z2 = false;
                    }
                }
            }
        }
        if (this.h) {
            z = z3 && z2;
        } else {
            z = z3;
            if (z2) {
                z = true;
            }
        }
        if (z) {
            if (this.n == -1) {
                this.n = i;
            }
            if (this.s <= 0 || i >= this.n + this.s) {
                return true;
            }
            return false;
        }
        this.n = -1;
        return false;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n/a/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.n.a;

import com.corrodinggames.rts.game.b.f;
import com.corrodinggames.rts.game.n;
import com.corrodinggames.rts.game.units.custom.bo;
import com.corrodinggames.rts.game.units.custom.g;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/a/b.class */
public class b extends a {

    /* renamed from: a, reason: collision with root package name */
    n f650a;
    g b;

    public static b d(com.corrodinggames.rts.gameFramework.n.a aVar) throws f {
        b bVar = new b();
        bVar.f650a = aVar.a();
        if (bVar.f650a == null) {
            throw new f("teamTagDetect requires a team set");
        }
        String strB = aVar.b("teamTag");
        if (strB != null && !strB.equals(VariableScope.nullOrMissingString)) {
            try {
                bVar.b = g.b(strB);
                return bVar;
            } catch (bo e) {
                throw new f(e.getMessage());
            }
        }
        throw new f("teamTagDetect requires a teamTag set");
    }

    @Override // com.corrodinggames.rts.gameFramework.n.a.a
    public boolean b(com.corrodinggames.rts.gameFramework.n.a aVar) {
        if (g.a(this.b, this.f650a.U())) {
            return true;
        }
        return false;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n/a/c.java
================================================================================

package com.corrodinggames.rts.gameFramework.n.a;

import com.corrodinggames.rts.game.b.f;
import com.corrodinggames.rts.game.n;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ar;
import com.corrodinggames.rts.game.units.as;
import com.corrodinggames.rts.game.units.custom.bo;
import com.corrodinggames.rts.game.units.custom.g;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.game.units.y;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/a/c.class */
public class c extends a {

    /* renamed from: a, reason: collision with root package name */
    Integer f651a;
    Integer b;
    n c;
    as d;
    boolean e;
    boolean f;
    boolean g;
    boolean h;
    boolean i;
    boolean j;
    int k;
    boolean l;
    boolean m;
    boolean n;
    g o;
    boolean p;

    public static c d(com.corrodinggames.rts.gameFramework.n.a aVar) throws f {
        c cVar = new c();
        cVar.f651a = aVar.d("maxUnits");
        int i = 1;
        if (cVar.f651a != null) {
            i = 0;
        }
        cVar.b = Integer.valueOf(aVar.a("minUnits", i));
        cVar.c = aVar.a();
        as asVarA = null;
        String strB = aVar.b("unitType");
        if (strB != null) {
            asVarA = ar.a(strB);
            if (asVarA == null) {
                aVar.g("Cound not find unitType:" + strB);
            }
        }
        cVar.d = asVarA;
        cVar.e = aVar.a("onlybuildings", "onlyBuildings", false);
        cVar.g = aVar.a("onlyMainBuildings", false);
        cVar.h = aVar.a("onlyOnResourcePool", false);
        cVar.f = aVar.a("onlyidle", "onlyIdle", false);
        cVar.k = aVar.a("onlyTechLevel", -1);
        cVar.j = aVar.a("onlyBuilders", false);
        cVar.i = aVar.a("onlyEmptyQueue", false);
        cVar.l = aVar.a("onlyAttack", false);
        cVar.m = aVar.a("onlyAttackAir", false);
        cVar.n = aVar.a("onlyIfEmpty", false);
        String strB2 = aVar.b("onlyWithTag");
        if (strB2 != null && !strB2.equals(VariableScope.nullOrMissingString)) {
            try {
                cVar.o = g.b(strB2);
            } catch (bo e) {
                throw new f(e.getMessage());
            }
        }
        cVar.p = aVar.a("includeIncomplete", false);
        return cVar;
    }

    @Override // com.corrodinggames.rts.gameFramework.n.a.a
    public boolean b(com.corrodinggames.rts.gameFramework.n.a aVar) {
        return e(aVar);
    }

    public boolean e(com.corrodinggames.rts.gameFramework.n.a aVar) {
        int i = 0;
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i2 = 0; i2 < size; i2++) {
            am amVar = amVarArrA[i2];
            if ((this.c == null || amVar.bX == this.c) && (amVar instanceof y) && amVar.cN == null && aVar.a(amVar) && (this.d == null || amVar.r() == this.d)) {
                y yVar = (y) amVar;
                if ((this.p || amVar.bT()) && ((!this.l || amVar.l()) && ((!this.m || (amVar.l() && yVar.af())) && ((!this.e || amVar.bI()) && ((!this.g || (amVar.bI() && amVar.bJ())) && ((!this.h || amVar.r().p()) && ((!this.j || amVar.ak()) && ((!this.f || yVar.aq()) && ((!this.i || yVar.a((g) null) <= 0) && ((this.k == -1 || amVar.V() == this.k) && ((this.o == null || g.a(this.o, amVar.de())) && (!this.n || yVar.bB() <= 0)))))))))))) {
                    i++;
                }
            }
        }
        if (i >= this.b.intValue()) {
            if (this.f651a == null || i <= this.f651a.intValue()) {
                return true;
            }
            return false;
        }
        return false;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/n/a/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.n.a;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/n/a/a.class */
public abstract class a {
    public abstract boolean b(com.corrodinggames.rts.gameFramework.n.a aVar);

    public boolean a(com.corrodinggames.rts.gameFramework.n.a aVar) {
        return true;
    }

    public boolean c(com.corrodinggames.rts.gameFramework.n.a aVar) {
        return false;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/g/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.g;

import com.corrodinggames.rts.game.n;
import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/g/b.class */
public class b extends d {

    /* renamed from: a, reason: collision with root package name */
    private final String f536a;
    private final int b;
    private final ArrayList c;

    public b(int i, ArrayList arrayList) {
        this.b = i;
        this.c = arrayList;
        this.f536a = "Team " + n.a(i);
    }

    @Override // com.corrodinggames.rts.gameFramework.g.d
    public boolean a() {
        return true;
    }

    @Override // com.corrodinggames.rts.gameFramework.g.d
    public String b() {
        return this.f536a;
    }

    @Override // com.corrodinggames.rts.gameFramework.g.d
    public int c() {
        return n.i(this.b);
    }

    @Override // com.corrodinggames.rts.gameFramework.g.d
    public int d() {
        return n.i(this.b);
    }

    @Override // com.corrodinggames.rts.gameFramework.g.d
    public int a(f fVar) {
        int iA = 0;
        Iterator it = this.c.iterator();
        while (it.hasNext()) {
            iA += fVar.a((n) it.next());
        }
        return iA;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/g/c.java
================================================================================

package com.corrodinggames.rts.gameFramework.g;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/g/c.class */
public enum c {
    player,
    allyGroup,
    combinedPlayerAndGroup
}


================================================================================
// FILE_PATH: ./gameFramework/g/d.java
================================================================================

package com.corrodinggames.rts.gameFramework.g;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/g/d.class */
public abstract class d implements Comparable {

    /* renamed from: a, reason: collision with root package name */
    private int f538a;

    public abstract String b();

    public abstract boolean a();

    public abstract int c();

    public abstract int d();

    public abstract int a(f fVar);

    public void b(f fVar) {
        this.f538a = a(fVar);
    }

    @Override // java.lang.Comparable
    /* renamed from: a, reason: merged with bridge method [inline-methods] */
    public int compareTo(d dVar) {
        if (this.f538a == dVar.f538a) {
            return b().compareTo(dVar.b());
        }
        return dVar.f538a - this.f538a;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/g/e.java
================================================================================

package com.corrodinggames.rts.gameFramework.g;

import com.corrodinggames.rts.game.n;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/g/e.class */
public class e extends d {

    /* renamed from: a, reason: collision with root package name */
    private final n f539a;

    public e(n nVar) {
        this.f539a = nVar;
    }

    @Override // com.corrodinggames.rts.gameFramework.g.d
    public boolean a() {
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.g.d
    public String b() {
        if (this.f539a.v == null) {
            return VariableScope.nullOrMissingString;
        }
        return this.f539a.v;
    }

    @Override // com.corrodinggames.rts.gameFramework.g.d
    public int c() {
        return this.f539a.K();
    }

    @Override // com.corrodinggames.rts.gameFramework.g.d
    public int d() {
        return -1;
    }

    @Override // com.corrodinggames.rts.gameFramework.g.d
    public int a(f fVar) {
        return fVar.a(this.f539a);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/g/f.java
================================================================================

package com.corrodinggames.rts.gameFramework.g;

import com.corrodinggames.rts.game.n;
import com.corrodinggames.rts.gameFramework.g.a;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/g/f.class */
public enum f {
    none,
    income,
    armyValue,
    buildingValue,
    totalValue,
    credits;

    public int a(n nVar) {
        switch (a.AnonymousClass1.f535a[ordinal()]) {
            case 1:
            default:
                return 0;
            case 2:
                int iV = nVar.v();
                Iterator it = com.corrodinggames.rts.game.units.custom.e.a.f().iterator();
                while (it.hasNext()) {
                    com.corrodinggames.rts.game.units.custom.e.a aVar = (com.corrodinggames.rts.game.units.custom.e.a) it.next();
                    if (aVar.d()) {
                        float fB = aVar.b();
                        if (fB != 0.0f) {
                            iV = (int) (iV + (fB * nVar.b(aVar)));
                        }
                    }
                }
                return iV;
            case 3:
                return nVar.T.n;
            case 4:
                return nVar.T.o;
            case 5:
                return nVar.T.n + nVar.T.o;
            case 6:
                return (int) nVar.o;
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/g/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.g;

import com.corrodinggames.rts.game.n;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.l;
import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/g/a.class */
public class a {

    /* renamed from: a, reason: collision with root package name */
    private final f f534a;
    private final c b;
    private final ArrayList c;

    public a() {
        this(f.none, c.player);
    }

    public a(f fVar, c cVar) {
        this.c = new ArrayList();
        this.f534a = fVar;
        this.b = cVar;
    }

    public void a() {
        if (this.f534a == f.none) {
            return;
        }
        ArrayList arrayListB = n.b(false);
        if (this.b == c.player) {
            Iterator it = arrayListB.iterator();
            while (it.hasNext()) {
                this.c.add(new e((n) it.next()));
            }
        } else if (this.b == c.allyGroup) {
            Iterator it2 = n.f().iterator();
            while (it2.hasNext()) {
                Integer num = (Integer) it2.next();
                ArrayList arrayList = new ArrayList();
                Iterator it3 = arrayListB.iterator();
                while (it3.hasNext()) {
                    n nVar = (n) it3.next();
                    if (nVar.r == num.intValue()) {
                        arrayList.add(nVar);
                    }
                }
                this.c.add(new b(num.intValue(), arrayList));
            }
        } else if (this.b == c.combinedPlayerAndGroup) {
            int size = 0;
            ArrayList arrayListF = n.f();
            Iterator it4 = arrayListF.iterator();
            while (it4.hasNext()) {
                Integer num2 = (Integer) it4.next();
                ArrayList arrayList2 = new ArrayList();
                Iterator it5 = arrayListB.iterator();
                while (it5.hasNext()) {
                    n nVar2 = (n) it5.next();
                    if (nVar2.r == num2.intValue()) {
                        arrayList2.add(nVar2);
                    }
                }
                if (size < arrayList2.size()) {
                    size = arrayList2.size();
                }
            }
            if (size <= 1) {
                Iterator it6 = arrayListB.iterator();
                while (it6.hasNext()) {
                    this.c.add(new e((n) it6.next()));
                }
            } else {
                Iterator it7 = arrayListF.iterator();
                while (it7.hasNext()) {
                    Integer num3 = (Integer) it7.next();
                    ArrayList arrayList3 = new ArrayList();
                    Iterator it8 = arrayListB.iterator();
                    while (it8.hasNext()) {
                        n nVar3 = (n) it8.next();
                        if (nVar3.r == num3.intValue()) {
                            arrayList3.add(nVar3);
                        }
                    }
                    this.c.add(new b(num3.intValue(), arrayList3));
                    Iterator it9 = arrayList3.iterator();
                    while (it9.hasNext()) {
                        this.c.add(new e((n) it9.next()));
                    }
                }
            }
        }
        b();
    }

    public void b() {
        Iterator it = this.c.iterator();
        while (it.hasNext()) {
            ((d) it.next()).b(this.f534a);
        }
    }

    public void c() {
        int iOrdinal = this.f534a.ordinal() + 1;
        if (iOrdinal >= f.values().length) {
            iOrdinal = 0;
        }
        l.B().a(f.values()[iOrdinal], c.combinedPlayerAndGroup);
    }

    public String a(d dVar) {
        return (this.b == c.combinedPlayerAndGroup && (dVar instanceof e)) ? "   " + a(this.f534a, dVar.f538a) : a(this.f534a, dVar.f538a);
    }

    public static String a(f fVar, int i) {
        switch (fVar) {
            case none:
                return VariableScope.nullOrMissingString + i;
            case income:
                return "+" + com.corrodinggames.rts.game.units.custom.e.a.c.D.a(i, true);
            default:
                return com.corrodinggames.rts.game.units.custom.e.a.c.D.a(i, true);
        }
    }

    public ArrayList d() {
        return this.c;
    }

    public f e() {
        return this.f534a;
    }

    public c f() {
        return this.b;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/a/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.a;

import android.util.Log;
import com.corrodinggames.rts.gameFramework.l;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/a/b.class */
public class b extends i {

    /* renamed from: a, reason: collision with root package name */
    a f394a;
    int b;
    final /* synthetic */ a c;

    /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
    public b(a aVar, String str, h hVar) {
        super(str, hVar);
        this.c = aVar;
        this.b = -1;
    }

    @Override // com.corrodinggames.rts.gameFramework.a.i
    public void a(float f, float f2, int i, int i2, float f3) {
        c cVar = (c) this.c.c.a();
        if (cVar == null) {
            return;
        }
        cVar.b = f;
        cVar.c = f2;
        cVar.e = i2;
        cVar.f = f3;
        cVar.f395a = this;
        boolean z = false;
        l lVarB = l.B();
        if (lVarB != null && lVarB.bQ != null && lVarB.bQ.androidNoSoundPrioritiesDebug) {
            z = true;
        }
        if (z) {
            cVar.d = 0;
        } else {
            this.c.e--;
            if (this.c.e <= 1) {
                this.c.e = 1000;
            }
            cVar.d = this.c.e;
        }
        this.c.f393a.offer(cVar);
    }

    public void b(float f, float f2, int i, int i2, float f3) {
        if (this.b == 0) {
            Log.d("RustedWarfare", "Sound not loaded");
        } else {
            if (this.f394a.g.play(this.b, f, f2, i, i2, f3) == 0) {
            }
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.a.i
    public int a() {
        return 0;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/a/c.java
================================================================================

package com.corrodinggames.rts.gameFramework.a;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/a/c.class */
public class c {

    /* renamed from: a, reason: collision with root package name */
    b f395a;
    float b;
    float c;
    int d;
    int e;
    float f;

    public void a() {
        this.f395a.b(this.b, this.c, this.d, this.e, this.f);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/a/h.java
================================================================================

package com.corrodinggames.rts.gameFramework.a;

import android.content.Context;
import com.corrodinggames.rts.gameFramework.utility.j;
import java.util.HashMap;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/a/h.class */
public abstract class h {
    HashMap h = new HashMap();

    public abstract i a(int i);

    public abstract i a(String str, j jVar, boolean z);

    public abstract void a(Context context);

    public void a() {
    }
}


================================================================================
// FILE_PATH: ./gameFramework/a/d.java
================================================================================

package com.corrodinggames.rts.gameFramework.a;

import com.corrodinggames.rts.gameFramework.l;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/a/d.class */
public class d extends Thread {

    /* renamed from: a, reason: collision with root package name */
    final /* synthetic */ a f396a;

    public d(a aVar) {
        this.f396a = aVar;
    }

    @Override // java.lang.Thread, java.lang.Runnable
    public void run() {
        l.aq();
        while (true) {
            try {
                c cVar = (c) this.f396a.f393a.take();
                cVar.a();
                this.f396a.c.a(cVar);
            } catch (InterruptedException e) {
                return;
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/a/e.java
================================================================================

package com.corrodinggames.rts.gameFramework.a;

import android.content.Context;
import com.corrodinggames.rts.R;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.u;
import com.corrodinggames.rts.gameFramework.utility.j;
import java.util.ArrayList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/a/e.class */
public class e {

    /* renamed from: a, reason: collision with root package name */
    ArrayList f397a = new ArrayList();
    public boolean b;
    public static h c = new a();
    public static i d;
    public static i e;
    public static i f;
    public static i g;
    public static i h;
    public static i i;
    public static i j;
    public static i k;
    public static i l;
    public static i m;
    public static i n;
    public static i o;
    public static i p;
    public static i q;
    public static i r;
    public static i s;
    public static i t;
    public static i u;
    public static i v;
    public static i w;
    public static i x;
    public static i y;
    public static i z;
    public static i A;
    public static i B;
    public static i C;
    public static i D;
    public static i E;
    public static i F;

    public boolean a(i iVar, float f2) {
        if (this.f397a.contains(iVar)) {
            return false;
        }
        this.f397a.add(iVar);
        return true;
    }

    public boolean a() {
        l lVarB = l.B();
        return a(lVarB.bQ.masterVolume * lVarB.bQ.gameVolume);
    }

    public boolean a(float f2) {
        l lVarB = l.B();
        if (f2 < 0.01f || this.b) {
            return false;
        }
        return lVarB.bQ.enableSounds;
    }

    public static void b() {
    }

    public void a(Context context) {
        c.a(context);
        e = c.a(R.raw.attack);
        e.d = 0.2f;
        d = c.a(R.raw.attack2);
        f = c.a(R.raw.move);
        g = c.a(R.raw.click);
        h = c.a(R.raw.click_add);
        i = c.a(R.raw.click_remove);
        j = c.a(R.raw.warning);
        k = c.a(R.raw.message);
        m = c.a(R.raw.missile_fire);
        n = c.a(R.raw.missile_hit);
        o = c.a(R.raw.unit_explode);
        p = c.a(R.raw.buiding_explode);
        q = c.a(R.raw.tank_firing);
        r = c.a(R.raw.cannon_firing);
        s = c.a(R.raw.gun_fire);
        x = c.a(R.raw.lighting_burst);
        y = c.a(R.raw.plasma_fire);
        z = c.a(R.raw.plasma_fire2);
        t = c.a(R.raw.firing3);
        u = c.a(R.raw.firing4);
        v = c.a(R.raw.large_gun_fire1);
        w = c.a(R.raw.large_gun_fire2);
        A = c.a(R.raw.bug_die);
        B = c.a(R.raw.bug_attack);
        l = c.a(R.raw.interface_error);
        C = c.a(R.raw.nuke_explode);
        D = c.a(R.raw.nuke_launch);
        E = c.a(R.raw.laser_deflect);
        F = c.a(R.raw.laser_deflect2);
        c.a();
    }

    public i a(String str) {
        i iVar = (i) c.h.get(str);
        if (iVar == null) {
            throw new RuntimeException("Could not find sound:" + str);
        }
        return iVar;
    }

    public void b(i iVar, float f2) {
        l lVarB = l.B();
        float f3 = f2 * lVarB.bQ.masterVolume * lVarB.bQ.interfaceVolume * iVar.d;
        if (!a(f3) || f3 < 0.01d || !a(iVar, f3)) {
            return;
        }
        if (lVarB.aq) {
            f3 /= 20.0f;
        }
        iVar.a(f3, f3, 1, 0, 1.0f);
    }

    public void c(i iVar, float f2) {
        l lVarB = l.B();
        float f3 = f2 * lVarB.bQ.masterVolume * lVarB.bQ.gameVolume * iVar.d;
        if (a(f3)) {
            if (lVarB.aq) {
                f3 /= 20.0f;
            }
            if (!a(iVar, f3)) {
                return;
            }
            iVar.a(f3, f3, 1, 0, 1.0f);
        }
    }

    public void a(i iVar, float f2, float f3, float f4) {
        a(iVar, f2, 1.0f, f3, f4);
    }

    public void a(i iVar, float f2, float f3, float f4, float f5) {
        if (a()) {
            l lVarB = l.B();
            if (lVarB.aq) {
                f2 /= 20.0f;
            }
            if (lVarB.cb.j() && lVarB.bt > 1.5d) {
                f2 /= lVarB.bt;
            }
            float fA = com.corrodinggames.rts.gameFramework.f.a((int) (lVarB.cw + lVarB.cI), (int) (lVarB.cx + lVarB.cJ), f4, f5);
            float f6 = lVarB.cI * 1.72f;
            if (lVarB.cX < 0.5d) {
                f2 = f2 * 4.0f * lVarB.cX * lVarB.cX;
            }
            if (f2 <= 1.0f && !iVar.f && fA > f6 * f6) {
                return;
            }
            float fSqrt = (float) Math.sqrt(fA);
            float f7 = 1.0f;
            if (fSqrt > lVarB.cI) {
                f7 = 1.0f - ((fSqrt - lVarB.cI) / lVarB.cI);
            }
            float f8 = f7 * f2;
            if (f8 <= 0.05d && !iVar.f) {
                return;
            }
            if (f8 > 1.0f) {
                f8 = 1.0f;
            }
            float f9 = f8 * lVarB.bQ.masterVolume * lVarB.bQ.gameVolume * iVar.d;
            if (!a(iVar, f9)) {
                return;
            }
            iVar.a(f9, f9, 1, 0, f3);
        }
    }

    public i a(String str, j jVar, boolean z2) {
        try {
            return c.a(str, jVar, z2);
        } catch (OutOfMemoryError e2) {
            l.a(u.gameSound, e2);
            return f.b();
        }
    }

    public i b(String str) {
        return f.a(str);
    }

    public void b(float f2) {
        this.f397a.clear();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/a/i.java
================================================================================

package com.corrodinggames.rts.gameFramework.a;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/a/i.class */
public abstract class i {
    public String e;
    public boolean g;
    public float d = 1.0f;
    public boolean f = false;

    public abstract void a(float f, float f2, int i, int i2, float f3);

    public abstract int a();

    public i(String str, h hVar) {
        this.e = com.corrodinggames.rts.gameFramework.f.g(str);
        if (hVar != null) {
            hVar.h.put(this.e, this);
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/a/f.java
================================================================================

package com.corrodinggames.rts.gameFramework.a;

import android.content.Context;
import com.corrodinggames.rts.R;
import com.corrodinggames.rts.gameFramework.utility.j;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/a/f.class */
public class f extends h {
    @Override // com.corrodinggames.rts.gameFramework.a.h
    public void a(Context context) {
    }

    @Override // com.corrodinggames.rts.gameFramework.a.h
    public i a(int i) {
        return new g(com.corrodinggames.rts.gameFramework.f.a(R.raw.class, i), this);
    }

    @Override // com.corrodinggames.rts.gameFramework.a.h
    public i a(String str, j jVar, boolean z) {
        return new g(str, this);
    }

    public static i b() {
        return new g("Null (from out of memory)", null);
    }

    public static i a(String str) {
        return new g("Null sound - " + str, null);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/a/g.java
================================================================================

package com.corrodinggames.rts.gameFramework.a;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/a/g.class */
public class g extends i {
    public g(String str, h hVar) {
        super(str, hVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.a.i
    public void a(float f, float f2, int i, int i2, float f3) {
    }

    @Override // com.corrodinggames.rts.gameFramework.a.i
    public int a() {
        return 0;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/a/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.a;

import android.content.Context;
import android.media.SoundPool;
import com.corrodinggames.rts.R;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.utility.ad;
import com.corrodinggames.rts.gameFramework.utility.j;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.concurrent.LinkedBlockingQueue;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/a/a.class */
public class a extends h {
    d d;
    Context f;
    SoundPool g;

    /* renamed from: a, reason: collision with root package name */
    LinkedBlockingQueue f393a = new LinkedBlockingQueue();
    final int b = 15;
    ad c = new ad(15);
    int e = 1000;

    public a() {
        for (int i = 0; i < 15; i++) {
            this.c.a(new c());
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.a.h
    public void a(Context context) {
        if (this.f != null) {
            l.e("AndroidSoundFactory:setContext context already set");
        } else {
            this.f = context;
            this.g = new SoundPool(16, 3, 0);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.a.h
    public void a() {
        if (this.d != null) {
            throw new RuntimeException("soundThread!=null");
        }
        this.d = new d(this);
        this.d.start();
    }

    @Override // com.corrodinggames.rts.gameFramework.a.h
    public i a(int i) {
        b bVar = new b(this, com.corrodinggames.rts.gameFramework.f.a(R.raw.class, i), this);
        bVar.f394a = this;
        bVar.b = this.g.load(this.f, i, 1);
        return bVar;
    }

    /* JADX WARN: Finally extract failed */
    @Override // com.corrodinggames.rts.gameFramework.a.h
    public i a(String str, j jVar, boolean z) {
        int iLoad;
        a aVar = this;
        if (!z) {
            aVar = null;
        }
        if (!jVar.a()) {
            try {
                File fileA = com.corrodinggames.rts.gameFramework.e.a.a(this.f, "audio", "ogg");
                try {
                    FileOutputStream fileOutputStream = new FileOutputStream(fileA);
                    com.corrodinggames.rts.gameFramework.f.a(jVar, fileOutputStream);
                    fileOutputStream.close();
                    try {
                        jVar.close();
                    } catch (Exception e) {
                        e.printStackTrace();
                    }
                    FileInputStream fileInputStream = new FileInputStream(fileA);
                    try {
                        iLoad = this.g.load(fileInputStream.getFD(), 0L, fileInputStream.available(), 1);
                        fileInputStream.close();
                        fileA.delete();
                    } catch (Throwable th) {
                        fileInputStream.close();
                        throw th;
                    }
                } catch (Throwable th2) {
                    fileA.delete();
                    throw th2;
                }
            } catch (IOException e2) {
                e2.printStackTrace();
                return null;
            }
        } else {
            try {
                iLoad = this.g.load(jVar.b(), 0L, jVar.available(), 1);
                try {
                    jVar.close();
                } catch (Exception e3) {
                    e3.printStackTrace();
                }
            } catch (IOException e4) {
                e4.printStackTrace();
                return null;
            }
        }
        b bVar = new b(this, str, aVar);
        bVar.f394a = this;
        bVar.b = iLoad;
        return bVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/o/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.o;

import com.corrodinggames.rts.gameFramework.i.b;
import com.corrodinggames.rts.gameFramework.l;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/o/a.class */
public class a {

    /* renamed from: a, reason: collision with root package name */
    public static a f662a = new a();

    public static a a() {
        return f662a;
    }

    public void b() {
        l.e("SteamEngine - blank init");
    }

    public void a(float f) {
    }

    public String c() {
        return null;
    }

    public void d() {
        l.e("SteamEngine - disableSteam - already disabled");
    }

    public boolean e() {
        return !f();
    }

    public boolean f() {
        return true;
    }

    public void g() {
        l.e("disabledSteam - showInviteDialog");
        l.B().i("steam API not connected");
    }

    public void h() {
        l.e("Steam: alertNotEnabled");
        l lVarB = l.B();
        if (lVarB != null) {
            lVarB.i("steam API not connected");
        }
    }

    public void i() {
    }

    public void j() {
    }

    public void k() {
    }

    public void l() {
        l.e("disabledSteam - loadWorkshopMods");
    }

    public void m() {
        l.e("disabledSteam - showWorkshop");
    }

    public void a(b bVar) {
        l.e("disabledSteam - showWorkshopMod");
    }

    public void b(b bVar) {
        l.e("disabledSteam - publishWorkshopMod");
    }

    public void a(b bVar, boolean z, String str) {
        l.e("disabledSteam - uploadWorkshopMod");
    }
}


================================================================================
// FILE_PATH: ./gameFramework/h/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.h;

import com.corrodinggames.rts.gameFramework.l;
import java.util.Collections;
import java.util.Enumeration;
import java.util.Iterator;
import java.util.MissingResourceException;
import java.util.ResourceBundle;
import java.util.Vector;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/h/b.class */
class b extends ResourceBundle {

    /* renamed from: a, reason: collision with root package name */
    ResourceBundle f543a;
    ResourceBundle b;

    public b(ResourceBundle resourceBundle, ResourceBundle resourceBundle2) {
        this.f543a = resourceBundle;
        this.b = resourceBundle2;
    }

    @Override // java.util.ResourceBundle
    public Enumeration getKeys() {
        l.e("MultipleResourceBundle: Slow get keys");
        Vector vector = new Vector();
        vector.addAll(Collections.list(this.f543a.getKeys()));
        if (this.b != null) {
            Iterator it = Collections.list(this.b.getKeys()).iterator();
            while (it.hasNext()) {
                String str = (String) it.next();
                if (!vector.contains(str)) {
                    vector.add(str);
                }
            }
        }
        return vector.elements();
    }

    @Override // java.util.ResourceBundle
    protected Object handleGetObject(String str) {
        Object object;
        try {
            object = this.f543a.getObject(str);
        } catch (MissingResourceException e) {
            object = null;
        }
        if (object == null && this.b != null) {
            try {
                object = this.b.getObject(str);
            } catch (MissingResourceException e2) {
                object = null;
            }
        }
        return object;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/h/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.h;

import android.os.Build;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.SettingsEngine;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.utility.j;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.UnsupportedEncodingException;
import java.text.FieldPosition;
import java.text.MessageFormat;
import java.util.Locale;
import java.util.MissingResourceException;
import java.util.PropertyResourceBundle;
import java.util.ResourceBundle;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/h/a.class */
public final class a {

    /* renamed from: a, reason: collision with root package name */
    static ResourceBundle f542a;
    static boolean b;
    public static String d;
    public static int c = 0;
    static Pattern e = Pattern.compile("(.*)(\\(.*\\)( *\\[by.*\\])?)");
    static final Pattern f = Pattern.compile("\\[i:([^\\]]*?)\\]");

    public static void a() {
        e();
    }

    static ResourceBundle b() {
        if (f542a == null) {
            e();
        }
        return f542a;
    }

    static PropertyResourceBundle a(String str) throws IOException {
        j jVarK = com.corrodinggames.rts.gameFramework.e.a.k("translations/" + str);
        if (jVarK == null) {
            return null;
        }
        PropertyResourceBundle propertyResourceBundle = null;
        try {
            InputStreamReader inputStreamReader = new InputStreamReader(jVarK, "UTF-8");
            propertyResourceBundle = new PropertyResourceBundle(inputStreamReader);
            inputStreamReader.close();
        } catch (UnsupportedEncodingException e2) {
            e2.printStackTrace();
        } catch (IOException e3) {
            e3.printStackTrace();
        }
        return propertyResourceBundle;
    }

    public static String a(String str, Locale locale, boolean z, boolean z2) {
        String country;
        String variant;
        if (locale == Locale.ROOT) {
            return str;
        }
        String language = locale.getLanguage();
        if (z) {
            country = locale.getCountry();
        } else {
            country = VariableScope.nullOrMissingString;
        }
        if (z2) {
            variant = locale.getVariant();
        } else {
            variant = VariableScope.nullOrMissingString;
        }
        if (language.equals(VariableScope.nullOrMissingString) && country.equals(VariableScope.nullOrMissingString) && variant.equals(VariableScope.nullOrMissingString)) {
            return str;
        }
        StringBuilder sb = new StringBuilder(str);
        sb.append('_');
        if (!variant.equals(VariableScope.nullOrMissingString)) {
            sb.append(language).append('_').append(country.toLowerCase(Locale.ROOT)).append('_').append(variant.toLowerCase(Locale.ROOT));
        } else if (!country.equals(VariableScope.nullOrMissingString)) {
            sb.append(language).append('_').append(country.toLowerCase(Locale.ROOT));
        } else {
            sb.append(language);
        }
        return sb.toString();
    }

    static ResourceBundle a(String str, Locale locale) throws IOException {
        String str2 = a(str, Locale.ROOT, false, false) + ".properties";
        PropertyResourceBundle propertyResourceBundleA = a(str2);
        if (propertyResourceBundleA == null) {
            throw new RuntimeException("Root locate file:" + str2 + " is missing, it is required");
        }
        if (Locale.ROOT.equals(locale)) {
            l.e("Locale: Using " + str2 + " as locale");
            return propertyResourceBundleA;
        }
        String str3 = a(str, locale, true, true) + ".properties";
        PropertyResourceBundle propertyResourceBundleA2 = a(str3);
        if (propertyResourceBundleA2 == null) {
            l.e("Locale: No locale for " + str3 + " checking locale without variant ");
            str3 = a(str, locale, true, false) + ".properties";
            propertyResourceBundleA2 = a(str3);
            if (propertyResourceBundleA2 == null) {
                l.e("Locale: No locale for " + str3 + " checking locale without variant or country");
                str3 = a(str, locale, false, false) + ".properties";
                propertyResourceBundleA2 = a(str3);
                if (propertyResourceBundleA2 == null) {
                    l.e("Locale: No locale for " + str3 + " using base locale");
                    return propertyResourceBundleA;
                }
            }
        }
        l.e("Locale: Using " + str3 + " as locale");
        return new b(propertyResourceBundleA2, propertyResourceBundleA);
    }

    public static String c() {
        if (d != null) {
            return d;
        }
        return d().getLanguage();
    }

    public static Locale d() {
        l lVarB = l.B();
        SettingsEngine settingsEngine = null;
        if (lVarB != null) {
            settingsEngine = lVarB.bQ;
        }
        boolean z = false;
        if (settingsEngine != null && settingsEngine.forceEnglish) {
            z = true;
        }
        if (z) {
            return Locale.ROOT;
        }
        return Locale.getDefault();
    }

    public static synchronized void e() {
        c++;
        l lVarB = l.B();
        SettingsEngine settingsEngine = null;
        if (lVarB != null) {
            settingsEngine = lVarB.bQ;
        }
        boolean z = false;
        if (settingsEngine != null && settingsEngine.forceEnglish) {
            z = true;
        }
        if (f542a != null && b == z) {
            l.e("Locale.reload: skipping reload");
        }
        if (Build.VERSION.SDK_INT >= 9) {
            ResourceBundle.clearCache();
        }
        if (z) {
            l.e("Locale: forceEnglish");
            f542a = a("Strings", Locale.ROOT);
        } else if (d != null) {
            f542a = a("Strings", new Locale(d));
        } else if (settingsEngine != null && settingsEngine.overrideLanguageCode != null && !settingsEngine.overrideLanguageCode.equals(VariableScope.nullOrMissingString)) {
            f542a = a("Strings", new Locale(settingsEngine.overrideLanguageCode));
        } else {
            Locale locale = Locale.getDefault();
            l.e("Locale: default targetLocale:" + locale);
            if (locale != null) {
                l.e("Locale: default targetLocale ISO3:" + locale.getISO3Language());
            }
            f542a = a("Strings", locale);
        }
        b = z;
        if (0 != 0) {
        }
    }

    private static final String d(String str) {
        try {
            String string = b().getString(str);
            if (string.contains("[") || string.contains("]")) {
                string = string.replace("[[", "{{").replace("]]", "}}").replace("[", "{{").replace("]", "}}");
            }
            if (string.contains("{") || string.contains("}")) {
                string = string.replace("}}  {{", "}}{{").replace("}} {{", "}}{{").replace("}}{{", "\n-").replace("{{", "-").replace("}}", VariableScope.nullOrMissingString);
            }
            return string;
        } catch (NullPointerException e2) {
            throw new RuntimeException("NullPointer with key:" + str + " locale:" + b().getLocale().toString(), e2);
        }
    }

    private static final boolean e(String str) {
        try {
            b().getString(str);
            return true;
        } catch (MissingResourceException e2) {
            return false;
        }
    }

    public static final String a(String str, String str2, Object... objArr) {
        try {
            return a(str, objArr);
        } catch (MissingResourceException e2) {
            return str2;
        }
    }

    public static final String a(String str, Object... objArr) {
        String strD = d(str);
        if (objArr.length == 0) {
            return strD;
        }
        return new MessageFormat(strD).format(objArr, new StringBuffer(), (FieldPosition) null).toString();
    }

    public static final String b(String str) {
        if (str == null) {
            return null;
        }
        String strGroup = str;
        String strGroup2 = null;
        Matcher matcher = e.matcher(str);
        if (matcher.matches()) {
            strGroup = matcher.group(1);
            strGroup2 = matcher.group(2);
        }
        String str2 = "maps.name." + strGroup.trim().replace(" ", "_").replace(".tmx", VariableScope.nullOrMissingString).toLowerCase(Locale.ENGLISH);
        if (e(str2)) {
            String strA = a(str2, new Object[0]);
            if (strGroup2 != null) {
                strA = strA + strGroup2;
            }
            l.e("translated:" + strA);
            if (strA != null) {
                strA = strA.replace("_", " ");
            }
            return strA;
        }
        return str;
    }

    public static String c(String str) {
        if (!str.contains("[i:")) {
            return str;
        }
        int i = 0;
        StringBuffer stringBuffer = new StringBuffer();
        Matcher matcher = f.matcher(str);
        while (matcher.find()) {
            i++;
            if (i > 100) {
                l.b("convertInlineBlocks: Too many loops while parsing: " + str);
                return str;
            }
            String strGroup = matcher.group(1);
            String strA = a(strGroup, null, new Object[0]);
            if (strA == null) {
                l.e("convertInlineBlocks: No key:" + strGroup);
                strA = "[No key: " + strGroup + "]";
            }
            matcher.appendReplacement(stringBuffer, strA);
        }
        matcher.appendTail(stringBuffer);
        return stringBuffer.toString();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Rect;
import android.graphics.RectF;
import javax.microedition.khronos.opengles.GL10;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/b.class */
public class b {

    /* renamed from: a, reason: collision with root package name */
    d f630a;
    e b;
    float c;
    float d;
    Rect e;
    RectF f;
    final /* synthetic */ a g;

    void a(GL10 gl10) {
        if (this.g.i != this.b.h.intValue()) {
            gl10.glBindTexture(3553, this.b.h.intValue());
            this.g.i = this.b.h.intValue();
        }
        gl10.glPushMatrix();
        gl10.glLoadIdentity();
        if (this.f630a == d.Rect) {
            gl10.glTranslatef(this.f.f48a, (this.g.c - this.f.b) - this.e.c(), 0.0f);
            ac acVar = this.g.h;
            float fM = this.e.f47a / this.b.m();
            float fM2 = this.e.c / this.b.m();
            float fL = this.e.b / this.b.l();
            float fL2 = this.e.d / this.b.l();
            if (this.g.j == this.e.c() && this.g.k == this.e.b()) {
                acVar.a(0, 0, fM, fL2);
                acVar.a(1, 0, fM2, fL2);
                acVar.a(0, 1, fM, fL);
                acVar.a(1, 1, fM2, fL);
            } else {
                this.g.j = this.e.c();
                this.g.k = this.e.b();
                acVar.a(0, 0, 0.0f, 0.0f, 0.0f, fM, fL2, null);
                acVar.a(1, 0, this.e.b(), 0.0f, 0.0f, fM2, fL2, null);
                acVar.a(0, 1, 0.0f, this.e.c(), 0.0f, fM, fL, null);
                acVar.a(1, 1, this.e.b(), this.e.c(), 0.0f, fM2, fL, null);
            }
            acVar.b(gl10, true, false);
            gl10.glPopMatrix();
            return;
        }
        gl10.glTranslatef(this.c, (this.g.c - this.d) - this.b.l(), 0.0f);
        throw new RuntimeException("Not supported");
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/w.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/w.class */
public enum w {
    normal,
    copy,
    additive
}


================================================================================
// FILE_PATH: ./gameFramework/m/n.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Bitmap;
import android.graphics.Paint;
import android.graphics.PorterDuff;
import android.graphics.Rect;
import android.graphics.RectF;
import java.util.concurrent.locks.Lock;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/n.class */
public class n implements l {

    /* renamed from: a, reason: collision with root package name */
    boolean f639a = false;

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Rect rect) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(RectF rectF) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar, float f, float f2, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar, Rect rect, Rect rect2, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar, Rect rect, RectF rectF, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(int i, PorterDuff.Mode mode) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(int i) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3, float f4, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float[] fArr, int i, int i2, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Rect rect, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(RectF rectF, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(String str, float f, float f2, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void b() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3, float f4) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void b(float f, float f2) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(boolean z) {
        this.f639a = z;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public boolean c() {
        return this.f639a;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(m mVar) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Bitmap bitmap) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Lock lock) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void b(Lock lock) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public boolean a(ae aeVar) {
        return false;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/ag.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Paint;
import android.graphics.Typeface;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/ag.class */
public class ag extends Paint {
    public static final ag r = new ag();
    ae t;
    boolean s = false;
    boolean u = false;

    static {
        r.b(-1);
        r.o();
    }

    public void o() {
        this.u = true;
    }

    public void c(float f) {
        super.b(f);
    }

    @Override // android.graphics.Paint
    public void b(float f) {
        if (this.u) {
            com.corrodinggames.rts.gameFramework.l.b("UniquePaint changed when locked down:");
            com.corrodinggames.rts.gameFramework.l.b("from:" + k() + " to: " + f);
            com.corrodinggames.rts.gameFramework.l.T();
        }
        super.b(f);
    }

    @Override // android.graphics.Paint
    public Typeface a(Typeface typeface) {
        if (this.u) {
            com.corrodinggames.rts.gameFramework.l.b("UniquePaint changed when locked down:");
            com.corrodinggames.rts.gameFramework.l.T();
        }
        return super.a(typeface);
    }

    public static void b(Paint paint) {
        ((ag) paint).o();
    }

    public boolean p() {
        return this.s;
    }

    @Override // android.graphics.Paint
    public void a(boolean z) {
        this.s = z;
        super.a(z);
    }

    public ae q() {
        return this.t;
    }

    public void a(ae aeVar) {
        this.t = aeVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/z.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.content.Context;
import android.graphics.Paint;
import android.graphics.PorterDuff;
import android.graphics.Rect;
import android.graphics.RectF;
import java.io.File;
import java.io.InputStream;
import java.util.concurrent.locks.Lock;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/z.class */
public class z implements y {

    /* renamed from: a, reason: collision with root package name */
    e f648a;
    e b;

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public y a(e eVar) {
        return b(eVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public y b(e eVar) {
        return new z();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public boolean a() {
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(Context context) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b() {
        this.f648a = new e();
        this.b = new e();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public l d() {
        return null;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(l lVar) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(a aVar) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public e a(int i) {
        return a(i, true);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public e a(int i, boolean z) {
        return new e();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public e a(InputStream inputStream, boolean z) {
        return new e();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public e a(int i, int i2, boolean z) {
        return b(i, i2, z);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public e b(int i, int i2, boolean z) {
        return new e();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void e() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, float f, float f2, float f3, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, Rect rect, float f, float f2, float f3, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, Rect rect, Rect rect2, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b(e eVar, Rect rect, Rect rect2, Paint paint) {
        a(eVar, rect, rect2, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(Rect rect, Paint paint) {
        b(rect, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(boolean z) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void f() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, Rect rect, RectF rectF, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, float f, float f2, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, float f, float f2, Paint paint, float f3, float f4) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b(e eVar, float f, float f2, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, Rect rect, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, Rect rect, Paint paint, int i, int i2, int i3, int i4) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, RectF rectF, Paint paint, float f, float f2, int i, int i2) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b(int i) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(int i, PorterDuff.Mode mode) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(String str, float f, float f2, Paint paint, Paint paint2, float f3) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(String str, float f, float f2, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b(Rect rect, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(RectF rectF, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void g() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void h() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void c(Rect rect, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(Rect rect) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(RectF rectF) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(float f, float f2, float f3, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b(float f, float f2, float f3, Paint paint) {
        a(f, f2, f3, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(float[] fArr, int i, int i2, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void i() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void j() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void k() {
        i();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void l() {
        j();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(float f, float f2, float f3) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(float f, float f2) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(float f, float f2, float f3, float f4) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b(float f, float f2) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(m mVar) {
        mVar.a(this);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(float f, float f2, float f3, float f4, Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public int m() {
        return 0;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public int n() {
        return 0;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(int i, int i2) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void o() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(ae aeVar) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void p() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void q() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public int a(String str, Paint paint) {
        return 1;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public int b(String str, Paint paint) {
        return 1;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public e r() {
        return this.b;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, File file) {
        throw new RuntimeException("writeImageToFile not yet supported");
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(Lock lock) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b(Lock lock) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public float s() {
        return 1.0f;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/af.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/af.class */
public class af {

    /* renamed from: a, reason: collision with root package name */
    public String f629a;
    public boolean c;
    public boolean d;
    public e f;
    public boolean g;
    public int b = -1;
    public float[] e = new float[1];

    public void a(float f) {
        if (this.e.length != 1) {
            this.e = new float[1];
        }
        if (this.e[0] == f) {
            return;
        }
        this.e[0] = f;
        this.c = true;
    }

    public void a(float f, float f2) {
        if (this.e.length != 2) {
            this.e = new float[2];
        }
        if (this.e[0] == f && this.e[1] == f2) {
            return;
        }
        this.e[0] = f;
        this.e[1] = f2;
        this.c = true;
    }

    public void a(float f, float f2, float f3, float f4) {
        if (this.e.length != 4) {
            this.e = new float[4];
        }
        if (this.e[0] == f && this.e[1] == f2 && this.e[2] == f3 && this.e[3] == f4) {
            return;
        }
        this.e[0] = f;
        this.e[1] = f2;
        this.e[2] = f3;
        this.e[3] = f4;
        this.c = true;
    }

    public void a(e eVar) {
        if (this.f != eVar) {
            this.f = eVar;
            this.c = true;
        }
    }

    public void b(e eVar) {
        this.g = true;
        if (this.f != eVar) {
            this.f = eVar;
            this.c = true;
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/o.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Bitmap;
import android.graphics.Matrix;
import android.graphics.Paint;
import android.graphics.PorterDuff;
import android.graphics.Rect;
import android.graphics.RectF;
import java.util.concurrent.locks.Lock;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/o.class */
public final class o extends u {
    int b;

    /* renamed from: a, reason: collision with root package name */
    l f640a = new j(null);
    final com.corrodinggames.rts.gameFramework.utility.m c = new com.corrodinggames.rts.gameFramework.utility.m();
    final q d = new q(Paint.class);
    final q e = new q(Rect.class);
    final q f = new q(RectF.class);
    final q g = new q(Matrix.class);
    final q h = new q(r.class);
    final t i = new t(200);
    int j = 0;
    volatile boolean k = false;

    public o() {
        this.c.add(this.d);
        this.c.add(this.e);
        this.c.add(this.f);
        this.c.add(this.g);
        this.c.add(this.h);
    }

    public final s a(p pVar, Object obj, Object obj2, Object obj3, Object obj4, Object obj5, Object obj6, Object obj7, Object obj8) {
        t tVar = this.i;
        int i = this.j;
        if (i >= tVar.f644a) {
            tVar.a(new s(this));
        }
        s sVar = tVar.b[i];
        sVar.f643a = pVar;
        Object[] objArr = sVar.b;
        objArr[0] = obj;
        objArr[1] = obj2;
        objArr[2] = obj3;
        objArr[3] = obj4;
        objArr[4] = obj5;
        objArr[5] = obj6;
        objArr[6] = obj7;
        objArr[7] = obj8;
        this.j++;
        return sVar;
    }

    public final void a(p pVar, Object obj, Object obj2, Object obj3, Object obj4) {
        t tVar = this.i;
        int i = this.j;
        if (i >= tVar.f644a) {
            tVar.a(new s(this));
        }
        s sVar = tVar.b[i];
        sVar.f643a = pVar;
        Object[] objArr = sVar.b;
        objArr[0] = obj;
        objArr[1] = obj2;
        objArr[2] = obj3;
        objArr[3] = obj4;
        this.j++;
    }

    public final void a(p pVar, Object obj, Object obj2) {
        t tVar = this.i;
        int i = this.j;
        if (i >= tVar.f644a) {
            tVar.a(new s(this));
        }
        s sVar = tVar.b[i];
        sVar.f643a = pVar;
        Object[] objArr = sVar.b;
        objArr[0] = obj;
        objArr[1] = obj2;
        this.j++;
    }

    public final s a(p pVar) {
        t tVar = this.i;
        int i = this.j;
        if (i >= tVar.f644a) {
            tVar.a(new s(this));
        }
        s sVar = tVar.b[i];
        sVar.f643a = pVar;
        this.j++;
        return sVar;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(boolean z) {
        this.k = z;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public boolean c() {
        return this.k;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Rect rect) {
        a(p.clipRect_Rect, this.e.a(rect), null, null, null, null, null, null, null);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(RectF rectF) {
        a(p.clipRect_RectF, this.f.a(rectF), null, null, null, null, null, null, null);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar, float f, float f2, Paint paint) {
        if (!(paint instanceof ag)) {
            paint = this.d.a(paint);
        }
        s sVarA = a(p.drawBitmap_Bitmap_float_float_Paint);
        sVarA.b[0] = eVar;
        sVarA.b[1] = paint;
        sVarA.c = f;
        sVarA.d = f2;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar, Rect rect, Rect rect2, Paint paint) {
        Rect rectA = this.e.a(rect);
        Rect rectA2 = this.e.a(rect2);
        if (!(paint instanceof ag)) {
            paint = this.d.a(paint);
        }
        a(p.drawBitmap_Bitmap_Rect_Rect_Paint, eVar, rectA, rectA2, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar, Rect rect, RectF rectF, Paint paint) {
        Rect rectA = this.e.a(rect);
        RectF rectFA = this.f.a(rectF);
        if (!(paint instanceof ag)) {
            paint = this.d.a(paint);
        }
        a(p.drawBitmap_Bitmap_Rect_RectF_Paint, eVar, rectA, rectFA, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3, Paint paint) {
        if (!(paint instanceof ag)) {
            paint = this.d.a(paint);
        }
        a(p.drawCircle_float_float_float_Paint, Float.valueOf(f), Float.valueOf(f2), Float.valueOf(f3), paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(int i, PorterDuff.Mode mode) {
        a(p.drawColor_int_Mode, Integer.valueOf(i), mode);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(int i) {
        a(p.drawColor_int, Integer.valueOf(i), null, null, null, null, null, null, null);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3, float f4, Paint paint) {
        if (!(paint instanceof ag)) {
            paint = this.d.a(paint);
        }
        s sVarA = a(p.drawLine_float_float_float_float_Paint);
        sVarA.c = f;
        sVarA.d = f2;
        sVarA.e = f3;
        sVarA.f = f4;
        sVarA.b[0] = paint;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float[] fArr, int i, int i2, Paint paint) {
        if (!(paint instanceof ag)) {
            paint = this.d.a(paint);
        }
        a(p.drawPoints_floatarray_int_int_Paint, fArr, Integer.valueOf(i), Integer.valueOf(i2), paint, null, null, null, null);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Rect rect, Paint paint) {
        Rect rectA = this.e.a(rect);
        if (!(paint instanceof ag)) {
            paint = this.d.a(paint);
        }
        a(p.drawRect_Rect_Paint, rectA, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(RectF rectF, Paint paint) {
        RectF rectFA = this.f.a(rectF);
        if (!(paint instanceof ag)) {
            paint = this.d.a(paint);
        }
        a(p.drawRect_RectF_Paint, rectFA, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(String str, float f, float f2, Paint paint) {
        if (!(paint instanceof ag)) {
            paint = this.d.a(paint);
        }
        a(p.drawText_String_float_float_Paint, str, Float.valueOf(f), Float.valueOf(f2), paint, null, null, null, null);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a() {
        a(p.restore);
        this.b--;
        if (this.b < 0) {
            com.corrodinggames.rts.gameFramework.l.g("saveStackSize: " + this.b);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3) {
        s sVarA = a(p.rotate_float_float_float);
        sVarA.c = f;
        sVarA.d = f2;
        sVarA.e = f3;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void b() {
        a(p.save);
        this.b++;
        if (this.b <= 0) {
            com.corrodinggames.rts.gameFramework.l.g("saveStackSize (on save): " + this.b);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2) {
        s sVarA = a(p.scale_float_float);
        sVarA.c = f;
        sVarA.d = f2;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3, float f4) {
        s sVarA = a(p.scale_float_float_float_float);
        sVarA.c = f;
        sVarA.d = f2;
        sVarA.e = f3;
        sVarA.f = f4;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar) {
        a(p.setBitmap_Bitmap, eVar, null, null, null, null, null, null, null);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void b(float f, float f2) {
        s sVarA = a(p.translate_float_float);
        sVarA.c = f;
        sVarA.d = f2;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(m mVar) {
        a(p.runDrawTimeCallback_DrawTimeCallback, this, mVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Bitmap bitmap) {
        a(p.flushBitmap, bitmap, (Object) null);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Lock lock) {
        a(p.enterLock_object, lock, (Object) null);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void b(Lock lock) {
        a(p.leaveLock_object, lock, (Object) null);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public boolean a(ae aeVar) {
        a(p.compileShader_object, aeVar, (Object) null);
        return true;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/v.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.ColorFilter;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/v.class */
public class v extends ColorFilter {

    /* renamed from: a, reason: collision with root package name */
    public w f645a;

    v(w wVar) {
        this.f645a = wVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/c.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/c.class */
public class c {

    /* renamed from: a, reason: collision with root package name */
    b[] f631a;
    int b;
}


================================================================================
// FILE_PATH: ./gameFramework/m/h.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Bitmap;
import com.corrodinggames.rts.gameFramework.br;
import java.io.IOException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/h.class */
public class h extends e {
    public static ae x;
    public static ae y;
    public static ae z;
    public static boolean A;
    boolean B = false;
    boolean C = false;
    private e H;
    private e I;
    int D;
    int E;
    com.corrodinggames.rts.game.o F;
    public static float G;

    public static synchronized void C() {
        if (A) {
            return;
        }
        try {
            com.corrodinggames.rts.gameFramework.l.e("Loading team shaders...");
            x = new i("assets/shaders/pureGreenTeamColor.frag", true);
            x.a("teamColor", -1);
            x.c();
            y = new i("assets/shaders/hueAddTeamColor.frag", false);
            y.a("teamColorAmount", 0.15f);
            y.a("teamColor", -1);
            y.c();
            z = new i("assets/shaders/hueShiftTeamColor.frag", false);
            z.a("teamColor", -1);
            z.c();
            A = true;
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public void D() {
        if (!A) {
            C();
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public String a() {
        if (this.H == null) {
            return "LazyColoring (error sourceBitmap==null)";
        }
        return "LazyColoring(" + this.E + "):" + this.H.a();
    }

    public h(e eVar, int i, com.corrodinggames.rts.game.o oVar, int i2) {
        if (eVar == null) {
            throw new RuntimeException("baseImage==null");
        }
        this.H = eVar;
        this.D = i;
        this.F = oVar;
        this.E = i2;
        this.H.a(this);
        this.k = null;
    }

    public void c(boolean z2) {
        if (com.corrodinggames.rts.gameFramework.l.az()) {
            if (z2) {
            }
            D();
            if (this.F == com.corrodinggames.rts.game.o.hueAdd) {
                a(y);
            } else if (this.F == com.corrodinggames.rts.game.o.hueShift) {
                a(z);
            } else {
                a(x);
            }
            this.I = this.H;
            this.C = true;
            return;
        }
        if (this.H.A()) {
            com.corrodinggames.rts.gameFramework.l.e("Lazy loaded bitmap using errored image: " + this.H.a());
            this.I = this.H;
            return;
        }
        if (z2) {
            try {
                com.corrodinggames.rts.gameFramework.l.e("Loading in lazy loaded bitmap:" + this.H.a() + " team:" + this.E);
            } catch (OutOfMemoryError e) {
                com.corrodinggames.rts.gameFramework.l.e("Colouring failed with OOM");
                com.corrodinggames.rts.gameFramework.l.a(com.corrodinggames.rts.gameFramework.u.gameImageColor, e);
                this.I = com.corrodinggames.rts.gameFramework.l.B().bO.r();
                return;
            }
        }
        long jA = br.a();
        this.H.i();
        this.I = this.H.clone();
        this.I.j();
        e[] eVarArr = {this.I};
        int[] iArr = {this.D};
        int[] iArr2 = {this.E};
        long jA2 = br.a();
        if (this.F == com.corrodinggames.rts.game.o.hueAdd) {
            com.corrodinggames.rts.game.n.b(this.H, eVarArr, iArr);
        } else if (this.F == com.corrodinggames.rts.game.o.hueShift) {
            com.corrodinggames.rts.game.n.a(this.H, eVarArr, iArr, iArr2);
        } else {
            com.corrodinggames.rts.game.n.a(this.H, eVarArr, iArr);
        }
        double dA = br.a(jA2);
        this.I.p();
        this.I.s();
        this.H.q();
        this.H = null;
        double dA2 = br.a(jA);
        if (dA2 > 1.0d) {
            com.corrodinggames.rts.gameFramework.l.e((this.F == com.corrodinggames.rts.game.o.pureGreen ? "Standard " : "Hue ") + "Colouring took:" + br.a(dA2) + " (" + br.a(dA) + ")");
        }
        G = (float) (G + dA2);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public Bitmap b() {
        if (this.C && !com.corrodinggames.rts.gameFramework.l.az()) {
            com.corrodinggames.rts.gameFramework.l.e("Team shader coloring now disabled. Recoloring image: " + this.H.a());
            this.B = false;
            this.C = false;
            a((ae) null);
        }
        if (!this.B) {
            c(true);
            this.B = true;
        }
        return this.I.k;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public e c() {
        if (this.C && !com.corrodinggames.rts.gameFramework.l.az()) {
            com.corrodinggames.rts.gameFramework.l.e("Team shader coloring now disabled. Recoloring image: " + this.H.a());
            this.B = false;
            this.C = false;
            a((ae) null);
        }
        if (!this.B) {
            if (G > 60.0f) {
            }
            c(true);
            this.B = true;
        }
        if (this.I == null) {
            throw new RuntimeException("coloredBitmap==null");
        }
        return this.I;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void w() {
        if (!this.B) {
            c(false);
            this.B = true;
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public int u() {
        if ((!this.B) & (this.H != null)) {
            return this.H.u();
        }
        return super.u();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/aa.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Bitmap;
import android.graphics.LightingColorFilter;
import android.graphics.Paint;
import android.graphics.Rect;
import android.graphics.RectF;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/aa.class */
public final class aa {
    static float b;
    static float c;
    static float d;
    static ab[] f;
    static Paint g;

    /* renamed from: a, reason: collision with root package name */
    static int f626a = -1;
    public static final Rect e = new Rect();
    static final Rect h = new Rect();
    static final Rect i = new Rect();
    static final RectF j = new RectF();

    public static final Bitmap a(e eVar) {
        return eVar.b();
    }

    public static void a(String str, float f2, float f3, Paint paint) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        String[] strArrC = com.corrodinggames.rts.gameFramework.f.c(str, '\n');
        float fB = com.corrodinggames.rts.gameFramework.f.d.b(paint);
        float length = (strArrC.length - 1) * fB;
        int i2 = 0;
        for (String str2 : strArrC) {
            lVarB.bO.a(str2, f2, (f3 - (length / 2.0f)) + (i2 * fB) + (fB / 2.0f), paint);
            i2++;
        }
    }

    public static void a(y yVar, float f2, float f3, float f4, Paint paint) {
        if (com.corrodinggames.rts.gameFramework.l.at()) {
            a(yVar, f2, f3, f4, 40, paint, com.corrodinggames.rts.gameFramework.l.B().cQ);
        } else {
            yVar.a(f2, f3, f4, paint);
        }
    }

    public static ab a(float f2, float f3, boolean z, y yVar) {
        int i2;
        int i3;
        int i4 = (int) f3;
        int i5 = 0;
        if (((int) f2) > 20) {
            i5 = 1;
            i2 = 60;
        } else {
            i2 = 30;
        }
        int i6 = 0;
        if (i4 >= 2) {
            i6 = 1;
            i3 = 2;
        } else {
            i3 = 1;
        }
        int i7 = i5 + (i6 * 2) + (z ? 0 : 2 + (2 * 2));
        if (f == null) {
            f = new ab[((2 + (2 * 2)) * 2) + 1];
        }
        if (f[i7] != null) {
            if (f[i7].b != i2) {
                com.corrodinggames.rts.gameFramework.l.e("Mismatch on index: " + i7 + " size:" + i2);
            }
            return f[i7];
        }
        ab abVar = new ab();
        abVar.d = a(i2, i3, z, yVar);
        abVar.b = i2;
        abVar.f627a = i3;
        abVar.c = z;
        f[i7] = abVar;
        return abVar;
    }

    public static e a(int i2, int i3, boolean z, y yVar) {
        Paint paint = new Paint();
        paint.b(-1);
        paint.a(z ? Paint.Style.FILL : Paint.Style.STROKE);
        paint.a(i3);
        e eVarB = yVar.b((i2 * 2) + 4, (i2 * 2) + 4, true);
        y yVarB = yVar.b(eVarB);
        yVarB.b(i2 + 2, i2 + 2, i2, paint);
        yVarB.p();
        eVarB.p();
        yVarB.q();
        return eVarB;
    }

    public static void a(y yVar, float f2, float f3, float f4, Paint paint, float f5) {
        if (g == null) {
            g = new Paint();
            g.a(true);
            g.b(true);
        }
        int iE = paint.e();
        if (com.corrodinggames.rts.gameFramework.l.at()) {
            g.a(new LightingColorFilter(iE, 0));
        }
        g.b(iE);
        float f6 = f4 / r0.b;
        float f7 = (-f4) - (f6 * 2.0f);
        yVar.a(a(f4 * f5, paint.g(), paint.d() == Paint.Style.FILL, yVar).d, f2 + f7, f3 + f7, g, 0.0f, f6);
    }

    public static void a(y yVar, float f2, float f3, float f4, int i2, Paint paint, Rect rect) {
        if (f626a != i2) {
            f626a = i2;
            b = 6.283185f / i2;
            c = com.corrodinggames.rts.gameFramework.f.k(b);
            d = com.corrodinggames.rts.gameFramework.f.j(b);
        }
        float f5 = c;
        float f6 = d;
        int i3 = ((int) (b * f4 * 0.5f)) + 50;
        e.f47a = rect.f47a - i3;
        e.b = rect.b - i3;
        e.c = rect.c + i3;
        e.d = rect.d + i3;
        float f7 = f4;
        float f8 = 0.0f;
        int i4 = i2 + 1;
        float f9 = 0.0f;
        float f10 = 0.0f;
        float f11 = 0.0f;
        float f12 = 0.0f;
        boolean z = true;
        for (int i5 = 0; i5 < i4; i5++) {
            float f13 = f7 + f2;
            float f14 = f8 + f3;
            if (z) {
                z = false;
                f9 = f13;
                f10 = f14;
            } else if (e.b((int) f13, (int) f14) || e.b((int) f11, (int) f12)) {
                yVar.a(f13, f14, f11, f12, paint);
            }
            f11 = f13;
            f12 = f14;
            float f15 = f7;
            f7 = (f5 * f7) - (f6 * f8);
            f8 = (f6 * f15) + (f5 * f8);
        }
        if (e.b((int) f9, (int) f10) || e.b((int) f11, (int) f12)) {
            yVar.a(f9, f10, f11, f12, paint);
        }
    }

    public static final int a(int i2) {
        return i2 >>> 24;
    }

    public static final int b(int i2) {
        return (i2 >> 16) & 255;
    }

    public static final int c(int i2) {
        return (i2 >> 8) & 255;
    }

    public static final int d(int i2) {
        return i2 & 255;
    }

    public static void a(y yVar, e eVar, Rect rect, Paint paint, int i2, int i3, int i4, int i5) {
        int iM = eVar.m();
        int iL = eVar.l();
        if (i2 != 0) {
            i2 %= eVar.m();
            if (i2 < 0) {
                i2 += eVar.m();
            }
        }
        if (i3 != 0) {
            i3 %= eVar.l();
            if (i3 < 0) {
                i3 += eVar.l();
            }
        }
        int i6 = rect.f47a - i2;
        int i7 = rect.b - i3;
        int i8 = iM - i4;
        int i9 = iL - i5;
        if (i8 <= 0 || i9 <= 0) {
            return;
        }
        int i10 = 0;
        while (i6 < rect.c) {
            while (i7 < rect.d) {
                i10++;
                if (i10 > 2000) {
                    com.corrodinggames.rts.gameFramework.l.e("tileImage hit limit");
                    return;
                }
                int i11 = rect.c - i6;
                if (i11 > iM) {
                    i11 = iM;
                }
                int i12 = rect.d - i7;
                if (i12 > iL) {
                    i12 = iL;
                }
                if (i12 > 0 && i11 > 0) {
                    h.a(0, 0, i11, i12);
                    i.a(i6, i7, i6 + i11, i7 + i12);
                    int i13 = i.f47a - rect.f47a;
                    if (i13 < 0) {
                        h.f47a -= i13;
                        i.f47a -= i13;
                    }
                    int i14 = i.b - rect.b;
                    if (i14 < 0) {
                        h.b -= i14;
                        i.b -= i14;
                    }
                    yVar.a(eVar, h, i, paint);
                    i7 += i9;
                }
            }
            i6 += i8;
            i7 = rect.b - i3;
        }
    }

    public static void a(y yVar, e eVar, RectF rectF, Paint paint, float f2, float f3, int i2, int i3) {
        int iM = eVar.m();
        int iL = eVar.l();
        if (f2 != 0.0f) {
            f2 %= iM;
            if (f2 < 0.0f) {
                f2 += iM;
            }
        }
        if (f3 != 0.0f) {
            f3 %= iL;
            if (f3 < 0.0f) {
                f3 += iL;
            }
        }
        float f4 = rectF.f48a - f2;
        float f5 = rectF.b - f3;
        int i4 = 0;
        int i5 = iM - i2;
        int i6 = iL - i3;
        if (i5 <= 0 || i6 <= 0) {
            return;
        }
        while (f4 < rectF.c) {
            while (f5 < rectF.d) {
                i4++;
                if (i4 > 2000) {
                    com.corrodinggames.rts.gameFramework.l.e("tileImage hit limit");
                    return;
                }
                float f6 = rectF.c - f4;
                if (f6 > iM) {
                    f6 = iM;
                }
                float f7 = rectF.d - f5;
                if (f7 > iL) {
                    f7 = iL;
                }
                if (f7 > 0.0f && f6 > 0.0f) {
                    h.a(0, 0, (int) f6, (int) f7);
                    j.a(f4, f5, f4 + f6, f5 + f7);
                    float f8 = j.f48a - rectF.f48a;
                    if (f8 < 0.0f) {
                        h.f47a = (int) (r0.f47a - f8);
                        j.f48a -= f8;
                    }
                    float f9 = j.b - rectF.b;
                    if (f9 < 0.0f) {
                        h.b = (int) (r0.b - f9);
                        j.b -= f9;
                    }
                    yVar.a(eVar, h, j, paint);
                    f5 += i6;
                }
            }
            f4 += i5;
            f5 = rectF.b - f3;
        }
    }

    public static void a(y yVar, e eVar, Rect rect, Rect rect2, Paint paint, int i2, int i3, int i4, int i5, float f2) {
        int iB = rect.b();
        int iC = rect.c();
        if (i2 != 0) {
            i2 %= iB;
            if (i2 < 0) {
                i2 += iB;
            }
        }
        if (i3 != 0) {
            i3 %= iC;
            if (i3 < 0) {
                i3 += iC;
            }
        }
        int i6 = rect2.f47a - i2;
        int i7 = rect2.b - i3;
        int i8 = rect2.c - i6;
        int i9 = rect2.d - i7;
        int i10 = (int) ((i8 / iB) + 0.5f);
        int i11 = (int) ((i9 / iC) + 0.5f);
        if (i10 < 1) {
            i10 = 1;
        }
        if (i11 < 1) {
            i11 = 1;
        }
        float f3 = i8 / (i10 * iB);
        float f4 = i9 / (i11 * iC);
        float f5 = com.corrodinggames.rts.gameFramework.f.f(1.0f, f3, f2);
        float f6 = com.corrodinggames.rts.gameFramework.f.f(1.0f, f4, f2);
        int i12 = (int) (iB * f5);
        int i13 = (int) (iC * f6);
        float f7 = 1.0f / f5;
        float f8 = 1.0f / f6;
        int i14 = i12 - i4;
        int i15 = i13 - i5;
        if (i14 <= 0 || i15 <= 0) {
            return;
        }
        int i16 = 0;
        while (i6 < rect2.c) {
            while (i7 < rect2.d) {
                i16++;
                if (i16 > 2000) {
                    com.corrodinggames.rts.gameFramework.l.e("tileImage hit limit");
                    return;
                }
                int i17 = rect2.c - i6;
                if (i17 > i12) {
                    i17 = i12;
                }
                int i18 = rect2.d - i7;
                if (i18 > i13) {
                    i18 = i13;
                }
                if (i18 > 0 && i17 > 0) {
                    h.a(0, 0, (int) (i17 * f7), (int) (i18 * f8));
                    h.a(rect.f47a, rect.b);
                    i.a(i6, i7, i6 + i17, i7 + i18);
                    int i19 = i.f47a - rect2.f47a;
                    if (i19 < 0) {
                        h.f47a -= i19;
                        i.f47a -= i19;
                    }
                    int i20 = i.b - rect2.b;
                    if (i20 < 0) {
                        h.b -= i20;
                        i.b -= i20;
                    }
                    yVar.a(eVar, h, i, paint);
                    i7 += i15;
                }
            }
            i6 += i14;
            i7 = rect2.b - i3;
        }
    }

    public static void a(Paint paint) {
        if (com.corrodinggames.rts.gameFramework.l.at()) {
            int iE = paint.e();
            paint.a(new LightingColorFilter(com.corrodinggames.rts.gameFramework.f.b(255, (iE >> 16) & 255, (iE >> 8) & 255, iE & 255), 0));
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/d.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/d.class */
public enum d {
    Normal,
    Rect
}


================================================================================
// FILE_PATH: ./gameFramework/m/q.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Paint;
import android.graphics.Rect;
import android.graphics.RectF;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/q.class */
public final class q {

    /* renamed from: a, reason: collision with root package name */
    public final com.corrodinggames.rts.gameFramework.utility.m f642a = new com.corrodinggames.rts.gameFramework.utility.m();
    public int b;
    public Class c;

    public q(Class cls) {
        this.c = cls;
    }

    public final Rect a(Rect rect) {
        if (this.b >= this.f642a.f694a) {
            this.f642a.add(new Rect());
        }
        Rect rect2 = (Rect) this.f642a.a(this.b);
        rect2.b = rect.b;
        rect2.d = rect.d;
        rect2.f47a = rect.f47a;
        rect2.c = rect.c;
        this.b++;
        return rect2;
    }

    public final RectF a(RectF rectF) {
        if (this.b >= this.f642a.f694a) {
            this.f642a.add(new RectF());
        }
        RectF rectF2 = (RectF) this.f642a.a(this.b);
        rectF2.b = rectF.b;
        rectF2.d = rectF.d;
        rectF2.f48a = rectF.f48a;
        rectF2.c = rectF.c;
        this.b++;
        return rectF2;
    }

    public final Paint a(Paint paint) {
        if (paint == null) {
            return null;
        }
        if (this.b >= this.f642a.f694a) {
            this.f642a.add(new Paint());
        }
        Paint paint2 = (Paint) this.f642a.a(this.b);
        paint2.a(paint);
        this.b++;
        return paint2;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/p.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/p.class */
public enum p {
    clipPath_Path_Op { // from class: com.corrodinggames.rts.gameFramework.m.p.1
    },
    clipPath_Path { // from class: com.corrodinggames.rts.gameFramework.m.p.12
    },
    clipRect_float_float_float_float_Op { // from class: com.corrodinggames.rts.gameFramework.m.p.23
    },
    clipRect_float_float_float_float { // from class: com.corrodinggames.rts.gameFramework.m.p.34
    },
    clipRect_int_int_int_int { // from class: com.corrodinggames.rts.gameFramework.m.p.45
    },
    clipRect_Rect_Op { // from class: com.corrodinggames.rts.gameFramework.m.p.56
    },
    clipRect_Rect { // from class: com.corrodinggames.rts.gameFramework.m.p.67
    },
    clipRect_RectF_Op { // from class: com.corrodinggames.rts.gameFramework.m.p.71
    },
    clipRect_RectF { // from class: com.corrodinggames.rts.gameFramework.m.p.72
    },
    concat_Matrix { // from class: com.corrodinggames.rts.gameFramework.m.p.2
    },
    drawARGB_int_int_int_int { // from class: com.corrodinggames.rts.gameFramework.m.p.3
    },
    drawArc_RectF_float_float_boolean_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.4
    },
    drawBitmap_Bitmap_float_float_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.5
    },
    drawBitmap_Bitmap_Matrix_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.6
    },
    drawBitmap_Bitmap_Rect_Rect_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.7
    },
    drawBitmap_Bitmap_Rect_RectF_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.8
    },
    drawBitmap_intarray_int_int_float_float_int_int_boolean_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.9
    },
    drawBitmap_intarray_int_int_int_int_int_int_boolean_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.10
    },
    drawBitmapMesh_Bitmap_int_int_floatarray_int_intarray_int_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.11
    },
    drawCircle_float_float_float_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.13
    },
    drawColor_int_Mode { // from class: com.corrodinggames.rts.gameFramework.m.p.14
    },
    drawColor_int { // from class: com.corrodinggames.rts.gameFramework.m.p.15
    },
    drawLine_float_float_float_float_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.16
    },
    drawLines_floatarray_int_int_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.17
    },
    drawLines_floatarray_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.18
    },
    drawOval_RectF_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.19
    },
    drawPaint_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.20
    },
    drawPath_Path_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.21
    },
    drawPicture_Picture_Rect { // from class: com.corrodinggames.rts.gameFramework.m.p.22
    },
    drawPicture_Picture_RectF { // from class: com.corrodinggames.rts.gameFramework.m.p.24
    },
    drawPicture_Picture { // from class: com.corrodinggames.rts.gameFramework.m.p.25
    },
    drawPoint_float_float_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.26
    },
    drawPoints_floatarray_int_int_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.27
    },
    drawPoints_floatarray_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.28
    },
    drawPosText_chararray_int_int_floatarray_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.29
    },
    drawPosText_String_floatarray_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.30
    },
    drawRGB_int_int_int { // from class: com.corrodinggames.rts.gameFramework.m.p.31
    },
    drawRect_float_float_float_float_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.32
    },
    drawRect_Rect_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.33
    },
    drawRect_RectF_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.35
    },
    drawRoundRect_RectF_float_float_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.36
    },
    drawText_chararray_int_int_float_float_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.37
    },
    drawText_CharSequence_int_int_float_float_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.38
    },
    drawText_String_float_float_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.39
    },
    drawText_String_int_int_float_float_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.40
    },
    drawTextOnPath_chararray_int_int_Path_float_float_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.41
    },
    drawTextOnPath_String_Path_float_float_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.42
    },
    drawVertices_VertexMode_int_floatarray_int_floatarray_int_intarray_int_shortarray_int_int_Paint { // from class: com.corrodinggames.rts.gameFramework.m.p.43
    },
    restore { // from class: com.corrodinggames.rts.gameFramework.m.p.44
    },
    restoreToCount_int { // from class: com.corrodinggames.rts.gameFramework.m.p.46
    },
    rotate_float { // from class: com.corrodinggames.rts.gameFramework.m.p.47
    },
    rotate_float_float_float { // from class: com.corrodinggames.rts.gameFramework.m.p.48
    },
    save { // from class: com.corrodinggames.rts.gameFramework.m.p.49
    },
    saveLayer_float_float_float_float_Paint_int { // from class: com.corrodinggames.rts.gameFramework.m.p.50
    },
    saveLayer_RectF_Paint_int { // from class: com.corrodinggames.rts.gameFramework.m.p.51
    },
    saveLayerAlpha_float_float_float_float_int_int { // from class: com.corrodinggames.rts.gameFramework.m.p.52
    },
    saveLayerAlpha_RectF_int_int { // from class: com.corrodinggames.rts.gameFramework.m.p.53
    },
    scale_float_float { // from class: com.corrodinggames.rts.gameFramework.m.p.54
    },
    scale_float_float_float_float { // from class: com.corrodinggames.rts.gameFramework.m.p.55
    },
    setBitmap_Bitmap { // from class: com.corrodinggames.rts.gameFramework.m.p.57
    },
    setDensity_int { // from class: com.corrodinggames.rts.gameFramework.m.p.58
    },
    setDrawFilter_DrawFilter { // from class: com.corrodinggames.rts.gameFramework.m.p.59
    },
    setMatrix_Matrix { // from class: com.corrodinggames.rts.gameFramework.m.p.60
    },
    skew_float_float { // from class: com.corrodinggames.rts.gameFramework.m.p.61
    },
    translate_float_float { // from class: com.corrodinggames.rts.gameFramework.m.p.62
    },
    runDrawTimeCallback_DrawTimeCallback { // from class: com.corrodinggames.rts.gameFramework.m.p.63
    },
    runDrawTimeCallback_DrawTimeCallback_float_float_float_paint { // from class: com.corrodinggames.rts.gameFramework.m.p.64
    },
    flushBitmap { // from class: com.corrodinggames.rts.gameFramework.m.p.65
    },
    enterLock_object { // from class: com.corrodinggames.rts.gameFramework.m.p.66
    },
    leaveLock_object { // from class: com.corrodinggames.rts.gameFramework.m.p.68
    },
    compileShader_object { // from class: com.corrodinggames.rts.gameFramework.m.p.69
    },
    setShader_object { // from class: com.corrodinggames.rts.gameFramework.m.p.70
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/e.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Bitmap;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/e.class */
public class e {

    /* renamed from: a, reason: collision with root package name */
    public e[] f633a;
    public e[] b;
    public e[] c;
    private static int x;
    public int d;
    public int e;
    public int f;
    public String g;
    public Integer h;
    ae i;
    public int[] j;
    protected Bitmap k;
    public boolean m;
    public boolean n;
    public int p;
    public int q;
    public int r;
    public int s;
    public float t;
    public float u;
    public boolean v;
    public boolean l = true;
    public boolean o = false;
    boolean w = false;

    public e() {
        int i = x;
        x = i + 1;
        this.d = i;
        this.e = 1;
    }

    public e[] a(com.corrodinggames.rts.game.o oVar) {
        if (oVar == com.corrodinggames.rts.game.o.pureGreen) {
            return this.f633a;
        }
        if (oVar == com.corrodinggames.rts.game.o.hueAdd) {
            return this.b;
        }
        if (oVar == com.corrodinggames.rts.game.o.hueShift) {
            return this.c;
        }
        com.corrodinggames.rts.gameFramework.l.b("getTeamImageCache coloringMode:" + oVar);
        return this.f633a;
    }

    public void a(com.corrodinggames.rts.game.o oVar, e[] eVarArr) {
        if (oVar == com.corrodinggames.rts.game.o.pureGreen) {
            this.f633a = eVarArr;
            return;
        }
        if (oVar == com.corrodinggames.rts.game.o.hueAdd) {
            this.b = eVarArr;
        } else if (oVar == com.corrodinggames.rts.game.o.hueShift) {
            this.c = eVarArr;
        } else {
            com.corrodinggames.rts.gameFramework.l.b("setTeamImageCache coloringMode:" + oVar);
            this.f633a = eVarArr;
        }
    }

    public void a(String str) {
        this.g = str;
    }

    public String a() {
        return this.g;
    }

    public Bitmap b() {
        return this.k;
    }

    public e c() {
        return this;
    }

    public void a(boolean z) {
        this.o = z;
        e();
    }

    public void b(boolean z) {
        this.w = z;
    }

    public boolean d() {
        return this.w;
    }

    protected void e() {
    }

    public boolean f() {
        return this.m;
    }

    public void a(Bitmap bitmap) {
        this.k = bitmap;
        this.p = this.k.b();
        this.q = this.k.c();
        g();
    }

    public void g() {
        this.r = this.p / 2;
        this.s = this.q / 2;
        this.t = this.p / 2.0f;
        this.u = this.q / 2.0f;
    }

    public void a(e eVar) {
        eVar.o = this.o;
        eVar.p = this.p;
        eVar.q = this.q;
        eVar.r = this.r;
        eVar.s = this.s;
        eVar.t = this.t;
        eVar.u = this.u;
    }

    @Override // 
    /* renamed from: h, reason: merged with bridge method [inline-methods] */
    public e clone() {
        e eVar = new e();
        eVar.o = this.o;
        if (this.k != null) {
            Bitmap bitmapA = this.k.a(this.k.d(), true);
            if (bitmapA == null) {
                throw new OutOfMemoryError("Failed to copy bitmap: " + this.k.d());
            }
            eVar.a(bitmapA);
        }
        return eVar;
    }

    public e a(int i, int i2, boolean z) {
        e eVar = new e();
        eVar.o = this.o;
        if (this.k != null) {
            Bitmap bitmapA = Bitmap.a(i, i2, this.k.d());
            eVar.a(bitmapA);
            if (z) {
                for (int i3 = 0; i3 < bitmapA.b(); i3++) {
                    for (int i4 = 0; i4 < bitmapA.c(); i4++) {
                        bitmapA.a(i3, i4, this.k.a(i3, i4));
                    }
                }
            }
        }
        return eVar;
    }

    public void i() {
        if (this.j == null) {
            j();
        }
    }

    public void j() {
        if (this.k == null && com.corrodinggames.rts.gameFramework.l.aU && !com.corrodinggames.rts.gameFramework.l.aX) {
            return;
        }
        if (this.j == null) {
            this.j = new int[this.p * this.q];
        }
        this.k.a(this.j, 0, this.p, 0, 0, this.p, this.q);
    }

    public boolean k() {
        return true;
    }

    public int a(int i, int i2) {
        if (this.j != null) {
            return this.j[i + (i2 * this.p)];
        }
        return this.k.a(i, i2);
    }

    public void a(int i, int i2, int i3) {
        if (this.j != null) {
            this.j[i + (i2 * this.p)] = i3;
        } else {
            this.k.a(i, i2, i3);
        }
    }

    public int l() {
        return this.q;
    }

    public int m() {
        return this.p;
    }

    public void n() {
    }

    public void o() {
        if (this.k != null) {
            this.k = null;
        }
        if (this.w) {
            com.corrodinggames.rts.gameFramework.l.b("remove with keepInGPUMemory=true");
        }
    }

    public void p() {
        if (this.k == null && com.corrodinggames.rts.gameFramework.l.aU && !com.corrodinggames.rts.gameFramework.l.aW) {
            return;
        }
        if (this.j != null) {
            this.k.b(this.j, 0, this.p, 0, 0, this.p, this.q);
            this.j = null;
        }
        this.e++;
    }

    public void q() {
    }

    public void r() {
        this.j = null;
    }

    public void s() {
        r();
    }

    public void t() {
    }

    public int u() {
        return this.p * this.q * 8;
    }

    public void v() {
        this.f633a = null;
        this.b = null;
        this.c = null;
        this.e++;
    }

    public void w() {
    }

    public void x() {
    }

    public void y() {
    }

    public void z() {
    }

    public boolean A() {
        return false;
    }

    public ae B() {
        return this.i;
    }

    public void a(ae aeVar) {
        this.i = aeVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/i.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Paint;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/i.class */
public class i extends ae {

    /* renamed from: a, reason: collision with root package name */
    int f636a;
    boolean b;

    public i(String str, boolean z) {
        super(str);
        this.f636a = -99;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.ae
    public boolean a() {
        return this.b;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.ae
    public boolean b() {
        boolean z = false;
        if (-16711936 != this.f636a) {
            a("teamColor", -16711936);
            z = true;
            this.f636a = -16711936;
        }
        return z;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.ae
    public boolean a(Paint paint, e eVar) {
        boolean z = false;
        if (eVar instanceof h) {
            h hVar = (h) eVar;
            if (hVar.D != this.f636a) {
                a("teamColor", hVar.D);
                z = true;
                this.f636a = hVar.D;
            }
        }
        super.a(paint, eVar);
        return z;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.ae
    public void c() {
        super.c();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/ac.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import java.nio.Buffer;
import java.nio.CharBuffer;
import java.nio.FloatBuffer;
import java.nio.IntBuffer;
import javax.microedition.khronos.opengles.GL10;
import javax.microedition.khronos.opengles.GL11;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/ac.class */
class ac {
    private FloatBuffer b;
    private FloatBuffer c;
    private FloatBuffer d;
    private IntBuffer e;
    private IntBuffer f;
    private IntBuffer g;
    private CharBuffer h;
    private Buffer i;
    private Buffer j;
    private Buffer k;
    private int l;
    private int m;
    private int n;
    private int o;
    private boolean p;
    private int q;
    private int r;
    private int s;
    private int t;

    /* renamed from: a, reason: collision with root package name */
    static final /* synthetic */ boolean f628a;

    static {
        f628a = !ac.class.desiredAssertionStatus();
    }

    void a(int i, int i2, float f, float f2) {
        if (i < 0 || i >= this.m) {
            throw new IllegalArgumentException("i");
        }
        if (i2 < 0 || i2 >= this.n) {
            throw new IllegalArgumentException("j");
        }
        int i3 = ((this.m * i2) + i) * 2;
        if (this.l == 5126) {
            this.c.put(i3, f);
            this.c.put(i3 + 1, f2);
        } else {
            this.f.put(i3, (int) (f * 65536.0f));
            this.f.put(i3 + 1, (int) (f2 * 65536.0f));
        }
    }

    void a(int i, int i2, float f, float f2, float f3, float f4, float f5, float[] fArr) {
        if (i < 0 || i >= this.m) {
            throw new IllegalArgumentException("i");
        }
        if (i2 < 0 || i2 >= this.n) {
            throw new IllegalArgumentException("j");
        }
        int i3 = (this.m * i2) + i;
        int i4 = i3 * 3;
        int i5 = i3 * 2;
        int i6 = i3 * 4;
        if (this.l == 5126) {
            this.b.put(i4, f);
            this.b.put(i4 + 1, f2);
            this.b.put(i4 + 2, f3);
            this.c.put(i5, f4);
            this.c.put(i5 + 1, f5);
            if (fArr != null) {
                this.d.put(i6, fArr[0]);
                this.d.put(i6 + 1, fArr[1]);
                this.d.put(i6 + 2, fArr[2]);
                this.d.put(i6 + 3, fArr[3]);
                return;
            }
            return;
        }
        this.e.put(i4, (int) (f * 65536.0f));
        this.e.put(i4 + 1, (int) (f2 * 65536.0f));
        this.e.put(i4 + 2, (int) (f3 * 65536.0f));
        this.f.put(i5, (int) (f4 * 65536.0f));
        this.f.put(i5 + 1, (int) (f5 * 65536.0f));
        if (fArr != null) {
            this.g.put(i6, (int) (fArr[0] * 65536.0f));
            this.g.put(i6 + 1, (int) (fArr[1] * 65536.0f));
            this.g.put(i6 + 2, (int) (fArr[2] * 65536.0f));
            this.g.put(i6 + 3, (int) (fArr[3] * 65536.0f));
        }
    }

    public static void a(GL10 gl10, boolean z, boolean z2) {
        gl10.glEnableClientState(32884);
        if (z) {
            gl10.glEnableClientState(32888);
            gl10.glEnable(3553);
        } else {
            gl10.glDisableClientState(32888);
            gl10.glDisable(3553);
        }
        if (z2) {
            gl10.glEnableClientState(32886);
        } else {
            gl10.glDisableClientState(32886);
        }
    }

    public void b(GL10 gl10, boolean z, boolean z2) {
        if (!this.p) {
            gl10.glVertexPointer(3, this.l, 0, this.i);
            if (z) {
                gl10.glTexCoordPointer(2, this.l, 0, this.j);
            }
            if (z2) {
                gl10.glColorPointer(4, this.l, 0, this.k);
            }
            gl10.glDrawElements(4, this.o, 5123, this.h);
            return;
        }
        GL11 gl11 = (GL11) gl10;
        gl11.glBindBuffer(34962, this.q);
        gl11.glVertexPointer(3, this.l, 0, 0);
        if (z) {
            gl11.glBindBuffer(34962, this.s);
            gl11.glTexCoordPointer(2, this.l, 0, 0);
        }
        if (z2) {
            gl11.glBindBuffer(34962, this.t);
            gl11.glColorPointer(4, this.l, 0, 0);
        }
        gl11.glBindBuffer(34963, this.r);
        gl11.glDrawElements(4, this.o, 5123, 0);
        gl11.glBindBuffer(34962, 0);
        gl11.glBindBuffer(34963, 0);
    }

    public static void a(GL10 gl10) {
        gl10.glDisableClientState(32884);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/j.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Paint;
import android.graphics.PorterDuff;
import android.graphics.Rect;
import android.graphics.RectF;
import java.util.concurrent.locks.Lock;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/j.class */
public class j implements l {

    /* renamed from: a, reason: collision with root package name */
    public Canvas f637a;
    boolean b = false;

    public j(Canvas canvas) {
        this.f637a = canvas;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Rect rect) {
        this.f637a.a(rect);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(RectF rectF) {
        this.f637a.a(rectF);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar, float f, float f2, Paint paint) {
        this.f637a.a(aa.a(eVar), f, f2, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar, Rect rect, Rect rect2, Paint paint) {
        this.f637a.a(aa.a(eVar), rect, rect2, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar, Rect rect, RectF rectF, Paint paint) {
        this.f637a.a(aa.a(eVar), rect, rectF, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3, Paint paint) {
        this.f637a.a(f, f2, f3, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(int i, PorterDuff.Mode mode) {
        this.f637a.a(i, mode);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(int i) {
        this.f637a.a(i);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3, float f4, Paint paint) {
        this.f637a.a(f, f2, f3, f4, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float[] fArr, int i, int i2, Paint paint) {
        this.f637a.a(fArr, i, i2, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Rect rect, Paint paint) {
        this.f637a.a(rect, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(RectF rectF, Paint paint) {
        this.f637a.a(rectF, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(String str, float f, float f2, Paint paint) {
        this.f637a.a(str, f, f2, paint);
    }

    public boolean equals(Object obj) {
        return this.f637a.equals(obj);
    }

    public int hashCode() {
        return this.f637a.hashCode();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a() {
        this.f637a.b();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3) {
        this.f637a.a(f, f2, f3);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void b() {
        this.f637a.a();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3, float f4) {
        this.f637a.a(f, f2, f3, f4);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2) {
        this.f637a.b(f, f2);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar) {
        this.f637a.a(eVar.b());
    }

    public String toString() {
        return this.f637a.toString();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void b(float f, float f2) {
        this.f637a.a(f, f2);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(boolean z) {
        this.b = z;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public boolean c() {
        return this.b;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(m mVar) {
        mVar.a(com.corrodinggames.rts.gameFramework.l.B().bO);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Bitmap bitmap) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Lock lock) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void b(Lock lock) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public boolean a(ae aeVar) {
        return false;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/s.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/s.class */
public final class s {

    /* renamed from: a, reason: collision with root package name */
    public p f643a;
    public Object[] b = new Object[8];
    public float c;
    public float d;
    public float e;
    public float f;
    final /* synthetic */ o g;

    public s(o oVar) {
        this.g = oVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/f.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Paint;
import android.graphics.PorterDuff;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/f.class */
public class f {

    /* renamed from: a, reason: collision with root package name */
    public e f634a;
    public y b;
    public Paint c;
    boolean e;
    int f;
    int d = 0;
    boolean g = false;
    int h = 0;
    int i = 0;
    int j = 0;
    int k = 1;
    HashMap l = new HashMap();
    ArrayList m = new ArrayList();

    public f(int i, int i2) {
        a(i, i2);
    }

    public void a(int i, int i2) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.gameFramework.l.e("Creating BitmapOrTextureAlias: " + i + "x" + i2);
        this.f634a = lVarB.bO.a(i, i2, true);
        this.b = lVarB.bO.b(this.f634a);
        this.c = new ag();
        this.c.a(new v(w.copy));
    }

    public void a(e eVar, int i, int i2) {
        this.b.b(eVar, i, i2, this.c);
        this.b.p();
    }

    public void a() {
        this.b.a(0, PorterDuff.Mode.CLEAR);
    }

    public void b() {
        this.d = 0;
        this.e = false;
        this.f = 0;
        this.h = 0;
        this.i = 0;
        this.j = 0;
        this.l.clear();
        a();
    }

    public void c() {
        this.f++;
        if (this.e && this.f > 600) {
            this.g = true;
            this.m.clear();
        }
    }

    public void d() {
        if (this.g) {
            this.g = false;
            b();
            Iterator it = this.m.iterator();
            while (it.hasNext()) {
                a((e) it.next());
            }
            this.m.clear();
        }
    }

    public g a(e eVar) {
        g gVar = (g) this.l.get(eVar);
        if (gVar != null) {
            if (this.g) {
                this.m.add(eVar);
            }
            if (gVar.f != eVar.e) {
                com.corrodinggames.rts.gameFramework.l.e("BitmapOrTextureAlias: Image was updated: " + eVar.a());
                this.l.remove(eVar);
            } else {
                return gVar;
            }
        }
        g gVarB = b(eVar);
        if (gVarB != null) {
            return gVarB;
        }
        return null;
    }

    public g b(e eVar) {
        int iM = eVar.m();
        int iL = eVar.l();
        int iM2 = this.f634a.m();
        int iL2 = this.f634a.l();
        if (this.h + iM > iM2) {
            this.h = 0;
            this.i += this.j + this.k;
            this.j = 0;
        }
        if (this.i + iL > iL2) {
            if (!this.e) {
                this.e = true;
                return null;
            }
            return null;
        }
        g gVar = new g();
        gVar.f635a = this.f634a;
        int i = this.h;
        int i2 = this.i;
        this.h += iM + this.k;
        if (this.j < iL) {
            this.j = iL;
        }
        a(eVar, i, i2);
        gVar.b = i;
        gVar.c = i2;
        gVar.d = iM;
        gVar.e = iL;
        gVar.f = eVar.e;
        this.d++;
        this.l.put(eVar, gVar);
        return gVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/g.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/g.class */
public class g {

    /* renamed from: a, reason: collision with root package name */
    public e f635a;
    public int b;
    public int c;
    public float d;
    public float e;
    public int f;
}


================================================================================
// FILE_PATH: ./gameFramework/m/r.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/r.class */
public final class r {
}


================================================================================
// FILE_PATH: ./gameFramework/m/k.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Bitmap;
import android.graphics.Color;
import android.graphics.LightingColorFilter;
import android.graphics.Paint;
import android.graphics.PorterDuff;
import android.graphics.Rect;
import android.graphics.RectF;
import java.util.concurrent.locks.Lock;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/k.class */
public class k implements l {

    /* renamed from: a, reason: collision with root package name */
    public com.corrodinggames.rts.gameFramework.b.f f638a;
    public com.corrodinggames.rts.gameFramework.b.n b;
    com.corrodinggames.rts.gameFramework.b.v c;
    Rect e;
    RectF f;
    com.corrodinggames.rts.gameFramework.b.c g;
    RectF h;
    float[] i;
    static e j;
    e n;
    boolean o;
    public static boolean d = false;
    static Rect k = new Rect(0, 0, 1, 1);
    static Paint l = new Paint();
    static Rect m = new Rect();

    public void b(e eVar) {
        this.f638a.a(this.f638a.a(eVar.b(), eVar, this.g));
    }

    public void d() {
        this.f638a.a();
    }

    public com.corrodinggames.rts.gameFramework.b.v a(Paint paint) {
        this.b.a((ae) null);
        if (paint == null) {
            return null;
        }
        this.c.a(paint.d());
        this.c.a(paint.e());
        this.c.a(paint.g());
        return this.c;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Rect rect) {
        this.f638a.a(rect.f47a, rect.b, rect.c, rect.d);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(RectF rectF) {
        this.f638a.a((int) rectF.f48a, (int) rectF.b, (int) rectF.c, (int) rectF.d);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar, float f, float f2, Paint paint) {
        this.e.a(0, 0, eVar.m(), eVar.l());
        this.f.a(f, f2, f + eVar.m(), f2 + eVar.l());
        b(eVar, this.e, this.f, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar, Rect rect, Rect rect2, Paint paint) {
        this.f.a(rect2);
        b(eVar, rect, this.f, paint);
    }

    public com.corrodinggames.rts.gameFramework.b.b a(Bitmap bitmap, e eVar) {
        com.corrodinggames.rts.gameFramework.b.b bVarA;
        com.corrodinggames.rts.gameFramework.b.n nVar = this.b;
        if (nVar.f436a == null) {
            nVar.f436a = new com.corrodinggames.rts.gameFramework.b.ac(nVar, 1024, 1024);
        }
        if (bitmap.b() < 450 && bitmap.c() < 100 && (bVarA = nVar.f436a.a(bitmap)) != null) {
            return bVarA;
        }
        return this.f638a.a(bitmap, eVar, this.g);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar, Rect rect, RectF rectF, Paint paint) {
        b(eVar, rect, rectF, paint);
    }

    public void b(e eVar, Rect rect, RectF rectF, Paint paint) {
        Bitmap bitmapA = aa.a(eVar);
        this.h.a(rect);
        if (bitmapA == null) {
            throw new RuntimeException("bitmap==null. sourceImage: " + eVar.a());
        }
        com.corrodinggames.rts.gameFramework.b.b bVarA = a(bitmapA, eVar);
        com.corrodinggames.rts.gameFramework.b.n nVar = this.b;
        boolean zC = true;
        if (paint == null) {
            nVar.w = -1;
        } else {
            int iE = paint.e();
            if (iE != -1 && paint.h() == null) {
                iE = Color.a(Color.a(iE), 255, 255, 255);
            }
            nVar.w = iE;
            if (paint instanceof ag) {
                zC = ((ag) paint).p();
            } else {
                zC = paint.c();
            }
        }
        nVar.a(bVarA, zC ? 9729 : 9728);
        ae aeVarB = null;
        if (paint instanceof ag) {
            aeVarB = ((ag) paint).q();
        }
        if (eVar != null && aeVarB == null) {
            aeVarB = eVar.B();
        }
        if (aeVarB != null) {
            boolean zA = aeVarB.a(paint, eVar);
            this.b.a(aeVarB);
            if (zA) {
                this.b.e();
                this.b.o();
            }
        } else {
            this.b.a((ae) null);
        }
        nVar.a(bVarA, this.h, rectF, this.g, (com.corrodinggames.rts.gameFramework.b.l) null);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Bitmap bitmap) {
        this.f638a.a(bitmap);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3, Paint paint) {
        this.f638a.a(f, f2, f3, a(paint));
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(int i, PorterDuff.Mode mode) {
        this.b.a(b(i));
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(int i) {
        this.b.a(b(i));
    }

    float[] b(int i) {
        float f = ((i >>> 24) & 255) * 0.003921569f * 1.0f;
        float f2 = ((i >>> 16) & 255) * 0.003921569f * f;
        this.i[0] = f;
        this.i[1] = f2;
        this.i[2] = ((i >>> 8) & 255) * 0.003921569f * f;
        this.i[3] = (i & 255) * 0.003921569f * f;
        return this.i;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3, float f4, Paint paint) {
        this.f638a.a(f, f2, f3, f4, a(paint));
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float[] fArr, int i, int i2, Paint paint) {
        this.f638a.a(fArr, i, i2, a(paint));
    }

    public void b(float f, float f2, float f3, float f4, Paint paint) {
        if (j == null) {
            Bitmap bitmapA = Bitmap.a(1, 1, Bitmap.Config.ARGB_8888);
            bitmapA.a(0, 0, -1);
            e eVar = new e();
            eVar.a(bitmapA);
            j = eVar;
            l.a(false);
            l.a(new LightingColorFilter(-1, -16777216));
        }
        l.b(paint.e());
        if (paint.d() == Paint.Style.STROKE) {
            float fG = paint.g();
            if (fG == 0.0f) {
                fG = 1.0f;
            }
            this.f.a(f, f2, f3, f2 + fG);
            b(j, k, this.f, l);
            this.f.a(f, f4, f3, f4 + fG);
            b(j, k, this.f, l);
            this.f.a(f, f2, f + fG, f4);
            b(j, k, this.f, l);
            this.f.a(f3, f2, f3 + fG, f4);
            b(j, k, this.f, l);
            return;
        }
        this.f.a(f, f2, f3, f4);
        b(j, k, this.f, l);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Rect rect, Paint paint) {
        b(rect.f47a, rect.b, rect.c, rect.d, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(RectF rectF, Paint paint) {
        b(rectF.f48a, rectF.b, rectF.c, rectF.d, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(String str, float f, float f2, Paint paint) {
        this.b.b((ae) null);
        com.corrodinggames.rts.gameFramework.b.n.E = this;
        this.f638a.a(str, f, f2, paint);
    }

    public boolean equals(Object obj) {
        return this.f638a.equals(obj);
    }

    public int hashCode() {
        return this.f638a.hashCode();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a() {
        this.b.c();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3) {
        com.corrodinggames.rts.gameFramework.b.n nVar = this.b;
        nVar.a(f2, f3);
        nVar.a(f);
        nVar.a(-f2, -f3);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void b() {
        this.b.b();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2, float f3, float f4) {
        com.corrodinggames.rts.gameFramework.b.n nVar = this.b;
        nVar.a(f3, f4);
        nVar.a(f, f2, 1.0f);
        nVar.a(-f3, -f4);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(float f, float f2) {
        this.b.a(f, f2, 1.0f);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(e eVar) {
        if (this.n != null) {
            d();
        }
        if (eVar != null) {
            b(eVar);
        }
        this.n = eVar;
    }

    public String toString() {
        return this.f638a.toString();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void b(float f, float f2) {
        this.b.a(f, f2);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(boolean z) {
        this.o = z;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public boolean c() {
        return this.o;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(m mVar) {
        mVar.a(com.corrodinggames.rts.gameFramework.l.B().bO);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void a(Lock lock) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public void b(Lock lock) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.l
    public boolean a(ae aeVar) {
        return this.b.d(aeVar);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/ab.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/ab.class */
public class ab {

    /* renamed from: a, reason: collision with root package name */
    int f627a;
    int b;
    boolean c;
    e d;

    /* renamed from: a, reason: merged with bridge method [inline-methods] */
    public ab clone() {
        ab abVar = new ab();
        abVar.f627a = this.f627a;
        abVar.b = this.b;
        abVar.c = this.c;
        return abVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/u.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/u.class */
public abstract class u implements l {
}


================================================================================
// FILE_PATH: ./gameFramework/m/y.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.content.Context;
import android.graphics.Paint;
import android.graphics.PorterDuff;
import android.graphics.Rect;
import android.graphics.RectF;
import java.io.File;
import java.io.InputStream;
import java.util.concurrent.locks.Lock;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/y.class */
public interface y {
    y b(e eVar);

    y a(e eVar);

    boolean a();

    void a(Context context);

    void b();

    l d();

    void a(l lVar);

    void a(a aVar);

    e a(int i);

    e a(int i, boolean z);

    e a(InputStream inputStream, boolean z);

    e a(int i, int i2, boolean z);

    e b(int i, int i2, boolean z);

    void e();

    void a(e eVar, float f, float f2, float f3, Paint paint);

    void a(e eVar, Rect rect, float f, float f2, float f3, Paint paint);

    void a(e eVar, Rect rect, Rect rect2, Paint paint);

    void a(e eVar, Rect rect, RectF rectF, Paint paint);

    void a(e eVar, float f, float f2, Paint paint);

    void a(e eVar, float f, float f2, Paint paint, float f3, float f4);

    void b(e eVar, float f, float f2, Paint paint);

    void b(e eVar, Rect rect, Rect rect2, Paint paint);

    void a(Rect rect, Paint paint);

    void a(boolean z);

    void f();

    void a(e eVar, Rect rect, Paint paint);

    void a(e eVar, Rect rect, Paint paint, int i, int i2, int i3, int i4);

    void a(e eVar, RectF rectF, Paint paint, float f, float f2, int i, int i2);

    void b(int i);

    void a(int i, PorterDuff.Mode mode);

    void a(String str, float f, float f2, Paint paint, Paint paint2, float f3);

    void a(String str, float f, float f2, Paint paint);

    void b(Rect rect, Paint paint);

    void a(RectF rectF, Paint paint);

    void g();

    void h();

    void c(Rect rect, Paint paint);

    void a(Rect rect);

    void a(RectF rectF);

    void a(float f, float f2, float f3, Paint paint);

    void b(float f, float f2, float f3, Paint paint);

    void a(float[] fArr, int i, int i2, Paint paint);

    void i();

    void j();

    void k();

    void l();

    void a(float f, float f2, float f3);

    void a(float f, float f2);

    void a(float f, float f2, float f3, float f4);

    void b(float f, float f2);

    void a(m mVar);

    void a(float f, float f2, float f3, float f4, Paint paint);

    int m();

    int n();

    void a(int i, int i2);

    void o();

    void a(Paint paint);

    void p();

    void q();

    int a(String str, Paint paint);

    int b(String str, Paint paint);

    e r();

    void a(e eVar, File file);

    void a(Lock lock);

    void b(Lock lock);

    void a(ae aeVar);

    float s();
}


================================================================================
// FILE_PATH: ./gameFramework/m/ae.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Paint;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.IOException;
import java.util.Arrays;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/ae.class */
public class ae {
    public String c;
    public String d;
    public String e;
    public String f;
    public int g;
    public int h;
    String i;
    String j;
    long k;
    long l;
    public boolean m;
    public int n;
    public int o;
    public af[] p;
    public Object q;
    public int r;
    int s;

    public void a(String str, float f) {
        a(str).a(f);
    }

    public void a(String str, float f, float f2) {
        a(str).a(f, f2);
    }

    public void a(String str, int i) {
        a(str).a(((i >> 16) & 255) * 0.003921569f, ((i >> 8) & 255) * 0.003921569f, (i & 255) * 0.003921569f, (i >>> 24) * 0.003921569f);
    }

    public void a(String str, e eVar) {
        a(str).a(eVar);
    }

    public void b(String str, e eVar) {
        a(str).b(eVar);
    }

    public af a(String str) {
        for (af afVar : this.p) {
            if (afVar.f629a.equals(str)) {
                return afVar;
            }
        }
        af afVar2 = new af();
        afVar2.f629a = str;
        af[] afVarArr = (af[]) Arrays.copyOf(this.p, this.p.length + 1);
        afVarArr[afVarArr.length - 1] = afVar2;
        this.p = afVarArr;
        return afVar2;
    }

    public ae(String str) throws IOException {
        this.d = VariableScope.nullOrMissingString;
        this.p = new af[0];
        a(com.corrodinggames.rts.gameFramework.l.aY ? "assets/shaders/plainGDX.vert" : "assets/shaders/plain.vert", str);
    }

    public void a(String str, String str2) throws IOException {
        this.c = com.corrodinggames.rts.gameFramework.f.g(str2);
        this.i = str;
        this.j = str2;
        d();
        e();
    }

    public ae() {
        this.d = VariableScope.nullOrMissingString;
        this.p = new af[0];
        this.c = "Invalid";
        this.o = 1;
    }

    public void d() throws IOException {
        com.corrodinggames.rts.gameFramework.utility.j jVarK = com.corrodinggames.rts.gameFramework.e.a.k(this.i);
        if (jVarK == null) {
            throw new IOException("Cannot find: " + this.i);
        }
        this.e = com.corrodinggames.rts.gameFramework.f.a(jVarK);
        com.corrodinggames.rts.gameFramework.utility.j jVarK2 = com.corrodinggames.rts.gameFramework.e.a.k(this.j);
        if (jVarK2 == null) {
            throw new IOException("Cannot find: " + this.j);
        }
        this.f = com.corrodinggames.rts.gameFramework.f.a(jVarK2);
    }

    public void b(String str) {
        com.corrodinggames.rts.gameFramework.l.e("shader(" + this.c + "): " + str);
    }

    public void c(String str) {
        if (this.r < 3) {
            this.r++;
            com.corrodinggames.rts.gameFramework.l.p("shader(" + this.c + "): " + str);
        }
        com.corrodinggames.rts.gameFramework.l.a("shader(" + this.c + "): " + str);
        this.o = 1;
    }

    public boolean a() {
        return false;
    }

    public boolean b() {
        return false;
    }

    public boolean a(Paint paint, e eVar) {
        return false;
    }

    public boolean e() {
        long jA = com.corrodinggames.rts.gameFramework.j.a(this.i, false);
        long jA2 = com.corrodinggames.rts.gameFramework.j.a(this.j, false);
        boolean z = (jA == this.k && jA2 == this.l) ? false : true;
        this.k = jA;
        this.l = jA2;
        return z;
    }

    public void f() {
        this.s++;
        if (this.s < 100) {
            return;
        }
        this.s = 0;
        if (e()) {
            b("Reloading shader");
            try {
                d();
                this.m = true;
                this.o = 0;
                for (af afVar : this.p) {
                    afVar.c = true;
                    afVar.b = -1;
                }
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
    }

    public void c() {
        com.corrodinggames.rts.gameFramework.l.B().bO.a(this);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/l.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Bitmap;
import android.graphics.Paint;
import android.graphics.PorterDuff;
import android.graphics.Rect;
import android.graphics.RectF;
import java.util.concurrent.locks.Lock;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/l.class */
public interface l {
    void a(boolean z);

    boolean c();

    void a(Rect rect);

    void a(RectF rectF);

    void a(e eVar, float f, float f2, Paint paint);

    void a(e eVar, Rect rect, Rect rect2, Paint paint);

    void a(e eVar, Rect rect, RectF rectF, Paint paint);

    void a(float f, float f2, float f3, Paint paint);

    void a(int i, PorterDuff.Mode mode);

    void a(int i);

    void a(float f, float f2, float f3, float f4, Paint paint);

    void a(float[] fArr, int i, int i2, Paint paint);

    void a(Rect rect, Paint paint);

    void a(RectF rectF, Paint paint);

    void a(String str, float f, float f2, Paint paint);

    void a();

    void a(float f, float f2, float f3);

    void b();

    void a(float f, float f2);

    void a(float f, float f2, float f3, float f4);

    void a(e eVar);

    void b(float f, float f2);

    void a(m mVar);

    void a(Bitmap bitmap);

    void a(Lock lock);

    void b(Lock lock);

    boolean a(ae aeVar);
}


================================================================================
// FILE_PATH: ./gameFramework/m/m.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/m.class */
public abstract class m {
    public abstract void a(y yVar);
}


================================================================================
// FILE_PATH: ./gameFramework/m/ad.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.Bitmap;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/ad.class */
public class ad extends e {
    e x;

    public ad(e eVar) {
        this.x = eVar;
        this.k = eVar.k;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public String a() {
        return this.x.a();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public Bitmap b() {
        return this.x.b();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public e c() {
        return this.x.c();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void a(boolean z) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void a(Bitmap bitmap) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void g() {
        this.x.g();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void a(e eVar) {
        this.x.a(eVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    /* renamed from: h */
    public e clone() {
        return this;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public e a(int i, int i2, boolean z) {
        return this;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void i() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void j() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public int a(int i, int i2) {
        return this.x.a(i, i2);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void a(int i, int i2, int i3) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public int l() {
        return this.x.l();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public int m() {
        return this.x.m();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void n() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void o() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void p() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void r() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void t() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public int u() {
        return this.x.u();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void v() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void w() {
    }

    public String toString() {
        return "MutableBitmapOrTexture(" + this.x.toString() + ")";
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public ae B() {
        return this.x.i;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.e
    public void a(ae aeVar) {
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/x.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.Canvas;
import android.graphics.Matrix;
import android.graphics.Paint;
import android.graphics.PorterDuff;
import android.graphics.Rect;
import android.graphics.RectF;
import android.os.Build;
import android.util.Log;
import com.corrodinggames.rts.R;
import java.io.File;
import java.io.InputStream;
import java.nio.IntBuffer;
import java.util.Iterator;
import java.util.concurrent.locks.Lock;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/x.class */
public class x implements y {

    /* renamed from: a, reason: collision with root package name */
    static x f647a;
    static e b;
    static int[] c;
    static Bitmap d;
    private Context x;
    private l y;
    private l z;
    private a A;
    public boolean h;
    public Bitmap i;
    public e j;
    public int k;
    public int l;
    private x B;
    e s;
    static IntBuffer e = IntBuffer.allocate(0);
    static IntBuffer f = IntBuffer.allocate(0);
    static final RectF t = new RectF();
    static final RectF u = new RectF();
    static Rect w = new Rect();
    boolean g = false;
    final Rect m = new Rect();
    final Rect n = new Rect();
    final RectF o = new RectF();
    final RectF p = new RectF();
    final Matrix q = new Matrix();
    final RectF r = new RectF();
    com.corrodinggames.rts.gameFramework.utility.m v = new com.corrodinggames.rts.gameFramework.utility.m();

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public y a(e eVar) {
        x xVar = (x) b(eVar);
        xVar.h = true;
        return xVar;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public y b(e eVar) {
        if (this.B != null) {
            return this.B.b(eVar);
        }
        x xVar = new x();
        xVar.a(this.x);
        Canvas canvas = new Canvas();
        Bitmap bitmapB = eVar.b();
        canvas.a(bitmapB);
        xVar.y = new j(canvas);
        xVar.z = xVar.y;
        xVar.i = bitmapB;
        xVar.j = eVar;
        xVar.B = this;
        if (eVar != null) {
            xVar.k = eVar.m();
            xVar.l = eVar.l();
        }
        return xVar;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public boolean a() {
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(Context context) {
        this.x = context;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b() {
        this.s = new ad(a(R.drawable.error_outmem));
    }

    private void t() {
        x xVar;
        if (f647a != this) {
            f647a = this;
            if (this.B != null) {
                xVar = this.B;
            } else {
                xVar = this;
            }
            if (xVar.c()) {
                l lVar = this.y;
                if (this.B != null) {
                    lVar = this.B.y;
                }
                if (!this.h) {
                    if (b != null) {
                        lVar.a((e) null);
                        b = null;
                    }
                    if (this.B != null) {
                        this.y = this.z;
                        return;
                    }
                    return;
                }
                if (this.B != null) {
                    this.y = lVar;
                }
                if (this.j != b) {
                    this.y.a(this.j);
                    b = this.j;
                    return;
                }
                return;
            }
            if (b != null) {
                l lVar2 = this.y;
                if (this.B != null) {
                    lVar2 = this.B.y;
                }
                lVar2.a((e) null);
                b = null;
            }
            if (this.B != null) {
                this.y = this.z;
            }
        }
    }

    private void a(Paint paint, String str) {
        a(paint, true, str, (e) null);
    }

    private void b(Paint paint) {
        a(paint, false, (String) null, (e) null);
    }

    private void a(Paint paint, e eVar) {
        a(paint, false, (String) null, eVar);
    }

    public boolean c() {
        if ((this.y instanceof o) || (this.y instanceof k)) {
            return true;
        }
        return false;
    }

    private void a(Paint paint, boolean z, String str, e eVar) {
        t();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public l d() {
        return this.y;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(l lVar) {
        this.y = lVar;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(a aVar) {
        this.A = aVar;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public e a(int i) {
        return a(i, true);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public e a(int i, boolean z) {
        BitmapFactory.Options options = new BitmapFactory.Options();
        if (z) {
            options.inPreferredConfig = Bitmap.Config.ARGB_8888;
        } else {
            options.inPreferredConfig = Bitmap.Config.RGB_565;
        }
        options.inScaled = false;
        Bitmap bitmapDecodeResource = BitmapFactory.decodeResource(this.x.e(), i, options);
        if (bitmapDecodeResource == null) {
            throw new RuntimeException("Could not load image with resId:" + i);
        }
        return a(bitmapDecodeResource);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public e a(InputStream inputStream, boolean z) {
        if (inputStream == null) {
            throw new RuntimeException("loadImage: steam is null");
        }
        BitmapFactory.Options options = new BitmapFactory.Options();
        if (z) {
            options.inPreferredConfig = Bitmap.Config.ARGB_8888;
        } else {
            options.inPreferredConfig = Bitmap.Config.RGB_565;
        }
        options.inScaled = false;
        try {
            Bitmap bitmapDecodeStream = BitmapFactory.decodeStream(inputStream, null, options);
            if (bitmapDecodeStream == null) {
                com.corrodinggames.rts.gameFramework.l.g("Could not load image from steam");
                return null;
            }
            Log.d("RustedWarfare", "load a:" + z + " as " + bitmapDecodeStream.d());
            return a(bitmapDecodeStream);
        } catch (OutOfMemoryError e2) {
            com.corrodinggames.rts.gameFramework.l.a(com.corrodinggames.rts.gameFramework.u.gameImage, e2);
            if (this.s == null) {
                throw new RuntimeException("outOfMemoryErrorImage==null", e2);
            }
            return this.s;
        }
    }

    public e a(Bitmap bitmap) {
        e eVar = new e();
        eVar.a(bitmap);
        return eVar;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public e a(int i, int i2, boolean z) {
        return b(i, i2, z);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public e b(int i, int i2, boolean z) {
        Bitmap.Config config;
        if (z) {
            config = Bitmap.Config.ARGB_8888;
        } else {
            config = Bitmap.Config.ARGB_8888;
        }
        try {
            Bitmap bitmapA = Bitmap.a(i, i2, config);
            if (bitmapA != null && !z && config == Bitmap.Config.ARGB_8888 && Build.VERSION.SDK_INT >= 12) {
                bitmapA.a(false);
            }
            if (bitmapA == null) {
                OutOfMemoryError outOfMemoryError = new OutOfMemoryError("createBitmap returned null, possible out of memory");
                com.corrodinggames.rts.gameFramework.l.a(com.corrodinggames.rts.gameFramework.u.gameImageCreate, outOfMemoryError);
                if (this.s == null) {
                    throw new RuntimeException("outOfMemoryErrorImage==null", outOfMemoryError);
                }
                return this.s;
            }
            return a(bitmapA);
        } catch (OutOfMemoryError e2) {
            com.corrodinggames.rts.gameFramework.l.a(com.corrodinggames.rts.gameFramework.u.gameImageCreate, e2);
            if (this.s == null) {
                throw new RuntimeException("outOfMemoryErrorImage==null", e2);
            }
            return this.s;
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void e() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, float f2, float f3, float f4, Paint paint) {
        l lVar = this.y;
        lVar.b();
        lVar.a(f4 + 90.0f, f2, f3);
        b(eVar, f2 - eVar.t, f3 - eVar.u, paint);
        lVar.a();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, Rect rect, float f2, float f3, float f4, Paint paint) {
        l lVar = this.y;
        lVar.b();
        int iB = rect.b() >> 1;
        int iC = rect.c() >> 1;
        this.p.a(f2 - iB, f3 - iC, f2 + iB, f3 + iC);
        lVar.a(f4 + 90.0f, f2, f3);
        a(eVar, rect, this.p, paint);
        lVar.a();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, Rect rect, Rect rect2, Paint paint) {
        if (c(eVar) != null) {
            this.y.a(eVar, rect, rect2, paint);
            return;
        }
        throw new RuntimeException("bitmap was not drawn");
    }

    public Bitmap c(e eVar) {
        Bitmap bitmapB = eVar.b();
        if (eVar.f != eVar.e) {
            eVar.f = eVar.e;
            d().a(bitmapB);
        }
        return bitmapB;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b(e eVar, Rect rect, Rect rect2, Paint paint) {
        if (!this.g) {
            a(eVar, rect, rect2, paint);
            return;
        }
        Bitmap bitmapC = c(eVar);
        boolean zF = eVar.f();
        if (paint.f() < 255) {
            zF = true;
        }
        int iB = this.i.b();
        int iC = this.i.c();
        int iB2 = bitmapC.b();
        bitmapC.c();
        eVar.i();
        int[] iArr = eVar.j;
        if (d != this.i) {
            a(false);
        }
        int[] iArr2 = c;
        int i = rect2.b;
        int i2 = rect2.d;
        int i3 = rect2.f47a;
        int i4 = rect2.c;
        int i5 = rect.b;
        int i6 = rect.d;
        int i7 = rect.f47a;
        float f2 = 1.0f;
        float f3 = 1.0f;
        int i8 = rect.c - i7;
        int i9 = i6 - i5;
        int i10 = i4 - i3;
        int i11 = i2 - i;
        if (i11 != 0) {
            f2 = i9 / i11;
        }
        if (i10 != 0) {
            f3 = i8 / i10;
        }
        if (i < 0) {
            i5 = (int) (i5 + ((-i) * f2));
            i = 0;
        }
        if (i2 > iC - 1) {
            i2 = iC - 1;
        }
        if (i > i2) {
            return;
        }
        if (i3 < 0) {
            i7 = (int) (i7 + ((-i3) * f3));
            i3 = 0;
        }
        if (i4 > iB - 1) {
            i4 = iB - 1;
        }
        if (i3 > i4) {
            return;
        }
        int i12 = i * iB;
        int i13 = i5 * iB2;
        int i14 = i2 * iB;
        float f4 = 0.0f;
        int i15 = i3;
        int i16 = i7;
        int i17 = i4;
        if (!zF) {
            while (i12 < i14) {
                int i18 = i12 + i15;
                int i19 = i13 + (((int) f4) * iB2) + i16;
                float f5 = 0.0f;
                int i20 = i12 + i17;
                int i21 = i20 - 4;
                while (i18 < i21) {
                    iArr2[i18] = iArr[i19 + ((int) f5)];
                    float f6 = f5 + f3;
                    int i22 = i18 + 1;
                    iArr2[i22] = iArr[i19 + ((int) f6)];
                    float f7 = f6 + f3;
                    int i23 = i22 + 1;
                    iArr2[i23] = iArr[i19 + ((int) f7)];
                    float f8 = f7 + f3;
                    int i24 = i23 + 1;
                    iArr2[i24] = iArr[i19 + ((int) f8)];
                    f5 = f8 + f3;
                    i18 = i24 + 1;
                }
                while (i18 < i20) {
                    iArr2[i18] = iArr[i19 + ((int) f5)];
                    i18++;
                    f5 += f3;
                }
                i12 += iB;
                f4 += f2;
            }
            return;
        }
        int iE = paint.e() >>> 24;
        while (i12 < i14) {
            int i25 = i12 + i15;
            int i26 = i13 + (((int) f4) * iB2) + i16;
            float f9 = 0.0f;
            int i27 = i12 + i17;
            int i28 = -1;
            int i29 = 0;
            int i30 = 0;
            int i31 = 0;
            while (i25 < i27) {
                int i32 = i26 + ((int) f9);
                if (i32 != i28) {
                    int i33 = iArr[i32];
                    i29 = ((i33 >>> 24) * iE) >> 8;
                    i30 = i33 & 16711935;
                    i31 = i33 & 65280;
                    if (i29 == 0) {
                        i25++;
                        f9 += f3;
                    } else {
                        i28 = i32;
                    }
                }
                int i34 = iArr2[i25];
                int i35 = i34 & 16711935;
                int i36 = i34 & 65280;
                iArr2[i25] = (-16777216) | ((i35 + (((i30 - i35) * i29) >> 8)) & 16711935) | ((i36 + (((i31 - i36) * i29) >> 8)) & 65280);
                i25++;
                f9 += f3;
            }
            i12 += iB;
            f4 += f2;
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(Rect rect, Paint paint) {
        if (!this.g) {
            b(rect, paint);
            return;
        }
        if (d != this.i) {
            a(false);
        }
        int iB = this.i.b();
        int iC = this.i.c();
        int[] iArr = c;
        int i = rect.b;
        int i2 = rect.d;
        int i3 = rect.f47a;
        int i4 = rect.c;
        if (i < 0) {
            i = 0;
        }
        if (i2 > iC - 1) {
            i2 = iC - 1;
        }
        if (i > i2) {
            return;
        }
        if (i3 < 0) {
            i3 = 0;
        }
        if (i4 > iB - 1) {
            i4 = iB - 1;
        }
        if (i3 > i4) {
            return;
        }
        int i5 = i * iB;
        int i6 = i2 * iB;
        int i7 = i3;
        int i8 = i4;
        int iE = paint.e();
        int i9 = iE >>> 24;
        if (!(i9 < 255)) {
            while (i5 < i6) {
                int i10 = i5 + i8;
                for (int i11 = i5 + i7; i11 < i10; i11++) {
                    iArr[i11] = iE;
                }
                i5 += iB;
            }
            return;
        }
        int i12 = (iE >> 16) & 255;
        int i13 = (iE >> 8) & 255;
        int i14 = iE & 255;
        float f2 = i9 * 0.003921569f;
        int i15 = (int) (i12 * f2);
        int i16 = (int) (i13 * f2);
        int i17 = (int) (i14 * f2);
        int i18 = 255 - i9;
        int i19 = (-16777216) | (i15 << 16) | (i16 << 8) | i17;
        while (i5 < i6) {
            int i20 = i5 + i8;
            for (int i21 = i5 + i7; i21 < i20; i21++) {
                int i22 = iArr[i21];
                iArr[i21] = (((((i22 & 16711935) * i18) >> 8) & 16711935) | ((((i22 & 65280) * i18) >> 8) & 65280)) + i19;
            }
            i5 += iB;
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(boolean z) {
        this.g = true;
        if (d == this.i) {
            return;
        }
        int iB = this.i.b();
        int iC = this.i.c();
        int i = iB * iC;
        if (c == null || c.length < i) {
            c = new int[i];
        }
        if (!z) {
            this.i.a(c, 0, iB, 0, 0, iB, iC);
        }
        d = this.i;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void f() {
        this.g = false;
        if (d == this.i) {
            int iB = this.i.b();
            this.i.b(c, 0, iB, 0, 0, iB, this.i.c());
            d = null;
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, Rect rect, RectF rectF, Paint paint) {
        if (c(eVar) != null) {
            a(paint, eVar);
            this.y.a(eVar, rect, rectF, paint);
            return;
        }
        throw new RuntimeException("bitmap was not drawn");
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, float f2, float f3, Paint paint) {
        b(eVar, f2 - eVar.t, f3 - eVar.u, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, float f2, float f3, Paint paint, float f4, float f5) {
        l lVar = this.y;
        lVar.b();
        if (f4 != 0.0f) {
            lVar.a(f4 + 90.0f, f2, f3);
        }
        lVar.a(f5, f5, f2, f3);
        c(eVar);
        lVar.a(eVar, f2, f3, paint);
        lVar.a();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b(e eVar, float f2, float f3, Paint paint) {
        if (c(eVar) != null) {
            this.y.a(eVar, f2, f3, paint);
            return;
        }
        throw new RuntimeException("bitmap was not drawn");
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, Rect rect, Paint paint) {
        a(eVar, rect, paint, 0, 0, 0, 0);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, Rect rect, Paint paint, int i, int i2, int i3, int i4) {
        aa.a(this, eVar, rect, paint, i, i2, i3, i4);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, RectF rectF, Paint paint, float f2, float f3, int i, int i2) {
        aa.a(this, eVar, rectF, paint, f2, f3, i, i2);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b(int i) {
        t();
        this.y.a(i);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(int i, PorterDuff.Mode mode) {
        t();
        this.y.a(i, mode);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(String str, float f2, float f3, Paint paint, Paint paint2, float f4) {
        float fA = paint.a(str);
        u.a(f2, f3, f2 + fA, f3 + a(str, paint));
        t.a(u);
        if (paint.j() == Paint.Align.CENTER) {
            t.a(-(fA / 2.0f), 0.0f);
        }
        com.corrodinggames.rts.gameFramework.f.a(t, f4);
        b(paint2);
        this.y.a(t, paint2);
        a(str, u.f48a + (f4 / 2.0f), u.d - (f4 / 2.0f), paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(String str, float f2, float f3, Paint paint) {
        a(paint, str);
        this.y.a(str, f2, f3, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b(Rect rect, Paint paint) {
        b(paint);
        this.y.a(rect, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(RectF rectF, Paint paint) {
        b(paint);
        this.y.a(rectF, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void g() {
        if (this.v.size() > 0) {
            synchronized (this.v) {
                Iterator it = this.v.iterator();
                while (it.hasNext()) {
                    this.y.a((ae) it.next());
                }
                this.v.clear();
            }
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void h() {
        t();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void c(Rect rect, Paint paint) {
        this.n.a(rect.f47a, rect.b, rect.f47a + rect.c, rect.b + rect.d);
        b(paint);
        d().a(this.n, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(Rect rect) {
        if (this.i != null) {
            rect = new Rect(rect);
            int iC = this.i.c() - this.l;
        }
        d().a(rect);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(RectF rectF) {
        if (this.i != null) {
            rectF = new RectF(rectF);
            int iC = this.i.c() - this.l;
        }
        d().a(rectF);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(float f2, float f3, float f4, Paint paint) {
        if (f4 < 50.0f) {
            aa.a(this, f2, f3, f4, paint, 1.0f);
        } else {
            b(paint);
            this.y.a(f2, f3, f4, paint);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b(float f2, float f3, float f4, Paint paint) {
        b(paint);
        this.y.a(f2, f3, f4, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(float[] fArr, int i, int i2, Paint paint) {
        b(paint);
        d().a(fArr, i, i2, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void i() {
        t();
        this.y.b();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void j() {
        t();
        this.y.a();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void k() {
        t();
        this.y.b();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void l() {
        t();
        this.y.a();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(float f2, float f3, float f4) {
        this.y.a(f2, f3, f4);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(float f2, float f3) {
        this.y.a(f2, f3);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(float f2, float f3, float f4, float f5) {
        this.y.a(f2, f3, f4, f5);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b(float f2, float f3) {
        this.y.b(f2, f3);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(float f2, float f3, float f4, float f5, Paint paint) {
        b(paint);
        d().a(f2, f3, f4, f5, paint);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(m mVar) {
        d().a(mVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public int m() {
        if (this.i != null) {
            return this.k;
        }
        return (int) com.corrodinggames.rts.gameFramework.l.B().cl;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public int n() {
        if (this.i != null) {
            return this.l;
        }
        return (int) com.corrodinggames.rts.gameFramework.l.B().cm;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(int i, int i2) {
        this.k = i;
        this.l = i2;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void o() {
        b((Paint) null);
        a(0, PorterDuff.Mode.CLEAR);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(Paint paint) {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(ae aeVar) {
        if (aeVar != null) {
            synchronized (this.v) {
                this.v.add(aeVar);
            }
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void p() {
        t();
        if (this.i != null && (this.y instanceof j)) {
            d().a(this.i);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void q() {
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public int a(String str, Paint paint) {
        return (int) paint.k();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public int b(String str, Paint paint) {
        paint.a(str, 0, str.length(), w);
        return w.f47a + w.b();
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public e r() {
        return this.s;
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(e eVar, File file) {
        throw new RuntimeException("writeImageToFile not yet supported");
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void a(Lock lock) {
        t();
        this.y.a(lock);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public void b(Lock lock) {
        t();
        this.y.b(lock);
    }

    @Override // com.corrodinggames.rts.gameFramework.m.y
    public float s() {
        return 1.0f;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

import android.graphics.BitmapFactory;
import android.opengl.GLSurfaceView;
import android.util.Log;
import javax.microedition.khronos.egl.EGLConfig;
import javax.microedition.khronos.opengles.GL10;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/a.class */
public class a implements GLSurfaceView.Renderer {
    private static BitmapFactory.Options q = new BitmapFactory.Options();

    /* renamed from: a, reason: collision with root package name */
    public boolean f625a;
    GL10 b;
    float c;
    float d;
    int e;
    int f;
    c[] g;
    ac h;
    int i;
    int j;
    int k;
    int l;
    int m;
    int n;
    String o;
    long p;

    @Override // android.opengl.GLSurfaceView.Renderer
    public void onDrawFrame(GL10 gl10) {
        if (this.e == -1) {
            Log.d("RustedWarfare", "---- render: no buffer is ready!");
            return;
        }
        long jCurrentTimeMillis = System.currentTimeMillis();
        int i = (int) (jCurrentTimeMillis - this.p);
        this.p = jCurrentTimeMillis;
        this.l += i;
        this.m++;
        if (this.m == 10) {
            this.n = 10000 / this.l;
            this.l = 0;
            this.m = 0;
            this.o = this.n + "fps";
            Log.d("RustedWarfare", "render:" + this.o + ", this renders has " + this.g[this.e].b + " draws");
        }
        this.f = this.e;
        gl10.glClear(16640);
        gl10.glMatrixMode(5888);
        ac.a(gl10, true, false);
        c cVar = this.g[this.f];
        this.i = -1;
        this.j = -1;
        this.k = -1;
        for (int i2 = 0; i2 < cVar.b; i2++) {
            cVar.f631a[i2].a(gl10);
        }
        ac.a(gl10);
        this.f = -1;
    }

    @Override // android.opengl.GLSurfaceView.Renderer
    public void onSurfaceChanged(GL10 gl10, int i, int i2) {
        Log.d("RustedWarfare", "2d gl onSurfaceChanged:" + i + "," + i2);
        this.b = gl10;
        this.c = i2;
        this.d = i;
        gl10.glViewport(0, 0, i, i2);
        gl10.glMatrixMode(5889);
        gl10.glLoadIdentity();
        gl10.glOrthof(0.0f, i, 0.0f, i2, 0.0f, 1.0f);
        gl10.glShadeModel(7424);
        gl10.glEnable(3042);
        gl10.glBlendFunc(770, 771);
        gl10.glColor4x(65536, 65536, 65536, 65536);
        gl10.glEnable(3553);
    }

    @Override // android.opengl.GLSurfaceView.Renderer
    public void onSurfaceCreated(GL10 gl10, EGLConfig eGLConfig) {
        Log.d("RustedWarfare", "2d gl onSurfaceCreated");
        this.b = gl10;
        gl10.glHint(3152, 4353);
        gl10.glClearColor(0.3f, 0.3f, 0.5f, 1.0f);
        gl10.glShadeModel(7424);
        gl10.glDisable(2929);
        gl10.glEnable(3553);
        gl10.glDisable(3024);
        gl10.glDisable(2896);
        gl10.glClear(16640);
        if (com.corrodinggames.rts.gameFramework.l.B() != null) {
        }
        this.f625a = true;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/m/t.java
================================================================================

package com.corrodinggames.rts.gameFramework.m;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/m/t.class */
public final class t {

    /* renamed from: a, reason: collision with root package name */
    public int f644a;
    public s[] b;

    public t(int i) {
        if (i < 0) {
            throw new IllegalArgumentException("capacity < 0: " + i);
        }
        this.b = i == 0 ? new s[0] : new s[i];
    }

    public final boolean a(s sVar) {
        s[] sVarArr = this.b;
        int i = this.f644a;
        if (i == sVarArr.length) {
            s[] sVarArr2 = new s[i + (i < 6 ? 12 : i >> 1)];
            System.arraycopy(sVarArr, 0, sVarArr2, 0, i);
            sVarArr = sVarArr2;
            this.b = sVarArr2;
        }
        sVarArr[i] = sVar;
        this.f644a = i + 1;
        return true;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/b.class */
public class b {

    /* renamed from: a, reason: collision with root package name */
    int f579a;
    String b;
    String c;
    int d;
    long e;
    final /* synthetic */ a f;

    b(a aVar, int i, String str, String str2, c cVar) {
        this.f = aVar;
        this.f579a = i;
        this.b = str;
        this.c = str2;
        if (cVar != null) {
            this.d = cVar.c;
        }
        this.e = System.nanoTime();
    }

    public String a() {
        String str;
        if (this.b != null) {
            str = this.b + ": " + this.c;
        } else {
            str = this.c;
        }
        return str;
    }

    public String b() {
        String str = VariableScope.nullOrMissingString;
        if (this.b != null) {
            int i = -1;
            if (this.f579a != -1) {
                i = com.corrodinggames.rts.game.n.i(this.f579a);
            }
            str = "<strong> <font color='" + com.corrodinggames.rts.gameFramework.f.h(i) + "'>" + this.f.a(this.b) + ": </font></strong>";
        }
        boolean z = true;
        for (String str2 : this.c.split("\n")) {
            if (!str2.trim().equals(VariableScope.nullOrMissingString)) {
                if (z) {
                    z = false;
                } else {
                    str = str + "<br/>";
                }
                str = str + this.f.a(str2);
            }
        }
        return str;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/ak.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/ak.class */
public class ak {

    /* renamed from: a, reason: collision with root package name */
    public long f565a;
    public ArrayList b = new ArrayList();
    public al c = new al(this, "Unit Pos");
    public al d = new al(this, "Unit Dir", false);
    public al e = new al(this, "Unit Hp");
    public al f = new al(this, "Unit Id");
    public al g = new al(this, "Waypoints");
    public al h = new al(this, "Waypoints Pos");
    public al i = new al(this, "Team Credits");
    public al j = new al(this, "UnitPaths");
    public al k = new al(this, "Unit Count");
    public al l = new al(this, "Team Info", false);
    public al m = new al(this, "Team 1 Credits", false);
    public al n = new al(this, "Team 2 Credits", false);
    public al o = new al(this, "Team 3 Credits", false);
    public al p = new al(this, "Command center2", false);
    public al q = new al(this, "Command center3", false);

    public void a() {
        Iterator it = this.b.iterator();
        while (it.hasNext()) {
            ((al) it.next()).b = 0L;
        }
    }

    public void b() {
        this.f565a = 0L;
        a();
        Iterator it = com.corrodinggames.rts.gameFramework.w.er.iterator();
        while (it.hasNext()) {
            com.corrodinggames.rts.gameFramework.w wVar = (com.corrodinggames.rts.gameFramework.w) it.next();
            if (wVar instanceof com.corrodinggames.rts.game.units.y) {
                com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) wVar;
                this.f565a = (long) (this.f565a + (yVar.eo * 1000.0f));
                this.f565a = (long) (this.f565a + (yVar.ep * 1000.0f));
                this.f565a = (long) (this.f565a + (yVar.cu * 1.0f));
                this.f565a += yVar.eh;
                this.c.b += Float.floatToRawIntBits(yVar.eo);
                this.c.b += Float.floatToRawIntBits(yVar.ep);
                this.d.b += Float.floatToRawIntBits(yVar.cg);
                this.e.b = (long) (r0.b + yVar.cu);
                this.f.b += yVar.eh;
                if (wVar instanceof com.corrodinggames.rts.game.units.d.e) {
                    com.corrodinggames.rts.game.units.d.e eVar = (com.corrodinggames.rts.game.units.d.e) yVar;
                    this.p.b = (long) (r0.b + (eVar.f * 2.0f));
                    this.q.b += eVar.h;
                }
                com.corrodinggames.rts.game.units.au auVarAr = yVar.ar();
                if (auVarAr != null) {
                    this.g.b += auVarAr.j();
                    this.h.b = (long) (r0.b + (auVarAr.g() * 1000.0f));
                }
                this.j.b += yVar.aL();
            }
        }
        for (int i = 0; i < com.corrodinggames.rts.game.n.c; i++) {
            com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i);
            if (nVarK != null) {
                this.i.b += (int) nVarK.o;
                if (i == 0) {
                    this.m.b += (int) nVarK.o;
                }
                if (i == 1) {
                    this.n.b += (int) nVarK.o;
                }
                if (i == 2) {
                    this.o.b += (int) nVarK.o;
                }
                this.k.b += nVarK.w();
                this.l.b += i + (nVarK.x * 100) + (nVarK.r * 1000) + ((nVarK.w ? i : 0) * 10000);
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/w.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/w.class */
public class w {

    /* renamed from: a, reason: collision with root package name */
    public String f600a;
    public String b;
    public x c;

    public void a(String str) {
        this.f600a = str;
    }

    public void a(String str, x xVar, Exception exc) {
        this.b = str;
        this.c = xVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/ar.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/ar.class */
public class ar {
    public static int a(int i) {
        return i + 5;
    }

    public static String a() {
        if (!com.corrodinggames.rts.gameFramework.l.at()) {
            return null;
        }
        return ((com.corrodinggames.rts.game.i) com.corrodinggames.rts.gameFramework.l.B()).o();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/n.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.br;
import java.io.BufferedReader;
import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.concurrent.Callable;
import java.util.concurrent.ExecutionException;
import java.util.concurrent.ExecutorCompletionService;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;
import java.util.concurrent.Future;
import java.util.concurrent.TimeUnit;
import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.NameValuePair;
import org.apache.http.client.HttpClient;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.client.utils.URLEncodedUtils;
import org.apache.http.message.BasicNameValuePair;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/n.class */
public class n {
    static int e;
    public static String g;

    /* renamed from: a, reason: collision with root package name */
    public static boolean f591a = true;
    public static boolean b = true;
    public static String[] c = {"http://gs1.corrodinggames.com/masterserver/1.4", "http://gs4.corrodinggames.net/masterserver/1.4"};
    public static r d = new r();
    public static Object f = new Object();

    public static void a(String str) {
        if (b) {
            com.corrodinggames.rts.gameFramework.l.e(str);
        }
    }

    static void a(List list, boolean z, s sVar) {
        a(list, z, sVar, c);
    }

    static void a(List list, boolean z, s sVar, String[] strArr) {
        sVar.f = strArr.length;
        int i = 0;
        for (String str : strArr) {
            i++;
            new Thread(new u(list, sVar, str, z, i)).start();
            if (f591a) {
                com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", i + ": Started RequestsParallelRunnable thread");
            }
        }
    }

    public static String a(List list, String str) {
        if (list != null) {
            Iterator it = list.iterator();
            while (it.hasNext()) {
                NameValuePair nameValuePair = (NameValuePair) it.next();
                if (str.equals(nameValuePair.getName())) {
                    return nameValuePair.getValue();
                }
            }
            return null;
        }
        return null;
    }

    public static BufferedReader a(List list) {
        return a(list, true, c, 10, true);
    }

    public static BufferedReader a(List list, int i) {
        return a(list, true, c, i, true);
    }

    public static BufferedReader a(final List list, final boolean z, String[] strArr, int i, final boolean z2) {
        Future futurePoll;
        String strA = a(list, "action");
        ExecutorService executorServiceNewFixedThreadPool = Executors.newFixedThreadPool(strArr.length);
        try {
            ExecutorCompletionService executorCompletionService = new ExecutorCompletionService(executorServiceNewFixedThreadPool);
            ArrayList arrayList = new ArrayList();
            for (final String str : strArr) {
                arrayList.add(executorCompletionService.submit(new Callable() { // from class: com.corrodinggames.rts.gameFramework.j.n.1
                    @Override // java.util.concurrent.Callable
                    /* renamed from: a, reason: merged with bridge method [inline-methods] */
                    public t call() {
                        try {
                            n.a("Running doSingleRequest:" + str);
                            return n.a(list, str, z);
                        } catch (Exception e2) {
                            com.corrodinggames.rts.gameFramework.l.e("Error on doSingleRequest:" + str + " - " + e2.getMessage());
                            if (z2) {
                                e2.printStackTrace();
                                return null;
                            }
                            return null;
                        }
                    }
                }));
            }
            int length = strArr.length;
            t tVar = null;
            t tVar2 = null;
            t tVar3 = null;
            int i2 = 0;
            while (true) {
                if (i2 >= length) {
                    break;
                }
                try {
                    futurePoll = executorCompletionService.poll(10L, TimeUnit.SECONDS);
                } catch (InterruptedException e2) {
                } catch (ExecutionException e3) {
                    e3.printStackTrace();
                    if (e3.getCause() != null) {
                        e3.getCause().printStackTrace();
                    }
                }
                if (futurePoll == null) {
                    com.corrodinggames.rts.gameFramework.l.b("MULTI_MASTERSERVERS: poll timed out (" + strA + ")");
                    break;
                }
                t tVar4 = (t) futurePoll.get();
                if (tVar4 != null) {
                    tVar = tVar4;
                    if (tVar4.b) {
                        if (tVar4.c) {
                            tVar3 = tVar4;
                        } else {
                            tVar2 = tVar4;
                            break;
                        }
                    }
                }
                i2++;
            }
            if (tVar2 == null && tVar3 != null) {
                com.corrodinggames.rts.gameFramework.l.b("All masterserver results included an error message (" + strA + ")");
                tVar2 = tVar3;
            }
            if (tVar2 == null) {
                com.corrodinggames.rts.gameFramework.l.b("No valid result found on any masterserver (" + strA + ")");
                tVar2 = tVar;
            }
            if (tVar2 != null) {
                BufferedReader bufferedReader = tVar2.f597a;
                executorServiceNewFixedThreadPool.shutdown();
                return bufferedReader;
            }
            throw new IOException("No results found (" + strA + ")");
        } catch (Throwable th) {
            executorServiceNewFixedThreadPool.shutdown();
            throw th;
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    public static t a(List list, String str, boolean z) throws IllegalStateException, IOException {
        HttpGet httpGet;
        String str2;
        HttpResponse httpResponseExecute;
        String strA = a(list, "action");
        long jA = br.a();
        String str3 = str + "/interface";
        if (z) {
            HttpPost httpPost = new HttpPost(str3);
            httpPost.setEntity(new UrlEncodedFormEntity(list));
            httpGet = httpPost;
        } else {
            str3 = str3 + "?" + URLEncodedUtils.format(list, "utf-8");
            httpGet = new HttpGet(str3);
        }
        if (com.corrodinggames.rts.gameFramework.l.ax()) {
            str2 = "rw server";
        } else {
            str2 = "rw " + (com.corrodinggames.rts.gameFramework.l.av() ? "pc" : "android");
        }
        String strC = com.corrodinggames.rts.gameFramework.h.a.c();
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (lVarB != null) {
            str2 = str2 + " " + lVarB.c(true) + " " + strC;
        }
        httpGet.setHeader("User-Agent", str2);
        httpGet.setHeader("Language", strC);
        HttpClient httpClientA = d.a();
        try {
            httpResponseExecute = httpClientA.execute(httpGet);
        } catch (NullPointerException e2) {
            com.corrodinggames.rts.gameFramework.l.b("doRequest: httpclient.execute threw NullPointerException, running workaround");
            httpClientA = d.b();
            httpResponseExecute = httpClientA.execute(httpGet);
        }
        float fA = br.a(jA);
        HttpEntity entity = httpResponseExecute.getEntity();
        InputStream content = entity.getContent();
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
        byte[] bArr = new byte[16384];
        while (true) {
            int i = content.read(bArr, 0, bArr.length);
            if (i == -1) {
                break;
            }
            byteArrayOutputStream.write(bArr, 0, i);
        }
        byteArrayOutputStream.flush();
        content.close();
        entity.consumeContent();
        byte[] byteArray = byteArrayOutputStream.toByteArray();
        t tVar = new t();
        String strA2 = a(byteArray);
        tVar.b = strA2.startsWith("CORRODINGGAMES");
        tVar.c = strA2.contains("[FAILED]");
        if (!tVar.b || tVar.c) {
            String str4 = str3 + (strA != null ? "?action=" + strA : VariableScope.nullOrMissingString) + " (" + fA + "ms)";
            if (!"list".equals(strA)) {
                str4 = str4 + ":\n" + new String(byteArray);
            }
            com.corrodinggames.rts.gameFramework.l.e(str4);
        }
        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(new ByteArrayInputStream(byteArray)));
        d.a(httpClientA);
        tVar.f597a = bufferedReader;
        return tVar;
    }

    public static String a(byte[] bArr) {
        int length = bArr.length;
        for (int i = 0; i < bArr.length; i++) {
            if (bArr[i] == 10 || bArr[i] == 13) {
                length = i;
                break;
            }
        }
        return new String(bArr, 0, length);
    }

    public static g b(String str) throws IOException {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (str == null) {
            throw new IOException("findOrCreateServer id cannot be null");
        }
        Iterator it = lVarB.bX.bi.iterator();
        while (it.hasNext()) {
            g gVar = (g) it.next();
            if (str.equals(gVar.b)) {
                return gVar;
            }
        }
        return null;
    }

    public static g c(String str) throws IOException {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (str == null) {
            throw new IOException("findOrCreateServer id cannot be null");
        }
        g gVarB = b(str);
        if (gVarB != null) {
            return gVarB;
        }
        g gVar = new g();
        gVar.b = str;
        gVar.f584a = false;
        gVar.o = lVarB.bX.p();
        return gVar;
    }

    public static void a(Runnable runnable) {
        com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", "Load requested");
        new Thread(new q(runnable)).start();
    }

    static void a(int i, int i2) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        boolean z = false;
        synchronized (f) {
            Iterator it = lVarB.bX.bi.iterator();
            while (it.hasNext()) {
                g gVar = (g) it.next();
                if (gVar.p < i) {
                    com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", i2 + ": Removing stale server with id:" + gVar.b);
                    it.remove();
                    z = true;
                }
            }
        }
        if (z) {
            com.corrodinggames.rts.appFramework.p.l();
        }
    }

    public static void a() {
        com.corrodinggames.rts.gameFramework.l.b("GetOwnInfoRunnable", "getOwnInfoFromMasterServer");
        aq.e = 6;
        new Thread(new p()).start();
    }

    static void a(List list, String str, String str2) {
        list.add(new BasicNameValuePair(str, str2));
    }

    static void b(List list) {
        String str;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        a(list, "password_required", com.corrodinggames.rts.gameFramework.f.a(lVarB.bX.n != null));
        a(list, "created_by", lVarB.bX.y);
        a(list, "private_ip", lVarB.bX.ah());
        a(list, "port_number", Integer.toString(lVarB.bX.m));
        if (lVarB.bX.u != null) {
            a(list, "game_map", com.corrodinggames.rts.gameFramework.e.a.o(lVarB.bX.u));
        } else {
            a(list, "game_map", com.corrodinggames.rts.gameFramework.e.a.o(lVarB.bX.ay.b));
        }
        ai aiVar = lVarB.bX.ay.f562a;
        if (aiVar == null) {
            aiVar = ai.skirmishMap;
        }
        a(list, "game_mode", aiVar.name());
        if (!lVarB.bX.v) {
            if (lVarB.bX.aW) {
                str = "ingame";
            } else if (lVarB.bX.ay.p) {
                str = "locked";
            } else {
                str = "battleroom";
            }
            a(list, "game_status", str);
        } else {
            a(list, "game_status", "chat");
        }
        a(list, "player_count", Integer.toString(lVarB.bX.E()));
        String string = Integer.toString(com.corrodinggames.rts.game.n.c);
        if (lVarB.bX.v) {
        }
        a(list, "max_player_count", string);
    }

    public static void b() {
        com.corrodinggames.rts.gameFramework.l.b("StartCreateOnMasterServer", "Create requested");
        aq.b = 5;
        new Thread(new y()).start();
    }

    public static void c() {
        new Thread(new aa()).start();
    }

    public static void d() {
        com.corrodinggames.rts.gameFramework.l.b("startRemoveOnMasterServer", "Remove requested");
        new Thread(new z()).start();
    }

    public static void a(String str, String str2) {
        com.corrodinggames.rts.gameFramework.l.b("startErrorReport", "ErrorReport requested");
        v vVar = new v();
        vVar.b = str2;
        vVar.f599a = str;
        new Thread(vVar).start();
    }

    public static String a(int i) {
        if (i == 0) {
            return VariableScope.nullOrMissingString;
        }
        if (i > 0) {
            if (i < 100000) {
                return com.corrodinggames.rts.gameFramework.f.a(com.corrodinggames.rts.gameFramework.f.b("x" + i), 10);
            }
            if (i < 200000) {
                return com.corrodinggames.rts.gameFramework.f.a(com.corrodinggames.rts.gameFramework.f.b("y" + i), 11);
            }
            if (i < 300000) {
                return com.corrodinggames.rts.gameFramework.f.a(com.corrodinggames.rts.gameFramework.f.b("z" + i), 12);
            }
            if (i < 1000000) {
                return com.corrodinggames.rts.gameFramework.f.a(com.corrodinggames.rts.gameFramework.f.b("xx" + i), 13) + "-" + com.corrodinggames.rts.gameFramework.l.B().bX.g(i - 300000);
            }
            if (i < 2000000) {
                return com.corrodinggames.rts.gameFramework.f.a(com.corrodinggames.rts.gameFramework.f.b("yy" + i), 14) + "-" + com.corrodinggames.rts.gameFramework.l.B().bX.g(i - 1000000);
            }
            return "NA";
        }
        return "NA";
    }

    public static void a(w wVar, String str, int i, String str2) {
        com.corrodinggames.rts.gameFramework.l.e("getGameServerInfoFromMasterServer");
        ab abVar = new ab();
        abVar.f550a = wVar;
        abVar.b = str;
        abVar.c = i;
        abVar.d = str2;
        new Thread(abVar).start();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/ag.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/ag.class */
public class ag extends Exception {
}


================================================================================
// FILE_PATH: ./gameFramework/j/z.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.BufferedReader;
import java.io.IOException;
import java.util.ArrayList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/z.class */
class z implements Runnable {
    z() {
    }

    @Override // java.lang.Runnable
    public void run() throws IOException {
        com.corrodinggames.rts.gameFramework.l.aq();
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.gameFramework.l.b("startRemoveOnMasterServer", "Starting remove");
        try {
            ArrayList arrayList = new ArrayList(2);
            n.a(arrayList, "action", "remove");
            String str = lVarB.bX.aS;
            if (str == null) {
                com.corrodinggames.rts.gameFramework.l.b("startRemoveOnMasterServer", "No game id");
                return;
            }
            n.a(arrayList, "id", str);
            n.a(arrayList, "private_token", lVarB.bX.aR);
            BufferedReader bufferedReaderA = n.a(arrayList);
            String line = bufferedReaderA.readLine();
            if (line == null || !line.contains("CORRODINGGAMES")) {
                com.corrodinggames.rts.gameFramework.l.b("startRemoveOnMasterServer", "Error bad header returned from the master server: " + line);
                return;
            }
            com.corrodinggames.rts.gameFramework.l.b("startRemoveOnMasterServer", "Remove server response was:" + bufferedReaderA.readLine());
            com.corrodinggames.rts.gameFramework.l.b("startRemoveOnMasterServer", "Completed load from master server without error");
        } catch (IOException e) {
            com.corrodinggames.rts.gameFramework.l.b("startRemoveOnMasterServer", "Remove failed");
            e.printStackTrace();
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/af.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.IOException;
import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetAddress;
import java.net.InetSocketAddress;
import java.net.SocketAddress;
import java.net.SocketException;
import java.util.Timer;
import java.util.TimerTask;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/af.class */
final class af implements Runnable {

    /* renamed from: a, reason: collision with root package name */
    boolean f560a;
    DatagramSocket b;
    Timer c;
    final /* synthetic */ ad d;

    @Override // java.lang.Runnable
    public void run() throws IOException {
        try {
            this.d.d("starting socket for broadcast..");
            this.b = new DatagramSocket((SocketAddress) null);
            this.b.setReuseAddress(true);
            this.b.bind(new InetSocketAddress(this.d.t));
            this.d.d("reading..");
            byte[] bArr = new byte[1500];
            DatagramPacket datagramPacket = new DatagramPacket(bArr, bArr.length);
            TimerTask timerTask = new TimerTask() { // from class: com.corrodinggames.rts.gameFramework.j.af.1
                @Override // java.util.TimerTask, java.lang.Runnable
                public void run() throws IOException {
                    if (!af.this.d.C) {
                        af.this.a();
                    }
                }
            };
            this.c = new Timer();
            this.c.scheduleAtFixedRate(timerTask, 20L, 5000L);
            while (this.f560a) {
                this.b.receive(datagramPacket);
                String str = new String(datagramPacket.getData(), datagramPacket.getOffset(), datagramPacket.getLength());
                this.d.d("accepted udp socket..");
                k kVar = new k(str);
                if (!kVar.l().equals("com.corrodinggames.rts")) {
                    this.d.d("ignoring udp packet: MAGIC_GAME_ID doesn't match");
                } else {
                    int iF = kVar.f();
                    kVar.f();
                    String strL = kVar.l();
                    if (strL.equals("ping")) {
                        this.d.d("got ping");
                        if (this.d.C) {
                            as asVar = new as();
                            asVar.c("com.corrodinggames.rts");
                            asVar.a(this.d.e);
                            asVar.a(0);
                            asVar.c("pong");
                            asVar.a(this.d.m);
                            String strC = asVar.c();
                            this.b.send(new DatagramPacket(strC.getBytes(), strC.length(), datagramPacket.getAddress(), this.d.t));
                        } else {
                            this.d.d("not server");
                        }
                    } else if (!strL.equals("pong")) {
                        this.d.d("got pong");
                        g gVar = new g();
                        gVar.f584a = true;
                        gVar.g = kVar.f();
                        gVar.c = datagramPacket.getAddress().toString();
                        gVar.j = VariableScope.nullOrMissingString + iF;
                        this.d.a(gVar);
                    } else {
                        this.d.d("ignoring udp packet: unknown mode:" + strL);
                    }
                }
            }
        } catch (SocketException e) {
            if (this.f560a) {
                throw new RuntimeException(e);
            }
            e.printStackTrace();
        } catch (IOException e2) {
            throw new RuntimeException(e2);
        }
    }

    public void a() throws IOException {
        this.d.d("sending ping");
        if (this.b == null) {
            this.d.d("failed to send a broadcast ping: datagramSocket is null");
            return;
        }
        InetAddress inetAddressAl = this.d.al();
        if (inetAddressAl == null) {
            this.d.d("failed to send a broadcast ping: could not get a broadcast address");
            return;
        }
        try {
            as asVar = new as();
            asVar.c("com.corrodinggames.rts");
            asVar.a(this.d.e);
            asVar.a(0);
            asVar.c("ping");
            String strC = asVar.c();
            this.d.d("sending ping on :" + inetAddressAl.toString());
            this.b.send(new DatagramPacket(strC.getBytes(), strC.length(), inetAddressAl, this.d.t));
        } catch (IOException e) {
            e.printStackTrace();
            this.d.d("failed to send a broadcast ping, IOException");
        }
    }

    public void b() {
        this.f560a = false;
        if (this.b != null) {
            this.b.close();
        }
        if (this.c != null) {
            this.c.cancel();
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/o.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.util.TimerTask;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/o.class */
class o extends TimerTask {

    /* renamed from: a, reason: collision with root package name */
    int f593a;

    o(int i) {
        this.f593a = i;
    }

    @Override // java.util.TimerTask, java.lang.Runnable
    public void run() {
        n.a(this.f593a, -1);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/as.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import android.graphics.PointF;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.ByteArrayOutputStream;
import java.io.DataOutputStream;
import java.io.File;
import java.io.IOException;
import java.io.InputStream;
import java.util.Iterator;
import java.util.LinkedList;
import java.util.ListIterator;
import java.util.zip.DataFormatException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/as.class */
public class as {
    ByteArrayOutputStream b;
    DataOutputStream c;

    /* renamed from: a, reason: collision with root package name */
    private DataOutputStream f573a;
    private LinkedList e;
    public int d;

    public void a() throws IOException {
        ListIterator listIterator = this.e.listIterator(this.e.size());
        while (listIterator.hasPrevious()) {
            ((at) listIterator.previous()).a();
        }
        this.c.flush();
        if (this.b != null) {
            this.b.flush();
        }
    }

    void b() {
        this.f573a = this.c;
    }

    public as(int i) {
        this();
        this.d = i;
    }

    public as() {
        this.e = new LinkedList();
        this.d = 999999;
        this.b = new ByteArrayOutputStream();
        this.c = new DataOutputStream(this.b);
        b();
    }

    public as(DataOutputStream dataOutputStream) {
        this.e = new LinkedList();
        this.d = 999999;
        this.c = dataOutputStream;
        b();
    }

    public au b(int i) {
        return a(i, -1);
    }

    public au a(int i, int i2) {
        try {
            a();
            au auVar = new au(i);
            auVar.c = this.b.toByteArray();
            auVar.d = i2;
            return auVar;
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public String c() {
        try {
            a();
            return this.b.toString();
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public byte[] d() {
        try {
            a();
            return this.b.toByteArray();
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public void c(int i) throws IOException {
        this.f573a.writeByte(i);
    }

    public void a(boolean z) throws IOException {
        this.f573a.writeBoolean(z);
    }

    public void a(int i) throws IOException {
        this.f573a.writeInt(i);
    }

    public void a(float f) throws IOException {
        this.f573a.writeFloat(f);
    }

    public void a(double d) throws IOException {
        this.f573a.writeDouble(d);
    }

    public void a(long j) throws IOException {
        this.f573a.writeLong(j);
    }

    public void b(String str) {
        a(str != null);
        if (str != null) {
            c(str);
        }
    }

    public void a(Integer num) throws IOException {
        a(num != null);
        if (num != null) {
            a(num.intValue());
        }
    }

    public void c(String str) {
        this.f573a.writeUTF(str);
    }

    public void a(com.corrodinggames.rts.game.units.custom.g gVar) throws IOException {
        if (gVar == null) {
            this.f573a.writeUTF(VariableScope.nullOrMissingString);
        }
        this.f573a.writeUTF(gVar.toString());
    }

    public void a(com.corrodinggames.rts.gameFramework.w wVar) throws IOException {
        if (wVar == null) {
            this.f573a.writeLong(-1L);
        } else {
            this.f573a.writeLong(wVar.eh);
        }
    }

    public void b(com.corrodinggames.rts.gameFramework.w wVar) throws IOException {
        if (wVar != null && !wVar.ej) {
            this.f573a.writeLong(wVar.eh);
        } else {
            this.f573a.writeLong(-1L);
        }
    }

    public void a(com.corrodinggames.rts.gameFramework.utility.m mVar) throws IOException {
        if (mVar == null) {
            a(0);
            return;
        }
        a(mVar.size());
        Iterator it = mVar.iterator();
        while (it.hasNext()) {
            b((com.corrodinggames.rts.gameFramework.w) it.next());
        }
    }

    public void b(com.corrodinggames.rts.game.units.am amVar) throws IOException {
        if (amVar != null && !amVar.ej && !amVar.bV) {
            a((com.corrodinggames.rts.gameFramework.w) amVar);
        } else {
            a((com.corrodinggames.rts.gameFramework.w) null);
        }
    }

    public void a(com.corrodinggames.rts.game.units.am amVar) throws IOException {
        if (amVar != null && !amVar.ej) {
            a((com.corrodinggames.rts.gameFramework.w) amVar);
        } else {
            a((com.corrodinggames.rts.gameFramework.w) null);
        }
    }

    public void a(com.corrodinggames.rts.game.units.y yVar) throws IOException {
        if (yVar != null && !yVar.ej) {
            a((com.corrodinggames.rts.gameFramework.w) yVar);
        } else {
            a((com.corrodinggames.rts.gameFramework.w) null);
        }
    }

    public void a(PointF pointF) throws IOException {
        a(pointF != null);
        if (pointF != null) {
            a(pointF.f45a);
            a(pointF.b);
        }
    }

    public void a(Enum r4) throws IOException {
        if (r4 == null) {
            this.f573a.writeInt(-1);
        } else {
            this.f573a.writeInt(r4.ordinal());
        }
    }

    public void a(com.corrodinggames.rts.game.units.as asVar) throws IOException {
        if (asVar == null) {
            this.f573a.writeInt(-1);
        } else if (asVar instanceof com.corrodinggames.rts.game.units.custom.l) {
            this.f573a.writeInt(-2);
            c(((com.corrodinggames.rts.game.units.custom.l) asVar).M);
        } else {
            this.f573a.writeInt(((com.corrodinggames.rts.game.units.ar) asVar).ordinal());
        }
    }

    public void a(c cVar) throws IOException {
        if (cVar == null) {
            this.f573a.writeInt(0);
        } else {
            this.f573a.writeInt(cVar.c);
        }
    }

    public void a(com.corrodinggames.rts.game.n nVar) throws IOException {
        this.f573a.writeByte(nVar.k);
    }

    public void a(File file) throws IOException {
        com.corrodinggames.rts.gameFramework.utility.j jVarA = com.corrodinggames.rts.gameFramework.e.a.a(file);
        if (jVarA == null) {
            throw new IOException("Failed to read save file data");
        }
        try {
            a(jVarA, (int) file.length());
            if (jVarA != null) {
                jVarA.close();
            }
        } catch (Throwable th) {
            if (jVarA != null) {
                jVarA.close();
            }
            throw th;
        }
    }

    public void a(k kVar) throws IOException {
        InputStream inputStreamW = kVar.w();
        try {
            inputStreamW.reset();
        } catch (IOException e) {
            e.printStackTrace();
        }
        a(inputStreamW, inputStreamW.available());
    }

    public void a(InputStream inputStream, int i) throws IOException {
        int i2 = 0;
        a(i);
        byte[] bArr = new byte[16384];
        while (true) {
            int i3 = inputStream.read(bArr, 0, bArr.length);
            if (i3 != -1) {
                if (i2 + i3 > i) {
                    int i4 = i - i2;
                    if (i4 < 0) {
                        ad.g("writeStream: bytesTillFull is " + i4);
                        return;
                    } else {
                        this.f573a.write(bArr, 0, i4);
                        return;
                    }
                }
                this.f573a.write(bArr, 0, i3);
                i2 += i3;
            } else {
                return;
            }
        }
    }

    public void a(ByteArrayOutputStream byteArrayOutputStream) throws IOException {
        a(byteArrayOutputStream.size());
        byteArrayOutputStream.writeTo(this.f573a);
    }

    public void a(byte[] bArr) throws IOException {
        a(bArr.length);
        this.f573a.write(bArr);
    }

    public void b(byte[] bArr) {
        this.f573a.write(bArr);
    }

    public void a(short s) throws IOException {
        this.f573a.writeShort(s);
    }

    public void e() throws IOException {
        a((short) 12345);
    }

    public void d(String str) {
    }

    public boolean f() {
        return false;
    }

    public void e(String str) {
        a(str, false);
    }

    public void a(String str, boolean z) {
        at atVar = new at(z);
        atVar.c = str;
        this.e.add(atVar);
        this.f573a = ((at) this.e.getLast()).e;
    }

    public void a(String str) throws IOException {
        at atVar = (at) this.e.removeLast();
        if (!atVar.c.equals(str)) {
            com.corrodinggames.rts.gameFramework.l.b("OutputNetStream:endBlock", "Name does not match: expected" + str + " , got:" + atVar.c);
        }
        atVar.a();
        if (this.e.isEmpty()) {
            this.f573a = this.c;
        } else {
            this.f573a = ((at) this.e.getLast()).e;
        }
        this.f573a.writeUTF(atVar.c);
        a(atVar.d);
        try {
            atVar.b();
        } catch (Exception e) {
            if (e instanceof DataFormatException) {
                if (!com.corrodinggames.rts.gameFramework.l.aZ) {
                    com.corrodinggames.rts.gameFramework.l.b("DataFormatException error calling streamBlock.close() (this is expected on android 4.4)");
                }
            } else {
                com.corrodinggames.rts.gameFramework.l.b("Error calling streamBlock.close() to clean up memory");
                e.printStackTrace();
            }
        }
    }

    public int g() {
        return this.d;
    }

    public void h() throws IOException {
        this.c = null;
        this.f573a = null;
        try {
            if (this.b != null) {
                this.b.close();
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
        this.b = null;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/v.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import android.os.Build;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.IOException;
import java.util.ArrayList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/v.class */
class v implements Runnable {

    /* renamed from: a, reason: collision with root package name */
    String f599a;
    String b;

    v() {
    }

    @Override // java.lang.Runnable
    public void run() {
        long jV = com.corrodinggames.rts.gameFramework.l.V();
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.gameFramework.l.b("SendErrorReport", "Starting");
        try {
            try {
                try {
                    ArrayList arrayList = new ArrayList(2);
                    n.a(arrayList, "action", "error_report");
                    n.a(arrayList, "game_version", Integer.toString(lVarB.c(false)));
                    n.a(arrayList, "game_version_internal", Integer.toString(lVarB.c(true)));
                    n.a(arrayList, "game_version_string", lVarB.r());
                    n.a(arrayList, "package_name", lVarB.l());
                    n.a(arrayList, "installation_source", lVarB.m());
                    String str = VariableScope.nullOrMissingString + Build.VERSION.SDK_INT;
                    if (com.corrodinggames.rts.gameFramework.l.av()) {
                        str = "s:0;";
                        if (com.corrodinggames.rts.gameFramework.o.a.a().e()) {
                            str = "s:1;";
                        }
                    }
                    if (com.corrodinggames.rts.gameFramework.l.av() || com.corrodinggames.rts.gameFramework.l.aZ) {
                        n.a(arrayList, "system_version", System.getProperty("os.name") + " - " + System.getProperty("os.version"));
                    }
                    n.a(arrayList, "sdk_version", str);
                    n.a(arrayList, "device_model", lVarB.G());
                    n.a(arrayList, "build_version", lVarB.H());
                    n.a(arrayList, "release_version", com.corrodinggames.rts.gameFramework.f.a(com.corrodinggames.rts.gameFramework.l.as));
                    n.a(arrayList, "dedicated_server", com.corrodinggames.rts.gameFramework.f.a(com.corrodinggames.rts.gameFramework.l.aU));
                    String str2 = lVarB.bX != null ? lVarB.bX.aR : "NA";
                    n.a(arrayList, "private_token", str2);
                    n.a(arrayList, "private_token_2", com.corrodinggames.rts.gameFramework.f.b(com.corrodinggames.rts.gameFramework.f.b(str2)));
                    n.a(arrayList, "message", this.f599a);
                    n.a(arrayList, "stacktrace", this.b);
                    com.corrodinggames.rts.gameFramework.l.b("SendErrorReport", "making request");
                    String line = n.a(arrayList).readLine();
                    if (line == null || !line.contains("CORRODINGGAMES")) {
                        com.corrodinggames.rts.gameFramework.l.b("StartCreateOnMasterServer", "Error bad header returned from the master server: " + line);
                        com.corrodinggames.rts.gameFramework.l.b("SendErrorReport", "took: " + ((com.corrodinggames.rts.gameFramework.l.V() - jV) / 1000000.0f) + " seconds");
                    } else {
                        com.corrodinggames.rts.gameFramework.l.b("SendErrorReport", "Send trace successfully");
                        com.corrodinggames.rts.gameFramework.l.b("SendErrorReport", "took: " + ((com.corrodinggames.rts.gameFramework.l.V() - jV) / 1000000.0f) + " seconds");
                    }
                } catch (Exception e) {
                    e.printStackTrace();
                    com.corrodinggames.rts.gameFramework.l.b("SendErrorReport", "took: " + ((com.corrodinggames.rts.gameFramework.l.V() - jV) / 1000000.0f) + " seconds");
                }
            } catch (IOException e2) {
                e2.printStackTrace();
                com.corrodinggames.rts.gameFramework.l.b("SendErrorReport", "took: " + ((com.corrodinggames.rts.gameFramework.l.V() - jV) / 1000000.0f) + " seconds");
            }
        } catch (Throwable th) {
            com.corrodinggames.rts.gameFramework.l.b("SendErrorReport", "took: " + ((com.corrodinggames.rts.gameFramework.l.V() - jV) / 1000000.0f) + " seconds");
            throw th;
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/aj.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/aj.class */
public class aj {

    /* renamed from: a, reason: collision with root package name */
    String f564a;
    long b;
    String c;

    public String a() {
        return this.c != null ? this.c : "Active ban";
    }

    public float b() {
        return (this.b - System.currentTimeMillis()) / 1000.0f;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/c.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.IOException;
import java.net.InetAddress;
import java.net.Socket;
import java.util.concurrent.ConcurrentLinkedQueue;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/c.class */
public class c {
    private final ad W;
    public int c;
    public Socket d;
    InetAddress e;
    public long g;
    public boolean h;
    public boolean i;
    public c j;
    au l;
    public String m;
    public String n;
    public String o;
    public boolean p;
    public boolean q;
    public boolean r;
    public boolean s;
    public boolean t;
    public boolean u;
    public boolean v;
    public boolean w;
    public int x;
    public int y;
    public com.corrodinggames.rts.game.e z;
    d F;
    e G;
    Thread H;
    Thread I;
    public String L;
    public int M;
    public boolean N;
    public boolean O;
    public int P;
    public boolean Q;
    public int R;
    public long S;
    public boolean T;
    volatile int U;
    volatile int V;

    /* renamed from: a, reason: collision with root package name */
    volatile boolean f580a = false;
    volatile boolean b = false;
    ConcurrentLinkedQueue f = new ConcurrentLinkedQueue();
    public int k = -1;
    int A = -1;
    long B = -1;
    boolean C = false;
    boolean D = false;
    public int E = 999999;
    boolean J = false;
    boolean K = false;

    public c(ad adVar, Socket socket) {
        this.W = adVar;
        this.d = socket;
        synchronized (this.W.aQ) {
            this.c = this.W.aP;
            this.W.aP++;
        }
        this.M = com.corrodinggames.rts.gameFramework.f.a(1, 1000000);
    }

    public boolean a() {
        if (this.S < System.currentTimeMillis() - 10000) {
            this.S = System.currentTimeMillis();
            this.R = 0;
        }
        if (this.R > 100) {
            if (!this.T) {
                this.T = true;
                c("Command limit was reached");
                return true;
            }
            return true;
        }
        this.R++;
        return false;
    }

    public int b() {
        if (this.B == -1) {
            return -2;
        }
        if (this.B < System.currentTimeMillis() - 5000) {
            return -1;
        }
        return this.A;
    }

    int c() {
        com.corrodinggames.rts.game.e eVar = this.z;
        if (eVar != null) {
            return eVar.k;
        }
        return -1;
    }

    public synchronized void d() {
        this.G = new e(this);
        this.I = new Thread(this.G);
        this.I.setDaemon(true);
        this.I.start();
        this.F = new d(this);
        this.H = new Thread(this.F);
        this.H.setDaemon(true);
        this.H.start();
    }

    private void i() {
        com.corrodinggames.rts.game.e eVar;
        this.f580a = true;
        if (this.W.C && !this.W.n() && (eVar = this.z) != null) {
            this.z = null;
            if (this.W.d(eVar) == null) {
                eVar.I();
                this.W.P();
                com.corrodinggames.rts.appFramework.n.o();
            }
        }
        if (this.H != null) {
            this.H.interrupt();
        }
        this.W.b(this);
        this.p = false;
        if (this.q) {
            this.W.c(this, "Closing");
        }
    }

    private synchronized void j() {
        if (this.f580a) {
            return;
        }
        this.b = true;
        if (this.G != null) {
            this.G.a();
        }
        if (this.H != null) {
            this.H.interrupt();
        }
        this.W.b(this);
    }

    public void a(String str) {
        as asVar = new as();
        if (str == null) {
            str = "NULL";
        }
        try {
            asVar.c(str);
            a(asVar.b(111));
            j();
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public synchronized void a(boolean z, boolean z2) throws IOException {
        a(z, z2, "Time out");
    }

    public String e() {
        String str = "<null>";
        if (this.z != null) {
            str = this.z.v;
        }
        return str;
    }

    public String f() {
        InetAddress inetAddress;
        if (this.j != null) {
            return this.n;
        }
        try {
            Socket socket = this.d;
            if (socket != null && (inetAddress = socket.getInetAddress()) != null) {
                return inetAddress.getHostAddress();
            }
            return null;
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
    }

    public String g() {
        if (this.j != null) {
            return this.n == null ? "<forwarded unknown>" : this.n;
        }
        String hostAddress = "<no socket>";
        try {
            Socket socket = this.d;
            if (socket != null) {
                hostAddress = "<no bond socket>";
                InetAddress inetAddress = socket.getInetAddress();
                if (inetAddress != null) {
                    hostAddress = inetAddress.getHostAddress();
                }
            }
            return hostAddress;
        } catch (Exception e) {
            e.printStackTrace();
            return "<socket error>";
        }
    }

    public synchronized void a(boolean z, boolean z2, String str) throws IOException {
        if (!this.f580a) {
            c("handleRemoteDisconnect");
            String str2 = null;
            if (this.z != null) {
                str2 = this.z.v;
            }
            String str3 = null;
            if (this.z != null) {
                String str4 = "player";
                String str5 = VariableScope.nullOrMissingString;
                if (this.z.b()) {
                    str4 = "spectator";
                } else if (this.W.aW) {
                    str5 = this.z.a(false, false) == 0 ? " (Had no units)" : " (Team " + this.z.h() + ")";
                }
                str3 = str4 + " '" + this.z.v + "' disconnected" + str5;
            } else if (this.p) {
                if (this.s && this.q) {
                    str3 = "relay server disconnected";
                } else {
                    str3 = "a player disconnected";
                }
            }
            if (!this.W.C) {
                str3 = "The server disconnected";
            }
            if (str3 != null && str != null) {
                str3 = str3 + "  (" + ad.i(str) + ")";
            }
            i();
            if (str3 != null) {
                boolean z3 = false;
                if (this.z != null && this.W.C && this.W.d(this.z) != null) {
                    z3 = true;
                }
                if (!z3) {
                    if (!this.W.C) {
                        this.W.f(str3);
                    } else {
                        this.W.j(str3);
                    }
                } else {
                    c("Not sending: '" + str3 + "' still another active connection");
                }
            }
            this.W.d.b(this, str2);
        } else {
            c("handleRemoteDisconnect: connection is already disconnecting");
        }
        if (!z2 && this.G != null) {
            this.G.a();
        }
        if (z2) {
            this.J = true;
        }
        if (z) {
            this.K = true;
        }
        if (this.J && this.K) {
            try {
                this.d.close();
            } catch (IOException e) {
                com.corrodinggames.rts.gameFramework.l.a("Error while closing network socket", (Throwable) e);
            }
            this.I = null;
            this.H = null;
            this.G = null;
            this.F = null;
            if (this.f != null) {
                this.f.clear();
            }
        }
    }

    public void a(String str, Throwable th) {
        com.corrodinggames.rts.gameFramework.l.a(d(str), th);
    }

    public void b(String str) {
        com.corrodinggames.rts.gameFramework.l.b(d(str));
    }

    public void c(String str) {
        com.corrodinggames.rts.gameFramework.l.e(d(str));
    }

    public String d(String str) {
        String str2 = "id:" + this.c + ": " + str;
        com.corrodinggames.rts.game.e eVar = this.z;
        if (eVar != null) {
            str2 = str2 + " (Player:" + eVar.v + ")";
        }
        return str2;
    }

    public void a(au auVar) {
        if (this.G == null && this.f580a) {
            return;
        }
        this.G.a(auVar);
    }

    public boolean h() {
        return !this.f580a;
    }

    public void finalize() throws IOException {
        try {
            if (this.d == null || this.d.isClosed()) {
                return;
            }
            com.corrodinggames.rts.gameFramework.l.e("Connection::finalize called on unclosed socket (index:" + this.c + ")");
            if (this.d.getInetAddress() == null) {
                com.corrodinggames.rts.gameFramework.l.e("Skipping possible steam socket");
            }
            try {
                this.d.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        } catch (RuntimeException e2) {
            e2.printStackTrace();
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/at.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.BufferedOutputStream;
import java.io.ByteArrayOutputStream;
import java.io.DataOutputStream;
import java.io.OutputStream;
import java.util.zip.GZIPOutputStream;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/at.class */
public class at {

    /* renamed from: a, reason: collision with root package name */
    public GZIPOutputStream f574a;
    public BufferedOutputStream b;
    public String c;
    public DataOutputStream e;
    public boolean f = false;
    public ByteArrayOutputStream d = new ByteArrayOutputStream();

    public void a() {
        this.e.flush();
        if (this.b != null) {
            this.b.flush();
        }
        if (this.f574a != null) {
            this.f574a.finish();
        }
    }

    public void b() {
        if (!this.f) {
            this.e.close();
        } else {
            com.corrodinggames.rts.gameFramework.l.g("TODO: Cannot yet close wrapped stream");
        }
    }

    public at(boolean z) {
        OutputStream outputStream;
        if (z) {
            this.f574a = new GZIPOutputStream(this.d);
            this.b = new BufferedOutputStream(this.f574a);
            outputStream = this.b;
        } else {
            outputStream = this.d;
        }
        this.e = new DataOutputStream(outputStream);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/h.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.InputStream;
import java.io.OutputStream;
import java.net.InetAddress;
import java.net.Socket;
import java.net.SocketAddress;
import java.nio.channels.SocketChannel;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/h.class */
public class h extends Socket {

    /* renamed from: a, reason: collision with root package name */
    c f585a;
    int b;
    boolean c = false;
    i d = new i(this);
    j e = new j(this);

    public void a(au auVar) {
        this.f585a.a(new ay(this.b, auVar));
    }

    public h(c cVar, int i) {
        this.f585a = cVar;
        this.b = i;
    }

    @Override // java.net.Socket
    public void bind(SocketAddress socketAddress) {
        throw new RuntimeException("Not supported");
    }

    @Override // java.net.Socket, java.io.Closeable, java.lang.AutoCloseable
    public synchronized void close() {
        if (!this.c) {
            this.c = true;
            com.corrodinggames.rts.gameFramework.l.e("Closing steam socket");
        }
        if (this.d != null) {
            this.d.a(new byte[0]);
        }
    }

    @Override // java.net.Socket
    public void connect(SocketAddress socketAddress, int i) {
        throw new RuntimeException("Not supported");
    }

    @Override // java.net.Socket
    public void connect(SocketAddress socketAddress) {
        throw new RuntimeException("Not supported");
    }

    @Override // java.net.Socket
    public SocketChannel getChannel() {
        throw new RuntimeException("Not supported");
    }

    @Override // java.net.Socket
    public InetAddress getInetAddress() {
        return null;
    }

    @Override // java.net.Socket
    public InetAddress getLocalAddress() {
        return null;
    }

    @Override // java.net.Socket
    public SocketAddress getLocalSocketAddress() {
        return null;
    }

    @Override // java.net.Socket
    public SocketAddress getRemoteSocketAddress() {
        return null;
    }

    @Override // java.net.Socket
    public InputStream getInputStream() {
        return this.d;
    }

    @Override // java.net.Socket
    public boolean getKeepAlive() {
        return true;
    }

    @Override // java.net.Socket
    public int getLocalPort() {
        return 5555;
    }

    @Override // java.net.Socket
    public boolean getOOBInline() {
        return false;
    }

    @Override // java.net.Socket
    public OutputStream getOutputStream() {
        return this.e;
    }

    @Override // java.net.Socket
    public int getPort() {
        return 5555;
    }

    @Override // java.net.Socket
    public synchronized int getReceiveBufferSize() {
        return 512;
    }

    @Override // java.net.Socket
    public boolean getReuseAddress() {
        return false;
    }

    @Override // java.net.Socket
    public synchronized int getSendBufferSize() {
        return 512;
    }

    @Override // java.net.Socket
    public int getSoLinger() {
        return 0;
    }

    @Override // java.net.Socket
    public synchronized int getSoTimeout() {
        return 0;
    }

    @Override // java.net.Socket
    public boolean getTcpNoDelay() {
        return true;
    }

    @Override // java.net.Socket
    public int getTrafficClass() {
        return 0;
    }

    @Override // java.net.Socket
    public boolean isBound() {
        return true;
    }

    @Override // java.net.Socket
    public boolean isClosed() {
        return this.c;
    }

    @Override // java.net.Socket
    public boolean isConnected() {
        return true;
    }

    @Override // java.net.Socket
    public boolean isInputShutdown() {
        return this.d != null;
    }

    @Override // java.net.Socket
    public boolean isOutputShutdown() {
        return this.e != null;
    }

    @Override // java.net.Socket
    public void sendUrgentData(int i) {
    }

    @Override // java.net.Socket
    public void setKeepAlive(boolean z) {
    }

    @Override // java.net.Socket
    public void setOOBInline(boolean z) {
    }

    @Override // java.net.Socket
    public void setPerformancePreferences(int i, int i2, int i3) {
    }

    @Override // java.net.Socket
    public synchronized void setReceiveBufferSize(int i) {
    }

    @Override // java.net.Socket
    public void setReuseAddress(boolean z) {
    }

    @Override // java.net.Socket
    public synchronized void setSendBufferSize(int i) {
    }

    @Override // java.net.Socket
    public void setSoLinger(boolean z, int i) {
    }

    @Override // java.net.Socket
    public synchronized void setSoTimeout(int i) {
    }

    @Override // java.net.Socket
    public void setTcpNoDelay(boolean z) {
    }

    @Override // java.net.Socket
    public void setTrafficClass(int i) {
    }

    @Override // java.net.Socket
    public void shutdownInput() {
    }

    @Override // java.net.Socket
    public void shutdownOutput() {
    }

    @Override // java.net.Socket
    public String toString() {
        return "<ForwardedSocket>";
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/aa.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.BufferedReader;
import java.io.IOException;
import java.util.ArrayList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/aa.class */
class aa implements Runnable {
    aa() {
    }

    @Override // java.lang.Runnable
    public void run() throws IOException {
        com.corrodinggames.rts.gameFramework.l.aq();
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        try {
            ArrayList arrayList = new ArrayList(2);
            n.a(arrayList, "action", "update");
            String str = lVarB.bX.aS;
            if (str == null) {
                com.corrodinggames.rts.gameFramework.l.b("startUpdateOnMasterServer", "No game id");
                return;
            }
            n.a(arrayList, "id", str);
            n.a(arrayList, "private_token", lVarB.bX.aR);
            if (com.corrodinggames.rts.gameFramework.l.ax()) {
                n.a(arrayList, "check_port", "false");
            }
            n.b(arrayList);
            BufferedReader bufferedReaderA = n.a(arrayList);
            String line = bufferedReaderA.readLine();
            if (line == null || !line.contains("CORRODINGGAMES")) {
                com.corrodinggames.rts.gameFramework.l.b("startUpdateOnMasterServer", "Error bad header returned from the master server: " + line);
                return;
            }
            String line2 = bufferedReaderA.readLine();
            if (!"GAME UPDATED".equals(line2)) {
                com.corrodinggames.rts.gameFramework.l.b("startUpdateOnMasterServer", "Update server response was:" + line2);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/ax.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.BufferedOutputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.OutputStream;
import java.io.PrintStream;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/ax.class */
public class ax {

    /* renamed from: a, reason: collision with root package name */
    public BufferedOutputStream f578a;
    public String b;
    public PrintStream d;
    public boolean e = false;
    public ByteArrayOutputStream c = new ByteArrayOutputStream();

    public void a() throws IOException {
        this.d.flush();
        if (this.f578a != null) {
            this.f578a.flush();
        }
    }

    public void b() {
        if (!this.e) {
            this.d.close();
        } else {
            com.corrodinggames.rts.gameFramework.l.g("TODO: Cannot yet close wrapped stream");
        }
    }

    public ax(boolean z) {
        OutputStream outputStream;
        if (z) {
            this.f578a = new BufferedOutputStream(this.c);
            outputStream = this.f578a;
        } else {
            outputStream = this.c;
        }
        this.d = new PrintStream(outputStream);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/d.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.DataInputStream;
import java.io.EOFException;
import java.io.IOException;
import java.lang.reflect.InvocationTargetException;
import java.net.SocketException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/d.class */
final class d implements Runnable {

    /* renamed from: a, reason: collision with root package name */
    Boolean f581a;
    final /* synthetic */ c b;

    private d(c cVar) {
        this.b = cVar;
        this.f581a = true;
    }

    @Override // java.lang.Runnable
    public void run() throws IllegalAccessException, InterruptedException, InstantiationException, ClassNotFoundException, IOException, IllegalArgumentException, InvocationTargetException {
        String message;
        com.corrodinggames.rts.gameFramework.l.aq();
        Thread.currentThread().setName("ReceiveWorker-" + this.b.g());
        try {
            a();
        } catch (EOFException e) {
            this.b.a("network:ReceiveWorker: EOF reading packet", e);
        } catch (IOException e2) {
            if (!this.b.f580a) {
                e2.printStackTrace();
            }
            if (com.corrodinggames.rts.gameFramework.l.aZ && (e2 instanceof SocketException) && !this.b.f580a) {
                com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
                if (!lVarB.bX.C && lVarB.bX.aW && (message = e2.getMessage()) != null && message.contains("EBADF")) {
                    lVarB.i("Warning: This disconnect likely due to iOS removing sockets of background apps. Avoid minimising the game in multiplayer. Note: Games can be rejoined.");
                }
            }
            this.b.c("network:ReceiveWorker: " + e2.getMessage());
        } catch (OutOfMemoryError e3) {
            com.corrodinggames.rts.gameFramework.l.c(e3);
            this.b.c("network:ReceiveWorker OutOfMemoryError: " + e3.getMessage());
        }
        this.b.a(true, false);
    }

    void a() throws IllegalAccessException, InterruptedException, InstantiationException, IOException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        DataInputStream dataInputStream = new DataInputStream(this.b.d.getInputStream());
        while (this.f581a.booleanValue() && !this.b.f580a && !this.b.d.isClosed()) {
            int i = dataInputStream.readInt();
            int i2 = dataInputStream.readInt();
            if (i > 20000000) {
                this.b.b("readData(): new packet of type:" + i2 + " has size of:" + i);
            }
            if (i > 10000) {
                int i3 = 50000000;
                if (this.b.W.C) {
                    i3 = 1000000;
                }
                if (!this.b.p) {
                    i3 = 10000;
                }
                if (i > i3) {
                    this.b.b("Requested packet too large rejecting (max:" + i3 + ")");
                    return;
                }
            }
            if (i < 0) {
                this.b.b("Requested packet negative size:" + i + " rejecting");
                return;
            }
            au auVar = new au(i2);
            auVar.c = new byte[i];
            this.b.V = 0;
            this.b.U = i;
            int i4 = 0;
            auVar.f575a = this.b;
            while (i4 < i && !this.b.f580a) {
                int i5 = dataInputStream.read(auVar.c, i4, i - i4);
                if (i5 == -1) {
                    this.b.b("we got to the end of the stream?!?");
                    return;
                }
                i4 += i5;
                this.b.P++;
                this.b.V = i4;
            }
            this.b.U = 0;
            this.b.V = 0;
            if (!this.b.f580a) {
                if (auVar.b > 100) {
                    this.b.W.c(auVar);
                } else {
                    this.b.W.aN.add(auVar);
                }
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/am.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/am.class */
public enum am {
    layout_2sides,
    layout_3sides,
    layout_ffa,
    layout_spectators
}


================================================================================
// FILE_PATH: ./gameFramework/j/q.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.BufferedReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;
import java.util.Timer;
import org.apache.http.message.BasicNameValuePair;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/q.class */
class q implements Runnable {

    /* renamed from: a, reason: collision with root package name */
    Runnable f594a;

    q(Runnable runnable) {
        this.f594a = runnable;
    }

    @Override // java.lang.Runnable
    public void run() {
        com.corrodinggames.rts.gameFramework.l.aq();
        final com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", "Starting load");
        final int i = n.e;
        n.e++;
        try {
            new Timer().schedule(new o(i), 5000L);
            ArrayList arrayList = new ArrayList(2);
            arrayList.add(new BasicNameValuePair("action", "list"));
            arrayList.add(new BasicNameValuePair("game_version", Integer.toString(lVarB.c(true))));
            arrayList.add(new BasicNameValuePair("game_version_beta", com.corrodinggames.rts.gameFramework.f.a(lVarB.n())));
            n.a((List) arrayList, false, new s() { // from class: com.corrodinggames.rts.gameFramework.j.q.1
                @Override // com.corrodinggames.rts.gameFramework.j.s
                void a(BufferedReader bufferedReader, int i2, String str) throws InterruptedException, IOException {
                    com.corrodinggames.rts.gameFramework.l lVarB2 = com.corrodinggames.rts.gameFramework.l.B();
                    String line = bufferedReader.readLine();
                    if (line == null || !line.contains("CORRODINGGAMES")) {
                        String str2 = i2 + ": Unknown header from the master server: '" + com.corrodinggames.rts.gameFramework.f.a(line, 30) + "'";
                        com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", str2);
                        this.d = str2;
                        try {
                            String str3 = VariableScope.nullOrMissingString + line + "\n";
                            com.corrodinggames.rts.gameFramework.l.e("----------- Full response ----------");
                            com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", "line:" + line);
                            while (true) {
                                String line2 = bufferedReader.readLine();
                                if (line2 != null) {
                                    com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", "line:" + line2);
                                    str3 = str3 + line2 + "\n";
                                } else {
                                    com.corrodinggames.rts.gameFramework.l.e("------------------------------------");
                                    n.g = str3;
                                    return;
                                }
                            }
                        } catch (Exception e) {
                            e.printStackTrace();
                        }
                    } else {
                        com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", i2 + ": Starting load");
                        int i3 = 0;
                        while (true) {
                            String line3 = bufferedReader.readLine();
                            if (line3 != null) {
                                String[] strArrSplit = line3.split(",", -1);
                                if (strArrSplit.length <= 21) {
                                    com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", i2 + ": columns.length too short at:" + strArrSplit.length);
                                    com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", i2 + ": short line is:" + line3);
                                } else {
                                    String str4 = strArrSplit[0];
                                    String str5 = strArrSplit[1];
                                    String str6 = strArrSplit[2];
                                    String str7 = strArrSplit[3];
                                    String str8 = strArrSplit[4];
                                    String str9 = strArrSplit[5];
                                    String str10 = strArrSplit[6];
                                    String str11 = strArrSplit[7];
                                    String str12 = strArrSplit[8];
                                    String str13 = strArrSplit[9];
                                    String str14 = strArrSplit[10];
                                    String str15 = strArrSplit[11];
                                    String str16 = strArrSplit[12];
                                    String str17 = strArrSplit[13];
                                    String str18 = strArrSplit[15];
                                    String str19 = strArrSplit[16];
                                    String str20 = strArrSplit[17];
                                    String str21 = strArrSplit[18];
                                    String str22 = strArrSplit[19];
                                    String str23 = strArrSplit[20];
                                    String str24 = strArrSplit[21];
                                    String strSubstring = null;
                                    String str25 = null;
                                    if (str7 != null && str7.startsWith("url:") && Boolean.parseBoolean(str20)) {
                                        strSubstring = str7.substring(4);
                                        str25 = str5;
                                        if (!com.corrodinggames.rts.gameFramework.f.c(strSubstring + ";" + str25).equals(str8)) {
                                            com.corrodinggames.rts.gameFramework.l.e("Skipping " + str21);
                                        }
                                    }
                                    if (str21 == null || str21.trim().length() == 0) {
                                        str21 = str4;
                                    }
                                    try {
                                        String str26 = str21;
                                        synchronized (n.f) {
                                            g gVarC = n.c(str26);
                                            gVarC.c = str7;
                                            gVarC.d = str8;
                                            gVarC.e = strSubstring;
                                            gVarC.f = str25;
                                            gVarC.g = Integer.valueOf(str9).intValue();
                                            gVarC.h = Boolean.parseBoolean(str10);
                                            gVarC.m = Boolean.parseBoolean(str12);
                                            gVarC.j = str6;
                                            try {
                                                gVarC.l = Integer.parseInt(gVarC.j);
                                            } catch (NumberFormatException e2) {
                                                com.corrodinggames.rts.gameFramework.l.b("game_version_int:" + e2.getMessage());
                                            }
                                            gVarC.n = str11;
                                            gVarC.q = str13;
                                            gVarC.r = str14;
                                            gVarC.s = str15;
                                            gVarC.k = str16;
                                            gVarC.f584a = Boolean.parseBoolean(str17);
                                            gVarC.t = str18;
                                            gVarC.u = str19;
                                            gVarC.y = Boolean.parseBoolean(str22);
                                            if (VariableScope.nullOrMissingString.equals(str23)) {
                                                str23 = null;
                                            }
                                            gVarC.z = str23;
                                            if (!str24.trim().equals(VariableScope.nullOrMissingString)) {
                                                gVarC.A = Integer.valueOf(str24).intValue();
                                            }
                                            try {
                                                gVarC.v = Integer.parseInt(gVarC.t);
                                            } catch (NumberFormatException e3) {
                                                com.corrodinggames.rts.gameFramework.l.b("game_player_count_int:" + e3.getMessage());
                                            }
                                            try {
                                                gVarC.w = Integer.parseInt(gVarC.u);
                                            } catch (NumberFormatException e4) {
                                                com.corrodinggames.rts.gameFramework.l.b("game_max_player_count_int:" + e4.getMessage());
                                            }
                                            gVarC.x = Boolean.parseBoolean(str20);
                                            if (gVarC.p < i) {
                                                gVarC.p = i;
                                            }
                                            if (n.b(gVarC.b) == null) {
                                                lVarB2.bX.bi.add(gVarC);
                                            }
                                            i3++;
                                        }
                                    } catch (NumberFormatException e5) {
                                        com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", i2 + ": failed to load server");
                                        e5.printStackTrace();
                                    }
                                }
                            } else {
                                com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", "[" + i2 + "]: Found " + i3 + " servers");
                                if (i3 == 0) {
                                    try {
                                        Thread.sleep(2000L);
                                    } catch (InterruptedException e6) {
                                        e6.printStackTrace();
                                    }
                                }
                                this.e = true;
                                q.this.f594a.run();
                                try {
                                    Thread.sleep(2000L);
                                } catch (InterruptedException e7) {
                                    e7.printStackTrace();
                                }
                                n.a(i, i2);
                                com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", i2 + ": Completed load from master server without error");
                                return;
                            }
                        }
                    }
                }

                @Override // com.corrodinggames.rts.gameFramework.j.s
                void a() {
                    if (!this.e) {
                        lVarB.bX.bh = this.d;
                        q.this.f594a.run();
                    }
                }
            });
        } catch (Exception e) {
            e.printStackTrace();
            lVarB.a("Error getting game list from server", 1);
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/p.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.BufferedReader;
import java.io.IOException;
import java.util.ArrayList;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.message.BasicNameValuePair;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/p.class */
class p implements Runnable {
    p() {
    }

    @Override // java.lang.Runnable
    public void run() throws IOException {
        com.corrodinggames.rts.gameFramework.l.aq();
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.gameFramework.l.b("GetOwnInfoRunnable", "Starting getOwnInfoFromMasterServer");
        try {
            ArrayList arrayList = new ArrayList(2);
            arrayList.add(new BasicNameValuePair("action", "self_info"));
            n.a(arrayList, "port", Integer.toString(lVarB.bX.m));
            n.a(arrayList, "id", lVarB.bX.aS);
            aq.f572a.b(lVarB.bX.aS, arrayList);
            aq.f572a.c(lVarB.bX.aS, arrayList);
            BufferedReader bufferedReaderA = n.a(arrayList);
            String line = bufferedReaderA.readLine();
            if (line == null || !line.contains("CORRODINGGAMES")) {
                com.corrodinggames.rts.gameFramework.l.b("GetOwnInfoRunnable", "Error bad header returned from the master server: " + line);
                return;
            }
            while (true) {
                String line2 = bufferedReaderA.readLine();
                if (line2 != null) {
                    String[] strArrSplit = line2.split(",");
                    if (strArrSplit.length <= 1) {
                        com.corrodinggames.rts.gameFramework.l.b("GetOwnInfoRunnable", "columns.length too short at:" + strArrSplit.length);
                    } else {
                        String str = strArrSplit[0];
                        String str2 = strArrSplit[1];
                        try {
                            com.corrodinggames.rts.gameFramework.l.b("GetOwnInfoRunnable", "got info");
                            lVarB.bX.a(true, str, Boolean.valueOf(Boolean.parseBoolean(str2)));
                        } catch (NumberFormatException e) {
                            com.corrodinggames.rts.gameFramework.l.b("GetOwnInfoRunnable", "failed to load server");
                            e.printStackTrace();
                        }
                    }
                } else {
                    com.corrodinggames.rts.appFramework.p.l();
                    com.corrodinggames.rts.gameFramework.l.b("GetOwnInfoRunnable", "Completed load from master server without error");
                    return;
                }
            }
        } catch (ClientProtocolException e2) {
            lVarB.bX.a(false, (String) null, (Boolean) null);
            e2.printStackTrace();
        } catch (IOException e3) {
            lVarB.bX.a(false, (String) null, (Boolean) null);
            e3.printStackTrace();
        } catch (Exception e4) {
            lVarB.bX.a(false, (String) null, (Boolean) null);
            com.corrodinggames.rts.gameFramework.l.a("GetOwnInfoRunnable Failed", e4);
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/al.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/al.class */
public class al {

    /* renamed from: a, reason: collision with root package name */
    public String f566a;
    public long b;
    boolean c;
    final /* synthetic */ ak d;

    public al(ak akVar, String str) {
        this(akVar, str, true);
    }

    public al(ak akVar, String str, boolean z) {
        this.d = akVar;
        this.f566a = str;
        this.c = z;
        akVar.b.add(this);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/e.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.BufferedOutputStream;
import java.io.DataOutputStream;
import java.io.OutputStream;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/e.class */
final class e implements Runnable {
    OutputStream b;
    BufferedOutputStream c;
    DataOutputStream d;
    final /* synthetic */ c f;

    /* renamed from: a, reason: collision with root package name */
    Boolean f582a = true;
    com.corrodinggames.rts.gameFramework.utility.w e = new com.corrodinggames.rts.gameFramework.utility.w();

    public synchronized void a(au auVar) {
        if (this.f.f580a) {
            return;
        }
        this.f.f.add(auVar);
        notifyAll();
    }

    public synchronized void a() {
        notifyAll();
    }

    public synchronized void b() throws InterruptedException {
        try {
            if (this.f.f.isEmpty() && !this.f.f580a && !this.f.b) {
                wait(10000L);
            }
        } catch (InterruptedException e) {
        }
    }

    e(c cVar) {
        this.f = cVar;
        this.b = cVar.d.getOutputStream();
        this.c = new BufferedOutputStream(this.b);
        this.d = new DataOutputStream(this.c);
    }

    /* JADX WARN: Code restructure failed: missing block: B:44:0x01e7, code lost:
    
        r6.f.f580a = true;
     */
    @Override // java.lang.Runnable
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public void run() throws java.lang.InterruptedException, java.io.IOException {
        /*
            Method dump skipped, instructions count: 532
            To view this dump change 'Code comments level' option to 'DEBUG'
        */
        throw new UnsupportedOperationException("Method not decompiled: com.corrodinggames.rts.gameFramework.j.e.run():void");
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/ay.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/ay.class */
public class ay extends au {
    public au f;
    public int g;

    public ay(int i, au auVar) {
        super(175);
        this.g = i;
        this.f = auVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/i.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.IOException;
import java.io.InputStream;
import java.nio.ByteBuffer;
import java.util.concurrent.LinkedBlockingDeque;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/i.class */
public class i extends InputStream {

    /* renamed from: a, reason: collision with root package name */
    LinkedBlockingDeque f586a = new LinkedBlockingDeque();
    boolean b = true;
    byte[] c = new byte[1];
    final /* synthetic */ h d;

    public i(h hVar) {
        this.d = hVar;
    }

    public void a(byte[] bArr) {
        this.f586a.add(ByteBuffer.wrap(bArr));
    }

    @Override // java.io.InputStream
    public int read() {
        while (read(this.c, 0, 1) <= 0) {
        }
        return this.c[0] & 255;
    }

    @Override // java.io.InputStream
    public int read(byte[] bArr) {
        return read(bArr, 0, bArr.length);
    }

    @Override // java.io.InputStream
    public int read(byte[] bArr, int i, int i2) throws IOException {
        int iRemaining;
        if (this.d.c) {
            throw new IOException("closed");
        }
        int i3 = 0;
        int i4 = i2;
        int i5 = i;
        while (!this.d.c) {
            try {
                ByteBuffer byteBuffer = (ByteBuffer) this.f586a.take();
                if (byteBuffer != null) {
                    if (this.b) {
                        this.b = false;
                        com.corrodinggames.rts.gameFramework.l.e("First packet from forwarded:" + this.d.b);
                    }
                    if (byteBuffer.remaining() <= i4) {
                        iRemaining = byteBuffer.remaining();
                        byteBuffer.get(bArr, i5, iRemaining);
                    } else {
                        iRemaining = i4;
                        byteBuffer.get(bArr, i5, i4);
                        this.f586a.addFirst(byteBuffer);
                    }
                    i3 += iRemaining;
                    i4 -= iRemaining;
                    i5 += iRemaining;
                    if (i4 < 0) {
                        throw new IOException("bytesNeeded<0:" + i4);
                    }
                    if (i4 == 0) {
                        return i3;
                    }
                }
            } catch (InterruptedException e) {
                e.printStackTrace();
                return i3;
            }
        }
        throw new IOException("Closed");
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/au.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/au.class */
public class au {
    public int b;
    public byte[] c;
    public boolean e;

    /* renamed from: a, reason: collision with root package name */
    public c f575a = null;
    public int d = -1;

    public au(int i) {
        this.b = i;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/ac.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/ac.class */
public class ac {
    public boolean a(c cVar, String str, String str2) {
        return true;
    }

    public boolean a(c cVar, com.corrodinggames.rts.game.n nVar, String str, boolean z) {
        return true;
    }

    public void b(c cVar, String str, String str2) {
    }

    public void a(int i, String str, String str2, c cVar) {
    }

    public String a(c cVar, String str) {
        return null;
    }

    public void c(c cVar, String str, String str2) {
    }

    public void b(c cVar, String str) {
    }

    public void a(com.corrodinggames.rts.game.n nVar) {
    }

    public String a(c cVar, String str, int i, int i2, String str2, com.corrodinggames.rts.game.e eVar) {
        com.corrodinggames.rts.gameFramework.l.e("new player Joining packageName:" + str2 + ", appVersion:" + i2 + ", playerName:" + str + " ip:" + cVar.g() + " id:" + cVar.c);
        return null;
    }

    public void a() {
    }

    public boolean a(c cVar) {
        return false;
    }

    public boolean b(c cVar) {
        return false;
    }

    public void b() {
        com.corrodinggames.rts.gameFramework.l.e("NetworkCallbacks:startGameEvent()");
    }

    public void c() {
    }

    public void a(ae aeVar) {
    }

    public void d() {
    }

    public boolean e() {
        return false;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/j.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.OutputStream;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/j.class */
public class j extends OutputStream {

    /* renamed from: a, reason: collision with root package name */
    boolean f587a = true;
    final /* synthetic */ h b;

    public j(h hVar) {
        this.b = hVar;
    }

    @Override // java.io.OutputStream
    public void write(int i) {
        com.corrodinggames.rts.gameFramework.l.g("SteamSocketOutputStream: Slow write: " + i);
        write(new byte[]{(byte) i});
    }

    @Override // java.io.OutputStream
    public void write(byte[] bArr, int i, int i2) {
        if (this.b.c) {
            com.corrodinggames.rts.gameFramework.l.e("cannot write steam socket closed");
        } else {
            com.corrodinggames.rts.gameFramework.l.e("Forwarded message to client: " + this.b.b + " with old method");
        }
    }

    @Override // java.io.OutputStream
    public void write(byte[] bArr) {
        write(bArr, 0, bArr.length);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/av.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.IOException;
import java.lang.reflect.InvocationTargetException;
import java.util.TimerTask;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/av.class */
class av extends TimerTask {
    private final ad c;

    /* renamed from: a, reason: collision with root package name */
    public boolean f576a = true;
    public long b = 0;

    av(ad adVar) {
        this.c = adVar;
    }

    @Override // java.util.TimerTask, java.lang.Runnable
    public void run() throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        try {
            long jCurrentTimeMillis = System.currentTimeMillis();
            if (this.c.au != 0 && (jCurrentTimeMillis > this.c.au + 5 || jCurrentTimeMillis < this.c.au)) {
                this.c.au = 0L;
                this.c.Q();
            }
            if (jCurrentTimeMillis > this.b + 1000 || jCurrentTimeMillis < this.b) {
                this.b = jCurrentTimeMillis;
                if (this.f576a) {
                    as asVar = new as();
                    asVar.a(System.currentTimeMillis());
                    asVar.c(0);
                    this.c.g(asVar.b(108));
                } else {
                    this.c.P();
                }
                this.f576a = !this.f576a;
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/s.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.BufferedReader;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/s.class */
abstract class s {
    String d;
    boolean e;
    int f;

    abstract void a(BufferedReader bufferedReader, int i, String str);

    abstract void a();

    s() {
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/ao.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.IOException;
import java.net.InetAddress;
import java.net.InetSocketAddress;
import java.net.ServerSocket;
import java.net.Socket;
import java.net.SocketAddress;
import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/ao.class */
public class ao implements Runnable {
    public static boolean b = true;
    private final ad r;
    ServerSocket d;
    int e;
    boolean f;
    boolean o;
    boolean p;
    boolean q;

    /* renamed from: a, reason: collision with root package name */
    public final boolean f569a = false;
    volatile boolean c = true;
    long g = -1;
    final boolean h = false;
    final boolean i = true;
    final Object j = new Object();
    ArrayList k = new ArrayList();
    final Object l = new Object();
    int m = 0;
    int n = 0;

    ao(ad adVar) {
        this.r = adVar;
    }

    public boolean a(InetAddress inetAddress, boolean z) {
        if (inetAddress == null) {
            com.corrodinggames.rts.gameFramework.l.e("isIpAllowed: inetAddress==null");
            return true;
        }
        if (!b) {
            return true;
        }
        long jCurrentTimeMillis = System.currentTimeMillis();
        if (jCurrentTimeMillis > this.g + 60000) {
            this.g = jCurrentTimeMillis;
            synchronized (this.l) {
                this.k.clear();
            }
            this.m = 0;
            this.n = 0;
            this.o = false;
            this.p = false;
            this.q = false;
        }
        synchronized (this.l) {
            boolean z2 = false;
            Iterator it = this.k.iterator();
            while (true) {
                if (!it.hasNext()) {
                    break;
                }
                ap apVar = (ap) it.next();
                if (inetAddress.equals(apVar.f571a)) {
                    apVar.b++;
                    int i = 30;
                    if (this.n > 100) {
                        i = 10;
                    }
                    if (this.n > 250) {
                        i = 5;
                    }
                    if (apVar.b > i) {
                        if (!apVar.c) {
                            apVar.c = true;
                            com.corrodinggames.rts.gameFramework.l.e("DOS: Too many attempts:" + apVar.b + " ip:" + inetAddress.toString());
                        }
                        if (apVar.b > 300 && !apVar.d) {
                            apVar.d = true;
                            com.corrodinggames.rts.gameFramework.l.e("DOS: Excessive attempts:" + apVar.b + " ip:" + inetAddress.toString());
                        }
                        return false;
                    }
                    z2 = true;
                }
            }
            if (!z2) {
                if (z) {
                    this.m++;
                }
                if (this.k.size() > 200) {
                    ap apVar2 = null;
                    Iterator it2 = this.k.iterator();
                    while (it2.hasNext()) {
                        ap apVar3 = (ap) it2.next();
                        if (apVar2 == null || apVar2.b > apVar3.b) {
                            apVar2 = apVar3;
                        }
                    }
                    if (apVar2 != null) {
                        this.k.remove(apVar2);
                    }
                }
                ap apVar4 = new ap(this);
                apVar4.f571a = inetAddress;
                this.k.add(apVar4);
            }
            if (this.m > 500) {
                if (!this.p) {
                    this.p = true;
                    com.corrodinggames.rts.gameFramework.l.e("DOS: Too many unique attempts: " + this.m + ". udp:" + this.f);
                    return false;
                }
                return false;
            }
            int i2 = 0;
            int i3 = 0;
            Iterator it3 = this.r.aM.iterator();
            while (it3.hasNext()) {
                c cVar = (c) it3.next();
                i3++;
                if (cVar.e != null && inetAddress.equals(cVar.e)) {
                    i2++;
                }
            }
            int i4 = 20;
            if (i3 > 150) {
                i4 = 10;
            }
            if (i3 > 200) {
                i4 = 5;
            }
            if (i2 > i4) {
                if (!this.q) {
                    this.q = true;
                    com.corrodinggames.rts.gameFramework.l.e("DOS: Too open connections from same ip:" + inetAddress.toString() + " (count:" + i2 + ") max:" + i4);
                    return false;
                }
                return false;
            }
            if (i3 > 300) {
                if (!this.o) {
                    this.o = true;
                    com.corrodinggames.rts.gameFramework.l.e("DOS: Too open connections locking down:" + inetAddress.toString() + " (count:" + i3 + ")");
                    return false;
                }
                return false;
            }
            this.n++;
            return true;
        }
    }

    public void a() {
        this.r.d("Recreating server socket " + (this.f ? "udp" : "tcp"));
        synchronized (this.j) {
            if (this.d != null) {
                try {
                    this.d.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
                this.d = null;
            }
            if (!this.c) {
                throw new IOException("recreate on non-active socket");
            }
            a(this.f);
        }
    }

    public void a(boolean z) {
        this.e = this.r.m;
        this.r.d("starting socket.. " + (z ? "udp" : "tcp") + " port: " + this.e);
        this.f = z;
        if (!z) {
            this.d = new ServerSocket(this.e);
            return;
        }
        a.a.b bVar = new a.a.b(this.r.m, 0, null, true);
        bVar.a(new a.a.c() { // from class: com.corrodinggames.rts.gameFramework.j.ao.1
            @Override // a.a.c
            public boolean a(SocketAddress socketAddress) {
                if (socketAddress instanceof InetSocketAddress) {
                    return ao.this.a(((InetSocketAddress) socketAddress).getAddress(), false);
                }
                com.corrodinggames.rts.gameFramework.l.e("AcceptFilter: Unhandled SocketAddress type:" + socketAddress.getClass().getName());
                return true;
            }
        });
        this.d = bVar;
    }

    @Override // java.lang.Runnable
    public void run() throws IOException {
        com.corrodinggames.rts.gameFramework.l.aq();
        Thread.currentThread().setName("NewConnectionWorker-" + (this.f ? "udp" : "tcp") + " - " + this.e);
        int i = 0;
        int i2 = 0;
        this.r.d("reading..");
        while (this.c) {
            try {
                Socket socketAccept = this.d.accept();
                try {
                    socketAccept.setTcpNoDelay(true);
                    socketAccept.setSoTimeout(15000);
                    String hostAddress = "<unknown>";
                    InetAddress inetAddress = socketAccept.getInetAddress();
                    if (inetAddress != null) {
                        hostAddress = inetAddress.getHostAddress();
                    }
                    if (!a(inetAddress, true)) {
                        socketAccept.close();
                    } else {
                        c cVar = new c(this.r, socketAccept);
                        String str = "Accepted new connection id:" + cVar.c + ".. (ip:" + hostAddress + ")";
                        if (this.f) {
                            str = str + " (udp)";
                        }
                        this.r.d(str);
                        cVar.h = this.f;
                        cVar.e = inetAddress;
                        cVar.d();
                        this.r.aM.add(cVar);
                    }
                } catch (IOException e) {
                    com.corrodinggames.rts.gameFramework.l.e("Got IOException on new player connection");
                    e.printStackTrace();
                }
            } catch (IOException e2) {
                if (this.c) {
                    com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
                    i++;
                    com.corrodinggames.rts.gameFramework.l.e("ServerSocket-accept(" + (this.f ? "udp" : "tcp") + ") failed: " + e2.getMessage() + " (closed:" + this.d.isClosed() + ")");
                    if (i > 100) {
                        com.corrodinggames.rts.gameFramework.l.e("Too many server socket fails");
                        b();
                        return;
                    }
                    try {
                        a();
                        if (i2 < 3 && lVarB.bX.D() > 0) {
                            String str2 = "Warning: server socket got closed and needed to be recreated, players were likely disconnected (but can rejoin).";
                            if (com.corrodinggames.rts.gameFramework.l.aZ) {
                                str2 = str2 + "\n This likely due to iOS removing sockets of background apps. Avoid minimising the game when hosting.";
                            }
                            com.corrodinggames.rts.gameFramework.l.B().i(str2);
                            i2++;
                        }
                    } catch (IOException e3) {
                        e3.printStackTrace();
                        com.corrodinggames.rts.gameFramework.l.B().i("Warning server socket got closed and could not be recreated");
                        b();
                        return;
                    }
                } else {
                    com.corrodinggames.rts.gameFramework.l.e("ServerSocket-accept(" + (this.f ? "udp" : "tcp") + "): Got expected IOException after closed socket");
                    return;
                }
            }
        }
    }

    public void b() {
        synchronized (this.j) {
            this.c = false;
            if (this.d != null) {
                try {
                    this.d.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
                this.d = null;
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/f.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.IOException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/f.class */
public class f extends as {

    /* renamed from: a, reason: collision with root package name */
    public String f583a = VariableScope.nullOrMissingString;

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(int i) throws IOException {
        this.f583a += "|" + i;
        super.a(i);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(float f) throws IOException {
        this.f583a += "|" + f;
        super.a(f);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(short s) throws IOException {
        this.f583a += "|" + ((int) s);
        super.a(s);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(boolean z) throws IOException {
        this.f583a += "|" + z;
        super.a(z);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(String str, boolean z) {
        this.f583a += "<" + str + ">";
        super.a(str, z);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(String str) throws IOException {
        this.f583a += "</" + str + ">";
        super.a(str);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(com.corrodinggames.rts.game.units.am amVar) throws IOException {
        this.f583a += "|u:" + amVar;
        super.a(amVar);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/g.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/g.class */
public class g {

    /* renamed from: a, reason: collision with root package name */
    public boolean f584a;
    public String b;
    public String c;
    public String d;
    public String e;
    public String f;
    public int g;
    public boolean h;
    public String j;
    public String k;
    public int l;
    public boolean m;
    public String n;
    public long o;
    public int p;
    public String q;
    public String r;
    public String s;
    public String t;
    public String u;
    public boolean x;
    public boolean y;
    public String z;
    public int A;
    public long i = -1;
    public int v = -1;
    public int w = 8;

    public boolean a() {
        String str = com.corrodinggames.rts.gameFramework.l.B().bX.bw;
        if (str != null && str.equals(this.b)) {
            return true;
        }
        return false;
    }

    public String b() {
        String str;
        String strC = c();
        if (strC != null) {
            String strReplace = this.f;
            if (strReplace != null) {
                strReplace = strReplace.replace("\\n", "\n");
            }
            return (VariableScope.nullOrMissingString + strReplace + "\n") + "Url: " + strC + "\n";
        }
        String str2 = VariableScope.nullOrMissingString;
        if (this.f584a) {
            str2 = str2 + "Lan: " + this.d + ":" + this.g + "\n";
        }
        String str3 = (str2 + "User: " + this.n + "\n") + "Map: " + com.corrodinggames.rts.appFramework.i.e(this.q) + "\n";
        if (this.m) {
            str3 = str3 + "Password Required\n";
        }
        if (!this.h && !this.f584a) {
            str3 = str3 + "Port: not open (Connecting over the internet may fail)\n";
        }
        if ("ANY".equalsIgnoreCase(this.k)) {
            str = str3 + "Version: " + this.k + "\n";
        } else {
            str = str3 + "Version: v" + this.k + (g() ? VariableScope.nullOrMissingString : " (different game version!)") + "\n";
        }
        if (this.z != null && !this.z.equals(VariableScope.nullOrMissingString)) {
            str = str + "Mods Needed: " + this.z + "\n";
        }
        return str;
    }

    public String c() {
        return this.e;
    }

    public boolean d() {
        return this.e != null;
    }

    public String e() {
        if (this.A == 0) {
            return this.c + ":" + this.g;
        }
        return "get|" + this.b.replace("|", ".") + "|" + this.A + "|" + this.m + "|" + this.g;
    }

    public String f() {
        return this.d + ":" + this.g;
    }

    public boolean g() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (this.x && "ANY".equals(this.k)) {
            return true;
        }
        return (this.x && this.k != null && this.k.contains("+") && lVarB.c(true) >= this.l) || lVarB.c(true) == this.l;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/an.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.IOException;
import java.net.Socket;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/an.class */
public class an implements Runnable {

    /* renamed from: a, reason: collision with root package name */
    String f568a;
    boolean b;
    boolean c;
    Thread d;
    public String e;
    Runnable f;
    public Socket g;
    boolean h = false;

    public an(String str, boolean z, Runnable runnable) {
        this.f568a = str;
        this.b = z;
        this.f = runnable;
    }

    public boolean a() {
        if (!this.c) {
            return false;
        }
        this.h = true;
        return true;
    }

    public void b() {
        this.c = true;
        this.d = new Thread(this);
        this.d.start();
    }

    @Override // java.lang.Runnable
    public void run() throws IOException {
        try {
            try {
                this.g = ad.b(this.f568a, this.b);
                this.c = false;
                if (!this.h) {
                    this.f.run();
                    return;
                }
                if (this.g != null) {
                    try {
                        this.g.close();
                        this.g = null;
                        this.e = "cancelled";
                    } catch (IOException e) {
                        e.printStackTrace();
                    }
                }
            } catch (ag e2) {
                com.corrodinggames.rts.gameFramework.l.e("Cancelled connectSocketToServer");
                this.e = "CANCELLED";
                this.c = false;
                if (!this.h) {
                    this.f.run();
                    return;
                }
                if (this.g != null) {
                    try {
                        this.g.close();
                        this.g = null;
                        this.e = "cancelled";
                    } catch (IOException e3) {
                        e3.printStackTrace();
                    }
                }
            } catch (IOException e4) {
                this.e = e4.getMessage();
                e4.printStackTrace();
                this.c = false;
                if (!this.h) {
                    this.f.run();
                    return;
                }
                if (this.g != null) {
                    try {
                        this.g.close();
                        this.g = null;
                        this.e = "cancelled";
                    } catch (IOException e5) {
                        e5.printStackTrace();
                    }
                }
            }
        } catch (Throwable th) {
            this.c = false;
            if (!this.h) {
                this.f.run();
            } else if (this.g != null) {
                try {
                    this.g.close();
                    this.g = null;
                    this.e = "cancelled";
                } catch (IOException e6) {
                    e6.printStackTrace();
                }
            }
            throw th;
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/r.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import android.net.http.AndroidHttpClient;
import java.util.concurrent.TimeUnit;
import java.util.concurrent.locks.ReentrantLock;
import org.apache.http.client.HttpClient;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.params.HttpConnectionParams;
import org.apache.http.params.HttpParams;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/r.class */
public class r {

    /* renamed from: a, reason: collision with root package name */
    ReentrantLock f596a = new ReentrantLock();

    public HttpClient a() {
        return a(30000, false);
    }

    public HttpClient b() {
        return a(30000, true);
    }

    public HttpClient a(int i, boolean z) throws InterruptedException {
        HttpClient defaultHttpClient;
        boolean zTryLock = false;
        try {
            zTryLock = this.f596a.tryLock(300L, TimeUnit.MILLISECONDS);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        if (!zTryLock) {
            try {
                com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", "Could not get getNewHttpClient lock! another thread maybe stuck in getNewHttpClient!");
            } catch (Throwable th) {
                if (zTryLock) {
                    this.f596a.unlock();
                }
                throw th;
            }
        }
        if (!z) {
            defaultHttpClient = AndroidHttpClient.a((String) null);
        } else {
            defaultHttpClient = new DefaultHttpClient();
        }
        HttpParams params = defaultHttpClient.getParams();
        HttpConnectionParams.setConnectionTimeout(params, i);
        HttpConnectionParams.setSoTimeout(params, 20000);
        if (zTryLock) {
            this.f596a.unlock();
        }
        return defaultHttpClient;
    }

    public void a(HttpClient httpClient) {
        if (httpClient instanceof AndroidHttpClient) {
            ((AndroidHttpClient) httpClient).a();
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/aw.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import android.graphics.PointF;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.IOException;
import java.io.InputStream;
import java.io.PrintStream;
import java.util.LinkedList;
import java.util.ListIterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/aw.class */
public class aw extends as {

    /* renamed from: a, reason: collision with root package name */
    ByteArrayOutputStream f577a;
    PrintStream e;
    private PrintStream f;
    private LinkedList g;

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a() throws IOException {
        ListIterator listIterator = this.g.listIterator(this.g.size());
        while (listIterator.hasPrevious()) {
            ((ax) listIterator.previous()).a();
        }
        this.e.flush();
        if (this.f577a != null) {
            this.f577a.flush();
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    void b() {
        this.f = this.e;
    }

    public aw() {
        this.g = new LinkedList();
        this.f577a = new ByteArrayOutputStream();
        this.e = new PrintStream(this.f577a);
        b();
    }

    public aw(PrintStream printStream) {
        this.g = new LinkedList();
        this.e = printStream;
        b();
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public au b(int i) {
        return a(i, -1);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public au a(int i, int i2) {
        try {
            a();
            au auVar = new au(i);
            auVar.c = this.f577a.toByteArray();
            auVar.d = i2;
            return auVar;
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public String c() {
        try {
            a();
            return this.f577a.toString();
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public byte[] d() {
        try {
            a();
            return this.f577a.toByteArray();
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void c(int i) {
        this.f.println(i);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(boolean z) {
        this.f.println(z);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(int i) {
        this.f.println("#int:");
        this.f.println(i);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(float f) {
        this.f.println("#writeFloat");
        this.f.println(f);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(long j) {
        this.f.println("#writeLong");
        this.f.println(j);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void b(String str) {
        a(str != null);
        if (str != null) {
            c(str);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void c(String str) {
        this.f.println(str);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(com.corrodinggames.rts.gameFramework.w wVar) {
        this.f.println("#writeGameObject:");
        if (wVar == null) {
            this.f.println(-1);
        } else {
            this.f.println(wVar.eh);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void b(com.corrodinggames.rts.gameFramework.w wVar) {
        this.f.println("#writeExistingGameObject:");
        if (wVar != null && !wVar.ej) {
            this.f.println(wVar.eh);
        } else {
            this.f.println(-1);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void b(com.corrodinggames.rts.game.units.am amVar) {
        if (amVar != null && !amVar.ej && !amVar.bV) {
            a((com.corrodinggames.rts.gameFramework.w) amVar);
        } else {
            a((com.corrodinggames.rts.gameFramework.w) null);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(com.corrodinggames.rts.game.units.am amVar) {
        if (amVar != null && !amVar.ej) {
            a((com.corrodinggames.rts.gameFramework.w) amVar);
        } else {
            a((com.corrodinggames.rts.gameFramework.w) null);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(com.corrodinggames.rts.game.units.y yVar) {
        if (yVar != null && !yVar.ej) {
            a((com.corrodinggames.rts.gameFramework.w) yVar);
        } else {
            a((com.corrodinggames.rts.gameFramework.w) null);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(PointF pointF) {
        this.f.println("#PointF:");
        a(pointF != null);
        if (pointF != null) {
            a(pointF.f45a);
            a(pointF.b);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(Enum r5) {
        if (r5 == null) {
            this.f.println("#Enum: null");
            this.f.println(-1);
        } else {
            this.f.println("#Enum:" + r5.getClass().getSimpleName() + " : " + r5.toString());
            this.f.println(r5.ordinal());
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(com.corrodinggames.rts.game.units.as asVar) {
        this.f.println("#unitType:");
        if (asVar == null) {
            this.f.println(-1);
        } else if (asVar instanceof com.corrodinggames.rts.game.units.custom.l) {
            this.f.println(-2);
            c(((com.corrodinggames.rts.game.units.custom.l) asVar).M);
        } else {
            this.f.println(((com.corrodinggames.rts.game.units.ar) asVar).ordinal());
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(c cVar) {
        if (cVar == null) {
            this.f.println(0);
        } else {
            this.f.println(cVar.c);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(com.corrodinggames.rts.game.n nVar) {
        this.f.println("#team:");
        this.f.println(nVar.k);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(File file) throws IOException {
        com.corrodinggames.rts.gameFramework.utility.j jVarA = com.corrodinggames.rts.gameFramework.e.a.a(file);
        try {
            a(jVarA, (int) file.length());
        } finally {
            jVarA.close();
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(InputStream inputStream, int i) throws IOException {
        int i2 = 0;
        a(i);
        byte[] bArr = new byte[16384];
        while (true) {
            int i3 = inputStream.read(bArr, 0, bArr.length);
            if (i3 != -1) {
                if (i2 + i3 > i) {
                    int i4 = i - i2;
                    if (i4 < 0) {
                        ad.g("writeStream: bytesTillFull is " + i4);
                        return;
                    } else {
                        this.f.write(bArr, 0, i4);
                        return;
                    }
                }
                this.f.write(bArr, 0, i3);
                i2 += i3;
            } else {
                return;
            }
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(ByteArrayOutputStream byteArrayOutputStream) throws IOException {
        a(byteArrayOutputStream.size());
        byteArrayOutputStream.writeTo(this.f);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(byte[] bArr) throws IOException {
        a(bArr.length);
        this.f.write(bArr);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(short s) {
        this.f.println("#writeShort");
        this.f.println((int) s);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void e() {
        this.f.println("#writeMark:");
        a((short) 12345);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void d(String str) {
        this.f.println("#writeIfDebugOnly: " + str);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public boolean f() {
        return true;
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void e(String str) {
        a(str, false);
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(String str, boolean z) {
        ax axVar = new ax(z);
        axVar.b = str;
        this.g.add(axVar);
        this.f = ((ax) this.g.getLast()).d;
    }

    @Override // com.corrodinggames.rts.gameFramework.j.as
    public void a(String str) throws IOException {
        ax axVar = (ax) this.g.removeLast();
        if (!axVar.b.equals(str)) {
            com.corrodinggames.rts.gameFramework.l.b("OutputNetStream:endBlock", "Name does not match: expected" + str + " , got:" + axVar.b);
        }
        axVar.a();
        if (this.g.isEmpty()) {
            this.f = this.e;
        } else {
            this.f = ((ax) this.g.getLast()).d;
        }
        String str2 = VariableScope.nullOrMissingString;
        String str3 = VariableScope.nullOrMissingString;
        for (int i = 0; i < this.g.size(); i++) {
            str2 = str2 + ">";
            str3 = str3 + "<";
        }
        this.f.println(str2 + ">>>> Start of block: " + axVar.b);
        a(axVar.c);
        this.f.println(str3 + "<<<< End of block: " + axVar.b);
        axVar.b();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/k.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import android.graphics.PointF;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.io.ByteArrayInputStream;
import java.io.DataInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.util.LinkedList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/k.class */
public class k {

    /* renamed from: a, reason: collision with root package name */
    ByteArrayInputStream f588a;
    private DataInputStream e;
    private DataInputStream f;
    private LinkedList g = new LinkedList();
    int b = 999999;
    int c = 999999;
    int d = 0;

    void a() {
        this.f = this.e;
    }

    public k(au auVar) {
        this.f588a = new ByteArrayInputStream(auVar.c);
        this.e = new DataInputStream(this.f588a);
        a();
    }

    public k(DataInputStream dataInputStream) {
        this.e = dataInputStream;
        a();
    }

    public k(String str) {
        this.f588a = new ByteArrayInputStream(str.getBytes());
        this.e = new DataInputStream(this.f588a);
        a();
    }

    public k(byte[] bArr) {
        this.f588a = new ByteArrayInputStream(bArr);
        this.e = new DataInputStream(this.f588a);
        a();
    }

    public void a(int i) {
        this.b = i;
    }

    public int b() {
        return this.b;
    }

    public void b(int i) {
        this.c = i;
    }

    public int c() {
        return this.c;
    }

    public byte d() {
        return this.f.readByte();
    }

    public boolean e() {
        return this.f.readBoolean();
    }

    public int f() {
        return this.f.readInt();
    }

    public float g() {
        return this.f.readFloat();
    }

    public double h() {
        return this.f.readDouble();
    }

    public long i() {
        return this.f.readLong();
    }

    public String j() {
        if (!e()) {
            return null;
        }
        return l();
    }

    public Integer k() {
        if (!e()) {
            return null;
        }
        return Integer.valueOf(f());
    }

    public String l() {
        return this.f.readUTF();
    }

    public com.corrodinggames.rts.game.units.custom.g m() throws IOException {
        String utf = this.f.readUTF();
        if (utf.equals(VariableScope.nullOrMissingString)) {
            return null;
        }
        return com.corrodinggames.rts.game.units.custom.g.c(utf);
    }

    public long n() {
        return this.f.readLong();
    }

    public com.corrodinggames.rts.gameFramework.w a(Class cls) {
        return com.corrodinggames.rts.gameFramework.w.a(this.f.readLong(), cls, false);
    }

    public void a(com.corrodinggames.rts.gameFramework.utility.m mVar, Class cls) {
        int iF = f();
        for (int i = 0; i < iF; i++) {
            com.corrodinggames.rts.gameFramework.w wVarA = a(cls);
            if (wVarA != null) {
                mVar.add(wVarA);
            }
        }
    }

    public com.corrodinggames.rts.game.units.am o() {
        return a(m.warn);
    }

    public com.corrodinggames.rts.game.units.am a(m mVar) {
        return com.corrodinggames.rts.gameFramework.w.a(this.f.readLong(), mVar == m.expected);
    }

    public com.corrodinggames.rts.game.units.y p() {
        return com.corrodinggames.rts.gameFramework.w.b(this.f.readLong(), false);
    }

    public Enum b(Class cls) throws IOException {
        int i = this.f.readInt();
        if (i == -1) {
            return null;
        }
        Object[] enumConstants = cls.getEnumConstants();
        if (i < 0 || i >= enumConstants.length) {
            ad.g("readEnum:" + i + " is out of range for " + cls.toString());
            return null;
        }
        return (Enum) enumConstants[i];
    }

    public com.corrodinggames.rts.game.units.as q() throws IOException {
        int i = this.f.readInt();
        if (i == -1) {
            return null;
        }
        if (i == -2) {
            String strL = l();
            com.corrodinggames.rts.game.units.custom.l lVarN = com.corrodinggames.rts.game.units.custom.l.n(strL);
            if (lVarN == null) {
                ad.g("readUnitType: Could not find customUnitMetadata:" + strL);
            }
            com.corrodinggames.rts.game.units.as asVarC = com.corrodinggames.rts.game.units.custom.l.c(lVarN);
            if (asVarC != null) {
                if (asVarC instanceof com.corrodinggames.rts.game.units.custom.l) {
                    lVarN = (com.corrodinggames.rts.game.units.custom.l) asVarC;
                } else {
                    com.corrodinggames.rts.gameFramework.l.b("replacement not a custom unit:" + asVarC.i());
                }
            }
            return lVarN;
        }
        Object[] enumConstants = com.corrodinggames.rts.game.units.ar.class.getEnumConstants();
        if (i < 0 || i >= enumConstants.length) {
            ad.g("readUnitType:" + i + " is out of range for UnitType");
            return null;
        }
        return (com.corrodinggames.rts.game.units.ar) enumConstants[i];
    }

    public com.corrodinggames.rts.game.n r() throws IOException {
        byte b = this.f.readByte();
        com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(b);
        if (nVarK == null) {
            throw new IOException("Error loading save data, could not find referenced team:" + ((int) b) + VariableScope.nullOrMissingString);
        }
        return nVarK;
    }

    public com.corrodinggames.rts.game.n s() {
        return com.corrodinggames.rts.game.n.k(this.f.readByte());
    }

    public byte[] t() {
        int i;
        int i2 = 0;
        int iF = f();
        byte[] bArr = new byte[iF];
        while (i2 < iF && (i = this.f.read(bArr, i2, iF - i2)) != -1) {
            i2 += i;
        }
        return bArr;
    }

    public k u() {
        return new k(t());
    }

    public short v() {
        return this.f.readShort();
    }

    public void a(String str) {
        if (v() != 12345) {
            ad.g("Mark wasn't read for:" + str);
            if (com.corrodinggames.rts.gameFramework.l.B().aa()) {
                throw new RuntimeException("Mark wasn't read for:" + str);
            }
        }
    }

    public InputStream w() {
        return this.f;
    }

    public void b(String str) throws IOException {
        a(str, false);
    }

    public String x() {
        return a(false, false);
    }

    public void a(String str, boolean z) throws IOException {
        a(str, z, false);
    }

    public void a(String str, boolean z, boolean z2) throws IOException {
        if (this.b < 11) {
            com.corrodinggames.rts.gameFramework.l.e("Skipping start block:" + str);
            return;
        }
        String strA = a(z, z2);
        if (!strA.equals(str)) {
            com.corrodinggames.rts.gameFramework.l.b("InputNetStream:endBlock", "Name does not match: expected:" + str + " , got:" + strA);
        }
    }

    public byte[] c(String str) throws IOException {
        String utf = this.f.readUTF();
        if (!utf.equals(str)) {
            com.corrodinggames.rts.gameFramework.l.b("getBlockRaw", "Name does not match: expected:" + str + " , got:" + utf);
        }
        return t();
    }

    public String a(boolean z, boolean z2) throws IOException {
        if (this.b < 11) {
            com.corrodinggames.rts.gameFramework.l.e("Skipping start block: startBlockAndGetName()");
            return "<skipped>";
        }
        String utf = this.f.readUTF();
        l lVar = new l(t(), z, z2);
        lVar.f589a = utf;
        this.g.add(lVar);
        this.f = ((l) this.g.getLast()).c;
        return utf;
    }

    public void d(String str) {
        if (this.b < 11) {
            com.corrodinggames.rts.gameFramework.l.e("Skipping end block:" + str);
            return;
        }
        l lVar = (l) this.g.removeLast();
        if (!lVar.f589a.equals(str)) {
            com.corrodinggames.rts.gameFramework.l.b("InputNetStream:endBlock", "Name does not match: expected" + str + " ," + lVar.f589a);
        }
        if (this.g.isEmpty()) {
            this.f = this.e;
        } else {
            this.f = ((l) this.g.getLast()).c;
        }
    }

    public PointF y() {
        if (!e()) {
            return null;
        }
        PointF pointF = new PointF();
        pointF.f45a = g();
        pointF.b = g();
        return pointF;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/ab.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.BufferedReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Locale;
import org.apache.http.message.BasicNameValuePair;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/ab.class */
class ab implements Runnable {

    /* renamed from: a, reason: collision with root package name */
    w f550a;
    String b;
    int c;
    String d;

    ab() {
    }

    @Override // java.lang.Runnable
    public void run() throws IOException {
        com.corrodinggames.rts.gameFramework.l.aq();
        com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.gameFramework.l.b("getGameServerInfoFromMasterServer", "Starting getGameServerInfoFromMasterServer");
        String strA = n.a(this.c);
        String strC = null;
        if (this.d != null) {
            strC = com.corrodinggames.rts.gameFramework.f.c(this.b + this.d, 3);
        }
        try {
            ArrayList arrayList = new ArrayList(2);
            arrayList.add(new BasicNameValuePair("action", "get"));
            arrayList.add(new BasicNameValuePair("game_id", this.b));
            arrayList.add(new BasicNameValuePair("c", strA));
            arrayList.add(new BasicNameValuePair("p_hash", strC));
            BufferedReader bufferedReaderA = n.a(arrayList);
            String line = bufferedReaderA.readLine();
            if (line == null || !line.contains("CORRODINGGAMES")) {
                com.corrodinggames.rts.gameFramework.l.b("getGameServerInfoFromMasterServerRunnable", "Error bad header returned from the master server: " + line);
                this.f550a.a("Unexpected header from master server", x.unknown, null);
                return;
            }
            String line2 = bufferedReaderA.readLine();
            if (line2 == null) {
                throw new IOException("Unexpected end of response");
            }
            if (line.contains("[FAILED]")) {
                com.corrodinggames.rts.gameFramework.l.b("Got failed header with status:" + line2);
                String str = "Failed to get server connection data - unknown";
                x xVar = x.unknown;
                if (line2.startsWith("ERROR_OTHER")) {
                    String[] strArrSplit = line2.split(",");
                    if (strArrSplit.length >= 2) {
                        str = strArrSplit[1];
                    }
                    xVar = x.unknown;
                } else if (line2.startsWith("ERROR_MISSING")) {
                    str = "Request missing required fields";
                } else if (!line2.startsWith("ERROR_WRONG_C")) {
                    if (line2.startsWith("ERROR_MISSING_PASSWORD")) {
                        str = "Missing password";
                        xVar = x.unknown;
                    } else if (line2.startsWith("ERROR_WRONG_PASSWORD")) {
                        str = "Wrong password";
                        xVar = x.wrongPassword;
                    }
                }
                this.f550a.a(str, xVar, null);
                return;
            }
            String line3 = bufferedReaderA.readLine();
            if (line3 == null) {
                throw new IOException("Unexpected end of response");
            }
            if (!line3.toLowerCase(Locale.ROOT).contains(com.corrodinggames.rts.gameFramework.f.c("game_" + strA).toLowerCase(Locale.ROOT))) {
                com.corrodinggames.rts.gameFramework.l.b("getGameServerInfoFromMasterServerRunnable", "Error bad header returned from the master server: " + line3);
                this.f550a.a("Unexpected return from master server", x.unknown, null);
                return;
            }
            bufferedReaderA.readLine();
            String line4 = bufferedReaderA.readLine();
            if (line4 == null) {
                throw new IOException("Unexpected end of response");
            }
            String[] strArrSplit2 = line4.split(",");
            if (strArrSplit2.length <= 18) {
                throw new RuntimeException("getGameServerInfoFromMasterServerRunnable: columns.length too short at:" + strArrSplit2.length);
            }
            String str2 = strArrSplit2[3];
            String str3 = strArrSplit2[4];
            String str4 = strArrSplit2[5];
            String str5 = strArrSplit2[6];
            String str6 = strArrSplit2[7];
            String str7 = strArrSplit2[8];
            String str8 = strArrSplit2[9];
            String str9 = strArrSplit2[10];
            String str10 = strArrSplit2[11];
            String str11 = strArrSplit2[12];
            String str12 = strArrSplit2[13];
            String str13 = strArrSplit2[15];
            String str14 = strArrSplit2[16];
            String str15 = strArrSplit2[17];
            String str16 = strArrSplit2[18];
            com.corrodinggames.rts.gameFramework.l.b("getGameServerInfoFromMasterServerRunnable", "got ");
            com.corrodinggames.rts.gameFramework.l.b("getGameServerInfoFromMasterServerRunnable", "Completed get from master server without error");
            this.f550a.a(str2 + ":" + str4);
        } catch (IOException e) {
            com.corrodinggames.rts.gameFramework.l.a("getGameServerInfoFromMasterServerRunnable Failed", (Exception) e);
            this.f550a.a(e.getMessage(), x.unknown, e);
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/u.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.BufferedReader;
import java.net.UnknownHostException;
import java.util.List;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/u.class */
class u implements Runnable {

    /* renamed from: a, reason: collision with root package name */
    int f598a;
    List b;
    s c;
    String d;
    boolean e;

    public u(List list, s sVar, String str, boolean z, int i) {
        this.f598a = i;
        this.b = list;
        this.c = sVar;
        this.d = str;
        this.e = z;
    }

    @Override // java.lang.Runnable
    public void run() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        try {
            if (n.f591a) {
                com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", this.f598a + ": Started doSingleRequest");
            }
            BufferedReader bufferedReader = n.a(this.b, this.d, this.e).f597a;
            if (n.f591a) {
                com.corrodinggames.rts.gameFramework.l.b("LoadFromMasterServer", this.f598a + ": Ended doSingleRequest");
            }
            this.c.a(bufferedReader, this.f598a, this.d);
        } catch (Exception e) {
            e.printStackTrace();
            String strA = com.corrodinggames.rts.gameFramework.f.a(e, true);
            if (e instanceof UnknownHostException) {
                strA = "DNS lookup failed, check your internet connection";
            }
            if (strA != null && strA.contains("Cleartext HTTP traffic")) {
                strA = strA + " ( Broken apk file? - " + lVarB.l() + ")";
            }
            this.c.d = "#" + this.f598a + ": " + strA;
            com.corrodinggames.rts.gameFramework.l.e("Error getting game list from server #" + this.f598a);
            if (lVarB.p()) {
                lVarB.a("Error getting game list from server #" + this.f598a, 1);
            }
        }
        synchronized (this.c) {
            this.c.f--;
            if (this.c.f == 0) {
                this.c.a();
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/ai.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/ai.class */
public enum ai {
    skirmishMap { // from class: com.corrodinggames.rts.gameFramework.j.ai.1
        @Override // com.corrodinggames.rts.gameFramework.j.ai
        public String a() {
            return "Skirmish Map";
        }
    },
    customMap { // from class: com.corrodinggames.rts.gameFramework.j.ai.2
        @Override // com.corrodinggames.rts.gameFramework.j.ai
        public String a() {
            return "Custom Map";
        }
    },
    savedGame { // from class: com.corrodinggames.rts.gameFramework.j.ai.3
        @Override // com.corrodinggames.rts.gameFramework.j.ai
        public String a() {
            return "Saved Game";
        }
    };

    public abstract String a();
}


================================================================================
// FILE_PATH: ./gameFramework/j/y.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.BufferedReader;
import java.io.IOException;
import java.util.ArrayList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/y.class */
class y implements Runnable {
    y() {
    }

    @Override // java.lang.Runnable
    public void run() {
        com.corrodinggames.rts.gameFramework.l.aq();
        long jV = com.corrodinggames.rts.gameFramework.l.V();
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.gameFramework.l.b("StartCreateOnMasterServer", "Starting create");
        try {
            try {
                ArrayList arrayList = new ArrayList(2);
                n.a(arrayList, "action", "add");
                String str = "u_" + com.corrodinggames.rts.gameFramework.f.b();
                n.a(arrayList, "user_id", str);
                aq.f572a.a(str, arrayList);
                n.a(arrayList, "game_name", "Unnamed");
                n.a(arrayList, "game_version", Integer.toString(lVarB.c(true)));
                if (lVarB.bX.v) {
                    n.a(arrayList, "game_version_string", "ANY");
                } else {
                    n.a(arrayList, "game_version_string", lVarB.v());
                }
                n.a(arrayList, "game_version_beta", com.corrodinggames.rts.gameFramework.f.a(lVarB.n()));
                String strAu = lVarB.bX.au();
                if (strAu != null) {
                    n.a(arrayList, "game_mods", strAu);
                }
                n.a(arrayList, "private_token", lVarB.bX.aR);
                n.a(arrayList, "private_token_2", com.corrodinggames.rts.gameFramework.f.b(com.corrodinggames.rts.gameFramework.f.b(lVarB.bX.aR)));
                n.a(arrayList, "confirm", com.corrodinggames.rts.gameFramework.f.b("a" + com.corrodinggames.rts.gameFramework.f.b(lVarB.bX.aR)));
                n.b(arrayList);
                BufferedReader bufferedReaderA = n.a(arrayList, 15);
                String line = bufferedReaderA.readLine();
                if (line == null || !line.contains("CORRODINGGAMES")) {
                    com.corrodinggames.rts.gameFramework.l.b("StartCreateOnMasterServer", "Error bad header returned from the master server: " + line);
                    com.corrodinggames.rts.gameFramework.l.b("StartCreateOnMasterServer", "create took: " + ((com.corrodinggames.rts.gameFramework.l.V() - jV) / 1000000.0f) + " seconds");
                    return;
                }
                String[] strArrSplit = bufferedReaderA.readLine().split(",");
                if (strArrSplit.length < 1) {
                    com.corrodinggames.rts.gameFramework.l.b("StartCreateOnMasterServer", "columns.length too short at:" + strArrSplit.length);
                }
                String str2 = strArrSplit[0];
                try {
                    com.corrodinggames.rts.gameFramework.l.b("StartCreateOnMasterServer", "Created server is:" + str2);
                    lVarB.bX.aS = str2;
                } catch (NumberFormatException e) {
                    com.corrodinggames.rts.gameFramework.l.b("StartCreateOnMasterServer", "failed to load server");
                    e.printStackTrace();
                }
                if (strArrSplit.length >= 2) {
                    try {
                        aq.f = Integer.parseInt(strArrSplit[1]);
                    } catch (NumberFormatException e2) {
                        aq.f = -1;
                    }
                }
                com.corrodinggames.rts.gameFramework.l.b("StartCreateOnMasterServer", "Completed create from master server without error");
                com.corrodinggames.rts.gameFramework.l.b("StartCreateOnMasterServer", "create took: " + ((com.corrodinggames.rts.gameFramework.l.V() - jV) / 1000000.0f) + " seconds");
            } catch (IOException e3) {
                e3.printStackTrace();
                com.corrodinggames.rts.gameFramework.l.b("StartCreateOnMasterServer", "create took: " + ((com.corrodinggames.rts.gameFramework.l.V() - jV) / 1000000.0f) + " seconds");
            }
        } catch (Throwable th) {
            com.corrodinggames.rts.gameFramework.l.b("StartCreateOnMasterServer", "create took: " + ((com.corrodinggames.rts.gameFramework.l.V() - jV) / 1000000.0f) + " seconds");
            throw th;
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/ae.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.IOException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/ae.class */
public class ae {
    public String b;
    public int c;
    public boolean d;
    public String e;
    public String f;
    public String g;

    public void a(String str) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (this.d) {
            try {
                as asVar = new as();
                asVar.c(1);
                asVar.a(this.c);
                asVar.c(str);
                lVarB.bX.d(asVar.b(118));
                return;
            } catch (IOException e) {
                throw new RuntimeException(e);
            }
        }
        if (lVarB.bX.C) {
            com.corrodinggames.rts.gameFramework.l.a("Cannot enter a password when we are a server");
        } else {
            lVarB.bX.n = str;
            lVarB.bX.X();
        }
    }

    public void a() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        lVarB.bX.b("exited password");
        lVarB.bX.K();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/l.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.BufferedInputStream;
import java.io.ByteArrayInputStream;
import java.io.DataInputStream;
import java.io.InputStream;
import java.util.zip.GZIPInputStream;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/l.class */
public class l {

    /* renamed from: a, reason: collision with root package name */
    public String f589a;
    public ByteArrayInputStream b;
    public DataInputStream c;

    public l(byte[] bArr, boolean z, boolean z2) {
        InputStream bufferedInputStream;
        this.b = new ByteArrayInputStream(bArr);
        if (z) {
            bufferedInputStream = new BufferedInputStream(new GZIPInputStream(this.b));
        } else {
            bufferedInputStream = this.b;
        }
        this.c = new DataInputStream(bufferedInputStream);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/ap.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.net.InetAddress;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/ap.class */
class ap {

    /* renamed from: a, reason: collision with root package name */
    InetAddress f571a;
    int b = 1;
    boolean c;
    boolean d;
    final /* synthetic */ ao e;

    ap(ao aoVar) {
        this.e = aoVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/aq.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.util.List;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/aq.class */
public class aq {

    /* renamed from: a, reason: collision with root package name */
    public static aq f572a = new aq();
    public static int b = 2;
    static int c = 3;
    static int d = 2;
    static int e = 3;
    public static int f = 4;
    static String g = "tx";
    static String h = "_";
    public static int i = 55;
    public static int j = 66;
    public static int k = 100;
    public static boolean l = true;

    public static float a(float f2, float f3, float f4) {
        return f2 + ((f3 - f2) * f4);
    }

    public void a(String str, List list) {
        long jV = com.corrodinggames.rts.gameFramework.l.V();
        n.a(list, h + "1", VariableScope.nullOrMissingString + jV);
        n.a(list, g + "2", com.corrodinggames.rts.gameFramework.f.d("_" + str + (b + c)));
        n.a(list, g + "3", com.corrodinggames.rts.gameFramework.f.d("_" + str + (b + c + jV)));
    }

    public void b(String str, List list) {
        n.a(list, g + "3", com.corrodinggames.rts.gameFramework.f.d("-" + str + (d + e) + f));
    }

    public void c(String str, List list) {
        if (f > 1000) {
            n.a(list, g + "4", com.corrodinggames.rts.gameFramework.f.d("+" + str + (d + e) + f));
        }
    }

    public static void a(c cVar) {
        if (cVar.N) {
            com.corrodinggames.rts.gameFramework.l.V();
            if (com.corrodinggames.rts.gameFramework.l.B().bx > -5) {
                cVar.O = com.corrodinggames.rts.gameFramework.f.a(0.0f, 0.0f, (float) k, 0.0f) > 10.0f;
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/m.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/m.class */
public enum m {
    expected,
    warn
}


================================================================================
// FILE_PATH: ./gameFramework/j/ad.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import android.app.Notification;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.Intent;
import android.net.DhcpInfo;
import android.net.wifi.WifiManager;
import android.os.Build;
import android.util.Log;
import com.corrodinggames.rts.R;
import com.corrodinggames.rts.game.units.custom.bd;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.br;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.lang.reflect.InvocationTargetException;
import java.net.InetAddress;
import java.net.InetSocketAddress;
import java.net.NetworkInterface;
import java.net.Socket;
import java.net.SocketException;
import java.net.UnknownHostException;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Enumeration;
import java.util.Iterator;
import java.util.Locale;
import java.util.Timer;
import java.util.TimerTask;
import java.util.UUID;
import java.util.concurrent.ConcurrentLinkedQueue;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/ad.class */
public final class ad {
    ArrayList f;
    public boolean g;
    public boolean i;
    public float j;
    public float k;
    public int m;
    public String n;
    public boolean o;
    public boolean p;
    public boolean q;
    public boolean s;
    public String u;
    public String y;
    private boolean bG;
    public com.corrodinggames.rts.game.n z;
    public boolean A;
    public boolean C;
    public boolean D;
    public String E;
    public boolean G;
    public boolean H;
    public Float K;
    public String L;
    public boolean N;
    public int O;
    public int P;
    public int Q;
    public int R;
    public String S;
    public boolean Y;
    public float Z;
    boolean aa;
    public float ab;
    public float ac;
    public boolean ad;
    public float ae;
    public boolean af;
    public boolean ag;
    public boolean aj;
    public boolean ak;
    public boolean al;
    public boolean an;
    public int ap;
    public int aq;
    public int ar;
    public static boolean as;
    long au;
    public boolean av;
    public k aA;
    public k aB;
    Thread aD;
    ao aE;
    Thread aF;
    ao aG;
    Timer aH;
    av aI;
    Thread aJ;
    af aK;
    boolean aO;
    String aS;
    public String aT;
    public Boolean aU;
    public Boolean aV;
    public boolean aW;
    public float ba;
    public boolean bb;
    public boolean bc;
    public boolean bd;
    public boolean be;
    public boolean bf;
    public String bg;
    public com.corrodinggames.rts.game.e bj;
    public com.corrodinggames.rts.game.e bk;
    float bn;
    float bo;
    int bp;
    int bq;
    public long bs;
    public long bt;
    public boolean bx;
    static ArrayList bA;
    Timer bD;
    an bF;

    /* renamed from: a, reason: collision with root package name */
    public static final boolean f551a = false;
    public static boolean b = true;
    public static boolean c = false;
    public static boolean r = true;
    public static ae bE = new ae();
    public ac d = new ac();
    public int h = 25;
    public boolean l = false;
    public int t = 5005;
    public boolean v = false;
    public long w = 1;
    public boolean x = false;
    private boolean bH = false;
    public volatile boolean B = false;
    public boolean F = false;
    public int I = 0;
    private volatile float bI = 1.0f;
    public volatile float J = 1.0f;
    public ArrayList M = new ArrayList();
    public int T = -1;
    public int U = -1;
    public int V = -1;
    public int W = com.corrodinggames.rts.gameFramework.f.a(1, 9000000);
    public int X = 0;
    public int ah = -1;
    public int ai = 300;
    public ak am = new ak();
    public boolean ao = true;
    float at = 0.0f;
    public int aw = 5;
    public int ax = 5;
    public ah ay = new ah();
    public String az = null;
    public a aC = new a();
    public ConcurrentLinkedQueue aM = new ConcurrentLinkedQueue();
    ConcurrentLinkedQueue aN = new ConcurrentLinkedQueue();
    volatile int aP = 1;
    Object aQ = new Object();
    public boolean aX = false;
    boolean aY = false;
    boolean aZ = false;
    public String bh = null;
    public ConcurrentLinkedQueue bi = new ConcurrentLinkedQueue();
    public final Object bl = new Object();
    public boolean bm = false;
    boolean br = false;
    boolean bu = false;
    public Socket bv = null;
    public String bw = null;
    boolean by = false;
    boolean bz = false;
    boolean bB = false;
    final Object bC = new Object();
    public int e = com.corrodinggames.rts.gameFramework.l.B().c(true);
    String aR = com.corrodinggames.rts.gameFramework.f.e(40);
    c aL = new c(this, null);

    /*  JADX ERROR: Failed to decode insn: 0x002C: MOVE_MULTI
        java.lang.ArrayIndexOutOfBoundsException: arraycopy: source index -1 out of bounds for object array[8]
        	at java.base/java.lang.System.arraycopy(Native Method)
        	at jadx.plugins.input.java.data.code.StackState.insert(StackState.java:52)
        	at jadx.plugins.input.java.data.code.CodeDecodeState.insert(CodeDecodeState.java:137)
        	at jadx.plugins.input.java.data.code.JavaInsnsRegister.dup2x1(JavaInsnsRegister.java:313)
        	at jadx.plugins.input.java.data.code.JavaInsnData.decode(JavaInsnData.java:46)
        	at jadx.core.dex.instructions.InsnDecoder.lambda$process$0(InsnDecoder.java:50)
        	at jadx.plugins.input.java.data.code.JavaCodeReader.visitInstructions(JavaCodeReader.java:85)
        	at jadx.core.dex.instructions.InsnDecoder.process(InsnDecoder.java:46)
        	at jadx.core.dex.nodes.MethodNode.load(MethodNode.java:158)
        	at jadx.core.dex.nodes.ClassNode.load(ClassNode.java:460)
        	at jadx.core.ProcessClass.process(ProcessClass.java:69)
        	at jadx.core.ProcessClass.generateCode(ProcessClass.java:109)
        	at jadx.core.dex.nodes.ClassNode.generateClassCode(ClassNode.java:403)
        	at jadx.core.dex.nodes.ClassNode.decompile(ClassNode.java:391)
        	at jadx.core.dex.nodes.ClassNode.getCode(ClassNode.java:341)
        */
    public long y() {
        /*
            r8 = this;
            r0 = 0
            r9 = r0
            r0 = r9
            if (r0 == 0) goto L27
            java.lang.StringBuilder r0 = new java.lang.StringBuilder
            r1 = r0
            r1.<init>()
            java.lang.String r1 = "New id set:"
            java.lang.StringBuilder r0 = r0.append(r1)
            r1 = r8
            long r1 = r1.w
            java.lang.StringBuilder r0 = r0.append(r1)
            r1 = 1
            java.lang.StringBuilder r0 = r0.append(r1)
            java.lang.String r0 = r0.toString()
            com.corrodinggames.rts.gameFramework.l.e(r0)
            com.corrodinggames.rts.gameFramework.l.T()
            r0 = r8
            r1 = r0
            long r1 = r1.w
            // decode failed: arraycopy: source index -1 out of bounds for object array[8]
            r2 = 1
            long r1 = r1 + r2
            r0.w = r1
            r10 = r-1
            r-1 = r10
            r0 = 0
            int r-1 = (r-1 > r0 ? 1 : (r-1 == r0 ? 0 : -1))
            if (r-1 != 0) goto L42
            java.lang.String r-1 = "getNextUnitId: id==0"
            com.corrodinggames.rts.gameFramework.l.e(r-1)
            com.corrodinggames.rts.gameFramework.l.T()
            r-1 = r10
            return r-1
        */
        throw new UnsupportedOperationException("Method not decompiled: com.corrodinggames.rts.gameFramework.j.ad.y():long");
    }

    public aj a(c cVar) {
        String strF = cVar.f();
        long jCurrentTimeMillis = System.currentTimeMillis();
        if (strF == null) {
            cVar.b("Is banned: No target");
            return null;
        }
        synchronized (this.M) {
            Iterator it = this.M.iterator();
            while (it.hasNext()) {
                aj ajVar = (aj) it.next();
                if (strF.equals(ajVar.f564a) && ajVar.b > jCurrentTimeMillis) {
                    return ajVar;
                }
            }
            return null;
        }
    }

    public boolean a(c cVar, String str, int i) {
        if (cVar == null) {
            com.corrodinggames.rts.gameFramework.l.b("Ban failed: No connection");
            return false;
        }
        String strF = cVar.f();
        if (strF == null) {
            cVar.b("Ban failed: No target");
            return false;
        }
        aj ajVar = new aj();
        ajVar.f564a = cVar.f();
        ajVar.b = System.currentTimeMillis() + (i * 1000);
        ajVar.c = str;
        synchronized (this.M) {
            b();
            this.M.add(ajVar);
        }
        cVar.c("Banned " + strF + " for " + i + "s");
        return true;
    }

    public void a() {
        synchronized (this.M) {
            this.M.clear();
        }
    }

    public void b() {
        synchronized (this.M) {
            int i = 0;
            long jCurrentTimeMillis = System.currentTimeMillis();
            Iterator it = this.M.iterator();
            while (it.hasNext()) {
                i++;
                boolean z = false;
                if (((aj) it.next()).b < jCurrentTimeMillis) {
                    z = true;
                }
                if (i > 1000) {
                    z = true;
                }
                if (z) {
                    it.remove();
                }
            }
        }
    }

    public String a(String str) {
        String strReplace = str.trim().replace(" ", "_");
        this.y = strReplace;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (this.y != null && !this.y.equals(lVarB.bQ.lastNetworkPlayerName)) {
            lVarB.bQ.lastNetworkPlayerName = this.y;
            lVarB.bQ.save();
        }
        return strReplace;
    }

    public void a(float f, String str) {
        if (f < 0.1d) {
            a("setCurrentStepRate:" + f + " is too small, source:" + str, true);
        } else {
            this.bI = f;
        }
    }

    public float c() {
        return this.bI;
    }

    public void d() {
        this.ah = com.corrodinggames.rts.gameFramework.l.B().bx;
        this.am.b();
        this.an = false;
    }

    public void a(as asVar) throws IOException {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        asVar.c(0);
        this.ay.a(asVar);
        asVar.a(lVarB.bB);
        asVar.a(lVarB.bC);
    }

    public void a(k kVar) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        kVar.d();
        this.ay.a(kVar);
        lVarB.bB = kVar.f();
        lVarB.bC = kVar.f();
    }

    public ah e() {
        ah ahVarC;
        if (this.C) {
            ahVarC = this.ay;
        } else if (this.H) {
            ahVarC = this.ay.clone();
        } else {
            ahVarC = null;
            com.corrodinggames.rts.gameFramework.l.b("getChangeableSetup", "Clicked but not server or proxy controller");
        }
        return ahVarC;
    }

    public void f() {
        if (this.F) {
            com.corrodinggames.rts.gameFramework.l.B().bQ.aiDifficulty = this.ay.f;
        }
        if (!this.C && !this.F) {
            return;
        }
        if (this.aW) {
            com.corrodinggames.rts.gameFramework.l.g("updateAIDifficulty with gameHasBeenStarted=true");
        } else {
            for (int i = 0; i < com.corrodinggames.rts.game.n.c; i++) {
                com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i);
                if (nVarK != null) {
                    a(nVarK);
                }
            }
        }
        aq();
    }

    public void a(com.corrodinggames.rts.game.n nVar) {
        if (nVar.w) {
            nVar.c("aiDifficultyOverride=" + nVar.z);
            if (nVar.z != null) {
                nVar.x = nVar.z.intValue();
            } else {
                nVar.x = this.ay.f;
            }
        }
    }

    public boolean b(com.corrodinggames.rts.game.n nVar) {
        boolean z = false;
        if (nVar.w) {
            String str = "AI - " + b(nVar.C());
            if (!str.equals(nVar.v)) {
                nVar.v = str;
                z = true;
            }
        }
        return z;
    }

    public void a(ah ahVar) {
        if (this.C) {
            f();
            P();
            L();
            com.corrodinggames.rts.appFramework.n.o();
            return;
        }
        if (this.H) {
            b(ahVar);
        } else {
            com.corrodinggames.rts.gameFramework.l.e("applyChangedSetup but not server or proxy controller");
        }
    }

    private void b(ah ahVar) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.gameFramework.l.e("applyProxyControl");
        ah ahVar2 = this.ay;
        if (!ahVar2.b.equals(ahVar.b)) {
            lVarB.bX.k("-map '" + com.corrodinggames.rts.gameFramework.e.a.o(com.corrodinggames.rts.appFramework.i.e(ahVar.b)) + "'");
        }
        if (ahVar2.e != ahVar.e) {
            lVarB.bX.k("-revealedmap " + (!ahVar.e ? "true" : "false"));
        }
        if (ahVar2.d != ahVar.d) {
            lVarB.bX.k("-fog " + lVarB.bX.a(ahVar.d));
        }
        if (ahVar2.c != ahVar.c) {
            lVarB.bX.k("-credits " + lVarB.bX.e(ahVar.c));
        }
        if (!com.corrodinggames.rts.gameFramework.f.k(ahVar2.h, ahVar.h)) {
            lVarB.bX.k("-income " + com.corrodinggames.rts.gameFramework.f.a(ahVar.h, 1));
        }
        if (ahVar2.i != ahVar.i) {
            lVarB.bX.k("-nukes " + (!ahVar.i ? "true" : "false"));
        }
        if (ahVar2.f != ahVar.f) {
            lVarB.bX.k("-ai " + ahVar.f);
        }
        if (ahVar2.g != ahVar.g) {
            lVarB.bX.k("-startingunits " + ahVar.g);
        }
        if (ahVar2.l != ahVar.l) {
            lVarB.bX.k("-sharedControl " + (ahVar.l ? "true" : "false"));
        }
    }

    public String g() {
        if (this.ay.d == 0) {
            return "No fog";
        }
        if (this.ay.d == 1) {
            return "Basic fog";
        }
        if (this.ay.d == 2) {
            return "Line of Sight";
        }
        return "Unknown";
    }

    public String a(int i) {
        if (i == 0) {
            return "off";
        }
        if (i == 1) {
            return "basic";
        }
        if (i == 2) {
            return "los";
        }
        return "Unknown";
    }

    public String b(int i) {
        return c(i);
    }

    public String c(int i) {
        if (i == -2) {
            return "Very Easy";
        }
        if (i == -1) {
            return "Easy";
        }
        if (i == 0) {
            return "Medium";
        }
        if (i == 1) {
            return "Hard";
        }
        if (i == 2) {
            return "Very Hard";
        }
        if (i == 3) {
            return "Impossible";
        }
        return "Unknown";
    }

    public String h() {
        return d(this.ay.g);
    }

    public ArrayList i() {
        ArrayList arrayList = new ArrayList();
        for (int i = 1; i <= 4; i++) {
            arrayList.add(Integer.valueOf(i));
        }
        arrayList.addAll(com.corrodinggames.rts.game.units.custom.l.s());
        return arrayList;
    }

    public String d(int i) {
        if (i == 1) {
            return "Normal (1 builder)";
        }
        if (i == 2) {
            return "Small Army";
        }
        if (i == 3) {
            return "3 Engineers";
        }
        if (i == 4) {
            return "3 Engineers (No Command Center)";
        }
        if (i == 5) {
            return "Experimental Spider";
        }
        if (i == 9) {
            return "Custom";
        }
        com.corrodinggames.rts.game.units.custom.l lVarC = com.corrodinggames.rts.game.units.custom.l.c(i);
        if (lVarC != null) {
            return lVarC.e();
        }
        return "Unknown";
    }

    public String j() {
        if (this.ay.c == 0) {
            return "Default ($" + k() + ")";
        }
        return "$" + k();
    }

    public final int k() {
        return e(this.ay.c);
    }

    public int e(int i) {
        if (i == 0) {
            return 4000;
        }
        if (i == 1) {
            return 0;
        }
        if (i == 2) {
            return 1000;
        }
        if (i == 3) {
            return 2000;
        }
        if (i == 4) {
            return 5000;
        }
        if (i == 5) {
            return 10000;
        }
        if (i == 6) {
            return 50000;
        }
        if (i == 7) {
            return 100000;
        }
        if (i == 8) {
            return 200000;
        }
        return 999;
    }

    public String l() {
        return com.corrodinggames.rts.gameFramework.e.a.o(this.az);
    }

    public void m() {
        new com.corrodinggames.rts.gameFramework.utility.m();
        com.corrodinggames.rts.gameFramework.f.b(SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_CONTENTS_MENU);
        aq.a(5.0f, 6.0f, 7.0f);
        ar.a(5);
        this.bg = ar.a();
        this.bf = true;
    }

    public boolean n() {
        return this.aW;
    }

    public boolean o() {
        return this.d.e();
    }

    public synchronized void a(boolean z, String str, Boolean bool) {
        this.aV = Boolean.valueOf(z);
        this.aT = str;
        this.aU = bool;
        com.corrodinggames.rts.appFramework.n.o();
    }

    void a(g gVar) {
        Iterator it = this.bi.iterator();
        while (it.hasNext()) {
            g gVar2 = (g) it.next();
            if (gVar2.f584a && gVar2.c.equals(gVar.c) && gVar2.g == gVar.g) {
                gVar2.o = p();
            }
        }
        gVar.o = p();
        this.bi.add(gVar);
        com.corrodinggames.rts.appFramework.p.l();
    }

    public long p() {
        return System.currentTimeMillis();
    }

    public ad() {
        this.aL.p = true;
        this.bj = new com.corrodinggames.rts.game.e(-3, false);
        this.bj.v = "SPECTATOR";
        this.bk = new com.corrodinggames.rts.game.e(-1, false);
        this.bk.v = "ADMIN";
    }

    public void q() {
        a(false);
    }

    public void r() {
        a(true);
    }

    public void s() {
        this.bH = false;
        this.bG = false;
        this.z = null;
        this.p = false;
        this.bs = System.currentTimeMillis();
        this.X = 0;
        this.I = 0;
        this.w = 1L;
        a(1.0f, "new");
        this.Z = 10.0f;
        this.N = false;
        this.Q = 10;
        this.R = 0;
        this.Y = false;
        this.aa = false;
        this.al = false;
        this.ak = false;
        this.ab = 0.0f;
        this.ac = 0.0f;
        this.ad = false;
        this.af = false;
        this.aW = false;
        this.aY = false;
        this.aZ = false;
        this.ba = 0.0f;
        this.aX = false;
        this.bb = false;
        this.bc = false;
        this.bd = false;
        this.be = false;
        this.ag = false;
        this.ah = -1;
        this.am.f565a = 0L;
        this.br = false;
        this.am.a();
        this.an = false;
        this.ao = true;
        this.ap = 0;
        this.aq = 0;
        this.ar = 0;
        this.at = 0.0f;
        this.bn = 0.0f;
        this.bo = 0.0f;
        this.bp = 0;
        this.bq = -1000;
        aq.i = 55;
        aq.j = 66;
    }

    public void a(boolean z) {
        this.B = false;
        this.C = false;
        this.f = null;
        this.F = false;
        this.D = false;
        this.E = null;
        this.x = false;
        this.H = false;
        this.G = false;
        this.av = false;
        this.A = false;
        s();
        this.S = null;
        this.m = 0;
        this.i = false;
        this.j = 0.0f;
        this.k = 0.0f;
        this.bz = false;
        this.aB = null;
        this.ax = com.corrodinggames.rts.gameFramework.l.B().bQ.teamUnitCapHostedGame;
        if (this.ax < 1) {
            this.ax = 1;
        }
        this.aw = this.ax;
        this.ay.g = 1;
        this.ay.h = 1.0f;
        this.ay.i = false;
        this.ay.j = false;
        this.ay.l = false;
        this.ay.c = 0;
        this.ay.m = false;
        this.ay.n = false;
        this.ay.o = true;
        this.ay.p = false;
        this.ay.q = 0;
        a();
        this.aC.c();
        com.corrodinggames.rts.gameFramework.l.B().bS.g();
        if ("<CHAT ONLY>".equals(this.ay.b)) {
            com.corrodinggames.rts.gameFramework.l.e("Chat only map selection - restarting");
            this.ay.a();
        }
        if (!z) {
            com.corrodinggames.rts.game.n.F();
        }
        com.corrodinggames.rts.game.units.custom.ag.b(this.o);
    }

    public void t() {
    }

    public synchronized void b(String str) throws InterruptedException {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.gameFramework.l.e("Disconnect: " + str);
        if (this.C) {
            ar();
            n.d();
            if (this.aE != null) {
                this.aE.b();
                try {
                    if (this.aD != null) {
                        this.aD.join();
                    }
                } catch (InterruptedException e) {
                }
                this.aE = null;
                this.aD = null;
            }
            if (this.aG != null) {
                this.aG.b();
                try {
                    if (this.aF != null) {
                        this.aF.join();
                    }
                } catch (InterruptedException e2) {
                }
                this.aG = null;
                this.aF = null;
            }
            if (this.aH != null) {
                this.aH.cancel();
                this.aH = null;
                this.aI = null;
            }
            if (this.aK != null) {
                this.aK.b();
                this.aK = null;
                this.aJ = null;
            }
        }
        q(str);
        com.corrodinggames.rts.gameFramework.o.a.a().j();
        synchronized (this.bl) {
            this.B = false;
            this.C = false;
            this.F = false;
            this.f = null;
            try {
                wait(50L);
            } catch (InterruptedException e3) {
                e3.printStackTrace();
            }
            this.aW = false;
            lVarB.cb.e();
            lVarB.e();
            am();
            this.bm = false;
            this.bl.notifyAll();
        }
    }

    public void u() {
        synchronized (this.bl) {
            if (this.B) {
                this.bm = true;
                try {
                    this.bl.wait();
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }
        }
    }

    public void b(c cVar) {
        this.aM.remove(cVar);
    }

    private synchronized void ay() {
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            if (((c) it.next()).f580a) {
                it.remove();
            }
        }
    }

    void a(byte[] bArr, c cVar) throws IOException {
        if (!com.corrodinggames.rts.gameFramework.l.ax()) {
            Log.d("RustedWarfare", "Ignoring incoming resync tagged as debug only");
            return;
        }
        if (cVar.u) {
            Log.d("RustedWarfare", "Ignoring desync client save, as past desync was already saved");
            return;
        }
        cVar.u = true;
        Log.d("RustedWarfare", "Saving client save for debugging");
        File file = new File("desyncs/" + ("desync_" + com.corrodinggames.rts.gameFramework.f.a("d MMM yyyy HH.mm.ss") + "_" + cVar.c));
        file.getParentFile().mkdirs();
        try {
            FileOutputStream fileOutputStream = new FileOutputStream(file);
            fileOutputStream.write(bArr);
            fileOutputStream.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public void v() {
        if (this.br) {
            return;
        }
        com.corrodinggames.rts.gameFramework.l.e("Adding quick resync command");
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.gameFramework.e eVarB = lVarB.cf.b();
        eVarB.i = com.corrodinggames.rts.game.n.i;
        eVarB.r = true;
        eVarB.u = 200;
        lVarB.bX.a(eVarB);
        this.br = true;
    }

    public void w() throws IOException {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        as asVar = new as();
        try {
            lVarB.ca.a(asVar);
            try {
                asVar.a();
            } catch (IOException e) {
                e.printStackTrace();
            }
            byte[] bArrD = asVar.d();
            asVar.h();
            if (this.C) {
                Iterator it = this.aM.iterator();
                while (it.hasNext()) {
                    c cVar = (c) it.next();
                    if (cVar.w) {
                        cVar.w = false;
                        cVar.v = false;
                        a(cVar, bArrD, this.l, false);
                    }
                }
            }
            com.corrodinggames.rts.gameFramework.l.e("Loading quick resync save data (bytes:" + bArrD.length + ")");
            k kVar = new k(bArrD);
            lVarB.a("Game resync (quick)...", true);
            int i = lVarB.bx;
            int i2 = lVarB.by;
            lVarB.ca.a(kVar, true, true, true);
            lVarB.bx = i;
            lVarB.by = i2;
            this.X = lVarB.bx + 1;
            this.ag = false;
            this.ah = this.X + 1;
            this.am.f565a = 0L;
            Iterator it2 = this.aM.iterator();
            while (it2.hasNext()) {
                ((c) it2.next()).v = false;
            }
            this.br = false;
            this.ar++;
            this.bn = 0.0f;
            this.bo = 0.0f;
            if (this.bp < 1) {
                this.bp++;
            }
            this.bq = lVarB.bx;
        } catch (IOException e2) {
            throw new RuntimeException(e2);
        }
    }

    public synchronized void x() {
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            if (cVar.w) {
                throw new RuntimeException("Player: " + cVar.e() + " has complete desync");
            }
            if (cVar.v) {
                throw new RuntimeException("Player: " + cVar.e() + " has minor desync");
            }
            if (cVar.x == 0) {
                throw new RuntimeException("Player: " + cVar.e() + " has no sync matches");
            }
        }
    }

    private synchronized void e(float f) {
        com.corrodinggames.rts.gameFramework.l.B();
        boolean z = false;
        boolean z2 = false;
        boolean z3 = false;
        this.bn += f;
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            if (cVar.w) {
                z = true;
            }
            if (cVar.v) {
                if (this.g) {
                    com.corrodinggames.rts.gameFramework.l.e("desync_count:" + cVar.y + " lastResyncTimer:" + this.bn);
                }
                if (cVar.y < 4 || this.bn > 3600.0f) {
                    z3 = true;
                }
            }
        }
        if (z3) {
            this.bo += f;
            if (c && this.bo > 5.0f) {
                z2 = true;
            }
            if (this.bp == 0) {
                if (this.bo > 60.0f) {
                    z2 = true;
                }
            } else if (this.bp == 1) {
                if (this.bo > 420.0f) {
                    z2 = true;
                }
            } else if (this.bp == 2) {
                if (this.bo > 3600.0f) {
                    z2 = true;
                }
            } else if (this.bp == 3 && this.bo > 14400.0f) {
                z2 = true;
            }
        }
        if (as && z2) {
            com.corrodinggames.rts.gameFramework.l.e("disableDesyncFixing==true, running quick resync instead");
            z2 = false;
            z = true;
        }
        if (!z2 && z) {
            if (b) {
                v();
            } else {
                z2 = true;
            }
        }
        if (z2) {
            String str = VariableScope.nullOrMissingString;
            Iterator it2 = this.aM.iterator();
            while (it2.hasNext()) {
                c cVar2 = (c) it2.next();
                if (cVar2.w || cVar2.v) {
                    if (!str.equals(VariableScope.nullOrMissingString)) {
                        str = str + ", ";
                    }
                    str = str + cVar2.e();
                }
            }
            j("Resyncing game for " + str + "...");
            az();
            a(this.l, false, true);
        }
    }

    private void az() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        this.bn = 0.0f;
        this.bo = 0.0f;
        this.bp++;
        this.bq = lVarB.bx;
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            cVar.w = false;
            cVar.v = false;
            cVar.x = 0;
        }
    }

    public void c(String str) {
        q(str);
    }

    private void q(String str) {
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            ((c) it.next()).a(str);
        }
        this.aM.clear();
        this.aN.clear();
        this.aP = 1;
        this.aO = false;
    }

    public long z() {
        return this.w;
    }

    public void a(long j) {
        this.w = j;
    }

    public boolean a(boolean z, int i) {
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            if (cVar.p && cVar.h() && !cVar.s && !cVar.D) {
                if (z) {
                    j("Still waiting on: " + cVar.e());
                    return false;
                }
                return false;
            }
        }
        return true;
    }

    public void A() {
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            cVar.C = false;
            cVar.D = false;
        }
    }

    public int B() {
        int i = 0;
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            if (cVar.p && cVar.h() && !cVar.s) {
                i++;
            }
        }
        return i;
    }

    public int C() {
        ArrayList arrayList = new ArrayList();
        int i = 0;
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            if (cVar.p && cVar.h() && !cVar.s) {
                com.corrodinggames.rts.game.e eVar = cVar.z;
                if (eVar != null) {
                    if (!arrayList.contains(eVar)) {
                        arrayList.add(eVar);
                    }
                }
                i++;
            }
        }
        return i;
    }

    public int D() {
        int i = 0;
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            if (cVar.p && !cVar.s) {
                i++;
            }
        }
        return i;
    }

    public int E() {
        int iC = 0 + C();
        if (!com.corrodinggames.rts.gameFramework.l.ax()) {
            iC++;
        }
        return iC;
    }

    public void d(String str) {
        Log.b("RustedWarfare", "network:" + str);
    }

    public static void e(String str) {
        com.corrodinggames.rts.gameFramework.l.e("network debug: " + str);
    }

    public void f(String str) {
        Log.d("RustedWarfare", "reportProblem:" + str);
        if (this.aW) {
            b((c) null, -1, (String) null, str);
        } else {
            b((c) null, -1, (String) null, str);
        }
    }

    public static void g(String str) {
        a(str, false);
    }

    public static void h(String str) {
        a(str, true);
    }

    public static void a(String str, boolean z) {
        String str2;
        ad adVar = com.corrodinggames.rts.gameFramework.l.B().bX;
        String str3 = "desync:" + str;
        com.corrodinggames.rts.gameFramework.l.b(str3);
        com.corrodinggames.rts.gameFramework.l.T();
        adVar.ap++;
        if (adVar.ao) {
            if (adVar.ap > 2 || as) {
                z = true;
            }
            if (adVar.ap > 10) {
                str2 = "<suppressing desync errors>";
                adVar.ao = false;
                z = true;
            } else {
                str2 = str3;
            }
            if (z) {
                str2 = "-i " + str2;
            }
            adVar.m(str2);
        }
    }

    public static void a(String str, String str2) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        lVarB.cb.a(-1, str, str2, lVarB.bx);
        if (lVarB.bS != null && lVarB.bS.h != null) {
            lVarB.bS.h.a(str, str2);
        } else {
            com.corrodinggames.rts.gameFramework.l.g("interfaceEngine/messageInterface==null");
        }
    }

    public void F() {
    }

    public void a(com.corrodinggames.rts.gameFramework.e eVar) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        eVar.c = this.X;
        eVar.g();
        lVarB.cf.b.add(eVar);
    }

    public void G() {
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            if (!cVar.p || cVar.b() == -2 || cVar.b() > 500 || cVar.b() < 0) {
            }
        }
    }

    public void H() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        String str = VariableScope.nullOrMissingString;
        for (com.corrodinggames.rts.game.n nVar : com.corrodinggames.rts.game.n.a(true)) {
            if (nVar != null) {
                String str2 = "unnamed";
                if (nVar.v != null) {
                    str2 = nVar.v;
                }
                str = str + "" + nVar.N().toLowerCase() + " [Team " + nVar.h() + "] - " + str2 + (" " + nVar.y()) + "\n";
            }
        }
        com.corrodinggames.rts.gameFramework.l.e("showPlayerListPopup(): Showing playlist messagebox.");
        lVarB.c("Players", str);
    }

    public void a(float f) throws InterruptedException {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        this.at += f;
        if (this.aZ) {
            if (this.ba > 0.0f) {
                this.ba -= f / 60.0f;
                com.corrodinggames.rts.gameFramework.l.B().bS.a("Returning to battleroom in " + ((int) this.ba) + "...", 3500);
            } else {
                com.corrodinggames.rts.gameFramework.l.e("Sending returnToBattleroomEvent...");
                this.aZ = false;
                i((c) null);
            }
        }
        if (this.aY) {
            aD();
        }
        if (this.at > 60.0f) {
            G();
            this.at = 0.0f;
        }
        if (this.aW && !this.aX) {
            this.aX = true;
            int i = 0;
            int i2 = 0;
            Iterator it = com.corrodinggames.rts.game.n.f().iterator();
            while (it.hasNext()) {
                int iA = com.corrodinggames.rts.game.n.a(((Integer) it.next()).intValue(), false);
                if (iA > i2) {
                    i2 = iA;
                }
                i++;
            }
            if (i > 2 && i2 <= 1) {
                this.bb = true;
            }
        }
        if (!this.C && !this.bH) {
            ad();
            this.bH = true;
        }
        if (this.C) {
            if (!this.aa && this.aW) {
                if (a(false, 0)) {
                    this.Z = com.corrodinggames.rts.gameFramework.f.a(this.Z, f);
                    if (this.Z == 0.0f) {
                        this.aa = true;
                        a(VariableScope.nullOrMissingString, "<All players ready>");
                        this.d.a();
                    }
                } else {
                    this.ab += f;
                    this.ac += f;
                    if (this.ab > 900.0f) {
                        this.aa = true;
                        a(VariableScope.nullOrMissingString, "Starting game without all players ready!");
                    } else if (this.ac > 180.0f) {
                        this.ac = 0.0f;
                        a(true, (int) ((900.0f - this.ab) / 60.0f));
                    }
                }
            }
            if (this.aa) {
                boolean z = false;
                if (this.ak) {
                    z = true;
                }
                if (this.al) {
                    z = true;
                }
                if (lVarB.bx >= this.X - this.R && !z) {
                    int i3 = this.X + this.Q;
                    this.O++;
                    boolean z2 = false;
                    for (int i4 = 0; i4 < com.corrodinggames.rts.game.n.c; i4++) {
                        com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i4);
                        if (nVarK != null && nVarK.V != 0 && !nVarK.B() && nVarK.V < 40) {
                            z2 = true;
                        }
                    }
                    if (lVarB.b() != 0 && lVarB.b() < 40 && !com.corrodinggames.rts.gameFramework.l.ax()) {
                        z2 = true;
                    }
                    if (z2) {
                        this.P++;
                    }
                    if (this.O > 8) {
                        float fFloatValue = 1.0f;
                        if (this.P > 4) {
                            fFloatValue = 2.0f;
                        }
                        if (this.K != null) {
                            fFloatValue = this.K.floatValue();
                        }
                        if (fFloatValue != c()) {
                            com.corrodinggames.rts.gameFramework.l.e("Changing step rate to " + fFloatValue);
                            com.corrodinggames.rts.gameFramework.e eVarB = lVarB.cf.b();
                            eVarB.i = com.corrodinggames.rts.game.n.i;
                            eVarB.r = true;
                            eVarB.s = fFloatValue;
                            a(eVarB);
                        }
                        this.O = 0;
                        this.P = 0;
                    }
                    as asVar = new as();
                    try {
                        asVar.a(i3);
                        int i5 = 0;
                        Iterator it2 = lVarB.cf.b.iterator();
                        while (it2.hasNext()) {
                            if (((com.corrodinggames.rts.gameFramework.e) it2.next()).c == this.X) {
                                i5++;
                            }
                        }
                        asVar.a(i5);
                        Iterator it3 = lVarB.cf.b.iterator();
                        while (it3.hasNext()) {
                            com.corrodinggames.rts.gameFramework.e eVar = (com.corrodinggames.rts.gameFramework.e) it3.next();
                            if (eVar.c == this.X) {
                                eVar.a(asVar);
                            }
                        }
                        au auVarB = asVar.b(10);
                        auVarB.e = true;
                        d(auVarB);
                        this.X = i3;
                    } catch (IOException e) {
                        throw new RuntimeException(e);
                    }
                }
            }
        }
        if (!lVarB.cf.d.isEmpty()) {
            Iterator it4 = lVarB.cf.d.iterator();
            while (it4.hasNext()) {
                com.corrodinggames.rts.gameFramework.e eVar2 = (com.corrodinggames.rts.gameFramework.e) it4.next();
                if (0 != 0) {
                    lVarB.cf.c.add(eVar2);
                    it4.remove();
                } else {
                    if (!eVar2.x) {
                        eVar2.b();
                    }
                    if (eVar2.a()) {
                        lVarB.cf.c.add(eVar2);
                        it4.remove();
                    }
                }
            }
        }
        if (!this.C) {
            if (!lVarB.cf.c.isEmpty()) {
                Iterator it5 = lVarB.cf.c.iterator();
                while (it5.hasNext()) {
                    com.corrodinggames.rts.gameFramework.e eVar3 = (com.corrodinggames.rts.gameFramework.e) it5.next();
                    if (!eVar3.e()) {
                        eVar3.j();
                        as asVar2 = new as();
                        try {
                            eVar3.a(asVar2);
                            d(asVar2.b(20));
                        } catch (IOException e2) {
                            throw new RuntimeException(e2);
                        }
                    }
                }
                lVarB.cf.c.clear();
            }
        } else if (!lVarB.cf.c.isEmpty()) {
            Iterator it6 = lVarB.cf.c.iterator();
            while (it6.hasNext()) {
                com.corrodinggames.rts.gameFramework.e eVar4 = (com.corrodinggames.rts.gameFramework.e) it6.next();
                if (!eVar4.e()) {
                    if (!eVar4.l()) {
                        g("Skipped command issued from server");
                    } else {
                        eVar4.j();
                        a(eVar4);
                    }
                }
            }
            lVarB.cf.c.clear();
        }
        while (!this.aN.isEmpty()) {
            au auVar = (au) this.aN.remove();
            try {
                a(auVar);
            } catch (IOException e3) {
                String strG = "None";
                c cVar = auVar.f575a;
                if (cVar != null) {
                    strG = cVar.g();
                    String message = e3.getMessage();
                    if (message == null) {
                        message = "IO error";
                    }
                    cVar.a(message);
                    g("IO error on processGamePacket for " + cVar.e());
                }
                com.corrodinggames.rts.gameFramework.l.a("Error on processGamePacket ip:" + strG, (Throwable) e3);
            }
        }
        if (this.C) {
            if (!this.B) {
                com.corrodinggames.rts.gameFramework.l.e("Skipping server updates, not networked");
            } else {
                ay();
                if (!this.aj) {
                    e(f);
                }
            }
        }
        if (this.B) {
            if (this.al) {
                lVarB.bS.b("Game paused.", 100);
            } else {
                lVarB.bS.a("Game paused.");
            }
        }
        if (lVarB.bx < this.X) {
            this.Y = false;
        }
        if (this.bm) {
            b("queDisconnect");
        }
    }

    public void b(float f) {
        c cVarW;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (lVarB != null && !this.C && this.B) {
            boolean z = false;
            Iterator it = this.aM.iterator();
            while (it.hasNext()) {
                c cVar = (c) it.next();
                if (cVar.p && !cVar.f580a) {
                    z = true;
                }
            }
            if (this.be && n()) {
                lVarB.bS.b("Game ended by server.");
                com.corrodinggames.rts.appFramework.n.o();
            } else if (!z && n()) {
                lVarB.bS.b("Server Disconnected.");
                com.corrodinggames.rts.appFramework.n.o();
            }
            if (z) {
                if ((this.Y || this.bs + 1000 < System.currentTimeMillis()) && !this.C && (cVarW = W()) != null && cVarW.U > 20000) {
                    String str = "Receiving network data: " + cVarW.V + "/" + cVarW.U;
                    com.corrodinggames.rts.gameFramework.l.e(str);
                    lVarB.bS.d(str);
                    if (!this.aW && this.bt + 4000 < System.currentTimeMillis()) {
                        this.bt = System.currentTimeMillis();
                        o(str);
                    }
                    a(cVarW, cVarW.V, cVarW.U);
                }
            }
        }
    }

    public void c(float f) throws IOException {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        this.bs = System.currentTimeMillis();
        if (this.B && (this.ah + this.ai < lVarB.bx || this.ah == -1)) {
            d();
            lVarB.cb.a(this.am);
        }
        if ((this.B || lVarB.cb.j()) && this.N) {
            this.N = false;
            w();
        }
        if (this.B && this.C && !this.an && this.ah + (this.ai / 2) < lVarB.bx && this.ah != -1) {
            try {
                as asVar = new as();
                asVar.a(this.ah);
                asVar.a(this.am.f565a);
                asVar.a(this.am.b.size());
                Iterator it = this.am.b.iterator();
                while (it.hasNext()) {
                    asVar.a(((al) it.next()).b);
                }
                h(asVar.b(30));
                if (this.g) {
                    com.corrodinggames.rts.gameFramework.l.e("Sent checksum to client [" + this.ah + "]");
                }
                this.an = true;
            } catch (IOException e) {
                throw new RuntimeException(e);
            }
        }
    }

    public boolean I() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (lVarB.bU.e()) {
            if (!this.bu) {
                com.corrodinggames.rts.gameFramework.l.e("shouldGameBePaused: isGoingToBlockThisFrame()==true: " + lVarB.bU.f());
            }
            this.bu = true;
            return true;
        }
        if (this.bu) {
            com.corrodinggames.rts.gameFramework.l.e("shouldGameBePaused: isGoingToBlockThisFrame()==false");
        }
        this.bu = false;
        return false;
    }

    public void a(float f, boolean z) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (lVarB.bx >= this.X) {
            if (lVarB.bx > this.X) {
                throw new RuntimeException("game frame:" + lVarB.bx + " is greater then nest step:" + this.X);
            }
            this.Y = true;
        }
        if (z && I()) {
            this.Y = true;
        }
    }

    public void a(au auVar) throws IOException {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (b(auVar)) {
            d("filtered packet (type:" + auVar.b + ")");
        }
        switch (auVar.b) {
            case 10:
                if (this.C) {
                    d("we are a server! we don't follow orders");
                    break;
                } else if (auVar.f575a.t) {
                    d("ignoring command");
                    break;
                } else {
                    k kVar = new k(auVar);
                    int iF = kVar.f();
                    int iF2 = kVar.f();
                    for (int i = 0; i < iF2; i++) {
                        com.corrodinggames.rts.gameFramework.e eVarB = lVarB.cf.b();
                        eVarB.c = this.X;
                        eVarB.a(kVar);
                        a(eVarB);
                    }
                    if (iF < this.X) {
                        g("New nextBlockingFrame:" + iF + " is smaller than current step:" + this.X);
                    }
                    this.X = iF;
                    break;
                }
            case 20:
                if (!this.C) {
                    d("we are not a server! skipping");
                    break;
                } else {
                    k kVar2 = new k(auVar);
                    c cVar = auVar.f575a;
                    if (!cVar.a()) {
                        com.corrodinggames.rts.game.e eVar = cVar.z;
                        if (eVar == null) {
                            d("Player is null for message ADDCLIENTCOMMAND, skipping");
                            break;
                        } else {
                            com.corrodinggames.rts.gameFramework.e eVarB2 = lVarB.cf.b();
                            eVarB2.a(kVar2);
                            eVarB2.p = eVar;
                            if (eVarB2.r) {
                                d("Got system action from client, ignoring (" + cVar.c + ")");
                                eVarB2.r = false;
                            }
                            if (eVarB2.c() == null) {
                                g("Invalid command from '" + eVar.v + "', no team found");
                                break;
                            } else if (!eVarB2.l()) {
                                g("Ignored command from '" + eVar.v + "', check failed");
                                break;
                            } else {
                                a(eVarB2);
                                break;
                            }
                        }
                    }
                }
                break;
            case 30:
                c cVar2 = auVar.f575a;
                k kVar3 = new k(auVar);
                int iF3 = kVar3.f();
                long jI = kVar3.i();
                if (this.ag) {
                    d("PACKET_SYNCCHECKSUM: skipping frame:" + iF3 + ", we were told to wait for resync");
                    break;
                } else {
                    as asVar = new as();
                    asVar.c(0);
                    asVar.a(iF3);
                    asVar.a(this.ah);
                    if (this.ah != iF3 || this.am.f565a == 0) {
                        asVar.a(false);
                        Log.d("RustedWarfare", "got remoteSyncFrame for:" + iF3 + " needed:" + this.ah + " lastSyncCheckSum:" + this.am.f565a);
                    } else {
                        asVar.a(true);
                        Log.d("RustedWarfare", "Running checksum");
                        asVar.a(jI);
                        asVar.a(this.am.f565a);
                        boolean z = false;
                        if (jI != this.am.f565a) {
                            g("Checksum doesn't match. Got:" + jI + " expected:" + this.am.f565a);
                            z = true;
                            com.corrodinggames.rts.gameFramework.l.e("--- Desync for frame: " + iF3 + " ---");
                            Iterator it = com.corrodinggames.rts.game.n.c().iterator();
                            while (it.hasNext()) {
                                ((com.corrodinggames.rts.game.n) it.next()).t();
                            }
                        } else {
                            this.aq++;
                        }
                        int iF4 = kVar3.f();
                        if (iF4 != this.am.b.size()) {
                            Log.d("RustedWarfare", "checkSumSize!=syncCheckList.size()");
                        }
                        asVar.e("checkList");
                        asVar.a(iF4);
                        asVar.a(this.am.b.size());
                        Iterator it2 = this.am.b.iterator();
                        while (it2.hasNext()) {
                            al alVar = (al) it2.next();
                            long jI2 = kVar3.i();
                            asVar.a(jI2);
                            asVar.a(alVar.b);
                            if (jI2 != alVar.b && alVar.c) {
                                g("[" + iF3 + "] check(" + alVar.f566a + "): " + jI2 + "!=" + alVar.b);
                                z = true;
                            }
                        }
                        asVar.a("checkList");
                        asVar.a(z);
                    }
                    if (!this.C) {
                        a(cVar2, asVar.b(31));
                        break;
                    }
                }
                break;
            case 31:
                if (!this.C) {
                    d("we are not a server, but got PACKET_SYNCCHECKSUM_STATUS");
                    break;
                } else {
                    c cVar3 = auVar.f575a;
                    k kVar4 = new k(auVar);
                    kVar4.d();
                    int iF5 = kVar4.f();
                    int iF6 = kVar4.f();
                    if (kVar4.e()) {
                        kVar4.i();
                        kVar4.i();
                        kVar4.b("checkList");
                        kVar4.f();
                        if (kVar4.f() != this.am.b.size()) {
                            Log.d("RustedWarfare", "checkSumSize!=syncCheckList.size()");
                        }
                        Iterator it3 = this.am.b.iterator();
                        while (it3.hasNext()) {
                            al alVar2 = (al) it3.next();
                            long jI3 = kVar4.i();
                            long jI4 = kVar4.i();
                            if (jI3 != jI4) {
                                com.corrodinggames.rts.gameFramework.l.b(alVar2.f566a + " Checksum [" + iF5 + "]. server:" + jI3 + " client:" + jI4);
                            }
                        }
                        kVar4.d("checkList");
                        boolean zE = kVar4.e();
                        if (this.bq >= iF5) {
                            d("Not marking desync, already resynced before frame: " + this.bq + "<=" + iF5);
                            break;
                        } else {
                            if (!cVar3.v && zE) {
                                cVar3.y++;
                            }
                            cVar3.v = zE;
                            if (!zE) {
                                if (this.g) {
                                    com.corrodinggames.rts.gameFramework.l.e("checksum: client checksum match [" + iF5 + "]");
                                }
                                cVar3.x++;
                                break;
                            } else {
                                com.corrodinggames.rts.gameFramework.l.e("client:" + cVar3.e() + " desync [" + iF5 + "]");
                                if (this.aj && !this.ak) {
                                    g("pauseOnDesync is active, pausing");
                                    this.ak = true;
                                    break;
                                }
                            }
                        }
                    } else if (this.g) {
                        com.corrodinggames.rts.gameFramework.l.e("checksum for:" + cVar3.e() + " frameMatch==false client:" + iF6 + " server:[" + iF5 + "]");
                        break;
                    }
                }
                break;
            case 35:
                k kVar5 = new k(auVar);
                kVar5.d();
                int iF7 = kVar5.f();
                int iF8 = kVar5.f();
                float fG = kVar5.g();
                float fG2 = kVar5.g();
                if (!this.C && fG < 0.1d) {
                    a("resync packet with setCurrentStepRate:" + fG + " is too small", true);
                }
                c cVar4 = auVar.f575a;
                if (cVar4.t) {
                    d("ignoring resync command");
                    break;
                } else {
                    boolean zE2 = kVar5.e();
                    if (kVar5.e()) {
                        if (!this.C) {
                            d("we are not a server, but got a debug game save! skipping");
                            break;
                        } else {
                            a(kVar5.c("gameSave"), cVar4);
                            break;
                        }
                    } else {
                        com.corrodinggames.rts.gameFramework.l.e("Reloading from network save");
                        if (zE2 && !this.C) {
                            a(false, true, false);
                        }
                        byte[] bArrC = kVar5.c("gameSave");
                        com.corrodinggames.rts.gameFramework.l.e("Save size: " + bArrC.length);
                        if (this.l) {
                            a(bArrC, cVar4);
                        }
                        lVarB.cb.a(bArrC, lVarB.bx, iF7, iF8, fG, fG2);
                        k kVar6 = new k(bArrC);
                        lVarB.a("Resyncing game from server...", true);
                        lVarB.ca.a(kVar6, true, true, true);
                        lVarB.Z();
                        this.ar++;
                        lVarB.bx = iF7;
                        lVarB.by = iF8;
                        this.X = iF7 + 1;
                        this.ag = false;
                        this.ah = this.X + 1;
                        this.am.f565a = 0L;
                        if (fG < 0.1d) {
                            a("resync setCurrentStepRate:" + fG + " is too small", true);
                        }
                        a(fG, "rsync");
                        this.J = fG2;
                        break;
                    }
                }
                break;
            default:
                d("we did not handle packet:" + auVar.b);
                break;
        }
    }

    public synchronized boolean b(au auVar) {
        c cVar;
        if (this.C && (cVar = auVar.f575a) != null && !cVar.p && auVar.b != 105 && auVar.b != 110 && auVar.b != 111 && auVar.b != 108 && auVar.b != 160) {
            return true;
        }
        return false;
    }

    public synchronized void c(au auVar) throws IllegalAccessException, InterruptedException, InstantiationException, IOException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        int iG;
        String strJ;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (b(auVar)) {
            d("filtered packet (type:" + auVar.b + ")");
            return;
        }
        switch (auVar.b) {
            case 4:
                c cVar = auVar.f575a;
                k kVar = new k(auVar);
                kVar.d();
                kVar.f();
                kVar.f();
                return;
            case 105:
                d("got PACKET_GET_SERVER_INFO");
                if (!this.C) {
                    d("we are not a server! skipping");
                    return;
                }
                return;
            case 106:
                if (this.C) {
                    d("we are a server! we don't follow orders");
                    return;
                }
                k kVar2 = new k(auVar);
                c cVar2 = auVar.f575a;
                kVar2.l();
                kVar2.f();
                this.ay.f562a = (ai) kVar2.b(ai.class);
                this.ay.b = kVar2.l();
                this.ay.c = kVar2.f();
                this.ay.d = kVar2.f();
                this.ay.e = kVar2.e();
                this.ay.f = kVar2.f();
                byte bD = kVar2.d();
                this.G = kVar2.e();
                this.H = kVar2.e();
                this.av = true;
                if (bD >= 1) {
                    this.aw = kVar2.f();
                    this.ax = kVar2.f();
                }
                if (bD >= 2) {
                    this.ay.g = kVar2.f();
                    this.ay.h = kVar2.g();
                    this.ay.i = kVar2.e();
                    this.ay.j = kVar2.e();
                }
                if (bD >= 3 && kVar2.e()) {
                    try {
                        com.corrodinggames.rts.game.units.custom.l.a(kVar2);
                        this.x = true;
                    } catch (bd e) {
                        b("Missing unit:" + e.getMessage() + " d:" + e.b);
                        b("Server sync mismatch", e.getMessage());
                        if (!com.corrodinggames.rts.gameFramework.l.av()) {
                            lVarB.i(e.getMessage());
                        }
                        String str = "Server sync mismatch";
                        if (e.f269a != null) {
                            str = e.f269a;
                        }
                        lVarB.d(str, e.getMessage());
                        return;
                    }
                }
                if (bD >= 4) {
                    this.ay.l = kVar2.e();
                }
                if (bD >= 5) {
                    this.ay.m = kVar2.e();
                }
                if (bD >= 6) {
                    this.ay.n = kVar2.e();
                }
                if (bD >= 7) {
                    this.ay.o = kVar2.e();
                    this.ay.p = kVar2.e();
                }
                if (bD >= 8) {
                    this.ay.q = kVar2.f();
                }
                com.corrodinggames.rts.appFramework.n.o();
                return;
            case 108:
                c cVar3 = auVar.f575a;
                k kVar3 = new k(auVar);
                long jI = kVar3.i();
                kVar3.d();
                as asVar = new as();
                asVar.a(jI);
                asVar.c(1);
                int iB = lVarB.b();
                if (iB > 130) {
                    iB = 130;
                }
                asVar.c(iB);
                a(cVar3, asVar.b(109));
                return;
            case 109:
                if (!this.C) {
                    d("we are not a server! skipping");
                    return;
                }
                long jCurrentTimeMillis = System.currentTimeMillis();
                c cVar4 = auVar.f575a;
                k kVar4 = new k(auVar);
                long jI2 = kVar4.i();
                byte bD2 = 0;
                if (kVar4.d() >= 1) {
                    bD2 = kVar4.d();
                }
                int i = (int) (jCurrentTimeMillis - jI2);
                cVar4.A = i;
                cVar4.B = jCurrentTimeMillis;
                if (cVar4.z != null) {
                    cVar4.z.W = i;
                    cVar4.z.X = jCurrentTimeMillis;
                    cVar4.z.V = bD2;
                }
                if (cVar4.q && this.C && this.D && this.z != null) {
                    this.z.W = i;
                    this.z.X = jCurrentTimeMillis;
                }
                if (!this.aW) {
                    com.corrodinggames.rts.appFramework.n.o();
                    return;
                }
                return;
            case 110:
                d("got REGISTER_CONNECTION");
                if (!this.C) {
                    d("we are not a server! skipping");
                    return;
                }
                k kVar5 = new k(auVar);
                c cVar5 = auVar.f575a;
                kVar5.l();
                int iF = kVar5.f();
                int iF2 = kVar5.f();
                int iF3 = kVar5.f();
                String strL = kVar5.l();
                String strJ2 = kVar5.j();
                String strL2 = null;
                cVar5.E = iF2;
                if (iF >= 1) {
                    cVar5.L = kVar5.l();
                }
                if (iF >= 2) {
                    strL2 = kVar5.l();
                }
                int iF4 = -1;
                if (iF >= 3) {
                    iF4 = kVar5.f();
                }
                String strL3 = "MISSING";
                if (iF >= 4) {
                    strL3 = kVar5.l();
                }
                String strL4 = VariableScope.nullOrMissingString;
                if (iF >= 5) {
                    strL4 = kVar5.l();
                }
                if (strL.length() > 20) {
                    a(cVar5, "Your username is too long");
                    cVar5.a("kicked");
                    return;
                }
                String strP = p(strL);
                if (strP.length() < 2) {
                    a(cVar5, "Your username is too short");
                    cVar5.a("kicked");
                    return;
                }
                com.corrodinggames.rts.game.e eVarA = null;
                if (strL2 != null) {
                    eVarA = com.corrodinggames.rts.game.n.a(strL2);
                    if (eVarA != null) {
                        d("Existing player: " + eVarA.k + " - " + eVarA.v);
                    }
                }
                aj ajVarA = a(cVar5);
                if (ajVarA != null) {
                    com.corrodinggames.rts.gameFramework.l.e("Connection banned for " + ajVarA.b() + " more seconds");
                    a(cVar5, ajVarA.a());
                    cVar5.a("kicked");
                    return;
                }
                String strA = this.d.a(cVar5, strP, iF2, iF3, cVar5.L, eVarA);
                if (strA != null) {
                    a(cVar5, strA);
                    cVar5.a("kicked");
                    return;
                }
                if (iF2 < this.e && !this.v) {
                    a(cVar5, "Game is out of date, please update to v" + lVarB.u());
                    cVar5.a("kicked");
                    return;
                }
                if (iF2 > this.e && !this.v) {
                    a(cVar5, "Your client is newer then the server. Server is on: v" + lVarB.u());
                    cVar5.a("kicked");
                    return;
                }
                if (!this.v && iF4 != lVarB.z()) {
                    com.corrodinggames.rts.gameFramework.l.e("New Player kicked: Unit checksum mismatch: clientUnitsChecksum=" + iF4 + " game.getAllUnitsChecksum():" + lVarB.z());
                    a(cVar5, "Your core units are different to the server's core units. Game can not be synchronized");
                    cVar5.a("kicked");
                    return;
                }
                if (!this.v) {
                    String strG = g(cVar5.M);
                    if (!strG.equals(strL3)) {
                        com.corrodinggames.rts.gameFramework.l.e("New Player kicked: Integrity Check Failed: expectedResponse=" + strG + " clientResponse=" + strL3);
                        a(cVar5, "Your 'Rusted Warfare' client is different to the server. Game can not be synchronized.");
                        cVar5.a("kicked");
                        return;
                    }
                }
                if (!this.aW && this.ay.p) {
                    a(cVar5, "Room is locked. New players cannot join this server.");
                    cVar5.a("kicked");
                    return;
                }
                if (this.aW && eVarA == null && !this.s) {
                    a(cVar5, "A game has already been started on this server");
                    cVar5.a("kicked");
                    return;
                }
                if (this.n != null && eVarA == null && !com.corrodinggames.rts.gameFramework.f.e(this.n).equals(strJ2)) {
                    if (strJ2 == null) {
                        com.corrodinggames.rts.gameFramework.l.b("processSystemPacket", "Player tried to join but needs a password");
                    } else {
                        com.corrodinggames.rts.gameFramework.l.b("processSystemPacket", "Player tried to join but had an incorrect password");
                    }
                    d(cVar5);
                    return;
                }
                if (!h(this.W).equals(strL4)) {
                    cVar5.c("no extra");
                    cVar5.N = true;
                }
                if (cVar5.z == null) {
                    synchronized (this.bC) {
                        if (eVarA == null) {
                            iG = com.corrodinggames.rts.game.n.G();
                        } else {
                            iG = eVarA.k;
                        }
                        if (iG == -1 && !this.v) {
                            a(cVar5, "No free slots on server");
                            cVar5.a("no free slots");
                            return;
                        }
                        String strA2 = this.d.a(cVar5, strP);
                        if (strA2 != null) {
                            a(cVar5, strA2);
                            cVar5.a("kicked");
                        } else {
                            aq.a(cVar5);
                            if (!this.v && cVar5.O) {
                                a(cVar5, VariableScope.nullOrMissingString);
                                cVar5.a("kicked");
                                return;
                            }
                            String str2 = null;
                            if (eVarA != null) {
                                cVar5.z = eVarA;
                                String str3 = VariableScope.nullOrMissingString;
                                if (this.aW) {
                                    if (eVarA.b()) {
                                        str3 = " (Spectator)";
                                    } else {
                                        str3 = " (Team " + eVarA.h() + ")";
                                    }
                                }
                                j("'" + cVar5.z.v + "' reconnected. " + str3);
                                cVar5.w = true;
                                str2 = eVarA.v;
                                eVarA.P = cVar5.m;
                            } else {
                                if (this.v && iG == -1) {
                                    cVar5.z = new com.corrodinggames.rts.game.e(-3);
                                } else {
                                    cVar5.z = new com.corrodinggames.rts.game.e(iG);
                                    cVar5.z.r = iG % 2;
                                }
                                if (this.aW && this.s) {
                                    cVar5.w = true;
                                }
                            }
                            if (eVarA == null && strP != null) {
                                ArrayList arrayListAx = ax();
                                int i2 = 0;
                                while (true) {
                                    if (i2 < 10) {
                                        boolean z = false;
                                        String str4 = strP;
                                        if (i2 > 0) {
                                            str4 = str4 + "(" + i2 + ")";
                                        }
                                        Iterator it = arrayListAx.iterator();
                                        while (it.hasNext()) {
                                            if (str4.equalsIgnoreCase(((com.corrodinggames.rts.game.n) it.next()).v)) {
                                                z = true;
                                            }
                                        }
                                        if (z) {
                                            i2++;
                                        } else {
                                            strP = str4;
                                        }
                                    }
                                }
                            }
                            cVar5.z.v = strP;
                            cVar5.z.O = strL2;
                            cVar5.z.P = cVar5.m;
                            cVar5.E = iF2;
                            com.corrodinggames.rts.gameFramework.l.b("processSystemPacket", "New player: " + strP + ", networkVersion:" + cVar5.E + " existing:" + (eVarA != null));
                            cVar5.p = true;
                            if (eVarA == null) {
                                this.d.a(cVar5.z);
                            }
                            com.corrodinggames.rts.appFramework.n.o();
                            e(cVar5);
                            c(cVar5);
                            this.d.c(cVar5, strP, str2);
                            if ((eVarA != null || this.s) && this.aW) {
                                a(cVar5, true);
                            }
                        }
                        return;
                    }
                }
                com.corrodinggames.rts.gameFramework.l.b("processSystemPacket", "This connection already has a player");
                return;
            case 111:
                k kVar6 = new k(auVar);
                c cVar6 = auVar.f575a;
                String strL5 = null;
                try {
                    strL5 = kVar6.l();
                } catch (IOException e2) {
                    com.corrodinggames.rts.gameFramework.l.a("Error reading disconnect reason", (Throwable) e2);
                }
                d("Got a disconnect packet:" + strL5);
                if (cVar6 != null) {
                    cVar6.a(false, false, strL5);
                }
                if (!this.C) {
                }
                return;
            case 112:
                if (!this.C) {
                    d("we are not a server! skipping");
                    return;
                }
                c cVar7 = auVar.f575a;
                k kVar7 = new k(auVar);
                cVar7.C = kVar7.e();
                cVar7.D = kVar7.e();
                return;
            case 113:
                if (this.C) {
                    d("we are a server! skipping: " + auVar.b);
                    return;
                } else {
                    a(bE);
                    return;
                }
            case 115:
                if (this.C) {
                    d("we are a server! we don't follow orders");
                    return;
                }
                k kVar8 = new k(auVar);
                kVar8.b(auVar.f575a.E);
                c cVar8 = auVar.f575a;
                int iF5 = kVar8.f();
                com.corrodinggames.rts.game.n nVar = null;
                int iF6 = 8;
                boolean zE = false;
                if (kVar8.c() >= 90) {
                    boolean z2 = false;
                    if (kVar8.c() >= 141) {
                        z2 = true;
                        zE = kVar8.e();
                    }
                    iF6 = kVar8.f();
                    com.corrodinggames.rts.game.n.b(iF6, false);
                    kVar8.a("teams", z2);
                    if (iF6 > com.corrodinggames.rts.game.n.c) {
                        throw new IOException("Cannot load:" + iF6 + " teams");
                    }
                } else if (this.aW) {
                    g("Warning old team system used in started game, stream version:" + kVar8.c());
                }
                for (int i3 = 0; i3 < iF6; i3++) {
                    com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i3);
                    if (!kVar8.e()) {
                        if (nVarK != null) {
                            if (this.aW) {
                                g("Warning team:" + i3 + " removed while game is running");
                            }
                            nVarK.I();
                        }
                    } else {
                        kVar8.f();
                        if (nVarK == null) {
                            if (this.aW) {
                                g("Warning team:" + i3 + " added while game is running");
                            }
                            if (!this.C && (nVarK instanceof com.corrodinggames.rts.game.a.a)) {
                                g("Warning we are a client with an AI team");
                            }
                            nVarK = new com.corrodinggames.rts.game.e(i3);
                        }
                        if (zE) {
                            nVarK.a(kVar8);
                        } else {
                            nVarK.a(kVar8, this.aW);
                        }
                    }
                    if (nVarK != null && nVarK.k == iF5) {
                        nVar = nVarK;
                    }
                }
                if (kVar8.c() >= 90) {
                    kVar8.d("teams");
                }
                this.z = nVar;
                this.ay.d = kVar8.f();
                this.ay.c = kVar8.f();
                this.ay.e = kVar8.e();
                this.ay.f = kVar8.f();
                byte bD3 = kVar8.d();
                this.aw = kVar8.f();
                this.ax = kVar8.f();
                if (bD3 >= 2) {
                    this.ay.g = kVar8.f();
                    this.ay.h = kVar8.g();
                    this.ay.i = kVar8.e();
                    this.ay.j = kVar8.e();
                }
                if (bD3 >= 3 && kVar8.e()) {
                    try {
                        com.corrodinggames.rts.game.units.custom.l.a(kVar8);
                        this.x = true;
                    } catch (bd e3) {
                        b("Missing unit:" + e3.getMessage() + " d:" + e3.b);
                        b("Connection Failed", e3.getMessage());
                        if (!com.corrodinggames.rts.gameFramework.l.av()) {
                            lVarB.i(e3.getMessage());
                        }
                        lVarB.d("Connection Failed", e3.getMessage());
                        return;
                    }
                }
                if (bD3 >= 4) {
                    this.ay.l = kVar8.e();
                }
                if (bD3 >= 5) {
                    this.al = kVar8.e();
                }
                com.corrodinggames.rts.appFramework.n.o();
                return;
            case 116:
                if (this.C) {
                    d("we are a server! we don't follow orders");
                    return;
                }
                k kVar9 = new k(auVar);
                c cVar9 = auVar.f575a;
                kVar9.f();
                boolean zE2 = kVar9.e();
                if (zE2 && !this.be) {
                    this.be = zE2;
                    return;
                }
                return;
            case 117:
                c cVar10 = auVar.f575a;
                if (this.C && !cVar10.q) {
                    d("we are a server! skipping: " + auVar.b);
                    return;
                }
                k kVar10 = new k(auVar);
                kVar10.d();
                int iF7 = kVar10.f();
                String strL6 = kVar10.l();
                ae aeVar = new ae();
                aeVar.d = true;
                aeVar.c = iF7;
                aeVar.b = strL6;
                a(aeVar);
                return;
            case 118:
                return;
            case 120:
                if (this.C) {
                    d("error, we are a server but got: PACKET_START_GAME");
                    return;
                }
                k kVar11 = new k(auVar);
                kVar11.d();
                this.ay.f562a = (ai) kVar11.b(ai.class);
                if (this.ay.f562a == ai.savedGame) {
                    this.aA = kVar11.u();
                } else if (this.ay.f562a == ai.customMap) {
                    this.aB = kVar11.u();
                }
                this.az = kVar11.l();
                aB();
                return;
            case 122:
                if (this.C) {
                    d("error, we are a server but got: PACKET_RETURN_TO_BATTLEROOM");
                    return;
                } else {
                    aC();
                    return;
                }
            case 140:
                if (!this.C) {
                    d("we are not a server! skipping");
                    return;
                }
                c cVar11 = auVar.f575a;
                k kVar12 = new k(auVar);
                com.corrodinggames.rts.game.e eVar = cVar11.z;
                if (eVar == null) {
                    if (cVar11.q) {
                        d("Allowing message from non player on forwarding connection");
                        eVar = this.bk;
                    } else {
                        d("player is null for message, skipping");
                        return;
                    }
                }
                String strL7 = kVar12.l();
                kVar12.d();
                String strI = i(strL7);
                if (this.d.a(cVar11, eVar.v, strI)) {
                    if (this.aC.a(cVar11, 60000) > this.h) {
                        if (com.corrodinggames.rts.gameFramework.f.a(cVar11.g, System.nanoTime()) > 60000) {
                            cVar11.g = System.nanoTime();
                            j("Anti-spam: Too many messages from '" + cVar11.e() + "'");
                        }
                        if (this.g) {
                            com.corrodinggames.rts.gameFramework.l.e("extraDebug:" + strI);
                            return;
                        }
                        return;
                    }
                    a(cVar11, eVar, eVar.v, strI);
                    this.d.b(cVar11, eVar.v, strI);
                    b(cVar11, eVar, eVar.v, strI);
                    return;
                }
                return;
            case 141:
                if (this.C && !auVar.f575a.q) {
                    d("error, we are a server but got: PACKET_RECEIVE_CHAT_FROM_SERVER");
                    return;
                }
                k kVar13 = new k(auVar);
                String strL8 = kVar13.l();
                byte bD4 = kVar13.d();
                String strJ3 = kVar13.j();
                kVar13.f();
                int iF8 = -1;
                if (bD4 >= 3) {
                    iF8 = kVar13.f();
                }
                b((c) null, iF8, strJ3, strL8);
                return;
            case 150:
                if (this.C) {
                    d("error, we are a server but got: PACKET_SEND_KICK");
                    return;
                }
                String strC = com.corrodinggames.rts.gameFramework.h.a.c(new k(auVar).l());
                d("we got kicked, reason:" + strC);
                b("I was kicked");
                b("Kicked", "Kicked: " + strC);
                lVarB.d("Kicked", "Kicked: " + strC);
                lVarB.i("Kicked: " + strC);
                return;
            case 151:
                c cVar12 = auVar.f575a;
                if (this.C && !cVar12.q) {
                    d("error, we are a server but got: 151");
                    return;
                }
                long jA = br.a();
                k kVar14 = new k(auVar);
                int iF9 = kVar14.f();
                int iF10 = kVar14.f();
                if (kVar14.e()) {
                    aq.i = kVar14.f();
                }
                if (kVar14.e()) {
                    aq.j = kVar14.f();
                }
                String strC2 = VariableScope.nullOrMissingString;
                if (iF10 == 0) {
                    strC2 = VariableScope.nullOrMissingString + aq.i;
                }
                if (iF10 == 1) {
                    strC2 = VariableScope.nullOrMissingString + aq.j;
                }
                if (iF10 == 2) {
                    strC2 = g(aq.i);
                }
                if (iF10 == 3) {
                    strC2 = com.corrodinggames.rts.gameFramework.f.c(aq.i + "|" + aq.j);
                }
                if (iF10 == 4) {
                    strC2 = com.corrodinggames.rts.gameFramework.f.c(aq.i + "|" + aq.j);
                }
                if (iF10 == 5 || iF10 == 6) {
                    String strL9 = kVar14.l();
                    String strL10 = kVar14.l();
                    int iF11 = kVar14.f();
                    if (iF10 == 6) {
                        strL10 = strL10 + aq.i;
                    }
                    if (iF11 > 10000000) {
                        strC2 = "max";
                    } else {
                        strC2 = "-1";
                        int i4 = 0;
                        while (true) {
                            if (i4 <= iF11) {
                                if (!com.corrodinggames.rts.gameFramework.f.c(strL10 + i4).equals(strL9)) {
                                    i4++;
                                } else {
                                    strC2 = VariableScope.nullOrMissingString + i4;
                                }
                            }
                        }
                    }
                }
                if (iF10 == 7) {
                    String strL11 = kVar14.l();
                    int iF12 = kVar14.f();
                    if (iF12 > 10000) {
                        strC2 = "max";
                    } else {
                        strC2 = VariableScope.nullOrMissingString;
                        for (int i5 = 0; i5 < iF12; i5++) {
                            strC2 = strC2 + strL11;
                        }
                    }
                }
                float fA = br.a(jA);
                as asVar2 = new as();
                asVar2.a(iF9);
                asVar2.a(iF10);
                asVar2.c(strC2);
                asVar2.a(fA);
                a(cVar12, asVar2.b(152));
                return;
            case 160:
                k kVar15 = new k(auVar);
                c cVar13 = auVar.f575a;
                kVar15.l();
                int iF13 = kVar15.f();
                kVar15.f();
                if (iF13 >= 1) {
                    kVar15.f();
                }
                if (cVar13.i) {
                    com.corrodinggames.rts.gameFramework.l.e("steam: request info packet");
                }
                if (iF13 >= 2 && (strJ = kVar15.j()) != null) {
                    cVar13.c("Using query string: " + strJ);
                    cVar13.o = strJ;
                }
                if (iF13 >= 3) {
                    kVar15.l();
                }
                if (iF13 >= 4) {
                    kVar15.l();
                    String strL12 = kVar15.l();
                    if (com.corrodinggames.rts.gameFramework.l.ax()) {
                        cVar13.c("Misc: " + strL12);
                    }
                }
                g(cVar13);
                return;
            case 161:
                if (this.C) {
                    d("we are a server! we don't PREREGISTER_INFO");
                    return;
                }
                k kVar16 = new k(auVar);
                c cVar14 = auVar.f575a;
                if (cVar14.i) {
                    com.corrodinggames.rts.gameFramework.l.e("steam: got info packet");
                }
                kVar16.l();
                int iF14 = kVar16.f();
                int iF15 = kVar16.f();
                kVar16.f();
                kVar16.l();
                this.S = kVar16.l();
                cVar14.E = iF15;
                if (iF14 >= 1) {
                    this.T = kVar16.f();
                }
                if (iF14 >= 2) {
                    this.U = kVar16.f();
                    this.V = kVar16.f();
                }
                if (this.bz) {
                    d("PACKET_SEND_PREREGISTER_INFO: Register connection has already been sent (resending)");
                }
                h(cVar14);
                return;
            case 163:
                if (this.C) {
                    d("we are already a server");
                    return;
                }
                k kVar17 = new k(auVar);
                kVar17.d();
                int iF16 = kVar17.f();
                kVar17.f();
                kVar17.j();
                d("Relay version: " + iF16);
                return;
            case 170:
                d("Got 'become server' packet");
                if (this.C) {
                    d("we are already a server");
                    return;
                }
                c cVar15 = auVar.f575a;
                k kVar18 = new k(auVar);
                byte bD5 = kVar18.d();
                boolean zE3 = kVar18.e();
                boolean zE4 = kVar18.e();
                String strJ4 = kVar18.j();
                boolean zE5 = kVar18.e();
                boolean zE6 = kVar18.e();
                String strJ5 = kVar18.j();
                boolean zE7 = false;
                if (bD5 >= 1) {
                    zE7 = kVar18.e();
                }
                String strJ6 = null;
                if (bD5 >= 2) {
                    strJ6 = kVar18.j();
                }
                d("Multicast:" + zE7);
                cVar15.r = zE7;
                if (zE3) {
                    cVar15.q = true;
                }
                if (zE4) {
                    cVar15.s = true;
                }
                this.D = true;
                this.E = strJ5;
                lVarB.bX.n = null;
                lVarB.bX.o = zE5;
                lVarB.bX.q = zE6;
                c(false);
                if (strJ6 != null) {
                    if (this.z != null) {
                        this.z.P = strJ6;
                    } else {
                        com.corrodinggames.rts.gameFramework.l.e("Become server: No local team");
                    }
                }
                if (lVarB.bX.q) {
                }
                if (strJ4 != null) {
                    lVarB.bQ.networkServerId = strJ4;
                }
                if (lVarB.bx > 60) {
                    this.aa = true;
                }
                if (!this.x && !this.aW) {
                    com.corrodinggames.rts.gameFramework.l.e("enableAllCustomUnitsPossible mods:" + this.o);
                    com.corrodinggames.rts.game.units.custom.ag.b(this.o);
                    this.x = true;
                    return;
                }
                return;
            case 172:
                c cVar16 = auVar.f575a;
                if (!cVar16.q) {
                    d("forwarding not allowed on this connection");
                    return;
                }
                d("got FORWARD_CLIENT_ADD");
                k kVar19 = new k(auVar);
                byte bD6 = kVar19.d();
                int iF17 = kVar19.f();
                String strL13 = kVar19.l();
                String strJ7 = kVar19.j();
                String strJ8 = null;
                if (bD6 >= 1) {
                    strJ8 = kVar19.j();
                }
                if (a(cVar16, iF17) != null) {
                    d("Not adding client:" + iF17 + " already exists");
                    return;
                }
                if (a(cVar16, iF17, strL13, strJ8) != null && strJ7 != null) {
                    com.corrodinggames.rts.game.e eVarB = com.corrodinggames.rts.game.n.b(strL13);
                    if (eVarB == null) {
                        d("PACKET_FORWARD_CLIENT_ADD: Failed to find existing player with id:" + strL13);
                        Iterator it2 = com.corrodinggames.rts.game.n.c().iterator();
                        while (it2.hasNext()) {
                            com.corrodinggames.rts.game.n nVar2 = (com.corrodinggames.rts.game.n) it2.next();
                            if (nVar2 != null) {
                                d("option: " + nVar2.v + " - " + nVar2.P + " - localPlayer:" + (this.z == nVar2));
                            }
                        }
                        return;
                    }
                    eVarB.O = strJ7;
                    return;
                }
                return;
            case 173:
                c cVar17 = auVar.f575a;
                if (!cVar17.q) {
                    d("forwarding not allowed on this connection");
                    return;
                }
                d("got FORWARD_CLIENT_REMOVE");
                k kVar20 = new k(auVar);
                kVar20.d();
                c cVarA = a(cVar17, kVar20.f());
                if (cVarA != null) {
                    b(cVarA, (String) null);
                    return;
                }
                return;
            case 174:
                c cVar18 = auVar.f575a;
                if (!cVar18.q) {
                    d("forwarding not allowed on this connection");
                    return;
                }
                k kVar21 = new k(auVar);
                int iF18 = kVar21.f();
                byte[] bArrT = kVar21.t();
                c cVarA2 = a(cVar18, iF18);
                if (cVarA2 == null) {
                    d("PACKET_FORWARD_CLIENT_FROM failed, cannot find client");
                    return;
                } else if (!(cVarA2.d instanceof h)) {
                    d("PACKET_FORWARD_CLIENT_FROM failed, socket is wrong type");
                    return;
                } else {
                    ((h) cVarA2.d).d.a(bArrT);
                    return;
                }
            case 175:
                d("got PACKET_FORWARD_CLIENT_TO");
                return;
            case 176:
                d("got PACKET_FORWARD_CLIENT_TO_REPEATED");
                return;
            case SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_INPUT /* 178 */:
                d("got PACKET_RECONNECT_TO");
                c cVar19 = auVar.f575a;
                if (this.C && !cVar19.q) {
                    d("we are a server, ");
                    return;
                }
                k kVar22 = new k(auVar);
                kVar22.d();
                kVar22.f();
                boolean zE8 = kVar22.e();
                int iF19 = kVar22.f();
                ArrayList arrayList = new ArrayList();
                for (int i6 = 0; i6 < iF19; i6++) {
                    arrayList.add(kVar22.l());
                }
                a(arrayList, zE8);
                return;
            default:
                d("we did not handle packet:" + auVar.b);
                return;
        }
    }

    public static String i(String str) {
        if (str == null) {
            return null;
        }
        if (str.length() > 250) {
            str = str.substring(0, 250);
        }
        if (str.contains("\n")) {
            str = str.replace("\n", "?");
        }
        String strReplace = str.replace("", ".");
        boolean z = false;
        char[] charArray = strReplace.toCharArray();
        int length = charArray.length;
        int i = 0;
        while (true) {
            if (i >= length) {
                break;
            }
            if (!Character.isISOControl(charArray[i])) {
                i++;
            } else {
                z = true;
                break;
            }
        }
        if (z) {
            StringBuilder sb = new StringBuilder();
            for (char c2 : strReplace.toCharArray()) {
                if (!Character.isISOControl(c2)) {
                    sb.append(c2);
                }
            }
            strReplace = sb.toString();
        }
        return strReplace;
    }

    public void J() {
        com.corrodinggames.rts.gameFramework.l.B().bS.g.m();
    }

    public void K() {
        b((String) null, (String) null);
    }

    public void b(String str, String str2) {
        com.corrodinggames.rts.gameFramework.l.e("closeBattleroom..");
        com.corrodinggames.rts.appFramework.n.a(str, str2);
        this.d.d();
    }

    public synchronized void L() {
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            if (cVar.p) {
                c(cVar);
            }
        }
    }

    public synchronized void c(c cVar) {
        if (!this.C) {
            d("sendServerInfo: we are not a server!");
            return;
        }
        as asVar = new as();
        try {
            asVar.c("com.corrodinggames.rts");
            asVar.a(this.e);
            asVar.a(this.ay.f562a);
            if (this.v) {
                asVar.c("<CHAT ONLY>");
            } else {
                asVar.c(this.ay.b == null ? "<NULL>" : com.corrodinggames.rts.gameFramework.e.a.o(this.ay.b));
            }
            asVar.a(this.ay.c);
            asVar.a(this.ay.d);
            asVar.a(this.ay.e);
            asVar.a(this.ay.f);
            asVar.c(8);
            asVar.a(this.d.a(cVar));
            asVar.a(this.d.b(cVar));
            asVar.a(this.aw);
            asVar.a(this.ax);
            asVar.a(this.ay.g);
            asVar.a(this.ay.h);
            asVar.a(this.ay.i);
            asVar.a(this.ay.j);
            if (this.v) {
                asVar.a(false);
            } else {
                asVar.a(true);
                com.corrodinggames.rts.game.units.custom.l.a(asVar);
            }
            asVar.a(this.ay.l);
            asVar.a(this.ay.m);
            asVar.a(this.ay.n);
            asVar.a(this.ay.o);
            asVar.a(this.ay.p);
            asVar.a(this.ay.q);
            a(cVar, asVar.b(106));
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public synchronized void a(c cVar, String str) {
        if (!this.C) {
            d("sendKick: we are not a server!");
            return;
        }
        d("kicking client reason:" + str);
        as asVar = new as();
        try {
            asVar.c(str);
            a(cVar, asVar.b(150));
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public synchronized void d(c cVar) {
        if (!this.C) {
            d("sendIncorrectPassword: we are not a server!");
            return;
        }
        d("sendIncorrectPassword");
        as asVar = new as();
        try {
            asVar.a(0);
            a(cVar, asVar.b(113));
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public void M() {
        if (this.C) {
            for (int i = 0; i < com.corrodinggames.rts.game.n.f; i++) {
                com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i);
                if (nVarK != null) {
                    if (this.v) {
                        nVarK.ac = 0;
                    } else if (nVarK.b()) {
                        nVarK.ac = 100;
                    } else {
                        nVarK.ac = nVarK.r;
                    }
                    if (nVarK.b()) {
                        nVarK.D = -1;
                    } else {
                        int iS = nVarK.S();
                        if (nVarK.C != null) {
                            iS = nVarK.C.intValue();
                        } else if (a(iS, (com.corrodinggames.rts.game.n) null)) {
                            iS = -1;
                        }
                        nVarK.D = iS;
                    }
                }
            }
            for (int i2 = 0; i2 < com.corrodinggames.rts.game.n.f; i2++) {
                com.corrodinggames.rts.game.n nVarK2 = com.corrodinggames.rts.game.n.k(i2);
                if (nVarK2 != null && nVarK2.D == -1 && !nVarK2.b()) {
                    nVarK2.D = N();
                }
            }
        }
    }

    public int N() {
        for (int i = 0; i < 10; i++) {
            if (!f(i)) {
                return i;
            }
        }
        return -1;
    }

    public boolean f(int i) {
        for (int i2 = 0; i2 < com.corrodinggames.rts.game.n.f; i2++) {
            com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i2);
            if (nVarK != null && nVarK.D == i && !nVarK.b()) {
                return true;
            }
        }
        return false;
    }

    public boolean a(int i, com.corrodinggames.rts.game.n nVar) {
        for (int i2 = 0; i2 < com.corrodinggames.rts.game.n.f; i2++) {
            com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i2);
            if (nVarK != null && nVarK != nVar && nVarK.C != null && nVarK.C.intValue() == i && !nVarK.b()) {
                return true;
            }
        }
        return false;
    }

    public void O() throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        if (this.C) {
            long jCurrentTimeMillis = System.currentTimeMillis();
            int i = com.corrodinggames.rts.gameFramework.l.B().by;
            if (this.z != null && !this.D) {
                this.z.W = -99;
                this.z.X = jCurrentTimeMillis;
            }
            M();
            for (int i2 = 0; i2 < com.corrodinggames.rts.game.n.c; i2++) {
                com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i2);
                if (nVarK != null) {
                    nVarK.c(this.z == nVarK);
                    if (!this.aW) {
                    }
                    if (this.aW && !this.F && !nVarK.w) {
                        boolean z = false;
                        if (nVarK.B()) {
                            z = true;
                        }
                        long j = 60000;
                        if (nVarK.Z > 180000) {
                            j = 160000;
                        }
                        boolean z2 = false;
                        if (this.aa) {
                            if (nVarK.Y == -1) {
                                nVarK.Y = jCurrentTimeMillis;
                                nVarK.Z = i;
                            }
                            if ((this.ak || this.al) && !nVarK.ab) {
                                nVarK.Y = jCurrentTimeMillis;
                                nVarK.Z = i;
                            }
                            if (nVarK.Y + j < jCurrentTimeMillis) {
                                z2 = true;
                            }
                        }
                        if (nVarK.ab != z2) {
                            nVarK.ab = z2;
                        }
                        if (z2) {
                            z = true;
                            if (!nVarK.aa) {
                                if (!(nVarK.G || nVarK.F || nVarK.J || nVarK.b())) {
                                    nVarK.aa = true;
                                }
                            }
                        }
                        if (nVarK.J != z) {
                            if (z && !nVarK.G && !nVarK.F && !nVarK.I && !nVarK.b()) {
                                String str = "-t [Sharing control due to disconnect]";
                                if (z2) {
                                    str = "-t [Sharing control due to afk]";
                                }
                                com.corrodinggames.rts.gameFramework.l.e(nVarK.v + " - " + str);
                                if (com.corrodinggames.rts.game.n.a(nVarK.r, true) > 1) {
                                    a((c) null, nVarK, nVarK.v, str);
                                }
                            }
                            nVarK.J = z;
                        }
                    }
                }
            }
        }
    }

    public void P() {
        if (this.au == 0) {
            this.au = System.currentTimeMillis();
        }
    }

    public void Q() throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        this.au = 0L;
        e((c) null);
    }

    public void e(c cVar) throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        if (!this.C) {
            d("sendUpdatePlayer: we are not a server!");
            return;
        }
        O();
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar2 = (c) it.next();
            if (cVar2.p) {
                as asVar = new as(cVar2.E);
                try {
                    asVar.a(cVar2.c());
                    int i = com.corrodinggames.rts.game.n.c;
                    boolean z = false;
                    if (asVar.g() >= 90) {
                        boolean z2 = false;
                        if (asVar.g() >= 141) {
                            z2 = true;
                            if (this.aW && cVar2.Q) {
                                z = true;
                            }
                            asVar.a(z);
                        }
                        asVar.a(i);
                        asVar.a("teams", z2);
                    } else {
                        i = 8;
                        if (!this.v) {
                            d("sendUpdatePlayer: warning saving with lower team count");
                        }
                    }
                    for (int i2 = 0; i2 < i; i2++) {
                        com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i2);
                        asVar.a(nVarK != null);
                        if (nVarK != null) {
                            int i3 = 0;
                            if (nVarK instanceof com.corrodinggames.rts.game.a.a) {
                                i3 = 1;
                            }
                            asVar.a(i3);
                            if (z) {
                                nVarK.c(asVar);
                            } else {
                                nVarK.b(asVar);
                            }
                        }
                    }
                    if (asVar.g() >= 90) {
                        asVar.a("teams");
                    }
                    asVar.a(this.ay.d);
                    asVar.a(this.ay.c);
                    asVar.a(this.ay.e);
                    asVar.a(this.ay.f);
                    asVar.c(5);
                    asVar.a(this.aw);
                    asVar.a(this.ax);
                    asVar.a(this.ay.g);
                    asVar.a(this.ay.h);
                    asVar.a(this.ay.i);
                    asVar.a(this.ay.j);
                    asVar.a(false);
                    asVar.a(this.ay.l);
                    asVar.a(this.al);
                    int i4 = -1;
                    if (cVar == cVar2 && cVar2.E <= 26) {
                        i4 = 1000;
                    }
                    cVar2.Q = true;
                    a(cVar2, asVar.a(115, i4));
                } catch (IOException e) {
                    throw new RuntimeException(e);
                }
            }
        }
    }

    public void a(c cVar, int i, int i2) {
        as asVar = new as();
        try {
            asVar.c(0);
            asVar.a(i);
            asVar.a(i2);
            a(cVar, asVar.b(4));
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public synchronized boolean R() {
        if (S()) {
            this.p = true;
            this.ay.d = 0;
            return true;
        }
        return false;
    }

    public synchronized boolean S() throws InterruptedException {
        if (this.B) {
            b("Started singleplayer");
        }
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        r();
        this.B = true;
        this.C = true;
        this.F = true;
        this.ay.f562a = lVarB.an();
        this.ay.b = lVarB.am();
        aa();
        this.z = lVarB.bs;
        com.corrodinggames.rts.appFramework.n.o();
        this.m = lVarB.bQ.networkPort;
        d("singleplayer server started");
        return true;
    }

    private void aA() {
        this.ay.q = com.corrodinggames.rts.gameFramework.f.a(1, 1000000000);
    }

    public synchronized boolean b(boolean z) throws IllegalAccessException, InterruptedException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        if (this.B) {
            throw new RuntimeException("networking already started");
        }
        q();
        this.B = true;
        this.C = true;
        aa();
        aA();
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        c(z);
        com.corrodinggames.rts.appFramework.n.o();
        this.m = lVarB.bQ.networkPort;
        com.corrodinggames.rts.gameFramework.o.a.a().i();
        this.aE = new ao(this);
        try {
            this.aE.a(false);
            this.aD = new Thread(this.aE);
            this.aD.setDaemon(true);
            this.aD.start();
            if (1 != 0) {
                this.aG = new ao(this);
                try {
                    this.aG.a(true);
                    this.aF = new Thread(this.aG);
                    this.aF.start();
                } catch (IOException e) {
                    e.printStackTrace();
                    lVarB.a("Could not open udp port:" + this.m + ", check this port is not in use or change the port in the game settings", 1);
                    b("Could not open udp port");
                    return false;
                }
            }
            am();
            if (this.q) {
                n.b();
            }
            this.aV = null;
            if (r) {
                n.a();
            }
            d("server started");
            return true;
        } catch (IOException e2) {
            e2.printStackTrace();
            lVarB.a("Could not open tcp port:" + this.m + ", check this port is not in use or change the port in the game settings", 1);
            b("Could not open tcp port");
            return false;
        }
    }

    public void c(boolean z) {
        int iG;
        this.C = true;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (this.z == null) {
            com.corrodinggames.rts.game.e eVar = null;
            if (!z) {
                iG = com.corrodinggames.rts.game.n.G();
                if (iG == -1) {
                    throw new RuntimeException("playerId is -1 for server player");
                }
            } else {
                eVar = this.bk;
                iG = this.bk.k;
            }
            if (eVar == null) {
                eVar = new com.corrodinggames.rts.game.e(iG);
                eVar.v = this.y;
                lVarB.bs = eVar;
            }
            this.z = eVar;
        }
        if (this.aI == null) {
            com.corrodinggames.rts.gameFramework.l.e("pingerTask starting");
            this.aI = new av(this);
            this.aH = new Timer();
            this.aH.schedule(this.aI, 100L, 100L);
        } else {
            com.corrodinggames.rts.gameFramework.l.e("pingerTask already active");
        }
        com.corrodinggames.rts.appFramework.n.o();
    }

    public boolean T() {
        return com.corrodinggames.rts.gameFramework.l.B().bQ.udpInMultiplayer;
    }

    public an a(String str, boolean z, Runnable runnable) {
        an anVar = new an(str, z, runnable);
        anVar.b();
        return anVar;
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r0v104, types: [java.net.Socket] */
    public static Socket b(String str, boolean z) throws ag, NumberFormatException, IOException {
        a.a.h hVar;
        String str2;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.gameFramework.l.e("Connect to server: " + str + " (force tcp:" + z + ")");
        boolean z2 = false;
        String strTrim = str.trim();
        if (strTrim.startsWith("get|")) {
            String[] strArrSplit = strTrim.split("\\|");
            try {
                String str3 = strArrSplit[0];
                String str4 = strArrSplit[1];
                int i = Integer.parseInt(strArrSplit[2]);
                boolean z3 = Boolean.parseBoolean(strArrSplit[3]);
                Integer.parseInt(strArrSplit[4]);
                if (z3) {
                    lVarB.bX.n = null;
                    final Object obj = new Object();
                    ae aeVar = new ae() { // from class: com.corrodinggames.rts.gameFramework.j.ad.1
                        @Override // com.corrodinggames.rts.gameFramework.j.ae
                        public void a(String str5) {
                            com.corrodinggames.rts.gameFramework.l lVarB2 = com.corrodinggames.rts.gameFramework.l.B();
                            com.corrodinggames.rts.gameFramework.l.e("Entered password");
                            if (lVarB2.bX.C) {
                                com.corrodinggames.rts.gameFramework.l.a("Cannot enter a password when we are a server");
                            } else {
                                lVarB2.bX.n = str5;
                            }
                            synchronized (obj) {
                                obj.notify();
                            }
                        }

                        @Override // com.corrodinggames.rts.gameFramework.j.ae
                        public void a() {
                            synchronized (obj) {
                                obj.notify();
                            }
                        }
                    };
                    com.corrodinggames.rts.gameFramework.l.e("Asking for password..");
                    synchronized (obj) {
                        a(aeVar);
                        try {
                            obj.wait();
                        } catch (InterruptedException e) {
                            e.printStackTrace();
                        }
                    }
                    if (lVarB.bX.n == null) {
                        com.corrodinggames.rts.gameFramework.l.b("No password entered");
                        throw new ag();
                    }
                    com.corrodinggames.rts.gameFramework.l.e("Password has been entered");
                }
                String str5 = null;
                if (z3) {
                    str5 = lVarB.bX.n;
                    if (str5 == null) {
                        throw new IOException("This server requires a password but no password was provided");
                    }
                }
                final Object obj2 = new Object();
                w wVar = new w() { // from class: com.corrodinggames.rts.gameFramework.j.ad.2
                    @Override // com.corrodinggames.rts.gameFramework.j.w
                    public void a(String str6) {
                        super.a(str6);
                        synchronized (obj2) {
                            obj2.notify();
                        }
                    }

                    @Override // com.corrodinggames.rts.gameFramework.j.w
                    public void a(String str6, x xVar, Exception exc) {
                        super.a(str6, xVar, exc);
                        synchronized (obj2) {
                            obj2.notify();
                        }
                    }
                };
                synchronized (obj2) {
                    n.a(wVar, str4, i, str5);
                    try {
                        obj2.wait(15000L);
                    } catch (InterruptedException e2) {
                    }
                }
                if (wVar.b != null) {
                    throw new IOException(wVar.b);
                }
                if (wVar.f600a == null) {
                    throw new IOException("Failed to get game server info.");
                }
                return b(wVar.f600a, z);
            } catch (NumberFormatException e3) {
                e3.printStackTrace();
                throw new IOException("Bad server connect string");
            }
        }
        if (strTrim.toLowerCase(Locale.ENGLISH).endsWith(".relay")) {
            strTrim = strTrim + ".corrodinggames.com";
        }
        if (strTrim.startsWith("[TCP]")) {
            strTrim = strTrim.substring("[TCP]".length());
            z = true;
        }
        if (strTrim.length() > 4 && !strTrim.contains(":") && !strTrim.contains(".") && !strTrim.equals("localhost") && !strTrim.contains("/") && !strTrim.contains("\\")) {
            String str6 = (VariableScope.nullOrMissingString + strTrim.charAt(0)) + ".relay.corrodinggames.com/" + strTrim;
            com.corrodinggames.rts.gameFramework.l.e("Converting connect string to: " + str6);
            strTrim = str6;
        }
        lVarB.bX.L = null;
        if (strTrim.contains("/") || strTrim.contains("\\")) {
            int iIndexOf = strTrim.indexOf("/");
            int iIndexOf2 = strTrim.indexOf("\\");
            if (iIndexOf == -1) {
                iIndexOf = strTrim.length();
            }
            if (iIndexOf2 == -1) {
                iIndexOf2 = strTrim.length();
            }
            int iC = com.corrodinggames.rts.gameFramework.f.c(iIndexOf, iIndexOf2);
            String strTrim2 = strTrim.substring(iC + 1).trim();
            if (!strTrim2.equals(VariableScope.nullOrMissingString)) {
                lVarB.bX.L = strTrim2;
            }
            strTrim = strTrim.substring(0, iC);
        }
        String str7 = strTrim;
        int i2 = 5123;
        String[] strArrSplit2 = strTrim.split(":");
        if (strArrSplit2.length > 1) {
            str7 = null;
            for (int i3 = 0; i3 < strArrSplit2.length - 1; i3++) {
                if (str7 == null) {
                    str2 = VariableScope.nullOrMissingString;
                } else {
                    str2 = str7 + ":";
                }
                str7 = str2 + strArrSplit2[i3];
            }
            String str8 = strArrSplit2[strArrSplit2.length - 1];
            try {
                i2 = Integer.parseInt(str8);
            } catch (NumberFormatException e4) {
                String str9 = "Bad port number:" + str8;
                e4.printStackTrace();
                throw new IOException(str9);
            }
        }
        if (!z && lVarB.bX.T()) {
            z2 = true;
        }
        int i4 = 7000;
        com.corrodinggames.rts.gameFramework.l.e(VariableScope.nullOrMissingString);
        com.corrodinggames.rts.gameFramework.l.e("===============================");
        com.corrodinggames.rts.gameFramework.l.e("Connect to: " + strTrim);
        if (!z2) {
            hVar = new Socket();
            com.corrodinggames.rts.gameFramework.l.e("connecting to Server.. (tcp)");
        } else {
            hVar = new a.a.h();
            com.corrodinggames.rts.gameFramework.l.e("connecting to Server.. (udp)");
            i4 = 5000;
        }
        hVar.setTcpNoDelay(true);
        try {
            try {
                hVar.connect(new InetSocketAddress(InetAddress.getByName(str7), i2), i4);
                return hVar;
            } catch (UnknownHostException e5) {
                String str10 = "Failed to connect to host";
                if (z2) {
                    str10 = str10 + " (udp)";
                }
                com.corrodinggames.rts.gameFramework.l.e("UnknownHostException.." + str10);
                e5.printStackTrace();
                throw new IOException(str10, e5);
            } catch (IOException e6) {
                String str11 = "Failed to connect to host";
                if (z2) {
                    str11 = str11 + " (udp)";
                }
                String str12 = str11 + " - " + e6.getMessage();
                com.corrodinggames.rts.gameFramework.l.e("IOException.." + str12);
                e6.printStackTrace();
                throw new IOException(str12, e6);
            }
        } catch (IllegalArgumentException e7) {
            com.corrodinggames.rts.gameFramework.l.b("IllegalArgumentException..Incorrect server format");
            e7.printStackTrace();
            throw new IOException("Incorrect server format", e7);
        }
    }

    public void U() {
        final com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        final com.corrodinggames.rts.gameFramework.f.a.f fVarA = com.corrodinggames.rts.gameFramework.f.a.f.a(com.corrodinggames.rts.gameFramework.h.a.a("menus.ingame.multiplayerReconnect.message", new Object[0]), false);
        fVarA.a(com.corrodinggames.rts.gameFramework.h.a.a("menus.ingame.resume", new Object[0]), new com.corrodinggames.rts.gameFramework.f.a.k() { // from class: com.corrodinggames.rts.gameFramework.j.ad.3
            @Override // com.corrodinggames.rts.gameFramework.f.a.k
            public boolean a(com.corrodinggames.rts.gameFramework.f.a.c cVar) {
                fVarA.i();
                return true;
            }
        });
        fVarA.a(com.corrodinggames.rts.gameFramework.h.a.a("menus.ingame.reconnect", new Object[0]), new com.corrodinggames.rts.gameFramework.f.a.k() { // from class: com.corrodinggames.rts.gameFramework.j.ad.4
            @Override // com.corrodinggames.rts.gameFramework.f.a.k
            public boolean a(com.corrodinggames.rts.gameFramework.f.a.c cVar) throws InterruptedException {
                fVarA.i();
                ad.this.V();
                return true;
            }
        });
        fVarA.a(com.corrodinggames.rts.gameFramework.h.a.a("menus.ingame.disconnect", new Object[0]), new com.corrodinggames.rts.gameFramework.f.a.k() { // from class: com.corrodinggames.rts.gameFramework.j.ad.5
            @Override // com.corrodinggames.rts.gameFramework.f.a.k
            public boolean a(com.corrodinggames.rts.gameFramework.f.a.c cVar) {
                fVarA.i();
                lVarB.a(new Runnable() { // from class: com.corrodinggames.rts.gameFramework.j.ad.5.1
                    @Override // java.lang.Runnable
                    public void run() throws InterruptedException {
                        ad.this.b("already disconnected");
                        lVarB.bS.g.l();
                    }
                });
                return true;
            }
        });
        lVarB.bS.a(fVarA);
        this.bx = true;
    }

    public synchronized boolean V() throws InterruptedException {
        Socket socket = this.bv;
        if (socket == null) {
            com.corrodinggames.rts.gameFramework.l.e("reconnectToServer: lastConnectedTo==null");
            return false;
        }
        com.corrodinggames.rts.gameFramework.l.e("reconnectToServer attempted");
        if (this.B) {
            com.corrodinggames.rts.gameFramework.l.e("reconnectToServer: disconnecting");
            b("reconnecting");
        }
        if (socket.getInetAddress() == null) {
            com.corrodinggames.rts.gameFramework.l.e("reconnectToServer: lastConnectedTo.getInetAddress()==null");
            return false;
        }
        String str = socket.getInetAddress().getHostAddress() + ":" + socket.getPort();
        com.corrodinggames.rts.gameFramework.l.e("reconnectToServer: connecting to: " + str);
        try {
            return a(b(str, false));
        } catch (ag e) {
            e.printStackTrace();
            return false;
        } catch (IOException e2) {
            e2.printStackTrace();
            return false;
        }
    }

    public synchronized boolean a(Socket socket) throws IllegalAccessException, InterruptedException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        if (this.B) {
            b("starting new");
        }
        if (socket == null) {
            throw new RuntimeException("connectedSocket==null");
        }
        q();
        com.corrodinggames.rts.gameFramework.l.B();
        this.m = socket.getPort();
        this.B = true;
        this.C = false;
        d("connected to Server..");
        c cVar = new c(this, socket);
        cVar.p = true;
        cVar.d();
        this.aM.add(cVar);
        f(cVar);
        am();
        this.bv = socket;
        return true;
    }

    public c c(com.corrodinggames.rts.game.n nVar) {
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            if (cVar.z == nVar) {
                return cVar;
            }
        }
        return null;
    }

    public c d(com.corrodinggames.rts.game.n nVar) {
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            if (!cVar.f580a && cVar.z == nVar) {
                return cVar;
            }
        }
        return null;
    }

    public c W() {
        if (this.C) {
            return null;
        }
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            if (!cVar.f580a) {
                return cVar;
            }
        }
        return null;
    }

    public void d(au auVar) {
        if (!this.B) {
            com.corrodinggames.rts.gameFramework.l.e("Skipping sendPacketToAll, not networked");
        } else {
            i(auVar);
        }
    }

    private void i(au auVar) {
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            if (cVar.p && !cVar.f580a && !cVar.s) {
                cVar.a(auVar);
            }
        }
    }

    public void e(au auVar) {
        if (!this.B) {
            com.corrodinggames.rts.gameFramework.l.e("Skipping sendPacketToAllIncludingRelay, not networked");
            return;
        }
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar = (c) it.next();
            if (cVar.p && !cVar.f580a) {
                cVar.a(auVar);
            }
        }
    }

    public void f(au auVar) {
        if (!this.B) {
            com.corrodinggames.rts.gameFramework.l.e("Skipping sendPacketToServer, not networked");
        } else {
            if (this.C) {
                throw new RuntimeException("We are a server");
            }
            d(auVar);
        }
    }

    public void g(au auVar) {
        if (!this.B) {
            com.corrodinggames.rts.gameFramework.l.e("Skipping sendPacketToClients, not networked");
        } else {
            if (!this.C) {
                throw new RuntimeException("We are not a server");
            }
            e(auVar);
        }
    }

    public void h(au auVar) {
        if (!this.B) {
            com.corrodinggames.rts.gameFramework.l.e("Skipping sendPacketToClients, not networked");
        } else {
            if (!this.C) {
                throw new RuntimeException("We are not a server");
            }
            d(auVar);
        }
    }

    public void a(c cVar, au auVar) {
        if (!this.B) {
            com.corrodinggames.rts.gameFramework.l.e("Skipping sendPacketOnConnection, not networked");
        } else {
            cVar.a(auVar);
        }
    }

    public void X() {
        if (this.C) {
            d("registerConnection: We are a server");
        }
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            h((c) it.next());
        }
    }

    public void Y() throws SocketException {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        lVarB.bQ.networkClientId = null;
        if (this.S == null) {
            com.corrodinggames.rts.gameFramework.l.e("generateNewClientId: serverUUID==null");
            this.S = "x";
        }
        Z();
        lVarB.bQ.save();
    }

    public String Z() throws SocketException {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        boolean z = false;
        if (lVarB.bQ.networkClientId == null) {
            z = true;
        }
        if (!this.by) {
            this.by = true;
            if (com.corrodinggames.rts.gameFramework.l.av()) {
                String strAk = ak();
                if (!strAk.equals(lVarB.bQ.networkClientIdMachineKey)) {
                    if (lVarB.bQ.networkClientIdMachineKey != null) {
                        com.corrodinggames.rts.gameFramework.l.e("Machine appears to have changed: " + lVarB.bQ.networkClientIdMachineKey + " vs " + strAk);
                    }
                    lVarB.bQ.networkClientIdMachineKey = strAk;
                    z = true;
                }
            }
        }
        if (z) {
            com.corrodinggames.rts.gameFramework.l.e("new networkClientId needed");
            lVarB.bQ.networkClientId = UUID.randomUUID().toString();
            lVarB.bQ.save();
        }
        String str = lVarB.bQ.networkClientId;
        if (this.S == null) {
            throw new RuntimeException("getOwnClientIdHashed: serverUUID==null");
        }
        return com.corrodinggames.rts.gameFramework.f.e(str + this.S);
    }

    public void aa() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        lVarB.bQ.networkServerId = UUID.randomUUID().toString();
        lVarB.bQ.save();
    }

    public String ab() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (lVarB.bQ.networkServerId == null) {
            aa();
        }
        return lVarB.bQ.networkServerId;
    }

    public String ac() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (this.C) {
            return lVarB.bQ.networkServerId;
        }
        return this.S;
    }

    public void f(c cVar) {
        as asVar = new as();
        try {
            int i = 1;
            if (com.corrodinggames.rts.gameFramework.l.av()) {
                i = 2;
            }
            if (com.corrodinggames.rts.gameFramework.l.aZ) {
                i = 3;
            }
            asVar.c("com.corrodinggames.rts");
            asVar.a(4);
            asVar.a(this.e);
            asVar.a(i);
            asVar.b(this.L);
            asVar.c(this.y);
            asVar.c(com.corrodinggames.rts.gameFramework.h.a.c());
            String str = VariableScope.nullOrMissingString;
            if (com.corrodinggames.rts.gameFramework.l.aT) {
                str = str + "d";
            }
            asVar.c(str);
            a(cVar, asVar.b(160));
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public void g(c cVar) {
        as asVar = new as();
        try {
            com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
            asVar.c("com.corrodinggames.rts");
            asVar.a(2);
            asVar.a(this.e);
            asVar.a(lVarB.c(true));
            asVar.c(lVarB.l());
            asVar.c(ab());
            asVar.a(cVar.M);
            asVar.a(this.W);
            asVar.a(0);
            a(cVar, asVar.b(161));
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public void h(c cVar) {
        com.corrodinggames.rts.gameFramework.l.e("sendRegisterConnection...");
        as asVar = new as();
        try {
            asVar.c("com.corrodinggames.rts");
            asVar.a(5);
            asVar.a(this.e);
            com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
            asVar.a(lVarB.c(true));
            asVar.c(this.y);
            String strE = null;
            if (this.n != null) {
                strE = com.corrodinggames.rts.gameFramework.f.e(this.n);
            }
            asVar.b(strE);
            asVar.c(lVarB.l());
            asVar.c(Z());
            asVar.a(lVarB.z());
            asVar.c(g(this.T));
            asVar.c(h(this.U));
            a(cVar, asVar.b(110));
            this.bz = true;
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public String g(int i) {
        String str = (((((((((((VariableScope.nullOrMissingString + "c:" + i) + "m:" + ((i * 87) + 24)) + "0:" + (e(0) * 11 * i)) + "1:" + ((e(1) * 12) + i)) + "2:" + (e(2) * 13 * i)) + "3:" + ((e(3) * 14) + i)) + "4:" + (e(4) * 15 * i)) + "5:" + ((e(5) * 16) + i)) + "6:" + (e(6) * 17 * i)) + "7:" + (e(7) * 18 * i)) + "8:" + (e(8) * 19 * i)) + "t1:" + (com.corrodinggames.rts.game.n.j.o * 11.0d * i);
        int i2 = 5 * i;
        if (k() != e(this.ay.c)) {
            i2 = 7 * i;
        }
        return str + "d:" + i2;
    }

    public String h(int i) {
        return com.corrodinggames.rts.gameFramework.f.h(i);
    }

    public void ad() {
        if (this.C) {
            throw new RuntimeException("We are a server");
        }
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        as asVar = new as();
        try {
            asVar.a(this.bG);
            asVar.a(lVarB.bq);
            f(asVar.b(112));
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public void j(String str) {
        if (!this.C) {
            d("cannot send sendSystemMessage:" + str + ", we are not a server");
        } else if (!this.B || this.F) {
            d("cannot send sendSystemMessage:" + str + ", not networked");
        } else {
            com.corrodinggames.rts.gameFramework.l.e("sendSystemMessage:" + str);
            a((c) null, (com.corrodinggames.rts.game.n) null, (String) null, str);
        }
    }

    public void k(String str) {
        m("-qc " + str);
    }

    public void l(String str) {
        boolean z = true;
        String lowerCase = null;
        if (str != null) {
            String strTrim = str.trim();
            if ((strTrim.startsWith("-") || strTrim.startsWith(".") || strTrim.startsWith("_")) && strTrim.length() >= 2) {
                String strTrim2 = strTrim.substring(1).trim();
                int iIndexOf = strTrim2.indexOf(" ");
                if (iIndexOf == -1) {
                    iIndexOf = strTrim2.length();
                }
                lowerCase = strTrim2.substring(0, iIndexOf).toLowerCase(Locale.ENGLISH);
            }
        }
        if ("share".equals(lowerCase)) {
            z = false;
        }
        if ("t".equals(lowerCase)) {
            z = false;
        }
        if (z) {
            str = "-t " + str;
        }
        m(str);
    }

    public void m(String str) {
        if (!this.B) {
            com.corrodinggames.rts.gameFramework.l.e("sendChatMessage: not networked:" + str);
            b((c) null, -1, (String) null, str);
        } else {
            if (this.C) {
                a((c) null, this.z, this.y, str);
                b((c) null, this.z, this.y, str);
                return;
            }
            try {
                as asVar = new as();
                asVar.c(str);
                asVar.c(0);
                f(asVar.b(140));
            } catch (IOException e) {
                throw new RuntimeException(e);
            }
        }
    }

    public void a(c cVar, com.corrodinggames.rts.game.n nVar, String str, String str2) throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        a(cVar, nVar, str, str2, null);
    }

    public void a(c cVar, com.corrodinggames.rts.game.n nVar, String str, String str2, c cVar2) throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        com.corrodinggames.rts.game.e eVar;
        try {
            boolean z = false;
            boolean z2 = false;
            String strN = n(str2);
            if ("t".equalsIgnoreCase(strN)) {
                if (nVar != null) {
                    z = true;
                    str2 = "[TEAM] " + str2.substring("-t".length());
                } else {
                    com.corrodinggames.rts.gameFramework.l.b("toOnlyTeams failed team==null");
                }
            }
            if (nVar != null && "surrender".equalsIgnoreCase(strN)) {
                z = true;
                str2 = "[TEAM] " + str2;
            }
            if (nVar != null && "i".equalsIgnoreCase(strN)) {
                z2 = true;
                str2 = "[INFO] " + str2.substring("-i".length());
            }
            if (nVar != null && "qc".equalsIgnoreCase(strN)) {
                z2 = true;
                str2 = "[COMMAND] " + str2.substring("-qc".length());
            }
            if (!z2 && nVar != null && nVar != this.bj && nVar != this.bk && !this.d.a(cVar, nVar, str2, z)) {
                z2 = true;
            }
            as asVar = new as();
            asVar.c(str2);
            asVar.c(3);
            asVar.b(str);
            asVar.a(cVar);
            int i = -1;
            if (nVar != null) {
                i = nVar.k;
            }
            asVar.a(i);
            au auVarB = asVar.b(141);
            if (z) {
                Iterator it = this.aM.iterator();
                while (it.hasNext()) {
                    c cVar3 = (c) it.next();
                    if (cVar3.p && !cVar3.f580a && (eVar = cVar3.z) != null && eVar.d(nVar)) {
                        cVar3.a(auVarB);
                    }
                }
                com.corrodinggames.rts.game.n nVar2 = this.z;
                if (nVar2 != null && nVar2.d(nVar)) {
                    b(cVar, i, str, str2);
                }
            } else if (z2) {
                com.corrodinggames.rts.gameFramework.l.b("info message:" + c(str, str2));
            } else {
                if (cVar2 != null) {
                    a(cVar2, auVarB);
                } else {
                    g(auVarB);
                }
                b(cVar, i, str, str2);
            }
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public static String n(String str) {
        if (str == null) {
            return null;
        }
        String strTrim = str.trim();
        if ((strTrim.startsWith("-") || strTrim.startsWith(".") || strTrim.startsWith("_")) && strTrim.length() >= 2) {
            String strTrim2 = strTrim.substring(1).trim();
            int iIndexOf = strTrim2.indexOf(" ");
            if (iIndexOf == -1) {
                iIndexOf = strTrim2.length();
            }
            return strTrim2.substring(0, iIndexOf).toLowerCase(Locale.ENGLISH);
        }
        return null;
    }

    public static String c(String str, String str2) {
        if (str != null) {
            return str + ": " + str2;
        }
        return str2;
    }

    public void o(String str) {
        String strC = com.corrodinggames.rts.gameFramework.h.a.c(str);
        this.aC.a(-1, null, strC, null);
        this.d.a(-1, (String) null, strC, (c) null);
        boolean z = false;
        if (this.aW) {
            z = true;
        }
        if (!this.B) {
            z = true;
        }
        if (z) {
            a((String) null, strC);
            return;
        }
        String strC2 = c((String) null, strC);
        if (!com.corrodinggames.rts.gameFramework.l.aU) {
            com.corrodinggames.rts.appFramework.n.d(strC2);
        }
    }

    private void b(c cVar, int i, String str, String str2) throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        if (!this.B && str2.startsWith("-i ")) {
            return;
        }
        if (!this.B && str2.startsWith("-qc ")) {
            return;
        }
        String strC = com.corrodinggames.rts.gameFramework.h.a.c(str2);
        if (str != null) {
            if (strC != null) {
                if (strC.equals("-surrender")) {
                }
                if (this.z == null || i < 0 || this.z.k == i) {
                }
            }
            if (1 != 0) {
                d("New Message", str + ": " + strC);
            }
        }
        c cVar2 = null;
        if (this.C) {
            cVar2 = cVar;
        }
        this.aC.a(i, str, strC, cVar2);
        this.d.a(i, str, strC, cVar);
        boolean z = false;
        if (this.aW) {
            z = true;
        }
        if (!this.B) {
            z = true;
        }
        if (z) {
            a(str, strC);
            return;
        }
        String strC2 = c(str, strC);
        if (!com.corrodinggames.rts.gameFramework.l.aU) {
            com.corrodinggames.rts.appFramework.n.d(strC2);
        }
    }

    public void a(c cVar, byte[] bArr, boolean z, boolean z2) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        try {
            as asVar = new as();
            asVar.c(0);
            asVar.a(lVarB.bx);
            asVar.a(lVarB.by);
            asVar.a(c());
            asVar.a(1.0f);
            asVar.a(z);
            asVar.a(z2);
            asVar.e("gameSave");
            asVar.b(bArr);
            asVar.a("gameSave");
            a(cVar, asVar.b(35));
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public void a(boolean z, boolean z2, boolean z3) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        try {
            as asVar = new as();
            asVar.c(0);
            asVar.a(lVarB.bx);
            asVar.a(lVarB.by);
            asVar.a(c());
            asVar.a(1.0f);
            asVar.a(z);
            asVar.a(z2);
            asVar.e("gameSave");
            lVarB.ca.a(asVar);
            asVar.a("gameSave");
            if (z) {
            }
            au auVarB = asVar.b(35);
            d(auVarB);
            if (z3) {
                if (!this.C) {
                    throw new RuntimeException("sendResyncSave: reloadCreatedSave: We are not a server");
                }
                auVarB.f575a = this.aL;
                a(auVarB);
            }
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public boolean ae() throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        Q();
        L();
        return a((c) null, false);
    }

    public boolean a(c cVar, boolean z) {
        com.corrodinggames.rts.gameFramework.l.e("Sending start game....");
        if (!this.C) {
            throw new RuntimeException("We are not a server");
        }
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        as asVar = new as();
        try {
            asVar.c(0);
            asVar.a(this.ay.f562a);
            if (this.ay.f562a == ai.savedGame) {
                try {
                    lVarB.ca.a(this.ay.b, asVar);
                    asVar.c("SAVE:" + this.ay.b);
                } catch (IOException e) {
                    e.printStackTrace();
                    lVarB.c("Map error starting game", "Map error: " + e.getMessage());
                    return false;
                }
            } else if (this.ay.f562a == ai.customMap) {
                com.corrodinggames.rts.gameFramework.l.e("Starting with custom map: " + l());
                try {
                    com.corrodinggames.rts.game.b.b.a(this.az, asVar);
                    asVar.c("STEAM:" + l());
                } catch (IOException e2) {
                    e2.printStackTrace();
                    lVarB.c("Map error starting game", "Map error: " + e2.getMessage());
                    return false;
                }
            } else {
                asVar.c(l());
            }
            asVar.a(z);
            au auVarB = asVar.b(120);
            if (cVar == null) {
                g(auVarB);
            } else {
                a(cVar, auVarB);
            }
            if (!this.aW) {
                aB();
                return true;
            }
            return true;
        } catch (IOException e3) {
            throw new RuntimeException(e3);
        }
    }

    public void af() throws InterruptedException {
        this.bc = true;
        com.corrodinggames.rts.gameFramework.l.e("onStartGameFailed");
        if (this.C) {
            this.aW = false;
            j("Map load failed.");
        } else {
            b("Map load failed");
        }
    }

    private void aB() {
        this.aY = false;
        this.aW = true;
        this.bc = false;
        this.bd = false;
        com.corrodinggames.rts.gameFramework.l.e("Starting new network game (" + ac() + ")");
        if (this.q && this.C) {
            n.c();
        }
        if (!com.corrodinggames.rts.gameFramework.l.aU) {
            com.corrodinggames.rts.appFramework.n.p();
        }
        this.d.b();
    }

    public void ag() {
        d(5.0f);
    }

    public void d(float f) {
        if (!this.C) {
            throw new RuntimeException("We are not a server");
        }
        if (this.aZ) {
            return;
        }
        com.corrodinggames.rts.gameFramework.l.e("Setting up return to battleroom timer...");
        this.ba = f;
        this.aZ = true;
        j("Game ended by host. Returning to battleroom in " + ((int) f) + " seconds...");
    }

    public void i(c cVar) {
        if (!this.C) {
            throw new RuntimeException("We are not a server");
        }
        try {
            as asVar = new as();
            asVar.c(0);
            au auVarB = asVar.b(122);
            if (cVar == null) {
                h(auVarB);
            } else {
                a(cVar, auVarB);
            }
            aC();
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    private void aC() {
        this.aY = true;
    }

    private void aD() {
        com.corrodinggames.rts.gameFramework.l.e("----- returnToBattleroom -----");
        this.aY = false;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        lVarB.cb.e();
        com.corrodinggames.rts.game.n nVar = this.z;
        lVarB.g();
        s();
        this.z = nVar;
        lVarB.bx = 0;
        lVarB.by = 0;
        A();
        com.corrodinggames.rts.game.n.n();
        if (this.C) {
            aA();
        }
        J();
        if (this.q && this.C) {
            n.c();
        }
        if (!com.corrodinggames.rts.gameFramework.l.aU) {
        }
    }

    public String ah() throws SocketException {
        ArrayList arrayListAj = aj();
        if (arrayListAj == null || arrayListAj.size() == 0) {
            return null;
        }
        return (String) arrayListAj.get(0);
    }

    public String ai() throws SocketException {
        ArrayList arrayListAj = aj();
        if (arrayListAj == null || arrayListAj.size() == 0) {
            return null;
        }
        String str = VariableScope.nullOrMissingString;
        boolean z = true;
        Iterator it = arrayListAj.iterator();
        while (it.hasNext()) {
            String str2 = (String) it.next();
            if (z) {
                z = false;
            } else {
                str = str + ", ";
            }
            str = str + str2;
        }
        return str;
    }

    public ArrayList aj() throws SocketException {
        ArrayList arrayListD;
        if (bA != null) {
            return new ArrayList(bA);
        }
        long jA = br.a();
        ArrayList arrayListD2 = d(true);
        if (arrayListD2 != null && arrayListD2.size() > 0) {
            arrayListD = arrayListD2;
        } else {
            arrayListD = d(false);
        }
        double dA = br.a(jA);
        if (dA > 2.0d) {
            com.corrodinggames.rts.gameFramework.l.b("getLocalIpAddressList was slow, taking:" + br.a(dA));
        }
        if (dA > 10.0d && arrayListD != null && arrayListD.size() > 0) {
            com.corrodinggames.rts.gameFramework.l.e("getLocalIpAddressList: creating cache");
            bA = new ArrayList(arrayListD);
        }
        return arrayListD;
    }

    public String ak() throws SocketException {
        String str = null;
        try {
            Enumeration<NetworkInterface> networkInterfaces = NetworkInterface.getNetworkInterfaces();
            while (true) {
                if (!networkInterfaces.hasMoreElements()) {
                    break;
                }
                byte[] hardwareAddress = networkInterfaces.nextElement().getHardwareAddress();
                if (hardwareAddress != null) {
                    String strTrim = new String(hardwareAddress).trim();
                    if (strTrim.length() > 2) {
                        str = strTrim;
                        break;
                    }
                }
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
        if (str != null) {
            return com.corrodinggames.rts.gameFramework.f.c(str);
        }
        return "[blank]";
    }

    public ArrayList d(boolean z) throws SocketException {
        ArrayList arrayList = new ArrayList();
        try {
            Enumeration<NetworkInterface> networkInterfaces = NetworkInterface.getNetworkInterfaces();
            while (networkInterfaces.hasMoreElements()) {
                Enumeration<InetAddress> inetAddresses = networkInterfaces.nextElement().getInetAddresses();
                while (inetAddresses.hasMoreElements()) {
                    InetAddress inetAddressNextElement = inetAddresses.nextElement();
                    if (!inetAddressNextElement.isLoopbackAddress()) {
                        String string = inetAddressNextElement.getHostAddress().toString();
                        if (!string.contains("%")) {
                            if (!z) {
                                arrayList.add(string);
                            } else if (string.contains(".")) {
                                arrayList.add(string);
                            }
                        }
                    }
                }
            }
        } catch (SocketException e) {
            Log.d("RustedWarfare", e.toString());
        }
        return arrayList;
    }

    InetAddress al() {
        try {
            DhcpInfo dhcpInfo = ((WifiManager) com.corrodinggames.rts.gameFramework.l.B().am.c("wifi")).getDhcpInfo();
            int i = (dhcpInfo.ipAddress & dhcpInfo.netmask) | (dhcpInfo.netmask ^ (-1));
            byte[] bArr = new byte[4];
            for (int i2 = 0; i2 < 4; i2++) {
                bArr[i2] = (byte) ((i >> (i2 * 8)) & 255);
            }
            return InetAddress.getByAddress(bArr);
        } catch (UnknownHostException e) {
            e.printStackTrace();
            return null;
        }
    }

    public void d(String str, String str2) throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        if (com.corrodinggames.rts.gameFramework.l.aU) {
            return;
        }
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (this.F || lVarB.cb.j()) {
            return;
        }
        boolean zL = com.corrodinggames.rts.appFramework.n.l();
        com.corrodinggames.rts.appFramework.f fVar = lVarB.ao;
        if (fVar != null && !fVar.e()) {
            zL = true;
        }
        if (zL) {
            if (this.bB) {
                i(2);
                return;
            }
            return;
        }
        NotificationManager notificationManager = (NotificationManager) lVarB.am.c("notification");
        PendingIntent activity = PendingIntent.getActivity(lVarB.am, 0, new Intent(lVarB.am, (Class<?>) com.corrodinggames.rts.appFramework.a.class), 2);
        if (Build.VERSION.SDK_INT >= 11) {
            Notification.Builder builder = new Notification.Builder(lVarB.am);
            builder.setContentTitle("Rusted Warfare Multiplayer");
            builder.setContentText(str + ": " + str2);
            builder.setSmallIcon(R.drawable.icon);
            builder.setContentIntent(activity);
            builder.setOngoing(false);
            builder.setAutoCancel(true);
            a(notificationManager);
            a(builder, "multiplayerChatId");
            notificationManager.notify(2, builder.getNotification());
            this.bB = true;
        }
    }

    public void am() throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (this.B && lVarB != null && lVarB.M()) {
            aE();
        } else {
            i(1);
            i(2);
        }
    }

    private void a(Notification.Builder builder, String str) throws IllegalAccessException, IllegalArgumentException, InvocationTargetException {
        if (Build.VERSION.SDK_INT >= 26) {
            try {
                builder.getClass().getDeclaredMethod("setChannelId", String.class).invoke(builder, str);
            } catch (Exception e) {
                com.corrodinggames.rts.gameFramework.l.a("setChannelId failed", (Throwable) e);
            }
        }
    }

    private void a(NotificationManager notificationManager) throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        a(notificationManager, "multiplayerChatId", "Multiplayer Chat");
        a(notificationManager, "multiplayerStatusId", "Multiplayer Status");
    }

    private void a(NotificationManager notificationManager, String str, String str2) throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        if (Build.VERSION.SDK_INT >= 26) {
            try {
                Class<?> cls = Class.forName("android.app.NotificationChannel");
                notificationManager.getClass().getDeclaredMethod("createNotificationChannel", cls).invoke(notificationManager, cls.getDeclaredConstructor(String.class, CharSequence.class, Integer.TYPE).newInstance(str, str2, 3));
            } catch (Exception e) {
                com.corrodinggames.rts.gameFramework.l.a("Creating notification channel failed", (Throwable) e);
            }
        }
    }

    private void aE() throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        if (com.corrodinggames.rts.gameFramework.l.aU) {
            return;
        }
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        PendingIntent activity = PendingIntent.getActivity(lVarB.am, 0, new Intent(lVarB.am, (Class<?>) com.corrodinggames.rts.appFramework.a.class), 2);
        NotificationManager notificationManager = (NotificationManager) lVarB.am.c("notification");
        if (Build.VERSION.SDK_INT >= 11) {
            if (Build.VERSION.SDK_INT >= 26) {
            }
            Notification.Builder builder = new Notification.Builder(lVarB.am);
            builder.setContentTitle("Rusted Warfare Multiplayer");
            builder.setContentText("A multiplayer game is in progress");
            builder.setSmallIcon(R.drawable.icon);
            builder.setContentIntent(activity);
            builder.setOngoing(true);
            a(notificationManager);
            a(builder, "multiplayerStatusId");
            if (Build.VERSION.SDK_INT >= 16) {
                builder.build();
            }
            notificationManager.notify(1, builder.getNotification());
        }
    }

    private void i(int i) {
        if (com.corrodinggames.rts.gameFramework.l.aU) {
            return;
        }
        ((NotificationManager) com.corrodinggames.rts.gameFramework.l.B().am.c("notification")).cancel(i);
    }

    public int an() {
        int i = 0;
        for (int i2 = 0; i2 < com.corrodinggames.rts.game.n.c; i2++) {
            com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i2);
            if (nVarK != null && !nVarK.w) {
                i++;
            }
        }
        return i;
    }

    public int ao() {
        int i = 0;
        for (int i2 = 0; i2 < com.corrodinggames.rts.game.n.c; i2++) {
            if (com.corrodinggames.rts.game.n.k(i2) != null) {
                i++;
            }
        }
        return i;
    }

    public void e(com.corrodinggames.rts.game.n nVar) {
        if (this.C) {
            f(nVar);
        } else if (this.H) {
            k("-kick " + (nVar.k + 1));
        } else {
            com.corrodinggames.rts.gameFramework.l.b("kickTeamAndAttachedPlayer: but not server or proxy controller");
        }
    }

    public void f(com.corrodinggames.rts.game.n nVar) {
        if (nVar instanceof com.corrodinggames.rts.game.a.a) {
            nVar.I();
        } else {
            if (this.z == nVar) {
                com.corrodinggames.rts.gameFramework.l.b("kickTeamAndAttachedPlayer", "Cannot kick self");
                return;
            }
            c cVarC = c(nVar);
            if (cVarC == null) {
                g("Kick player: cannot find connection for team");
            } else {
                int i = com.corrodinggames.rts.gameFramework.l.B().bQ.banTimeInSecondsAfterKick;
                if (i > 0) {
                    a(cVarC, "Temporarily banned due to recent kick", i);
                }
                a(cVarC, "Kicked by host");
                cVarC.a("Kicked by host");
            }
            nVar.I();
        }
        P();
        com.corrodinggames.rts.appFramework.n.o();
    }

    public void ap() throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (!this.C) {
            com.corrodinggames.rts.gameFramework.l.b("addAIToGame", "We are not a server");
            return;
        }
        int iG = com.corrodinggames.rts.game.n.G();
        if (iG == -1) {
            lVarB.a("No free slots for AI", 1);
        }
        com.corrodinggames.rts.game.a.a aVar = new com.corrodinggames.rts.game.a.a(iG);
        aVar.v = "AI";
        aVar.r = iG % 2;
        aVar.x = this.ay.f;
        aq();
        lVarB.bX.d.a(aVar);
        lVarB.bX.e((c) null);
        com.corrodinggames.rts.appFramework.n.o();
    }

    public boolean aq() {
        if (!this.C && this.B) {
            com.corrodinggames.rts.gameFramework.l.b("updateNamesOfAI", "We are not a server");
            return false;
        }
        boolean z = false;
        for (int i = 0; i < com.corrodinggames.rts.game.n.c; i++) {
            com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i);
            if (nVarK != null && b(nVarK)) {
                z = true;
            }
        }
        return z;
    }

    public void a(com.corrodinggames.rts.game.n nVar, int i) {
        synchronized (this.bC) {
            c(nVar, i);
        }
    }

    private void c(com.corrodinggames.rts.game.n nVar, int i) {
        if (nVar.k != i) {
            int i2 = nVar.k;
            int i3 = nVar.r;
            boolean z = false;
            if (i == -3) {
                z = true;
                i = com.corrodinggames.rts.game.n.H();
                if (i == -1) {
                    e("No free spectator slots");
                    return;
                }
            }
            com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i);
            nVar.f(i);
            nVar.r = i3;
            if (z) {
                nVar.r = -3;
            }
            if (nVarK != null) {
                int i4 = nVarK.r;
                nVarK.f(i2);
                if (i4 == -3) {
                    nVarK.r = -3;
                } else {
                    nVarK.r = i3;
                }
            }
            M();
            P();
        }
    }

    public void a(am amVar) {
        synchronized (this.bC) {
            b(amVar);
        }
    }

    private synchronized void b(am amVar) {
        if (!com.corrodinggames.rts.gameFramework.l.B().bX.C) {
            com.corrodinggames.rts.gameFramework.l.e("Not server");
            return;
        }
        if (amVar == am.layout_2sides) {
            ArrayList arrayList = new ArrayList();
            for (int i = 0; i < com.corrodinggames.rts.game.n.c; i++) {
                com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i);
                if (nVarK != null) {
                    arrayList.add(nVarK);
                }
            }
            Collections.shuffle(arrayList);
            int size = arrayList.size() / 2;
            if (arrayList.size() % 2 != 0) {
                size += com.corrodinggames.rts.gameFramework.f.a(0, 1);
            }
            if (size >= arrayList.size()) {
                size = arrayList.size();
            }
            int i2 = 0;
            for (int i3 = 0; i3 < size; i3++) {
                ((com.corrodinggames.rts.game.n) arrayList.get(i3)).f(i2);
                i2 += 2;
                ((com.corrodinggames.rts.game.n) arrayList.get(i3)).r = 0;
            }
            int i4 = 1;
            for (int i5 = 0 + size; i5 < arrayList.size(); i5++) {
                ((com.corrodinggames.rts.game.n) arrayList.get(i5)).f(i4);
                i4 += 2;
                ((com.corrodinggames.rts.game.n) arrayList.get(i5)).r = 1;
            }
        } else if (amVar == am.layout_3sides) {
            ArrayList arrayList2 = new ArrayList();
            for (int i6 = 0; i6 < com.corrodinggames.rts.game.n.c; i6++) {
                com.corrodinggames.rts.game.n nVarK2 = com.corrodinggames.rts.game.n.k(i6);
                if (nVarK2 != null) {
                    arrayList2.add(nVarK2);
                }
            }
            Collections.shuffle(arrayList2);
            int size2 = arrayList2.size() / 3;
            if (size2 >= arrayList2.size()) {
                size2 = arrayList2.size();
            }
            int i7 = 0;
            for (int i8 = 0; i8 < size2; i8++) {
                com.corrodinggames.rts.game.n nVar = (com.corrodinggames.rts.game.n) arrayList2.get(i8);
                nVar.f(i7);
                nVar.r = 0;
                i7 += 3;
                arrayList2.set(i8, null);
            }
            int size3 = 0 + size2;
            int size4 = size3 + (arrayList2.size() / 3);
            if (size4 >= arrayList2.size()) {
                size4 = arrayList2.size();
            }
            if (size3 >= arrayList2.size()) {
                size3 = arrayList2.size();
            }
            int i9 = 1;
            for (int i10 = size3; i10 < size4; i10++) {
                com.corrodinggames.rts.game.n nVar2 = (com.corrodinggames.rts.game.n) arrayList2.get(i10);
                nVar2.f(i9);
                nVar2.r = 1;
                i9 += 3;
                arrayList2.set(i10, null);
            }
            int size5 = size3 + size2;
            if (size5 >= arrayList2.size()) {
                size5 = arrayList2.size();
            }
            int i11 = 2;
            for (int i12 = size5; i12 < arrayList2.size(); i12++) {
                com.corrodinggames.rts.game.n nVar3 = (com.corrodinggames.rts.game.n) arrayList2.get(i12);
                if (i11 >= com.corrodinggames.rts.game.n.c) {
                    nVar3.f(i11);
                    nVar3.r = 2;
                    i11 += 3;
                    arrayList2.set(i12, null);
                }
            }
            for (int i13 = 0; i13 < arrayList2.size(); i13++) {
                com.corrodinggames.rts.game.n nVar4 = (com.corrodinggames.rts.game.n) arrayList2.get(i13);
                if (nVar4 != null) {
                    for (int i14 = 0; i14 < com.corrodinggames.rts.game.n.c; i14++) {
                        if (com.corrodinggames.rts.game.n.k(i14) == null) {
                            nVar4.f(i14);
                            nVar4.r = 2;
                            arrayList2.set(i13, null);
                        }
                    }
                }
            }
        } else if (amVar == am.layout_ffa) {
            ArrayList arrayList3 = new ArrayList();
            for (int i15 = 0; i15 < com.corrodinggames.rts.game.n.c; i15++) {
                com.corrodinggames.rts.game.n nVarK3 = com.corrodinggames.rts.game.n.k(i15);
                if (nVarK3 != null) {
                    arrayList3.add(nVarK3);
                }
            }
            Collections.shuffle(arrayList3);
            int i16 = 0;
            for (int i17 = 0; i17 < arrayList3.size(); i17++) {
                ((com.corrodinggames.rts.game.n) arrayList3.get(i17)).f(i16);
                ((com.corrodinggames.rts.game.n) arrayList3.get(i17)).r = i16;
                i16++;
            }
        } else if (amVar == am.layout_spectators) {
            ArrayList arrayList4 = new ArrayList();
            for (int i18 = 0; i18 < com.corrodinggames.rts.game.n.c; i18++) {
                com.corrodinggames.rts.game.n nVarK4 = com.corrodinggames.rts.game.n.k(i18);
                if (nVarK4 != null) {
                    arrayList4.add(nVarK4);
                }
            }
            Collections.shuffle(arrayList4);
            int i19 = 0;
            for (int i20 = 0; i20 < arrayList4.size(); i20++) {
                int iH = com.corrodinggames.rts.game.n.H();
                if (iH != -1) {
                    ((com.corrodinggames.rts.game.n) arrayList4.get(i20)).f(iH);
                }
                ((com.corrodinggames.rts.game.n) arrayList4.get(i20)).r = -3;
                i19++;
            }
        } else {
            throw new RuntimeException("overrideTeamLayout: unhandled layout: " + amVar);
        }
        M();
    }

    public void a(com.corrodinggames.rts.game.n nVar, int i, Integer num) {
        String str = VariableScope.nullOrMissingString;
        if (num != null) {
            str = " " + num;
        }
        if (!this.H && this.z == nVar) {
            k("-self_move " + (i + 1) + str);
        } else {
            k("-move " + (nVar.k + 1) + " " + (i + 1) + str);
        }
    }

    public void b(com.corrodinggames.rts.game.n nVar, int i) {
        if (i != -1) {
            i++;
        }
        if (!this.H && this.z == nVar) {
            k("-self_team " + i);
        } else {
            k("-team " + (nVar.k + 1) + " " + i);
        }
    }

    public void g(com.corrodinggames.rts.game.n nVar) {
        if (!nVar.H) {
            nVar.H = true;
            String str = nVar.v;
            if (str == null) {
                str = "Player - " + (nVar.k + 1) + VariableScope.nullOrMissingString;
            }
            j(str + " is victorious!");
        }
    }

    public void h(com.corrodinggames.rts.game.n nVar) {
        String str;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        boolean z = false;
        String str2 = nVar.v;
        if (str2 == null) {
            str2 = "Player - " + (nVar.k + 1) + VariableScope.nullOrMissingString;
        }
        String str3 = str2 + " was defeated";
        if (!this.bb) {
            str = str3 + " (Team: " + nVar.h() + ")";
        } else {
            int iG = com.corrodinggames.rts.game.n.g();
            str = str3 + " (" + iG + " players remaining)";
            if (iG == 1) {
                z = true;
            }
        }
        if (!lVarB.N() && lVarB.bx < 60) {
            com.corrodinggames.rts.gameFramework.l.e("Not showing defeated message: " + str);
            str = null;
        }
        if (nVar.E) {
            str = null;
        }
        if (str != null) {
            j(str);
        }
        if (z) {
            com.corrodinggames.rts.game.n.Q();
        }
    }

    public void i(com.corrodinggames.rts.game.n nVar) {
        String str;
        String str2;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        String str3 = nVar.v;
        if (str3 == null) {
            str3 = "Player - " + (nVar.k + 1) + VariableScope.nullOrMissingString;
        }
        boolean z = false;
        if (lVarB.bx < 10) {
            str = str3 + " had no starting units";
        } else {
            str = str3 + " has been wiped out";
        }
        if (!this.bb) {
            str2 = str + " (Team: " + nVar.h() + ")";
        } else {
            int iG = com.corrodinggames.rts.game.n.g();
            str2 = str + " (" + iG + " players remaining)";
            if (iG == 1) {
                z = true;
            }
        }
        if (!lVarB.N() && lVarB.bx < 60) {
            com.corrodinggames.rts.gameFramework.l.e("Not showing defeated message: " + str2);
            str2 = null;
        }
        if (nVar.E) {
            str2 = null;
        }
        if (nVar.b()) {
            str2 = null;
        }
        if (str2 != null) {
            j(str2);
        }
        if (z) {
            com.corrodinggames.rts.game.n.Q();
        }
    }

    public synchronized void ar() {
        if (this.bD != null) {
            this.bD.cancel();
            this.bD = null;
        }
    }

    public synchronized void as() {
        if (this.q && this.C && this.bD == null) {
            this.bD = new Timer();
            this.bD.schedule(new TimerTask() { // from class: com.corrodinggames.rts.gameFramework.j.ad.6
                @Override // java.util.TimerTask, java.lang.Runnable
                public void run() {
                    n.c();
                }
            }, 60000L, 60000L);
        }
    }

    public String at() throws SocketException {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        String str = VariableScope.nullOrMissingString;
        if (lVarB.bX.C && !lVarB.bX.F) {
            String strAi = lVarB.bX.ai();
            if (this.D) {
                if (this.E != null) {
                    str = str + this.E;
                }
            } else if (strAi != null) {
                String str2 = "Local IP address: " + strAi + " port: " + lVarB.bX.m;
                if (lVarB.bX.aV != null) {
                    if (!lVarB.bX.aV.booleanValue()) {
                        str2 = str2 + "\nUnable to get a public IP address, check your internet connection";
                    } else if (lVarB.bX.aT != null && lVarB.bX.aU != null) {
                        str2 = str2 + "\nYour public address is " + (lVarB.bX.aU.booleanValue() ? "<Open>" : "<CLOSED>") + " to the internet";
                    }
                } else {
                    str2 = str2 + "\nRetrieving your public IP...";
                }
                str = str + str2;
            } else {
                str = str + "You do not have a network connection";
            }
        }
        if (lVarB.P()) {
            if (this.p) {
                str = str + "SandBox Mode!\nPlace any unit, Control all teams, Special powers";
            } else {
                str = str + "Local skirmish";
            }
        }
        boolean z = true;
        if (com.corrodinggames.rts.gameFramework.l.at() && lVarB.bX.C) {
            z = false;
        }
        if (str.length() != 0) {
            str = str + "\n";
            if (com.corrodinggames.rts.gameFramework.l.av()) {
                str = str + "\n";
            }
        }
        if (lVarB.bX.av || lVarB.bX.C) {
            if (z) {
                if (lVarB.bX.ay.f562a != null) {
                    str = str + "Game Mode: " + lVarB.bX.ay.f562a.a();
                }
                if (lVarB.bX.ay.b != null) {
                    str = str + "\nMap: " + com.corrodinggames.rts.appFramework.i.e(lVarB.bX.ay.b);
                }
            }
            str = (str + "\nStarting Credits: " + lVarB.bX.j()) + "\nFog: " + lVarB.bX.g();
            if (lVarB.bX.ay.g != 1) {
                str = str + "\nStarting Units: " + lVarB.bX.h();
            }
            if (lVarB.bX.ay.h != 1.0f) {
                str = str + "\n" + com.corrodinggames.rts.gameFramework.f.a(lVarB.bX.ay.h, 1) + "X income";
            }
            if (lVarB.bX.ay.i) {
                str = str + "\nNo nukes";
            }
            if (lVarB.bX.ay.l) {
                str = str + "\nShared control: On";
            }
            if (this.C) {
                if (lVarB.bX.n != null) {
                    str = str + "\nPassword Protection: On";
                }
                if (!lVarB.bX.q && !lVarB.bX.F) {
                    str = str + "\nServer Visibility: Hidden";
                }
                if (lVarB.bX.o && !lVarB.bX.F) {
                    ArrayList arrayListJ = lVarB.bZ.j();
                    str = str + "\n-- Required Mods: --\n";
                    int i = 0;
                    Iterator it = arrayListJ.iterator();
                    while (true) {
                        if (!it.hasNext()) {
                            break;
                        }
                        com.corrodinggames.rts.gameFramework.i.b bVar = (com.corrodinggames.rts.gameFramework.i.b) it.next();
                        if (i > 2 && i < arrayListJ.size() - 1) {
                            str = str + VariableScope.nullOrMissingString + (arrayListJ.size() - i) + " more mods...";
                            break;
                        }
                        i++;
                        String strB = bVar.b();
                        strB.replace("\"", "'");
                        strB.replace(";", ".");
                        str = str + " mod: \"" + strB + "\"\n";
                    }
                }
            }
        }
        return str;
    }

    public String au() {
        if (!this.o) {
            return null;
        }
        ArrayList arrayListJ = com.corrodinggames.rts.gameFramework.l.B().bZ.j();
        String str = VariableScope.nullOrMissingString;
        int i = 0;
        Iterator it = arrayListJ.iterator();
        while (true) {
            if (!it.hasNext()) {
                break;
            }
            com.corrodinggames.rts.gameFramework.i.b bVar = (com.corrodinggames.rts.gameFramework.i.b) it.next();
            if (i != 0) {
                str = str + "; ";
            }
            if (i > 1 && i < arrayListJ.size() - 1) {
                str = str + VariableScope.nullOrMissingString + (arrayListJ.size() - i) + " more...";
                break;
            }
            i++;
            String strB = bVar.b();
            strB.replace(";", ".");
            str = str + strB;
        }
        return str;
    }

    public String av() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (lVarB.bX.ay.b == null || lVarB.bX.ay.f562a == null) {
            return null;
        }
        if (lVarB.bX.ay.f562a == ai.skirmishMap) {
            return "maps/skirmish/" + lVarB.bX.ay.b;
        }
        if (lVarB.bX.ay.f562a == ai.customMap) {
            return "/SD/rusted_warfare_maps/" + lVarB.bX.ay.b;
        }
        com.corrodinggames.rts.gameFramework.l.e("getNetworkMapPath: unhandled type:" + lVarB.bX.ay.f562a);
        return null;
    }

    public boolean aw() {
        return this.C || this.H;
    }

    public void a(String str, c cVar) throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        com.corrodinggames.rts.gameFramework.l.e("sendCommandError: " + str);
        if (cVar == null) {
            b((c) null, -1, (String) null, str);
        } else {
            a(null, null, null, str, cVar);
        }
    }

    public boolean b(c cVar, com.corrodinggames.rts.game.n nVar, String str, String str2) throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        String str3;
        int i;
        com.corrodinggames.rts.game.n nVarK;
        String lowerCase = null;
        String strTrim = VariableScope.nullOrMissingString;
        String[] strArrSplit = new String[0];
        String strTrim2 = str2.trim();
        boolean z = false;
        if (strTrim2.startsWith("-qc ")) {
            strTrim2 = strTrim2.substring("-qc ".length()).trim();
            z = true;
        }
        if ((strTrim2.startsWith("-") || strTrim2.startsWith(".") || strTrim2.startsWith("_")) && strTrim2.length() >= 2) {
            String strTrim3 = strTrim2.substring(1).trim();
            int iIndexOf = strTrim3.indexOf(" ");
            if (iIndexOf == -1) {
                iIndexOf = strTrim3.length();
            }
            lowerCase = strTrim3.substring(0, iIndexOf).toLowerCase(Locale.ENGLISH);
            if (iIndexOf != -1 && strTrim3.length() >= iIndexOf + 1) {
                strTrim = strTrim3.substring(iIndexOf + 1).trim();
                strArrSplit = strTrim.split(" ");
            }
        }
        if (lowerCase == null) {
            return false;
        }
        if (z && !"self_move".equals(lowerCase) && !"self_team".equals(lowerCase)) {
            return false;
        }
        if ("pause".equals(lowerCase) || "unpause".equals(lowerCase)) {
            if (nVar == null) {
                a("[Could not find player]", cVar);
                return true;
            }
            if ((!this.C || nVar != this.z) && !this.d.b(cVar)) {
                a("[Only the host can change pause state]", cVar);
                return true;
            }
            if (!this.aW) {
                a("[Game not yet started]", cVar);
                return true;
            }
            boolean z2 = !this.al;
            if ("unpause".equals(lowerCase)) {
                z2 = false;
            }
            e(z2);
            return true;
        }
        if ("endgame".equals(lowerCase)) {
            if (nVar == null) {
                a("[Could not find player]", cVar);
                return true;
            }
            if (!this.C || nVar != this.z) {
                a("[Only the host can end game]", cVar);
                return true;
            }
            if (!this.aW) {
                a("[Game not yet started]", cVar);
                return true;
            }
            ag();
            return true;
        }
        if ("teamlock".equals(lowerCase)) {
            if (nVar == null) {
                a("[Could not find player]", cVar);
                return true;
            }
            if ((!this.C || nVar != this.z) && !this.d.b(cVar)) {
                a("[Only the host can change teamlock]", cVar);
                return true;
            }
            if ("true".equalsIgnoreCase(strTrim) || "on".equalsIgnoreCase(strTrim)) {
                this.ay.m = true;
                a("[teams are locked]", cVar);
                return true;
            }
            if ("false".equalsIgnoreCase(strTrim) || "off".equalsIgnoreCase(strTrim)) {
                this.ay.m = false;
                a("[teams are unlocked]", cVar);
                return true;
            }
            a("[Expected true or false]", cVar);
            return true;
        }
        if ("roomlock".equals(lowerCase)) {
            if (nVar == null) {
                a("[Could not find player]", cVar);
                return true;
            }
            if (!this.C || nVar != this.z) {
                a("[Only the host can change roomlock]", cVar);
                return true;
            }
            if ("true".equalsIgnoreCase(strTrim) || "on".equalsIgnoreCase(strTrim)) {
                this.ay.p = true;
                a("[room is locked]", cVar);
                return true;
            }
            if ("false".equalsIgnoreCase(strTrim) || "off".equalsIgnoreCase(strTrim)) {
                this.ay.p = false;
                a("[room is unlocked]", cVar);
                return true;
            }
            a("[Expected true or false]", cVar);
            return true;
        }
        if ("share".equals(lowerCase)) {
            if (nVar == null) {
                a("[Could not find player]", cVar);
                return true;
            }
            if (!this.ay.l) {
                a("[Shared control is not enabled in this game]", cVar);
                return true;
            }
            if ("true".equalsIgnoreCase(strTrim) || "on".equalsIgnoreCase(strTrim)) {
                if (!nVar.I) {
                    nVar.I = true;
                    j("[shared control now on for " + str + "]");
                    return true;
                }
                j("[shared control already on for " + str + "]");
                return true;
            }
            if ("false".equalsIgnoreCase(strTrim) || "off".equalsIgnoreCase(strTrim)) {
                if (nVar.I) {
                    nVar.I = false;
                    j("[shared control now off for " + str + "]");
                    return true;
                }
                j("[shared control already off for " + str + "]");
                return true;
            }
            a("[Expected true or false]", cVar);
            return true;
        }
        if ("self_move".equals(lowerCase)) {
            if (nVar == null) {
                a("[Cannot Move - Player not found]", cVar);
                return true;
            }
            if (this.aW) {
                a("[Cannot Move '" + nVar.v + "' - Game has been started]", cVar);
                return true;
            }
            if (o()) {
                a("[Cannot Move '" + nVar.v + "' - Game is starting]", cVar);
                return true;
            }
            if (this.ay.m) {
                a("[Cannot Move '" + nVar.v + "' - Teams locked]", cVar);
                return true;
            }
            if (strArrSplit.length > 0) {
                try {
                    int iIntValue = Integer.valueOf(strArrSplit[0]).intValue();
                    Integer numValueOf = null;
                    if (strArrSplit.length > 1) {
                        try {
                            numValueOf = Integer.valueOf(strArrSplit[1]);
                            if (numValueOf.intValue() != -1 && (numValueOf.intValue() < 1 || numValueOf.intValue() > 99)) {
                                a("[Cannot Move Team - Ally group - Out of range]", cVar);
                                return true;
                            }
                        } catch (NumberFormatException e) {
                            a("[Cannot Move '" + nVar.v + "' - ally group '" + strArrSplit[1] + "' is not a number]", cVar);
                            return true;
                        }
                    }
                    boolean z3 = false;
                    if (iIntValue - 1 == -3) {
                        if (!this.ay.o) {
                            a("[Spectators are disabled on this server]", cVar);
                            return true;
                        }
                        synchronized (this.bC) {
                            iIntValue = com.corrodinggames.rts.game.n.H();
                            if (iIntValue != -1) {
                                a(nVar, -3);
                            }
                        }
                        z3 = true;
                    }
                    int i2 = nVar.r;
                    boolean z4 = i2 == -3;
                    if (!z3) {
                        if (iIntValue < 1 || iIntValue > com.corrodinggames.rts.game.n.c) {
                            a("[Cannot Move '" + nVar.v + "' - target slotId must between 1-" + com.corrodinggames.rts.game.n.c + "]", cVar);
                            return true;
                        }
                        synchronized (this.bC) {
                            if (this.z != nVar && (nVarK = com.corrodinggames.rts.game.n.k(iIntValue - 1)) != null && !nVarK.w && !nVarK.b()) {
                                a("[Cannot move '" + nVar.v + "' to slot: " + iIntValue + " - Player: " + nVarK.v + " is in that slot.]", cVar);
                                return true;
                            }
                            a(nVar, iIntValue - 1);
                        }
                    }
                    nVar.r = i2;
                    if (numValueOf != null) {
                        if (numValueOf.intValue() == -1) {
                            nVar.r = nVar.k % 2;
                        } else {
                            nVar.r = numValueOf.intValue();
                        }
                    }
                    if (this.ay.n) {
                        nVar.r = nVar.k % 2;
                    }
                    if (z3) {
                        nVar.r = -3;
                    }
                    if (z3) {
                        if (!z4) {
                            j("Player '" + nVar.v + "' is now a spectator");
                        }
                    } else {
                        j("Player '" + nVar.v + "' moved themselves to: " + iIntValue);
                    }
                    P();
                    com.corrodinggames.rts.appFramework.n.o();
                    return true;
                } catch (NumberFormatException e2) {
                    a("[Cannot Move '" + nVar.v + "' - team '" + strArrSplit[0] + "' is not a number]", cVar);
                    return true;
                }
            }
            a("[Cannot Move '" + nVar.v + "' - No target]", cVar);
            return true;
        }
        if ("self_team".equals(lowerCase)) {
            if (nVar == null) {
                a("[Cannot Set Team - Player not found]", cVar);
                return true;
            }
            if (this.aW) {
                a("[" + nVar.v + ": Cannot Set Team - Game has been started]", cVar);
                return true;
            }
            if (o()) {
                a("[" + nVar.v + ": Cannot Set Team - Game is starting]", cVar);
                return true;
            }
            if (this.ay.m) {
                a("[" + nVar.v + ": Cannot Set Team - Teams locked]", cVar);
                return true;
            }
            if (this.ay.n) {
                return true;
            }
            try {
                int iIntValue2 = Integer.valueOf(strTrim).intValue();
                if (iIntValue2 == -1) {
                    i = nVar.k % 2;
                } else {
                    if (iIntValue2 < 1 || iIntValue2 > 99) {
                        a("[Cannot Set Team - Out of range]", cVar);
                        return true;
                    }
                    i = iIntValue2 - 1;
                }
                if (nVar.r != i) {
                    nVar.r = i;
                    a("Player '" + nVar.v + "' team changed to: " + iIntValue2, cVar);
                }
                P();
                com.corrodinggames.rts.appFramework.n.o();
                return true;
            } catch (NumberFormatException e3) {
                m("'" + strTrim + "' is not a number");
                return true;
            }
        }
        if ("surrender".equals(lowerCase)) {
            if (!this.aW) {
                a("[Cannot Surrender - Game has not started]", cVar);
                return true;
            }
            if (nVar == null) {
                a("[Could not find player]", cVar);
                return true;
            }
            if (!nVar.k()) {
                nVar.l();
                boolean zM = nVar.m();
                com.corrodinggames.rts.gameFramework.l.e(str + ": Is voting to surrender (can surrender:" + zM + ", afk:" + nVar.ab + ", defeated:" + nVar.G + ", disconnected:" + nVar.B() + ")");
                if (zM) {
                    str3 = VariableScope.nullOrMissingString;
                } else {
                    str3 = "(Cannot vote) ";
                }
            } else {
                com.corrodinggames.rts.gameFramework.l.e(str + ": Is already voting to surrender but updating timestamp");
                nVar.l();
                str3 = "(Already voted) ";
            }
            a(cVar, nVar, str, "-t " + str3 + "[Votes to surrender " + (com.corrodinggames.rts.game.n.b(nVar.r) + "/" + com.corrodinggames.rts.game.n.c(nVar.r)) + "]");
            return true;
        }
        return false;
    }

    public static void a(final ae aeVar) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (lVarB.bX != null) {
            lVarB.bX.d.a(aeVar);
        }
        if (com.corrodinggames.rts.gameFramework.l.aU) {
            return;
        }
        com.corrodinggames.rts.appFramework.c.a(new Runnable() { // from class: com.corrodinggames.rts.gameFramework.j.ad.7
            @Override // java.lang.Runnable
            public void run() {
                com.corrodinggames.rts.appFramework.n.a(aeVar);
            }
        });
    }

    public ArrayList ax() {
        ArrayList arrayListC;
        synchronized (this.bC) {
            arrayListC = com.corrodinggames.rts.game.n.c();
        }
        return arrayListC;
    }

    public void e(boolean z) {
        this.al = z;
        if (this.al) {
            j("Game Paused");
        } else {
            j("Game unpaused");
        }
    }

    public void b(c cVar, String str) throws IOException {
        cVar.a(false, false, str);
    }

    public void c(c cVar, String str) {
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar2 = (c) it.next();
            if (cVar2.j == cVar) {
                b(cVar2, str);
            }
        }
    }

    public c a(c cVar, int i, String str, String str2) throws IllegalAccessException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        c cVar2 = new c(this, new h(cVar, i));
        cVar2.k = i;
        cVar2.j = cVar;
        cVar2.m = str;
        cVar2.n = str2;
        try {
            cVar2.d();
            lVarB.bX.aM.add(cVar2);
            lVarB.bX.Q();
            return cVar2;
        } catch (IOException e) {
            e.printStackTrace();
            cVar2.a("crash");
            return null;
        }
    }

    public c a(c cVar, int i) {
        Iterator it = this.aM.iterator();
        while (it.hasNext()) {
            c cVar2 = (c) it.next();
            if (cVar2.k == i && cVar2.j == cVar) {
                return cVar2;
            }
        }
        return null;
    }

    public static String p(String str) {
        String str2;
        String strReplace = str.trim().replace("\n", ".").replace("\r", ".").replace("\t", ".").replace("", ".").replace(" ", "_");
        while (true) {
            str2 = strReplace;
            if (!str2.startsWith(".") && !str2.startsWith("-") && !str2.startsWith(" ")) {
                break;
            }
            strReplace = str2.substring(1);
        }
        StringBuilder sb = new StringBuilder();
        for (char c2 : str2.toCharArray()) {
            if (!Character.isISOControl(c2)) {
                sb.append(c2);
            }
        }
        return sb.toString();
    }

    public void a(ArrayList arrayList, final boolean z) {
        if (this.bF != null) {
            com.corrodinggames.rts.gameFramework.l.e("startJoinServerInternalThread: Already joining");
        } else if (arrayList.size() == 0) {
            com.corrodinggames.rts.gameFramework.l.e("startJoinServerInternalThread: no servers");
        } else {
            this.bF = a((String) arrayList.get(0), false, new Runnable() { // from class: com.corrodinggames.rts.gameFramework.j.ad.8
                @Override // java.lang.Runnable
                public void run() throws IllegalAccessException, InterruptedException, InstantiationException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException {
                    com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
                    com.corrodinggames.rts.gameFramework.l.e("startJoinServerInternalThread callback");
                    an anVar = ad.this.bF;
                    ad.this.bF = null;
                    if (anVar == null) {
                        com.corrodinggames.rts.gameFramework.l.e("startJoinServerInternalThread callback gameConnector==null");
                        return;
                    }
                    if (anVar.e != null) {
                        com.corrodinggames.rts.gameFramework.l.e("startJoinServerInternalThread failed to connect: " + anVar.e);
                        if (z) {
                            lVarB.bX.b("Reconnect failed: " + anVar.e);
                            ad.this.b("Reconnect failed", "reconnect failed");
                            lVarB.d("Reconnect failed", "Reconnect failed: " + anVar.e);
                            lVarB.i("Reconnect failed: " + anVar.e);
                            return;
                        }
                        return;
                    }
                    try {
                        lVarB.bX.b("starting new");
                        lVarB.bX.a(anVar.g);
                    } catch (IOException e) {
                        lVarB.c(e.getMessage(), "Connection failed");
                        e.printStackTrace();
                    }
                }
            });
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/x.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/x.class */
public enum x {
    wrongPassword,
    unknown
}


================================================================================
// FILE_PATH: ./gameFramework/j/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import android.text.Html;
import android.text.Spanned;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.util.Iterator;
import java.util.concurrent.ConcurrentLinkedQueue;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/a.class */
public class a {

    /* renamed from: a, reason: collision with root package name */
    private ConcurrentLinkedQueue f549a = new ConcurrentLinkedQueue();

    public String a(String str) {
        return com.corrodinggames.rts.gameFramework.f.i(str);
    }

    public void a(int i, String str, String str2, c cVar) {
        this.f549a.add(new b(this, i, str, str2.trim(), cVar));
        if (this.f549a.size() > 45) {
            this.f549a.poll();
        }
    }

    public int a(c cVar, int i) {
        if (cVar == null) {
            return 0;
        }
        int i2 = cVar.c;
        int i3 = 0;
        Iterator it = this.f549a.iterator();
        while (it.hasNext()) {
            b bVar = (b) it.next();
            if (bVar.d == i2 && com.corrodinggames.rts.gameFramework.f.a(bVar.e, System.nanoTime()) < i && !bVar.c.startsWith("-i ") && !bVar.c.startsWith("-qc ")) {
                i3++;
                if (bVar.c != null) {
                    if (com.corrodinggames.rts.gameFramework.f.a(bVar.c, '\n') >= 3) {
                        i3 += 2;
                    }
                    if (com.corrodinggames.rts.gameFramework.f.a(bVar.c, '\n') >= 6) {
                        i3 += 2;
                    }
                    if (com.corrodinggames.rts.gameFramework.f.a(bVar.c, '\n') >= 9) {
                        i3 += 2;
                    }
                }
            }
        }
        return i3;
    }

    public String a() {
        String str = VariableScope.nullOrMissingString;
        Iterator it = this.f549a.iterator();
        while (it.hasNext()) {
            str = str + ((b) it.next()).a() + "\n";
        }
        return str;
    }

    public ConcurrentLinkedQueue b() {
        return this.f549a;
    }

    public String a(boolean z) {
        String str = VariableScope.nullOrMissingString;
        if (!z) {
            Iterator it = this.f549a.iterator();
            while (it.hasNext()) {
                str = str + ((b) it.next()).b() + "<br/>\n";
            }
        } else {
            Iterator it2 = this.f549a.iterator();
            while (it2.hasNext()) {
                str = ((b) it2.next()).b() + "<br/>\n" + str;
            }
        }
        return "<pre>" + str + "</pre>";
    }

    public Spanned b(boolean z) {
        return Html.fromHtml(a(z));
    }

    public void c() {
        this.f549a.clear();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/ah.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/ah.class */
public class ah implements Cloneable {
    public boolean l;
    public int q;

    /* renamed from: a, reason: collision with root package name */
    public ai f562a = ai.skirmishMap;
    public String b = "[z;p10]Crossing Large (10p).tmx";
    public int c = 0;
    public int d = 2;
    public boolean e = true;
    public int f = 1;
    public int g = 1;
    public float h = 1.0f;
    public boolean i = false;
    public boolean j = false;
    public boolean k = false;
    public boolean m = false;
    public boolean n = false;
    public boolean o = true;
    public boolean p = false;

    public void a() {
        this.f562a = ai.skirmishMap;
        this.b = "[z;p10]Crossing Large (10p).tmx";
    }

    public String b() {
        return ((((((((((VariableScope.nullOrMissingString + "startingCredits: " + this.c + "\n") + "fogMode: " + this.d + "\n") + "revealedMap: " + this.e + "\n") + "aiDifficulty: " + this.f + "\n") + "startingUnits: " + this.g + "\n") + "incomeMultiplier: " + this.h + "\n") + "noNukes: " + this.i + "\n") + "sharedControl: " + this.l + "\n") + "allowSpectators: " + this.o + "\n") + "lockedRoom: " + this.p + "\n") + "randomSeed: " + this.q + "\n";
    }

    /* renamed from: c, reason: merged with bridge method [inline-methods] */
    public ah clone() {
        try {
            return (ah) super.clone();
        } catch (CloneNotSupportedException e) {
            throw new RuntimeException(e);
        }
    }

    public void a(as asVar) {
        asVar.c(4);
        asVar.a(this.d);
        asVar.a(this.c);
        asVar.a(this.e);
        asVar.a(this.f);
        asVar.a(this.g);
        asVar.a(this.h);
        asVar.a(this.i);
        asVar.a(this.j);
        asVar.a(this.l);
        asVar.a(this.m);
        asVar.a(this.n);
        asVar.a(this.o);
        asVar.a(this.p);
        asVar.a(this.q);
    }

    public void a(k kVar) {
        byte bD = kVar.d();
        this.d = kVar.f();
        this.c = kVar.f();
        this.e = kVar.e();
        this.f = kVar.f();
        this.g = kVar.f();
        this.h = kVar.g();
        this.i = kVar.e();
        this.j = kVar.e();
        this.l = kVar.e();
        if (bD >= 1) {
            this.m = kVar.e();
        }
        if (bD >= 2) {
            this.n = kVar.e();
        }
        if (bD >= 3) {
            this.o = kVar.e();
            this.p = kVar.e();
        }
        if (bD >= 4) {
            this.q = kVar.f();
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/j/t.java
================================================================================

package com.corrodinggames.rts.gameFramework.j;

import java.io.BufferedReader;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/j/t.class */
public class t {

    /* renamed from: a, reason: collision with root package name */
    public BufferedReader f597a;
    public boolean b;
    public boolean c;
}


================================================================================
// FILE_PATH: ./gameFramework/c/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.c;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.PrintWriter;
import java.net.Socket;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/c/b.class */
public class b implements Runnable {

    /* renamed from: a, reason: collision with root package name */
    Socket f464a;
    final /* synthetic */ a b;

    public b(a aVar, Socket socket) {
        this.b = aVar;
        this.f464a = socket;
    }

    @Override // java.lang.Runnable
    public void run() throws IOException {
        String line;
        try {
            try {
                PrintWriter printWriter = new PrintWriter(this.f464a.getOutputStream(), true);
                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(this.f464a.getInputStream()));
                while (this.b.i && (line = bufferedReader.readLine()) != null) {
                    printWriter.print(a.a(line));
                    printWriter.flush();
                }
            } catch (IOException e) {
                e.printStackTrace();
                try {
                    this.f464a.close();
                } catch (IOException e2) {
                    e2.printStackTrace();
                }
            }
        } finally {
            try {
                this.f464a.close();
            } catch (IOException e3) {
                e3.printStackTrace();
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/c/c.java
================================================================================

package com.corrodinggames.rts.gameFramework.c;

import com.corrodinggames.rts.gameFramework.l;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/c/c.class */
class c implements Runnable {

    /* renamed from: a, reason: collision with root package name */
    final /* synthetic */ a f465a;

    c(a aVar) {
        this.f465a = aVar;
    }

    @Override // java.lang.Runnable
    public void run() {
        l lVarB = l.B();
        if (this.f465a.f) {
            this.f465a.f = false;
            return;
        }
        if (a.c) {
            if (lVarB.bL == null) {
                return;
            }
            lVarB.bN.F = true;
            if (!lVarB.bN.j()) {
                a.e += 1.0f;
            }
            if (a.e > 5.0f) {
                a.e = 0.0f;
                System.gc();
                System.gc();
                lVarB.bN.e();
            }
        }
        if (a.d && lVarB.bL != null) {
            lVarB.bL.g();
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/c/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.c;

import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.l;
import java.io.IOException;
import java.net.ServerSocket;
import java.net.Socket;
import java.util.ArrayList;
import java.util.Locale;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/c/a.class */
public class a implements Runnable {
    public static float e;
    public ServerSocket h;

    /* renamed from: a, reason: collision with root package name */
    public static boolean f463a = false;
    public static boolean b = false;
    public static boolean c = false;
    public static boolean d = false;
    public static boolean g = true;
    static ArrayList j = new ArrayList();
    boolean f = true;
    public boolean i = true;

    public static void a() {
        if (!f463a) {
            return;
        }
        l.e("-----");
        l.e("-----");
        l.e("----- Debug Active ----");
        l.e("-----");
        l.e("-----");
        l.aV = true;
        l.B().s();
        new a().b();
    }

    public void b() {
        if (b) {
            a(5677, VariableScope.nullOrMissingString);
        }
        l.B().eb.a(new c(this));
    }

    public void a(int i, String str) {
        try {
            g = true;
            l.aT = true;
            l.e(VariableScope.nullOrMissingString);
            l.e("----- createDebugSocket ----");
            l.e("port: " + i);
            l.e("password: " + str);
            l.e("------------------");
            l.e(VariableScope.nullOrMissingString);
            if (i != -1) {
                this.h = new ServerSocket(i);
                new Thread(this).start();
            }
        } catch (IOException e2) {
            throw new RuntimeException(e2);
        }
    }

    private a() {
    }

    @Override // java.lang.Runnable
    public void run() throws IOException {
        while (this.i) {
            try {
                Socket socketAccept = this.h.accept();
                try {
                    socketAccept.setTcpNoDelay(true);
                    new Thread(new b(this, socketAccept)).run();
                } catch (IOException e2) {
                    l.e("Got IOException on debug connection");
                    e2.printStackTrace();
                    throw new RuntimeException(e2);
                }
            } catch (IOException e3) {
                throw new RuntimeException(e3);
            }
        }
    }

    public static String a(String str) {
        int iIndexOf = str.indexOf(" ");
        if (iIndexOf == -1) {
            iIndexOf = str.length();
        }
        String lowerCase = str.substring(0, iIndexOf).toLowerCase(Locale.ENGLISH);
        if (iIndexOf != -1 && str.length() >= iIndexOf + 1) {
            str.substring(iIndexOf + 1).split(" ");
        }
        if (lowerCase.equalsIgnoreCase("ping")) {
            return "pong";
        }
        if (lowerCase.equalsIgnoreCase("script") || lowerCase.equalsIgnoreCase("function") || lowerCase.equalsIgnoreCase("functionNoTimeout")) {
            return "todo";
        }
        return "unknown command";
    }
}


================================================================================
// FILE_PATH: ./gameFramework/d/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.d;

import android.graphics.Paint;
import android.graphics.RectF;
import com.corrodinggames.rts.R;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.m.ag;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/d/b.class */
public class b {

    /* renamed from: a, reason: collision with root package name */
    boolean f468a = false;
    com.corrodinggames.rts.gameFramework.m.e b = null;
    Paint c = new ag();
    RectF d = new RectF();
    float e = 0.0f;
    float f = 0.0f;

    public boolean a() {
        return l.B().bQ.renderClouds;
    }

    public void b() {
        this.b = l.B().bO.a(R.drawable.noise, false);
        this.f468a = true;
    }

    public void a(float f) {
        if (!a()) {
            return;
        }
        if (!this.f468a) {
            b();
        }
        this.e += 0.2f * f;
        this.f += 0.07f * f;
        this.e %= this.b.m();
        this.f %= this.b.l();
    }

    public void b(float f) {
        if (!a()) {
            return;
        }
        if (!this.f468a) {
            b();
        }
        l lVarB = l.B();
        lVarB.bO.i();
        lVarB.bO.a(3.0f, 3.0f);
        float f2 = (int) com.corrodinggames.rts.gameFramework.f.f((-lVarB.cw) / 3.0f, 0.0f);
        float f3 = (int) com.corrodinggames.rts.gameFramework.f.f((-lVarB.cx) / 3.0f, 0.0f);
        this.d.a(f2, f3, ((int) (lVarB.cA / 3.0f)) + 1, ((int) (lVarB.cB / 3.0f)) + 1);
        this.c.b(-16777216);
        this.c.c(40);
        lVarB.bO.a(this.b, this.d, this.c, (lVarB.cw / 3.0f) + f2 + this.e, (lVarB.cx / 3.0f) + f3 + this.f, 0, 0);
        lVarB.bO.j();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/d/c.java
================================================================================

package com.corrodinggames.rts.gameFramework.d;

import android.content.Context;
import android.graphics.Color;
import android.graphics.LightingColorFilter;
import android.graphics.Paint;
import android.graphics.Rect;
import android.graphics.RectF;
import com.corrodinggames.rts.R;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.m.ae;
import com.corrodinggames.rts.gameFramework.w;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/d/c.class */
public final class c {
    public static boolean h;
    public int i;
    public int j;
    public static ae k;
    public com.corrodinggames.rts.gameFramework.m.e l;
    public com.corrodinggames.rts.gameFramework.m.e m;
    public static g[] s;
    public static e[] f = new e[0];
    public static int g = 0;
    public static final RectF n = new RectF();
    public static final Rect o = new Rect();
    public static final Rect p = new Rect();
    public static final Paint q = new Paint();
    public static final Paint r = new Paint();

    /* renamed from: a, reason: collision with root package name */
    public int f469a = 0;
    public int b = 80;
    public int c = 100;
    public int d = 110;
    public int e = 120;
    private boolean[] y = new boolean[5];
    h t = null;
    boolean u = false;
    boolean v = false;
    public final Paint w = new Paint();
    float x = 0.0f;

    public e a(h hVar) {
        int i = 0;
        int iB = l.B().b();
        if (iB < 13) {
            i = -this.j;
        } else if (iB < 28) {
            i = -this.i;
        }
        int i2 = this.f469a;
        if (hVar == h.verylow && i2 > this.b + i) {
            return null;
        }
        if (hVar == h.low && i2 > this.c + i) {
            return null;
        }
        if (hVar == h.high && i2 > this.d + i) {
            return null;
        }
        if (hVar == h.veryhigh && i2 > this.e + i) {
            return null;
        }
        e eVarA = a(true, (h) null);
        if (eVarA == null && (hVar == h.critical || hVar == h.veryhigh)) {
            eVarA = a(false, h.high);
        }
        if (eVarA != null) {
            if (!eVarA.o) {
                eVarA.o = true;
                this.f469a++;
            }
            return eVarA;
        }
        return null;
    }

    private e a(boolean z, h hVar) {
        e[] eVarArr = f;
        int length = eVarArr.length;
        if (z && hVar == null) {
            for (int i = 0; i < length; i++) {
                e eVar = eVarArr[i];
                if (!eVar.o) {
                    if (g == i) {
                        g++;
                    }
                    return eVar;
                }
            }
            return null;
        }
        for (e eVar2 : eVarArr) {
            if ((!z || !eVar2.o) && (hVar == null || eVar2.q.a(hVar))) {
                return eVar2;
            }
        }
        return null;
    }

    public void a(float f2, float f3, float f4) {
        a(f2, f3, f4, 0.0f, 20.0f);
    }

    public void a(float f2, float f3, float f4, float f5, float f6) {
        for (int i = 0; i < 7; i++) {
            e eVarB = b(f2 + com.corrodinggames.rts.gameFramework.f.c(-20.0f, 20.0f), f3 + com.corrodinggames.rts.gameFramework.f.c(-20.0f, 20.0f), f4);
            if (eVarB != null) {
                eVarB.U = f5 + com.corrodinggames.rts.gameFramework.f.c(0.0f, f6);
                eVarB.aj = com.corrodinggames.rts.gameFramework.f.c(0.3f, 0.6f);
            }
        }
    }

    public float a(float f2, float f3) {
        return com.corrodinggames.rts.gameFramework.f.c(f2, f3);
    }

    public e b(float f2, float f3, float f4) {
        a();
        e eVarB = b(f2, f3, f4, d.custom, false, h.high);
        if (eVarB != null) {
            eVarB.aq = 1;
            eVarB.ae = true;
            eVarB.ak = 0.0f;
            eVarB.aj = 0.5f;
            eVarB.ag = 12;
            eVarB.ap = 0;
            eVarB.V = 35.0f;
            eVarB.W = eVarB.V - 10.0f;
            eVarB.r = true;
            eVarB.E = 0.7f;
            eVarB.Y = a(-180.0f, 180.0f);
            float fA = a(0.8f, 1.0f);
            eVarB.G = fA;
            eVarB.F = fA;
        }
        return eVarB;
    }

    public e c(float f2, float f3, float f4) {
        a();
        e eVarB = b(f2, f3, f4, d.custom, false, h.high);
        if (eVarB != null) {
            eVarB.aq = 13;
            eVarB.ae = true;
            eVarB.ak = 3.0f;
            eVarB.aj = 0.5f;
            eVarB.ag = 7;
            eVarB.ap = 0;
            eVarB.V = 35.0f;
            eVarB.W = eVarB.V - 10.0f;
            eVarB.r = true;
            eVarB.E = 1.0f;
            eVarB.G = 0.5f;
            eVarB.F = 0.5f;
        }
        return eVarB;
    }

    public e a(float f2, float f3, float f4, float f5, float f6, float f7) {
        l lVarB = l.B();
        if (!lVarB.bL.a(f2, f3, lVarB.bs) && !lVarB.bL.a(f5, f6, lVarB.bs)) {
            return null;
        }
        e eVarB = b(f2, f3, f4, d.custom, true, h.high);
        if (eVarB != null) {
            eVarB.an = false;
            eVarB.V = 5.0f;
            eVarB.W = eVarB.V;
            eVarB.r = true;
            eVarB.E = 1.0f;
            eVarB.L = true;
            eVarB.M = f5;
            eVarB.N = f6;
            eVarB.O = f7;
        }
        return eVarB;
    }

    public e a(float f2, float f3, float f4, float f5) {
        return a(f2, f3, f4, f5, 0);
    }

    public e a(float f2, float f3, float f4, float f5, int i) {
        return a(f2, f3, f4, f5, i, 0);
    }

    public e b(float f2, float f3, float f4, float f5, int i) {
        return a(f2, f3, f4, f5, i, 1);
    }

    public e a(float f2, float f3, float f4, float f5, int i, int i2) {
        a();
        e eVarB = b(f2, f3, f4, d.custom, false, h.high);
        if (eVarB != null) {
            eVarB.g = e.j;
            eVarB.ae = true;
            if (i2 == 1) {
                eVarB.aq = 3;
                eVarB.ak = 1.0f;
                eVarB.aj = 0.4f;
                eVarB.ag = 4;
            } else {
                eVarB.aq = 3;
                eVarB.ak = 0.0f;
                eVarB.aj = 0.5f;
                eVarB.ag = 3;
            }
            eVarB.Y = f5;
            eVarB.ap = 0;
            eVarB.V = 20.0f;
            eVarB.W = eVarB.V;
            eVarB.r = false;
            if (i != 0) {
                eVarB.B = new LightingColorFilter(i, 0);
            }
        }
        return eVarB;
    }

    public e c(float f2, float f3, float f4, float f5, int i) {
        e eVarB = b(f2, f3, f4, d.custom, false, h.verylow);
        if (eVarB != null) {
            eVarB.aq = 4;
            eVarB.g = e.i;
            eVarB.ap = com.corrodinggames.rts.gameFramework.f.a(0, 2);
            eVarB.Y = f5;
            eVarB.an = true;
            eVarB.P = com.corrodinggames.rts.gameFramework.f.k(f5) * 0.15f;
            eVarB.Q = com.corrodinggames.rts.gameFramework.f.j(f5) * 0.15f;
            eVarB.V = 30.0f;
            eVarB.W = eVarB.V;
            eVarB.r = true;
            eVarB.ar = (short) 1;
            eVarB.G = 0.8f;
            eVarB.F = 2.3f;
            if (i != 0) {
                eVarB.B = new LightingColorFilter(i, 0);
            }
        }
        return eVarB;
    }

    public static void a(e eVar, w wVar) {
        if (eVar == null) {
            return;
        }
        eVar.b = wVar;
        eVar.I -= wVar.eo;
        eVar.J -= wVar.ep;
        eVar.K -= wVar.eq;
    }

    public e a(w wVar, int i) {
        return a(wVar, i, 0.5f);
    }

    public e a(w wVar, int i, float f2) {
        b();
        e eVarB = b(wVar.eo, wVar.ep, wVar.eq, i);
        if (eVarB != null) {
            eVarB.I = 0.0f;
            eVarB.J = 0.0f;
            eVarB.K = 0.0f;
            eVarB.V = 400.0f;
            eVarB.W = eVarB.V;
            eVarB.E = 0.3f;
            eVarB.G = f2;
            eVarB.b = wVar;
        }
        return eVarB;
    }

    public e a(float f2, float f3, float f4, int i) {
        if (this.t == null && !this.v) {
            a();
        }
        return b(f2, f3, f4, i);
    }

    public e b(float f2, float f3, float f4, int i) {
        e eVarB = b(f2, f3, f4, d.custom, true, h.low);
        if (eVarB != null) {
            eVarB.e = false;
            eVarB.g = e.h;
            eVarB.aq = 2;
            eVarB.V = 10.0f;
            eVarB.W = eVarB.V;
            eVarB.r = true;
            eVarB.E = 0.5f;
            eVarB.ar = (short) 2;
            eVarB.d = true;
            if (i != 0) {
                eVarB.x = i;
                eVarB.B = new LightingColorFilter(i, 0);
            }
        }
        return eVarB;
    }

    public e b(float f2, float f3, float f4, float f5) {
        a();
        e eVarB = b(f2, f3, f4, d.custom, false, h.low);
        if (eVarB != null) {
            eVarB.g = e.l;
            eVarB.aq = 0;
            eVarB.ap = 13;
            eVarB.ar = (short) 1;
            eVarB.r = true;
            eVarB.E = 0.8f;
            eVarB.W = 80.0f;
            eVarB.V = eVarB.W;
            eVarB.Y = com.corrodinggames.rts.gameFramework.f.c(-180.0f, 180.0f);
            eVarB.G = com.corrodinggames.rts.gameFramework.f.c(0.6f, 0.8f);
            eVarB.F = 1.5f;
            eVarB.P = (com.corrodinggames.rts.gameFramework.f.k(f5) * 0.13f * com.corrodinggames.rts.gameFramework.f.c(1.0f, 1.5f)) + com.corrodinggames.rts.gameFramework.f.c(-0.01f, 0.01f);
            eVarB.Q = (com.corrodinggames.rts.gameFramework.f.j(f5) * 0.13f * com.corrodinggames.rts.gameFramework.f.c(1.0f, 1.5f)) + com.corrodinggames.rts.gameFramework.f.c(-0.01f, 0.01f);
        }
        return eVarB;
    }

    public e a(float f2, float f3, float f4, int i, float f5, float f6) {
        e eVarB = b(f2, f3, f4, d.custom, false, h.high);
        if (eVarB != null) {
            eVarB.g = e.l;
            eVarB.aq = 6;
            eVarB.V = 120.0f;
            eVarB.W = eVarB.V;
            eVarB.r = true;
            eVarB.G = 0.2f;
            eVarB.F = 0.9f;
            eVarB.ar = (short) 1;
            eVarB.E = 0.5f;
            eVarB.P = f5;
            eVarB.Q = f6;
            if (i != 0) {
                i = Color.a(255, 0, 0, 200);
            }
            if (i != 0) {
                eVarB.B = new LightingColorFilter(i, 0);
            }
        }
        return eVarB;
    }

    public void a(float f2, float f3, float f4, int i, float f5, float f6, float f7) {
        a(f2, f3, 0.0f, 0, 0.0f, 0.0f);
        for (int i2 = -180; i2 < 180; i2 += 45) {
            float f8 = f7 + i2;
            e eVarB = b(f2 + (com.corrodinggames.rts.gameFramework.f.k(f8) * (-5.0f)), f3 + (com.corrodinggames.rts.gameFramework.f.j(f8) * (-5.0f)), 0.0f, f8);
            if (eVarB != null) {
                eVarB.ar = (short) 2;
                eVarB.s = true;
                eVarB.t = 7.0f;
            }
        }
    }

    public e c(float f2, float f3, float f4, int i) {
        e eVarD = d(f2, f3, f4, i);
        if (eVarD != null) {
            eVarD.aq = 11;
        }
        return eVarD;
    }

    public e d(float f2, float f3, float f4, int i) {
        a();
        e eVarB = b(f2, f3, f4, d.custom, false, h.high);
        if (eVarB != null) {
            eVarB.aq = 6;
            eVarB.V = 30.0f;
            eVarB.W = eVarB.V;
            eVarB.r = true;
            eVarB.G = 0.2f;
            eVarB.F = 1.3f;
            eVarB.ar = (short) 1;
            if (i != 0) {
                eVarB.B = new LightingColorFilter(i, 0);
            }
        }
        return eVarB;
    }

    public e d(float f2, float f3, float f4) {
        e eVarB = b(f2, f3, f4, 0.3f, 0.7f);
        if (eVarB != null) {
            eVarB.aq = 14;
            eVarB.ap = com.corrodinggames.rts.gameFramework.f.a(0, 5);
            eVarB.w = 0.5f;
        }
        return eVarB;
    }

    public e e(float f2, float f3, float f4) {
        e eVarB = b(f2, f3, f4, 1.0f, 1.0f);
        if (eVarB != null) {
        }
        return eVarB;
    }

    public e b(float f2, float f3, float f4, float f5, float f6) {
        b();
        e eVarB = b(f2, f3, f4, d.custom, false, h.high);
        if (eVarB != null) {
            eVarB.g = e.m;
            eVarB.aq = 12;
            eVarB.ap = com.corrodinggames.rts.gameFramework.f.a(0, 7);
            eVarB.V = com.corrodinggames.rts.gameFramework.f.c(400.0f, 800.0f);
            eVarB.W = eVarB.V - 150.0f;
            eVarB.r = true;
            float fC = com.corrodinggames.rts.gameFramework.f.c(0.6f, 1.0f);
            eVarB.G = fC;
            eVarB.F = fC;
            eVarB.ar = (short) 2;
            eVarB.v = true;
            eVarB.as = true;
            float fC2 = com.corrodinggames.rts.gameFramework.f.c(-180.0f, 180.0f);
            float fC3 = com.corrodinggames.rts.gameFramework.f.c(0.4f, 1.2f) * f5;
            eVarB.P = com.corrodinggames.rts.gameFramework.f.k(fC2) * fC3;
            eVarB.Q = com.corrodinggames.rts.gameFramework.f.j(fC2) * fC3;
            eVarB.R = com.corrodinggames.rts.gameFramework.f.c(0.6f, 2.7f) * f6;
            eVarB.Y = com.corrodinggames.rts.gameFramework.f.c(-180.0f, 180.0f);
            eVarB.K += 1.0f;
        }
        return eVarB;
    }

    public e f(float f2, float f3, float f4) {
        e eVarB = b(f2, f3, f4, d.custom, false, h.low);
        if (eVarB != null) {
            eVarB.aq = 8;
            eVarB.V = 480.0f;
            eVarB.W = eVarB.V;
            eVarB.r = false;
            eVarB.ar = (short) 1;
            eVarB.ae = true;
            eVarB.ak = 0.0f;
            eVarB.G = 0.5f;
            eVarB.G = 1.0f;
            int iA = com.corrodinggames.rts.gameFramework.f.a(0, 100);
            if (iA > 80) {
                eVarB.aj = com.corrodinggames.rts.gameFramework.f.c(0.1f, 0.15f);
                eVarB.ag = 15;
            } else if (iA > 60) {
                eVarB.aj = com.corrodinggames.rts.gameFramework.f.c(0.06f, 0.16f);
                eVarB.ah = true;
                eVarB.ag = 6;
                eVarB.r = true;
            } else {
                eVarB.aj = com.corrodinggames.rts.gameFramework.f.c(0.06f, 0.16f);
                eVarB.ah = true;
                eVarB.ag = 3;
                eVarB.r = true;
            }
        }
        return eVarB;
    }

    public void b(h hVar) {
        this.t = hVar;
    }

    public void a() {
        this.u = true;
    }

    public void b() {
        this.v = true;
    }

    public e a(float f2, float f3, float f4, d dVar, boolean z, h hVar) {
        e eVarB = b(f2, f3, f4, dVar, z, hVar);
        if (eVarB != null) {
            eVarB.p = true;
        }
        return eVarB;
    }

    public e b(float f2, float f3, float f4, d dVar, boolean z, h hVar) {
        l lVarB = l.B();
        if (this.t != null) {
            hVar = this.t;
            this.t = null;
        }
        boolean z2 = this.v;
        this.v = false;
        if (this.u) {
            this.u = false;
            if (!lVarB.cP.b(f2, f3)) {
                return null;
            }
        }
        if (!z && lVarB.bL != null && !lVarB.bL.a(f2, f3, lVarB.bs)) {
            return null;
        }
        if (lVarB.cO.b(f2, f3)) {
            if (hVar == h.verylow) {
                hVar = h.low;
            } else if (hVar == h.low) {
                hVar = h.high;
            } else if (hVar == h.high) {
                hVar = h.veryhigh;
            }
        } else if (z2 || lVarB.cP.b(f2, f3)) {
        }
        e eVarA = a(hVar);
        if (eVarA == null) {
            return null;
        }
        eVarA.c();
        eVarA.q = hVar;
        eVarA.aq = 0;
        eVarA.an = true;
        eVarA.I = f2;
        eVarA.J = f3;
        eVarA.K = f4;
        eVarA.E = 1.0f;
        if (dVar == d.hitGround || dVar == d.playerLand || dVar == d.playerJump) {
            eVarA.ap = 7;
            eVarA.V = 12.0f;
            eVarA.r = true;
            eVarA.Q = -0.3f;
            eVarA.E = 0.7f;
            if (dVar == d.playerJump) {
                eVarA.ap = 3;
                eVarA.Q = -0.7f;
                eVarA.V = 24.0f;
                eVarA.E = 0.7f;
            }
            if (dVar == d.playerLand) {
                eVarA.ap = 4;
                eVarA.V = 15.0f;
                eVarA.E = 0.4f;
            }
        }
        if (dVar == d.teleport) {
            eVarA.ap = 1;
            eVarA.V = 25.0f;
            eVarA.r = true;
        }
        if (dVar == d.gemCollect) {
            eVarA.ap = 5;
            eVarA.V = 42.0f;
            eVarA.r = true;
            eVarA.Q = 0.1f;
            eVarA.E = 2.0f;
        }
        if (dVar == d.keyDoorOpen) {
            eVarA.ap = 6;
            eVarA.V = 39.0f;
            eVarA.r = true;
            eVarA.Q = 0.1f;
            eVarA.E = 2.0f;
        }
        if (dVar == d.blood) {
            eVarA.ap = 14;
            eVarA.V = 39.0f;
            eVarA.r = true;
            eVarA.Q = 0.1f;
            eVarA.E = 0.7f;
        }
        eVarA.W = eVarA.V;
        return eVarA;
    }

    public void a(Context context) {
        int i;
        l lVarB = l.B();
        this.w.a(130, 200, 0, 0);
        this.w.a(true);
        this.w.a(2.0f);
        this.w.a(Paint.Cap.ROUND);
        if (l.aW) {
            this.w.a(3.0f);
        }
        s = new g[20];
        g gVar = new g();
        gVar.b = 25;
        gVar.c = 25;
        gVar.d = 1;
        gVar.e = 1;
        gVar.f = 26;
        gVar.g = 26;
        gVar.i = lVarB.bO.a(R.drawable.effects, true);
        gVar.f473a = "effects";
        gVar.a();
        s[0] = gVar;
        g gVar2 = new g();
        gVar2.b = 39;
        gVar2.c = 40;
        gVar2.d = 1;
        gVar2.e = 1;
        gVar2.f = 40;
        gVar2.g = 41;
        gVar2.i = lVarB.bO.a(R.drawable.explode_big, true);
        gVar2.f473a = "explode_big";
        s[1] = gVar2;
        g gVar3 = new g();
        gVar3.k = true;
        gVar3.i = lVarB.bO.a(R.drawable.light_50, true);
        gVar3.f473a = "light_50";
        s[2] = gVar3;
        g gVar4 = new g();
        gVar4.b = 20;
        gVar4.c = 25;
        gVar4.d = 0;
        gVar4.e = 0;
        gVar4.f = 20;
        gVar4.g = 25;
        gVar4.i = lVarB.bO.a(R.drawable.flame, true);
        gVar4.f473a = "flame";
        s[3] = gVar4;
        g gVar5 = new g();
        gVar5.b = 20;
        gVar5.c = 25;
        gVar5.d = 0;
        gVar5.e = 0;
        gVar5.f = gVar5.b;
        gVar5.g = gVar5.c;
        gVar5.i = lVarB.bO.a(R.drawable.dust, true);
        gVar5.f473a = "dust";
        s[4] = gVar5;
        g gVar6 = new g();
        gVar6.b = 50;
        gVar6.c = 40;
        gVar6.d = 0;
        gVar6.e = 0;
        gVar6.f = gVar6.b;
        gVar6.g = gVar6.c;
        gVar6.i = lVarB.bO.a(R.drawable.smoke_black, true);
        gVar6.f473a = "smoke_black";
        gVar6.a();
        s[5] = gVar6;
        g gVar7 = new g();
        gVar7.b = 50;
        gVar7.c = 50;
        gVar7.d = 0;
        gVar7.e = 0;
        gVar7.f = gVar7.b;
        gVar7.g = gVar7.c;
        gVar7.i = lVarB.bO.a(R.drawable.shockwave, true);
        gVar7.f473a = "shockwave";
        s[6] = gVar7;
        g gVar8 = new g();
        gVar8.b = 20;
        gVar8.c = 20;
        gVar8.d = 0;
        gVar8.e = 0;
        gVar8.f = gVar8.b;
        gVar8.g = gVar8.c;
        gVar8.i = lVarB.bO.a(R.drawable.fire, true);
        gVar8.f473a = "fire";
        s[7] = gVar8;
        g gVar9 = new g();
        gVar9.b = 20;
        gVar9.c = 30;
        gVar9.f = gVar9.b + 2;
        gVar9.g = gVar9.c;
        gVar9.i = lVarB.bO.a(R.drawable.lava_bubble, true);
        gVar9.f473a = "lava_bubble";
        s[8] = gVar9;
        g gVar10 = new g();
        gVar10.b = 28;
        gVar10.c = 28;
        gVar10.d = 0;
        gVar10.e = 0;
        gVar10.f = gVar10.b + 1;
        gVar10.g = gVar10.c + 1;
        gVar10.i = lVarB.bO.a(R.drawable.effects2, true);
        gVar10.f473a = "effects2";
        s[9] = gVar10;
        g gVar11 = new g();
        gVar11.b = 20;
        gVar11.c = 25;
        gVar11.d = 0;
        gVar11.e = 0;
        gVar11.f = 20;
        gVar11.g = 25;
        gVar11.i = lVarB.bO.a(R.drawable.plasma_shot, true);
        gVar11.f473a = "plasma_shot";
        s[10] = gVar11;
        g gVar12 = new g();
        gVar12.b = 104;
        gVar12.c = 104;
        gVar12.d = 0;
        gVar12.e = 0;
        gVar12.f = gVar12.b;
        gVar12.g = gVar12.c;
        gVar12.i = lVarB.bO.a(R.drawable.shockwave_large, true);
        gVar12.f473a = "shockwave_large";
        s[11] = gVar12;
        g gVar13 = new g();
        gVar13.b = 20;
        gVar13.c = 20;
        gVar13.d = 0;
        gVar13.e = 0;
        gVar13.f = gVar13.b;
        gVar13.g = gVar13.c;
        gVar13.i = lVarB.bO.a(R.drawable.explode_bits, true);
        gVar13.f473a = "explode_bits";
        gVar13.a();
        s[12] = gVar13;
        g gVar14 = new g();
        gVar14.b = 39;
        gVar14.c = 40;
        gVar14.d = 1;
        gVar14.e = 1;
        gVar14.f = 40;
        gVar14.g = 41;
        gVar14.i = lVarB.bO.a(R.drawable.explode_big2, true);
        gVar14.f473a = "explode_big2";
        s[13] = gVar14;
        g gVar15 = new g();
        gVar15.b = 20;
        gVar15.c = 20;
        gVar15.d = 0;
        gVar15.e = 0;
        gVar15.f = gVar15.b;
        gVar15.g = gVar15.c;
        gVar15.i = lVarB.bO.a(R.drawable.explode_bits_bug, true);
        gVar15.f473a = "explode_bits_bug";
        gVar15.a();
        s[14] = gVar15;
        g gVar16 = new g();
        gVar16.b = 20;
        gVar16.c = 20;
        gVar16.d = 0;
        gVar16.e = 0;
        gVar16.f = gVar16.b;
        gVar16.g = gVar16.c;
        gVar16.i = lVarB.bO.a(R.drawable.projectiles, true);
        gVar16.f473a = "projectiles";
        gVar16.a();
        s[15] = gVar16;
        g gVar17 = new g();
        gVar17.b = 20;
        gVar17.c = 20;
        gVar17.d = 0;
        gVar17.e = 0;
        gVar17.f = gVar17.b;
        gVar17.g = gVar17.c;
        gVar17.i = lVarB.bO.a(R.drawable.projectiles2, true);
        gVar17.f473a = "projectiles2";
        gVar17.a();
        s[16] = gVar17;
        g gVar18 = new g();
        gVar18.b = 30;
        gVar18.c = 30;
        gVar18.d = 0;
        gVar18.e = 0;
        gVar18.f = gVar18.b + 1;
        gVar18.g = gVar18.c + 1;
        gVar18.i = lVarB.bO.a(R.drawable.effects3, true);
        gVar18.f473a = "effects3";
        s[17] = gVar18;
        g gVar19 = new g();
        gVar19.b = 50;
        gVar19.c = 40;
        gVar19.d = 0;
        gVar19.e = 0;
        gVar19.f = gVar19.b;
        gVar19.g = gVar19.c;
        gVar19.i = lVarB.bO.a(R.drawable.smoke_white, true);
        gVar19.f473a = "smoke_white";
        gVar19.a();
        s[18] = gVar19;
        g gVar20 = new g();
        gVar20.b = 56;
        gVar20.c = 56;
        gVar20.d = 0;
        gVar20.e = 0;
        gVar20.f = gVar20.b;
        gVar20.g = gVar20.c;
        gVar20.i = lVarB.bO.a(R.drawable.shockwave2, true);
        gVar20.f473a = "shockwave2";
        gVar20.a();
        s[19] = gVar20;
        if (l.av()) {
            i = 500;
            this.i = 90;
            this.j = 210;
        } else {
            i = 350;
            this.i = 90;
            this.j = 170;
        }
        f = new e[i];
        this.b = i - 60;
        this.c = i - 30;
        this.d = i - 20;
        this.e = i - 10;
        for (int i2 = 0; i2 < f.length; i2++) {
            f[i2] = new e(this);
        }
    }

    public int a(String str) {
        for (int i = 0; i < s.length; i++) {
            if (s[i] != null) {
                if (s[i].f473a != null && s[i].f473a.equalsIgnoreCase(str)) {
                    return i;
                }
                if ((VariableScope.nullOrMissingString + i).equals(str)) {
                    return i;
                }
            }
        }
        return -1;
    }

    public void a(float f2) {
        l lVarB = l.B();
        e[] eVarArr = f;
        for (int i = 0; i < g; i++) {
            e eVar = eVarArr[i];
            if (eVar.o && !eVar.p) {
                eVar.b(f2);
            }
        }
        if (h) {
            while (g > 0 && !eVarArr[g - 1].o) {
                g--;
            }
        }
        this.x += f2;
        if (this.x > 10.0f) {
            this.x = 0.0f;
            lVarB.bL.a(lVarB.cu + com.corrodinggames.rts.gameFramework.f.a(0, (int) lVarB.cA), lVarB.cv + com.corrodinggames.rts.gameFramework.f.a(0, (int) lVarB.cB));
            int i2 = lVarB.bL.T;
            int i3 = lVarB.bL.U;
            com.corrodinggames.rts.game.b.g gVarD = lVarB.bL.d(i2, i3);
            if (gVarD != null && gVarD.g && !gVarD.h) {
                lVarB.bL.a(i2, i3);
                f(lVarB.bL.T + 10, (lVarB.bL.U - 10) + 10, 0.0f);
            }
        }
    }

    public int b(float f2) {
        l lVarB = l.B();
        int i = 0;
        for (int i2 = 0; i2 < this.y.length; i2++) {
            this.y[i2] = false;
        }
        for (int i3 = 0; i3 < g; i3++) {
            e eVar = f[i3];
            if (eVar.o) {
                if (!this.y[eVar.ar]) {
                    this.y[eVar.ar] = true;
                }
                if (eVar.p) {
                    eVar.b(f2);
                }
                if (eVar.as && eVar.a(lVarB, true)) {
                    i++;
                }
            }
        }
        return i;
    }

    public int a(float f2, int i) {
        if (!this.y[i]) {
            return 0;
        }
        l lVarB = l.B();
        int i2 = 0;
        e[] eVarArr = f;
        for (int i3 = 0; i3 < g; i3++) {
            e eVar = eVarArr[i3];
            if (eVar.o && eVar.ar == i && eVar.a(lVarB, false)) {
                i2++;
            }
        }
        return i2;
    }

    public void a(boolean z) {
        if (z) {
            return;
        }
        for (int i = 0; i < f.length; i++) {
            e eVar = f[i];
            if (eVar.o) {
                eVar.o = false;
                this.f469a--;
            }
        }
        if (this.f469a != 0) {
            l.a("EffectEngine::removeAll: effectListActiveSize == " + this.f469a);
        }
        g = 0;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/d/h.java
================================================================================

package com.corrodinggames.rts.gameFramework.d;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/d/h.class */
public enum h {
    verylow,
    low,
    high,
    veryhigh,
    critical;

    public boolean a(h hVar) {
        return hVar == null || ordinal() < hVar.ordinal();
    }
}


================================================================================
// FILE_PATH: ./gameFramework/d/d.java
================================================================================

package com.corrodinggames.rts.gameFramework.d;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/d/d.class */
public enum d {
    custom,
    smoke,
    teleport,
    hitGround,
    playerLand,
    playerJump,
    gemCollect,
    keyDoorOpen,
    blood
}


================================================================================
// FILE_PATH: ./gameFramework/d/e.java
================================================================================

package com.corrodinggames.rts.gameFramework.d;

import android.graphics.Color;
import android.graphics.ColorFilter;
import android.graphics.LightingColorFilter;
import android.graphics.Paint;
import android.graphics.PointF;
import android.graphics.Rect;
import android.graphics.RectF;
import com.corrodinggames.rts.game.units.custom.ay;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.m.ae;
import com.corrodinggames.rts.gameFramework.m.ag;
import com.corrodinggames.rts.gameFramework.utility.y;
import com.corrodinggames.rts.gameFramework.w;
import java.io.IOException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/d/e.class */
public final class e {
    private final c ay;
    public w b;
    public boolean c;
    public boolean d;
    public int g;
    public boolean o;
    public boolean p;
    public boolean r;
    public boolean s;
    public float t;
    public boolean u;
    public boolean v;
    public int x;
    public int y;
    public short A;
    public float E;
    public float F;
    public float G;
    public boolean H;
    public float I;
    public float J;
    public float K;
    public boolean L;
    public float M;
    public float N;
    public float O;
    public float P;
    public float Q;
    public float R;
    public float S;
    public float T;
    public float U;
    public float V;
    public float W;
    public float Y;
    public float Z;
    public String aa;
    public Paint ab;
    public float ac;
    public float ad;
    public boolean ae;
    public int af;
    public int ag;
    public boolean ah;
    public boolean ai;
    public float aj;
    public float ak;
    public boolean al;
    public boolean am;
    public int ap;
    public int aq;
    public float au;
    public int av;
    public boolean aw;
    public static int h = 1;
    public static int i = 2;
    public static int j = 3;
    public static int k = 4;
    public static int l = 5;
    public static int m = 6;
    public static int n = 7;
    public static LightingColorFilter C = null;
    public static int D = 0;
    public static ag[] ax = new ag[128];

    /* renamed from: a, reason: collision with root package name */
    public ay f471a = ay.defaultEffectTemplate;
    public boolean e = true;
    public boolean f = false;
    public h q = h.verylow;
    public float w = 1.0f;
    public float z = -1.0f;
    public LightingColorFilter B = null;
    public float X = 0.0f;
    public boolean an = false;
    public float ao = 0.0f;
    public short ar = 2;
    public boolean as = false;
    public ag at = a();

    protected e(c cVar) {
        this.ay = cVar;
    }

    static {
        for (int i2 = 0; i2 < ax.length; i2++) {
            ax[i2] = a();
            ax[i2].c((int) ((i2 / (ax.length - 1)) * 255.0f));
        }
    }

    public static ag a() {
        return y.b();
    }

    public ag a(float f) {
        int length = (int) (f * (ax.length - 1));
        if (length < 0) {
            length = 0;
        }
        if (length > ax.length - 1) {
            length = ax.length - 1;
        }
        return ax[length];
    }

    public void b() {
        if (this.o) {
            this.o = false;
            this.ay.f469a--;
            c.h = true;
            if (this.f471a.alsoEmitEffectsOnDeath != null && this.A < 20) {
                float f = this.I;
                float f2 = this.J;
                float f3 = this.K;
                if (this.b != null) {
                    f += this.b.eo;
                    f2 += this.b.ep;
                    f3 += this.b.eq;
                }
                this.f471a.alsoEmitEffectsOnDeath.a(f, f2, f3, this.Y, this.b, 0, this.A);
            }
        }
    }

    public void c() {
        this.f471a = ay.defaultEffectTemplate;
        this.q = h.verylow;
        this.b = null;
        this.c = false;
        this.d = false;
        this.e = true;
        this.f = false;
        this.g = 0;
        this.p = false;
        this.I = 0.0f;
        this.J = 0.0f;
        this.L = false;
        this.M = 0.0f;
        this.N = 0.0f;
        this.O = 0.0f;
        this.K = 0.0f;
        this.ar = (short) 2;
        this.an = false;
        this.ao = 0.0f;
        this.ae = false;
        this.ak = 0.0f;
        this.aj = 0.0f;
        this.ag = 0;
        this.ah = false;
        this.ai = false;
        this.al = false;
        this.am = false;
        this.ap = 0;
        this.aq = 0;
        this.U = 0.0f;
        this.V = 15.0f;
        this.W = this.V;
        this.X = 0.0f;
        this.r = false;
        this.s = false;
        this.t = 0.0f;
        this.F = 1.0f;
        this.G = 1.0f;
        this.H = false;
        this.u = false;
        this.v = false;
        this.w = 1.0f;
        this.E = 1.0f;
        this.Y = 0.0f;
        this.Z = 0.0f;
        this.P = 0.0f;
        this.Q = 0.0f;
        this.R = 0.0f;
        this.S = 0.0f;
        this.T = 0.0f;
        this.aa = null;
        this.ab = null;
        this.ac = 0.0f;
        this.ad = 0.0f;
        this.A = (short) 0;
        this.x = -1;
        this.B = null;
        this.y = -1;
        this.z = -1.0f;
        this.at.a((ColorFilter) null);
        this.aw = false;
        this.at.a((ae) null);
        this.as = false;
    }

    public void a(e eVar) {
        this.f471a = eVar.f471a;
        this.q = eVar.q;
        this.g = eVar.g;
        this.b = eVar.b;
        this.c = eVar.c;
        this.d = eVar.d;
        this.e = eVar.e;
        this.p = eVar.p;
        this.I = eVar.I;
        this.J = eVar.J;
        this.L = eVar.L;
        this.M = eVar.M;
        this.N = eVar.N;
        this.O = eVar.O;
        this.K = eVar.K;
        this.ar = eVar.ar;
        this.an = eVar.an;
        this.ao = eVar.ao;
        this.ae = eVar.ae;
        this.ak = eVar.ak;
        this.aj = eVar.aj;
        this.ag = eVar.ag;
        this.ah = eVar.ah;
        this.ai = eVar.ai;
        this.al = eVar.ah;
        this.am = eVar.am;
        this.ap = eVar.ap;
        this.aq = eVar.aq;
        this.U = eVar.U;
        this.V = eVar.V;
        this.W = eVar.W;
        this.X = eVar.X;
        this.r = eVar.r;
        this.s = eVar.s;
        this.t = eVar.t;
        this.F = eVar.F;
        this.G = eVar.G;
        this.H = eVar.H;
        this.u = eVar.u;
        this.v = eVar.v;
        this.w = eVar.w;
        this.E = eVar.E;
        this.Y = eVar.Y;
        this.Z = eVar.Z;
        this.P = eVar.P;
        this.Q = eVar.Q;
        this.R = eVar.R;
        this.S = eVar.S;
        this.T = eVar.T;
        this.aa = eVar.aa;
        this.ab = eVar.ab;
        this.ac = eVar.ac;
        this.ad = eVar.ad;
        this.A = eVar.A;
        this.x = eVar.x;
        this.y = eVar.y;
        this.z = eVar.z;
        this.B = eVar.B;
        this.as = eVar.as;
    }

    public void b(float f) {
        this.U = com.corrodinggames.rts.gameFramework.f.a(this.U, f);
        if (this.U > 0.0f) {
            return;
        }
        this.V -= f;
        if (this.b != null && this.b.ej && !this.f471a.liveAfterAttachedDies) {
            this.V = -1.0f;
        }
        if (this.V < 0.0f) {
            b();
            return;
        }
        if (this.ae) {
            if (this.al) {
                this.ak -= this.aj * f;
            } else {
                this.ak += this.aj * f;
            }
            if (this.ah) {
                if (this.al) {
                    if (this.ak < this.af) {
                        if (!this.ai) {
                            b();
                            return;
                        } else {
                            this.al = false;
                            this.ak = this.af;
                        }
                    }
                } else if (this.ak >= this.ag + 1) {
                    this.al = true;
                    this.ak = this.ag;
                }
            } else if (this.ak >= this.ag + 1) {
                if (!this.ai) {
                    b();
                    return;
                }
                this.ak = this.af;
            }
            this.ap = (int) this.ak;
        }
        if (this.u) {
            this.R -= (this.R * 0.002f) * f;
            this.P -= f * 0.0015f;
        }
        if (this.v) {
            if (this.K > 0.0f) {
                this.R -= (0.1f * this.w) * f;
            } else {
                if (this.R < 0.0f) {
                    this.R = -this.R;
                    this.R *= 0.5f;
                    this.R = com.corrodinggames.rts.gameFramework.f.a(this.R, 1.3f);
                }
                if (this.K < 0.0f) {
                    this.K = 0.0f;
                }
                if (this.R < 0.2d) {
                    this.ar = (short) 1;
                }
                this.P = com.corrodinggames.rts.gameFramework.f.a(this.P, 0.15f * f);
                this.Q = com.corrodinggames.rts.gameFramework.f.a(this.Q, 0.15f * f);
                this.Z = com.corrodinggames.rts.gameFramework.f.a(this.Z, 1.0f * f);
            }
        }
        this.I += this.P * f;
        this.J += this.Q * f;
        this.K += this.R * f;
        this.Y += this.Z * f;
        if (this.f471a.trailEffect != null) {
            this.X += f;
            if (this.X > this.f471a.trailEffectRate) {
                this.X = 0.0f;
                if (this.A < 20) {
                    float f2 = this.I;
                    float f3 = this.J;
                    float f4 = this.K;
                    if (this.b != null) {
                        f2 += this.b.eo;
                        f3 += this.b.ep;
                        f4 += this.b.eq;
                    }
                    this.f471a.trailEffect.a(f2, f3, f4, this.Y, this.b, 0, this.A);
                }
            }
        }
    }

    public static void a(int i2, g gVar, Rect rect) {
        int i3 = 0;
        if (i2 >= gVar.h) {
            i3 = 0 + (i2 / gVar.h);
            i2 %= gVar.h;
        }
        int i4 = gVar.d + (i2 * gVar.f);
        int i5 = gVar.e + (i3 * gVar.g);
        rect.f47a = i4;
        rect.b = i5;
        rect.c = i4 + gVar.b;
        rect.d = i5 + gVar.c;
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r0v158, types: [android.graphics.Paint] */
    public boolean a(l lVar, boolean z) {
        g gVar;
        PointF pointFD;
        float fB;
        ag agVarA;
        Rect rect = c.o;
        RectF rectF = c.n;
        if (this.U > 0.0f) {
            return false;
        }
        if (z && this.K < 1.0f) {
            return false;
        }
        if (this.f471a.imageStrip != null) {
            gVar = this.f471a.imageStrip;
        } else {
            gVar = c.s[this.aq];
        }
        if (!gVar.k) {
            a(this.ap, gVar, rect);
        } else {
            rect.a(0, 0, gVar.i.m(), gVar.i.l());
        }
        if (!z) {
            pointFD = com.corrodinggames.rts.gameFramework.f.d(this.I, this.J, this.K);
        } else {
            pointFD = com.corrodinggames.rts.gameFramework.f.d(this.I, this.J, 0.0f);
        }
        boolean z2 = this.ar == 4;
        float f = 1.0f;
        if (this.G != 1.0f || this.F != 1.0f || this.H) {
            f = com.corrodinggames.rts.gameFramework.f.f(this.G, this.F, 1.0f - (this.V / this.W));
            boolean z3 = this.ar != 4;
            if (this.H && z3) {
                f = f * (1.0f / lVar.cX) * lVar.cj;
            }
        }
        rectF.a(pointFD.f45a, pointFD.b, pointFD.f45a + rect.b(), pointFD.b + rect.c());
        if (this.an) {
            rectF.a((-rectF.b()) / 2.0f, (-rectF.c()) / 2.0f);
        }
        if (this.ao != 0.0f) {
            rectF.a(0.0f, rectF.c() * this.ao * f);
        }
        if (this.b != null) {
            if (!z && !this.c) {
                rectF.a(this.b.eo, this.b.ep - this.b.eq);
            } else {
                rectF.a(this.b.eo, this.b.ep);
            }
        }
        if ((!z2 || this.L) && !com.corrodinggames.rts.gameFramework.f.a(lVar.cN, rectF)) {
            return false;
        }
        if (!this.e && !z2 && !this.f) {
            if (!lVar.bL.a(rectF.d(), rectF.e(), lVar.bs)) {
                return false;
            }
            this.f = true;
        }
        if (!z2) {
            rectF.a(-lVar.cw, -lVar.cx);
        }
        if (this.S != 0.0f) {
            rectF.a(0.0f, com.corrodinggames.rts.gameFramework.f.j(((this.W - this.V) / this.T) * 360.0f) * this.S);
        }
        float f2 = this.W - this.V;
        float fA = 1.0f;
        float f3 = 1.0f;
        float f4 = 1.0f;
        float f5 = 1.0f;
        boolean z4 = false;
        if (this.x != -1) {
            fA = Color.a(this.x) * 0.003921569f;
            int iB = Color.b(this.x);
            int iC = Color.c(this.x);
            int iD = Color.d(this.x);
            if (iB != 255 || iC != 255 || iD != 255) {
                z4 = true;
                f3 = iB * 0.003921569f;
                f4 = iC * 0.003921569f;
                f5 = iD * 0.003921569f;
            }
        }
        if (this.z >= 0.0f) {
            float fA2 = Color.a(this.y) * 0.003921569f;
            float fB2 = Color.b(this.y) * 0.003921569f;
            float fC = Color.c(this.y) * 0.003921569f;
            float fD = Color.d(this.y) * 0.003921569f;
            if (this.z <= f2) {
                fA = fA2;
                z4 = true;
                f3 = fB2;
                f4 = fC;
                f5 = fD;
            } else {
                float f6 = f2 / this.z;
                float f7 = 1.0f - f6;
                fA = (fA * f7) + (fA2 * f6);
                z4 = true;
                f3 = (f3 * f7) + (fB2 * f6);
                f4 = (f4 * f7) + (fC * f6);
                f5 = (f5 * f7) + (fD * f6);
            }
        }
        if (this.r && f2 >= this.t) {
            fB = fA * (this.V / (this.W - this.t)) * this.E;
        } else if (this.s && f2 < this.t) {
            fB = fA * (f2 / this.t) * this.E;
        } else {
            fB = fA * this.E;
        }
        if (fB > 1.0f) {
            fB = 1.0f;
        }
        if (fB < 0.0f) {
            fB = 0.0f;
        }
        boolean z5 = false;
        com.corrodinggames.rts.gameFramework.m.y yVar = lVar.bO;
        if (this.Y != 0.0f) {
            if (0 == 0) {
                z5 = true;
                yVar.k();
            }
            yVar.a(this.Y + 90.0f, rectF.d(), rectF.e());
        }
        if (f != 1.0f) {
            if (!z5) {
                z5 = true;
                yVar.k();
            }
            yVar.a(f, f, rectF.d(), rectF.e());
        }
        if (z) {
            fB = com.corrodinggames.rts.gameFramework.f.b(fB / 3.0f, 0.0f, 1.0f);
            f3 = 0.0f;
            f4 = 0.0f;
            f5 = 0.0f;
            z4 = true;
        }
        if (z4 && l.at() && !z && this.B == null) {
            int iB2 = com.corrodinggames.rts.gameFramework.f.b(255, (int) (f3 * 255.0f), (int) (f4 * 255.0f), (int) (f5 * 255.0f));
            if (C != null && D == iB2) {
                this.B = C;
            } else {
                C = new LightingColorFilter(iB2, 0);
                D = iB2;
                this.B = C;
            }
        }
        LightingColorFilter lightingColorFilter = this.B;
        if (lightingColorFilter != null) {
            if (!this.aw) {
                this.at.a(lightingColorFilter);
                this.aw = true;
            }
            z4 = true;
        } else if (this.aw) {
            this.at.a((ColorFilter) null);
            this.aw = false;
        }
        if (this.ar == 3) {
            if (c.k == null) {
                l.e("Loading displacement shader");
                try {
                    c.k = new ae("assets/shaders/post_displacement.frag");
                } catch (IOException e) {
                    throw new RuntimeException(e);
                }
            }
            if (this.ay.l != null) {
                ae aeVar = c.k;
                aeVar.a("screenBase", this.ay.l);
                aeVar.b("screenBaseSize", this.ay.l);
                aeVar.a("u_resolution", lVar.cl, lVar.cm);
                aeVar.a("u_offsetBy", 0.12f * lVar.cX);
                this.at.a(aeVar);
                z4 = true;
            }
        }
        if (!z4) {
            agVarA = a(fB);
        } else {
            agVarA = this.at;
            int iB3 = com.corrodinggames.rts.gameFramework.f.b(255, (int) (f3 * 255.0f), (int) (f4 * 255.0f), (int) (f5 * 255.0f));
            float f8 = this.au - fB;
            if (f8 < -0.01f || f8 > 0.01f || this.av != iB3) {
                this.au = fB;
                this.av = iB3;
                this.at.b(com.corrodinggames.rts.gameFramework.f.b((int) (fB * 255.0f), (int) (f3 * 255.0f), (int) (f4 * 255.0f), (int) (f5 * 255.0f)));
            }
        }
        if (this.aa != null) {
            ag agVar = agVarA;
            if (this.ab != null) {
                agVar = this.ab;
            }
            yVar.a(this.aa, rectF.d() + this.ac, rectF.e() + this.ad, agVar);
        }
        if (this.L) {
            PointF pointFD2 = com.corrodinggames.rts.gameFramework.f.d(this.M, this.N, this.O);
            yVar.a(rectF.f48a, rectF.b, pointFD2.f45a - lVar.cw, pointFD2.b - lVar.cx, this.ay.w);
        } else if (z) {
            if (gVar.j != null) {
                yVar.a(gVar.j, rect, rectF, agVarA);
            }
        } else {
            yVar.a(gVar.i, rect, rectF, agVarA);
        }
        if (z5) {
            yVar.l();
            return true;
        }
        return true;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/d/f.java
================================================================================

package com.corrodinggames.rts.gameFramework.d;

import com.corrodinggames.rts.gameFramework.j.as;
import com.corrodinggames.rts.gameFramework.j.k;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.w;
import java.io.IOException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/d/f.class */
public class f extends w {

    /* renamed from: a, reason: collision with root package name */
    public float f472a;
    float c;
    float d;
    float e;
    float f;
    float g;
    float h;
    e i;
    float m;
    float n;
    float o;
    float p;
    float q;
    float r;
    h s;
    public float t;
    static e v;
    static e w;
    private final c x;
    public boolean b = true;
    public int j = 0;
    public int k = 0;
    public int l = -1;
    public boolean u = false;

    public static void b() {
        c cVar = l.B().bR;
        e eVar = new e(cVar);
        a(eVar, false);
        eVar.aq = 18;
        eVar.t = 15.0f;
        v = eVar;
        e eVar2 = new e(cVar);
        b(eVar2, false);
        w = eVar2;
    }

    @Override // com.corrodinggames.rts.gameFramework.w, com.corrodinggames.rts.gameFramework.bq
    public void a(as asVar) throws IOException {
        asVar.a(this.eo);
        asVar.a(this.ep);
        asVar.a(this.f472a);
        super.a(asVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void a(k kVar) {
        this.eo = kVar.g();
        this.ep = kVar.g();
        this.f472a = kVar.g();
        this.b = false;
        super.a(kVar);
    }

    public f(c cVar) {
        this.x = cVar;
    }

    public static void a(e eVar, boolean z) {
        eVar.c();
        eVar.aq = 5;
        if (z) {
            eVar.ap = com.corrodinggames.rts.gameFramework.f.a(0, 1);
        } else {
            eVar.ap = 0;
        }
        eVar.Y = 0.0f;
        eVar.an = true;
        eVar.P = 0.1f;
        eVar.R = 0.5f;
        eVar.u = true;
        eVar.V = 300.0f;
        eVar.W = eVar.V;
        eVar.r = true;
        eVar.s = true;
        eVar.t = 40.0f;
        eVar.as = false;
        eVar.ar = (short) 2;
        eVar.G = 0.4f;
        eVar.F = 1.5f;
        eVar.g = e.k;
    }

    public static void b(e eVar, boolean z) {
        eVar.c();
        eVar.aq = 7;
        if (z) {
            eVar.ap = com.corrodinggames.rts.gameFramework.f.a(0, 3);
        } else {
            eVar.ap = 0;
        }
        eVar.Y = 0.0f;
        eVar.an = true;
        eVar.P = 0.0f;
        eVar.R = 0.2f;
        eVar.u = true;
        eVar.V = 50.0f;
        eVar.W = eVar.V;
        eVar.r = true;
        eVar.s = true;
        eVar.t = 10.0f;
        eVar.as = false;
        eVar.ar = (short) 2;
        eVar.g = e.n;
    }

    public static f a(float f, float f2) {
        f fVarA = a(f, f2, v);
        fVarA.f472a = 280.0f;
        fVarA.f = 10.0f;
        fVarA.c = 10.0f;
        fVarA.m = 0.03f;
        fVarA.n = 0.03f;
        fVarA.p = 6.0f;
        fVarA.q = 6.0f;
        fVarA.s = h.verylow;
        fVarA.r = 180.0f;
        fVarA.j = -16777216;
        return fVarA;
    }

    public static f b(float f, float f2) {
        f fVarA = a(f, f2, w);
        fVarA.f472a = 330.0f;
        fVarA.f = 10.0f;
        fVarA.c = 10.0f;
        fVarA.m = 0.1f;
        fVarA.n = 0.03f;
        fVarA.p = 4.0f;
        fVarA.q = 4.0f;
        fVarA.s = h.verylow;
        return fVarA;
    }

    public static f a(float f, float f2, e eVar) {
        c cVar = l.B().bR;
        f fVar = new f(cVar);
        fVar.eo = f;
        fVar.ep = f2;
        fVar.f472a = 100.0f;
        fVar.f = 10.0f;
        fVar.i = eVar;
        if (eVar == null) {
            fVar.i = new e(cVar);
            l.b("Error: Emitter create srcEffect==null");
        }
        return fVar;
    }

    public boolean c() {
        return l.B().cP.b(this.eo, this.ep);
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void a(float f) {
        e eVarB;
        this.t = com.corrodinggames.rts.gameFramework.f.a(this.t, f);
        if (this.t > 0.0f) {
            return;
        }
        if (this.b) {
            this.c += f;
            if (this.c > this.f) {
                this.d += f;
                if (this.d > this.g) {
                    this.d = 0.0f;
                    this.e += 1.0f;
                    if (this.e > this.h) {
                        this.c = 0.0f;
                        this.e = 0.0f;
                    }
                    if ((this.u || c()) && (eVarB = this.x.b(this.eo, this.ep, 0.0f, d.custom, false, this.s)) != null) {
                        eVarB.a(this.i);
                        eVarB.P += com.corrodinggames.rts.gameFramework.f.c(-this.m, this.m);
                        eVarB.Q += com.corrodinggames.rts.gameFramework.f.c(-this.n, this.n);
                        eVarB.R += com.corrodinggames.rts.gameFramework.f.c(-this.o, this.o);
                        eVarB.Y = com.corrodinggames.rts.gameFramework.f.c(-this.r, this.r);
                        eVarB.I = this.eo;
                        eVarB.J = this.ep;
                        eVarB.I += com.corrodinggames.rts.gameFramework.f.c(-this.p, this.p);
                        eVarB.J += com.corrodinggames.rts.gameFramework.f.c(-this.q, this.q);
                        if (this.j != 0) {
                            eVarB.x = this.j;
                        }
                        if (this.l >= 0) {
                            eVarB.y = this.k;
                            eVarB.z = this.l;
                        }
                    }
                }
            }
        }
        this.f472a -= f;
        if (this.f472a < 0.0f) {
            a();
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public boolean a(l lVar) {
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public boolean c(float f) {
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void e(float f) {
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void a(float f, boolean z) {
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void d(float f) {
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public boolean f(float f) {
        return false;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/d/g.java
================================================================================

package com.corrodinggames.rts.gameFramework.d;

import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.Rect;
import android.graphics.RectF;
import com.corrodinggames.rts.gameFramework.l;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/d/g.class */
public final class g {

    /* renamed from: a, reason: collision with root package name */
    public String f473a;
    public int b = 25;
    public int c = 25;
    public int d = 1;
    public int e = 1;
    public int f = 26;
    public int g = 26;
    public int h = Integer.MAX_VALUE;
    public com.corrodinggames.rts.gameFramework.m.e i = null;
    public com.corrodinggames.rts.gameFramework.m.e j = null;
    public boolean k = false;
    static final Rect l = new Rect();
    static final RectF m = new RectF();

    public void a() {
        this.j = this.i.clone();
        this.j.j();
        for (int i = 0; i < this.j.m(); i++) {
            for (int i2 = 0; i2 < this.j.l(); i2++) {
                this.j.a(i, i2, Color.a(Color.a(this.j.a(i, i2)), 0, 0, 0));
            }
        }
        this.j.p();
        this.j.s();
    }

    public void a(int i, float f, float f2, Paint paint) {
        Rect rect = l;
        RectF rectF = m;
        l lVarB = l.B();
        int i2 = i;
        int i3 = 0;
        if (i2 >= this.h) {
            i3 = 0 + (i2 / this.h);
            i2 %= this.h;
        }
        int i4 = this.d + (i2 * this.f);
        int i5 = this.e + (i3 * this.g);
        l.a(i4, i5, i4 + this.b, i5 + this.c);
        rectF.a(f, f2, f + rect.b(), f2 + rect.c());
        if (1 != 0) {
            rectF.a((-rectF.b()) / 2.0f, (-rectF.c()) / 2.0f);
        }
        lVarB.bO.a(this.i, rect, rectF, paint);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/d/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.d;

import android.graphics.Paint;
import android.graphics.Point;
import android.graphics.Rect;
import android.graphics.RectF;
import com.corrodinggames.rts.game.n;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ar;
import com.corrodinggames.rts.game.units.as;
import com.corrodinggames.rts.game.units.y;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.m.ag;
import com.corrodinggames.rts.gameFramework.utility.o;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/d/a.class */
public class a {

    /* renamed from: a, reason: collision with root package name */
    float f467a;
    float b;
    public boolean c;
    public as d;
    public n e;
    public float g;
    public float h;
    public boolean i;
    public n j;
    public boolean k;
    public int l;
    public int m;
    public boolean n;
    public y o;
    public int r;
    public float s;
    public boolean u;
    public am v;
    static Paint D;
    public static o w = new o();
    static Point x = new Point();
    static RectF y = new RectF();
    static RectF z = new RectF();
    static RectF A = new RectF();
    static RectF E = new RectF();
    static Paint C = new ag();
    public int f = 1;
    boolean p = false;
    public boolean q = false;
    public float t = 0.04f;
    Paint B = new Paint();

    public a() {
        w.add(this);
        w.a();
    }

    static {
        C.a(90, 0, 0, 255);
        C.a(Paint.Style.STROKE);
        C.a(2.0f);
        D = new ag();
        D.a(40, 0, 0, 255);
        D.a(Paint.Style.STROKE);
        D.a(2.0f);
    }

    public static void a() {
        w.clear();
    }

    public static void a(float f) {
        Iterator it = w.iterator();
        while (it.hasNext()) {
            ((a) it.next()).c(f);
        }
        w.a();
    }

    public static void b(float f) {
        Object[] objArrB = w.b();
        int size = w.size();
        for (int i = 0; i < size; i++) {
            ((a) objArrB[i]).d(f);
        }
    }

    public static boolean a(n nVar, int i, int i2, int i3) {
        l lVarB = l.B();
        lVarB.bL.a(i, i2);
        float f = lVarB.bL.T + lVarB.bL.p;
        float f2 = lVarB.bL.U + lVarB.bL.q;
        y.a(f, f2, f + 1.0f, f2 + 1.0f);
        return a(nVar, y, i3);
    }

    public static boolean a(n nVar, y yVar, int i) {
        y = yVar.a(l.B().bL, y);
        return a(nVar, y, i);
    }

    public static boolean a(y yVar, y yVar2) {
        com.corrodinggames.rts.game.b.b bVar = l.B().bL;
        y = yVar.a(bVar, y);
        z = yVar2.a(bVar, z);
        if (com.corrodinggames.rts.gameFramework.f.a(y, z)) {
            return true;
        }
        return false;
    }

    public static boolean a(n nVar, RectF rectF, int i) {
        com.corrodinggames.rts.game.b.b bVar = l.B().bL;
        RectF rectFA = A;
        Iterator it = w.iterator();
        while (it.hasNext()) {
            a aVar = (a) it.next();
            if (aVar.j == nVar && aVar.n && (i == -1 || i == aVar.r)) {
                am amVarA = am.a(aVar.d);
                if (amVarA == null) {
                    l.e("isTileRectOverBlueprint: Failed to get shared unit for: " + aVar.d);
                } else {
                    amVarA.eo = aVar.g;
                    amVarA.ep = aVar.h;
                    rectFA = amVarA.a(bVar, rectFA);
                    if (com.corrodinggames.rts.gameFramework.f.a(rectFA, rectF)) {
                        return true;
                    }
                }
            }
        }
        return false;
    }

    public static a a(n nVar, float f, float f2) {
        Iterator it = w.iterator();
        while (it.hasNext()) {
            a aVar = (a) it.next();
            if (aVar.j == nVar && aVar.n) {
                float fA = com.corrodinggames.rts.gameFramework.f.a(aVar.g, aVar.h, f, f2);
                float f3 = am.a(aVar.d).cj + 1.0f;
                if (f3 < 20.0f) {
                    f3 = 20.0f;
                }
                if (fA < f3 * f3) {
                    return aVar;
                }
            }
        }
        return null;
    }

    public boolean b() {
        if (this.n) {
            if (this.o == null || this.o.bV || !ar.a(this.d, this.g, this.h, 0.0f, 0.0f, this.e)) {
                return false;
            }
            return true;
        }
        if (this.v == null || this.v.cf()) {
            return false;
        }
        return true;
    }

    public void c(float f) {
        this.f467a += 1.0f;
        this.b += f;
        boolean z2 = false;
        this.s = com.corrodinggames.rts.gameFramework.f.a(this.s, this.t * f);
        if (this.n) {
            if (this.f467a > 6.0f) {
                this.f467a = 0.0f;
                boolean zA = this.o.a(this.d, this.g, this.h);
                if (!this.p && zA) {
                    this.p = true;
                }
                if (!zA && (this.p || this.b > 180.0f)) {
                    z2 = true;
                }
                if (!b()) {
                    z2 = true;
                }
            }
        } else if (this.f467a > 2.0f && !b()) {
            z2 = true;
        }
        if (z2) {
            this.c = true;
            w.b(this);
        }
    }

    public void d(float f) {
        am amVarC;
        Rect rectCd;
        l lVarB = l.B();
        if (lVarB.bs != this.j || !lVarB.cO.b(this.g, this.h)) {
            return;
        }
        if (this.q && !this.p) {
            return;
        }
        float fK = 0.0f;
        float f2 = this.g;
        float f3 = this.h;
        boolean z2 = false;
        boolean z3 = false;
        if (this.n) {
            z3 = true;
        } else {
            z2 = true;
        }
        boolean z4 = true;
        if (this.i) {
            z4 = false;
        }
        if (z3) {
            float f4 = this.s;
            if (f4 <= 0.0f) {
                fK = 0.0f;
            } else if (this.s < 1.0f) {
                fK = 1.0f - com.corrodinggames.rts.gameFramework.f.k(f4 * 90.0f);
            } else {
                fK = 1.0f;
            }
        }
        if (z3 && this.s < 1.0f && (amVarC = am.c(this.d)) != null && amVarC.bI() && (rectCd = amVarC.cd()) != null) {
            E.a(rectCd);
            E.b *= lVarB.bL.o;
            E.d *= lVarB.bL.o;
            E.f48a *= lVarB.bL.n;
            E.c *= lVarB.bL.n;
            E.a(-(amVarC.cZ() - lVarB.bL.p), -(amVarC.da() - lVarB.bL.q));
            com.corrodinggames.rts.gameFramework.f.a(E, (lVarB.bL.p - 3) + (fK * 5.0f));
            E.a(this.g - lVarB.cw, (this.h - lVarB.cx) - 0.0f);
            float f5 = 3.0f + (fK * 7.0f);
            Paint paint = C;
            if (this.s <= 0.0f) {
                paint = D;
            }
            lVarB.bO.a(E.f48a - f5, E.b, E.c + f5, E.b, paint);
            lVarB.bO.a(E.f48a - f5, E.d, E.c + f5, E.d, paint);
            lVarB.bO.a(E.f48a, E.b - f5, E.f48a, E.d + f5, paint);
            lVarB.bO.a(E.c, E.b - f5, E.c, E.d + f5, paint);
        }
        float f6 = 0.0f;
        if (z3) {
            f6 = 0.0f - (10.0f * fK);
        }
        ar.a(this.d, f2, f3 + f6, 0.0f, 0.0f, this.e, 1.0f, 500.0f, z2, z3, this.f, z4, null);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/e/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.e;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/e/b.class */
public class b {

    /* renamed from: a, reason: collision with root package name */
    public boolean f477a;
    public boolean b;
    public boolean c;
}


================================================================================
// FILE_PATH: ./gameFramework/e/c.java
================================================================================

package com.corrodinggames.rts.gameFramework.e;

import android.content.res.AssetManager;
import android.os.Environment;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.utility.ae;
import com.corrodinggames.rts.gameFramework.utility.af;
import com.corrodinggames.rts.gameFramework.utility.j;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.OutputStream;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Locale;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/e/c.class */
public class c {

    /* renamed from: a, reason: collision with root package name */
    public String f478a = "FileLoader: ";
    public boolean b = false;
    public boolean c = false;
    public boolean d = false;
    String e;
    String f;

    public String a() {
        String str = this.e;
        this.e = null;
        return str;
    }

    public void a(String str) {
        this.e = str;
    }

    public String a(String str, String str2) {
        File[] fileArrListFiles = new File(str).listFiles();
        if (fileArrListFiles == null) {
            l.e(this.f478a + "findFileExtension('" + str + "','" + str2 + "'): path is not a folder");
            return null;
        }
        for (File file : fileArrListFiles) {
            String name = file.getName();
            if (name.contains(".")) {
                name = name.substring(0, name.lastIndexOf(46));
            }
            if (name.equals(str2)) {
                return str + "/" + file.getName();
            }
        }
        l.e(this.f478a + "Could not find file with path: " + str + " file:" + str2);
        return null;
    }

    public boolean b(String str) {
        if (l.aU || str.startsWith("/") || str.startsWith("/SD/")) {
            return false;
        }
        return true;
    }

    public boolean c(String str) {
        if (str.startsWith("/") || str.startsWith("\\")) {
            return true;
        }
        if (l.aU) {
            if (str.startsWith("mods")) {
                return true;
            }
            if (l.aZ && str.startsWith("converted-sounds")) {
                return true;
            }
        }
        if (str.split("\\\\")[0].endsWith(":")) {
            return true;
        }
        return false;
    }

    public String d(String str) {
        l lVarB = l.B();
        if (str.contains("MOD|")) {
            String[] strArrSplit = str.split("/");
            if (strArrSplit.length >= 2) {
                String strB = strArrSplit[strArrSplit.length - 1];
                boolean z = false;
                int length = strArrSplit.length - 2;
                while (true) {
                    if (length < 0) {
                        break;
                    }
                    String str2 = strArrSplit[length];
                    if (str2.startsWith("MOD|")) {
                        String strSubstring = str2.substring("MOD|".length());
                        com.corrodinggames.rts.gameFramework.i.b bVarC = lVarB.bZ.c(strSubstring);
                        if (bVarC == null) {
                            l.e(this.f478a + "Failed to find mod with hash:" + strSubstring);
                        } else {
                            strB = com.corrodinggames.rts.gameFramework.f.b(bVarC.g(), strB);
                            l.e(this.f478a + "Path changed to mod path:" + strB);
                            z = true;
                            break;
                        }
                    }
                    strB = str2 + File.separator + strB;
                    length--;
                }
                if (z) {
                    str = strB;
                }
            }
            if (str.contains("MOD|")) {
                l.e(this.f478a + "Path still contains prefix: " + str);
            }
        }
        if (str.contains("NEW_PATH|")) {
            String[] strArrSplit2 = str.split("/");
            if (strArrSplit2.length >= 2) {
                String str3 = strArrSplit2[strArrSplit2.length - 1];
                boolean z2 = false;
                int length2 = strArrSplit2.length - 2;
                while (true) {
                    if (length2 < 0) {
                        break;
                    }
                    String str4 = strArrSplit2[length2];
                    if (str4.startsWith("NEW_PATH|") && str4.substring("NEW_PATH|".length()).equals("maps2")) {
                        str3 = "/SD/rustedWarfare/maps" + File.separator + str3;
                        l.e(this.f478a + "Path changed to maps2 path:" + str3);
                        z2 = true;
                        break;
                    }
                    str3 = str4 + File.separator + str3;
                    length2--;
                }
                if (z2) {
                    str = str3;
                }
            }
        }
        return str;
    }

    public String e(String str) {
        if (str == null) {
            return "<null>";
        }
        String strF = f(str);
        af afVarB = ae.b(strF);
        if (afVarB != null) {
            return afVarB.f(strF);
        }
        return strF;
    }

    public String f(String str) {
        String strD = d(str);
        if (l.aU) {
            if (strD.startsWith("/SD/rusted_warfare_maps")) {
                strD = "/SD/mods/maps" + strD.substring("/SD/rusted_warfare_maps".length());
                l.e(this.f478a + "convertAbstractPath: Changing to:" + strD);
            }
            if (strD.startsWith("/SD/rustedWarfare/maps")) {
                strD = "/SD/mods/maps" + strD.substring("/SD/rustedWarfare/maps".length());
                l.e(this.f478a + "convertAbstractPath2: Changing to:" + strD);
            }
            if (strD.startsWith("/SD/") || strD.startsWith("\\SD\\")) {
                String strSubstring = strD.substring("/SD/".length());
                if (strSubstring.startsWith("rustedWarfare/")) {
                    strSubstring = strSubstring.substring("rustedWarfare/".length());
                }
                return b() + strSubstring;
            }
            if (c(strD)) {
                return strD;
            }
            return "assets/" + strD;
        }
        if (strD.startsWith("/SD/")) {
            String strSubstring2 = strD.substring("/SD/".length());
            if (strSubstring2.startsWith("rustedWarfare/")) {
                strSubstring2 = strSubstring2.substring("rustedWarfare/".length());
            }
            return b() + strSubstring2;
        }
        return strD;
    }

    private String f() {
        if (this.f == null) {
            this.f = Environment.getExternalStorageDirectory() + VariableScope.nullOrMissingString;
        }
        return this.f;
    }

    public boolean a(String str, boolean z) {
        af afVarA;
        String strF = f(str);
        if (z) {
            afVarA = ae.b(strF);
        } else {
            afVarA = ae.a(strF);
        }
        if (afVarA != null) {
            return afVarA.d(strF);
        }
        if (b(str)) {
            if (this.d) {
                return false;
            }
            if (!l.B().bK.a(strF)) {
                l.e(this.f478a + "isDirectory: asset file doesn't exist:" + strF);
                return false;
            }
            if (com.corrodinggames.rts.gameFramework.f.k(str).contains(".")) {
                return false;
            }
            return true;
        }
        File file = new File(strF);
        if (!file.exists()) {
            l.e(this.f478a + "isDirectory: file doesn't exist:" + strF);
            return false;
        }
        return file.isDirectory();
    }

    public boolean g(String str) {
        String strF = f(str);
        af afVarA = ae.a(strF);
        if (afVarA != null) {
            boolean zA = afVarA.a(strF);
            if (this.c) {
                l.e("fileExists: " + zA + " with reader: " + afVarA + " convertedDir:" + strF);
            }
            return zA;
        }
        if (b(str)) {
            if (this.d) {
                if (this.c) {
                    l.e("fileExists: false with disableAssets");
                    return false;
                }
                return false;
            }
            boolean zA2 = l.B().bK.a(strF);
            if (this.c) {
                l.e("fileExists: " + zA2 + " with abstractPathAsset convertedDir:" + strF);
            }
            return zA2;
        }
        File file = new File(strF);
        if (file == null || !file.exists()) {
            if (this.c) {
                l.e("fileExists: false with normal file convertedDir:" + strF);
                return false;
            }
            return false;
        }
        return true;
    }

    public String[] b(String str, boolean z) {
        String[] list;
        try {
            String strF = f(str);
            af afVarA = ae.a(strF);
            if (afVarA != null) {
                list = afVarA.b(strF);
            } else if (b(str)) {
                if (this.d) {
                    return null;
                }
                list = l.B().bK.b(strF);
            } else {
                File file = new File(strF);
                if (file == null || !file.exists()) {
                    String str2 = "listDir: path doesn't exist:" + strF;
                    l.b(str2);
                    a.b(str2);
                    return null;
                }
                list = file.list();
                if (list == null) {
                    if (file != null && !file.isDirectory()) {
                        a.b("path is not a directory, .rwmod or .zip");
                        return null;
                    }
                    return null;
                }
            }
            if (list == null) {
                l.e(this.f478a + "listDir baseList==null:" + str + " (non folder?)");
                return null;
            }
            ArrayList arrayList = new ArrayList();
            if (z) {
                for (String str3 : list) {
                    if (str3.toLowerCase(Locale.ENGLISH).endsWith(".tmx")) {
                        arrayList.add(str3);
                    }
                }
            } else {
                for (String str4 : list) {
                    arrayList.add(str4);
                }
            }
            Collections.sort(arrayList);
            return (String[]) arrayList.toArray(new String[0]);
        } catch (OutOfMemoryError e) {
            a.b(e.getMessage());
            return null;
        }
    }

    public File h(String str) {
        if (str.contains("\\")) {
            str = str.replace('\\', '/');
        }
        File file = new File(str);
        if (file.exists()) {
            return file;
        }
        File parentFile = file.getParentFile();
        if (parentFile == null || !parentFile.isDirectory()) {
            parentFile = h(parentFile.getAbsolutePath());
            if (parentFile == null || !parentFile.isDirectory()) {
                l.e(this.f478a + "createFileCaseInsensitive: did not find parent for: " + str);
                return null;
            }
        }
        File[] fileArrListFiles = parentFile.listFiles();
        if (fileArrListFiles == null) {
            l.e(this.f478a + "createFileCaseInsensitive: Failed to list files for: " + str + " in " + parentFile);
            return null;
        }
        for (File file2 : fileArrListFiles) {
            if (file2.getName().equalsIgnoreCase(file.getName())) {
                return file2;
            }
        }
        return null;
    }

    public j i(String str) {
        if (str.startsWith("assets/") || str.startsWith("assets\\")) {
            str = str.substring("assets/".length());
        }
        String str2 = str;
        String str3 = "assets/" + str;
        AssetManager assetManagerD = com.corrodinggames.rts.appFramework.c.a().d();
        if (l.aY) {
        }
        try {
            try {
                return new j(assetManagerD.a(str2), str3, str2);
            } catch (FileNotFoundException e) {
                return null;
            }
        } catch (IOException e2) {
            l.e(this.f478a + "Could not find asset:" + str3);
            return null;
        }
    }

    public j j(String str) {
        j jVar;
        String strF = f(str);
        af afVarA = ae.a(strF);
        if (afVarA != null && !strF.endsWith(".rwmod")) {
            return afVarA.b(strF, true);
        }
        if (str.startsWith("/SD/") || str.startsWith("\\SD\\")) {
            String strSubstring = str.substring("/SD/".length());
            String strSubstring2 = strSubstring;
            if (strSubstring2.startsWith("rustedWarfare/")) {
                strSubstring2 = strSubstring2.substring("rustedWarfare/".length());
            }
            String str2 = b() + strSubstring2;
            if (this.b) {
                l.e(this.f478a + "openAssetSteam converted:" + strSubstring + " to: " + str2);
            }
            try {
                File fileH = h(str2);
                if (fileH == null) {
                    return null;
                }
                jVar = new j(new FileInputStream(fileH), fileH.getAbsolutePath());
            } catch (FileNotFoundException e) {
                return null;
            }
        } else if (c(str)) {
            try {
                File fileH2 = h(str);
                if (fileH2 == null) {
                    return null;
                }
                jVar = new j(new FileInputStream(fileH2), fileH2.getAbsolutePath());
            } catch (FileNotFoundException e2) {
                return null;
            }
        } else {
            jVar = i(str);
        }
        return jVar;
    }

    public OutputStream c(String str, boolean z) {
        String strF = f(str);
        af afVarA = ae.a(strF);
        if (afVarA != null && !strF.endsWith(".rwmod")) {
            return afVarA.c(strF, z);
        }
        return new FileOutputStream(strF, z);
    }

    public boolean k(String str) {
        String strF = f(str);
        af afVarA = ae.a(strF);
        if (afVarA != null && !strF.endsWith(".rwmod")) {
            boolean zE = afVarA.e(strF);
            if (!zE) {
                l.e("Failed to create directory: " + strF + " using reader:" + afVarA);
            }
            return zE;
        }
        boolean zMkdirs = new File(strF).mkdirs();
        if (!zMkdirs) {
            l.e("Failed to create directory: " + strF);
        }
        return zMkdirs;
    }

    public String b() {
        if (l.aU) {
            return VariableScope.nullOrMissingString;
        }
        return f() + "/rustedWarfare/";
    }

    public String c() {
        if (l.at()) {
            String absolutePath = com.corrodinggames.rts.appFramework.c.a().i().getAbsolutePath();
            if (!absolutePath.endsWith("/")) {
                absolutePath = absolutePath + "/";
            }
            return absolutePath;
        }
        String strB = b();
        if (strB.equals(VariableScope.nullOrMissingString)) {
            return "cache/";
        }
        return strB + "/cache/";
    }

    public long l(String str) {
        String strF = f(str);
        af afVarA = ae.a(strF);
        if (afVarA != null) {
            return afVarA.g(strF);
        }
        File file = new File(strF);
        if (!file.exists()) {
        }
        return file.lastModified();
    }

    public void a(File file) {
        if (l.at()) {
        }
    }

    public File a(String str, String str2, boolean z) {
        File file = new File(b() + str2 + str);
        if (z) {
            File parentFile = file.getParentFile();
            if (!a.i(parentFile.getAbsolutePath())) {
                l.e("Making missing parent dir: " + parentFile.getAbsolutePath());
                if (!a.l(parentFile.getAbsolutePath())) {
                    l.b("getRWFile: Could not create parent directory");
                }
            }
            if (l.at()) {
            }
        }
        return file;
    }

    public String d() {
        return "external";
    }

    public String m(String str) {
        return d();
    }

    public boolean e() {
        return true;
    }

    public String n(String str) {
        if (str == null) {
            return null;
        }
        int iIndexOf = str.indexOf("[INTERNAL-PATH]/");
        if (iIndexOf != -1) {
            String str2 = str.substring(0, iIndexOf) + str.substring(iIndexOf + "[INTERNAL-PATH]/".length());
            if (str2.contains("[INTERNAL-PATH]/") || str2.contains("[EXTERNAL-PATH]/")) {
                l.e("fixPath: double tag for: " + str);
            }
            return str2;
        }
        int iIndexOf2 = str.indexOf("[EXTERNAL-PATH]/");
        if (iIndexOf2 != -1) {
            String str3 = str.substring(0, iIndexOf2) + str.substring(iIndexOf2 + "[EXTERNAL-PATH]/".length());
            if (str3.contains("[INTERNAL-PATH]/") || str3.contains("[EXTERNAL-PATH]/")) {
                l.e("fixPath: double tag for: " + str);
            }
            return str3;
        }
        return str;
    }

    public String o(String str) {
        return str;
    }

    public boolean b(File file) {
        l.e("deleteFile: " + file.getAbsolutePath());
        af afVarB = ae.b(file.getAbsolutePath());
        if (afVarB != null) {
            l.e("Mapped delete");
            return afVarB.c(file.getAbsolutePath());
        }
        l.e("Native delete");
        return file.delete();
    }

    public boolean a(File file, File file2) {
        l.e("renameFile: " + file.getAbsolutePath() + " to:" + file2.getAbsolutePath());
        af afVarB = ae.b(file.getAbsolutePath());
        if (afVarB != null) {
            try {
                boolean zA = afVarB.a(file.getAbsolutePath(), file2.getAbsolutePath());
                ae.c(file2.getAbsolutePath());
                return zA;
            } catch (Exception e) {
                e.printStackTrace();
                return false;
            }
        }
        boolean zRenameTo = file.renameTo(file2);
        ae.c(file2.getAbsolutePath());
        return zRenameTo;
    }

    public boolean p(String str) {
        af afVarB = ae.b(f(str));
        if (afVarB != null && (afVarB instanceof com.corrodinggames.rts.gameFramework.utility.a.a)) {
            return true;
        }
        return false;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/e/h.java
================================================================================

package com.corrodinggames.rts.gameFramework.e;

import java.io.IOException;
import java.io.InputStream;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/e/h.class */
class h {

    /* renamed from: a, reason: collision with root package name */
    public InputStream f480a;

    public h(InputStream inputStream) {
        this.f480a = inputStream;
    }

    public void a() throws IOException {
        try {
            if (this.f480a != null) {
                this.f480a.close();
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/e/d.java
================================================================================

package com.corrodinggames.rts.gameFramework.e;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/e/d.class */
public class d extends c {
    String g;
    String h;
    String i;

    public d(String str, String str2) {
        this.g = str;
        this.h = str2;
        if (!this.g.endsWith("/") && !this.g.endsWith("\\")) {
            this.g += "/";
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String b() {
        return this.g;
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String d() {
        return this.h;
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public boolean e() {
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String e(String str) {
        String strE = super.e(str);
        if (this.i != null && strE != null && strE.startsWith(this.g)) {
            String strSubstring = strE.substring(this.g.length());
            if (strSubstring.startsWith("/") || strSubstring.startsWith("\\")) {
                strSubstring = strSubstring.substring(1);
            }
            strE = this.i + strSubstring;
        }
        return strE;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/e/e.java
================================================================================

package com.corrodinggames.rts.gameFramework.e;

import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.utility.j;
import java.io.File;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/e/e.class */
public class e extends c {
    c g;
    c h;
    String i;
    String j;

    public e(c cVar, String str, c cVar2, String str2) {
        this.g = cVar;
        this.i = str;
        this.h = cVar2;
        this.j = str2;
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String a() {
        String strA = this.g.a();
        String strA2 = this.h.a();
        if (strA != null) {
            return strA;
        }
        return strA2;
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public void a(String str) {
        this.g.a(str);
        this.h.a(str);
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String a(String str, String str2) {
        return s(str).a(str, str2);
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public boolean b(String str) {
        return s(str).b(q(str));
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public boolean c(String str) {
        return s(str).c(q(str));
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String d(String str) {
        return s(str).d(q(str));
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String f(String str) {
        return s(str).f(q(str));
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String e(String str) {
        return s(str).e(q(str));
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public boolean a(String str, boolean z) {
        c cVarR = r(str);
        String strQ = q(str);
        if (cVarR != null) {
            return cVarR.a(q(strQ), z);
        }
        boolean zA = this.g.a(q(strQ), z);
        if (this.h.a(q(strQ), z)) {
            zA = true;
        }
        return zA;
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public boolean g(String str) {
        return s(str).g(q(str));
    }

    private String q(String str) {
        if (str == null) {
            return null;
        }
        int iIndexOf = str.indexOf(this.i);
        if (iIndexOf != -1) {
            String str2 = str.substring(0, iIndexOf) + str.substring(iIndexOf + this.i.length());
            if (str2.contains(this.i) || str2.contains(this.j)) {
                l.e("fixPath: double tag for: " + str);
            }
            return str2;
        }
        int iIndexOf2 = str.indexOf(this.j);
        if (iIndexOf2 != -1) {
            String str3 = str.substring(0, iIndexOf2) + str.substring(iIndexOf2 + this.j.length());
            if (str3.contains(this.i) || str3.contains(this.j)) {
                l.e("fixPath: double tag for: " + str);
            }
            return str3;
        }
        return str;
    }

    private c r(String str) {
        if (str == null) {
            return null;
        }
        if (str.contains(this.i)) {
            return this.g;
        }
        if (str.contains(this.j)) {
            return this.h;
        }
        return null;
    }

    private c s(String str) {
        c cVarR = r(str);
        if (cVarR != null) {
            return cVarR;
        }
        return this.g;
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String[] b(String str, boolean z) {
        c cVarR = r(str);
        String strQ = q(str);
        if (cVarR != null) {
            return cVarR.b(strQ, z);
        }
        String[] strArrB = this.g.b(strQ, z);
        String[] strArrB2 = this.h.b(strQ, z);
        if (strArrB == null && strArrB2 == null) {
            return null;
        }
        if (strArrB == null) {
            strArrB = new String[0];
        }
        if (strArrB2 == null) {
            strArrB2 = new String[0];
        }
        String[] strArr = new String[strArrB.length + strArrB2.length];
        for (int i = 0; i < strArrB.length; i++) {
            strArr[i] = this.i + strArrB[i];
        }
        for (int i2 = 0; i2 < strArrB2.length; i2++) {
            strArr[i2 + strArrB.length] = this.j + strArrB2[i2];
        }
        return strArr;
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public j i(String str) {
        return this.g.i(str);
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public j j(String str) {
        return s(str).j(q(str));
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String b() {
        return this.g.b();
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public File a(String str, String str2, boolean z) {
        return s(str).a(q(str), str2, z);
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String m(String str) {
        return s(str).m(str);
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String d() {
        String strD = this.g.d();
        if (this.h.d() != null) {
            strD = strD + " and " + this.h.d();
        }
        return strD;
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public boolean e() {
        return this.g.e() || this.h.e();
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String o(String str) {
        if (str.startsWith("/") && this.i.endsWith("/")) {
            return "/" + this.i + str.substring(1);
        }
        return this.i + str;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/e/f.java
================================================================================

package com.corrodinggames.rts.gameFramework.e;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/e/f.class */
public class f extends c {
    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String b() {
        return "/[NONE]/";
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String[] b(String str, boolean z) {
        return null;
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public boolean e() {
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.e.c
    public String d() {
        return null;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/e/g.java
================================================================================

package com.corrodinggames.rts.gameFramework.e;

import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.utility.ag;
import com.corrodinggames.rts.gameFramework.utility.al;
import com.corrodinggames.rts.gameFramework.utility.j;
import java.io.ByteArrayInputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.UnsupportedEncodingException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/e/g.class */
public class g {

    /* renamed from: a, reason: collision with root package name */
    public static boolean f479a = true;

    public static final String a(char c) {
        return String.valueOf((int) c);
    }

    public static String a(String str, char c) {
        if (com.corrodinggames.rts.gameFramework.f.b(str, c)) {
            str = com.corrodinggames.rts.gameFramework.f.a(str, String.valueOf(c), "%" + a(c));
        }
        return str;
    }

    public static String a(String str) {
        if (str == null) {
            return "null";
        }
        String strA = a(a(a(a(a(a(a(a(a(a(a(com.corrodinggames.rts.gameFramework.f.a(str, "%", "%%"), '/'), '\\'), ':'), '\"'), '\''), '|'), '?'), '*'), '<'), '>'), (char) 0);
        if (strA.contains("/")) {
            throw new IllegalArgumentException();
        }
        if (strA.contains("\\")) {
            throw new IllegalArgumentException();
        }
        return strA;
    }

    public static String a(String str, String str2, boolean z) {
        String str3 = a.e() + a(str) + ".cachedata";
        if (z) {
            File file = new File(str3);
            if (!file.isDirectory() && !file.mkdirs()) {
                l.e("Failed to create folder for:" + file.getAbsolutePath());
            }
        }
        return str3 + "/" + a(str2);
    }

    public static boolean a(String str, String str2, String str3) {
        try {
            return a(str, str2, new ByteArrayInputStream(str3.getBytes("UTF-8")));
        } catch (UnsupportedEncodingException e) {
            throw new RuntimeException(e);
        }
    }

    public static boolean a(String str, String str2, InputStream inputStream) throws IOException {
        try {
            String strA = a(str, str2, true);
            File file = new File(strA);
            File file2 = new File(strA + ".tmp");
            FileOutputStream fileOutputStream = new FileOutputStream(file2);
            try {
                com.corrodinggames.rts.gameFramework.f.a(inputStream, fileOutputStream);
                fileOutputStream.close();
                if (!a.a(file2, file)) {
                    l.b("AddToCache: Failed to rename to final file: " + strA);
                    return false;
                }
                if (f479a) {
                    l.e("Wrote cache file at: " + file.getAbsolutePath());
                    return true;
                }
                return true;
            } catch (Throwable th) {
                fileOutputStream.close();
                throw th;
            }
        } catch (IOException e) {
            e.printStackTrace();
            return false;
        }
    }

    public static FileInputStream a(String str, String str2) {
        try {
            File file = new File(a(str, str2, false));
            if (!file.exists()) {
                return null;
            }
            file.setLastModified(System.currentTimeMillis());
            return new FileInputStream(file);
        } catch (IOException e) {
            e.printStackTrace();
            return null;
        }
    }

    public static String b(String str, String str2) {
        FileInputStream fileInputStreamA = a(str, str2);
        if (fileInputStreamA == null) {
            return null;
        }
        return com.corrodinggames.rts.gameFramework.f.a(fileInputStreamA);
    }

    public static void c(String str, String str2) {
        String strA = a(str, str2, false);
        File file = new File(strA);
        if (file.exists() && !file.delete()) {
            l.g("Failed to delete: " + strA);
        }
    }

    private static h b(String str, String str2, String str3) {
        String[] strArrB;
        String str4 = str2 + ".data";
        String strB = b(str, str2 + ".meta");
        if (strB != null && (strArrB = al.b(strB, ":")) != null) {
            Long lM = com.corrodinggames.rts.gameFramework.f.m(strArrB[0]);
            long jM = a.m(str2);
            String str5 = strArrB[1];
            if (lM == null) {
                if (f479a) {
                    l.e("openAssetCached: Bad meta data for: " + str2);
                    return null;
                }
                return null;
            }
            if (lM.longValue() != jM) {
                if (f479a) {
                    l.e("openAssetCached: Stale timestamp for: " + str2 + " (" + lM + "!=" + jM + ")");
                    return null;
                }
                return null;
            }
            if (str5.startsWith("null")) {
                if (f479a) {
                    l.e("openAssetCached: Cache hit (null-type) for: " + str2 + " (" + lM + "!=" + jM + ")");
                }
                return new h(null);
            }
            if (!str5.startsWith(str3)) {
                if (f479a) {
                    l.e("openAssetCached: Unsupported type " + str5 + " for: " + str2 + " expected: " + str3);
                }
                return new h(null);
            }
            FileInputStream fileInputStreamA = a(str, str4);
            if (fileInputStreamA != null) {
                if (f479a) {
                    l.e("openAssetCached: Cache hit for: " + str2);
                }
                return new h(fileInputStreamA);
            }
            if (f479a) {
                l.e("openAssetCached: meta file but not data for: " + str2);
                return null;
            }
            return null;
        }
        return null;
    }

    public static String[] d(String str, String str2) throws IOException {
        String str3;
        long jM;
        if (!ag.i(str2)) {
            return a.h(str2);
        }
        String str4 = str2 + ".data";
        String str5 = str2 + ".meta";
        h hVarB = b(str, str2, "list");
        if (hVarB != null) {
            if (hVarB.f480a == null) {
                return null;
            }
            String strA = com.corrodinggames.rts.gameFramework.f.a(hVarB.f480a);
            hVarB.a();
            return al.e(strA);
        }
        String[] strArrH = a.h(str2);
        if (strArrH != null) {
            if (f479a) {
                l.e("listDirCached: Listing count: " + strArrH.length);
            }
            str3 = "list";
            jM = a.m(str2);
            if (jM == 0) {
                if (f479a) {
                    l.e("openAssetCached: Got 0 timestamp for: " + str2 + " cannot cache");
                }
                return strArrH;
            }
            a(str, str4, al.a(strArrH));
        } else {
            if (f479a) {
                l.e("listDirCached: Null");
            }
            str3 = "null";
            jM = a.m(str2);
        }
        a(str, str5, jM + ":" + str3);
        return strArrH;
    }

    public static InputStream e(String str, String str2) {
        String str3;
        long jM;
        String str4 = str2 + ".data";
        String str5 = str2 + ".meta";
        h hVarB = b(str, str2, "data");
        if (hVarB != null) {
            return hVarB.f480a;
        }
        if (f479a) {
            l.e("openAssetCached: Cache miss for: " + str2);
        }
        j jVarK = a.k(str2);
        if (jVarK != null) {
            if (f479a) {
                l.e("openAssetCached: Reading: " + str2);
            }
            str3 = "data";
            jM = a.m(str2);
            if (jM == 0) {
                if (f479a) {
                    l.e("openAssetCached: Got 0 timestamp for: " + str2 + " cannot cache");
                }
                return jVarK;
            }
            if (!a(str, str4, jVarK)) {
            }
        } else {
            if (f479a) {
                l.e("openAssetCached: Got null for: " + str2);
            }
            str3 = "null";
            jM = a.m(str2);
        }
        a(str, str5, jM + ":" + str3);
        if (jVarK == null) {
            return null;
        }
        try {
            jVarK.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
        FileInputStream fileInputStreamA = a(str, str4);
        if (fileInputStreamA == null) {
            l.b("openAssetCached: Error. Failed to reopen cache: " + str2);
            return a.k(str2);
        }
        return fileInputStreamA;
    }

    public static boolean f(String str, String str2) throws IOException {
        InputStream inputStreamE = e(str, str2);
        if (inputStreamE == null) {
            return false;
        }
        try {
            inputStreamE.close();
            return true;
        } catch (IOException e) {
            e.printStackTrace();
            return true;
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/e/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.e;

import android.content.Context;
import android.os.Build;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.utility.j;
import java.io.File;
import java.io.IOException;
import java.io.OutputStream;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/e/a.class */
public class a {

    /* renamed from: a, reason: collision with root package name */
    public static final c f476a = new c();
    public static c b = f476a;
    public static Boolean c;
    public static String d;
    public static String e;

    protected static String a() {
        File fileB = com.corrodinggames.rts.appFramework.c.a().b(null);
        if (fileB != null) {
            return fileB.getAbsolutePath();
        }
        l.b("Failed to get an internal path.");
        return null;
    }

    public static void b() {
        e = null;
        if (l.at()) {
            if (Build.VERSION.SDK_INT < 19) {
                e = "Android version too old for new file system support";
                l.e("FileLoader: SDK too old, not changing FileLoader");
                return;
            }
            int i = l.B().bQ.storageType;
            l.e("FileLoader: storageBehaviour:" + i);
            c cVarA = a(i);
            l.e("Using file loader: " + cVarA.d());
            b = cVarA;
        }
    }

    public static boolean a(String str) {
        return b.p(str);
    }

    public static b a(boolean z) {
        b bVar = new b();
        if (!l.at()) {
            bVar.b = false;
            bVar.c = true;
            return bVar;
        }
        if (Build.VERSION.SDK_INT < 19) {
            bVar.b = false;
            bVar.c = true;
            return bVar;
        }
        bVar.b = true;
        bVar.f477a = false;
        if (d != null) {
            bVar.f477a = true;
        }
        if (c != null && !c.booleanValue()) {
            bVar.c = true;
            bVar.b = false;
            bVar.f477a = false;
        }
        if (Build.VERSION.SDK_INT <= 28 && c == null) {
            l.b("FileLoader using direct external access due to sdk: " + Build.VERSION.SDK_INT);
            bVar.c = true;
            bVar.b = false;
            bVar.f477a = false;
        }
        return bVar;
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r0v39, types: [com.corrodinggames.rts.gameFramework.e.c] */
    public static c a(int i) {
        d dVar;
        e eVar;
        if (!l.at()) {
            return new c();
        }
        if (Build.VERSION.SDK_INT >= 19) {
            String strA = a();
            d dVar2 = null;
            if (strA == null) {
                e = "Failed to get internal app path (is it unmounted?).";
                i = 3;
            } else {
                dVar2 = new d(strA, "internal");
                dVar2.i = "Internal: ";
            }
            b bVarA = a(false);
            if (!bVarA.f477a) {
                if (!bVarA.c) {
                    l.b("Not using direct external backend: As direct reads will cause problems");
                    dVar = null;
                    i = 0;
                } else {
                    l.b("FileLoader using direct external file access! SDK:" + Build.VERSION.SDK_INT);
                    dVar = new c();
                }
            } else {
                l.e("FileLoader using overriddenExternalPath:" + d);
                dVar = new d(d, "external");
            }
            f fVar = new f();
            if (i != 3 && dVar2 == null) {
                l.b("No available file backends!!");
                return fVar;
            }
            if (i == 1) {
                eVar = new e(dVar2, "[INTERNAL-PATH]/", dVar, "[EXTERNAL-PATH]/");
            } else if (i == 2) {
                eVar = new e(dVar, "[EXTERNAL-PATH]/", dVar2, "[INTERNAL-PATH]/");
            } else if (i == 3) {
                eVar = new e(dVar, "[EXTERNAL-PATH]/", fVar, "[NULL-PATH]/");
            } else {
                eVar = new e(dVar2, "[INTERNAL-PATH]/", fVar, "[NULL-PATH]/");
            }
            eVar.h.d = true;
            return eVar;
        }
        l.e("FileLoader: SDK too old, not changing FileLoader");
        return new c();
    }

    public static String c() {
        return b.a();
    }

    public static void b(String str) {
        b.a(str);
    }

    public static String a(String str, String str2) {
        return b.a(str, str2);
    }

    public static boolean c(String str) {
        return b.b(str);
    }

    public static String d(String str) {
        return b.e(str);
    }

    public static String e(String str) {
        return b.f(str);
    }

    public static boolean f(String str) {
        return b.a(str, false);
    }

    public static boolean g(String str) {
        return b.a(str, true);
    }

    public static String[] h(String str) {
        return b.b(str, false);
    }

    public static String[] a(String str, boolean z) {
        return b.b(str, z);
    }

    public static boolean i(String str) {
        return b.g(str);
    }

    public static j j(String str) {
        return b.i(str);
    }

    public static j a(File file) {
        return b.j(file.getAbsolutePath());
    }

    public static j k(String str) {
        return b.j(str);
    }

    public static OutputStream a(File file, boolean z) {
        return b.c(file.getAbsolutePath(), z);
    }

    public static OutputStream b(String str, boolean z) {
        return b.c(str, z);
    }

    public static boolean l(String str) {
        return b.k(str);
    }

    public static String d() {
        return b.b();
    }

    public static String e() {
        return b.c();
    }

    public static long m(String str) {
        return b.l(str);
    }

    public static File a(String str, String str2, boolean z) {
        return b.a(str, str2, z);
    }

    public static boolean a(File file, File file2) {
        if (l.av() && file2.exists()) {
            file2.delete();
        }
        if (!file.renameTo(file2)) {
            return false;
        }
        return true;
    }

    public static boolean b(File file, File file2) {
        return b.a(file, file2);
    }

    public static boolean b(File file) {
        return b.b(file);
    }

    public static String n(String str) {
        return b.m(str);
    }

    public static boolean f() {
        return b.e();
    }

    public static String o(String str) {
        return b.n(str);
    }

    public static String p(String str) {
        return b.o(str);
    }

    public static File a(Context context, String str, String str2) throws IOException {
        try {
            return File.createTempFile(str, str2, context.i());
        } catch (IOException e2) {
            try {
                return File.createTempFile(str, str2, context.j());
            } catch (IOException e3) {
                e2.printStackTrace();
                throw e3;
            }
        }
    }

    public static void c(File file) {
        b.a(file);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.graphics.RectF;
import android.util.Log;
import java.util.WeakHashMap;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/b.class */
public abstract class b implements ab {

    /* renamed from: a, reason: collision with root package name */
    protected int f431a;
    protected int b;
    protected int c;
    protected int d;
    protected int e;
    protected int f;
    protected float g;
    protected float h;
    private boolean l;
    private boolean m;
    public int i;
    public boolean j;
    protected k k;
    private static WeakHashMap n = new WeakHashMap();
    private static ThreadLocal o = new ThreadLocal();

    public abstract void b(k kVar);

    protected abstract boolean c(k kVar);

    protected abstract int g();

    public abstract void b(int i);

    public abstract int h();

    protected b(k kVar, int i, int i2) {
        this.f431a = -1;
        this.c = -1;
        this.d = -1;
        this.k = null;
        a(kVar);
        this.f431a = i;
        this.b = i2;
        synchronized (n) {
            n.put(this, null);
        }
    }

    protected b() {
        this(null, 0, 0);
    }

    protected void a(k kVar) {
        this.k = kVar;
    }

    public void a(int i, int i2) {
        this.c = i;
        this.d = i2;
        this.e = i > 0 ? a(i) : 0;
        this.f = i2 > 0 ? a(i2) : 0;
        if (this.e == 0) {
            this.g = 0.0f;
        } else {
            this.g = 1.0f / this.e;
        }
        if (this.f == 0) {
            this.h = 0.0f;
        } else {
            this.h = 1.0f / this.f;
        }
        if (this.e > 4096 || this.f > 4096) {
            Log.a("BasicTexture", String.format("secondBitmap is too large: %d x %d", Integer.valueOf(this.e), Integer.valueOf(this.f)), new Exception());
        }
    }

    public static int a(int i) {
        if (i <= 0 || i > 1073741824) {
            throw new IllegalArgumentException("n is invalid: " + i);
        }
        int i2 = i - 1;
        int i3 = i2 | (i2 >> 16);
        int i4 = i3 | (i3 >> 8);
        int i5 = i4 | (i4 >> 4);
        int i6 = i5 | (i5 >> 2);
        return (i6 | (i6 >> 1)) + 1;
    }

    public int a() {
        return this.f431a;
    }

    public int b() {
        return this.c;
    }

    public int c() {
        return this.d;
    }

    public int d() {
        return this.e;
    }

    public int e() {
        return this.f;
    }

    public boolean f() {
        return this.l;
    }

    protected void a(boolean z) {
        this.l = z;
    }

    public boolean i() {
        return this.b == 1;
    }

    public void j() {
        this.m = true;
        k();
    }

    private void k() {
        k kVar = this.k;
        if (kVar != null && this.f431a != -1) {
            kVar.a(this);
            this.f431a = -1;
        }
        this.b = 0;
        a((k) null);
    }

    protected void finalize() {
        o.set(b.class);
        j();
        o.set(null);
    }

    public void a(RectF rectF) {
        int iB = b();
        int iC = c();
        int iD = d();
        int iE = e();
        rectF.f48a /= iD;
        rectF.c /= iD;
        rectF.b /= iE;
        rectF.d /= iE;
        float f = iB / iD;
        if (rectF.c > f) {
            rectF.c = f;
        }
        float f2 = iC / iE;
        if (rectF.d > f2) {
            rectF.d = f2;
        }
    }

    public void a(RectF rectF, RectF rectF2) {
        float fC = c() / e();
        float fB = b() / d();
        if (rectF.c > fB) {
            rectF2.c = rectF2.f48a + ((rectF2.b() * (fB - rectF.f48a)) / rectF.b());
        }
        if (rectF.d > fC) {
            rectF2.d = rectF2.b + ((rectF2.c() * (fC - rectF.b)) / rectF.c());
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/ak.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/ak.class */
public class ak {

    /* renamed from: a, reason: collision with root package name */
    o f429a;
    o b;
    s c;
}


================================================================================
// FILE_PATH: ./gameFramework/b/w.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/w.class */
public class w {

    /* renamed from: a, reason: collision with root package name */
    private int[] f442a;
    private int b;

    public void a(int i) {
        if (this.f442a.length == this.b) {
            int[] iArr = new int[this.b + this.b];
            System.arraycopy(this.f442a, 0, iArr, 0, this.b);
            this.f442a = iArr;
        }
        int[] iArr2 = this.f442a;
        int i2 = this.b;
        this.b = i2 + 1;
        iArr2[i2] = i;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/n.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.graphics.Bitmap;
import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.RectF;
import android.graphics.Typeface;
import android.opengl.GLES11Ext;
import android.opengl.GLES20;
import android.opengl.GLUtils;
import android.opengl.Matrix;
import android.util.Log;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import java.nio.Buffer;
import java.nio.ByteBuffer;
import java.nio.ByteOrder;
import java.nio.FloatBuffer;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Iterator;
import java.util.Map;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/n.class */
public class n implements k {

    /* renamed from: a, reason: collision with root package name */
    public ac f436a;
    private Map J;
    private float[] K;
    private int L;
    int b;
    int c;
    float[] d;
    private int M;
    private int N;
    private int O;
    private int P;
    private int Q;
    private int R;
    private h S;
    private m T;
    q[] e;
    q[] f;
    q[] g;
    private final w U;
    private int[] V;
    private ArrayList W;
    private final float[] X;
    private final float[] Y;
    private final RectF Z;
    private final RectF aa;
    private final int[] ab;
    boolean h;
    boolean i;
    y j;
    aj k;
    f l;
    float[] m;
    r n;
    public int o;
    com.corrodinggames.rts.gameFramework.utility.m p;
    static RectF q;
    int r;
    boolean s;
    boolean t;
    int u;
    com.corrodinggames.rts.gameFramework.m.ae v;
    public int w;
    static int x;
    static int y;
    ab z;
    com.corrodinggames.rts.gameFramework.utility.m C;
    p D;
    public static com.corrodinggames.rts.gameFramework.m.k E;
    FloatBuffer F;
    private static final String G = n.class.getSimpleName();
    private static final float[] H = {0.0f, 0.0f, 1.0f, 0.0f, 0.0f, 1.0f, 1.0f, 1.0f, 0.0f, 0.0f, 1.0f, 1.0f, 0.0f, 0.0f, 0.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f};
    private static final float[] I = {0.0f, 0.0f, 0.0f, 1.0f, 1.0f, 1.0f, 0.0f, 1.0f};
    private static final u ac = new t();
    public static boolean A = false;
    static int B = 0;

    private int a(int i, int i2, q[] qVarArr, int[] iArr) {
        int iGlCreateProgram = GLES20.glCreateProgram();
        r();
        if (iGlCreateProgram == 0) {
            throw new RuntimeException("Cannot create GL program: " + GLES20.glGetError());
        }
        GLES20.glAttachShader(iGlCreateProgram, i);
        r();
        GLES20.glAttachShader(iGlCreateProgram, i2);
        r();
        GLES20.glLinkProgram(iGlCreateProgram);
        r();
        GLES20.glGetProgramiv(iGlCreateProgram, 35714, iArr, 0);
        if (iArr[0] != 1) {
            Log.d(G, "======= ERROR =========");
            Log.d(G, "Could not link program: ");
            String strGlGetProgramInfoLog = GLES20.glGetProgramInfoLog(iGlCreateProgram);
            Log.d(G, strGlGetProgramInfoLog);
            GLES20.glDeleteProgram(iGlCreateProgram);
            throw new RuntimeException("Cannot link GL program: " + strGlGetProgramInfoLog);
        }
        a(qVarArr, iGlCreateProgram);
        return iGlCreateProgram;
    }

    private static void a(q[] qVarArr, int i) {
        for (q qVar : qVarArr) {
            qVar.a(i);
        }
    }

    private static String a(int i, String str) {
        StringBuffer stringBuffer = new StringBuffer();
        boolean z = false;
        for (String str2 : str.split("\n")) {
            if (!z && str2.contains("version")) {
                z = true;
            } else {
                if (z) {
                }
                if (!str2.equals(str2)) {
                    com.corrodinggames.rts.gameFramework.l.e("Changing: " + str2 + " to " + str2);
                }
                stringBuffer.append(str2);
                stringBuffer.append("\n");
            }
        }
        if (!z) {
        }
        return stringBuffer.toString();
    }

    private static int b(int i, String str) {
        int iGlCreateShader = GLES20.glCreateShader(i);
        if (str == null) {
            throw new RuntimeException("Shader Compilation Failed: shaderCode==null");
        }
        GLES20.glShaderSource(iGlCreateShader, a(i, str));
        q();
        GLES20.glCompileShader(iGlCreateShader);
        q();
        int[] iArr = new int[1];
        GLES20.glGetShaderiv(iGlCreateShader, 35713, iArr, 0);
        if (iArr[0] == 0) {
            String str2 = "Shader Compilation Failed: " + GLES20.glGetShaderInfoLog(iGlCreateShader);
            Log.d(G, str2);
            throw new RuntimeException(str2);
        }
        return iGlCreateShader;
    }

    public void a(int i, int i2) {
        this.b = i;
        this.c = i2;
        q();
        Matrix.setIdentityM(this.K, this.L);
        Matrix.orthoM(this.d, 0, 0.0f, i, 0.0f, i2, -1.0f, 1.0f);
        q();
        if (t() == null) {
            this.M = i;
            this.N = i2;
            Matrix.translateM(this.K, this.L, 0.0f, i2, 0.0f);
            Matrix.scaleM(this.K, this.L, 1.0f, -1.0f, 1.0f);
            q();
        }
        GLES20.glViewport(0, 0, this.b, this.c);
        g();
    }

    public void a(int i, q[] qVarArr) {
        q();
        f();
        q();
        a(i);
        GLES20.glUniformMatrix4fv(qVarArr[5].f438a, 1, false, this.d, 0);
        q();
    }

    public void g() {
        if (this.O != 0) {
            a(this.O, this.e);
        }
        if (this.P != 0) {
            a(this.P, this.f);
        }
        if (this.Q != 0) {
            a(this.Q, this.g);
        }
    }

    public void a(float[] fArr) {
        GLES20.glClearColor(fArr[1], fArr[2], fArr[3], fArr[0]);
        q();
        GLES20.glClear(16384);
        q();
    }

    public float h() {
        return 1.0f;
    }

    public void a(float f, float f2) {
        int i = this.L;
        float[] fArr = this.K;
        int i2 = i + 12;
        fArr[i2] = fArr[i2] + (fArr[i + 0] * f) + (fArr[i + 4] * f2);
        int i3 = i + 13;
        fArr[i3] = fArr[i3] + (fArr[i + 1] * f) + (fArr[i + 5] * f2);
        int i4 = i + 14;
        fArr[i4] = fArr[i4] + (fArr[i + 2] * f) + (fArr[i + 6] * f2);
        int i5 = i + 15;
        fArr[i5] = fArr[i5] + (fArr[i + 3] * f) + (fArr[i + 7] * f2);
    }

    public void a(float f, float f2, float f3) {
        Matrix.scaleM(this.K, this.L, f, f2, f3);
    }

    public void a(float f) {
        if (f == 0.0f) {
            return;
        }
        a(this.K, this.L, f);
    }

    public final void a(float[] fArr, int i, float f) {
        float fJ = com.corrodinggames.rts.gameFramework.f.j(f);
        float fK = com.corrodinggames.rts.gameFramework.f.k(f);
        if (f == 90.0f) {
            fJ = 1.0f;
            fK = 0.0f;
        }
        float f2 = fArr[0 + i];
        float f3 = fArr[1 + i];
        float f4 = fArr[2 + i];
        float f5 = fArr[3 + i];
        float f6 = fArr[4 + i];
        float f7 = fArr[5 + i];
        float f8 = fArr[6 + i];
        float f9 = fArr[7 + i];
        float f10 = (f2 * fK) + (f6 * fJ);
        float f11 = (f3 * fK) + (f7 * fJ);
        float f12 = (f4 * fK) + (f8 * fJ);
        float f13 = (f5 * fK) + (f9 * fJ);
        int i2 = 0 + i;
        fArr[i2 + 0] = f10;
        fArr[i2 + 1] = f11;
        fArr[i2 + 2] = f12;
        fArr[i2 + 3] = f13;
        float f14 = (f2 * (-fJ)) + (f6 * fK);
        float f15 = (f3 * (-fJ)) + (f7 * fK);
        float f16 = (f4 * (-fJ)) + (f8 * fK);
        float f17 = (f5 * (-fJ)) + (f9 * fK);
        int i3 = 4 + i;
        fArr[i3 + 0] = f14;
        fArr[i3 + 1] = f15;
        fArr[i3 + 2] = f16;
        fArr[i3 + 3] = f17;
    }

    public float[] i() {
        float[] fArr = this.K;
        int i = this.L;
        float[] fArr2 = this.m;
        for (int i2 = 0; i2 < 16; i2++) {
            fArr2[i2] = fArr[i + i2];
        }
        return fArr2;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void b() {
        if (1 != 0) {
            int i = this.L;
            this.L += 16;
            if (this.K.length <= this.L + 16) {
                this.K = Arrays.copyOf(this.K, this.K.length * 2);
            }
            for (int i2 = 0; i2 < 16; i2++) {
                this.K[this.L + i2] = this.K[i + i2];
            }
        }
        j();
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void c() {
        this.L -= 16;
        if (this.L < 0) {
            com.corrodinggames.rts.gameFramework.l.g("restore: error mCurrentMatrixIndex: " + this.L);
            this.L = 0;
        }
        k();
    }

    public void j() {
        com.corrodinggames.rts.gameFramework.utility.m mVar = this.p;
        this.o++;
        if (this.o >= mVar.f694a) {
            mVar.add(new r());
        }
        r rVar = (r) mVar.get(this.o);
        this.n.a(rVar);
        this.n = rVar;
    }

    public void k() {
        com.corrodinggames.rts.gameFramework.utility.m mVar = this.p;
        this.o--;
        if (this.o < 0) {
            com.corrodinggames.rts.gameFramework.l.g("popTransformStack: error currentTransformIndex: " + this.o);
            mVar.set(0, new r());
            this.o = 0;
        }
        this.n = (r) mVar.get(this.o);
        a(false);
    }

    public void a(boolean z) {
        RectF rectF = this.n.f439a;
        if (q == rectF && !z) {
            return;
        }
        e();
        if (rectF != null) {
            GLES20.glEnable(3089);
            GLES20.glScissor((int) rectF.f48a, (int) (this.N - rectF.d), (int) rectF.b(), (int) rectF.c());
        } else {
            GLES20.glDisable(3089);
        }
        q = rectF;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void a(float f, float f2, float f3, v vVar, h hVar) {
        a(hVar);
        a(5, 0, 4, f, f2, 2.0f * f3, 2.0f * f3, vVar.a(), 0.0f);
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void a(float f, float f2, float f3, float f4, v vVar, h hVar) {
        n();
        q();
        this.k.b(1);
        if (vVar == null) {
            this.k.a(-1);
        } else {
            this.k.a(vVar.a());
        }
        float fB = vVar.b();
        if (fB > 0.0f) {
            this.k.a(fB * this.K[this.L]);
        } else {
            this.k.a(1.0f);
        }
        q();
        float[] fArrI = i();
        this.k.a(f, f2, fArrI);
        this.k.a(f3, f4, fArrI);
        q();
    }

    private void a(int i, int i2, int i3, float f, float f2, float f3, float f4, int i4, float f5) {
        a(i2, i4, f5);
        if (this.T != null) {
            this.T.a(this.O, this.S);
        }
        a(this.e, i, i3, f, f2, f3, f4, null);
    }

    public void a(int i) {
        if (this.r != i) {
            GLES20.glUseProgram(i);
            q();
            this.t = false;
            this.r = i;
        }
    }

    private void a(int i, int i2, float f) {
        f();
        a(this.O);
        if (f > 0.0f) {
            GLES20.glLineWidth(f * this.K[this.L]);
            q();
        } else {
            GLES20.glLineWidth(1.0f);
            q();
        }
        float[] fArrB = b(i2);
        b(true);
        GLES20.glBlendColor(fArrB[0], fArrB[1], fArrB[2], fArrB[3]);
        q();
        GLES20.glUniform4fv(this.e[2].f438a, 1, fArrB, 0);
        b(this.e, i);
        q();
    }

    float[] b(int i) {
        float fH = ((i >>> 24) & 255) * 0.003921569f * h();
        float f = ((i >>> 16) & 255) * 0.003921569f * fH;
        this.Y[0] = f;
        this.Y[1] = ((i >>> 8) & 255) * 0.003921569f * fH;
        this.Y[2] = (i & 255) * 0.003921569f * fH;
        this.Y[3] = fH;
        return this.Y;
    }

    private void b(boolean z) {
        if (z) {
            if (!this.s) {
                GLES20.glEnable(3042);
                q();
                this.s = true;
                return;
            }
            return;
        }
        if (this.s) {
            GLES20.glDisable(3042);
            q();
            this.s = false;
        }
    }

    public void l() {
        b((com.corrodinggames.rts.gameFramework.m.ae) null);
        this.t = false;
        this.r = -1;
        this.z = null;
        this.s = false;
        r();
        f();
    }

    private void b(q[] qVarArr, int i) {
        if (!this.t || this.u != i) {
            GLES20.glBindBuffer(34962, this.R);
            q();
            GLES20.glVertexAttribPointer(qVarArr[0].f438a, 2, 5126, false, 8, i * 8);
            q();
            GLES20.glBindBuffer(34962, 0);
            q();
            this.t = true;
            this.u = i;
        }
    }

    private void a(q[] qVarArr, int i, int i2, float f, float f2, float f3, float f4, l lVar) {
        a(qVarArr, f, f2, f3, f4, lVar);
        int i3 = qVarArr[0].f438a;
        GLES20.glEnableVertexAttribArray(i3);
        q();
        GLES20.glDrawArrays(i, 0, i2);
        q();
        GLES20.glDisableVertexAttribArray(i3);
        q();
    }

    private void a(q[] qVarArr, float f, float f2, float f3, float f4, l lVar) {
        if (lVar != null) {
            GLES20.glUniformMatrix4fv(qVarArr[1].f438a, 1, false, lVar.a(this.M, this.N, f, f2, f3, f4), 0);
            q();
        } else {
            Matrix.translateM(this.X, 0, this.K, this.L, f, f2, 0.0f);
            Matrix.scaleM(this.X, 0, f3, f4, 1.0f);
            GLES20.glUniformMatrix4fv(qVarArr[1].f438a, 1, false, this.X, 0);
            q();
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void a(b bVar, int i, int i2, int i3, int i4, af afVar, l lVar) {
        if (i3 <= 0 || i4 <= 0) {
            return;
        }
        a(bVar.g(), afVar);
        ag.a(bVar, this.Z);
        this.aa.a(i, i2, i + i3, i2 + i4);
        bVar.a(this.Z);
        bVar.a(this.Z, this.aa);
        a(bVar, this.Z, this.aa, lVar);
    }

    public void a(com.corrodinggames.rts.gameFramework.m.ae aeVar) {
        if (this.v == aeVar) {
            return;
        }
        if (aeVar == null && this.v != null && this.v.a()) {
            if (this.v.b()) {
                e();
                o();
                return;
            }
            return;
        }
        b(aeVar);
    }

    public void b(com.corrodinggames.rts.gameFramework.m.ae aeVar) {
        if (this.v == aeVar) {
            return;
        }
        f();
        if (aeVar != null) {
            if (aeVar.n == 0) {
                d(aeVar);
            }
            if (aeVar.n == 0) {
                this.v = null;
                return;
            }
            this.j.j = (z) aeVar.q;
        }
        if (aeVar == null) {
            this.j.j = this.j.i;
        }
        this.v = aeVar;
    }

    public void c(com.corrodinggames.rts.gameFramework.m.ae aeVar) {
        for (com.corrodinggames.rts.gameFramework.m.af afVar : aeVar.p) {
            if (afVar.c || afVar.f != null) {
                afVar.c = false;
                if (afVar.b == -1) {
                    afVar.b = GLES20.glGetUniformLocation(aeVar.n, afVar.f629a);
                    if (afVar.b == -1 && !afVar.d) {
                        afVar.d = true;
                        aeVar.b("Unknown parameter: " + afVar.f629a);
                        return;
                    }
                }
                if (afVar.f != null) {
                    b bVarA = this.l.a(afVar.f.b(), afVar.f);
                    if (afVar.g) {
                        GLES20.glUniform2f(afVar.b, bVarA.e, bVarA.f);
                    } else {
                        int iA = bVarA.a();
                        GLES20.glActiveTexture(33985);
                        GLES20.glBindTexture(3553, iA);
                        GLES20.glUniform1i(afVar.b, 1);
                        GLES20.glActiveTexture(33984);
                    }
                } else if (afVar.e.length == 1) {
                    GLES20.glUniform1f(afVar.b, afVar.e[0]);
                } else if (afVar.e.length == 2) {
                    GLES20.glUniform2f(afVar.b, afVar.e[0], afVar.e[1]);
                } else if (afVar.e.length == 4) {
                    GLES20.glUniform4f(afVar.b, afVar.e[0], afVar.e[1], afVar.e[2], afVar.e[3]);
                } else {
                    aeVar.b("Unhandled parameter size: " + afVar.f629a + " - " + afVar.e.length);
                }
            }
        }
    }

    public boolean d(com.corrodinggames.rts.gameFramework.m.ae aeVar) {
        if (aeVar.o != 0) {
            return false;
        }
        if (aeVar.n != 0 && !aeVar.m) {
            return true;
        }
        r();
        aeVar.m = false;
        aeVar.b("== Compiling shader ==");
        z zVar = new z();
        aeVar.q = zVar;
        try {
            aeVar.n = a(zVar.f, this.j.h.a(), aeVar.f);
        } catch (RuntimeException e) {
            aeVar.c("Failed to compile shader: " + e.getMessage());
            e.printStackTrace();
            aeVar.o = 1;
        }
        if (aeVar.o != 0 && aeVar.n == 0) {
            aeVar.c("Shader program_handle == 0");
            aeVar.o = 1;
        }
        r();
        return true;
    }

    public void a(b bVar, RectF rectF, RectF rectF2, af afVar, l lVar) {
        if (rectF2.b() <= 0.0f || rectF2.c() <= 0.0f) {
            return;
        }
        a(bVar.g(), afVar);
        this.Z.a(rectF);
        this.aa.a(rectF2);
        bVar.a(this.Z);
        bVar.a(this.Z, this.aa);
        a(bVar, this.Z, this.aa, lVar);
    }

    private void a(b bVar, RectF rectF, RectF rectF2, l lVar) {
        m();
        this.j.a(this.w);
        this.j.a(bVar, rectF, rectF2, i());
    }

    public void m() {
        if (!this.h) {
            if (this.i) {
                f();
            }
            b(true);
            this.j.a(this.v);
            this.h = true;
        }
    }

    public void n() {
        if (!this.i) {
            if (this.h) {
                f();
            }
            b(true);
            this.k.a((com.corrodinggames.rts.gameFramework.m.ae) null);
            this.i = true;
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void f() {
        if (this.h) {
            this.j.d();
            this.h = false;
        }
        if (this.i) {
            this.k.c();
            this.i = false;
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void e() {
        if (this.h) {
            this.j.c();
        }
        if (this.i) {
            this.k.b();
        }
    }

    public void o() {
        this.j.b();
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public boolean a(b bVar) {
        boolean zI = bVar.i();
        if (zI) {
            c(bVar.e, bVar.f);
            synchronized (this.U) {
                this.U.a(bVar.a());
            }
        }
        return zI;
    }

    public static void b(int i, int i2) {
        x++;
        y += i * i2 * 4;
    }

    public static void c(int i, int i2) {
        x--;
        y -= (i * i2) * 4;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void d() {
        a((b) this.W.remove(this.W.size() - 1), t());
        c();
        l();
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void c(b bVar) {
        b();
        b bVarT = t();
        this.W.add(bVar);
        a(bVarT, bVar);
    }

    private b t() {
        return (b) this.W.get(this.W.size() - 1);
    }

    private void a(b bVar, b bVar2) {
        f();
        if (bVar == null && bVar2 != null) {
            if (bVar2.g() == 3553) {
                GLES20.glGenFramebuffers(1, this.V, 0);
                q();
                GLES20.glBindFramebuffer(36160, this.V[0]);
                q();
            } else {
                GLES11Ext.glGenFramebuffersOES(1, this.V, 0);
                q();
                GLES11Ext.glBindFramebufferOES(36160, this.V[0]);
                q();
            }
        } else if (bVar != null && bVar2 == null) {
            if (bVar.g() == 3553) {
                GLES20.glBindFramebuffer(36160, 0);
                q();
                GLES20.glDeleteFramebuffers(1, this.V, 0);
                q();
            } else {
                GLES11Ext.glBindFramebufferOES(36160, 0);
                q();
                GLES11Ext.glDeleteFramebuffersOES(1, this.V, 0);
                q();
            }
        }
        if (bVar2 == null) {
            a(this.M, this.N);
            return;
        }
        a(bVar2.b(), bVar2.c());
        if (!bVar2.i()) {
            bVar2.b(this);
        }
        if (bVar2.g() == 3553) {
            GLES20.glFramebufferTexture2D(36160, 36064, bVar2.g(), bVar2.a(), 0);
            q();
            u();
        } else {
            GLES11Ext.glFramebufferTexture2DOES(36160, 36064, bVar2.g(), bVar2.a(), 0);
            q();
            v();
        }
    }

    private static void u() {
        int iGlCheckFramebufferStatus = GLES20.glCheckFramebufferStatus(36160);
        if (iGlCheckFramebufferStatus != 36053) {
            String str = VariableScope.nullOrMissingString;
            switch (iGlCheckFramebufferStatus) {
                case 36054:
                    str = "GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT";
                    break;
                case 36055:
                    str = "GL_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";
                    break;
                case 36057:
                    str = "GL_FRAMEBUFFER_INCOMPLETE_DIMENSIONS";
                    break;
                case 36061:
                    str = "GL_FRAMEBUFFER_UNSUPPORTED";
                    break;
            }
            throw new RuntimeException(str + ":" + Integer.toHexString(iGlCheckFramebufferStatus));
        }
    }

    private static void v() {
        int iGlCheckFramebufferStatusOES = GLES11Ext.glCheckFramebufferStatusOES(36160);
        if (iGlCheckFramebufferStatusOES != 36053) {
            String str = VariableScope.nullOrMissingString;
            switch (iGlCheckFramebufferStatusOES) {
                case 36054:
                    str = "GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT";
                    break;
                case 36055:
                    str = "GL_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";
                    break;
                case 36057:
                    str = "GL_FRAMEBUFFER_INCOMPLETE_DIMENSIONS";
                    break;
                case 36061:
                    str = "GL_FRAMEBUFFER_UNSUPPORTED";
                    break;
            }
            throw new RuntimeException(str + ":" + Integer.toHexString(iGlCheckFramebufferStatusOES));
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void d(b bVar) {
        int iG = bVar.g();
        b(bVar);
        q();
        GLES20.glTexParameteri(iG, 10242, 33071);
        GLES20.glTexParameteri(iG, 10243, 33071);
        int iH = bVar.h();
        GLES20.glTexParameterf(iG, 10241, iH);
        GLES20.glTexParameterf(iG, 10240, iH);
    }

    public void a(b bVar, int i) {
        if (bVar.h() != i && bVar.a() != -1) {
            b(bVar);
            bVar.b(i);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void b(b bVar) {
        if (this.z == bVar) {
        }
        e();
        GLES20.glBindTexture(bVar.g(), bVar.a());
        this.z = bVar;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void a(b bVar, int i, int i2, int i3) {
        int iG = bVar.g();
        b(bVar);
        q();
        GLES20.glTexImage2D(iG, 0, i3, bVar.d(), bVar.e(), 0, i, i2, null);
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void a(b bVar, Bitmap bitmap, int i) {
        int iG = bVar.g();
        b(bVar);
        q();
        if (i == 0) {
            GLUtils.texImage2D(iG, 0, bitmap, 0);
        } else {
            GLUtils.texImage2D(iG, 0, i, bitmap, 0);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void a(b bVar, int i, int i2, Bitmap bitmap, int i3, int i4) {
        int iG = bVar.g();
        b(bVar);
        q();
        GLUtils.texSubImage2D(iG, 0, i, i2, bitmap, i3, i4);
    }

    public static void a(String str, Throwable th) {
        if (B > 1000) {
            return;
        }
        B++;
        if (th != null) {
            Log.b(G, str, th);
        } else {
            Log.d(G, str);
        }
    }

    public static void p() {
        int i;
        int i2 = 255;
        int iGlGetError = GLES20.glGetError();
        while (true) {
            i = iGlGetError;
            if (i == 0 || i2 <= 0) {
                break;
            }
            i2--;
            iGlGetError = GLES20.glGetError();
        }
        if (i != 0) {
            a("clearGlError: Failed to clear", (Throwable) null);
        }
    }

    public static void q() {
        int iGlGetError;
        if (A && (iGlGetError = GLES20.glGetError()) != 0) {
            a("GL error: " + iGlGetError, new Throwable());
            p();
        }
    }

    public static void r() {
        int iGlGetError = GLES20.glGetError();
        if (iGlGetError != 0) {
            a("GL error: " + iGlGetError, new Throwable());
            p();
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public u a() {
        return ac;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void a(int i, int i2, int i3, int i4) {
        float f = this.K[this.L];
        this.n.f439a = new RectF();
        this.n.f439a.f48a = i;
        this.n.f439a.c = i3;
        this.n.f439a.b = i2;
        this.n.f439a.d = i4;
        this.n.f439a.f48a *= f;
        this.n.f439a.c *= f;
        this.n.f439a.b *= f;
        this.n.f439a.d *= f;
        a(false);
    }

    private void a(h hVar) {
        if (hVar == null) {
            throw new NullPointerException("draw shape filter is null.");
        }
        this.S = hVar;
        if (this.J.containsKey(hVar)) {
            int i = this.O;
            this.O = ((Integer) this.J.get(hVar)).intValue();
            a(this.e, this.O);
            if (i != this.O) {
                a(this.O, this.e);
                return;
            }
            return;
        }
        this.O = a(this.e, hVar.a(), hVar.b());
        a(this.O, this.e);
        this.J.put(hVar, Integer.valueOf(this.O));
    }

    private void a(int i, af afVar) {
        if (afVar == null) {
            throw new NullPointerException("Texture filter is null.");
        }
    }

    public int a(q[] qVarArr, String str, String str2) {
        return a(b(35633, str), b(35632, str2), qVarArr, this.ab);
    }

    public p a(int i, boolean z, boolean z2) {
        com.corrodinggames.rts.gameFramework.l.e("Loading new font size:" + i + " bold:" + z + " unicode:" + z2);
        try {
            p pVar = new p(this);
            pVar.f437a = i;
            pVar.b = z;
            Paint paint = new Paint();
            paint.c(true);
            paint.a(true);
            if (!z) {
                paint.a(Typeface.a(Typeface.c, 0));
            } else {
                paint.a(Typeface.a(Typeface.c, 1));
            }
            pVar.c = new com.corrodinggames.rts.gameFramework.b.a.b(null);
            pVar.c.a(paint, i, 3, 2);
            pVar.c.a(true);
            pVar.c.a(12);
            this.C.add(pVar);
            return pVar;
        } catch (OutOfMemoryError e) {
            com.corrodinggames.rts.gameFramework.l.a(com.corrodinggames.rts.gameFramework.u.gameFont, e);
            p pVar2 = new p(this);
            pVar2.f437a = i;
            pVar2.b = z;
            if (this.D != null) {
                pVar2.c = this.D.c;
            }
            this.C.add(pVar2);
            return pVar2;
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void a(String str, float f, float f2, Paint paint) {
        f();
        boolean zA = false;
        Typeface typefaceI = paint.i();
        if (typefaceI != null) {
            zA = typefaceI.a();
        }
        int iK = (int) paint.k();
        if (iK > 42) {
            iK = 42;
        }
        if (iK < 10) {
            iK = 10;
        }
        if (iK % 2 != 0) {
        }
        boolean zN = com.corrodinggames.rts.gameFramework.f.n(str);
        if (zN) {
            iK = 24;
        }
        if (this.D == null) {
            this.D = a(24, false, true);
        }
        p pVarA = null;
        Iterator it = this.C.iterator();
        while (it.hasNext()) {
            p pVar = (p) it.next();
            if (pVar.f437a == iK && pVar.b == zA) {
                pVarA = pVar;
            }
        }
        if (pVarA == null) {
            pVarA = a(iK, zA, zN);
        }
        if (pVarA.c == null) {
            a("font.glText==null", (Throwable) null);
            return;
        }
        com.corrodinggames.rts.gameFramework.b.a.b bVar = pVarA.c;
        r();
        int iE = paint.e();
        float fA = Color.a(iE) * 0.003921569f;
        float fB = Color.b(iE) * 0.003921569f * fA;
        float fC = Color.c(iE) * 0.003921569f * fA;
        float fD = Color.d(iE) * 0.003921569f * fA;
        float fK = paint.k();
        if (fK != pVarA.f437a) {
        }
        bVar.a(fB, fC, fD, fA, this.d);
        bVar.a(fK / pVarA.f437a);
        r();
        if (paint.j() == Paint.Align.CENTER) {
            bVar.a(str, f - ((int) (bVar.a(str) * 0.5f)), this.c - f2);
        } else {
            bVar.a(str, f, this.c - f2, 0.0f);
        }
        r();
        bVar.d();
        l();
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void a(float[] fArr, int i, int i2, v vVar, h hVar) {
        if (this.F == null || this.F.capacity() < i2 * 4) {
            ByteBuffer byteBufferAllocateDirect = ByteBuffer.allocateDirect((i2 * 4) + 10);
            byteBufferAllocateDirect.order(ByteOrder.nativeOrder());
            this.F = byteBufferAllocateDirect.asFloatBuffer();
        }
        this.F.clear();
        this.F.put(fArr, i, i2);
        this.F.flip();
        this.F.position(0);
        float fB = vVar.b();
        int iA = vVar.a();
        if (fB == 0.0f) {
            fB = 1.0f;
        }
        a(hVar);
        a(0, iA, fB);
        if (this.T != null) {
            this.T.a(this.O, this.S);
        }
        q[] qVarArr = this.e;
        int i3 = qVarArr[0].f438a;
        GLES20.glEnableVertexAttribArray(i3);
        q();
        GLES20.glVertexAttribPointer(i3, 2, 5126, false, 0, (Buffer) this.F);
        a(qVarArr, 0.0f, 0.0f, 1.0f, 1.0f, (l) null);
        GLES20.glDrawArrays(0, 0, i2 / 2);
        q();
        GLES20.glDisableVertexAttribArray(i3);
        q();
    }

    @Override // com.corrodinggames.rts.gameFramework.b.k
    public void a(Bitmap bitmap) {
        if (this.f436a != null) {
            this.f436a.b(bitmap);
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/ag.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.graphics.RectF;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/ag.class */
public class ag {
    public static void a(b bVar, RectF rectF) {
        int i = 0;
        int i2 = 0;
        int iB = bVar.b();
        int iC = bVar.c();
        if (bVar.f()) {
            i = 1;
            i2 = 1;
            iB--;
            iC--;
        }
        rectF.a(i, i2, iB, iC);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/z.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/z.class */
public class z {

    /* renamed from: a, reason: collision with root package name */
    o f444a = new o("aPosition");
    o b = new o("aTextureCoordinate");
    o c = new o("aColor");
    s d = new s("uProjection");
    s e = new s("u_texture");
    q[] f = {this.f444a, this.b, this.c, this.d, this.e};
}


================================================================================
// FILE_PATH: ./gameFramework/b/af.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/af.class */
public interface af {
}


================================================================================
// FILE_PATH: ./gameFramework/b/o.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.opengl.GLES20;
import android.util.Log;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/o.class */
class o extends q {
    public o(String str) {
        super(str);
    }

    @Override // com.corrodinggames.rts.gameFramework.b.q
    public void a(int i) {
        if (this.c != i) {
            this.f438a = GLES20.glGetAttribLocation(i, this.b);
            this.c = i;
            n.r();
            if (this.f438a == -1) {
                Log.d(n.G, "loadHandle: Failed to find: " + this.b);
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/v.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.graphics.Paint;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/v.class */
public class v {

    /* renamed from: a, reason: collision with root package name */
    private float f441a;
    private int b;
    private Paint.Style c;

    public void a(int i) {
        this.b = i;
    }

    public int a() {
        return this.b;
    }

    public void a(float f) {
        this.f441a = f;
    }

    public float b() {
        return this.f441a;
    }

    public void a(Paint.Style style) {
        this.c = style;
    }

    public Paint.Style c() {
        return this.c;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/aj.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.opengl.GLES20;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/aj.class */
public class aj {

    /* renamed from: a, reason: collision with root package name */
    al f428a;
    float[] b;
    int c;
    int d;
    int e;
    n f;
    int g;
    public ak h;
    b i;
    com.corrodinggames.rts.gameFramework.m.ae j;
    boolean k;
    int l;
    int m;
    float n;
    float o;
    float p;
    float q;
    float r;
    float s;
    float t;

    public void a(com.corrodinggames.rts.gameFramework.m.ae aeVar) {
        this.c = 0;
        this.d = 0;
        this.i = null;
        b(aeVar);
        a();
        n.q();
        this.f428a.d();
        n.q();
    }

    public void a() {
        this.h.c.a(this.f.d);
    }

    void b(com.corrodinggames.rts.gameFramework.m.ae aeVar) {
        if (aeVar != null) {
            this.f.a(aeVar.n);
            this.f.c(aeVar);
            this.k = false;
        } else {
            this.f.a(this.g);
        }
        this.j = aeVar;
    }

    public void b() {
        if (this.c > 0) {
            n.q();
            this.f428a.a(this.b, 0, this.c);
            this.f428a.b();
            n.q();
            this.f428a.a(this.l, 0, this.c);
            this.f428a.c();
            n.q();
            this.c = 0;
            this.d = 0;
        }
    }

    public void c() {
        b();
        this.i = null;
        this.f428a.e();
        n.q();
    }

    public void a(int i) {
        if (this.m == i) {
            return;
        }
        this.m = i;
        float f = ((i >>> 24) & 255) * 0.003921569f * 1.0f;
        this.n = ((i >>> 16) & 255) * 0.003921569f * f;
        this.o = ((i >>> 8) & 255) * 0.003921569f * f;
        this.p = (i & 255) * 0.003921569f * f;
        this.q = f;
    }

    public void b(int i) {
        if (this.l != i) {
            b();
            this.l = i;
        }
    }

    public void a(float f) {
        if (this.t != f) {
            b();
            GLES20.glLineWidth(f);
            this.t = f;
        }
    }

    public void a(float f, float f2) {
        if (this.c + 8 + 24 >= this.e && this.l == 1 && this.d % 2 == 0) {
            b();
        }
        if (this.c + 8 >= this.e) {
            b();
        }
        n.q();
        if (this.k && this.j != null) {
            this.f.c(this.j);
            this.k = false;
        }
        n.q();
        float[] fArr = this.b;
        int i = this.c;
        this.c = i + 1;
        fArr[i] = f;
        float[] fArr2 = this.b;
        int i2 = this.c;
        this.c = i2 + 1;
        fArr2[i2] = f2;
        float[] fArr3 = this.b;
        int i3 = this.c;
        this.c = i3 + 1;
        fArr3[i3] = this.r;
        float[] fArr4 = this.b;
        int i4 = this.c;
        this.c = i4 + 1;
        fArr4[i4] = this.s;
        float[] fArr5 = this.b;
        int i5 = this.c;
        this.c = i5 + 1;
        fArr5[i5] = this.n;
        float[] fArr6 = this.b;
        int i6 = this.c;
        this.c = i6 + 1;
        fArr6[i6] = this.o;
        float[] fArr7 = this.b;
        int i7 = this.c;
        this.c = i7 + 1;
        fArr7[i7] = this.p;
        float[] fArr8 = this.b;
        int i8 = this.c;
        this.c = i8 + 1;
        fArr8[i8] = this.q;
        this.d++;
        n.q();
    }

    public void a(float f, float f2, float[] fArr) {
        float f3 = fArr[0];
        float f4 = fArr[4];
        float f5 = fArr[1];
        float f6 = fArr[5];
        a((f * f3) + (f2 * f4) + fArr[12], (f * f5) + (f2 * f6) + fArr[13]);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/c.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/c.class */
public class c implements af {
}


================================================================================
// FILE_PATH: ./gameFramework/b/h.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/h.class */
public interface h {
    String a();

    String b();
}


================================================================================
// FILE_PATH: ./gameFramework/b/aa.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.opengl.GLES20;
import java.nio.FloatBuffer;
import java.nio.ShortBuffer;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/aa.class */
public class aa {

    /* renamed from: a, reason: collision with root package name */
    public final FloatBuffer f425a;
    public final ShortBuffer b;
    public int c;
    public int d;
    int[] e;
    int f;
    final /* synthetic */ y g;

    public void a(float[] fArr, int i, int i2) {
        this.f425a.clear();
        int i3 = i + i2;
        this.f425a.put(fArr, 0, i2);
        this.f425a.flip();
        this.d = i2;
    }

    public void a() {
        GLES20.glEnableVertexAttribArray(this.g.j.f444a.f438a);
        GLES20.glEnableVertexAttribArray(this.g.j.b.f438a);
        GLES20.glEnableVertexAttribArray(this.g.j.c.f438a);
    }

    public void b() {
        n.q();
        if (this.e == null) {
            this.e = new int[1];
            GLES20.glGenBuffers(1, this.e, 0);
            n.r();
        }
        this.f++;
        if (this.f >= 1) {
            this.f = 0;
        }
        GLES20.glBindBuffer(34962, this.e[this.f]);
        GLES20.glBufferData(34962, this.d * 4, this.f425a, 35040);
        GLES20.glVertexAttribPointer(this.g.j.f444a.f438a, 2, 5126, false, 32, 0);
        n.q();
        GLES20.glVertexAttribPointer(this.g.j.b.f438a, 2, 5126, false, 32, 8);
        n.q();
        GLES20.glVertexAttribPointer(this.g.j.c.f438a, 4, 5126, false, 32, 16);
        n.q();
    }

    public void a(int i, int i2, int i3) {
        if (this.b != null) {
            GLES20.glDrawElements(i, i3, 5123, 0);
        } else {
            GLES20.glDrawArrays(i, i2, i3);
        }
    }

    public void c() {
        GLES20.glBindBuffer(34962, 0);
    }

    public void d() {
        GLES20.glBindBuffer(34963, this.c);
        a();
    }

    public void e() {
        GLES20.glDisableVertexAttribArray(this.g.j.b.f438a);
        GLES20.glDisableVertexAttribArray(this.g.j.c.f438a);
        GLES20.glBindBuffer(34963, 0);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/d.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/d.class */
public class d implements af {
    public String a() {
        return "#version 100;\nuniform mat4 uProjection;\nattribute vec2 aPosition;\nattribute vec2 aTextureCoordinate;\nattribute vec4 aColor;\nvarying vec4 v_color;\nvarying vec2 v_texCoords;\nvoid main() {\n  vec4 pos = vec4(aPosition, 0.0, 1.0);\n  gl_Position = uProjection * pos;\n  v_texCoords = aTextureCoordinate;\n  v_color = aColor;\n}\n";
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/q.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.opengl.GLES20;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/q.class */
abstract class q {
    protected final String b;

    /* renamed from: a, reason: collision with root package name */
    public int f438a = -1;
    public int c = -1;

    public abstract void a(int i);

    public q(String str) {
        this.b = str;
    }

    public void a(float[] fArr) {
        GLES20.glUniformMatrix4fv(this.f438a, 1, false, fArr, 0);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/p.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/p.class */
public class p {

    /* renamed from: a, reason: collision with root package name */
    int f437a;
    boolean b;
    com.corrodinggames.rts.gameFramework.b.a.b c;
    final /* synthetic */ n d;

    public p(n nVar) {
        this.d = nVar;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/al.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.opengl.GLES20;
import java.nio.FloatBuffer;
import java.nio.ShortBuffer;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/al.class */
public class al {

    /* renamed from: a, reason: collision with root package name */
    public final FloatBuffer f430a;
    public final ShortBuffer b;
    public int c;
    int[] d;
    int e;
    final /* synthetic */ aj f;

    public void a(float[] fArr, int i, int i2) {
        this.f430a.clear();
        int i3 = i + i2;
        this.f430a.put(fArr, 0, i2);
        this.f430a.flip();
        this.c = i2;
    }

    public void a() {
        GLES20.glEnableVertexAttribArray(this.f.h.f429a.f438a);
        GLES20.glEnableVertexAttribArray(this.f.h.b.f438a);
    }

    public void b() {
        n.q();
        if (this.d == null) {
            this.d = new int[1];
            GLES20.glGenBuffers(1, this.d, 0);
            n.r();
        }
        this.e++;
        if (this.e >= 1) {
            this.e = 0;
        }
        GLES20.glBindBuffer(34962, this.d[this.e]);
        GLES20.glBufferData(34962, this.c * 4, this.f430a, 35040);
        GLES20.glVertexAttribPointer(this.f.h.f429a.f438a, 2, 5126, false, 32, 0);
        n.q();
        n.q();
        GLES20.glVertexAttribPointer(this.f.h.b.f438a, 4, 5126, false, 32, 16);
        n.q();
    }

    public void a(int i, int i2, int i3) {
        if (this.b != null) {
            this.b.position(i2);
            GLES20.glDrawElements(i, i3, 5123, this.b);
        } else {
            GLES20.glDrawArrays(i, i2, i3);
        }
    }

    public void c() {
        GLES20.glBindBuffer(34962, 0);
    }

    public void d() {
        a();
    }

    public void e() {
        GLES20.glDisableVertexAttribArray(this.f.h.b.f438a);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/e.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.graphics.Bitmap;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/e.class */
public class e extends ah {
    protected Bitmap l;

    public e(Bitmap bitmap) {
        this(bitmap, false);
    }

    public e(Bitmap bitmap, boolean z) {
        super(z);
        this.l = bitmap;
        this.m = k();
        a(this.m.b() + 0, this.m.c() + 0);
    }

    @Override // com.corrodinggames.rts.gameFramework.b.ah
    protected void a(Bitmap bitmap) {
    }

    @Override // com.corrodinggames.rts.gameFramework.b.ah
    protected Bitmap k() {
        return this.l;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/i.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import java.util.Iterator;
import java.util.List;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/i.class */
public class i extends c {

    /* renamed from: a, reason: collision with root package name */
    protected List f435a;
    private final List b;
    private b c;
    private b d;

    private void a(b bVar) {
        a();
        for (int i = 0; i < this.f435a.size(); i++) {
            this.b.add(new x(bVar.b(), bVar.c(), false));
        }
    }

    private void a() {
        Iterator it = this.b.iterator();
        while (it.hasNext()) {
            ((x) it.next()).j();
        }
        this.b.clear();
    }

    public b a(b bVar, k kVar, j jVar) {
        if (bVar instanceof x) {
            if (!((x) bVar).k()) {
                return this.c;
            }
        } else if (this.d == bVar && this.c != null) {
            return this.c;
        }
        if (this.b.size() != this.f435a.size() || this.d != bVar) {
            a(bVar);
        }
        this.d = bVar;
        b bVar2 = bVar;
        int i = 0;
        int size = this.b.size();
        while (i < size) {
            x xVar = (x) this.b.get(i);
            af afVar = (af) this.f435a.get(i);
            kVar.c(xVar);
            jVar.a(bVar2, afVar, i == 0);
            kVar.d();
            bVar2 = xVar;
            com.corrodinggames.rts.gameFramework.l.e("FilterGroup: renderTarget");
            i++;
        }
        this.c = bVar2;
        return bVar2;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/ac.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.graphics.Bitmap;
import java.util.ArrayList;
import java.util.HashMap;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/ac.class */
public class ac {

    /* renamed from: a, reason: collision with root package name */
    public k f426a;
    public ad b;
    public static Bitmap c = Bitmap.a(64, 64, Bitmap.Config.ARGB_8888);
    boolean g;
    HashMap d = new HashMap();
    ArrayList e = new ArrayList();
    int f = 0;
    boolean h = false;
    int i = 0;
    int j = 0;
    int k = 0;
    int l = 1;

    public ac(k kVar, int i, int i2) {
        this.f426a = kVar;
        this.b = new ad(kVar, i, i2);
    }

    public b a(Bitmap bitmap) {
        ae aeVar = (ae) this.d.get(bitmap);
        if (aeVar != null) {
            if (this.h) {
                this.e.add(bitmap);
            }
            return aeVar;
        }
        int iB = bitmap.b();
        int iC = bitmap.c();
        int iB2 = this.b.b();
        int iC2 = this.b.c();
        if (this.i + iB > iB2) {
            this.i = 0;
            this.j += this.k + this.l;
            this.k = 0;
        }
        if (this.j + iC > iC2) {
            if (!this.g) {
                this.g = true;
                return null;
            }
            return null;
        }
        ae aeVar2 = new ae();
        aeVar2.f431a = this.b.f431a;
        aeVar2.l = this.b;
        int i = this.i;
        int i2 = this.j;
        this.i += iB + this.l;
        if (this.k < iC) {
            this.k = iC;
        }
        this.b.a(this.f426a, bitmap, i, i2);
        aeVar2.o = i;
        aeVar2.p = i2;
        aeVar2.m = i / this.b.e;
        aeVar2.n = i2 / this.b.f;
        aeVar2.e = this.b.e;
        aeVar2.f = this.b.f;
        aeVar2.g = this.b.g;
        aeVar2.h = this.b.h;
        aeVar2.c = iB;
        aeVar2.d = iC;
        this.f++;
        this.d.put(bitmap, aeVar2);
        return aeVar2;
    }

    public void b(Bitmap bitmap) {
        if (((ae) this.d.get(bitmap)) != null) {
            this.d.remove(bitmap);
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/j.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/j.class */
public interface j {
    void a(b bVar, af afVar, boolean z);
}


================================================================================
// FILE_PATH: ./gameFramework/b/s.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.opengl.GLES20;
import android.util.Log;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/s.class */
class s extends q {
    public s(String str) {
        super(str);
    }

    @Override // com.corrodinggames.rts.gameFramework.b.q
    public void a(int i) {
        if (this.c != i) {
            this.f438a = GLES20.glGetUniformLocation(i, this.b);
            this.c = i;
            n.r();
            if (this.f438a == -1) {
                Log.d(n.G, "loadHandle: Failed to find: " + this.b);
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/f.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.graphics.Bitmap;
import android.graphics.Paint;
import java.util.Iterator;
import java.util.Map;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/f.class */
public class f {

    /* renamed from: a, reason: collision with root package name */
    protected final k f432a;
    private Map b;
    private a c;
    private g d;
    private af e;

    public void a(b bVar) {
        this.f432a.c(bVar);
    }

    public void a() {
        this.f432a.d();
    }

    public k b() {
        return this.f432a;
    }

    public b a(Bitmap bitmap, com.corrodinggames.rts.gameFramework.m.e eVar, af afVar) {
        this.e = afVar;
        b bVarA = a(bitmap, eVar);
        if (afVar instanceof i) {
            bVarA = ((i) afVar).a(bVarA, this.f432a, new j() { // from class: com.corrodinggames.rts.gameFramework.b.f.1
                @Override // com.corrodinggames.rts.gameFramework.b.j
                public void a(b bVar, af afVar2, boolean z) {
                    f.this.f432a.a(bVar, 0, 0, bVar.b(), bVar.c(), afVar2, null);
                }
            });
        }
        return bVarA;
    }

    public void a(Bitmap bitmap) {
        b bVar = (b) this.b.get(bitmap);
        if (bVar != null && (bVar instanceof ah)) {
            ((ah) bVar).l();
        }
        b().a(bitmap);
    }

    public b a(Bitmap bitmap, com.corrodinggames.rts.gameFramework.m.e eVar) {
        b eVar2 = (b) this.b.get(bitmap);
        if (eVar2 == null) {
            this.f432a.e();
            c();
            eVar2 = new e(bitmap);
            eVar2.c(b());
            eVar2.j = eVar.d();
            n.b(eVar2.e, eVar2.f);
            this.b.put(bitmap, eVar2);
            d();
        }
        return eVar2;
    }

    public void a(float f, float f2, float f3, v vVar) {
        if (vVar.c() == Paint.Style.FILL) {
            this.d.a(0.5f);
        } else {
            float fB = vVar.b();
            if (fB == 0.0f) {
                fB = 1.0f;
            }
            this.d.a(fB / (2.0f * f3));
        }
        this.f432a.a(f - f3, f2 - f3, f3, vVar, this.d);
    }

    public void a(float f, float f2, float f3, float f4, v vVar) {
        this.f432a.a(f, f2, f3, f4, vVar, this.c);
    }

    public void c() {
        this.f432a.b();
    }

    public void d() {
        this.f432a.c();
    }

    public void e() {
        Iterator it = this.b.values().iterator();
        while (it.hasNext()) {
            ((b) it.next()).j();
        }
        this.b.clear();
    }

    protected void finalize() throws Throwable {
        super.finalize();
        e();
    }

    public void a(int i, int i2, int i3, int i4) {
        this.f432a.a(i, i2, i3, i4);
    }

    public void a(String str, float f, float f2, Paint paint) {
        this.f432a.a(str, f, f2, paint);
    }

    public void a(float[] fArr, int i, int i2, v vVar) {
        this.f432a.a(fArr, i, i2, vVar, this.c);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/g.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/g.class */
public class g extends a {

    /* renamed from: a, reason: collision with root package name */
    private float f434a;

    public void a(float f) {
        this.f434a = f;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.a, com.corrodinggames.rts.gameFramework.b.h
    public String a() {
        return "uniform mat4 uMatrix;\nuniform mat4 uProjection;\nattribute vec2 aPosition;\nvarying vec2 vDrawRegionCoord;\nvoid main() {\n  vec4 pos = vec4(aPosition, 0.0, 1.0);\n  gl_Position = uProjection * uMatrix * pos;\n  vDrawRegionCoord = pos.xy;\n}\n";
    }

    @Override // com.corrodinggames.rts.gameFramework.b.a, com.corrodinggames.rts.gameFramework.b.h
    public String b() {
        return "precision mediump float;\nvarying vec2 vDrawRegionCoord;\nuniform vec4 uColor;\nuniform float lineWidth;\nvoid main() {\n  float dx = vDrawRegionCoord.x - 0.5;\n  float dy = vDrawRegionCoord.y - 0.5;\n  float powVal = dx*dx + dy*dy; \n  float subRadius = 0.5 - lineWidth; \n  if(powVal >= subRadius * subRadius && powVal <= 0.5 * 0.5) {\n    gl_FragColor = uColor;\n  } else {\n    gl_FragColor = vec4(0, 0, 0, 0);\n  }\n \n}\n";
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/r.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.graphics.RectF;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/r.class */
public class r {

    /* renamed from: a, reason: collision with root package name */
    RectF f439a;

    public void a(r rVar) {
        rVar.f439a = this.f439a;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/k.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.graphics.Bitmap;
import android.graphics.Paint;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/k.class */
public interface k {
    u a();

    void b();

    void c();

    void a(float f, float f2, float f3, v vVar, h hVar);

    void a(float f, float f2, float f3, float f4, v vVar, h hVar);

    void a(b bVar, int i, int i2, int i3, int i4, af afVar, l lVar);

    boolean a(b bVar);

    void b(b bVar);

    void c(b bVar);

    void d();

    void d(b bVar);

    void a(b bVar, int i, int i2, int i3);

    void a(b bVar, Bitmap bitmap, int i);

    void a(b bVar, int i, int i2, Bitmap bitmap, int i3, int i4);

    void a(int i, int i2, int i3, int i4);

    void a(String str, float f, float f2, Paint paint);

    void a(float[] fArr, int i, int i2, v vVar, h hVar);

    void e();

    void f();

    void a(Bitmap bitmap);
}


================================================================================
// FILE_PATH: ./gameFramework/b/ab.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/ab.class */
public interface ab {
}


================================================================================
// FILE_PATH: ./gameFramework/b/u.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/u.class */
public interface u {
    int a();
}


================================================================================
// FILE_PATH: ./gameFramework/b/ai.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.graphics.Bitmap;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/ai.class */
class ai implements Cloneable {

    /* renamed from: a, reason: collision with root package name */
    public boolean f427a;
    public Bitmap.Config b;
    public int c;

    private ai() {
    }

    public int hashCode() {
        int iHashCode = this.b.hashCode() ^ this.c;
        return this.f427a ? iHashCode : -iHashCode;
    }

    public boolean equals(Object obj) {
        if (!(obj instanceof ai)) {
            return false;
        }
        ai aiVar = (ai) obj;
        return this.f427a == aiVar.f427a && this.b == aiVar.b && this.c == aiVar.c;
    }

    /* renamed from: a, reason: merged with bridge method [inline-methods] */
    public ai clone() {
        try {
            return (ai) super.clone();
        } catch (CloneNotSupportedException e) {
            throw new AssertionError(e);
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/y.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.graphics.RectF;
import android.opengl.GLES20;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/y.class */
public class y {

    /* renamed from: a, reason: collision with root package name */
    aa f443a;
    float[] b;
    int c;
    int d;
    int e;
    n f;
    int g;
    d h;
    final z i;
    public z j;
    b k;
    com.corrodinggames.rts.gameFramework.m.ae l;
    boolean m;
    int n;
    float o;
    float p;
    float q;
    float r;

    public void a(com.corrodinggames.rts.gameFramework.m.ae aeVar) {
        this.e = 0;
        this.c = 0;
        this.k = null;
        b(aeVar);
        a();
        n.q();
        this.f443a.d();
    }

    public void a() {
        this.j.d.a(this.f.d);
    }

    public void b() {
        this.m = true;
    }

    void b(com.corrodinggames.rts.gameFramework.m.ae aeVar) {
        if (aeVar != null) {
            this.f.a(aeVar.n);
            this.f.c(aeVar);
            this.m = false;
        } else {
            this.f.a(this.g);
        }
        this.l = aeVar;
    }

    void a(b bVar) {
        int iA;
        if (this.k == bVar) {
            return;
        }
        if (this.k != null && (iA = this.k.a()) == bVar.a() && iA != -1) {
            return;
        }
        c();
        GLES20.glActiveTexture(33984);
        n.q();
        bVar.c(this.f);
        GLES20.glBindTexture(bVar.g(), bVar.a());
        n.q();
        GLES20.glUniform1i(this.j.e.f438a, 0);
        n.q();
        this.k = bVar;
    }

    public void c() {
        if (this.e > 0) {
            n.q();
            this.f443a.a(this.b, 0, this.c);
            this.f443a.b();
            n.q();
            this.f443a.a(4, 0, this.e * 6);
            this.f443a.c();
            n.q();
            this.e = 0;
            this.c = 0;
        }
    }

    public void d() {
        c();
        this.k = null;
        this.f443a.e();
    }

    public void a(int i) {
        if (this.n == i) {
            return;
        }
        this.n = i;
        float f = ((i >>> 24) & 255) * 0.003921569f * 1.0f;
        this.o = ((i >>> 16) & 255) * 0.003921569f * f;
        this.p = ((i >>> 8) & 255) * 0.003921569f * f;
        this.q = (i & 255) * 0.003921569f * f;
        this.r = f;
    }

    public void a(b bVar, RectF rectF, RectF rectF2, float[] fArr) {
        if (this.e == this.d) {
            c();
        }
        a(bVar);
        if (this.m && this.l != null) {
            this.f.c(this.l);
            this.m = false;
        }
        float f = rectF2.f48a;
        float f2 = rectF2.d;
        float f3 = rectF2.c;
        float f4 = rectF2.b;
        float f5 = rectF.f48a;
        float f6 = rectF.b;
        float f7 = rectF.c;
        float f8 = rectF.d;
        float f9 = this.o;
        float f10 = this.p;
        float f11 = this.q;
        float f12 = this.r;
        float f13 = fArr[0];
        float f14 = fArr[4];
        float f15 = fArr[1];
        float f16 = fArr[5];
        float f17 = fArr[12];
        float f18 = fArr[13];
        float f19 = f * f13;
        float f20 = f3 * f13;
        float f21 = f * f15;
        float f22 = f3 * f15;
        float f23 = f2 * f14;
        float f24 = f2 * f16;
        float f25 = f4 * f14;
        float f26 = f4 * f16;
        int i = this.c;
        int i2 = i + 1;
        this.b[i] = f19 + f23 + f17;
        int i3 = i2 + 1;
        this.b[i2] = f21 + f24 + f18;
        int i4 = i3 + 1;
        this.b[i3] = f5;
        int i5 = i4 + 1;
        this.b[i4] = f8;
        int i6 = i5 + 1;
        this.b[i5] = f9;
        int i7 = i6 + 1;
        this.b[i6] = f10;
        int i8 = i7 + 1;
        this.b[i7] = f11;
        int i9 = i8 + 1;
        this.b[i8] = f12;
        int i10 = i9 + 1;
        this.b[i9] = f20 + f23 + f17;
        int i11 = i10 + 1;
        this.b[i10] = f22 + f24 + f18;
        int i12 = i11 + 1;
        this.b[i11] = f7;
        int i13 = i12 + 1;
        this.b[i12] = f8;
        int i14 = i13 + 1;
        this.b[i13] = f9;
        int i15 = i14 + 1;
        this.b[i14] = f10;
        int i16 = i15 + 1;
        this.b[i15] = f11;
        int i17 = i16 + 1;
        this.b[i16] = f12;
        int i18 = i17 + 1;
        this.b[i17] = f20 + f25 + f17;
        int i19 = i18 + 1;
        this.b[i18] = f22 + f26 + f18;
        int i20 = i19 + 1;
        this.b[i19] = f7;
        int i21 = i20 + 1;
        this.b[i20] = f6;
        int i22 = i21 + 1;
        this.b[i21] = f9;
        int i23 = i22 + 1;
        this.b[i22] = f10;
        int i24 = i23 + 1;
        this.b[i23] = f11;
        int i25 = i24 + 1;
        this.b[i24] = f12;
        int i26 = i25 + 1;
        this.b[i25] = f19 + f25 + f17;
        int i27 = i26 + 1;
        this.b[i26] = f21 + f26 + f18;
        int i28 = i27 + 1;
        this.b[i27] = f5;
        int i29 = i28 + 1;
        this.b[i28] = f6;
        int i30 = i29 + 1;
        this.b[i29] = f9;
        int i31 = i30 + 1;
        this.b[i30] = f10;
        int i32 = i31 + 1;
        this.b[i31] = f11;
        this.b[i32] = f12;
        this.c = i32 + 1;
        this.e++;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/ae.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.graphics.RectF;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/ae.class */
public class ae extends b {
    ad l;
    public float m;
    public float n;
    public int o;
    public int p;

    @Override // com.corrodinggames.rts.gameFramework.b.b
    protected boolean c(k kVar) {
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    protected int g() {
        return 3553;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public void b(int i) {
        this.l.b(i);
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public int h() {
        return this.l.h();
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public void a(RectF rectF) {
        float f = this.g;
        float f2 = this.h;
        rectF.f48a = (rectF.f48a * f) + this.m;
        rectF.c = (rectF.c * f) + this.m;
        rectF.b = (rectF.b * f2) + this.n;
        rectF.d = (rectF.d * f2) + this.n;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public void a(RectF rectF, RectF rectF2) {
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public void b(k kVar) {
        com.corrodinggames.rts.gameFramework.l.e("SubTexture prepare TODO");
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/l.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/l.class */
public interface l {
    float[] a(int i, int i2, float f, float f2, float f3, float f4);
}


================================================================================
// FILE_PATH: ./gameFramework/b/m.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/m.class */
public interface m {
    void a(int i, h hVar);
}


================================================================================
// FILE_PATH: ./gameFramework/b/ad.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.graphics.Bitmap;
import android.opengl.GLES20;
import android.opengl.GLUtils;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/ad.class */
public class ad extends b {
    int l = 9729;

    public ad(k kVar, int i, int i2) {
        a(i, i2);
        this.f431a = kVar.a().a();
        kVar.d(this);
        kVar.a(this, 6408, 5121, 6408);
    }

    public void a(k kVar, Bitmap bitmap, int i, int i2) {
        kVar.f();
        int iG = g();
        kVar.b(this);
        n.q();
        GLUtils.texSubImage2D(iG, 0, i, i2, bitmap, 6408, 5121);
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    protected boolean c(k kVar) {
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public void b(k kVar) {
        com.corrodinggames.rts.gameFramework.l.e("BackingTexture prepare TODO");
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    protected int g() {
        return 3553;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public void b(int i) {
        if (this.l != i) {
            int iG = g();
            GLES20.glTexParameterf(iG, 10241, i);
            GLES20.glTexParameterf(iG, 10240, i);
            this.l = i;
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public int h() {
        return this.l;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/x.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.util.Log;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/x.class */
public class x extends b {
    private final boolean m;
    private int n;
    protected boolean l;

    public x(int i, int i2, boolean z) {
        this(i, i2, z, 3553);
    }

    public x(int i, int i2, boolean z, int i3) {
        this.n = 3553;
        this.m = z;
        a(i, i2);
        this.n = i3;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public void b(k kVar) {
        this.f431a = kVar.a().a();
        if (this.n == 3553) {
            kVar.a(this, 6408, 5121, 6408);
        }
        kVar.d(this);
        this.b = 1;
        a(kVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    protected boolean c(k kVar) {
        if (i()) {
            return true;
        }
        Log.c("RawTexture", "lost the content due to context change");
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public int g() {
        return this.n;
    }

    public boolean k() {
        return this.l;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public void b(int i) {
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public int h() {
        return 9729;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/a.class */
public class a implements h {
    @Override // com.corrodinggames.rts.gameFramework.b.h
    public String a() {
        return "uniform mat4 uMatrix;\nuniform mat4 uProjection;\nattribute vec2 aPosition;\nvoid main() {\n  vec4 pos = vec4(aPosition, 0.0, 1.0);\n  gl_Position = uProjection * uMatrix * pos;\n}\n";
    }

    @Override // com.corrodinggames.rts.gameFramework.b.h
    public String b() {
        return "precision mediump float;\nuniform vec4 uColor;\nvoid main() {\n  gl_FragColor = uColor;\n}\n";
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/ah.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.graphics.Bitmap;
import android.opengl.GLES20;
import android.opengl.GLUtils;
import java.util.HashMap;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/ah.class */
public abstract class ah extends b {
    private static HashMap l = new HashMap();
    private static ai o = new ai();
    private boolean p;
    private boolean q;
    private boolean r;
    private boolean s;
    private boolean t;
    private static int u;
    protected Bitmap m;
    private int v;
    int n;

    protected abstract Bitmap k();

    protected abstract void a(Bitmap bitmap);

    protected ah() {
        this(false);
    }

    protected ah(boolean z) {
        super(null, 0, 0);
        this.p = true;
        this.q = false;
        this.r = false;
        this.s = false;
        this.t = false;
        this.n = 9729;
        if (z) {
            a(true);
            this.v = 1;
        }
    }

    private static Bitmap a(boolean z, Bitmap.Config config, int i) {
        Bitmap bitmapA;
        ai aiVar = o;
        aiVar.f427a = z;
        aiVar.b = config;
        aiVar.c = i;
        Bitmap bitmap = (Bitmap) l.get(aiVar);
        if (bitmap == null) {
            if (z) {
                bitmapA = Bitmap.a(1, i, config);
            } else {
                bitmapA = Bitmap.a(i, 1, config);
            }
            bitmap = bitmapA;
            l.put(aiVar.clone(), bitmap);
        }
        return bitmap;
    }

    private Bitmap n() {
        if (this.m == null) {
            this.m = k();
            int iB = this.m.b() + (this.v * 2);
            int iC = this.m.c() + (this.v * 2);
            if (this.c == -1) {
                a(iB, iC);
            }
        }
        return this.m;
    }

    private void o() {
        a(this.m);
        this.m = null;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public int b() {
        if (this.c == -1) {
            n();
        }
        return this.c;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public int c() {
        if (this.c == -1) {
            n();
        }
        return this.d;
    }

    public void l() {
        if (this.m != null) {
            o();
        }
        this.p = false;
    }

    public boolean m() {
        return i() && this.p;
    }

    public void d(k kVar) {
        int type;
        if (!i()) {
            if (this.t) {
                int i = u + 1;
                u = i;
                if (i > 100) {
                    return;
                }
            }
            e(kVar);
            return;
        }
        if (!this.p) {
            Bitmap bitmapN = n();
            int internalFormat = GLUtils.getInternalFormat(bitmapN);
            try {
                type = GLUtils.getType(bitmapN);
            } catch (IllegalArgumentException e) {
                com.corrodinggames.rts.gameFramework.l.a("updateContent: GLUtils.getType failed, defaulting to GL_UNSIGNED_BYTE", (Throwable) e);
                type = 5121;
            }
            kVar.a(this, this.v, this.v, bitmapN, internalFormat, type);
            o();
            this.p = true;
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public void b(int i) {
        if (this.n != i) {
            if (this.p) {
                int iG = g();
                GLES20.glTexParameterf(iG, 10241, i);
                GLES20.glTexParameterf(iG, 10240, i);
            }
            this.n = i;
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public int h() {
        return this.n;
    }

    private void e(k kVar) {
        int type;
        Bitmap bitmapN = n();
        if (bitmapN != null) {
            try {
                int iB = bitmapN.b();
                int iC = bitmapN.c();
                int i = iB + (this.v * 2);
                int i2 = iC + (this.v * 2);
                int iD = d();
                int iE = e();
                this.f431a = kVar.a().a();
                this.p = true;
                kVar.d(this);
                if (iB == iD && iC == iE) {
                    kVar.a(this, bitmapN, 0);
                    n.q();
                } else {
                    int internalFormat = GLUtils.getInternalFormat(bitmapN);
                    try {
                        type = GLUtils.getType(bitmapN);
                    } catch (IllegalArgumentException e) {
                        com.corrodinggames.rts.gameFramework.l.a("uploadToCanvas: GLUtils.getType failed, defaulting to GL_UNSIGNED_BYTE", (Throwable) e);
                        type = 5121;
                    }
                    Bitmap.Config configD = bitmapN.d();
                    kVar.a(this, internalFormat, type, internalFormat);
                    n.q();
                    kVar.a(this, this.v, this.v, bitmapN, internalFormat, type);
                    n.q();
                    if (this.v > 0) {
                        kVar.a(this, 0, 0, a(true, configD, iE), internalFormat, type);
                        kVar.a(this, 0, 0, a(false, configD, iD), internalFormat, type);
                    }
                    if (this.v > 0) {
                        if (this.v + iB < iD) {
                            kVar.a(this, this.v + iB, 0, a(true, configD, iE), internalFormat, type);
                        }
                        if (this.v + iC < iE) {
                            kVar.a(this, 0, this.v + iC, a(false, configD, iD), internalFormat, type);
                        }
                    }
                }
                a(kVar);
                this.b = 1;
                this.p = true;
                return;
            } finally {
                o();
            }
        }
        this.b = -1;
        throw new RuntimeException("Texture load fail, no bitmap");
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public boolean c(k kVar) {
        d(kVar);
        this.i++;
        return m();
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public void b(k kVar) {
        this.f431a = kVar.a().a();
        if (3553 == 3553) {
            kVar.a(this, 6408, 5121, 6408);
        }
        kVar.d(this);
        this.b = 1;
        a(kVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public int g() {
        return 3553;
    }

    @Override // com.corrodinggames.rts.gameFramework.b.b
    public void j() {
        super.j();
        if (this.m != null) {
            o();
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/t.java
================================================================================

package com.corrodinggames.rts.gameFramework.b;

import android.opengl.GLES20;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/t.class */
public class t implements u {

    /* renamed from: a, reason: collision with root package name */
    private final int[] f440a = new int[1];

    @Override // com.corrodinggames.rts.gameFramework.b.u
    public int a() {
        GLES20.glGenTextures(1, this.f440a, 0);
        n.q();
        return this.f440a[0];
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/a/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.b.a;

import android.content.res.AssetManager;
import android.graphics.Paint;
import android.opengl.GLES20;
import android.opengl.Matrix;
import android.util.Log;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import java.util.ArrayList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/a/b.class */
public class b {

    /* renamed from: a, reason: collision with root package name */
    AssetManager f420a;
    d b;
    int c;
    int d;
    float e;
    float f;
    float g;
    float h;
    float i;
    int j;
    int k;
    int l;
    int m;
    float n;
    float o;
    float p;
    boolean q;
    private com.corrodinggames.rts.gameFramework.b.a.a.b x;
    private int y;
    private int z;
    public Paint r;
    public ArrayList s;
    c[][] t;
    boolean u;
    int v;
    public static boolean w = true;

    public c a(char c) {
        c cVarB = b(c);
        if (cVarB == null && this.u) {
            b("Loading glyph:" + c);
            c(c);
            a();
        }
        return cVarB;
    }

    public c b(char c) {
        c[] cVarArr;
        if (c <= 65535 && (cVarArr = this.t[c / SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_CONTENTS_MENU]) != null) {
            return cVarArr[c & 255];
        }
        return null;
    }

    public void a(char c, c cVar) {
        c[] cVarArr = this.t[c / SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_CONTENTS_MENU];
        if (cVarArr == null) {
            cVarArr = new c[SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_MEDIA_CONTEXT_MENU];
            this.t[c / SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_CONTENTS_MENU] = cVarArr;
        }
        cVarArr[c & 255] = cVar;
    }

    public void c(char c) {
        if (c > 65535) {
            return;
        }
        if (this.s.size() == 0) {
            b();
        }
        if (!((e) this.s.get(this.s.size() - 1)).a()) {
            if (this.s.size() < this.v) {
                b();
            } else {
                return;
            }
        }
        a(c, ((e) this.s.get(this.s.size() - 1)).a(c, this.r));
    }

    public void a() {
        if (this.s.size() > 0) {
            ((e) this.s.get(this.s.size() - 1)).c();
        }
    }

    public void b() {
        a();
        this.s.add(new e(512, this.s.size(), this.j, this.k, this.c, this.d));
    }

    /* JADX WARN: Type inference failed for: r1v3, types: [com.corrodinggames.rts.gameFramework.b.a.c[], com.corrodinggames.rts.gameFramework.b.a.c[][]] */
    public b(com.corrodinggames.rts.gameFramework.b.a.a.b bVar, AssetManager assetManager) {
        this.q = true;
        this.s = new ArrayList();
        this.t = new c[SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_CONTENTS_MENU];
        this.v = Integer.MAX_VALUE;
        if (bVar == null) {
            bVar = new com.corrodinggames.rts.gameFramework.b.a.a.a();
            bVar.a();
        }
        this.f420a = assetManager;
        this.b = new d(24, bVar, this);
        this.c = 0;
        this.d = 0;
        this.e = 0.0f;
        this.f = 0.0f;
        this.g = 0.0f;
        this.h = 0.0f;
        this.i = 0.0f;
        this.j = 0;
        this.k = 0;
        this.l = 0;
        this.m = 0;
        this.n = 1.0f;
        this.o = 1.0f;
        this.p = 0.0f;
        this.x = bVar;
        this.y = GLES20.glGetUniformLocation(this.x.b(), "u_Color");
        this.z = GLES20.glGetUniformLocation(this.x.b(), "u_Texture");
    }

    public void a(boolean z) {
        this.u = z;
    }

    public void a(int i) {
        this.v = i;
    }

    public b(AssetManager assetManager) {
        this(null, assetManager);
    }

    public boolean a(Paint paint, int i, int i2, int i3) {
        if (this.r != null) {
            throw new RuntimeException("Already loaded");
        }
        this.c = i2;
        this.d = i3;
        this.r = paint;
        this.r.a(true);
        this.r.b(i);
        this.r.b(-1);
        Paint.FontMetrics fontMetricsN = this.r.n();
        this.e = (float) Math.ceil(Math.abs(fontMetricsN.d) + Math.abs(fontMetricsN.f40a));
        this.f = (float) Math.ceil(Math.abs(fontMetricsN.b));
        this.g = (float) Math.ceil(Math.abs(fontMetricsN.c));
        char[] cArr = new char[2];
        this.i = 0.0f;
        this.h = 0.0f;
        float[] fArr = new float[2];
        int i4 = 0;
        char c = ' ';
        while (true) {
            char c2 = c;
            if (c2 > '~') {
                break;
            }
            cArr[0] = c2;
            paint.a(cArr, 0, 1, fArr);
            float f = fArr[0];
            if (f > this.h) {
                this.h = f;
            }
            i4++;
            c = (char) (c2 + 1);
        }
        this.i = this.e;
        this.j = ((int) this.h) + (2 * this.c);
        this.k = ((int) this.i) + (2 * this.d);
        char c3 = ' ';
        while (true) {
            char c4 = c3;
            if (c4 <= '~') {
                c(c4);
                c3 = (char) (c4 + 1);
            } else {
                a();
                return true;
            }
        }
    }

    public void a(float f, float f2, float f3, float f4, float[] fArr) {
        a(f, f2, f3, f4);
        this.b.a(fArr);
    }

    public static void c() {
        int iGlGetError;
        if (w && (iGlGetError = GLES20.glGetError()) != 0) {
            Log.b("GLTEXT", "GL error: " + iGlGetError, new Throwable());
        }
    }

    void a(float f, float f2, float f3, float f4) {
        GLES20.glUseProgram(this.x.b());
        GLES20.glUniform4fv(this.y, 1, new float[]{f, f2, f3, f4}, 0);
        GLES20.glActiveTexture(33984);
        GLES20.glUniform1i(this.z, 0);
        c();
    }

    public void d() {
        this.b.a();
    }

    public void a(String str, float f, float f2, float f3, float f4, float f5, float f6) {
        float f7 = this.k * this.o;
        float f8 = this.j * this.n;
        int length = str.length();
        float f9 = (f8 / 2.0f) - (this.c * this.n);
        float f10 = ((f7 / 2.0f) - (this.d * this.o)) - (this.g * this.o);
        if (this.q) {
            f9 = (int) f9;
            f10 = (int) f10;
        }
        float f11 = f + f9;
        float f12 = f2 + f10;
        boolean z = false;
        if (f3 == 0.0f && f6 == 0.0f && f4 == 0.0f && f5 == 0.0f) {
            z = true;
        } else {
            float[] fArr = new float[16];
            Matrix.setIdentityM(fArr, 0);
            Matrix.translateM(fArr, 0, f11, f12, f3);
            if (f6 != 0.0f || f4 != 0.0f || f5 != 0.0f) {
                Matrix.rotateM(fArr, 0, f6, 0.0f, 0.0f, 1.0f);
                Matrix.rotateM(fArr, 0, f4, 1.0f, 0.0f, 0.0f);
                Matrix.rotateM(fArr, 0, f5, 0.0f, 1.0f, 0.0f);
            }
        }
        float f13 = 0.0f;
        for (int i = 0; i < length; i++) {
            char cCharAt = str.charAt(i);
            int i2 = cCharAt - ' ';
            if (i2 < 0 || i2 >= 96) {
            }
            float f14 = f13;
            float f15 = 0.0f;
            if (z) {
                f14 += f11;
                f15 = 0.0f + f12;
            }
            c cVarA = a(cCharAt);
            if (cVarA != null) {
                this.b.a(f14, f15, f8, f7, cVarA);
                float f16 = (cVarA.c + this.p) * this.n;
                if (this.q) {
                    f16 = (int) (f16 + 0.95f);
                }
                f13 += f16;
            }
        }
    }

    public void a(String str, float f, float f2, float f3, float f4) {
        a(str, f, f2, f3, 0.0f, 0.0f, f4);
    }

    public void a(String str, float f, float f2, float f3) {
        a(str, f, f2, 0.0f, f3);
    }

    public void a(String str, float f, float f2) {
        a(str, f, f2, 0.0f, 0.0f);
    }

    public void a(float f) {
        this.o = f;
        this.n = f;
    }

    public float a(String str) {
        float f = 0.0f;
        int length = str.length();
        for (int i = 0; i < length; i++) {
            c cVarB = b(str.charAt(i));
            if (cVarB != null) {
                f += cVarB.c * this.n;
            }
        }
        return f + (length > 1 ? (length - 1) * this.p * this.n : 0.0f);
    }

    public static void b(String str) {
        Log.b("GLTEXT", "debug:" + str);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/a/c.java
================================================================================

package com.corrodinggames.rts.gameFramework.b.a;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/a/c.class */
public class c {

    /* renamed from: a, reason: collision with root package name */
    public char f421a;
    public int b;
    public float c;
    public float d;
    public float e;
    public float f;
    public float g;
}


================================================================================
// FILE_PATH: ./gameFramework/b/a/d.java
================================================================================

package com.corrodinggames.rts.gameFramework.b.a;

import android.opengl.GLES20;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/a/d.class */
public class d {

    /* renamed from: a, reason: collision with root package name */
    b f422a;
    g b;
    float[] c;
    int e;
    private float[] h;
    private int i;
    int g;
    int d = 0;
    int f = 0;

    public d(int i, com.corrodinggames.rts.gameFramework.b.a.a.b bVar, b bVar2) {
        this.f422a = bVar2;
        this.c = new float[i * 4 * 5];
        this.b = new g(i * 4, i * 6);
        this.e = i;
        short[] sArr = new short[i * 6];
        int length = sArr.length;
        short s = 0;
        int i2 = 0;
        while (i2 < length) {
            sArr[i2 + 0] = (short) (s + 0);
            sArr[i2 + 1] = (short) (s + 1);
            sArr[i2 + 2] = (short) (s + 2);
            sArr[i2 + 3] = (short) (s + 2);
            sArr[i2 + 4] = (short) (s + 3);
            sArr[i2 + 5] = (short) (s + 0);
            i2 += 6;
            s = (short) (s + 4);
        }
        this.b.a(sArr, 0, length);
        this.i = GLES20.glGetUniformLocation(bVar.b(), "u_MVPMatrix");
    }

    public void a(float[] fArr) {
        this.f = 0;
        this.d = 0;
        this.h = fArr;
        this.g = -1;
    }

    void a(c cVar) {
        int i = cVar.b;
        if (this.g == i) {
            return;
        }
        a();
        GLES20.glBindTexture(3553, ((e) this.f422a.s.get(i)).f423a);
        this.g = i;
    }

    public void a() {
        if (this.f > 0) {
            GLES20.glUniformMatrix4fv(this.i, 1, false, this.h, 0);
            this.b.a(this.c, 0, this.d);
            this.b.a();
            this.b.a(4, 0, this.f * 6);
            this.b.b();
            this.f = 0;
            this.d = 0;
        }
    }

    public void a(float f, float f2, float f3, float f4, c cVar) {
        if (this.f == this.e) {
            a();
        }
        a(cVar);
        float f5 = f3 / 2.0f;
        float f6 = f4 / 2.0f;
        float f7 = f - f5;
        float f8 = f2 - f6;
        float f9 = f + f5;
        float f10 = f2 + f6;
        float[] fArr = this.c;
        int i = this.d;
        this.d = i + 1;
        fArr[i] = f7;
        float[] fArr2 = this.c;
        int i2 = this.d;
        this.d = i2 + 1;
        fArr2[i2] = f8;
        float[] fArr3 = this.c;
        int i3 = this.d;
        this.d = i3 + 1;
        fArr3[i3] = cVar.d;
        float[] fArr4 = this.c;
        int i4 = this.d;
        this.d = i4 + 1;
        fArr4[i4] = cVar.g;
        float[] fArr5 = this.c;
        int i5 = this.d;
        this.d = i5 + 1;
        fArr5[i5] = f9;
        float[] fArr6 = this.c;
        int i6 = this.d;
        this.d = i6 + 1;
        fArr6[i6] = f8;
        float[] fArr7 = this.c;
        int i7 = this.d;
        this.d = i7 + 1;
        fArr7[i7] = cVar.f;
        float[] fArr8 = this.c;
        int i8 = this.d;
        this.d = i8 + 1;
        fArr8[i8] = cVar.g;
        float[] fArr9 = this.c;
        int i9 = this.d;
        this.d = i9 + 1;
        fArr9[i9] = f9;
        float[] fArr10 = this.c;
        int i10 = this.d;
        this.d = i10 + 1;
        fArr10[i10] = f10;
        float[] fArr11 = this.c;
        int i11 = this.d;
        this.d = i11 + 1;
        fArr11[i11] = cVar.f;
        float[] fArr12 = this.c;
        int i12 = this.d;
        this.d = i12 + 1;
        fArr12[i12] = cVar.e;
        float[] fArr13 = this.c;
        int i13 = this.d;
        this.d = i13 + 1;
        fArr13[i13] = f7;
        float[] fArr14 = this.c;
        int i14 = this.d;
        this.d = i14 + 1;
        fArr14[i14] = f10;
        float[] fArr15 = this.c;
        int i15 = this.d;
        this.d = i15 + 1;
        fArr15[i15] = cVar.d;
        float[] fArr16 = this.c;
        int i16 = this.d;
        this.d = i16 + 1;
        fArr16[i16] = cVar.e;
        this.f++;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/a/e.java
================================================================================

package com.corrodinggames.rts.gameFramework.b.a;

import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Paint;
import android.opengl.GLES20;
import android.opengl.GLUtils;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/a/e.class */
public class e {

    /* renamed from: a, reason: collision with root package name */
    int f423a;
    int b;
    Canvas c;
    public Bitmap d;
    int e;
    int f;
    int g = 0;
    int h = 0;
    int i = 0;
    int j;
    int k;
    int l;
    int m;
    int n;

    public boolean a() {
        return this.g < this.e * this.f;
    }

    public e(int i, int i2, int i3, int i4, int i5, int i6) {
        this.l = i2;
        this.b = i;
        this.e = i / i3;
        this.f = i / i4;
        this.j = i3;
        this.k = i4;
        this.m = i5;
        this.n = i6;
    }

    public void b() {
        this.d = Bitmap.a(this.b, this.b, Bitmap.Config.ALPHA_8);
        this.c = new Canvas();
        this.c.a(this.d);
        this.d.a(0);
    }

    public void c() {
        if (this.d == null) {
            return;
        }
        if (this.f423a == 0) {
            int[] iArr = new int[1];
            GLES20.glGenTextures(1, iArr, 0);
            this.f423a = iArr[0];
            if (this.f423a == 0) {
                b.b("Failed to gen texture page");
                return;
            }
        }
        GLES20.glBindTexture(3553, this.f423a);
        GLES20.glTexParameteri(3553, 10241, 9729);
        GLES20.glTexParameteri(3553, 10240, 9729);
        GLES20.glTexParameterf(3553, 10242, 33071.0f);
        GLES20.glTexParameterf(3553, 10243, 33071.0f);
        GLUtils.texImage2D(3553, 0, this.d, 0);
    }

    public c a(char c, Paint paint) {
        if (this.c == null) {
            b();
        }
        int i = this.g / this.e;
        int i2 = (this.g % this.e) * this.j;
        int i3 = i * this.k;
        float fCeil = (float) Math.ceil(Math.abs(paint.n().c));
        float[] fArr = new float[2];
        char[] cArr = {c, 0};
        paint.a(cArr, 0, 1, fArr);
        float f = (int) fArr[0];
        if (f > this.j) {
            b.b("Warning chr is larger then cellWidth: " + c);
        }
        this.c.a(cArr, 0, 1, i2 + this.m, (int) (((i3 + this.k) - fCeil) - this.n), paint);
        c cVar = new c();
        cVar.f421a = c;
        cVar.b = this.l;
        a(cVar, i2, i3, this.j, this.k);
        cVar.c = f;
        this.g++;
        return cVar;
    }

    private void a(c cVar, float f, float f2, float f3, float f4) {
        cVar.d = f / this.b;
        cVar.e = f2 / this.b;
        cVar.f = cVar.d + (f3 / this.b);
        cVar.g = cVar.e + (f4 / this.b);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/a/f.java
================================================================================

package com.corrodinggames.rts.gameFramework.b.a;

import android.opengl.GLES20;
import android.util.Log;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/a/f.class */
public class f {
    public static int a(int i, int i2, a[] aVarArr) {
        int iGlCreateProgram = GLES20.glCreateProgram();
        if (iGlCreateProgram != 0) {
            GLES20.glAttachShader(iGlCreateProgram, i);
            GLES20.glAttachShader(iGlCreateProgram, i2);
            for (a aVar : aVarArr) {
                GLES20.glBindAttribLocation(iGlCreateProgram, aVar.a(), aVar.b());
            }
            GLES20.glLinkProgram(iGlCreateProgram);
            int[] iArr = new int[1];
            GLES20.glGetProgramiv(iGlCreateProgram, 35714, iArr, 0);
            if (iArr[0] == 0) {
                Log.a("Utilities", GLES20.glGetProgramInfoLog(iGlCreateProgram));
                GLES20.glDeleteProgram(iGlCreateProgram);
                iGlCreateProgram = 0;
            }
        }
        if (iGlCreateProgram == 0) {
            throw new RuntimeException("Error creating program.");
        }
        return iGlCreateProgram;
    }

    public static int a(int i, String str) {
        int iGlCreateShader = GLES20.glCreateShader(i);
        if (iGlCreateShader != 0) {
            GLES20.glShaderSource(iGlCreateShader, str);
            GLES20.glCompileShader(iGlCreateShader);
            int[] iArr = new int[1];
            GLES20.glGetShaderiv(iGlCreateShader, 35713, iArr, 0);
            if (iArr[0] == 0) {
                Log.a("Utilities", "Shader fail info: " + GLES20.glGetShaderInfoLog(iGlCreateShader));
                GLES20.glDeleteShader(iGlCreateShader);
                iGlCreateShader = 0;
            }
        }
        if (iGlCreateShader == 0) {
            throw new RuntimeException("Error creating shader " + i);
        }
        return iGlCreateShader;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/a/g.java
================================================================================

package com.corrodinggames.rts.gameFramework.b.a;

import android.opengl.GLES20;
import java.nio.Buffer;
import java.nio.ByteBuffer;
import java.nio.ByteOrder;
import java.nio.IntBuffer;
import java.nio.ShortBuffer;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/a/g.class */
public class g {

    /* renamed from: a, reason: collision with root package name */
    public final int f424a = 2;
    public final int b = this.f424a + 2;
    public final int c = this.b * 4;
    public final IntBuffer d;
    public final ShortBuffer e;
    public int f;
    public int g;
    final int[] h;
    private int i;
    private int j;

    public g(int i, int i2) {
        ByteBuffer byteBufferAllocateDirect = ByteBuffer.allocateDirect(i * this.c);
        byteBufferAllocateDirect.order(ByteOrder.nativeOrder());
        this.d = byteBufferAllocateDirect.asIntBuffer();
        if (i2 > 0) {
            ByteBuffer byteBufferAllocateDirect2 = ByteBuffer.allocateDirect(i2 * 2);
            byteBufferAllocateDirect2.order(ByteOrder.nativeOrder());
            this.e = byteBufferAllocateDirect2.asShortBuffer();
        } else {
            this.e = null;
        }
        this.f = 0;
        this.g = 0;
        this.h = new int[(i * this.c) / 4];
        this.i = a.A_TexCoordinate.a();
        this.j = a.A_Position.a();
    }

    public void a(float[] fArr, int i, int i2) {
        this.d.clear();
        int i3 = i + i2;
        int i4 = i;
        int i5 = 0;
        while (i4 < i3) {
            this.h[i5] = Float.floatToRawIntBits(fArr[i4]);
            i4++;
            i5++;
        }
        this.d.put(this.h, 0, i2);
        this.d.flip();
        this.f = i2 / this.b;
    }

    public void a(short[] sArr, int i, int i2) {
        this.e.clear();
        this.e.put(sArr, i, i2);
        this.e.flip();
        this.g = i2;
    }

    public void a() {
        this.d.position(0);
        GLES20.glVertexAttribPointer(this.j, this.f424a, 5126, false, this.c, (Buffer) this.d);
        GLES20.glEnableVertexAttribArray(this.j);
        this.d.position(this.f424a);
        GLES20.glVertexAttribPointer(this.i, 2, 5126, false, this.c, (Buffer) this.d);
        GLES20.glEnableVertexAttribArray(this.i);
    }

    public void a(int i, int i2, int i3) {
        if (this.e != null) {
            this.e.position(i2);
            GLES20.glDrawElements(i, i3, 5123, this.e);
        } else {
            GLES20.glDrawArrays(i, i2, i3);
        }
    }

    public void b() {
        GLES20.glDisableVertexAttribArray(this.i);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/a/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.b.a;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/a/a.class */
public enum a {
    A_Position(1, "a_Position"),
    A_TexCoordinate(2, "a_TexCoordinate");

    private int c;
    private String d;

    a(int i, String str) {
        this.c = i;
        this.d = str;
    }

    public int a() {
        return this.c;
    }

    public String b() {
        return this.d;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/a/a/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.b.a.a;

import com.corrodinggames.rts.gameFramework.b.a.f;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/a/a/b.class */
public abstract class b {

    /* renamed from: a, reason: collision with root package name */
    private int f419a;
    private int b;
    private int c;
    private boolean d = false;

    public void a() {
        a(null, null, null);
    }

    public void a(String str, String str2, com.corrodinggames.rts.gameFramework.b.a.a[] aVarArr) {
        this.b = f.a(35633, str);
        this.c = f.a(35632, str2);
        this.f419a = f.a(this.b, this.c, aVarArr);
        this.d = true;
    }

    public int b() {
        return this.f419a;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/b/a/a/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.b.a.a;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/b/a/a/a.class */
public class a extends b {

    /* renamed from: a, reason: collision with root package name */
    private static final com.corrodinggames.rts.gameFramework.b.a.a[] f418a = {com.corrodinggames.rts.gameFramework.b.a.a.A_Position, com.corrodinggames.rts.gameFramework.b.a.a.A_TexCoordinate};

    @Override // com.corrodinggames.rts.gameFramework.b.a.a.b
    public void a() {
        super.a("uniform mat4 u_MVPMatrix;      \nattribute vec4 a_Position;     \nattribute vec2 a_TexCoordinate;\nvarying   vec2 v_TexCoordinate;\nvoid main()                    \n{                              \n   v_TexCoordinate = a_TexCoordinate; \n   gl_Position = u_MVPMatrix   \n               * a_Position;   \n}                              \n", "uniform sampler2D u_Texture;       \nprecision mediump float;       \nuniform lowp vec4 u_Color;          \nvarying vec2 v_TexCoordinate;  \nvoid main()                    \n{                              \n   gl_FragColor = texture2D(u_Texture, v_TexCoordinate).w * u_Color;\n}                             \n", f418a);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

import java.util.ConcurrentModificationException;
import java.util.Iterator;
import java.util.NoSuchElementException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/b.class */
class b implements Iterator {
    private int b;
    private int c;
    private int d;

    /* renamed from: a, reason: collision with root package name */
    final /* synthetic */ a f604a;

    private b(a aVar) {
        this.f604a = aVar;
        this.b = this.f604a.b;
        this.c = -1;
        this.d = this.f604a.modCount;
    }

    @Override // java.util.Iterator
    public boolean hasNext() {
        return this.b != 0;
    }

    @Override // java.util.Iterator
    /* renamed from: a, reason: merged with bridge method [inline-methods] */
    public n next() {
        a aVar = this.f604a;
        int i = this.b;
        if (aVar.modCount != this.d) {
            throw new ConcurrentModificationException();
        }
        if (i == 0) {
            throw new NoSuchElementException();
        }
        this.b = i - 1;
        n[] nVarArr = aVar.c;
        int i2 = aVar.b - i;
        this.c = i2;
        return nVarArr[i2];
    }

    @Override // java.util.Iterator
    public void remove() {
        n[] nVarArr = this.f604a.c;
        int i = this.c;
        if (this.f604a.modCount != this.d) {
            throw new ConcurrentModificationException();
        }
        if (i < 0) {
            throw new IllegalStateException();
        }
        System.arraycopy(nVarArr, i + 1, nVarArr, i, this.b);
        a aVar = this.f604a;
        int i2 = aVar.b - 1;
        aVar.b = i2;
        nVarArr[i2] = null;
        this.c = -1;
        this.d = a.d(this.f604a);
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k/n.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/n.class */
public final class n implements Comparable {

    /* renamed from: a, reason: collision with root package name */
    public short f614a;
    public short b;
    public int c;

    public final void a(short s, short s2) {
        this.f614a = s;
        this.b = s2;
    }

    public final void a(int i, int i2, int i3) {
        int i4 = i2 - this.f614a;
        int i5 = i3 - this.b;
        int i6 = i4 > 0 ? i4 : -i4;
        int i7 = i5 > 0 ? i5 : -i5;
        this.c = i + ((i6 + i7) * 11) + (com.corrodinggames.rts.gameFramework.f.c(i6, i7) * (-7));
    }

    @Override // java.lang.Comparable
    /* renamed from: a, reason: merged with bridge method [inline-methods] */
    public final int compareTo(n nVar) {
        if (this.c == nVar.c) {
            if (this.f614a - nVar.f614a != 0) {
                return this.f614a - nVar.f614a;
            }
            return this.b - nVar.b;
        }
        return this.c - nVar.c;
    }

    public String toString() {
        return "PathOpenListNode [x=" + ((int) this.f614a) + ", y=" + ((int) this.b) + ", score=" + this.c + "]";
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k/o.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

import android.graphics.Paint;
import android.os.Debug;
import android.util.Log;
import com.corrodinggames.rts.game.units.ao;
import java.util.Iterator;
import java.util.LinkedList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/o.class */
public final class o implements Runnable {
    private final l C;
    public byte[] b;
    public byte[] c;
    public byte[] d;
    public short[] e;
    public byte[] f;
    private k D;
    int g;
    int h;
    int[][] l;
    byte[][] m;
    i n;
    static LinkedList t = new LinkedList();
    static int u;
    int v;
    Thread w;
    long y;
    long z;

    /* renamed from: a, reason: collision with root package name */
    boolean f615a = true;
    int i = 5;
    int j = 0;
    int k = 0;
    final m o = new m();
    final m p = new m();
    final p q = new p();
    final p r = new p();
    volatile boolean s = true;
    Object x = new Object();
    Object A = new Object();
    Paint B = new Paint();

    public void a(k kVar) {
        if (!this.s) {
            throw new RuntimeException("setupNewPath: last path not yet finished");
        }
        this.s = false;
        a(kVar.o, kVar);
        kVar.v = true;
        this.D = kVar;
    }

    public void a() {
        if (this.w == null) {
            throw new RuntimeException("thread==null");
        }
        synchronized (this.x) {
            this.x.notifyAll();
        }
    }

    @Override // java.lang.Runnable
    public void run() {
        com.corrodinggames.rts.gameFramework.l.aq();
        while (this.f615a) {
            synchronized (this.x) {
                if (this.D == null) {
                    try {
                        this.x.wait();
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }
                }
            }
            if (this.D != null) {
                b();
            }
        }
    }

    static {
        t.add(new p((short) -9, (short) -9));
        t.add(new p((short) -9, (short) -9));
        t.add(new p((short) -9, (short) -9));
        u = 0;
    }

    public void b() {
        LinkedList linkedListE;
        if (this.D instanceof f) {
            f();
            linkedListE = t;
        } else {
            linkedListE = e();
        }
        synchronized (this.C.G) {
            this.D.f();
            this.b = null;
            this.c = null;
            this.d = null;
            this.e = null;
            this.f = null;
            this.D.a(linkedListE);
            this.D = null;
            this.s = true;
            this.C.G.notifyAll();
        }
    }

    o(l lVar) {
        this.C = lVar;
        int i = u;
        u = i + 1;
        this.v = i;
    }

    public synchronized void c() {
        if (this.w != null) {
            throw new RuntimeException("thread!=null");
        }
        this.w = new Thread(this);
        this.w.setName("PathSolver-" + this.v);
        this.w.setPriority(10);
        this.w.setDaemon(true);
        this.w.start();
    }

    public void a(com.corrodinggames.rts.game.b.b bVar) {
        this.g = bVar.u.n;
        this.h = bVar.u.o;
        this.l = new int[2][this.g * this.h];
        this.m = new byte[2][this.g * this.h];
        d();
    }

    public void d() {
        int i = (this.g * this.h * 42) + 1;
        this.i += i;
        if (this.i > Integer.MAX_VALUE - i || this.i < 0 || 0 != 0) {
            this.i = 5;
            for (int i2 = 0; i2 < 2; i2++) {
                for (int i3 = 0; i3 < this.g; i3++) {
                    for (int i4 = 0; i4 < this.h; i4++) {
                        this.l[i2][(i3 * this.h) + i4] = -1;
                    }
                }
            }
        }
    }

    public final int a(int i, int i2) {
        if (this.b[(i * this.h) + i2] == -1 || this.c[(i * this.h) + i2] == -1 || this.d[(i * this.h) + i2] == -1) {
            return -1;
        }
        return this.b[(i * this.h) + i2] + this.c[(i * this.h) + i2] + (this.d[(i * this.h) + i2] * 10);
    }

    public void a(ao aoVar, k kVar) {
        if (aoVar == null) {
            throw new RuntimeException("MovementType is null");
        }
        i iVarA = this.C.a(aoVar);
        if (iVarA == null) {
            throw new RuntimeException("Could not get costs for:" + aoVar.toString());
        }
        this.n = iVarA;
        this.b = kVar.y;
        this.c = kVar.z;
        this.d = kVar.A;
        this.e = kVar.B;
        this.f = kVar.C;
        if (this.b == null) {
            throw new RuntimeException("linkToPath failed mapCosts_mapCosts is null");
        }
        if (this.c == null) {
            throw new RuntimeException("linkToPath failed mapCosts_buildingCosts is null");
        }
        if (this.d == null) {
            throw new RuntimeException("linkToPath failed mapCosts_objectCosts is null");
        }
    }

    public void a(ao aoVar, short s, short s2, Float f) {
        if (l.f612a) {
            Log.d("RustedWarfare", "path start is:" + ((int) s) + "," + ((int) s2));
        }
        p pVar = new p(s, s2);
        pVar.a(this, (byte) 0, this.i);
        if (f == null) {
            pVar.a(this, (byte) 0, (byte) 0);
            pVar.b(this, (byte) 0, true);
        } else {
            pVar.a(this, (byte) 0, f.floatValue());
            pVar.b(this, (byte) 0, true);
        }
        pVar.a(this, (byte) 0, false);
    }

    public void a(short s, short s2, short s3) {
        if (l.f612a) {
            Log.d("RustedWarfare", "path end is:" + ((int) s) + "," + ((int) s2) + " size:" + ((int) s3));
        }
        p pVar = new p(s, s2);
        pVar.a(this, (byte) 1, (byte) 0);
        pVar.b(this, (byte) 1, true);
        pVar.a(this, (byte) 1, this.i);
        pVar.a(this, (byte) 1, false);
    }

    static int b(int i, int i2) {
        if (i == i2) {
            return 0;
        }
        int i3 = i - i2;
        if (i3 < 0) {
            i3 = -i3;
        }
        if (i3 > 4) {
            i3 = 8 - i3;
        }
        if (i3 == 1) {
            return 4;
        }
        return i3 == 2 ? 21 : 25;
    }

    static int c(int i, int i2) {
        if (i == i2) {
            return 0;
        }
        int iAbs = Math.abs(i - i2);
        if (iAbs > 4) {
            iAbs = 8 - iAbs;
        }
        if (iAbs == 1) {
            return 4;
        }
        if (iAbs == 2) {
            return 21;
        }
        if (iAbs == 3) {
            return 4;
        }
        return (iAbs == 4 || iAbs == 5) ? 0 : 25;
    }

    public LinkedList e() {
        byte b;
        m mVar;
        p pVarA;
        boolean zB;
        byte b2;
        byte b3;
        int iA;
        int iB;
        if (l.l && !com.corrodinggames.rts.gameFramework.l.B().bH) {
            Debug.startMethodTracing("pathTrace", 110000000);
        }
        k kVar = this.D;
        int i = kVar.p ? 7 : 1;
        int i2 = kVar.q;
        if (l.f612a) {
            Log.d("RustedWarfare", "starting path for:" + this.n.f610a.toString());
        }
        p pVar = this.r;
        p pVar2 = this.q;
        int i3 = this.h;
        int i4 = this.g;
        this.y = com.corrodinggames.rts.gameFramework.l.V();
        short s = kVar.h;
        short s2 = kVar.i;
        boolean z = kVar.k;
        d();
        a(kVar.o, kVar.h, kVar.i, kVar.j);
        short s3 = kVar.l;
        short s4 = kVar.m;
        short s5 = kVar.n;
        LinkedList linkedList = new LinkedList();
        if (s == s3 && s2 == s4) {
            if (l.f612a) {
                Log.d("RustedWarfare", "no point pathing when start=end");
            }
            linkedList.clear();
            linkedList.add(new p(s3, s4));
            return linkedList;
        }
        if (this.n.f610a.equals(ao.NONE)) {
            if (l.f612a) {
                Log.d("RustedWarfare", "no point pathing for none");
            }
            linkedList.clear();
            return linkedList;
        }
        int i5 = 0;
        short s6 = s3;
        short s7 = s4;
        short s8 = s5;
        if (this.e != null) {
            short[] sArr = this.e;
            short s9 = sArr[(s * i3) + s2];
            boolean z2 = true;
            if (s9 == -1) {
                z2 = false;
            } else {
                int i6 = s3 - s5;
                while (true) {
                    short s10 = (short) i6;
                    if (s10 > s3 + s5) {
                        break;
                    }
                    int i7 = s4 - s5;
                    while (true) {
                        short s11 = (short) i7;
                        if (s11 <= s4 + s5) {
                            if (s10 >= 0 && s10 < i4 && s11 >= 0 && s11 < i3 && s9 == sArr[(s10 * i3) + s11]) {
                                z2 = false;
                            }
                            i7 = s11 + 1;
                        }
                    }
                    i6 = s10 + 1;
                }
            }
            if (z2) {
                if (l.f612a) {
                    Log.d("RustedWarfare", "end is blocked on isolated groups");
                }
                short s12 = s6;
                short s13 = s7;
                float f = -1.0f;
                int i8 = s3 - 25;
                while (true) {
                    short s14 = (short) i8;
                    if (s14 > s3 + 25) {
                        break;
                    }
                    int i9 = s4 - 25;
                    while (true) {
                        short s15 = (short) i9;
                        if (s15 <= s4 + 25) {
                            if (s14 >= 0 && s14 < i4 && s15 >= 0 && s15 < i3 && (s9 == sArr[(s14 * i3) + s15] || sArr[(s14 * i3) + s15] == 0)) {
                                float fA = com.corrodinggames.rts.gameFramework.f.a(s14, s15, s3, s4);
                                if (f == -1.0f || fA < f) {
                                    f = fA;
                                    s12 = s14;
                                    s13 = s15;
                                    s8 = 0;
                                }
                            }
                            i9 = s15 + 1;
                        }
                    }
                    i8 = s14 + 1;
                }
                if (f == -1.0f) {
                    short s16 = 0;
                    while (true) {
                        short s17 = s16;
                        if (s17 >= i4) {
                            break;
                        }
                        short s18 = 0;
                        while (true) {
                            short s19 = s18;
                            if (s19 < i3) {
                                if (s9 == sArr[(s17 * i3) + s19] || sArr[(s17 * i3) + s19] == 0) {
                                    float fA2 = com.corrodinggames.rts.gameFramework.f.a(s17, s19, s3, s4);
                                    if (f == -1.0f || fA2 < f) {
                                        f = fA2;
                                        s12 = s17;
                                        s13 = s19;
                                        s8 = 0;
                                    }
                                }
                                s18 = (short) (s19 + 1);
                            }
                        }
                        s16 = (short) (s17 + 1);
                    }
                }
                s6 = s12;
                s7 = s13;
                if (l.f612a) {
                    Log.d("RustedWarfare", "fakeNode search was:" + (System.currentTimeMillis() - this.y));
                }
            }
        }
        boolean z3 = true;
        int i10 = s6 - s8;
        loop6: while (true) {
            short s20 = (short) i10;
            if (s20 > s6 + s8) {
                break;
            }
            int i11 = s7 - s8;
            while (true) {
                short s21 = (short) i11;
                if (s21 <= s7 + s8) {
                    if (s20 < 0 || s20 >= i4 || s21 < 0 || s21 >= i3 || a(s20, s21) == -1) {
                        i11 = s21 + 1;
                    } else {
                        z3 = false;
                        break loop6;
                    }
                }
            }
            i10 = s20 + 1;
        }
        if (z3) {
            short s22 = s6;
            short s23 = s7;
            float f2 = -1.0f;
            if (l.f612a) {
                Log.d("RustedWarfare", "end is blocked on non isolated groups");
            }
            int i12 = s6 - 9;
            while (true) {
                short s24 = (short) i12;
                if (s24 > s6 + 9) {
                    break;
                }
                int i13 = s7 - 9;
                while (true) {
                    short s25 = (short) i13;
                    if (s25 <= s7 + 9) {
                        if (s24 >= 0 && s24 < i4 && s25 >= 0 && s25 < i3 && a(s24, s25) != -1) {
                            float fA3 = com.corrodinggames.rts.gameFramework.f.a(s24, s25, s6, s7);
                            if (f2 == -1.0f || fA3 < f2) {
                                f2 = fA3;
                                s22 = s24;
                                s23 = s25;
                                s8 = 0;
                            }
                        }
                        i13 = s25 + 1;
                    }
                }
                i12 = s24 + 1;
            }
            if (f2 == -1.0f) {
                short s26 = 0;
                while (true) {
                    short s27 = s26;
                    if (s27 >= i4) {
                        break;
                    }
                    short s28 = 0;
                    while (true) {
                        short s29 = s28;
                        if (s29 < i3) {
                            if (a(s27, s29) != -1) {
                                float fA4 = com.corrodinggames.rts.gameFramework.f.a(s27, s29, s6, s7);
                                if (f2 == -1.0f || fA4 < f2) {
                                    f2 = fA4;
                                    s22 = s27;
                                    s23 = s29;
                                    s8 = 0;
                                }
                            }
                            s28 = (short) (s29 + 1);
                        }
                    }
                    s26 = (short) (s27 + 1);
                }
            }
            s6 = s22;
            s7 = s23;
            if (l.f612a) {
                Log.d("RustedWarfare", "fakeNode search was:" + (System.currentTimeMillis() - this.y));
            }
        }
        if (l.f612a && (s6 != s3 || s7 != s4)) {
            Log.d("RustedWarfare", "Moved end to fakeEndX:" + ((int) s6) + " fakeEndY:" + ((int) s7));
        }
        this.o.a(s6, s7);
        this.o.a(0, s, s2);
        this.p.a(s, s2);
        a(s6, s7, s8);
        this.p.a(0, s6, s7);
        boolean z4 = false;
        boolean z5 = false;
        short s30 = -1;
        short s31 = -1;
        short s32 = -1;
        short s33 = -1;
        int i14 = 400;
        int i15 = 0;
        while (true) {
            if (0 != 0) {
                break;
            }
            i15++;
            if (kVar.w) {
                linkedList.clear();
                return linkedList;
            }
            i5++;
            if (i14 > 0) {
                i14--;
            } else {
                z5 = !z5;
            }
            b = 0;
            if (z5) {
                b = 1;
            }
            if (!z5) {
                mVar = this.o;
            } else {
                mVar = this.p;
            }
            n nVarC = mVar.c();
            if (nVarC == null) {
                if (!z5) {
                    if (l.f612a) {
                        Log.d("RustedWarfare", "listNode==null for normal side ending path");
                    }
                }
            } else {
                pVarA = pVar2.a(nVarC);
                int iA2 = pVarA.a(this, b);
                byte bC = pVarA.c(this, b);
                boolean zD = pVarA.d(this, b);
                boolean z6 = false;
                if (!z5) {
                    if (pVarA.f616a == s6 && pVarA.b == s7) {
                        if (l.f612a) {
                            Log.d("RustedWarfare", "Over goal: fakeEnd");
                        }
                        z6 = true;
                    }
                    if (com.corrodinggames.rts.gameFramework.f.d(pVarA.f616a - s3) <= s5 && com.corrodinggames.rts.gameFramework.f.d(pVarA.b - s4) <= s5) {
                        if (l.f612a) {
                            Log.d("RustedWarfare", "Over goal: real end");
                        }
                        z6 = true;
                    }
                }
                zB = pVarA.b(this, (byte) (1 - b));
                if (zB || z6) {
                    break;
                }
                pVarA.a(this, b, true);
                if (zD) {
                    b2 = 0;
                    b3 = 7;
                } else {
                    byte b4 = 2;
                    if (this.f != null && this.f[(pVarA.f616a * i3) + pVarA.b] > 1) {
                        b4 = 1;
                    }
                    b2 = (byte) (bC - b4);
                    b3 = (byte) (bC + b4);
                }
                byte b5 = b2;
                while (true) {
                    byte b6 = b5;
                    if (b6 <= b3) {
                        pVar.a(pVarA);
                        byte b7 = b6;
                        if (b7 > 7) {
                            b7 = (byte) (b7 - 8);
                        }
                        if (b7 < 0) {
                            b7 = (byte) (b7 + 8);
                        }
                        if (b7 == 0) {
                            pVar.f616a = (short) (pVar.f616a + 1);
                        }
                        if (b7 == 1) {
                            pVar.f616a = (short) (pVar.f616a + 1);
                            pVar.b = (short) (pVar.b + 1);
                        }
                        if (b7 == 2) {
                            pVar.b = (short) (pVar.b + 1);
                        }
                        if (b7 == 3) {
                            pVar.b = (short) (pVar.b + 1);
                            pVar.f616a = (short) (pVar.f616a - 1);
                        }
                        if (b7 == 4) {
                            pVar.f616a = (short) (pVar.f616a - 1);
                        }
                        if (b7 == 5) {
                            pVar.f616a = (short) (pVar.f616a - 1);
                            pVar.b = (short) (pVar.b - 1);
                        }
                        if (b7 == 6) {
                            pVar.b = (short) (pVar.b - 1);
                        }
                        if (b7 == 7) {
                            pVar.b = (short) (pVar.b - 1);
                            pVar.f616a = (short) (pVar.f616a + 1);
                        }
                        if (pVar.f616a >= 0 && pVar.f616a < i4 && pVar.b >= 0 && pVar.b < i3 && (iA = pVar.a(this)) != -1) {
                            int iA3 = pVar.a(this, b);
                            if (!pVar.b(this, b)) {
                                if (pVar.f616a != pVarA.f616a && pVar.b != pVarA.b) {
                                    if (a(pVar.f616a, pVarA.b) != -1 && a(pVarA.f616a, pVar.b) != -1) {
                                        iB = iA2 + 14 + iA + 1;
                                    }
                                } else {
                                    iB = iA2 + 10 + iA + 1;
                                }
                                if (bC != b7) {
                                    if (!zD) {
                                        iB += b(bC, b7);
                                    } else if (!z5) {
                                        if (z) {
                                            iB += c(bC, b7);
                                        } else {
                                            iB += b(bC, b7);
                                        }
                                    }
                                }
                                if (this.f != null) {
                                    iB += (4 - this.f[(pVar.f616a * i3) + pVar.b]) * i;
                                }
                                if (i2 > 0 && this.f != null && this.f[(pVar.f616a * i3) + pVar.b] <= i2) {
                                    iB += 100;
                                }
                                if (iA3 < this.i || iB < iA3) {
                                    pVar.a(this, b, b7);
                                    pVar.a(this, b, false);
                                    pVar.a(this, b, iB);
                                    mVar.a(iB - this.i, pVar.f616a, pVar.b);
                                }
                            }
                        }
                        b5 = (byte) (b6 + 1);
                    }
                }
            }
        }
        pVar.a(pVarA);
        if (!zB) {
            if (l.f612a) {
                Log.d("RustedWarfare", "Not closedOnOtherSide");
            }
            s30 = pVar2.f616a;
            s31 = pVar2.b;
            z4 = true;
        } else {
            p pVarF = pVar.f(this, b);
            if (pVarF == null) {
                Log.d("RustedWarfare", "findPath: otherConnection==null");
                Log.d("RustedWarfare", "currentNode:" + ((int) pVar2.f616a) + "," + ((int) pVar2.b));
                Log.d("RustedWarfare", "currentNode cost normal:" + pVar2.a(this, (byte) 0));
                Log.d("RustedWarfare", "currentNode cost opposite:" + pVar2.a(this, (byte) 1));
                linkedList.clear();
                return linkedList;
            }
            if (!z5) {
                if (l.f612a) {
                    Log.d("RustedWarfare", "closing path runFromOppositeSide=false");
                }
                s32 = pVar2.f616a;
                s33 = pVar2.b;
                s30 = pVarF.f616a;
                s31 = pVarF.b;
            } else {
                if (l.f612a) {
                    Log.d("RustedWarfare", "closing path runFromOppositeSide=true");
                }
                s32 = pVarF.f616a;
                s33 = pVarF.b;
                s30 = pVar2.f616a;
                s31 = pVar2.b;
            }
            z4 = true;
        }
        if (l.f612a) {
            Log.d("RustedWarfare", "grid path finshed in :" + i15 + " ticks");
            Log.d("RustedWarfare", "grid path done in:" + (System.currentTimeMillis() - this.y));
        }
        System.currentTimeMillis();
        if (!z4) {
            if (l.f612a) {
                Log.d("RustedWarfare", "could not find end node");
            }
            long jCurrentTimeMillis = System.currentTimeMillis();
            float f3 = -1.0f;
            p pVar3 = new p();
            short s34 = 0;
            while (true) {
                short s35 = s34;
                if (s35 >= i4) {
                    break;
                }
                short s36 = 0;
                while (true) {
                    short s37 = s36;
                    if (s37 < i3) {
                        pVar3.a(s35, s37);
                        if (pVar3.e(this, (byte) 0)) {
                            float fA5 = com.corrodinggames.rts.gameFramework.f.a(s35, s37, s3, s4);
                            if (f3 == -1.0f || fA5 < f3) {
                                f3 = fA5;
                                s30 = s35;
                                s31 = s37;
                            }
                        }
                        s36 = (short) (s37 + 1);
                    }
                }
                s34 = (short) (s35 + 1);
            }
            if (l.f612a) {
                Log.d("RustedWarfare", "got closest node in:" + (System.currentTimeMillis() - jCurrentTimeMillis));
            }
        }
        linkedList.clear();
        if (s30 != -1 && s31 != -1) {
            linkedList.addAll(a(a((byte) 0, s30, s31)));
        }
        if (s32 != -1 && s33 != -1) {
            linkedList.addAll(a((byte) 1, s32, s33));
        }
        if (linkedList.size() > 1) {
            linkedList.remove(0);
        }
        this.z = com.corrodinggames.rts.gameFramework.l.V();
        if (l.f612a) {
            Log.d("RustedWarfare", "path(" + kVar.e + ") finished in:" + (this.z - this.y));
        }
        if (l.l && !com.corrodinggames.rts.gameFramework.l.B().bH) {
            Debug.stopMethodTracing();
            l.l = false;
        }
        return linkedList;
    }

    public LinkedList a(byte b, short s, short s2) {
        LinkedList linkedList = new LinkedList();
        p pVar = new p(s, s2);
        linkedList.add(pVar);
        while (true) {
            p pVarF = pVar.f(this, b);
            if (pVarF != null) {
                linkedList.add(pVarF);
                pVar = pVarF;
            } else {
                return linkedList;
            }
        }
    }

    public LinkedList a(LinkedList linkedList) {
        LinkedList linkedList2 = new LinkedList();
        Iterator it = linkedList.iterator();
        while (it.hasNext()) {
            linkedList2.addFirst((p) it.next());
        }
        return linkedList2;
    }

    public void f() {
        g();
    }

    public void g() {
        byte b;
        byte b2;
        int iA;
        int iB;
        f fVar = (f) this.D;
        g gVar = new g(this.g, this.h);
        if (l.l && !com.corrodinggames.rts.gameFramework.l.B().bH) {
            Debug.startMethodTracing("pathTrace", 110000000);
        }
        if (l.f612a) {
            Log.d("RustedWarfare", "starting path for:" + this.n.f610a.toString());
        }
        p pVar = this.r;
        p pVar2 = this.q;
        int i = this.h;
        int i2 = this.g;
        this.y = com.corrodinggames.rts.gameFramework.l.V();
        short s = fVar.h;
        short s2 = fVar.i;
        boolean z = fVar.k;
        d();
        a(fVar.o, fVar.h, fVar.i, fVar.j);
        short s3 = fVar.l;
        short s4 = fVar.m;
        short s5 = fVar.n;
        new LinkedList();
        if (this.n.f610a.equals(ao.NONE)) {
            if (l.f612a) {
                Log.d("RustedWarfare", "no point pathing for none");
                return;
            }
            return;
        }
        int i3 = 0;
        short s6 = s3;
        short s7 = s4;
        short s8 = s5;
        if (this.e != null) {
            short[] sArr = this.e;
            short s9 = sArr[(s * i) + s2];
            boolean z2 = true;
            if (s9 == -1) {
                z2 = false;
            } else {
                int i4 = s3 - s5;
                while (true) {
                    short s10 = (short) i4;
                    if (s10 > s3 + s5) {
                        break;
                    }
                    int i5 = s4 - s5;
                    while (true) {
                        short s11 = (short) i5;
                        if (s11 <= s4 + s5) {
                            if (s10 >= 0 && s10 < i2 && s11 >= 0 && s11 < i && s9 == sArr[(s10 * i) + s11]) {
                                z2 = false;
                            }
                            i5 = s11 + 1;
                        }
                    }
                    i4 = s10 + 1;
                }
            }
            if (z2) {
                if (l.f612a) {
                    Log.d("RustedWarfare", "end is blocked on isolated groups");
                }
                short s12 = s6;
                short s13 = s7;
                float f = -1.0f;
                int i6 = s3 - 25;
                while (true) {
                    short s14 = (short) i6;
                    if (s14 > s3 + 25) {
                        break;
                    }
                    int i7 = s4 - 25;
                    while (true) {
                        short s15 = (short) i7;
                        if (s15 <= s4 + 25) {
                            if (s14 >= 0 && s14 < i2 && s15 >= 0 && s15 < i && (s9 == sArr[(s14 * i) + s15] || sArr[(s14 * i) + s15] == 0)) {
                                float fA = com.corrodinggames.rts.gameFramework.f.a(s14, s15, s3, s4);
                                if (f == -1.0f || fA < f) {
                                    f = fA;
                                    s12 = s14;
                                    s13 = s15;
                                    s8 = 0;
                                }
                            }
                            i7 = s15 + 1;
                        }
                    }
                    i6 = s14 + 1;
                }
                if (f == -1.0f) {
                    short s16 = 0;
                    while (true) {
                        short s17 = s16;
                        if (s17 >= i2) {
                            break;
                        }
                        short s18 = 0;
                        while (true) {
                            short s19 = s18;
                            if (s19 < i) {
                                if (s9 == sArr[(s17 * i) + s19] || sArr[(s17 * i) + s19] == 0) {
                                    float fA2 = com.corrodinggames.rts.gameFramework.f.a(s17, s19, s3, s4);
                                    if (f == -1.0f || fA2 < f) {
                                        f = fA2;
                                        s12 = s17;
                                        s13 = s19;
                                        s8 = 0;
                                    }
                                }
                                s18 = (short) (s19 + 1);
                            }
                        }
                        s16 = (short) (s17 + 1);
                    }
                }
                s6 = s12;
                s7 = s13;
                if (l.f612a) {
                    Log.d("RustedWarfare", "fakeNode search was:" + (System.currentTimeMillis() - this.y));
                }
            }
        }
        boolean z3 = true;
        int i8 = s6 - s8;
        loop6: while (true) {
            short s20 = (short) i8;
            if (s20 > s6 + s8) {
                break;
            }
            int i9 = s7 - s8;
            while (true) {
                short s21 = (short) i9;
                if (s21 <= s7 + s8) {
                    if (s20 < 0 || s20 >= i2 || s21 < 0 || s21 >= i || a(s20, s21) == -1) {
                        i9 = s21 + 1;
                    } else {
                        z3 = false;
                        break loop6;
                    }
                }
            }
            i8 = s20 + 1;
        }
        if (z3) {
            short s22 = s6;
            short s23 = s7;
            float f2 = -1.0f;
            if (l.f612a) {
                Log.d("RustedWarfare", "end is blocked on non isolated groups");
            }
            int i10 = s6 - 9;
            while (true) {
                short s24 = (short) i10;
                if (s24 > s6 + 9) {
                    break;
                }
                int i11 = s7 - 9;
                while (true) {
                    short s25 = (short) i11;
                    if (s25 <= s7 + 9) {
                        if (s24 >= 0 && s24 < i2 && s25 >= 0 && s25 < i && a(s24, s25) != -1) {
                            float fA3 = com.corrodinggames.rts.gameFramework.f.a(s24, s25, s6, s7);
                            if (f2 == -1.0f || fA3 < f2) {
                                f2 = fA3;
                                s22 = s24;
                                s23 = s25;
                                s8 = 0;
                            }
                        }
                        i11 = s25 + 1;
                    }
                }
                i10 = s24 + 1;
            }
            if (f2 == -1.0f) {
                short s26 = 0;
                while (true) {
                    short s27 = s26;
                    if (s27 >= i2) {
                        break;
                    }
                    short s28 = 0;
                    while (true) {
                        short s29 = s28;
                        if (s29 < i) {
                            if (a(s27, s29) != -1) {
                                float fA4 = com.corrodinggames.rts.gameFramework.f.a(s27, s29, s6, s7);
                                if (f2 == -1.0f || fA4 < f2) {
                                    f2 = fA4;
                                    s22 = s27;
                                    s23 = s29;
                                    s8 = 0;
                                }
                            }
                            s28 = (short) (s29 + 1);
                        }
                    }
                    s26 = (short) (s27 + 1);
                }
            }
            s6 = s22;
            s7 = s23;
            if (l.f612a) {
                Log.d("RustedWarfare", "fakeNode search was:" + (System.currentTimeMillis() - this.y));
            }
        }
        if (l.f612a && (s6 != s3 || s7 != s4)) {
            Log.d("RustedWarfare", "Moved end to fakeEndX:" + ((int) s6) + " fakeEndY:" + ((int) s7));
        }
        this.o.a(s6, s7);
        this.o.a(0, s, s2);
        this.p.a(s, s2);
        a(s6, s7, s8);
        this.p.a(0, s6, s7);
        int i12 = 0;
        while (0 == 0) {
            i12++;
            if (fVar.w) {
                return;
            }
            i3++;
            m mVar = this.p;
            n nVarC = mVar.c();
            if (nVarC == null) {
                break;
            }
            p pVarA = pVar2.a(nVarC);
            int iA2 = pVarA.a(this, (byte) 1);
            byte bA = (byte) (gVar.a(pVarA) - 1);
            boolean zB = gVar.b(pVarA);
            gVar.a(pVarA, true);
            if (zB) {
                b = 0;
                b2 = 7;
            } else {
                byte b3 = 2;
                if (this.f != null && this.f[(pVarA.f616a * i) + pVarA.b] > 1) {
                    b3 = 1;
                }
                b = (byte) (bA - b3);
                b2 = (byte) (bA + b3);
            }
            byte b4 = b;
            while (true) {
                byte b5 = b4;
                if (b5 <= b2) {
                    pVar.a(pVarA);
                    byte b6 = b5;
                    if (b6 > 7) {
                        b6 = (byte) (b6 - 8);
                    }
                    if (b6 < 0) {
                        b6 = (byte) (b6 + 8);
                    }
                    if (b6 == 0) {
                        pVar.f616a = (short) (pVar.f616a + 1);
                    }
                    if (b6 == 1) {
                        pVar.f616a = (short) (pVar.f616a + 1);
                        pVar.b = (short) (pVar.b + 1);
                    }
                    if (b6 == 2) {
                        pVar.b = (short) (pVar.b + 1);
                    }
                    if (b6 == 3) {
                        pVar.b = (short) (pVar.b + 1);
                        pVar.f616a = (short) (pVar.f616a - 1);
                    }
                    if (b6 == 4) {
                        pVar.f616a = (short) (pVar.f616a - 1);
                    }
                    if (b6 == 5) {
                        pVar.f616a = (short) (pVar.f616a - 1);
                        pVar.b = (short) (pVar.b - 1);
                    }
                    if (b6 == 6) {
                        pVar.b = (short) (pVar.b - 1);
                    }
                    if (b6 == 7) {
                        pVar.b = (short) (pVar.b - 1);
                        pVar.f616a = (short) (pVar.f616a + 1);
                    }
                    if (pVar.f616a >= 0 && pVar.f616a < i2 && pVar.b >= 0 && pVar.b < i && (iA = pVar.a(this)) != -1) {
                        int iA3 = pVar.a(this, (byte) 1);
                        if (!gVar.c(pVar)) {
                            if (pVar.f616a != pVarA.f616a && pVar.b != pVarA.b) {
                                if (a(pVar.f616a, pVarA.b) != -1 && a(pVarA.f616a, pVar.b) != -1) {
                                    iB = iA2 + 14 + iA + 1;
                                }
                            } else {
                                iB = iA2 + 10 + iA + 1;
                            }
                            if (bA != b6 && !zB) {
                                iB += b(bA, b6);
                            }
                            if (this.f != null) {
                                iB += (4 - this.f[(pVar.f616a * i) + pVar.b]) * 7;
                            }
                            if (0 > 0 && this.f != null && this.f[(pVar.f616a * i) + pVar.b] <= 0) {
                                iB += 100;
                            }
                            if (iA3 < this.i || iB < iA3) {
                                gVar.a(pVar, (byte) (b6 + 1));
                                gVar.a(pVar, false);
                                pVar.a(this, (byte) 1, iB);
                                mVar.a(iB - this.i, pVar.f616a, pVar.b);
                            }
                        }
                    }
                    b4 = (byte) (b5 + 1);
                }
            }
        }
        if (l.f612a) {
            Log.d("RustedWarfare", "grid path finshed in :" + i12 + " ticks");
            Log.d("RustedWarfare", "grid path done in:" + (System.currentTimeMillis() - this.y));
        }
        System.currentTimeMillis();
        gVar.c = s6;
        gVar.d = s7;
        fVar.b = gVar;
        l.e = fVar;
        this.z = com.corrodinggames.rts.gameFramework.l.V();
        if (l.f612a) {
            Log.d("RustedWarfare", "path(" + fVar.e + ") finished in:" + (this.z - this.y));
        }
        if (l.l && !com.corrodinggames.rts.gameFramework.l.B().bH) {
            Debug.stopMethodTracing();
            l.l = false;
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k/c.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

import com.corrodinggames.rts.game.units.af;
import com.corrodinggames.rts.game.units.am;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/c.class */
public abstract class c {
    public abstract af a(am amVar);

    public abstract af b(am amVar);

    public abstract void c(am amVar);

    public abstract void d(am amVar);
}


================================================================================
// FILE_PATH: ./gameFramework/k/h.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

import android.graphics.Point;
import com.corrodinggames.rts.game.units.af;
import com.corrodinggames.rts.game.units.am;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/h.class */
public class h extends c {

    /* renamed from: a, reason: collision with root package name */
    f f609a;
    af b = new af();
    static Point c = new Point();

    public h(f fVar) {
        this.f609a = fVar;
    }

    @Override // com.corrodinggames.rts.gameFramework.k.c
    public af a(am amVar) {
        af afVarA = a(amVar.eo, amVar.ep);
        if (afVarA == null) {
            return null;
        }
        af afVarA2 = a(afVarA.f194a, afVarA.b);
        if (afVarA2 == null) {
            return afVarA;
        }
        af afVarA3 = a(afVarA2.f194a, afVarA2.b);
        if (afVarA3 == null) {
            return afVarA2;
        }
        return afVarA3;
    }

    @Override // com.corrodinggames.rts.gameFramework.k.c
    public void d(am amVar) {
        if (this.f609a != null) {
            this.f609a.d();
        }
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        float f = lVarB.cw;
        float f2 = lVarB.cx;
        af afVarE = e(amVar);
        if (afVarE != null) {
            float f3 = afVarE.f194a;
            float f4 = afVarE.b;
            f.c.b(-16776961);
            lVarB.bO.a(amVar.eo - f, amVar.ep - f2, f3 - f, f4 - f2, f.c);
            af afVarB = b(amVar);
            if (afVarB != null) {
                f.c.b(-7829368);
                lVarB.bO.a(f3 - f, f4 - f2, afVarB.f194a - f, afVarB.b - f2, f.c);
            }
        }
        af afVarA = a(amVar);
        if (afVarA != null) {
            float f5 = afVarA.f194a;
            float f6 = afVarA.b;
            f.c.b(-256);
            lVarB.bO.a(amVar.eo - f, amVar.ep - f2, f5 - f, f6 - f2, f.c);
        }
    }

    public af e(am amVar) {
        return a(amVar.eo, amVar.ep);
    }

    @Override // com.corrodinggames.rts.gameFramework.k.c
    public af b(am amVar) {
        af afVarA = a(amVar.eo, amVar.ep);
        if (afVarA == null) {
            return null;
        }
        return a(afVarA.f194a, afVarA.b);
    }

    @Override // com.corrodinggames.rts.gameFramework.k.c
    public void c(am amVar) {
    }

    public af a(float f, float f2) {
        byte bA;
        if (this.f609a.b == null) {
            return null;
        }
        com.corrodinggames.rts.game.b.b bVar = com.corrodinggames.rts.gameFramework.l.B().bL;
        int i = (int) (f * bVar.r);
        int i2 = (int) (f2 * bVar.s);
        if (!bVar.c(i, i2) || (bA = this.f609a.a(i, i2)) == 0) {
            return null;
        }
        f.a(bA, c);
        int i3 = i - c.f44a;
        int i4 = i2 - c.b;
        this.b.f194a = (i3 * bVar.n) + bVar.p;
        this.b.b = (i4 * bVar.o) + bVar.q;
        return this.b;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k/d.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

import java.util.Iterator;
import java.util.PriorityQueue;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/d.class */
public final class d extends j {

    /* renamed from: a, reason: collision with root package name */
    public static int f605a;
    public static int b;
    public static int c;
    public static int d;
    public static int e;
    public static int f;
    public static int g;
    public static double h;
    public static double i;
    int j;
    int k;
    int l;
    int m;
    int n;
    n[] o = new n[975];
    com.corrodinggames.rts.gameFramework.utility.m p = new com.corrodinggames.rts.gameFramework.utility.m(100);
    final PriorityQueue q = new PriorityQueue();
    final com.corrodinggames.rts.gameFramework.utility.m r = new com.corrodinggames.rts.gameFramework.utility.m(300);
    int s;
    int t;
    public static int u;

    private void c() {
        if (this.k == this.m) {
            d();
            return;
        }
        int i2 = this.n;
        n[] nVarArr = this.o;
        if (this.j == -2) {
            for (int i3 = 0; i3 <= i2; i3++) {
                int i4 = nVarArr[i3].c;
                if (this.k == i4) {
                    this.j = i3;
                    this.k = i4;
                    return;
                }
            }
        }
        int i5 = -1;
        int i6 = Integer.MAX_VALUE;
        for (int i7 = 0; i7 <= i2; i7++) {
            int i8 = nVarArr[i7].c;
            if (i6 > i8) {
                i5 = i7;
                i6 = i8;
            }
        }
        if (this.k != i6) {
            g++;
        }
        this.j = i5;
        this.k = i6;
    }

    private void a(int i2, n nVar) {
        this.o[i2] = nVar;
        int i3 = nVar.c;
        if (this.j == -1 || this.k >= i3) {
            if (this.k > i3) {
            }
            if (this.k != i3) {
                g++;
            }
            this.j = i2;
            this.k = i3;
        }
        if (this.l == -1 || this.m < i3) {
            this.l = i2;
            this.m = i3;
        }
    }

    private void d() {
        this.j = -1;
        this.k = Integer.MAX_VALUE;
        this.l = -1;
        this.m = Integer.MIN_VALUE;
        for (int i2 = 0; i2 <= this.n; i2++) {
            n nVar = this.o[i2];
            if (nVar == null) {
                com.corrodinggames.rts.gameFramework.l.e("n:" + i2);
                com.corrodinggames.rts.gameFramework.l.e("lowestBufferLastIndex:" + this.n);
                throw new RuntimeException("null with n:" + i2 + ", lowestBufferLastIndex:" + this.n);
            }
            int i3 = nVar.c;
            if (this.k > i3) {
                this.j = i2;
                this.k = i3;
            }
            if (this.m < i3) {
                this.l = i2;
                this.m = i3;
            }
        }
    }

    private void e() {
        if (this.n < 30) {
            n nVar = (n) this.q.poll();
            if (nVar != null) {
                b(nVar);
            }
            n nVar2 = (n) this.q.peek();
            if (nVar2 != null) {
                this.s = nVar2.c;
                return;
            }
            return;
        }
        this.s = Integer.MAX_VALUE;
        n nVar3 = (n) this.q.peek();
        if (nVar3 != null) {
            this.s = nVar3.c;
        }
    }

    public d() {
        f();
    }

    private void b(n nVar) {
        this.n++;
        a(this.n, nVar);
        if (this.n > f605a) {
            f605a = this.n;
        }
    }

    private void c(n nVar) {
        this.q.offer(nVar);
        if (nVar.c < this.s) {
            this.s = nVar.c;
        }
        if (this.q.size() > b) {
            b = this.q.size();
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.k.j
    public void a(n nVar) {
        d++;
        boolean z = false;
        if (this.n < this.o.length - 1) {
            z = true;
        }
        if (z) {
            if (nVar.c <= this.s) {
                b(nVar);
                return;
            } else {
                c(nVar);
                return;
            }
        }
        if (nVar.c < this.m) {
            n nVar2 = this.o[this.l];
            this.o[this.l] = nVar;
            d();
            c(nVar2);
            return;
        }
        c(nVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.k.j
    public n a() {
        if (this.j == -2) {
            int i2 = this.k;
            c();
            this.t++;
            if (u < this.t) {
                u = this.t;
            }
            e++;
            if (i2 == this.k) {
                f++;
            }
        } else {
            this.t = 0;
        }
        if (this.k < this.s && this.j != -1) {
            n[] nVarArr = this.o;
            n nVar = nVarArr[this.j];
            if (this.n != this.j) {
                nVarArr[this.j] = nVarArr[this.n];
                nVarArr[this.n] = null;
            } else {
                nVarArr[this.n] = null;
            }
            this.n--;
            this.j = -2;
            return nVar;
        }
        n nVar2 = (n) this.q.poll();
        e();
        return nVar2;
    }

    @Override // com.corrodinggames.rts.gameFramework.k.j
    public void b() {
        a((m) null);
    }

    public void a(m mVar) {
        for (int i2 = 0; i2 < this.o.length; i2++) {
            if (this.o[i2] != null) {
                if (mVar != null) {
                    mVar.a(this.o[i2]);
                }
                this.o[i2] = null;
            }
        }
        this.n = -1;
        Iterator it = this.q.iterator();
        while (it.hasNext()) {
            n nVar = (n) it.next();
            if (mVar != null) {
                mVar.a(nVar);
            }
        }
        this.q.clear();
        f();
    }

    private void f() {
        this.j = -1;
        this.k = Integer.MAX_VALUE;
        this.l = -1;
        this.m = Integer.MIN_VALUE;
        this.s = Integer.MAX_VALUE;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k/p.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/p.class */
public final class p {

    /* renamed from: a, reason: collision with root package name */
    public short f616a;
    public short b;

    public p() {
    }

    public p(short s, short s2) {
        a(s, s2);
    }

    public final p a(short s, short s2) {
        this.f616a = s;
        this.b = s2;
        return this;
    }

    public final p a(p pVar) {
        this.f616a = pVar.f616a;
        this.b = pVar.b;
        return this;
    }

    public final p a(n nVar) {
        this.f616a = nVar.f614a;
        this.b = nVar.b;
        return this;
    }

    public final int a(o oVar) {
        short s = this.f616a;
        short s2 = this.b;
        if (oVar.b[(s * oVar.h) + s2] == -1 || oVar.c[(s * oVar.h) + s2] == -1 || oVar.d[(s * oVar.h) + s2] == -1) {
            return -1;
        }
        return oVar.b[(s * oVar.h) + s2] + oVar.c[(s * oVar.h) + s2] + (oVar.d[(s * oVar.h) + s2] * 10);
    }

    public final int a(o oVar, byte b) {
        return oVar.l[b][(this.f616a * oVar.h) + this.b];
    }

    public final void a(o oVar, byte b, int i) {
        oVar.l[b][(this.f616a * oVar.h) + this.b] = i;
    }

    public final void a(o oVar, byte b, boolean z) {
        if (z) {
            byte[] bArr = oVar.m[b];
            int i = (this.f616a * oVar.h) + this.b;
            bArr[i] = (byte) (bArr[i] | 16);
        } else {
            byte[] bArr2 = oVar.m[b];
            int i2 = (this.f616a * oVar.h) + this.b;
            bArr2[i2] = (byte) (bArr2[i2] & (-17));
        }
    }

    public final boolean b(o oVar, byte b) {
        return oVar.l[b][(this.f616a * oVar.h) + this.b] >= oVar.i && (oVar.m[b][(this.f616a * oVar.h) + this.b] & 16) != 0;
    }

    public final byte c(o oVar, byte b) {
        return (byte) (oVar.m[b][(this.f616a * oVar.h) + this.b] & 7);
    }

    public final boolean d(o oVar, byte b) {
        return (oVar.m[b][(this.f616a * oVar.h) + this.b] & 8) != 0;
    }

    public final void b(o oVar, byte b, boolean z) {
        if (z) {
            byte[] bArr = oVar.m[b];
            int i = (this.f616a * oVar.h) + this.b;
            bArr[i] = (byte) (bArr[i] | 8);
        } else {
            byte[] bArr2 = oVar.m[b];
            int i2 = (this.f616a * oVar.h) + this.b;
            bArr2[i2] = (byte) (bArr2[i2] & (-9));
        }
    }

    public final void a(o oVar, byte b, byte b2) {
        byte[] bArr = oVar.m[b];
        int i = (this.f616a * oVar.h) + this.b;
        bArr[i] = (byte) (bArr[i] & (-16));
        byte[] bArr2 = oVar.m[b];
        int i2 = (this.f616a * oVar.h) + this.b;
        bArr2[i2] = (byte) (bArr2[i2] | (b2 & 15));
    }

    public final void a(o oVar, byte b, float f) {
        int i = (int) (((f / 360.0f) * 8.0f) + 0.5f);
        if (i < 0) {
            i += 8;
        }
        if (i > 7) {
            i -= 8;
        }
        if (i < 0) {
            i += 8;
        }
        if (i > 7) {
            i -= 8;
        }
        if (i < 0 || i > 7) {
            com.corrodinggames.rts.gameFramework.l.e("setCurrentDirectionFromAngle: dir:" + i + " direction:" + f);
            i = 0;
        }
        a(oVar, b, (byte) i);
    }

    public final boolean e(o oVar, byte b) {
        if (oVar.l[b][(this.f616a * oVar.h) + this.b] >= oVar.i) {
            return true;
        }
        return false;
    }

    public final p f(o oVar, byte b) {
        p pVar = new p();
        if (a(oVar, b, pVar)) {
            return pVar;
        }
        return null;
    }

    public final boolean a(o oVar, byte b, p pVar) {
        if (!e(oVar, b)) {
            pVar.a((short) -1, (short) -1);
            return false;
        }
        byte bC = c(oVar, b);
        if (d(oVar, b)) {
            pVar.a((short) -1, (short) -1);
            return false;
        }
        int i = 0;
        int i2 = 0;
        if (bC == 0) {
            i = 0 + 1;
        }
        if (bC == 1) {
            i++;
            i2 = 0 + 1;
        }
        if (bC == 2) {
            i2++;
        }
        if (bC == 3) {
            i2++;
            i--;
        }
        if (bC == 4) {
            i--;
        }
        if (bC == 5) {
            i--;
            i2--;
        }
        if (bC == 6) {
            i2--;
        }
        if (bC == 7) {
            i2--;
            i++;
        }
        pVar.a((short) (this.f616a - i), (short) (this.b - i2));
        return true;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k/e.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/e.class */
public final class e extends j {

    /* renamed from: a, reason: collision with root package name */
    boolean f606a;
    int b;
    final a c = new a(100);
    final a d = new a(900);

    @Override // com.corrodinggames.rts.gameFramework.k.j
    public void a(n nVar) {
        int i = nVar.c;
        if (i <= this.b) {
            if (i == this.b) {
                this.c.b(nVar);
                return;
            }
            c();
            this.b = i;
            this.c.add(nVar);
            return;
        }
        this.d.b(nVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.k.j
    public n a() {
        if (this.c.b > 0) {
            return this.c.b();
        }
        if (this.d.b == 0) {
            this.b = Integer.MAX_VALUE;
            return null;
        }
        d();
        return this.c.b();
    }

    @Override // com.corrodinggames.rts.gameFramework.k.j
    public void b() {
        a((m) null);
    }

    public void a(m mVar) {
        if (mVar != null) {
            n[] nVarArrA = this.c.a();
            for (int i = this.c.b - 1; i >= 0; i--) {
                mVar.a(nVarArrA[i]);
            }
            n[] nVarArrA2 = this.d.a();
            for (int i2 = this.d.b - 1; i2 >= 0; i2--) {
                mVar.a(nVarArrA2[i2]);
            }
        }
        this.c.clear();
        this.d.clear();
        this.b = Integer.MAX_VALUE;
        this.f606a = true;
    }

    private void c() {
        n[] nVarArrA = this.c.a();
        int i = this.c.b;
        for (int i2 = 0; i2 < i; i2++) {
            this.d.add(nVarArrA[i2]);
        }
        this.c.clear();
    }

    private void d() {
        int i = Integer.MAX_VALUE;
        a aVar = this.d;
        n[] nVarArrA = aVar.a();
        for (int i2 = aVar.b - 1; i2 >= 0; i2--) {
            int i3 = nVarArrA[i2].c;
            if (i3 < i) {
                i = i3;
            }
        }
        for (int i4 = aVar.b - 1; i4 >= 0; i4--) {
            n nVar = nVarArrA[i4];
            if (nVar.c == i) {
                this.c.add(nVar);
                int i5 = aVar.b - 1;
                nVarArrA[i4] = nVarArrA[i5];
                nVarArrA[i5] = null;
                aVar.b = i5;
            }
        }
        this.b = i;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k/i.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

import android.graphics.Point;
import android.graphics.Rect;
import android.util.Log;
import com.corrodinggames.rts.game.units.al;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ao;
import com.corrodinggames.rts.game.units.y;
import com.corrodinggames.rts.gameFramework.br;
import com.corrodinggames.rts.gameFramework.utility.ak;
import java.util.HashMap;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/i.class */
public final class i {
    private final l q;

    /* renamed from: a, reason: collision with root package name */
    ao f610a;
    public final int b;
    public final int c;
    public byte[] d;
    public byte[] e;
    public byte[] f;
    public short[] g;
    public HashMap h;
    public int i;
    public byte[] j;
    public boolean m;
    public boolean o;
    public int p;
    public int k = -99;
    public int l = 0;
    Point n = new Point();

    i(l lVar, ao aoVar, int i, int i2) {
        this.b = i;
        this.c = i2;
        this.q = lVar;
        this.f610a = aoVar;
        this.d = new byte[i * i2];
        this.q.u.add(this);
        this.q.v = (i[]) this.q.u.toArray(new i[0]);
        a();
    }

    void a() {
        d();
        c(null);
        e();
    }

    void a(y yVar) {
        if (yVar != null) {
            this.l++;
            if (this.l > 50) {
                if (!this.m) {
                    com.corrodinggames.rts.gameFramework.l.e("buildAndReplaceClearanceCost being skipped");
                }
                this.m = true;
                return;
            }
        }
        if (yVar != null) {
            b(yVar);
            return;
        }
        long jA = 0;
        if (yVar == null) {
            jA = br.a();
        }
        com.corrodinggames.rts.game.b.b bVar = this.q.q;
        byte[] bArr = this.j;
        if (this.j == null) {
            yVar = null;
        }
        this.j = new byte[this.b * this.c];
        short s = 0;
        short s2 = 0;
        short s3 = this.q.s;
        short s4 = this.q.t;
        if (yVar != null) {
            if (bArr != null) {
                com.corrodinggames.rts.gameFramework.f.a(bArr, this.j);
            }
            bVar.a(yVar.eo, yVar.ep);
            Rect rectCc = yVar.cc();
            short s5 = (short) bVar.T;
            short s6 = (short) bVar.U;
            s = (short) ((s5 - 5) + rectCc.f47a);
            s2 = (short) ((s6 - 5) + rectCc.b);
            s3 = (short) (s5 + 5 + rectCc.c);
            s4 = (short) (s6 + 5 + rectCc.d);
        }
        if (s < 0) {
            s = 0;
        }
        if (s2 < 0) {
            s2 = 0;
        }
        if (s3 > this.q.s) {
            s3 = this.q.s;
        }
        if (s4 > this.q.t) {
            s4 = this.q.t;
        }
        short s7 = s;
        while (true) {
            short s8 = s7;
            if (s8 >= s3) {
                break;
            }
            short s9 = s2;
            while (true) {
                short s10 = s9;
                if (s10 < s4) {
                    boolean z = false;
                    if (this.d[(s8 * this.c) + s10] == -1) {
                        z = true;
                    }
                    if (this.e[(s8 * this.c) + s10] == -1) {
                        z = true;
                    }
                    if (z) {
                        this.j[(s8 * this.c) + s10] = 0;
                    } else {
                        this.j[(s8 * this.c) + s10] = 4;
                    }
                    s9 = (short) (s10 + 1);
                }
            }
            s7 = (short) (s8 + 1);
        }
        short s11 = s;
        while (true) {
            short s12 = s11;
            if (s12 >= s3) {
                break;
            }
            short s13 = s2;
            while (true) {
                short s14 = s13;
                if (s14 < s4) {
                    if (this.j[(s12 * this.c) + s14] == 0) {
                        a(bVar, s12, s14, this.j);
                    }
                    s13 = (short) (s14 + 1);
                }
            }
            s11 = (short) (s12 + 1);
        }
        short s15 = s;
        while (true) {
            short s16 = s15;
            if (s16 >= s3) {
                break;
            }
            a(bVar, s16, (short) -1, this.j);
            a(bVar, s16, (short) (this.q.t + 1), this.j);
            s15 = (short) (s16 + 1);
        }
        short s17 = s2;
        while (true) {
            short s18 = s17;
            if (s18 >= s4) {
                break;
            }
            a(bVar, (short) -1, s18, this.j);
            a(bVar, (short) (this.q.s + 1), s18, this.j);
            s17 = (short) (s18 + 1);
        }
        if (yVar == null) {
            double dA = br.a(jA);
            if (dA > 30.0d) {
                com.corrodinggames.rts.gameFramework.l.e("buildAndReplaceClearanceCostNew took:" + br.a(dA) + " for:" + this.f610a);
            }
        }
    }

    final void a(com.corrodinggames.rts.game.b.b bVar, short s, short s2, byte[] bArr) {
        int iA;
        int i = s - 3;
        int i2 = s2 - 3;
        int i3 = s + 3;
        int i4 = s2 + 3;
        if (i < 0) {
            i = 0;
        }
        if (i2 < 0) {
            i2 = 0;
        }
        if (i3 > bVar.C - 1) {
            i3 = bVar.C - 1;
        }
        if (i4 > bVar.D - 1) {
            i4 = bVar.D - 1;
        }
        for (int i5 = i; i5 <= i3; i5++) {
            for (int i6 = i2; i6 <= i4; i6++) {
                byte b = bArr[(i5 * this.c) + i6];
                if (b != 0 && (iA = com.corrodinggames.rts.gameFramework.f.a((int) s, (int) s2, i5, i6)) < b) {
                    bArr[(i5 * this.c) + i6] = (byte) iA;
                }
            }
        }
    }

    void b(y yVar) {
        long jA = 0;
        if (yVar == null) {
            jA = br.a();
        }
        com.corrodinggames.rts.game.b.b bVar = this.q.q;
        byte[] bArr = this.j;
        if (this.j == null) {
            yVar = null;
        }
        this.j = new byte[this.b * this.c];
        short s = 0;
        short s2 = 0;
        short s3 = this.q.s;
        short s4 = this.q.t;
        if (yVar != null) {
            if (bArr != null) {
                com.corrodinggames.rts.gameFramework.f.a(bArr, this.j);
            }
            bVar.a(yVar.eo, yVar.ep);
            Rect rectCc = yVar.cc();
            short s5 = (short) bVar.T;
            short s6 = (short) bVar.U;
            s = (short) ((s5 - 5) + rectCc.f47a);
            s2 = (short) ((s6 - 5) + rectCc.b);
            s3 = (short) (s5 + 5 + rectCc.c);
            s4 = (short) (s6 + 5 + rectCc.d);
        }
        if (s < 0) {
            s = 0;
        }
        if (s2 < 0) {
            s2 = 0;
        }
        if (s3 > this.q.s) {
            s3 = this.q.s;
        }
        if (s4 > this.q.t) {
            s4 = this.q.t;
        }
        short s7 = s;
        while (true) {
            short s8 = s7;
            if (s8 >= s3) {
                break;
            }
            short s9 = s2;
            while (true) {
                short s10 = s9;
                if (s10 < s4) {
                    this.j[(s8 * this.c) + s10] = a(bVar, s8, s10);
                    s9 = (short) (s10 + 1);
                }
            }
            s7 = (short) (s8 + 1);
        }
        if (yVar == null) {
            com.corrodinggames.rts.gameFramework.l.e("buildAndReplaceClearanceCost took:" + br.a(br.a(jA)) + " for:" + this.f610a);
        }
    }

    final byte a(com.corrodinggames.rts.game.b.b bVar, short s, short s2) {
        int iA;
        if (this.d[(s * this.c) + s2] == -1) {
            return (byte) 0;
        }
        int i = s2 - 3;
        int i2 = s + 3;
        int i3 = s2 + 3;
        int i4 = 4;
        for (int i5 = s - 3; i5 <= i2; i5++) {
            for (int i6 = i; i6 <= i3; i6++) {
                boolean z = false;
                if (bVar.c(i5, i6)) {
                    if (this.d[(i5 * this.c) + i6] == -1) {
                        z = true;
                    }
                    if (this.e[(i5 * this.c) + i6] == -1) {
                        z = true;
                    }
                } else {
                    z = true;
                }
                if (z && (iA = com.corrodinggames.rts.gameFramework.f.a((int) s, (int) s2, i5, i6)) < i4) {
                    i4 = iA;
                }
            }
        }
        return (byte) i4;
    }

    void b() {
        int i = this.b;
        int i2 = this.c;
        this.g = new short[i * i2];
        this.h = new HashMap();
        short s = 1;
        short s2 = 0;
        while (true) {
            short s3 = s2;
            if (s3 < i) {
                short s4 = 0;
                while (true) {
                    short s5 = s4;
                    if (s5 < i2) {
                        if (this.g[(s3 * i2) + s5] == 0) {
                            if (s <= 0) {
                                Log.d("RustedWarfare", "warning buildIsolatedGroups looped, ending");
                                return;
                            }
                            int iA = a(s3, s5, s);
                            if (iA > 0) {
                                this.h.put(Short.valueOf(s), Integer.valueOf(iA));
                                if (this.i < iA) {
                                    this.i = iA;
                                }
                                s = (short) (s + 1);
                            }
                        }
                        s4 = (short) (s5 + 1);
                    }
                }
            } else {
                return;
            }
            s2 = (short) (s3 + 1);
        }
    }

    int a(short s, short s2, short s3) {
        int i = this.c;
        com.corrodinggames.rts.game.b.b bVar = this.q.q;
        short[] sArr = this.g;
        byte[] bArr = this.d;
        if (bArr[(s * i) + s2] == -1) {
            sArr[(s * i) + s2] = -1;
            return 0;
        }
        if (s3 == 0) {
            throw new RuntimeException("id cannot be 0 is will cause can endless loop");
        }
        int i2 = 0;
        com.corrodinggames.rts.gameFramework.utility.g gVar = new com.corrodinggames.rts.gameFramework.utility.g();
        gVar.add(new ak(s, s2));
        while (!gVar.isEmpty()) {
            ak akVar = (ak) gVar.a();
            short s4 = akVar.f682a;
            short s5 = akVar.b;
            if (bVar.c((int) s4, (int) s5)) {
                int i3 = (s4 * i) + s5;
                if (sArr[i3] == 0 && bArr[i3] != -1) {
                    sArr[i3] = s3;
                    i2++;
                    gVar.add(new ak((short) (s4 - 1), s5));
                    gVar.add(new ak((short) (s4 + 1), s5));
                    gVar.add(new ak(s4, (short) (s5 - 1)));
                    gVar.add(new ak(s4, (short) (s5 + 1)));
                }
            }
        }
        return i2;
    }

    boolean c() {
        return (this.f610a.equals(ao.AIR) || this.f610a.equals(ao.NONE)) ? false : true;
    }

    public static int a(com.corrodinggames.rts.game.b.b bVar) {
        com.corrodinggames.rts.game.b.e eVar = bVar.u;
        int i = 0;
        for (int i2 = 0; i2 < eVar.n; i2++) {
            for (int i3 = 0; i3 < eVar.o; i3++) {
                com.corrodinggames.rts.game.b.g gVarA = eVar.a(i2, i3);
                if (gVarA != null) {
                    i += (0 + (gVarA.e ? 1 : 0) + (gVarA.h ? 2 : 0) + (gVarA.k ? 4 : 0) + (gVarA.g ? 8 : 0) + (gVarA.f ? 16 : 0)) * (i2 + i3);
                }
            }
        }
        return i;
    }

    void d() {
        com.corrodinggames.rts.game.b.b bVar = this.q.q;
        byte[] bArr = this.d;
        short[] sArrA = bVar.u.a();
        com.corrodinggames.rts.game.b.g[] gVarArr = bVar.B;
        ao aoVar = this.f610a;
        int i = this.b;
        int i2 = this.c;
        if (!c()) {
            return;
        }
        boolean z = aoVar.equals(ao.WATER) || aoVar.equals(ao.HOVER) || aoVar.equals(ao.OVER_CLIFF_WATER);
        boolean z2 = aoVar.equals(ao.HOVER) || aoVar.equals(ao.OVER_CLIFF) || aoVar.equals(ao.OVER_CLIFF_WATER);
        boolean z3 = aoVar.equals(ao.OVER_CLIFF) || aoVar.equals(ao.OVER_CLIFF_WATER);
        for (int i3 = 0; i3 < i; i3++) {
            for (int i4 = 0; i4 < i2; i4++) {
                int i5 = (i3 * i2) + i4;
                bArr[i5] = 0;
                com.corrodinggames.rts.game.b.g gVar = gVarArr[sArrA[i5]];
                if (gVar != null) {
                    if (gVar.e && !z) {
                        bArr[i5] = -1;
                    }
                    if (gVar.h && !z2) {
                        bArr[i5] = -1;
                    }
                    if (gVar.k && !z3) {
                        bArr[i5] = -1;
                    }
                    if (gVar.g && 0 == 0) {
                        bArr[i5] = -1;
                    }
                    if (aoVar == ao.WATER && !gVar.e && !gVar.f) {
                        bArr[i5] = -1;
                    }
                }
                com.corrodinggames.rts.game.b.g gVarE = bVar.e(i3, i4);
                if (gVarE != null) {
                    if (aoVar == ao.LAND && gVarE.i) {
                        bArr[i5] = -1;
                    }
                    if (gVarE.k && !z3) {
                        bArr[i5] = -1;
                    }
                    if (bArr[i5] == 0) {
                        bArr[i5] = gVarE.j;
                    }
                }
                if (gVar != null && bArr[i5] == 0) {
                    bArr[i5] = gVar.j;
                }
            }
        }
        if (bVar.x != null) {
            for (int i6 = 0; i6 < i; i6++) {
                for (int i7 = 0; i7 < i2; i7++) {
                    com.corrodinggames.rts.game.b.g gVarA = bVar.x.a(i6, i7);
                    if (gVarA != null) {
                        bArr[(i6 * i2) + i7] = 0;
                        if (gVarA.e && !z) {
                            bArr[(i6 * i2) + i7] = -1;
                        }
                        if (gVarA.h && !z2) {
                            bArr[(i6 * i2) + i7] = -1;
                        }
                        if (gVarA.k && !z3) {
                            bArr[(i6 * i2) + i7] = -1;
                        }
                        if (gVarA.g && 0 == 0) {
                            bArr[(i6 * i2) + i7] = -1;
                        }
                        if (bArr[(i6 * i2) + i7] == 0) {
                            bArr[(i6 * i2) + i7] = gVarA.j;
                        }
                        if (aoVar == ao.WATER && !gVarA.e && !gVarA.f) {
                            bArr[(i6 * i2) + i7] = -1;
                        }
                    }
                }
            }
        }
    }

    public void c(y yVar) {
        Rect rectCc;
        if (yVar != null) {
            this.p++;
            if (this.p > 50) {
                this.o = true;
                return;
            }
        }
        com.corrodinggames.rts.gameFramework.l.V();
        this.e = new byte[this.b * this.c];
        byte[] bArr = this.e;
        if (this.f610a.equals(ao.AIR)) {
            return;
        }
        com.corrodinggames.rts.game.b.b bVar = this.q.q;
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i = 0; i < size; i++) {
            am amVar = amVarArrA[i];
            if (amVar.bI() && !amVar.bV) {
                Point pointA = amVar.a(bVar, this.n);
                int i2 = pointA.f44a;
                int i3 = pointA.b;
                if (this.f610a.equals(ao.BUILDING)) {
                    rectCc = amVar.cd();
                } else {
                    rectCc = amVar.cc();
                }
                for (int i4 = i2 + rectCc.f47a; i4 <= i2 + rectCc.c; i4++) {
                    for (int i5 = i3 + rectCc.b; i5 <= i3 + rectCc.d; i5++) {
                        if (bVar.c(i4, i5)) {
                            bArr[(i4 * this.c) + i5] = -1;
                        }
                    }
                }
            }
        }
    }

    public void e() {
        com.corrodinggames.rts.gameFramework.l.V();
        int i = this.c;
        this.f = new byte[this.b * i];
        if (this.f610a.equals(ao.AIR)) {
            return;
        }
        com.corrodinggames.rts.game.b.b bVar = this.q.q;
        int i2 = bVar.p;
        int i3 = bVar.q;
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i4 = 0; i4 < size; i4++) {
            am amVar = amVarArrA[i4];
            if (amVar.bT && !amVar.bI() && !amVar.cK && !(amVar instanceof al) && !amVar.bV && !amVar.i() && amVar.cN == null && !amVar.Q()) {
                int i5 = 2;
                bVar.a(amVar.eo, amVar.ep);
                int i6 = bVar.T;
                int i7 = bVar.U;
                float f = amVar.cj + 5.0f;
                float f2 = amVar.cj + 10.0f;
                if (f2 < 10.0f) {
                    i5 = 0;
                } else if (f2 < 20.0f) {
                    i5 = 1;
                }
                for (int i8 = i6 - i5; i8 <= i6 + i5; i8++) {
                    for (int i9 = i7 - i5; i9 <= i7 + i5; i9++) {
                        if (bVar.c(i8, i9)) {
                            bVar.a(i8, i9);
                            float fA = com.corrodinggames.rts.gameFramework.f.a(bVar.T + i2, bVar.U + i3, amVar.eo, amVar.ep);
                            int i10 = (i8 * i) + i9;
                            if (fA < f * f) {
                                byte[] bArr = this.f;
                                bArr[i10] = (byte) (bArr[i10] + 6);
                            } else if (fA < f2 * f2) {
                                this.f[i10] = (byte) (r0[i10] + (6 * 0.333d));
                            }
                            if (this.f[i10] < -1) {
                                this.f[i10] = 127;
                            }
                        }
                    }
                }
            }
        }
    }

    public void a(boolean z) {
        if (!z) {
            return;
        }
        if (this.m) {
            this.l = 0;
            this.m = false;
            c(null);
            if (this.j != null) {
                a((y) null);
            }
        }
        this.l = 0;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k/j.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/j.class */
public abstract class j {
    public abstract void a(n nVar);

    public abstract n a();

    public abstract void b();
}


================================================================================
// FILE_PATH: ./gameFramework/k/f.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

import android.graphics.Paint;
import android.graphics.Point;
import android.graphics.Rect;
import com.corrodinggames.rts.game.units.am;
import java.util.LinkedList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/f.class */
public class f extends k {

    /* renamed from: a, reason: collision with root package name */
    c f607a;
    g b;
    static Paint c = new Paint();
    static Point d = new Point();

    public f(l lVar, boolean z) {
        super(lVar, z);
        this.f607a = new h(this);
    }

    @Override // com.corrodinggames.rts.gameFramework.k.k
    public c a(am amVar) {
        if (a() != null) {
            return this.f607a;
        }
        return null;
    }

    @Override // com.corrodinggames.rts.gameFramework.k.k
    public LinkedList a() {
        return super.a();
    }

    @Override // com.corrodinggames.rts.gameFramework.k.k
    public boolean b() {
        return true;
    }

    @Override // com.corrodinggames.rts.gameFramework.k.k
    public boolean a(k kVar) {
        if (this == kVar) {
            return true;
        }
        if (!(kVar instanceof f)) {
            return false;
        }
        f fVar = (f) kVar;
        if (this.l != fVar.l || this.m != fVar.m || this.o != fVar.o) {
            return false;
        }
        return true;
    }

    @Override // com.corrodinggames.rts.gameFramework.k.k
    protected boolean c() {
        return this.x != null;
    }

    public final byte a(int i, int i2) {
        if (this.b == null) {
            return (byte) -1;
        }
        return this.b.a(i, i2);
    }

    public static final void a(byte b, Point point) {
        int i = 0;
        int i2 = 0;
        byte b2 = (byte) (b - 1);
        if (b2 == 0) {
            i = 0 + 1;
        }
        if (b2 == 1) {
            i++;
            i2 = 0 + 1;
        }
        if (b2 == 2) {
            i2++;
        }
        if (b2 == 3) {
            i2++;
            i--;
        }
        if (b2 == 4) {
            i--;
        }
        if (b2 == 5) {
            i--;
            i2--;
        }
        if (b2 == 6) {
            i2--;
        }
        if (b2 == 7) {
            i2--;
            i++;
        }
        point.f44a = i;
        point.b = i2;
    }

    public void d() {
        int i;
        int i2;
        int i3;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.game.b.b bVar = lVarB.bL;
        Rect rect = new Rect();
        float f = lVarB.cw;
        float f2 = lVarB.cx;
        float f3 = lVarB.cA;
        float f4 = lVarB.cB;
        com.corrodinggames.rts.game.b.e eVar = lVarB.bL.u;
        int i4 = (int) ((f * bVar.r) - 1.0f);
        if (i4 < 0) {
            i4 = 0;
        }
        int i5 = (int) ((f2 * bVar.s) - 1.0f);
        if (i5 < 0) {
            i5 = 0;
        }
        int i6 = (int) (((f + f3) * bVar.r) + 1.0f);
        if (i6 > bVar.C - 1) {
            i6 = bVar.C - 1;
        }
        int i7 = (int) (((f2 + f4) * bVar.s) + 1.0f);
        if (i7 > bVar.D - 1) {
            i7 = bVar.D - 1;
        }
        for (int i8 = i4; i8 < i6 + 1; i8++) {
            for (int i9 = i5; i9 < i7 + 1; i9++) {
                if (eVar.a(i8, i9) != null) {
                    int i10 = i8 * bVar.n;
                    int i11 = i9 * bVar.o;
                    rect.a(i10, i11, i10 + bVar.n, i11 + bVar.o);
                    rect.a((int) (-f), (int) (-f2));
                    boolean zB = rect.b((int) (lVarB.bS.x / lVarB.cX), (int) (lVarB.bS.y / lVarB.cX));
                    int i12 = 0;
                    if (50 == -1) {
                        i = 255;
                    } else {
                        i = 50 * 2;
                    }
                    if (0 == -1) {
                        i2 = 255;
                    } else {
                        i2 = 0 * 2;
                    }
                    if (0 == -1) {
                        i3 = 255;
                    } else {
                        if (0 != 0) {
                            i12 = 0 + 30;
                        }
                        i3 = i12 * 2;
                    }
                    c.a(128, i, i2, i3);
                    a(a(i8, i9), d);
                    float f5 = (i10 + bVar.p) - f;
                    float f6 = (i11 + bVar.q) - f2;
                    lVarB.bO.a(f5, f6, f5 + (d.f44a * (bVar.n - 3)) + 1.0f, f6 + (d.b * (bVar.o - 3)) + 1.0f, c);
                    if (zB) {
                    }
                }
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k/g.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/g.class */
public class g {

    /* renamed from: a, reason: collision with root package name */
    int f608a;
    int b;
    int c;
    int d;
    byte[] e;
    byte[] f;

    public g(int i, int i2) {
        this.f608a = i;
        this.b = i2;
        this.e = new byte[i * i2];
        this.f = new byte[i * i2];
    }

    public final byte a(int i, int i2) {
        return this.e[(i * this.b) + i2];
    }

    public final byte a(p pVar) {
        return this.e[(pVar.f616a * this.b) + pVar.b];
    }

    public boolean b(p pVar) {
        return a(pVar) <= 0;
    }

    public void a(p pVar, byte b) {
        this.e[(pVar.f616a * this.b) + pVar.b] = b;
    }

    public void a(p pVar, boolean z) {
        this.f[(pVar.f616a * this.b) + pVar.b] = (byte) (z ? 1 : 0);
    }

    public boolean c(p pVar) {
        return this.f[(pVar.f616a * this.b) + pVar.b] == 1;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k/k.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

import android.graphics.Paint;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ao;
import com.corrodinggames.rts.gameFramework.j.as;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import java.util.LinkedList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/k.class */
public class k {

    /* renamed from: a, reason: collision with root package name */
    private l f611a;
    protected int e;
    protected static int f;
    public int g;
    protected short h;
    protected short i;
    protected Float j;
    protected boolean k;
    protected short l;
    protected short m;
    protected short n;
    protected ao o;
    public boolean p;
    public int q;
    public boolean r;
    public float s;
    public float t;
    public boolean u;
    protected boolean v;
    protected boolean w;
    protected LinkedList x;
    public byte[] y;
    public byte[] z;
    public byte[] A;
    public short[] B;
    public byte[] C;

    public k(l lVar, boolean z) {
        this.f611a = lVar;
        if (z) {
            int i = f;
            f = i + 1;
            this.e = i;
        }
        this.g = com.corrodinggames.rts.gameFramework.l.B().bx;
    }

    public void a(as asVar) {
        int i;
        if (this.x == null) {
            asVar.a(false);
            return;
        }
        asVar.a(true);
        asVar.a("p", true);
        asVar.a(this.x.size());
        if (this.x.size() != 0) {
            p pVar = (p) this.x.get(0);
            asVar.a(pVar.f616a);
            asVar.a(pVar.b);
            for (int i2 = 1; i2 < this.x.size(); i2++) {
                p pVar2 = (p) this.x.get(i2);
                int i3 = pVar2.f616a - pVar.f616a;
                int i4 = pVar2.b - pVar.b;
                boolean z = com.corrodinggames.rts.gameFramework.f.d(i3) > 1 || com.corrodinggames.rts.gameFramework.f.d(i4) > 1;
                if (z) {
                    com.corrodinggames.rts.gameFramework.l.e("writeOutCompressedPath: out of range:" + i3 + "," + i4);
                    i = 128;
                } else {
                    i = i3 + 1 + ((i4 + 1) << 2);
                }
                asVar.c(i);
                if (z) {
                    asVar.a(pVar2.f616a);
                    asVar.a(pVar2.b);
                }
                pVar = pVar2;
            }
        }
        asVar.a("p");
    }

    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        if (!kVar.e()) {
            this.x = null;
            return;
        }
        kVar.a("p", true);
        int iF = kVar.f();
        if (iF > 160000 || iF < 0) {
            com.corrodinggames.rts.gameFramework.l.e("readInCompressedPath: Path too big at:" + iF);
            iF = -1;
        }
        if (iF != -1) {
            this.u = true;
            if (this.x == null) {
                this.x = new LinkedList();
            }
            this.x.clear();
        }
        if (iF > 0) {
            short sV = kVar.v();
            short sV2 = kVar.v();
            this.x.add(new p(sV, sV2));
            for (int i = 1; i < iF; i++) {
                byte bD = kVar.d();
                if (bD < 128) {
                    int i2 = (bD & 3) - 1;
                    int i3 = ((bD & 12) >> 2) - 1;
                    if (com.corrodinggames.rts.gameFramework.f.d(i2) > 1 || com.corrodinggames.rts.gameFramework.f.d(i3) > 1) {
                        com.corrodinggames.rts.gameFramework.l.e("readInCompressedPath: out of range but shouldn't be:" + i2 + "," + i3 + " for: " + ((int) bD));
                    }
                    sV = (short) (sV + i2);
                    sV2 = (short) (sV2 + i3);
                    this.x.add(new p(sV, sV2));
                } else {
                    com.corrodinggames.rts.gameFramework.l.e("readInCompressedPath: out of range unpack:" + ((int) sV) + "," + ((int) sV2));
                    sV = kVar.v();
                    sV2 = kVar.v();
                    this.x.add(new p(sV, sV2));
                }
            }
        }
        kVar.d("p");
    }

    public void e() {
        i iVarA = this.f611a.a(this.o);
        if (iVarA == null) {
            throw new RuntimeException("Could not get costs for:" + this.o.toString());
        }
        this.y = iVarA.d;
        this.z = iVarA.e;
        this.A = iVarA.f;
        this.B = iVarA.g;
        this.C = iVarA.j;
    }

    public void f() {
        this.y = null;
        this.z = null;
        this.A = null;
        this.B = null;
        this.C = null;
    }

    public void a(ao aoVar, short s, short s2, Float f2, boolean z) {
        if (aoVar == null) {
            throw new RuntimeException("MovementType is null");
        }
        this.o = aoVar;
        this.h = s;
        this.i = s2;
        this.j = f2;
        this.k = z;
        if (this.h < 0) {
            this.h = (short) 0;
        }
        if (this.i < 0) {
            this.i = (short) 0;
        }
        if (this.h > this.f611a.s - 1) {
            this.h = (short) (this.f611a.s - 1);
        }
        if (this.i > this.f611a.t - 1) {
            this.i = (short) (this.f611a.t - 1);
        }
        if (this.f611a.a(aoVar) == null) {
            throw new RuntimeException("Could not get costs for:" + aoVar.toString());
        }
    }

    public void a(short s, short s2, short s3) {
        if (s < 0) {
            s = 0;
        }
        if (s2 < 0) {
            s2 = 0;
        }
        if (s > this.f611a.s - 1) {
            s = (short) (this.f611a.s - 1);
        }
        if (s2 > this.f611a.t - 1) {
            s2 = (short) (this.f611a.t - 1);
        }
        this.l = s;
        this.m = s2;
        this.n = s3;
    }

    public boolean b() {
        return false;
    }

    public boolean a(k kVar) {
        return this == kVar;
    }

    public c a(am amVar) {
        return null;
    }

    public LinkedList a() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (lVarB.bX.B || lVarB.cb.i()) {
            if (this.u) {
                return this.x;
            }
            return null;
        }
        return this.x;
    }

    protected boolean c() {
        return this.x != null;
    }

    protected void a(LinkedList linkedList) {
        this.x = linkedList;
    }

    public void g() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.game.b.b bVar = lVarB.bL;
        Paint paint = new Paint();
        paint.a(2.0f);
        paint.a(100, 0, 100, 0);
        lVarB.bO.a(((this.l * bVar.n) + bVar.p) - com.corrodinggames.rts.gameFramework.l.B().cu, ((this.m * bVar.o) + bVar.q) - com.corrodinggames.rts.gameFramework.l.B().cv, this.n * bVar.n, paint);
        paint.a(SlickToAndroidKeycodes.AndroidCodes.KEYCODE_PAIRING, 0, 0, 255);
        lVarB.bO.a(((this.h * bVar.n) + bVar.p) - com.corrodinggames.rts.gameFramework.l.B().cu, ((this.i * bVar.o) + bVar.q) - com.corrodinggames.rts.gameFramework.l.B().cv, ((this.l * bVar.n) + bVar.p) - com.corrodinggames.rts.gameFramework.l.B().cu, ((this.m * bVar.o) + bVar.q) - com.corrodinggames.rts.gameFramework.l.B().cv, paint);
    }

    public void h() {
        if (this.x != null) {
            com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
            com.corrodinggames.rts.game.b.b bVar = lVarB.bL;
            if (this.x.size() >= 1) {
                for (int i = 1; i < this.x.size(); i++) {
                    p pVar = (p) this.x.get(i);
                    p pVar2 = (p) this.x.get(i - 1);
                    Paint paint = new Paint();
                    paint.a(255, 0, 255, 0);
                    paint.a(2.0f);
                    lVarB.bO.a(((pVar.f616a * bVar.n) + bVar.p) - com.corrodinggames.rts.gameFramework.l.B().cu, ((pVar.b * bVar.o) + bVar.q) - com.corrodinggames.rts.gameFramework.l.B().cv, ((pVar2.f616a * bVar.n) + bVar.p) - com.corrodinggames.rts.gameFramework.l.B().cu, ((pVar2.b * bVar.o) + bVar.q) - com.corrodinggames.rts.gameFramework.l.B().cv, paint);
                }
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k/l.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

import android.graphics.Paint;
import android.graphics.Rect;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ao;
import com.corrodinggames.rts.game.units.y;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.LinkedList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/l.class */
public final class l {

    /* renamed from: a, reason: collision with root package name */
    static final boolean f612a = false;
    static boolean b;
    static boolean c;
    static boolean d;
    public static f e;
    static boolean f;
    static boolean g;
    static boolean h;
    static int i;
    static boolean j;
    static ArrayList k;
    static boolean l;
    public static final boolean m;
    com.corrodinggames.rts.game.b.b q;
    int r;
    short s;
    short t;
    public i x;
    public i y;
    public i z;
    public i A;
    public i B;
    public i C;
    public i D;
    public i E;
    public boolean n = true;
    o o = new o(this);
    boolean p = true;
    ArrayList u = new ArrayList();
    i[] v = new i[0];
    public Paint w = new Paint();
    Paint F = new Paint();
    Object G = new Object();
    LinkedList I = new LinkedList();
    LinkedList J = new LinkedList();
    Object K = new Object();
    ArrayList H = new ArrayList();

    static {
        b = !com.corrodinggames.rts.gameFramework.l.as;
        c = false;
        d = false;
        f = false;
        g = false;
        h = false;
        i = 20;
        j = false;
        k = new ArrayList();
        l = false;
        m = false;
    }

    public i a(ao aoVar) {
        for (i iVar : this.v) {
            if (iVar.f610a == aoVar) {
                return iVar;
            }
        }
        return null;
    }

    public boolean a(ao aoVar, int i2, int i3) {
        return a(a(aoVar), i2, i3);
    }

    public boolean b(ao aoVar, int i2, int i3) {
        return a(a(aoVar), i2, i3, true);
    }

    public boolean a(i iVar, int i2, int i3) {
        return a(iVar, i2, i3, false);
    }

    public boolean a(i iVar, int i2, int i3, boolean z) {
        if (!this.q.c(i2, i3)) {
            return true;
        }
        if (iVar.f610a == ao.AIR) {
            return false;
        }
        int i4 = (i2 * this.t) + i3;
        if ((!z && iVar.e[i4] == -1) || iVar.d[i4] == -1 || iVar.f[i4] == -1) {
            return true;
        }
        return false;
    }

    public final int b(i iVar, int i2, int i3) {
        if (!this.q.c(i2, i3)) {
            return -1;
        }
        if (iVar.f610a == ao.AIR) {
            return 0;
        }
        int i4 = (i2 * this.t) + i3;
        if (iVar.d[i4] == -1 || iVar.e[i4] == -1 || iVar.f[i4] == -1) {
            return -1;
        }
        return iVar.d[i4] + iVar.e[i4] + (iVar.f[i4] * 10);
    }

    public final int c(i iVar, int i2, int i3) {
        if (!this.q.c(i2, i3)) {
            return -1;
        }
        if (iVar.f610a == ao.AIR) {
            return 4;
        }
        if (iVar.j == null) {
            return -1;
        }
        return iVar.j[(i2 * this.t) + i3];
    }

    public boolean a(int i2, int i3) {
        if (!this.q.c(i2, i3)) {
            return true;
        }
        int i4 = (i2 * this.t) + i3;
        if (this.D.d[i4] != -1 || this.A.d[i4] == -1) {
            return false;
        }
        return true;
    }

    public boolean b(int i2, int i3) {
        if (!this.q.c(i2, i3)) {
            return true;
        }
        int i4 = (i2 * this.t) + i3;
        if (this.C.d[i4] != -1 || this.E.d[i4] == -1) {
            return false;
        }
        return true;
    }

    public synchronized void a(com.corrodinggames.rts.game.b.b bVar, boolean z) {
        d();
        com.corrodinggames.rts.gameFramework.l.e("PathEngine: Setting up map costs");
        boolean z2 = false;
        if (z && this.q != null && this.q == bVar && this.s == bVar.u.n && this.t == bVar.u.o) {
            if (this.r == i.a(bVar)) {
                com.corrodinggames.rts.gameFramework.l.e("PathEngine: Keeping existing map costs");
                z2 = true;
            } else {
                com.corrodinggames.rts.gameFramework.l.e("PathEngine: Error: Map checksum does not match!!!");
            }
        }
        if (z2) {
        }
        this.q = bVar;
        this.r = i.a(bVar);
        this.s = (short) bVar.u.n;
        this.t = (short) bVar.u.o;
        e = null;
        this.u.clear();
        this.v = new i[0];
        this.x = new i(this, ao.NONE, this.s, this.t);
        this.y = new i(this, ao.LAND, this.s, this.t);
        this.y.b();
        this.y.a((y) null);
        this.z = new i(this, ao.BUILDING, this.s, this.t);
        this.A = new i(this, ao.WATER, this.s, this.t);
        this.A.b();
        this.A.a((y) null);
        this.B = new i(this, ao.AIR, this.s, this.t);
        this.C = new i(this, ao.HOVER, this.s, this.t);
        this.C.b();
        this.C.a((y) null);
        this.D = new i(this, ao.OVER_CLIFF, this.s, this.t);
        this.D.b();
        this.D.a((y) null);
        this.E = new i(this, ao.OVER_CLIFF_WATER, this.s, this.t);
        this.E.b();
        this.E.a((y) null);
        Iterator it = this.H.iterator();
        while (it.hasNext()) {
            ((o) it.next()).a(bVar);
        }
        this.o.a(bVar);
        com.corrodinggames.rts.gameFramework.l.e("PathEngine: Ready");
    }

    public void a() {
        int i2;
        int i3;
        int i4;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        i iVar = this.y;
        Rect rect = new Rect();
        float f2 = lVarB.cw;
        float f3 = lVarB.cx;
        float f4 = lVarB.cA;
        float f5 = lVarB.cB;
        com.corrodinggames.rts.game.b.e eVar = lVarB.bL.u;
        int i5 = (int) ((f2 * this.q.r) - 1.0f);
        if (i5 < 0) {
            i5 = 0;
        }
        int i6 = (int) ((f3 * this.q.s) - 1.0f);
        if (i6 < 0) {
            i6 = 0;
        }
        int i7 = (int) (((f2 + f4) * this.q.r) + 1.0f);
        if (i7 > this.s - 1) {
            i7 = this.s - 1;
        }
        int i8 = (int) (((f3 + f5) * this.q.s) + 1.0f);
        if (i8 > this.t - 1) {
            i8 = this.t - 1;
        }
        for (int i9 = i5; i9 < i7 + 1; i9++) {
            for (int i10 = i6; i10 < i8 + 1; i10++) {
                if (eVar.a(i9, i10) != null) {
                    int i11 = i9 * this.q.n;
                    int i12 = i10 * this.q.o;
                    rect.a(i11, i12, i11 + this.q.n, i12 + this.q.o);
                    rect.a((int) (-f2), (int) (-f3));
                    boolean zB = rect.b((int) (lVarB.bS.x / lVarB.cX), (int) (lVarB.bS.y / lVarB.cX));
                    if (!g || zB) {
                        byte b2 = iVar.d[(i9 * this.t) + i10];
                        byte b3 = iVar.e[(i9 * this.t) + i10];
                        int i13 = iVar.f[(i9 * this.t) + i10];
                        if (b2 == -1) {
                            i2 = 255;
                        } else {
                            i2 = b2 * 2;
                        }
                        if (b3 == -1) {
                            i3 = 255;
                        } else {
                            i3 = b3 * 2;
                        }
                        if (i13 == -1) {
                            i4 = 255;
                        } else {
                            if (i13 != 0) {
                                i13 += 30;
                            }
                            i4 = i13 * 2;
                        }
                        this.F.a(128, i2, i3, i4);
                        lVarB.bO.b(rect, this.F);
                        if (zB && iVar.f != null) {
                            lVarB.bO.a("o:" + ((int) iVar.f[(i9 * this.t) + i10]), rect.d(), rect.e(), lVarB.dp);
                        }
                    }
                }
            }
        }
    }

    public void a(y yVar) {
        if (yVar != null) {
            com.corrodinggames.rts.game.n.b(yVar);
        }
        for (i iVar : this.v) {
            iVar.c(yVar);
        }
        this.y.a(yVar);
        this.C.a(yVar);
        this.D.a(yVar);
        this.E.a(yVar);
    }

    public void b() {
        for (i iVar : this.v) {
            iVar.e();
        }
    }

    public l() {
        this.H.add(new o(this));
        int iC = com.corrodinggames.rts.gameFramework.f.c();
        if (iC > 1) {
            com.corrodinggames.rts.gameFramework.l.b("PathEngine", "We have " + iC + " cores, creating extra solvers");
            this.H.add(new o(this));
        } else {
            com.corrodinggames.rts.gameFramework.l.b("PathEngine", "We only have one core, using single solver");
        }
        Iterator it = this.H.iterator();
        while (it.hasNext()) {
            ((o) it.next()).c();
        }
    }

    public void c() {
        Iterator it = this.I.iterator();
        while (it.hasNext()) {
            ((k) it.next()).w = true;
        }
        this.I.clear();
        h();
    }

    public void d() {
        Iterator it = this.I.iterator();
        while (it.hasNext()) {
            a((k) it.next());
        }
        this.I.clear();
        h();
    }

    public void a(i iVar, boolean z) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (!z) {
            if (iVar.k + 50 < lVarB.bx) {
                iVar.k = lVarB.bx - 40;
                iVar.e();
            }
            iVar.a(z);
            return;
        }
        if (iVar.k + 30 < lVarB.bx) {
            iVar.k = lVarB.bx;
            iVar.e();
        }
        iVar.a(z);
    }

    public k a(boolean z) {
        k kVar;
        if (y.L) {
            kVar = new f(this, z);
        } else {
            kVar = new k(this, z);
        }
        return kVar;
    }

    public void a(k kVar, boolean z) {
        a(kVar, z, false);
    }

    public void a(k kVar, boolean z, boolean z2) {
        if (!this.p) {
            com.corrodinggames.rts.gameFramework.l.b("PathEngine", "Cannot start new path, not running");
            return;
        }
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        a(a(kVar.o), z);
        kVar.e();
        kVar.t = 300.0f;
        int iD = com.corrodinggames.rts.gameFramework.f.d(kVar.h - kVar.l);
        int iD2 = com.corrodinggames.rts.gameFramework.f.d(kVar.i - kVar.m);
        if (iD < 15 && iD2 < 15) {
            kVar.t = 12.0f;
        } else if (iD < 50 && iD2 < 50) {
            kVar.t = 16.0f;
        } else if (iD < 200 && iD2 < 200) {
            kVar.t = 24.0f;
        } else if (iD < 400 && iD2 < 400) {
            kVar.t = 50.0f;
        } else if (iD < 1000 && iD2 < 1000) {
            kVar.t = 100.0f;
        } else if (iD < 2000 && iD2 < 2000) {
            kVar.t = 200.0f;
        }
        if (!lVarB.bX.B && !lVarB.cb.i()) {
            if (iD < 1000 && iD2 < 1000) {
                kVar.t = 180.0f;
            } else {
                kVar.t = 360.0f;
            }
        }
        if (kVar.r) {
            kVar.t *= 2.0f;
            kVar.t += 50.0f;
        }
        kVar.s = kVar.t;
        if (!this.n || z2) {
            this.o.a(kVar);
            this.o.b();
            this.I.add(kVar);
        } else {
            b(kVar);
            this.I.add(kVar);
        }
    }

    public void a(float f2) {
        i();
    }

    public void b(float f2) {
        for (i iVar : this.v) {
            iVar.p = 0;
            if (iVar.o) {
                iVar.o = false;
                iVar.c(null);
            }
        }
        i();
        d(f2);
    }

    public void c(float f2) {
        if (j) {
            Iterator it = k.iterator();
            while (it.hasNext()) {
                k kVar = (k) it.next();
                kVar.h();
                kVar.g();
            }
        }
        if (d) {
            boolean z = true;
            com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
            if (lVarB.bS.bZ.b > 0) {
                am amVarA = lVarB.bS.bZ.get(0);
                if (amVarA instanceof y) {
                    y yVar = (y) amVarA;
                    if (yVar.au != null) {
                        yVar.au.d(yVar);
                        z = false;
                    }
                }
            }
            if (z) {
            }
        }
        if (f) {
            a();
        }
        if (h) {
        }
    }

    public boolean e() {
        Iterator it = this.I.iterator();
        while (it.hasNext()) {
            k kVar = (k) it.next();
            if (kVar.t <= 0.0f && !kVar.c()) {
                return true;
            }
        }
        return false;
    }

    public String f() {
        Iterator it = this.I.iterator();
        String str = null;
        int i2 = 0;
        while (it.hasNext()) {
            k kVar = (k) it.next();
            if (kVar.t <= 0.0f && !kVar.c()) {
                if (str == null) {
                    str = "[distance:" + com.corrodinggames.rts.gameFramework.f.b(kVar.h, kVar.i, kVar.l, kVar.m) + ", allowedDelay:" + kVar.s + " lowPriority:" + kVar.r + "]";
                }
                i2++;
            }
        }
        String str2 = "(total:" + i2 + ") ";
        if (str != null) {
            str2 = str2 + str;
        }
        return str2;
    }

    private void d(float f2) {
        Iterator it = this.I.iterator();
        while (it.hasNext()) {
            k kVar = (k) it.next();
            if (kVar.t <= 0.0f) {
                kVar.t = 0.0f;
                kVar.u = true;
                if (j) {
                    k.add(kVar);
                    if (k.size() > 10) {
                        k.remove(0);
                    }
                }
                if (!kVar.c()) {
                    if (com.corrodinggames.rts.gameFramework.l.B().ay()) {
                        com.corrodinggames.rts.gameFramework.l.b("PathEngine", "updateUnfinishedPaths: path wasn't solved, isGoingToBlockThisFrame did not protect");
                    }
                    a(kVar);
                }
                if (kVar.c()) {
                    it.remove();
                }
            } else {
                kVar.t -= f2;
            }
        }
    }

    private k g() {
        k kVar = null;
        Iterator it = this.J.iterator();
        while (it.hasNext()) {
            k kVar2 = (k) it.next();
            if (kVar == null || kVar.t > kVar2.t) {
                kVar = kVar2;
            }
        }
        if (kVar == null) {
            throw new RuntimeException("Failed to find any paths");
        }
        if (!this.J.remove(kVar)) {
            throw new RuntimeException("Failed remove found path");
        }
        return kVar;
    }

    private void b(k kVar) {
        synchronized (this.K) {
            this.J.add(kVar);
        }
    }

    private void h() {
        synchronized (this.K) {
            this.J.clear();
        }
    }

    private void i() {
        o oVarJ;
        LinkedList linkedList = this.J;
        if (linkedList.size() > 0) {
            synchronized (this.K) {
                while (linkedList.size() > 0 && (oVarJ = j()) != null) {
                    k kVarG = g();
                    if (!kVarG.v) {
                        a(oVarJ, kVarG);
                    }
                }
            }
        }
    }

    private o j() {
        Iterator it = this.H.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if (oVar.s) {
                return oVar;
            }
        }
        return null;
    }

    public void a(k kVar) {
        o oVarJ;
        if (!kVar.v) {
            while (true) {
                synchronized (this.G) {
                    oVarJ = j();
                    if (oVarJ != null) {
                        break;
                    } else {
                        try {
                            this.G.wait(2000L);
                        } catch (InterruptedException e2) {
                        }
                    }
                }
            }
            a(oVarJ, kVar);
        }
        boolean z = false;
        long jV = com.corrodinggames.rts.gameFramework.l.V();
        while (true) {
            synchronized (this.G) {
                if (kVar.c()) {
                    break;
                }
                z = true;
                i();
                try {
                    this.G.wait(2000L);
                } catch (InterruptedException e3) {
                }
            }
            if (!z && b) {
                com.corrodinggames.rts.gameFramework.l.b("PathEngine", "We were blocked path(" + kVar.e + ") for:" + (com.corrodinggames.rts.gameFramework.l.V() - jV));
                return;
            }
        }
        if (!z) {
        }
    }

    private void a(o oVar, k kVar) {
        synchronized (kVar) {
            if (!kVar.v) {
                oVar.a(kVar);
                oVar.a();
            }
        }
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k/m.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/m.class */
public final class m {

    /* renamed from: a, reason: collision with root package name */
    int f613a;
    int b;
    public static int c;
    final e e = new e();
    final a d = new a(1000 + 100);

    m() {
        for (int i = 0; i < 1000; i++) {
            this.d.add(new n());
        }
    }

    n a() {
        if (this.d.b == 0) {
            c++;
            return new n();
        }
        return this.d.b();
    }

    final void a(n nVar) {
        if (nVar != null) {
            this.d.b(nVar);
        }
    }

    void b() {
        if (this.d.size() > 50000) {
            com.corrodinggames.rts.gameFramework.l.e("PathOpenList: resetPool:memoryPool over 50000 clearing");
            this.d.clear();
        }
        this.e.a(this);
    }

    public void a(int i, int i2) {
        b();
        this.f613a = i;
        this.b = i2;
    }

    public final void a(int i, short s, short s2) {
        n nVarA = a();
        nVarA.a(s, s2);
        nVarA.a(i, this.f613a, this.b);
        this.e.a(nVarA);
    }

    public final n c() {
        n nVarA = this.e.a();
        if (nVarA != null) {
            a(nVarA);
        }
        return nVarA;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/k/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.k;

import java.io.Serializable;
import java.lang.reflect.Array;
import java.util.AbstractList;
import java.util.Arrays;
import java.util.Collection;
import java.util.Iterator;
import java.util.List;
import java.util.RandomAccess;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/k/a.class */
public final class a extends AbstractList implements Serializable, Cloneable, RandomAccess {

    /* renamed from: a, reason: collision with root package name */
    public static final n[] f603a = new n[0];
    public int b;
    transient n[] c;

    static /* synthetic */ int d(a aVar) {
        int i = aVar.modCount + 1;
        aVar.modCount = i;
        return i;
    }

    public a(int i) {
        if (i < 0) {
            throw new IllegalArgumentException("capacity < 0: " + i);
        }
        this.c = i == 0 ? f603a : new n[i];
    }

    public a() {
        this.c = f603a;
    }

    public n[] a() {
        return this.c;
    }

    @Override // java.util.AbstractList, java.util.AbstractCollection, java.util.Collection, java.util.List
    /* renamed from: a, reason: merged with bridge method [inline-methods] */
    public boolean add(n nVar) {
        n[] nVarArr = this.c;
        int i = this.b;
        if (i == nVarArr.length) {
            n[] nVarArr2 = new n[i + (i < 6 ? 12 : i >> 1)];
            System.arraycopy(nVarArr, 0, nVarArr2, 0, i);
            nVarArr = nVarArr2;
            this.c = nVarArr2;
        }
        nVarArr[i] = nVar;
        this.b = i + 1;
        this.modCount++;
        return true;
    }

    public void b(n nVar) {
        n[] nVarArr = this.c;
        int i = this.b;
        if (i == nVarArr.length) {
            n[] nVarArr2 = new n[i + (i < 6 ? 12 : i >> 1)];
            System.arraycopy(nVarArr, 0, nVarArr2, 0, i);
            nVarArr = nVarArr2;
            this.c = nVarArr2;
        }
        nVarArr[i] = nVar;
        this.b = i + 1;
    }

    @Override // java.util.AbstractList, java.util.List
    /* renamed from: a, reason: merged with bridge method [inline-methods] */
    public void add(int i, n nVar) {
        n[] nVarArr = this.c;
        int i2 = this.b;
        if (i > i2 || i < 0) {
            a(i, i2);
        }
        if (i2 < nVarArr.length) {
            System.arraycopy(nVarArr, i, nVarArr, i + 1, i2 - i);
        } else {
            n[] nVarArr2 = new n[c(i2)];
            System.arraycopy(nVarArr, 0, nVarArr2, 0, i);
            System.arraycopy(nVarArr, i, nVarArr2, i + 1, i2 - i);
            nVarArr = nVarArr2;
            this.c = nVarArr2;
        }
        nVarArr[i] = nVar;
        this.b = i2 + 1;
        this.modCount++;
    }

    private static int c(int i) {
        return i + (i < 6 ? 12 : i >> 1);
    }

    @Override // java.util.AbstractCollection, java.util.Collection, java.util.List
    public boolean addAll(Collection collection) {
        n[] nVarArr = (n[]) collection.toArray();
        int length = nVarArr.length;
        if (length == 0) {
            return false;
        }
        n[] nVarArr2 = this.c;
        int i = this.b;
        int i2 = i + length;
        if (i2 > nVarArr2.length) {
            n[] nVarArr3 = new n[c(i2 - 1)];
            System.arraycopy(nVarArr2, 0, nVarArr3, 0, i);
            nVarArr2 = nVarArr3;
            this.c = nVarArr3;
        }
        System.arraycopy(nVarArr, 0, nVarArr2, i, length);
        this.b = i2;
        this.modCount++;
        return true;
    }

    @Override // java.util.AbstractList, java.util.List
    public boolean addAll(int i, Collection collection) {
        int i2 = this.b;
        if (i > i2 || i < 0) {
            a(i, i2);
        }
        n[] nVarArr = (n[]) collection.toArray();
        int length = nVarArr.length;
        if (length == 0) {
            return false;
        }
        n[] nVarArr2 = this.c;
        int i3 = i2 + length;
        if (i3 <= nVarArr2.length) {
            System.arraycopy(nVarArr2, i, nVarArr2, i + length, i2 - i);
        } else {
            n[] nVarArr3 = new n[c(i3 - 1)];
            System.arraycopy(nVarArr2, 0, nVarArr3, 0, i);
            System.arraycopy(nVarArr2, i, nVarArr3, i + length, i2 - i);
            nVarArr2 = nVarArr3;
            this.c = nVarArr3;
        }
        System.arraycopy(nVarArr, 0, nVarArr2, i, length);
        this.b = i3;
        this.modCount++;
        return true;
    }

    static IndexOutOfBoundsException a(int i, int i2) {
        throw new IndexOutOfBoundsException("Invalid index " + i + ", size is " + i2);
    }

    @Override // java.util.AbstractList, java.util.AbstractCollection, java.util.Collection, java.util.List
    public void clear() {
        if (this.b != 0) {
            Arrays.fill(this.c, 0, this.b, (Object) null);
            this.b = 0;
            this.modCount++;
        }
    }

    public Object clone() {
        try {
            a aVar = (a) super.clone();
            aVar.c = (n[]) this.c.clone();
            return aVar;
        } catch (CloneNotSupportedException e) {
            throw new AssertionError();
        }
    }

    @Override // java.util.AbstractList, java.util.List
    /* renamed from: a, reason: merged with bridge method [inline-methods] */
    public n get(int i) {
        if (i >= this.b) {
            a(i, this.b);
        }
        return this.c[i];
    }

    @Override // java.util.AbstractCollection, java.util.Collection, java.util.List
    public final int size() {
        return this.b;
    }

    @Override // java.util.AbstractCollection, java.util.Collection, java.util.List
    public final boolean isEmpty() {
        return this.b == 0;
    }

    @Override // java.util.AbstractCollection, java.util.Collection, java.util.List
    public boolean contains(Object obj) {
        n[] nVarArr = this.c;
        int i = this.b;
        if (obj != null) {
            for (int i2 = 0; i2 < i; i2++) {
                if (obj.equals(nVarArr[i2])) {
                    return true;
                }
            }
            return false;
        }
        for (int i3 = 0; i3 < i; i3++) {
            if (nVarArr[i3] == null) {
                return true;
            }
        }
        return false;
    }

    @Override // java.util.AbstractList, java.util.List
    public int indexOf(Object obj) {
        n[] nVarArr = this.c;
        int i = this.b;
        if (obj != null) {
            for (int i2 = 0; i2 < i; i2++) {
                if (obj.equals(nVarArr[i2])) {
                    return i2;
                }
            }
            return -1;
        }
        for (int i3 = 0; i3 < i; i3++) {
            if (nVarArr[i3] == null) {
                return i3;
            }
        }
        return -1;
    }

    @Override // java.util.AbstractList, java.util.List
    public int lastIndexOf(Object obj) {
        n[] nVarArr = this.c;
        if (obj != null) {
            for (int i = this.b - 1; i >= 0; i--) {
                if (obj.equals(nVarArr[i])) {
                    return i;
                }
            }
            return -1;
        }
        for (int i2 = this.b - 1; i2 >= 0; i2--) {
            if (nVarArr[i2] == null) {
                return i2;
            }
        }
        return -1;
    }

    @Override // java.util.AbstractList, java.util.List
    /* renamed from: b, reason: merged with bridge method [inline-methods] */
    public n remove(int i) {
        n[] nVarArr = this.c;
        int i2 = this.b;
        if (i >= i2) {
            a(i, i2);
        }
        n nVar = nVarArr[i];
        int i3 = i2 - 1;
        System.arraycopy(nVarArr, i + 1, nVarArr, i, i3 - i);
        nVarArr[i3] = null;
        this.b = i3;
        this.modCount++;
        return nVar;
    }

    public n b() {
        n[] nVarArr = this.c;
        int i = this.b - 1;
        n nVar = nVarArr[i];
        nVarArr[i] = null;
        this.b = i;
        return nVar;
    }

    @Override // java.util.AbstractCollection, java.util.Collection, java.util.List
    public boolean remove(Object obj) {
        n[] nVarArr = this.c;
        int i = this.b;
        if (obj != null) {
            for (int i2 = 0; i2 < i; i2++) {
                if (obj.equals(nVarArr[i2])) {
                    int i3 = i - 1;
                    System.arraycopy(nVarArr, i2 + 1, nVarArr, i2, i3 - i2);
                    nVarArr[i3] = null;
                    this.b = i3;
                    this.modCount++;
                    return true;
                }
            }
            return false;
        }
        for (int i4 = 0; i4 < i; i4++) {
            if (nVarArr[i4] == null) {
                int i5 = i - 1;
                System.arraycopy(nVarArr, i4 + 1, nVarArr, i4, i5 - i4);
                nVarArr[i5] = null;
                this.b = i5;
                this.modCount++;
                return true;
            }
        }
        return false;
    }

    @Override // java.util.AbstractList
    protected void removeRange(int i, int i2) {
        if (i == i2) {
            return;
        }
        n[] nVarArr = this.c;
        int i3 = this.b;
        if (i >= i3) {
            throw new IndexOutOfBoundsException("fromIndex " + i + " >= size " + this.b);
        }
        if (i2 > i3) {
            throw new IndexOutOfBoundsException("toIndex " + i2 + " > size " + this.b);
        }
        if (i > i2) {
            throw new IndexOutOfBoundsException("fromIndex " + i + " > toIndex " + i2);
        }
        System.arraycopy(nVarArr, i2, nVarArr, i, i3 - i2);
        int i4 = i2 - i;
        Arrays.fill(nVarArr, i3 - i4, i3, (Object) null);
        this.b = i3 - i4;
        this.modCount++;
    }

    @Override // java.util.AbstractList, java.util.List
    /* renamed from: b, reason: merged with bridge method [inline-methods] */
    public n set(int i, n nVar) {
        n[] nVarArr = this.c;
        if (i >= this.b) {
            a(i, this.b);
        }
        n nVar2 = nVarArr[i];
        nVarArr[i] = nVar;
        return nVar2;
    }

    @Override // java.util.AbstractCollection, java.util.Collection, java.util.List
    public Object[] toArray() {
        int i = this.b;
        Object[] objArr = new Object[i];
        System.arraycopy(this.c, 0, objArr, 0, i);
        return objArr;
    }

    @Override // java.util.AbstractCollection, java.util.Collection, java.util.List
    public Object[] toArray(Object[] objArr) {
        int i = this.b;
        if (objArr.length < i) {
            objArr = (Object[]) Array.newInstance(objArr.getClass().getComponentType(), i);
        }
        System.arraycopy(this.c, 0, objArr, 0, i);
        if (objArr.length > i) {
            objArr[i] = null;
        }
        return objArr;
    }

    @Override // java.util.AbstractList, java.util.AbstractCollection, java.util.Collection, java.lang.Iterable, java.util.List
    public Iterator iterator() {
        return new b(this);
    }

    @Override // java.util.AbstractList, java.util.Collection, java.util.List
    public int hashCode() {
        n[] nVarArr = this.c;
        int iHashCode = 1;
        int i = this.b;
        for (int i2 = 0; i2 < i; i2++) {
            n nVar = nVarArr[i2];
            iHashCode = (31 * iHashCode) + (nVar == null ? 0 : nVar.hashCode());
        }
        return iHashCode;
    }

    @Override // java.util.AbstractList, java.util.Collection, java.util.List
    public boolean equals(Object obj) {
        if (obj == this) {
            return true;
        }
        if (!(obj instanceof List)) {
            return false;
        }
        List list = (List) obj;
        int i = this.b;
        if (list.size() != i) {
            return false;
        }
        n[] nVarArr = this.c;
        if (list instanceof RandomAccess) {
            for (int i2 = 0; i2 < i; i2++) {
                n nVar = nVarArr[i2];
                Object obj2 = list.get(i2);
                if (nVar == null) {
                    if (obj2 != null) {
                        return false;
                    }
                } else if (!nVar.equals(obj2)) {
                    return false;
                }
            }
            return true;
        }
        Iterator it = list.iterator();
        for (int i3 = 0; i3 < i; i3++) {
            n nVar2 = nVarArr[i3];
            Object next = it.next();
            if (nVar2 == null) {
                if (next != null) {
                    return false;
                }
            } else if (!nVar2.equals(next)) {
                return false;
            }
        }
        return true;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/l/b.java
================================================================================

package com.corrodinggames.rts.gameFramework.l;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/l/b.class */
public abstract class b {
    public abstract void onFileSelected();

    public abstract void onCancelled();
}


================================================================================
// FILE_PATH: ./gameFramework/l/c.java
================================================================================

package com.corrodinggames.rts.gameFramework.l;

import com.corrodinggames.rts.gameFramework.l;
import java.io.File;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/l/c.class */
public class c {
    public String a() {
        return null;
    }

    public boolean b() {
        return true;
    }

    public void a(File file) {
        l.e("PlatformExtensionBackend:shareFile");
        l.e("abstract shareFile:" + file.getPath());
    }

    public void a(b bVar) {
    }

    public float c() {
        return 0.0f;
    }
}


================================================================================
// FILE_PATH: ./gameFramework/l/a.java
================================================================================

package com.corrodinggames.rts.gameFramework.l;

import java.io.File;

/* loaded from: game-lib.jar:com/corrodinggames/rts/gameFramework/l/a.class */
public class a {

    /* renamed from: a, reason: collision with root package name */
    static c f623a = new c();

    public static String a() {
        return f623a.a();
    }

    public static boolean b() {
        return f623a.b();
    }

    public static void a(File file) {
        f623a.a(file);
    }

    public static void a(b bVar) {
        f623a.a(bVar);
    }

    public static float c() {
        return f623a.c();
    }
}
