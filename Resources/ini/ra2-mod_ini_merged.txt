

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–支持/盟军发电厂.ini
================================================================================


[core]
name: 盟军发电厂
price: 0
maxHp: 800
mass: 10000
radius: 30

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条4.xxhq
tags: 原始护甲, 建筑轻甲, 建筑, 电力, 占领, 盟军发电厂, 可入侵, 空下, 带扩展建筑, 电厂
displayText: Allied Power Plant
displayText_zh: 盟军发电厂
displayDescription: Can be upgraded for $500\nFunds: -800\nPower: +300
displayDescription_zh: 资金花费：800\n电力提供：300
borrowResourcesWhileAlive: 电力=-300
buildSpeed: 0
selfBuildRate: 1s
isBuilding: true
footprint: -1,0,2,1
constructionFootprint: -1,0,2,1
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7, CUSTOM:漏电
soundOnDeath: ROOT:\音频\语音+音效\bpowdiea.wav:2, ROOT:\音频\语音+音效\bpowdieb.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\发电厂图标.png
image:        盟军发电厂.png

default_frame: 8
total_frames: 16
imageScale:	1.02
image_offsetX:12
image_offsetY:-18
animation_idle_start: 8
animation_idle_end: 15
animation_idle_speed: 8
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_1]
autoTrigger: if not self.resource(type='入侵计时', empty=true) and self.resource(type='停电计时', empty=true)
addResources: 电力=-1000000
setResourcesWithLogic: 停电计时=90, 入侵计时=0
addGlobalTeamTags: 入侵停电
showMessageToPlayer: System warning: The power system is damaged by enemy infiltrating, need to wait 90 seconds to recover
showMessageToPlayer_zh: 系统警告：电力系统被敌人入侵破坏，需要等待90秒后恢复
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_2]
autoTrigger: if not self.resource(type='入侵计时', empty=true) and not self.resource(type='停电计时', empty=true)
setResourcesWithLogic: 停电计时=90, 入侵计时=0
showMessageToPlayer: System warning: The power system is again destroyed by the enemy, and the power cut is reset.
showMessageToPlayer_zh: 系统警告：电力系统再次被敌人入侵破坏，停电计时重置
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_冷冻停电]
autoTrigger: if self.tags(includes='禁止攻击') and not self.tags(includes='冷冻停电')
temporarilyAddTags: 冷冻停电
addResources: 电力=-250


[hiddenAction_冷冻停电2]
autoTrigger: if self.tags(includes='冷冻停电') and not self.tags(includes='禁止攻击')
temporarilyRemoveTags: 冷冻停电
addResources: 电力=250


[hiddenAction_飞碟停电]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='入侵模块', withinRange=40, greaterThan=0) and not self.tags(includes='飞碟停电')
temporarilyAddTags: 飞碟停电
addResourcesWithLogic: 电力=-250


[hiddenAction_飞碟停电2]
autoTrigger: if not numberOfUnitsInEnemyTeam(withTag='入侵模块', withinRange=40, greaterThan=0) and self.tags(includes='飞碟停电')
temporarilyRemoveTags: 飞碟停电
addResourcesWithLogic: 电力=250


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_初始价值]
addResources: 价值=40


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_漏电]
image: ROOT:\共享文件\1类\漏电.png
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 9
animateFrameStart: 0
animateFrameEnd: 8
animateFrameSpeed: 0.15
xOffsetRelative: 5
yOffsetRelative: 0
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 800
@global dianli: 200


[ai]
buildPriority: 0.04
recommendedInEachBaseNum: 4
recommendedInEachBasePriorityIfUnmet: 0.25
noneInBaseExtraPriority: 0.4
maxEachBase: 14

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–支持/盟军基地停电.ini
================================================================================


[core]
name: 盟军基地停电
copyFrom: 盟军基地.ini
showInEditor: false

nanoFactorySpeed: 0.75

[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 盟军基地
convertTo_keepCurrentTags: true
temporarilyRemoveTags: 无电力

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–支持/科技中心.ini
================================================================================


[core]
name: 科技中心
price: 0
maxHp: 1500
mass: 50000
radius: 40

#overrideAndReplace: repairBay
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq
tags: 原始护甲, 建筑轻甲, 建筑, 占领, 科技中心, 可入侵, 空下, 带扩展建筑, 高科资金
displayText: Allied Tech Center
displayText_zh: 科技中心
displayDescription: High Tech Access\nFunds: -3000\nPower: -300
displayDescription_zh: 解锁科技单位\n资金花费：3000\n电力占用：300
borrowResourcesWhileAlive: 电力=300
footprint: -2,1,1,1
displayFootprint: -3,0,2,2
constructionFootprint: -3,0,2,2
isBuilding: true
techLevel: 2
buildSpeed: 0
selfBuildRate: 1s
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 280


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 280


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\科技中心图标.png
image:        科技中心.png

default_frame: 8
total_frames: 9
imageScale: 1.02
image_offsetX: -24
image_offsetY: -18
#image_wreak:  NONE
animation_idle_start: 8
animation_idle_end: 8
animation_idle_speed: 1
rotate_with_direction:false
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_1]
autoTrigger: if not self.hasFlag(id=29)
spawnEffects: CUSTOM:科技光


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_初始价值]
addResources: 价值=100


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[effect_资金]
life: 150
fadeOut: true
fadeInTime: 5
image: ROOT:\共享文件\1类\资金加.png
scaleTo: 1.0
scaleFrom: 1.0
alpha: 1.2
attachedToUnit:false
ySpeedAbsolute: -0.25
yOffsetRelative: 40
alwayStartDirAtZero:true


[effect_科技光]
image: 科技光.png
#delayedStartTimer: 60
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 8
animateFrameStart: 0
animateFrameEnd: 7
animateFrameSpeed: 0.1
xOffsetRelative	:  -24
yOffsetRelative	:  18
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
attachedToUnit: true
liveAfterAttachedDies: false
createWhenZoomedOut:  false
#createWhenOverLand: false


[effect_电力]
#scaleFrom:2.5
#scaleTo:2.5
xOffsetRelative: -30
yOffsetRelative: 40


[effect_土坑]
yOffsetRelative: -20


[effect_土坑2]
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 4000
@global dianli: -300


[ai]
buildPriority: 0.02
noneInBaseExtraPriority: 0.2
recommendedInEachBaseNum: 1
recommendedInEachBasePriorityIfUnmet: 0.1

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–支持/盟军基地.ini
================================================================================


[core]
name: 盟军基地
price: 0
maxHp: 2500
mass: 100000
radius: 60

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq
tags: 原始护甲, 建筑重甲, 建筑, 基地, 电力, 可入侵, 占领, 空下, 带扩展建筑
displayText: Allied Construction Yard
displayText_zh: 盟军基地
displayDescription: Build allied buildings\nPower: +40
displayDescription_zh: 建造盟军建筑\n电力提供：40
isBuilding: true
footprint: -5,-1,5,3
constructionFootprint: -5,-2,5,4
fogOfWarSightRange: 26
numBitsOnDeath:100
canRepairBuildings: true
canRepairUnitsOnlyWithTags: 无
nanoRange: 9999
nanoRepairSpeed: 0
selfBuildRate: 0s
borrowResourcesWhileAlive: 电力=-40
armour: 99999
armourMinDamageToKeep: 1700
#exit_x:0
#exit_y:30
#exit_dirOffset: 45
#exit_moveAwayAmount :100
effectOnDeath: CUSTOM:土坑3*4, CUSTOM:土坑2*4, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7
@memory 返还资金:float


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 盟军基地停电
convertTo_keepCurrentTags: true
stopLastAnimation: true
temporarilyAddTags: 无电力


[hiddenAction_建造单位音效-苏]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof052.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_建造单位音效-盟]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva052.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_建造单位音效-尤]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur052.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[graphics]
image:       盟军基地.png

default_frame: 14
total_frames: 25
imageScale:	1.02
image_offsetX:-3
image_offsetY:-36
#image_back:   NONE
#image_wreak:  NONE
rotate_with_direction: false
repairEffect: NONE


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:  false
canAttackUnderwaterUnits: false


[movement]
movementType: NONE


[canBuild_国旗]
name: 国旗-美国
pos: 0
#tech: 1
#forceNano: true
isVisible: if not numberOfUnitsInTeam(withTag='国旗-美国', greaterThan=1)
isGuiBlinking: if self.noUnitInTeam(withTag='国旗-美国', incompleteBuildings=true)


[canBuild_基地防御]
name: 盟军基地防御
pos: 0
isVisible: if not numberOfUnitsInTeam(withTag='盟军基地防御', greaterThan=1)
isGuiBlinking: if self.noUnitInTeam(withTag='盟军基地防御', incompleteBuildings=true)


[canBuild_1]
@define number: 2
@define number2: 0
name: 盟军发电厂
pos: ${number}
#tech: 1
#forceNano: true
isVisible: if self.resource(type='计数', equalTo=${number-1}) and self.hasFlag(id=${number2})
addResources: 计数=-${number-1}, ai计时=-99
isGuiBlinking: true
isLockedAlt2: if self.tags(includes='禁止攻击')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_2]
@copyFromSection: canBuild_1
@define number: 3
name: 盟军矿厂


[canBuild_3]
@copyFromSection: canBuild_1
@define number: 4
#@define number2: 1
name: 盟军兵营


[canBuild_4]
@copyFromSection: canBuild_3
@define number: 5
name: 盟军战争工厂


[canBuild_5]
@copyFromSection: canBuild_3
@define number: 6
name: 盟军机场


[canBuild_6]
@copyFromSection: canBuild_3
@define number: 7
name: 盟军船坞


[canBuild_7]
@copyFromSection: canBuild_1
@define number: 8
name: 科技中心


[canBuild_8]
@copyFromSection: canBuild_1
@define number: 9
name: 矿石精炼器
isLocked: if self.hasUnitInTeam(withTag='矿石精炼器', incompleteBuildings=true)
isLockedMessage: Allied Ore Purifier can only have one at a time!
isLockedMessage_zh: 矿石精炼器同时只能有一个!


[canBuild_9]
@copyFromSection: canBuild_1
@define number: 10
name: 盟军维修平台


[canBuild_10]
@copyFromSection: canBuild_1
@define number: 11
@define number2: 2
name: 机枪碉堡


[canBuild_11]
@copyFromSection: canBuild_1
@define number: 12
name: 控制中心


[canBuild_12]
@copyFromSection: canBuild_10
@define number: 13
name: 爱国者导弹建造


[canBuild_13]
@copyFromSection: canBuild_10
@define number: 14
name: 光棱塔


[canBuild_14]
@copyFromSection: canBuild_10
@define number: 15
name: 巨炮建造


[canBuild_15]
@copyFromSection: canBuild_1
@define number: 16
name: 卫星中心


[canBuild_16]
@copyFromSection: canBuild_10
@define number: 17
name: 超时空传送仪
isLocked: if self.hasUnitInTeam(withTag='超时空传送仪', incompleteBuildings=true)
isLockedMessage: Allied Chronosphere can only have one at a time!
isLockedMessage_zh: 超时空传送仪同时只能有一个!


[canBuild_17]
@copyFromSection: canBuild_10
@define number: 18
name: 天气控制器
isLocked: if self.hasUnitInTeam(withTag='天气控制器', incompleteBuildings=true) and not self.globalTeamTags(includes='无限超武')
isLockedMessage: Allied Weather Controller can only have one at a time!
isLockedMessage_zh: 天气控制器同时只能有一个!


[canBuild_18]
name: 盟墙墩
pos: 19
#forceNano: true
price: 资金=50
isGuiBlinking:	true
isVisible: if self.hasUnitInTeam(withTag="盟军兵营")
isLockedAlt2: if self.tags(includes='禁止攻击')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_19]
@copyFromSection: canBuild_18
@define number: 20
name: 盟墙墩2


[canBuild_20]
@copyFromSection: canBuild_18
@define number: 21
name: 盟墙撇


[canBuild_21]
@copyFromSection: canBuild_18
@define number: 22
name: 盟墙那


[action_1]
text: Undeploy
text_zh: 取消基地部署
description: Allied Mobile Construction Vehicle
description_zh: 整理形成基地车
pos: 1
displayType: action
buildSpeed: 1s
isActive: if not self.globalTeamTags(includes='禁止基地取消部署') and not self.tags(includes='禁止攻击')
isVisible: if not self.isControlledByAI()
whenBuilding_playAnimation: 取消部署
whenBuilding_triggerAction: 卖声
#playSoundToPlayerOnQueue: Constructionmarketing.wav
convertTo: 盟军基地车
#convertTo_keepCurrentTags: true
alsoTriggerAction: 取消
setBodyRotation: 135


[action_支持]
text: Support
text_zh: 支持类
description: Expand the list of support buildings
description_zh: 展开支持类建筑列表
pos: 1.1
displayType: rally
buildSpeed: 0s
isActive: if self.queueSize(empty=true) and not self.hasFlag(id=0) and not self.resource(type='计数', greaterThan=0)
autoTrigger: if self.lastConverted(withinSeconds=1)
#isVisible: if not self.hasFlag(id=0) 
addResources: setFlag=0, unsetFlag=2


[action_防御]
text: Defensive
text_zh: 防御类
description: Expand the list of defensive buildings
description_zh: 展开防御类建筑列表
pos: 1.3
displayType: rally
buildSpeed: 0s
isActive: if self.queueSize(empty=true) and not self.hasFlag(id=2) and not self.resource(type='计数', greaterThan=0)
#isVisible: if not self.hasFlag(id=2) 
addResources: setFlag=2, unsetFlag=0


[action_取消]
text: Cancel
text_zh: 取消
description: Cancel process
description_zh: 取消建造
pos: 1.4
displayType: none
buildSpeed: 0s
autoTrigger: if self.resource(type='ai计时', greaterThan=9) and self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true)
isVisible: if self.resource(type='计数', greaterThan=0)
resourceAmount: 计数
resourceAmount_setValue: 0
alsoTriggerAction: ai计时2, 重置返回资金
addResourcesWithLogic: 资金=memory.返还资金


[action_建1]
@define number: 2
@define number2: 0
@define money: 800
@define name: 盟军发电厂
buildSpeed: 8s

textAddUnitName: ${name}
descriptionAddFromUnit: ${name}
descriptionAddUnitStats: ${name}
displayType: none
pos: ${number}
price: 资金=${money}
setUnitMemory: 返还资金=${money}
switchPriceWithStreamingCost: true
addResources: 计数=${number-1}
isActive:  if not self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='入侵计时', empty=true) and not self.tags(includes='禁止攻击')
isVisible: if not self.resource(type='计数', equalTo=${number-1}) and self.hasFlag(id=${number2})
unitShownInUI: ${name}
#ai_isHighPriority: true
ai_considerSameAsBuilding: ${name}
#whenBuilding_playAnimation: 建造中
#alsoQueueAction: 建造完成, 建造完成2, 建造完成3
alsoTriggerAction: 建造完成, 建造完成2, 建造完成3


[action_建2]
@copyFromSection: action_建1
@define number: 3
@define money: 2000
@define name: 盟军矿厂
buildSpeed: 14s
isLocked: if self.noUnitInTeam(withTag='盟军发电厂', incompleteBuildings=true)
isLockedMessage: Require Allied Power Plant
isLockedMessage_zh: 解锁条件: 盟军发电厂


[action_建3]
@copyFromSection: action_建1
@define number: 4
#@define number2: 1
@define money: 500
@define name: 盟军兵营
buildSpeed: 5s
isLocked: if self.noUnitInTeam(withTag='盟军发电厂', incompleteBuildings=true)
isLockedMessage: Require Allied Power Plant
isLockedMessage_zh: 解锁条件: 盟军发电厂


[action_建4]
@copyFromSection: action_建3
@define number: 5
@define money: 2000
@define name: 盟军战争工厂
buildSpeed: 20s
isLocked: if self.noUnitInTeam(withTag='盟军兵营', incompleteBuildings=true)
isLockedMessage: Require Allied Barracks
isLockedMessage_zh: 解锁条件: 盟军兵营


[action_建5]
@copyFromSection: action_建4
@define number: 6
@define money: 1500
@define name: 盟军机场
buildSpeed: 14s
isLocked: if self.noUnitInTeam(withTag='盟军矿厂', incompleteBuildings=true)
isLockedMessage: Require Allied Ore Refinery
isLockedMessage_zh: 解锁条件: 盟军矿厂
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建6]
@copyFromSection: action_建4
@define number: 7
@define money: 1200
@define name: 盟军船坞
buildSpeed: 15s
isActive:  if not self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='入侵计时', empty=true) and not self.tags(includes='禁止攻击') and not self.globalTeamTags(includes='禁止生产海军')


[action_建7]
@copyFromSection: action_建1
@define number: 8
@define money: 4000
@define name: 科技中心
buildSpeed: 30s
isLocked: if self.noUnitInTeam(withTag='控制中心', incompleteBuildings=true)
isLockedMessage: Require Robot Control Center
isLockedMessage_zh: 解锁条件: 控制中心
isActive:  if not self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='入侵计时', empty=true) and ((self.resource(type='Ai智商', greaterThan=70) and self.isControlledByAI()) or not self.isControlledByAI())
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制2')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建8]
@copyFromSection: action_建1
@define number: 9
@define money: 2000
@define name: 矿石精炼器
buildSpeed: 30s
isLocked: if self.noUnitInTeam(withTag='科技中心', incompleteBuildings=true)
isLockedMessage: Require Allied Tech Center
isLockedMessage_zh: 解锁条件: 科技中心
isLockedAlt: if self.hasUnitInTeam(withTag='矿石精炼器', factoryQueue=true)
isLockedAltMessage: Allied Ore Purifier can only have one at a time!
isLockedAltMessage_zh: 矿石精炼器同时只能有一个!
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制2')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建9]
@copyFromSection: action_建1
@define number: 10
@define money: 900
@define name: 盟军维修平台
buildSpeed: 12s
isLocked: if self.noUnitInTeam(withTag='盟军战争工厂', incompleteBuildings=true)
isLockedMessage: Require Allied War Factory
isLockedMessage_zh: 解锁条件: 盟军战争工厂
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建10]
@copyFromSection: action_建1
@define number: 11
@define number2: 2
@define money: 400
@define name: 机枪碉堡
buildSpeed: 4s
isActive:  if not self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='入侵计时', empty=true) and self.noUnitInTeam(withTag='禁止基地建造防御') and not self.tags(includes='禁止攻击')
isLocked: if self.noUnitInTeam(withTag='盟军兵营', incompleteBuildings=true)
isLockedMessage: Require Allied Barracks
isLockedMessage_zh: 解锁条件: 盟军兵营


[action_建11]
@copyFromSection: action_建1
@define number: 12
@define money: 1200
@define name: 控制中心
buildSpeed: 12s
isLocked: if self.noUnitInTeam(withTag='盟军矿厂', incompleteBuildings=true)
isLockedMessage: Require Allied Ore Refinery
isLockedMessage_zh: 解锁条件: 盟军矿厂
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建12]
@copyFromSection: action_建10
@define number: 13
@define money: 800
@define name: 爱国者导弹
buildSpeed: 10s


[action_建13]
@copyFromSection: action_建10
@define number: 14
@define money: 1200
@define name: 光棱塔
buildSpeed: 10s
isLocked: if self.noUnitInTeam(withTag='盟军机场', incompleteBuildings=true)
isLockedMessage: Require Allied Airfield
isLockedMessage_zh: 解锁条件: 盟军机场
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制2')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建14]
@copyFromSection: action_建10
@define number: 15
@define money: 1800
@define name: 巨炮
buildSpeed: 18s
isLocked: if self.noUnitInTeam(withTag='控制中心', incompleteBuildings=true)
isLockedMessage: Require Robot Control Center
isLockedMessage_zh: 解锁条件: 控制中心
isVisible: if not self.resource(type='计数', equalTo=${number-1}) and self.hasFlag(id=${number2}) and self.globalTeamTags(includes="法国") and not self.globalTeamTags(includes="三级限制")
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制2')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建15]
@copyFromSection: action_建1
@define number: 16
@define money: 800
@define name: 卫星中心
buildSpeed: 8s
isLocked: if self.noUnitInTeam(withTag='科技中心', incompleteBuildings=true)
isLockedMessage: Require Allied Tech Center
isLockedMessage_zh: 解锁条件: 科技中心
isLockedAlt: if self.hasUnitInTeam(withTag='卫星中心', factoryQueue=true)
isLockedAltMessage: Satellite Center can only have one at a time!
isLockedAltMessage_zh: 卫星中心同时只能有一个!


[action_建16]
@copyFromSection: action_建10
@define number: 17
@define money: 3000
@define name: 超时空传送仪
buildSpeed: 20s
isLocked: if self.noUnitInTeam(withTag='科技中心', incompleteBuildings=true)
isLockedMessage: Require Allied Tech Center
isLockedMessage_zh: 解锁条件: 科技中心
isLockedAlt: if self.hasUnitInTeam(withTag='超时空传送仪', factoryQueue=true)
isLockedAltMessage: Allied Chronosphere can only have one at a time!
isLockedAltMessage_zh: 超时空传送仪同时只能有一个!


[action_建17]
@copyFromSection: action_建10
@define number: 18
@define money: 5000
@define name: 天气控制器
buildSpeed: 50s
isLocked: if self.noUnitInTeam(withTag='科技中心', incompleteBuildings=true)
isLockedMessage: Require Allied Tech Center
isLockedMessage_zh: 解锁条件: 科技中心
isLockedAlt: if self.hasUnitInTeam(withTag='天气控制器', factoryQueue=true) and not self.globalTeamTags(includes='无限超武')
isLockedAltMessage: Allied Weather Controller can only have one at a time!
isLockedAltMessage_zh: 天气控制器同时只能有一个!


[hiddenAction_自动部署]
autoTrigger: if self.lastConverted(withinSeconds=1) and not self.tags(includes='无电力')
autoTriggerOnEvent: created
playSoundAtUnit: ROOT:\音频\语音+音效\uplace.wav:2
playAnimation: jianzao


[hiddenAction_Ai战机守护]
autoTrigger: if self.isControlledByAI() and self.globalTeamTags(includes='战机守护Ai2') and (numberOfUnitsInEnemyTeam(greaterThan=4, withinRange=500) or (self.hasTakenDamage(withinSeconds=1) and not self.hp(full=true)))
removeGlobalTeamTags: 战机守护Ai2
#showMessageToAllPlayers: 发现敌人


[hiddenAction_Ai分基地限制]
requireConditional: if self.isControlledByAI() and self.hasUnitInTeam(withTag='基地')
autoTriggerOnEvent: created
addResources: setFlag=3
#showMessageToAllPlayers: 触发


[hiddenAction_Ai分基地限制2]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInTeam(withTag='基地', equalTo=1) and self.hasFlag(id=3)
addResources: unsetFlag=3
#showMessageToAllPlayers: 触发2


[hiddenAction_禁止节点建造防御]
autoTrigger: if self.hasFlag(id=2) and not self.queueSize(empty=true) and not self.tags(includes='禁止节点建造防御')
temporarilyAddTags: 禁止节点建造防御
#showMessageToAllPlayers: 禁止节点建造防御


[hiddenAction_禁止节点建造防御2]
autoTrigger: if self.tags(includes='禁止节点建造防御') and self.queueSize(empty=true)
temporarilyRemoveTags: 禁止节点建造防御
#showMessageToAllPlayers: 禁止节点建造防御2


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=60, offsetRandomY=60), 盟军工程师(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=60, offsetRandomY=60), 苏联工程师(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=60, offsetRandomY=60), 尤里工程师(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_ai设置]
autoTrigger: if self.isControlledByAI() and (not self.hasFlag(id=0) or not self.hasFlag(id=1) or not self.hasFlag(id=2))
addResources: setFlag=0, setFlag=2


[hiddenAction_ai计时]
autoTrigger: if self.isControlledByAI() and self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true)
addResources: ai计时=1
#showMessageToAllPlayers: 1
#存在未知bug


[hiddenAction_ai计时2]
autoTrigger: if self.resource(type='ai计时', lessThan=0)
#showMessageToAllPlayers: 2
resourceAmount: ai计时
resourceAmount_setValue: 0


[hiddenAction_ai建造-船坞]
spawnUnits: 盟军船坞引子-Ai
#showMessageToAllPlayers: 产生引子
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='盟军发电厂') and self.hasUnitInTeam(withTag='盟军矿厂') and not self.hasUnitInTeam(withTag='盟军船坞引子') and numberOfUnitsInTeam(withTag='船坞', lessThan=2, withinRange=650)


[hiddenAction_ai建造-电厂]
spawnUnits: 盟军发电厂(addResources=资金:-800, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 触发
autoTrigger: if self.isControlledByAI() and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=800) and not self.resource(type="电力", greaterThan=0) and numberOfUnitsInTeam(withTag='盟军发电厂', lessThan=14, withinRange=500)
resetCustomTimer: true


[hiddenAction_ai建造-光棱塔]
spawnUnits: 光棱塔(addResources=资金:-1000, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 建造定点炮塔
#spawnChance: 0.5
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='盟军机场') and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=1000) and numberOfUnitsInTeam(withTag='光棱塔', lessThan=6, withinRange=500) and not self.hasUnitInTeam(withTag='科技限制2')
resetCustomTimer: true


[hiddenAction_ai建造-爱国者导弹]
spawnUnits: 爱国者导弹建造(addResources=资金:-800, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 建造爱国者导弹
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='盟军兵营') and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=800) and numberOfUnitsInTeam(withTag='爱国者导弹', lessThan=6, withinRange=500) and self.resource(type="电力",greaterThan=50)
resetCustomTimer: true


[hiddenAction_ai建造-巨炮]
spawnUnits: 巨炮建造(addResources=资金:-1800, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 建造巨炮
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='科技中心') and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=1800) and numberOfUnitsInTeam(withTag='巨炮', lessThan=3, withinRange=500) and self.globalTeamTags(includes="法国")
resetCustomTimer: true


[hiddenAction_ai建造-超时空传送仪]
spawnUnits: 超时空传送仪(addResources=资金:-3000, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 超时空传送仪
autoTrigger: if self.isControlledByAI() and self.timeAlive(laterThanSeconds=600) and self.hasUnitInTeam(withTag='科技中心') and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=3000) and self.noUnitInTeam(withTag='超时空传送仪') and not self.hasFlag(id=3) and game.nukesEnabled()
resetCustomTimer: true


[hiddenAction_ai建造-天气控制器]
spawnUnits: 天气控制器(addResources=资金:-5000, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 天气控制器
autoTrigger: if self.isControlledByAI() and self.timeAlive(laterThanSeconds=600) and self.hasUnitInTeam(withTag='科技中心') and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=5000) and self.noUnitInTeam(withTag='天气控制器') and not self.hasFlag(id=3) and game.nukesEnabled()
resetCustomTimer: true


#[animation_静止动画]
#onActions: idle
#body_0s: {frame:0}


[hiddenAction_建造完成]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof048.wav:2
playAnimation: 建造中


[hiddenAction_建造完成2]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva048.wav:2
playAnimation: 建造中


[hiddenAction_建造完成3]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur048.wav:2
playAnimation: 建造中


[hiddenAction_初始价值]
addResources: 价值=400


[hiddenAction_初始价值修正]
autoTrigger: if not self.resource(type='价值', equalTo=400)
setResourcesWithLogic: 价值=400


[hiddenAction_重置返回资金]
autoTrigger: if not self.resource(type='计数', greaterThan=0) and memory.返还资金!=0
setUnitMemory: 返还资金=0
#showMessageToAllPlayers: 1


[hiddenAction_遭受攻击]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='基地受击')
temporarilyAddTags: 基地受击


[hiddenAction_遭受攻击2]
autoTrigger: if not self.hasTakenDamage(withinSeconds=1) and self.tags(includes='基地受击')
temporarilyRemoveTags: 基地受击


[animation_建造中]
body_0s: {frame:14}
body_1s: {frame:24}


[animation_jianzao]
body_0s: {frame:0}
body_1s: {frame:14}


[animation_取消部署]
body_0s: {frame:14}
body_1s: {frame:0}


[effect_土坑2]
xOffsetRelativeRandom: 80
yOffsetRelativeRandom: 80


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[resource_计数]
displayName: 计数


[resource_ai计时]
displayName: ai计时


[template_zijin]
price: 1500
@global dianli: 40


[ai]
#buildPriority:100
useAsBuilder: true
#maxEachBase:1
#noneInBaseExtraPriority: 0.7

upgradedFrom: 盟军基地车

noneGlobalExtraPriority: 0.8
maxGlobal: 3
#ai_upgradePriority: 0.06

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–支持/控制中心.ini
================================================================================


[core]
name: 控制中心
price: 0
maxHp: 800
mass: 50000
radius: 20

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条4.xxhq
tags: 原始护甲, 建筑, 占领, 可入侵, 控制中心, 盟军二级科技, 建筑轻甲, 带扩展建筑
displayText: Robot Control Center
displayText_zh: 控制中心
displayDescription: Unlock Technology\nPower: -100
displayDescription_zh: 解锁科技\n电力占用：100
borrowResourcesWhileAlive: 电力=100
footprint: -2,0,2,2
constructionFootprint: -2,0,2,2
isBuilding: true
techLevel: 2
buildSpeed: 0
selfBuildRate: 1s
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\控制中心图标.png
image:        控制中心.png

default_frame: 10
total_frames: 20
imageScale: 1.02
image_offsetX: -10
image_offsetY: -15
#image_wreak:  NONE
rotate_with_direction:false
animation_idle_start: 10
animation_idle_end: 19
animation_idle_speed: 6
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_停电]
autoTrigger: if (not self.resource(type="电力",greaterThan=0) or self.tags(includes='禁止攻击')) and not self.hasFlag(id=0)
playAnimation: 停电动画
addResources: setFlag=0


[hiddenAction_停电2]
autoTrigger: if self.resource(type="电力",greaterThan=0) and self.hasFlag(id=0) and not self.tags(includes='禁止攻击')
stopLastAnimation: true
addResources: unsetFlag=0


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:10}


[animation_停电动画]
body_0s: {frame:15}
body_99999s: {frame:15}


[effect_土坑2]
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: NONE


[template_zijin]
price: 1200
@global dianli: -200


[ai]
noneInBaseExtraPriority: 0.2
#0.10
#noneGlobalExtraPriority:0.10
maxGlobal: 1

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–支持/盟军基地防御.ini
================================================================================


[core]
name: 盟军基地防御
price: 0
maxHp: 100
mass: 10000
radius: 20

tags: 盟军基地防御
displayText: Ally Construction Yard
displayText_zh: 盟军防御扩展点
displayDescription: Only one defense building can be built at the same time.\nWhen the allied defense expansion point produces buildings, the base will not be able to produce defense buildings.\nOr when the base produces defense buildings, the allied defense expansion points cannot produce buildings.\n  n Moving the Allied defense expansion point will cancel the building that is being produced and return the funds
displayDescription_zh: 建造盟军防御建筑，同时只能有一个，\n当盟军防御扩展点生产建筑时，基地将无法生产防御建筑，\n或者基地生产防御建筑时，盟军防御扩展点也无法生产建筑\n移动盟军防御扩展点时会取消正在生产的建筑并返回资金
isBuilding: true
fogOfWarSightRange: 4
buildSpeed: 0
selfBuildRate: 1s
canRepairBuildings: true
canRepairUnitsOnlyWithTags: 无
nanoRange: 9999
nanoRepairSpeed: 0
canNotBeDirectlyAttacked: true
disableAllUnitCollisions: true
explodeOnDeath:false
showOnMinimapToEnemies: false
@memory 返还资金:float


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 盟军基地防御停电
convertTo_keepCurrentTags: true


[hiddenAction_建造单位音效-苏]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof052.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_建造单位音效-盟]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva052.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_建造单位音效-尤]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur052.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[graphics]
isVisibleToEnemies: false
image:  ROOT:\共享文件\1类\隐藏.png

rotate_with_direction: false
repairEffect: NONE


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:  false
canAttackUnderwaterUnits: false


[movement]
movementType: NONE


[arm_1]
x: 0
y: 0

#hidden: 
spinRate: 2
image_end: ROOT:\共享文件\1类\技能点圈.png
image_end_teamColors: true
drawOverBody: false
#drawUnderAllUnits: false
#endDirOffset: 135


[arm_2]
x: 0
y: 0

spinRate: 0
image_end: ROOT:\共享文件\1类\技能点图标-防御.png
image_end_teamColors: true
drawOverBody: false


[template_放置模板]
@define number: 2
pos: ${number}
#tech: 1
#forceNano: true
isVisible: if self.resource(type='计数', equalTo=${number-1})
addResources: 计数=-${number-1}
isGuiBlinking: true


[canBuild_10]
@copyFromSection: template_放置模板
@define number: 11
name: 机枪碉堡


[canBuild_12]
@copyFromSection: canBuild_10
@define number: 13
name: 爱国者导弹建造


[canBuild_13]
@copyFromSection: canBuild_10
@define number: 14
name: 光棱塔


[canBuild_14]
@copyFromSection: canBuild_10
@define number: 15
name: 巨炮建造


[canBuild_16]
@copyFromSection: canBuild_10
@define number: 17
name: 超时空传送仪
isLocked: if self.hasUnitInTeam(withTag='超时空传送仪', incompleteBuildings=true)
isLockedMessage: Allied Chronosphere can only have one at a time!
isLockedMessage_zh: 超时空传送仪同时只能有一个!


[canBuild_17]
@copyFromSection: canBuild_10
@define number: 18
name: 天气控制器
isLocked: if self.hasUnitInTeam(withTag='天气控制器', incompleteBuildings=true) and not self.globalTeamTags(includes='无限超武')
isLockedMessage: Allied Weather Controller can only have one at a time!
isLockedMessage_zh: 天气控制器同时只能有一个!


[canBuild_18]
name: 盟墙墩
pos: 19
#forceNano: true
price: 资金=50
isGuiBlinking:	true
isVisible: if self.hasUnitInTeam(withTag="盟军兵营")
isLockedAlt2: if self.tags(includes='禁止攻击')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_19]
@copyFromSection: canBuild_18
@define number: 20
name: 盟墙墩2


[canBuild_20]
@copyFromSection: canBuild_18
@define number: 21
name: 盟墙撇


[canBuild_21]
@copyFromSection: canBuild_18
@define number: 22
name: 盟墙那


[action_取消]
text: Cancel
text_zh: 取消
description: Cancel process
description_zh: 取消建造
pos: 1.4
displayType: none
buildSpeed: 0s
#autoTrigger: 
isVisible: if self.resource(type='计数', greaterThan=0)
resourceAmount: 计数
resourceAmount_setValue: 0
addResourcesWithLogic: 资金=memory.返还资金


[template_建造模板]
@define number: 2
@define money: 800
@define name: 盟军发电厂
textAddUnitName: ${name}
descriptionAddFromUnit: ${name}
descriptionAddUnitStats: ${name}
displayType: none
pos: ${number}
price: 资金=${money}
setUnitMemory: 返还资金=${money}
switchPriceWithStreamingCost: true
addResources: 计数=${number-1}
isActive: if not self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='入侵计时', empty=true) and self.noUnitInTeam(withTag='禁止节点建造防御')
isVisible: if not self.resource(type='计数', equalTo=${number-1})
unitShownInUI: ${name}
#ai_isHighPriority: true
#ai_considerSameAsBuilding: ${name}
#alsoQueueAction: 建造完成, 建造完成2, 建造完成3
alsoTriggerAction: 建造完成, 建造完成2, 建造完成3


[action_建10]
@copyFromSection: template_建造模板
@define number: 11
@define money: 400
@define name: 机枪碉堡
buildSpeed: 4s
isLocked: if self.noUnitInTeam(withTag='盟军兵营', incompleteBuildings=true)
isLockedMessage: Require Allied Barracks
isLockedMessage_zh: 解锁条件: 盟军兵营


[action_建12]
@copyFromSection: action_建10
@define number: 13
@define money: 800
@define name: 爱国者导弹
buildSpeed: 10s


[action_建13]
@copyFromSection: action_建10
@define number: 14
@define money: 1200
@define name: 光棱塔
buildSpeed: 10s
isLocked: if self.noUnitInTeam(withTag='盟军机场', incompleteBuildings=true)
isLockedMessage: Require Allied Airfield
isLockedMessage_zh: 解锁条件: 盟军机场


[action_建14]
@copyFromSection: action_建10
@define number: 15
@define money: 1800
@define name: 巨炮
buildSpeed: 18s
isLocked: if self.noUnitInTeam(withTag='控制中心', incompleteBuildings=true)
isLockedMessage: Require Robot Control Center
isLockedMessage_zh: 解锁条件: 控制中心
isVisible: if not self.resource(type='计数', equalTo=${number-1}) and self.globalTeamTags(includes="法国") and not self.globalTeamTags(includes="三级限制")


[action_建16]
@copyFromSection: action_建10
@define number: 17
@define money: 3000
@define name: 超时空传送仪
buildSpeed: 20s
isLocked: if self.noUnitInTeam(withTag='科技中心', incompleteBuildings=true)
isLockedMessage: Require Allied Tech Center
isLockedMessage_zh: 解锁条件: 科技中心
isLockedAlt: if self.hasUnitInTeam(withTag='超时空传送仪', factoryQueue=true)
isLockedAltMessage: Allied Chronosphere can only have one at a time!
isLockedAltMessage_zh: 超时空传送仪同时只能有一个!


[action_建17]
@copyFromSection: action_建10
@define number: 18
@define money: 5000
@define name: 天气控制器
buildSpeed: 50s
isLocked: if self.noUnitInTeam(withTag='科技中心', incompleteBuildings=true)
isLockedMessage: Require Allied Tech Center
isLockedMessage_zh: 解锁条件: 科技中心
isLockedAlt: if self.hasUnitInTeam(withTag='天气控制器', factoryQueue=true) and not self.globalTeamTags(includes='无限超武')
isLockedAltMessage: Allied Weather Controller can only have one at a time!
isLockedAltMessage_zh: 天气控制器同时只能有一个!


[hiddenAction_移位消除]
autoTrigger: if numberOfUnitsInTeam(withTag='盟军基地防御', greaterThan=1, incompleteBuildings=true) and self.noUnitInTeam(withTag='沙盒控制')
addResourcesWithLogic: 资金=memory.返还资金
deleteSelf: true
#showMessageToAllPlayers: 移位消除


[hiddenAction_建造完成]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof048.wav:2


[hiddenAction_建造完成2]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva048.wav:2


[hiddenAction_建造完成3]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur048.wav:2


[hiddenAction_自毁]
autoTrigger: if self.noUnitInTeam() and self.noUnitInTeam(withTag='沙盒控制')
addResources: hp=-1000


[hiddenAction_禁止基地建造防御]
autoTrigger: if not self.queueSize(empty=true) and not self.tags(includes='禁止基地建造防御')
temporarilyAddTags: 禁止基地建造防御
#showMessageToAllPlayers: 禁止基地建造防御


[hiddenAction_禁止基地建造防御2]
autoTrigger: if self.tags(includes='禁止基地建造防御') and self.queueSize(empty=true)
temporarilyRemoveTags: 禁止基地建造防御
#showMessageToAllPlayers: 禁止基地建造防御2


[hiddenAction_开局模式控制]
autoTrigger: if self.globalTeamTags(includes='无基地')
deleteSelf: true


[resource_计数]
displayName: 计数


[resource_入侵计时]
displayName: Timing
displayName_zh: 计时


[ai]
useAsBuilder: false

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–支持/盟军基地防御停电.ini
================================================================================


[core]
name: 盟军基地防御停电
copyFrom: 盟军基地防御.ini
showInEditor: false

nanoFactorySpeed: 0.75


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 盟军基地防御
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–支持/卫星中心.ini
================================================================================


[core]
name: 卫星中心
price: 0
maxHp: 800
mass: 50000
radius: 20


copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条4.xxhq
tags: 原始护甲, 建筑, 占领, 卫星中心, 可入侵, 建筑轻甲
displayText: Satellite Center
displayText_zh: 卫星中心
displayDescription: Power: -100
displayDescription_zh: 电力占用：100\n解锁卫星扫描功能
borrowResourcesWhileAlive: 电力=100
footprint: -2,0,2,2
constructionFootprint: -2,0,2,2
isBuilding: true
techLevel: 1
buildSpeed: 0
selfBuildRate: 1s
fogOfWarSightRange: 20
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁,


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\卫星中心图标.png
image:        卫星中心.png

default_frame: 12
total_frames: 29
imageScale: 1.1
image_offsetX: 8
image_offsetY: -8
#image_wreak:  NONE
animation_idle_start: 13
animation_idle_end: 28
animation_idle_speed: 8
rotate_with_direction:false
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=40, offsetRandomY=40)


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:12}


[effect_电力]
#scaleFrom:2.5
#scaleTo:2.5
xOffsetRelative: -30
yOffsetRelative: 40


[effect_土坑]
yOffsetRelative: -20


[effect_土坑2]
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: NONE


[template_zijin]
price: 800


[ai]
buildPriority: 0.02
noneInBaseExtraPriority: 0.2
recommendedInEachBaseNum: 1
recommendedInEachBasePriorityIfUnmet: 0.1

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–支持/矿石精炼器.ini
================================================================================


[core]
name: 矿石精炼器
price: 0
maxHp: 1100
mass: 50000
radius: 35

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq
tags: 原始护甲, 建筑重甲, 建筑, 可入侵, 加资金, 矿石精炼器, 空下, 带扩展建筑
displayText: Allied Ore Purifier
displayText_zh:  矿石精炼器
displayDescription: Get 25 funds every seconds\nFunds: -3000\nPower: -200\nStop when power is insufficient
displayDescription_zh: 每秒获取25资金\n资金花费：3000\n电力占用：200\n电力不足时停止产能
borrowResourcesWhileAlive: 电力=200
footprint: -3,0,2,2
constructionFootprint: -3,0,2,2
isBuilding: true
techLevel: 2
buildSpeed: 0
selfBuildRate: 1s
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 280


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 280


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\矿石精炼器图标.png
image:        矿石精炼器.png

default_frame: 8
total_frames: 16
imageScale: 1.02
image_offsetX: 0
image_offsetY: -25
#image_wreak:  NONE
rotate_with_direction:false
animation_idle_start: 8
animation_idle_end: 15
animation_idle_speed: 8
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[turret_烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 烟


[projectile_烟]
directDamage: 0
life: 60

invisible: true
trailEffect: CUSTOM:烟
trailEffectRate: 14
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog:true


[hiddenAction_烟]
autoTrigger: if self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击')
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=40, offsetRandomY=40)


[action_转换队伍]
isVisible: false


[hiddenAction_初始价值]
addResources: 价值=60


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[effect_土坑2]
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40


[effect_烟]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #7FFFFFFF
fadeInTime: 11
scaleFrom: 0.5
scaleTo: 2
alpha: 0.75
life: 240
hOffset: 70
hSpeed:0.3
xSpeedAbsolute: -0.2
dirOffsetRandom:180
xOffsetRelative: -3
yOffsetRelative: -23
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 2
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.1
atmospheric:true
shadow:true
fadeOut: true
attachedToUnit: false
drawUnderUnits:false


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 3000
@global dianli: -200


[ai]
noneInBaseExtraPriority: 0.2
#0.10
#noneGlobalExtraPriority:0.10
maxGlobal: 1

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–支持/盟军矿厂.ini
================================================================================


[core]
name: 盟军矿厂
price: 0
maxHp: 1000
mass: 50000
radius: 35

#overrideAndReplace: extractor
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq
tags: 原始护甲, 建筑重甲, 建筑, 矿厂, 占领, 盟军矿厂, 空下, 带扩展建筑
displayText: Allied Ore Refinery
displayText_zh: 盟军矿厂
displayDescription: Processing mineral.\nDeploys a free Chrono Miner when built.\nFunds: -2000\nPower: -40
displayDescription_zh: 主要经济来源\n自带一个矿车\n需要矿车运来矿物获取资金\n资金花费：2000\n电力占用：40
borrowResourcesWhileAlive: 电力=40
fogOfWarSightRange: 6
isBuilding: true
footprint: -6,-2,-2,1
displayFootprint: -6,-2,1,1
constructionFootprint: -6,-2,1,1
buildSpeed: 0
selfBuildRate: 1s
maxTransportingUnits: 1
transportUnitsEachUnitAlwaysUsesSingleSlot: true
transportUnitsRequireTag: 矿车
exit_x:  0
exit_y:  0
exit_dirOffset: 120
exit_moveAwayAmount: 80
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\盟军矿场图标.png
image:        盟军矿厂.png

default_frame: 8
total_frames: 12
imageScale:	1.02
image_offsetX: -60
image_offsetY: -62
animation_idle_start: 8
animation_idle_end: 8
animation_idle_speed: 1
whenBeingBuiltMakeTransparentTill: 0
showTransportBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[turret_烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 烟


[projectile_烟]
directDamage: 0
life: 60

invisible: true
trailEffect: CUSTOM:烟, CUSTOM:烟2
trailEffectRate: 14
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog:true


[attachment_装载]
x: 0
y: 0

canAttack: false
idleDir: 135
lockRotation: true
isUnselectable: false
canBeAttackedAndDamaged: true
addTransportedUnits: true
keepAliveWhenParentDies: true
#deattachIfWantingToMove: true
onParentTeamChangeKeepCurrentTeam: true


#[hiddenAction_测试]
#autoTrigger: if self.resource(type='矿石', greaterThan=0)
#showMessageToAllPlayers: 测试


[hiddenAction_开始]
autoTriggerOnEvent: created
spawnUnits: 盟军矿车
#produceUnits: 盟军矿车


[hiddenAction_拿资源]
autoTrigger: if self.numberOfAttachedUnits(withTag='矿车', greaterThan=0) and not self.tags(includes='禁止攻击')
takeResources: 矿石=1, 矿石2=1
takeResources_includeUnitsInTransport: true
takeResources_directTransferStoppingAtZero: true
#takeResources_triggerActionIfAnyCollected: 转化
takeResources_triggerActionIfNoneCollected: 卸载


[hiddenAction_转化]
autoTrigger: if self.resource(type='矿石', greaterThan=0) and not numberOfUnitsInTeam(withTag='矿石精炼器', greaterThan=0)
convertResource_from: 矿石
convertResource_to: 资金
convertResource_maxAmount: 0.01
convertResource_multiplyAmountBy: 10000
playAnimation: 处理矿
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100


[hiddenAction_转化2]
autoTrigger: if self.resource(type='矿石2', greaterThan=0) and not numberOfUnitsInTeam(withTag='矿石精炼器', greaterThan=0)
convertResource_from: 矿石2
convertResource_to: 资金
convertResource_maxAmount: 0.01
convertResource_multiplyAmountBy: 20000


[hiddenAction_转化3]
autoTrigger: if self.resource(type='矿石', greaterThan=0) and numberOfUnitsInTeam(withTag='矿石精炼器', greaterThan=0)
convertResource_from: 矿石
convertResource_to: 资金
convertResource_maxAmount: 0.01
convertResource_multiplyAmountBy: 12500
playAnimation: 处理矿
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100


[hiddenAction_转化4]
autoTrigger: if self.resource(type='矿石2', greaterThan=0) and numberOfUnitsInTeam(withTag='矿石精炼器', greaterThan=0)
convertResource_from: 矿石2
convertResource_to: 资金
convertResource_maxAmount: 0.01
convertResource_multiplyAmountBy: 25000


[hiddenAction_卸载]
startUnloadingTransport: true


[hiddenAction_矿厂空]
autoTrigger: if self.transportingCount(empty=true) and not self.tags(includes='矿厂空')
temporarilyAddTags: 矿厂空
#showMessageToAllPlayers: 产生矿厂空


[hiddenAction_矿厂空2]
autoTrigger: if not self.transportingCount(empty=true) and self.tags(includes='矿厂空')
temporarilyRemoveTags: 矿厂空
#showMessageToAllPlayers: 取消矿厂空


[hiddenAction_1]
autoTrigger: if self.resource(type='入侵计时', greaterThan=0)
showMessageToPlayer_zh: 系统警告：我方矿厂被敌人入侵，资金减少5000
showMessageToPlayer: System warning: Our Ore Refinery was infiltrated by the enemy, and the funds were reduced by 5000!
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2
addResources: 入侵计时=-1


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_初始价值]
addResources: 价值=80


[action_卖钱]
description: Sell? Return funds: %{int(${template_zijin.price-1550}*(self.hp/self.maxHp))}
description_zh: 卖掉，将获得资金：%{int(${template_zijin.price-1550}*(self.hp/self.maxHp))}


[hiddenAction_卖钱4]
addResourcesWithLogic: 资金=int(${template_zijin.price-1550}*(self.hp/self.maxHp))


[hiddenAction_微资金]
autoTrigger: if self.customTimer(laterThanSeconds=1)
addResources: 资金=5


[hiddenAction_入侵飞碟入侵]
autoTrigger: if self.resource(type='入侵计时2', greaterThan=0)
addResources: 入侵计时2=-1, 资金=-200


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[animation_处理矿]
body_0s: {frame:9}
body_1s: {frame:11}


[effect_烟]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #7FFFFFFF
fadeInTime: 11
scaleFrom: 0.5
scaleTo: 2
alpha: 0.75
life: 240
hOffset: 70
hSpeed:0.3
xSpeedAbsolute: -0.2
dirOffsetRandom:180
xOffsetRelative: -50
yOffsetRelative: 30
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 2
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.1
atmospheric:true
shadow:true
fadeOut: true
attachedToUnit: false
drawUnderUnits:false


[effect_烟2]
@copyFromSection: effect_烟
xOffsetRelative: -90
yOffsetRelative: 10


[effect_电力]
#scaleFrom:2.5
#scaleTo:2.5
xOffsetRelative: -20
yOffsetRelative: 20


[effect_土坑]
xOffsetRelative: -45
yOffsetRelative: 10


[effect_土坑2]
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[resource_矿石]
displayName: 矿石


[resource_矿石2]
displayName: 矿石2


[template_zijin]
price: 2000
@global dianli: -40


[ai]
buildPriority: 0.13
recommendedInEachBaseNum: 2
recommendedInEachBasePriorityIfUnmet: 0.3
noneInBaseExtraPriority:0.5
maxEachBase: 3

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–支持/盟军维修平台.ini
================================================================================


[core]
name: 盟军维修平台
price: 0
maxHp: 750
mass: 20000
radius: 35

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq
tags: 原始护甲, 建筑防甲, 建筑, 维修, 占领, 可入侵, 空下, 带扩展建筑, 盟军维修站
displayText: Allied Service Depot
displayText_zh: 盟军维修平台
displayDescription: Repair and recover vehicles.\nRepair mode can remove Terror Drone attached to vehicles.\nFunds: -900\nPower: -150
displayDescription_zh: 维修和回收载具\n维修模式可清除附着载具的恐怖机器人\n资金花费：900\n电力占用：150
borrowResourcesWhileAlive: 电力=100
footprint: -4,-1,0,0
displayFootprint: -4,-2,2,1
constructionFootprint: -4,-2,2,1
isBuilding: true
buildSpeed: 0
selfBuildRate: 1s
maxTransportingUnits: 1
transportUnitsRequireTag: 装甲
transportUnitsBlockOtherTransports: false
transportUnitsKillOnDeath: false
transportUnitsHealBy: 0.8
transportUnitsEachUnitAlwaysUsesSingleSlot: true
exit_x: 0
exit_y: 0
exit_dirOffset: 116
#exit_moveAwayAmount:100
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7
@memory 保留进度:float
@memory 保留单位:unit


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\盟军维修站图标.png
image:        盟军维修平台.png

drawLayer: bottom
#wreaks/bottom/ground/ground2/top
default_frame: 8
total_frames: 24
imageScale: 1.02
#image_offsetX: 0
image_offsetY: -40
animation_idle_start: 8
animation_idle_end: 8
animation_idle_speed: 1
whenBeingBuiltMakeTransparentTill: 0
showTransportBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[attachment_1]
x: 0
y: 0

canAttack: true
isUnselectable: false
#idleDir: 180
#lockRotation: true
keepAliveWhenParentDies: true
canBeAttackedAndDamaged: true
addTransportedUnits: true
unloadInCurrentPosition: true
deattachIfWantingToMove:true


[hiddenAction_冷冻卸载]
autoTrigger: if self.tags(includes='禁止攻击') and not self.transportingCount(empty=true)
startUnloadingTransport: true


[hiddenAction_1]
autoTrigger: if not self.transportingCount(empty=true) and not self.tags(includes='改装') and not self.hasFlag(id=0) and self.resource(type="电力",greaterThan=0) and self.queueSize(empty=true) and self.resource(type='入侵计时', empty=true)
alsoQueueAction: 2
#showMessageToAllPlayers: 触发排列1


[hiddenAction_2]
buildSpeed: 1s
#requireConditional: 
#allowMultipleInQueue: false
whenBuilding_playAnimation: 开始
addResources: setFlag=0
#showMessageToAllPlayers: 触发排列2
alsoQueueAction: 4


[hiddenAction_3]
autoTrigger: if self.customTimer(laterThanSeconds=2) and self.hasFlag(id=0) and not self.transportingCount(empty=true) and self.resource(type='入侵计时', empty=true)
resetCustomTimer: true
alsoQueueAction: 4
alsoTriggerAction: 8


[hiddenAction_4]
buildSpeed: 2s
#allowMultipleInQueue: false
whenBuilding_playAnimation: 进行
whenBuilding_triggerAction: 效果


[hiddenAction_5]
autoTrigger: if self.transportingCount(empty=true) and self.hasFlag(id=0)
addResources: unsetFlag=0
#showMessageToAllPlayers: 触发排列3
alsoQueueAction: 6


[hiddenAction_6]
buildSpeed: 1s
#allowMultipleInQueue: false
whenBuilding_playAnimation: 结束


[hiddenAction_7]
autoTrigger: if not self.transportingCount(empty=true) and not self.tags(includes='改装') and (not self.resource(type="电力",greaterThan=0) or not self.resource(type='入侵计时', empty=true))
startUnloadingTransport: true


[hiddenAction_8]
autoTrigger: if self.transportingUnitWithTags(includes='禁入') and not self.tags(includes='清除') and self.resource(type="电力",greaterThan=0)
temporarilyAddTags: 清除
#showMessageToAllPlayers: 清清1


[hiddenAction_9]
autoTrigger: if not self.transportingUnitWithTags(includes='禁入') and self.tags(includes='清除')
temporarilyRemoveTags: 清除


[hiddenAction_效果]
autoTrigger: if not self.transportingCount(empty=true) and self.tags(includes='改装') and not self.queueSize(empty=true) and self.resource(type="电力",greaterThan=0) and self.resource(type='入侵计时', empty=true) and self.customTimer(laterThanSeconds=2)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vifvrepa.wav:2
spawnEffects: CUSTOM:修理, CUSTOM:闪光2, CUSTOM:闪光


[action_10]
text: Repair
text_zh: 维修模式
description: Only repair damaged vehicles.
description_zh: 只能维修受损载具
buildSpeed: 0s
autoTrigger: if ((not self.resource(type='电力', greaterThan=0) and not self.tags(includes='改装')) or numberOfUnitsInTeam(withTag='改装', greaterThan=1)) and not self.hasFlag(id=2)
isActive: if not self.hasFlag(id=2) and self.queueSize(empty=true)
addResources: setFlag=2
autoTriggerOnEvent: created
temporarilyRemoveTags: 回收, 改装


[action_11]
text: Recycle
text_zh: 回收模式
description: Recycle the vehicle returns half of the funds and a driver
description_zh: 回收载具，可获得原价一半的资金和一个%{select(self.globalTeamTags(includes='苏联'), '动员兵', '防卫大兵')}(驾驶员)
buildSpeed: 0s
isActive: if not self.tags(includes='回收') and self.resource(type='电力', greaterThan=0) and self.queueSize(empty=true)
addResources: unsetFlag=2
temporarilyAddTags: 回收
temporarilyRemoveTags: 改装


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_初始价值]
addResources: 价值=30, 进度=101


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[animation_开始]
body_0s: {frame:9}
body_1s: {frame:13}
body_1.1s: {frame:13}


[animation_进行]
body_0s: {frame:13}
body_2s: {frame:23}


[animation_结束]
body_0s: {frame:13}
body_1s: {frame:9}
body_1.1s: {frame:9}


[effect_土坑2]
xOffsetRelativeRandom: 50
yOffsetRelativeRandom: 50


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_修理]
image: ROOT:\共享文件\1类\灰.png
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 6
alpha: 1.2
life: 60
hSpeed: 0.6
hOffsetRandom: 0.2
dirOffsetRandom: 180
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 3
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[effect_闪光]
#priority:critical
image: ROOT:\共享文件\1类\闪光.png
color: #FFFFFF
life: 8
scaleFrom: 0.4
scaleTo: 0.5
alpha: 1.5
fadeOut: true
fadeInTime: 2
drawUnderUnits: false
attachedToUnit: false
alwayStartDirAtZero: true
atmospheric: false
#dirOffset: 90
#xOffsetRelative: 0
xOffsetRelativeRandom: 0.6
yOffsetRelativeRandom: 0.6
xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5


[effect_闪光2]
@copyFromSection: effect_闪光
#priority:veryhigh
color: #FFAA00
life: 10
scaleFrom: 1.1
scaleTo: 1.2
alpha: 1
xOffsetRelativeRandom: 1.2
yOffsetRelativeRandom: 1.2
xSpeedAbsoluteRandom: 0.75
ySpeedAbsoluteRandom: 0.75
showInFog: true


[template_zijin]
price: 900
@global dianli: -100


[ai]
buildPriority: 0.2
recommendedInEachBaseNum: 1
recommendedInEachBasePriorityIfUnmet: 0.2
noneInBaseExtraPriority: 0.3
maxEachBase: 1


[resource_进度]
displayName: 进度

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/自行火炮.ini
================================================================================


[core]
name: 自行火炮
price: 资金=1500
maxHp: 440
mass: 1000
radius: 35

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 中级, 装甲, 载具中甲, 碾压, 克建筑, 可空, 空下, 自行火炮, 克生物, 炸飞人
displayText: Howitzer
displayText_zh: 自行火炮
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: Medium\nDamage building: High\nSpecial: Can crush infantry.\nAdditional damage to defensive buildings.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：中\n伤害建筑：高\n特殊：可以碾压步兵\n对防御建筑有额外杀伤
buildSpeed: 15s
transportSlotsNeeded: 4
fogOfWarSightRange: 14
soundOnAttackOrder:  ROOT:\音频\语音+音效\vhowiatta.wav:2, ROOT:\音频\语音+音效\vhowiattb.wav:2, ROOT:\音频\语音+音效\vhowiattc.wav:2, ROOT:\音频\语音+音效\vhowiattd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vhowimova.wav:2, ROOT:\音频\语音+音效\vhowimovb.wav:2, ROOT:\音频\语音+音效\vhowimovc.wav:2, ROOT:\音频\语音+音效\vhowimovd.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vhowisela.wav:2, ROOT:\音频\语音+音效\vhowiselb.wav:2, ROOT:\音频\语音+音效\vhowiselc.wav:2, ROOT:\音频\语音+音效\vhowiseld.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vhowistaa.wav, ROOT:\音频\语音+音效\vhowistab.wav


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\自行火炮图标.png
image:        自行火炮.png

#imageScale:	0.9
total_frames: 1
frame_width: 160
frame_height: 160
image_offsetY: 10
#animation_moving_start: 0
#animation_moving_end: 0
#animation_moving_speed: 6
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 2.5
#maxAttackRange: 150
aimOffsetSpread: 0
shootDelay: 150


[movement]
movementType: LAND

moveSpeed: 1.30
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2.0
turnAcceleration: 1.0


[turret_1]
x: 0
y: 0

barrelY: 70
barrelHeight: 13
limitingRange: 480
limitingMinRange: 150
shoot_flame: CUSTOM:开火
shoot_sound: ROOT:\音频\语音+音效\vhammweaa.wav
shoot_sound_vol: 1
projectile: 1
onShoot_triggerActions: 开火冲击波
recoilOffset: -2
recoilOutTime: 5
recoilReturnTime: 10


[projectile_1]
areaDamage: 125
life: 180

areaRadius: 40
frame: 5
speed: 9
drawSize: 0.95
image: ROOT:\共享文件\1类\炮弹2.png
explodeEffect: CUSTOM:映射3, CUSTOM:爆炸, CUSTOM:开火冲击波
effectOnCreate: CUSTOM:映射2
largeHitEffect: true
hitSound: true
initialUnguidedSpeedHeight: 2
gravity: 0.2
friendlyFire: true
targetGround: true
targetGroundSpread: 20
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.6
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.6
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.4
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.8
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.6
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.8
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.0
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.6
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.6
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=480)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 建筑
addWaypoint_target_nearestUnit_maxRange: 480
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护') and not self.hasActiveWaypoint(type='touchTarget') 
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=215) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=215)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护') and not self.hasActiveWaypoint(type='touchTarget') 
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=45


[hiddenAction_开火冲击波]
spawnEffects: CUSTOM:开火冲击波


[effect_开火]
image: ROOT:\共享文件\1类\开火特效3.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
attachedToUnit:false
hOffset: 0


[effect_开火冲击波]
image: ROOT:\共享文件\1类\冲击波2.png
scaleFrom: 0.9
scaleTo: 0.9
alpha: 0.8
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.80
alwayStartDirAtZero: true
attachedToUnit: false
drawUnderUnits: true
hOffset: -12


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸3.png
alsoPlaySound: ROOT:\音频\语音+音效\vhammgexa.wav:2
life: 240
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
scaleFrom: 1.05
scaleTo: 1.05
#alpha: 0.85
fadeOut: false
fadeInTime: 0
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
@copyFromSection: effect_映射
scaleFrom:0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false


[template_zijin]
price: 1500

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/步兵战车炮塔.ini
================================================================================


[core]
name: 步兵战车炮塔
price: 0
maxHp: 250
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 炮塔, 步兵战车炮塔, 克空军, 低级


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='西太') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
image:        步兵战车炮塔.png

total_frames: 1
imageScale:	1.0
image_offsetY: 10
frame_width: 130
frame_height: 130
#image_wreak:  NONE
#animation_moving_start: 0
#animation_moving_end: 0
#animation_moving_speed: 10
#animation_idle_start: 0
#animation_idle_end: 0
#animation_idle_speed: 10
#animation_attack_start: 0
#animation_attack_end: 0
#animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize:0
turretTurnSpeed: 6
#maxAttackRange: 150
shootDelay: ${int(44*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 4
turnAcceleration: 4


[turret_1]
x: 0
y: 0

barrelX: 8
barrelY: 15
barrelHeight: 15
limitingRange: 240
shoot_flame: CUSTOM:映射, CUSTOM:开火
shoot_sound: ROOT:\音频\语音+音效\vifvatta.wav
shoot_sound_vol: 2.0
shoot_light:#FFFFFFFF
canAttackFlyingUnits: false
canAttackLandUnits:  if not self.hasParent(withTag='禁止攻击')
projectile: 1


[turret_2]
x: 0
y: 0

copyFrom: 1
barrelX: -8
linkDelayWithTurret: 1
attachedTo:  1
slave: true
warmup: 15


[turret_3]
x: 0
y: 0

copyFrom:1
limitingRange: 360
canAttackFlyingUnits: if not self.hasParent(withTag='禁止攻击')
canAttackLandUnits: false
projectile: 1


[turret_4]
x: 0
y: 0

copyFrom: 3
barrelX: -8
linkDelayWithTurret: 3
attachedTo:  3
slave: true
warmup: 15


[projectile_1]
spawnProjectilesOnEndOfLife: 1-2
spawnProjectilesOnExplode: 1-2
#directDamage: 50
areaDamage: 0
life: 35

areaRadius: 10
frame: 4
speed: 0
targetSpeed: 3
drawSize: 0.8
explodeOnEndOfLife:true
ballistic: true
ballistic_delaymove_height: 20
ballistic_height: 70
trailEffect:CUSTOM:尾烟*1
trailEffectRate: 1.0
explodeEffect: NONE


[projectile_1-2]
#directDamage: 50
areaDamage: 25
life: 240

areaRadius: 30
frame: 4
speed: 3
targetSpeed: 8
drawSize: 0.8
friendlyFire: true
explodeOnEndOfLife:true
autoTargetingOnDeadTarget:true
trailEffect: CUSTOM:尾烟*1
trailEffectRate: 1.2
delayedStartTimer: 0
effectOnCreate: CUSTOM:映射2
explodeEffect: CUSTOM:映射3, CUSTOM:弹火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.4
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.8
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.6
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.6
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.6
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.4


[hiddenAction_武器2]
@define number: 2
@define name: 入炮
autoTrigger: if not self.tags(includes='步兵战车炮塔${number}') and parent.transportingUnitWithTags(includes='${name}')
convertTo: 步兵战车炮塔${number}
#convertTo_keepCurrentTags: true
playSoundAtUnit: ROOT:\音频\语音+音效\vifvtran.wav:2
#showMessageToAllPlayers: 武器${number}


[hiddenAction_武器3]
@copyFromSection: hiddenAction_武器2
@define number: 3
@define name: 入枪


[hiddenAction_武器4]
@copyFromSection: hiddenAction_武器2
@define number: 4
@define name: 工程师


[hiddenAction_武器5]
@copyFromSection: hiddenAction_武器2
@define number: 5
@define name: 入枪2


[hiddenAction_武器6]
@copyFromSection: hiddenAction_武器2
@define number: 6
@define name: 光棱兵


[hiddenAction_武器7]
@copyFromSection: hiddenAction_武器2
@define number: 7
@define name: 狙击手


[hiddenAction_武器8]
@copyFromSection: hiddenAction_武器2
@define number: 8
@define name: 榴弹类


[hiddenAction_Ai攻击空军]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=300)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 空军
addWaypoint_target_nearestUnit_maxRange: 300
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=30


[effect_开火]
image: ROOT:\共享文件\1类\开火特效3.png
scaleFrom: 0.8
scaleTo: 0.8
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
attachedToUnit:false


[effect_弹火]
image: ROOT:\共享文件\1类\爆炸.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpifva.wav:2, ROOT:\音频\语音+音效\gexpifvb.wav:2, ROOT:\音频\语音+音效\gexpifvc.wav:2
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.3
alwayStartDirAtZero:true
attachedToUnit:false


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟.png
life: 25
fadeOut:true
attachedToUnit:false
color:#FFFFFF
fadeInTime:3
scaleFrom:2.5
scaleTo:2.5
alpha:0.8
drawUnderUnits:false
atmospheric:true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
image: ROOT:\共享文件\1类\映射.png
life: 30
scaleFrom: 0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
#scaleTo: 0.8
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/光棱坦克.ini
================================================================================


[core]
name: 光棱坦克
price: 资金=1500
maxHp: 280
mass: 8500
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
#overrideAndReplace: laserTank
tags: 原始护甲, 装甲, 载具中甲, 碾压, 克生物, 克建筑, 可空, 空下, 光棱坦克
displayText: Prism Tank
displayText_zh: 光棱坦克
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Medium\nDamage building: High\nSpecial: Can crush infantry.\nFull level can emit colored beams.\nThe light beam refracts non-building units.\nCannot attack while moving
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：中\n伤害建筑：高\n特殊：满级发射彩色散光(散光会溅射到周围的敌人，但对建筑无效)\n可以碾压步兵
buildSpeed: 15s
fogOfWarSightRange: 14
transportSlotsNeeded: 4
soundOnAttackOrder:  ROOT:\音频\语音+音效\vpriata.wav:2, ROOT:\音频\语音+音效\vpriatb.wav:2, ROOT:\音频\语音+音效\vpriatc.wav:2, ROOT:\音频\语音+音效\vpriatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vprimoa.wav:2, ROOT:\音频\语音+音效\vprimob.wav:2, ROOT:\音频\语音+音效\vprimoc.wav:2, ROOT:\音频\语音+音效\vprimod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vprisea.wav:2, ROOT:\音频\语音+音效\vpriseb.wav:2, ROOT:\音频\语音+音效\vprisec.wav:2, ROOT:\音频\语音+音效\vprised.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vpristaa.wav:1.2, ROOT:\音频\语音+音效\vpristab.wav:1.2, ROOT:\音频\语音+音效\vpristac.wav:1.2


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\光棱坦克图标.png
image:        光棱坦克.png

total_frames: 1
imageScale:	1.0
frame_width: 120
frame_height: 120
#image_offsetX: -5
image_offsetY: 10
dustEffect: true
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false

canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 1.00
moveAccelerationSpeed: 0.015
moveDecelerationSpeed: 0.025
maxTurnSpeed: 2.0
turnAcceleration: 0.5


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 450
#400
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 光棱炮塔
resetRotationWhenNotAttacking: true


[hiddenAction_Ai自动碾压] 
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='被碾压', greaterThan=0, withinRange=100) and not numberOfUnitsInEnemyTeam(withTag='克装甲', greaterThan=1, withinRange=160) and self.hp(greaterThan=100) and not self.hasActiveWaypoint(type='touchTarget') and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='attack')


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=415) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=415) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=415) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=415)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避2
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=50


[template_zijin]
price: 1500

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/盟军基地车（西太）.ini
================================================================================


[core]
name: 西太基地车
copyFrom: 盟军基地车.ini
showInEditor: false

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/遥控坦克.ini
================================================================================


[core]
name: 遥控坦克
price: 资金=700
maxHp: 300
mass: 5000
radius: 20

#overrideAndReplace: experimentalSpider, combatEngineer, experimentalHoverTank, heavyHoverTank, hoverTank
copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 中甲, 装甲, 载具轻甲, 两栖, 克建筑, 可空, 空下, 免疫心控, 免辐射, 反隐形, 反伪装, 反潜, 可进入坦克碉堡, 无法狂暴, 免疫迷幻, 不可劫持, 辐射减伤
displayText: Robot Tank
displayText_zh: 遥控坦克
displayDescription: Target: Ground unit\nDamage creature: Low\nDamage armor: Medium\nDamage building: High\nSpecial: Can float across the sea.\nAnti stealth and anti camouflage
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：低\n伤害装甲：中\n伤害建筑：高\n特殊：可悬浮过海\n反伪装反隐形
displayRadius: 20
buildSpeed: 8s
fogOfWarSightRange: 12
transportSlotsNeeded: 3
soundOnAttackOrder:  ROOT:\音频\语音+音效\vrobatca.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vrobmova.wav:2, ROOT:\音频\语音+音效\vrobmovb.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vrobsela.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vrobdiea.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vrobstaa.wav:1.5, ROOT:\音频\语音+音效\vrobstab.wav:1.5, ROOT:\音频\语音+音效\vrobstac.wav:1.5


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\遥控坦克图标.png
image:        遥控坦克.png

total_frames: 1
image_offsetY: 10
frame_width: 80
frame_height: 80
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX: 0
shadowOffsetY: 15
#image_wreak:  NONE
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 12
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


[movement]
movementType: HOVER

moveSpeed: 2.6
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 6
turnAcceleration: 3
targetHeight: 3
targetHeightDrift: 1.5
moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir: 180


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 180
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 遥控坦克炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=20


[template_zijin]
price: 700

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/步兵战车.ini
================================================================================


[core]
name: 步兵战车
price: 资金=600
maxHp: 320
mass: 4000
radius: 20

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
#overrideAndReplace: missileTank
tags: 原始护甲, 装甲, 载具轻甲, 小型, 克空军, 可空, 空下, 步兵战车, 可进入坦克碉堡
displayText: I.F.V.
displayText_zh: 多功能步兵战车
displayDescription: Target: Ground unit/Air unit\nDamage creature: Medium\nDamage armor: Medium\nDamage air: High\nDamage building: Medium\nSpecial: Can crush infantry.\nBelonging to a small vehicle.\nSwitches attack weapons according to the type of unit loaded.\nWeapon 1: Surface-to-air missile. Is the default weapon.\nWeapon 2: Anti-infantry machine gun.\nWeapon 3: Anti-infantry machine gun 2.\nWeapon 4: Surface-to-air missile2.\nWeapon 5: Prism turret.\nWeapon 6: Sniper turret.\nWeapon 7: Laser Cannon.\nWeapon 8: Repairer arm, can remove the Terror Drone attached to the vehicle.
displayDescription_zh: 攻击目标：地面单位/海面单位/空中单位\n伤害生物：中\n伤害装甲：中\n伤害建筑：中\n伤害空军：高\n特殊：根据装载的单位类型切换攻击武器\n共有8种武器(对地对空导弹\对地对空导弹2\对地反步兵机枪\对地反步兵机枪2\光棱炮塔\狙击炮塔\激光炮\维修器臂)，\n其中装有维修器臂时可以去除附着载具的恐怖机器人\n可以碾压步兵
buildSpeed: 5s
fogOfWarSightRange: 14
transportSlotsNeeded: 3
maxTransportingUnits: 1
transportUnitsRequireTag: 入枪, 入炮, 入常, 工程师, 入枪2, 光棱兵, 狙击手, 谭雅, 榴弹类
transportUnitsKillOnDeath: false
transportUnitsBlockOtherTransports: false
effectOnDeath: CUSTOM:死亡, CUSTOM:炸毁, CUSTOM:轮子*3
soundOnAttackOrder:  ROOT:\音频\语音+音效\vifvata.wav:2, ROOT:\音频\语音+音效\vifvatb.wav:2, ROOT:\音频\语音+音效\vifvatc.wav:2, ROOT:\音频\语音+音效\vifvatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vifvmoa.wav:2, ROOT:\音频\语音+音效\vifvmob.wav:2, ROOT:\音频\语音+音效\vifvmoc.wav:2, ROOT:\音频\语音+音效\vifvmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vifvsea.wav:2, ROOT:\音频\语音+音效\vifvseb.wav:2, ROOT:\音频\语音+音效\vifvsec.wav:2, ROOT:\音频\语音+音效\vifvsed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vifvstaa.wav, ROOT:\音频\语音+音效\vifvstab.wav, ROOT:\音频\语音+音效\vifvstac.wav


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\步兵战车图标.png
image:        步兵战车.png

drawLayer: ground
#underwater/wreaks/bottom/ground/ground2/top/air
total_frames: 1
imageScale:	1.0
image_offsetY: 10
frame_width: 130
frame_height: 130
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 2.4
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.022
maxTurnSpeed: 3.0
turnAcceleration: 1.5
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 330
resourceUsage: ammo=1
canAttackLandUnits: false


[turret_2]
x: 0
y: 0

delay: 999
limitingRange: 195
canAttackFlyingUnits: false
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
resetRotationWhenNotAttacking: true
onCreateSpawnUnitOf: 步兵战车炮塔
idleDirReversing: 180


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and self.hp(lessThan=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克生物
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and self.hp(lessThan=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂
#showMessageToAllPlayers: 触发6


[hiddenAction_初始价值]
addResources: 价值=30


[effect_轮子]
image: ROOT:\共享文件\1类\轮子.png
total_frames: 4
animateFrameStart: 0
animateFrameEnd: 3
animateFrameSpeed: 0.15
animateFrameLooping: true
scaleFrom:0.6
scaleTo: 0.6
life: 150
hSpeed: 2
hSpeedRandom: 3
dirSpeedRandom: 20
xSpeedAbsoluteRandom: 3
physics: true
fadeInTime: 0
fadeOut: false
#attachedToUnit: true
drawUnderUnits: false
spawnChance: 0.5


[template_zijin]
price: 650


[ai]
#disableUse: true/false
useAsTransport: false
useAsAttacker: true

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/步兵战车炮塔8.ini
================================================================================


[core]
name: 步兵战车炮塔8
price: 0
maxHp: 250
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 炮塔, 步兵战车炮塔8, 克生物, 中级, 炸飞人


[graphics]
image:        步兵战车炮塔8.png

total_frames: 1
imageScale:	1.1
image_offsetY: 12
frame_width: 80
frame_height: 80
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 1
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 1
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits:  false
canAttackLandUnits: if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
maxAttackRange: 210
shootDelay: ${int(8*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 4.0
turnAcceleration: 4.0


[turret_1]
x: 0
y: 16

limitingMinRange: 60
barrelHeight: 16
shoot_sound: ROOT:\音频\语音+音效\irancrue.wav, ROOT:\音频\语音+音效\irancruf.wav
shoot_sound_vol: 2.0
projectile: 1


[projectile_1]
#directDamage: 50
areaDamage: 55
life: 180

areaRadius: 30
frame: 4
speed: 4
targetGround: true
targetGroundSpread: 20
image: ROOT:\共享文件\1类\炮弹2.png
drawSize: 0.7
initialUnguidedSpeedHeight: 1.2
gravity: 0.2
explodeOnEndOfLife:true
#trailEffect: true
delayedStartTimer: 0
trailEffect:CUSTOM:尾烟*1
trailEffectRate: 1.0
explodeEffect: CUSTOM:爆炸, CUSTOM:映射
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.60
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.40
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.20
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.00
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.60
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.80
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.60


[hiddenAction_武器]
autoTrigger: if parent.transportingCount(empty=true) and parent.tags(includes='步兵战车')
convertTo: 步兵战车炮塔
playSoundAtUnit: ROOT:\音频\语音+音效\vifvtran.wav:2
#showMessageToAllPlayers: 武器1


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=40


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸.png
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
life: 90
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.35
scaleFrom: 1.10
scaleTo: 1.10
#alpha: 0.85
fadeOut: false
fadeInTime: 0
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 0.8
scaleTo: 0.2
alpha: 0.4
life: 35
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟.png
life: 25
fadeOut:true
attachedToUnit:false
#color: #FF00AFDB
fadeInTime: 3
scaleFrom: 1.6
scaleTo: 0.8
alpha: 0.8
drawUnderUnits:false
atmospheric:true

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/盟军矿车.ini
================================================================================


[core]
name: 盟军矿车
price: 资金=1400
maxHp: 1100
mass: 8000
radius: 25

copyFrom: ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具中甲, 免疫心控, 矿车, 碾压, 可空, 空下, 不可劫持, 免辐射, 辐射减伤
displayText: Chrono Miner
displayText_zh: 盟军矿车
displayDescription: Special: Collect minerals.\nIt will be transported back to the Ore Refinery immediately when it is full.\n Can crush infantry.\nSelf-healing.
displayDescription_zh: 特殊：回矿时启动超时空传送到矿厂\n碾压步兵\n可自我修复
canReclaimResources: true
canReclaimResourcesOnlyWithTags: 矿石
#canReclaimResourcesNextSearchRange: 500
nanoRangeForReclaim: 0
nanoRangeForReclaimIsMelee: true
buildSpeed: 14s
fogOfWarSightRange: 10
transportSlotsNeeded: 2
selfRegenRate: 0.06
#numBitsOnDeath: 5
soundOnAttackOrder: ROOT:\音频\语音+音效\vchrmoa.wav:2, ROOT:\音频\语音+音效\vchrmob.wav:2, ROOT:\音频\语音+音效\vchrmoc.wav:2, ROOT:\音频\语音+音效\vchrmod.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vchrmoa.wav:2, ROOT:\音频\语音+音效\vchrmob.wav:2, ROOT:\音频\语音+音效\vchrmoc.wav:2, ROOT:\音频\语音+音效\vchrmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vchrsea.wav:2, ROOT:\音频\语音+音效\vchrseb.wav:2, ROOT:\音频\语音+音效\vchrsec.wav:2, ROOT:\音频\语音+音效\vchrsed.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\盟军矿车图标.png
image:        盟军矿车.png

total_frames: 1
imageScale: 1.0
frame_width: 110
frame_height: 110
image_offsetY: 10
#animation_idle_start: 0
#animation_idle_end: 0
#animation_idle_speed: 2
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
reclaimEffect: CUSTOM:回收
reclaimEffectRate: 20
dustEffect: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 1.10
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2.0
turnAcceleration: 0.5


[turret_1]
x: 0
y: 0

limitingRange: 100


[turret_2]
x: 0
y: 0

limitingRange: 9999


[projectile_1]
directDamage: 0
life: 8

beamImage: ROOT:\共享文件\1类\激光源.png 
color: #88FFFFFF
#moveWithParent: true
instant: true
instantReuseLast: true
lightColor: #ff0000
lightSize: 0.5
explodeEffect: NONE
teleportSource: true


[action_脱离]
text: Leave
text_zh: 脱离
buildSpeed:0s
isVisible: if self.hasParent(withTag='矿厂')
disconnectFromParent: true


[action_移动去卸载]
text: Back
text_zh: 卸载
buildSpeed:0
isVisible: if not self.hasParent(withTag='矿厂')
isActive: if self.hasUnitInTeam(withTag='矿厂')
ai_isDisabled: true
addActionCooldownTime: 30s
autoTrigger: if (self.hasResources(矿石=0.05) or (self.hasTakenDamage(withinSeconds=1) and self.isControlledByAI())) and not self.hasParent() and self.hasUnitInTeam(withTag='矿厂') and not self.hasActiveWaypoint(type='loadInto')
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 矿厂空
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_mapMustBeReachable: false
addWaypoint_triggerActionIfFailed: 移动去卸载2
#showMessageToAllPlayers: 移动去卸载1
clearActiveWaypoint: true


[hiddenAction_移动去卸载2]
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 矿厂
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_mapMustBeReachable: false
#showMessageToAllPlayers: 移动去卸载2
clearActiveWaypoint: true


[hiddenAction_传送]
autoTrigger: if self.hasActiveWaypoint(type='loadInto') and activeWaypointTarget.tags(includes='矿厂') and not self.hasUnitInTeam(withTag='矿厂', withinRange=100) and not self.tags(includes='禁止攻击')
fireTurretXAtGround: 2
fireTurretXAtGround_withTarget: activeWaypointTarget
playSoundAtUnit: ROOT:\音频\语音+音效\vchrtele.wav
spawnEffects: CUSTOM:瞬移
#showMessageToAllPlayers: 传送


[hiddenAction_到达卸载]
autoTrigger: if self.hasUnitInTeam(withTag='矿厂空', withinRange=100) and self.resource(type='矿石', greaterThan=0.01) and not self.hasActiveWaypoint(type='reclaim') and not self.hasActiveWaypoint(type='loadInto')
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 矿厂空
addWaypoint_target_nearestUnit_team: own
addWaypoint_triggerActionIfFailed: 清除路线
#showMessageToAllPlayers: 到达卸载
clearActiveWaypoint: true


[hiddenAction_寻找]
autoTriggerOnEvent: created
autoTrigger: if (self.hasUnitInTeam(withTag='矿厂', withinRange=100) or numberOfUnitsInAggressiveTeam(withTag='矿石转', greaterThan=0, withinRange=200)) and not self.hasActiveWaypoint(type='reclaim') and not self.hasActiveWaypoint(type='loadInto') and not self.hasActiveWaypoint(type='move') and self.resource.矿石<0.05 and not self.hasParent() and self.hasUnitInTeam(withTag='矿厂')
addWaypoint_type: reclaim
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 矿石
addWaypoint_target_nearestUnit_team: any
addWaypoint_target_mapMustBeReachable: true
addWaypoint_triggerActionIfFailed: 清除路线
#showMessageToAllPlayers: 寻找矿石


[hiddenAction_清除路线]
autoTrigger: if self.hasActiveWaypoint(type='reclaim') and self.noUnitInTeam(withTag='矿厂')
clearActiveWaypoint: true
#showMessageToAllPlayers: 清除路线


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) and not numberOfUnitsInEnemyTeam(withTag='恐怖机器人', greaterThan=0, withinRange=50) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not numberOfUnitsInEnemyTeam(withTag='恐怖机器人', greaterThan=0, withinRange=50) and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_进入超时空间]
autoTrigger: if (numberOfUnitsInNeutralTeam(withTag='载入传送', greaterThan=0, withinRange=80) or numberOfUnitsInTeam(withTag='载入传送', greaterThan=0, withinRange=80)) and not self.hasParent() and not self.hasActiveWaypoint(type='move') and not self.isAttacking() and not self.isControlledByAI()


[hiddenAction_初始价值]
addResources: 价值=40


[hiddenAction_遭受攻击]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='矿车受击')
temporarilyAddTags: 矿车受击


[hiddenAction_遭受攻击2]
autoTrigger: if not self.hasTakenDamage(withinSeconds=1) and self.tags(includes='矿车受击')
temporarilyRemoveTags: 矿车受击


[animation_卸载]
start: 0
end: 0
speed: 70


[effect_回收]
image: ROOT:\2中立\矿石收.png
scaleFrom: 2
scaleTo: 0
total_frames: 2
animateFrameStart: 0
animateFrameEnd: 1
animateFrameSpeed: 0.2
life: 20
fadeInTime: 0
fadeOut: false
drawUnderUnits:true
alwayStartDirAtZero: true


[effect_瞬移]
image: ROOT:\共享文件\1类\瞬移.png
scaleFrom: 1.6
scaleTo: 1.6
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.2
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[effect_死亡]
scaleFrom: 1.2
scaleTo: 1.2


[resource_矿石]
displayName: 矿石


[template_zijin]
price: 1400


[ai]
#useAsBuilder:false
useAsHarvester:true
#disableUse:true
onlyUseAsHarvester_ifBaseHasUnitTagged: 矿厂
whenUsingAsHarvester_recommendedInEachBase: 2
whenUsingAsHarvester_recommendedGlobal:6

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/遥控坦克炮塔.ini
================================================================================


[core]
name: 遥控坦克炮塔
price: 800
maxHp: 380
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 低级, 炮塔, 遥控坦克炮塔, 反隐形, 反伪装, 免疫迷幻


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='西太') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
image:        遥控坦克炮塔.png

total_frames: 1
image_offsetY: 10
frame_width: 80
frame_height: 80
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 12
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

turretSize: 15
isFixedFiring: true
turretTurnSpeed: 3
maxAttackRange: 180
#150
shootDelay: ${int(32*(1/gameSpeedRate))}
#turretRotateWithBody: false
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: HOVER

moveSpeed: 0
maxTurnSpeed: 5.0
turnAcceleration: 5.0
#targetHeight: 3
#targetHeightDrift: 1.5


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\vrobatta.wav
shoot_sound_vol: 2.0
shoot_light:#FFccCCEE
shoot_flame: CUSTOM:映射
projectile: 1


[projectile_1]
areaDamage: 55
life: 60

areaRadius: 20
image: ROOT:\共享文件\1类\炮弹.png
speed: 8
frame: 5
drawSize: 0.8
effectOnCreate: CUSTOM:映射2
explodeEffect: CUSTOM:映射3, CUSTOM:爆炸
hitSound: true
lightColor: #FFccCCEE
lightSize: 1.2
initialUnguidedSpeedHeight: 2
gravity: 0.18
lightCastOnGround: true
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.6
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.4
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.8
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=180)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 180
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=20


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸19.png
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
image: ROOT:\共享文件\1类\映射.png
life: 30
scaleFrom: 0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
#scaleTo: 0.8
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/幻影坦克炮塔.ini
================================================================================


[core]
name: 幻影坦克炮塔
price: 2000
maxHp:400
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 高级, 炮塔, 幻影坦克炮塔, 烧死人


[graphics]
isVisible: if not self.hasParent(withTag='幻影伪装')
image:        幻影坦克炮塔.png

total_frames: 1
imageScale:	1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 15
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 15
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 20
turretTurnSpeed: 3
#maxAttackRange: 150
shootDelay: 120
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 3.0
turnAcceleration: 3.0


[turret_1]
x: 0
y: 0

barrelY: 38
barrelHeight: 10
limitingRange: 210
limitingMinRange: 40
shoot_flame: CUSTOM:开火
shoot_light: #FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vmiratta.wav
shoot_sound_vol: 1.2


[projectile_1]
directDamage: 135
life: 60

instant: true
explodeEffect: CUSTOM:铁幕光子
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.80
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.60
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.40
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.20
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.40


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=210)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 210
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=55


[effect_铁幕光子]
image: ROOT:\共享文件\1类\铁幕光子.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.30
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_开火]
image: ROOT:\共享文件\1类\开火特效2.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.35
alwayStartDirAtZero:true
attachedToUnit:false



================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/盟军基地车（法国）.ini
================================================================================


[core]
name: 法国基地车
copyFrom: 盟军基地车.ini
showInEditor: false

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/光棱炮塔.ini
================================================================================


[core]
name: 光棱炮塔
price: 2000
maxHp:400
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 高级, 电死人, 炮塔, 光棱炮塔


[graphics]
image:        光棱炮塔.png

total_frames: 1
imageScale:	1.0
frame_width: 100
frame_height: 100
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 15
animation_idle_start: 4
animation_idle_end: 4
animation_idle_speed: 1
animation_attack_start: 0
animation_attack_end: 4
animation_attack_speed: 15
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if parent.isMoving==false and not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

aimOffsetSpread: 0
isFixedFiring: true
turretSize: 8
turretTurnSpeed: 2
#maxAttackRange: 350
shootDelay: ${int(80*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 3.5
turnAcceleration: 3.5


[turret_主炮]
x: 0
y: 0

limitingRange: 450
#400
limitingMinRange: 25
barrelHeight: 20
shoot_light: #FFFAA5D8
shoot_flame: CUSTOM:映射
shoot_sound: ROOT:\音频\语音+音效\vpriatta.wav
shoot_sound_vol: 2.0
projectile: 主炮


[turret_1]
x: 0
y: 0

limitingRange: 450
limitingMinRange: 25
canAttackCondition: if not self.tags(includes='1级') and not self.tags(includes='2级') and not self.tags(includes='3级')
barrelHeight: 20
attachedTo: 主炮
slave: true
projectile: 1


[turret_1级]
x: 0
y: 0

copyFrom: 1
canAttackCondition: if self.tags(includes='1级')
projectile: 1级


[turret_2级]
x: 0
y: 0

copyFrom: 1
canAttackCondition: if self.tags(includes='2级')
projectile: 2级


[turret_3级]
x: 0
y: 0

copyFrom: 1
canAttackCondition: if self.tags(includes='3级')
projectile: 3级


[turret_2]
x: 0
y: 0

limitingRange: 450
#400
limitingMinRange: 25
canAttackCondition: if not self.tags(includes='3级')
barrelHeight: 20
attachedTo: 主炮
slave: true
projectile: 2


[turret_3]
x: 0
y: 0

copyFrom: 2
projectile: 3


[turret_4]
x: 0
y: 0

copyFrom: 2
projectile: 4


[turret_红]
x: 0
y: 0

limitingRange: 450
#400
limitingMinRange: 25
canAttackCondition: if self.tags(includes='3级')
barrelHeight: 20
attachedTo: 主炮
slave: true
projectile: 红


[turret_绿]
x: 0
y: 0

copyFrom: 红
projectile: 绿


[turret_黄]
x: 0
y: 0

copyFrom: 红
projectile: 黄


[projectile_主炮]
areaDamage: 0
life: 0


[projectile_1]
areaDamage: 200
#20
life:10

areaRadius: 20
laserEffect:true
color: #FFFFFFFF
#teamColorRatio: 0.6
lightColor: #FFFAA5D8
lightSize:1.5
explodeEffect: CUSTOM:映射2, CUSTOM:爆炸
instant:true
instantReuseLast: false
moveWithParent: true
spawnUnit: 光散射
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.8
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 2.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 2.0
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 2.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.4


[projectile_2]
directDamage: 0
life: 15

color: #BFFFFFFF
explodeEffect: NONE
laserEffect:true
instant:true
instantReuseLast: false
moveWithParent: true


[projectile_3]
@copyFromSection: projectile_2
directDamage: 0
life: 25

color: #7FFFFFFF


[projectile_4]
@copyFromSection: projectile_2
directDamage: 0
life: 35

color: #40FFFFFF


[projectile_红]
@copyFromSection: projectile_2
directDamage: 0
life: 15

color: #BFFF0000


[projectile_绿]
@copyFromSection: projectile_2
directDamage: 0
life: 25

color: #7F00FF00


[projectile_黄]
@copyFromSection: projectile_2
directDamage: 0
life: 35

color: #40FFFF00


[projectile_1级]
@copyFromSection: projectile_1
areaDamage: 100
life:10

spawnUnit: 光散射2


[projectile_2级]
@copyFromSection: projectile_1
areaDamage: 100
life:10

spawnUnit: 光散射3


[projectile_3级]
@copyFromSection: projectile_1
areaDamage: 125
life:10

spawnUnit: 光散射4


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=450)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 建筑
addWaypoint_target_nearestUnit_maxRange: 450
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=415)
@copyFromSection: hiddenAction_Ai攻击建筑
addWaypoint_target_nearestUnit_tagged: 生物


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=65


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸31.png
#alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 18
animateFrameStart: 0
animateFrameEnd: 17
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1
scaleTo: 1
alpha: 0.2
hOffset: -10
life: 30
drawUnderUnits: true
attachedToUnit: true
alwayStartDirAtZero: true


[effect_映射2]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:0.4
scaleTo: 0.1
alpha: 1
fadeOut: true
drawUnderUnits: false
attachedToUnit: true
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/盟军基地车（英国）.ini
================================================================================


[core]
name: 英国基地车
copyFrom: 盟军基地车.ini
showInEditor: false

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/战斗要塞.ini
================================================================================


[core]
name: 战斗要塞
price: 资金=1400
maxHp: 680
mass: 10000
radius: 35

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\撞击伤害2.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq, ROOT:\共享文件\3类\闲置修复.xxhq
displayText: Battle Tortoise
displayText_zh: 战斗要塞
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: Low\nDamage building: Low\nSpecial: Can crush infantry.\nCan crush small vehicles.\nAllow units in transport to use their own weapons.
displayDescription_zh: 攻击目标：地面单位/海面单位/空中单位\n伤害生物：高\n伤害装甲：低\n伤害建筑：低\n特殊：允许装载的部队使用自己的武器攻击\n碾压步兵\n碾压小型载具
tags: 原始护甲, 高级, 装甲, 载具重甲, 战斗要塞, 碾压, 克生物, 克装甲, 克空军, 入驻部署, 可空, 空下
techLevel: 2
buildSpeed: 14s
maxTransportingUnits: 5
transportUnitsKillOnDeath: false
transportUnitsRequireTag: 生物
transportUnitsBlockOtherTransports: false
transportSlotsNeeded: 4
fogOfWarSightRange: 16
#disableAllUnitCollisions: true
soundOnAttackOrder:  ROOT:\音频\语音+音效\vbatata.wav:2, ROOT:\音频\语音+音效\vbatatb.wav:2, ROOT:\音频\语音+音效\vbatatc.wav:2, ROOT:\音频\语音+音效\vbatatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vbatmoa.wav:2, ROOT:\音频\语音+音效\vbatmob.wav:2, ROOT:\音频\语音+音效\vbatmoc.wav:2, ROOT:\音频\语音+音效\vbatmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vbatsea.wav:2, ROOT:\音频\语音+音效\vbatseb.wav:2, ROOT:\音频\语音+音效\vbatsec.wav:2, ROOT:\音频\语音+音效\vbatsed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vbatstaa.wav:1.2, ROOT:\音频\语音+音效\vbatstab.wav:1.2


[hiddenAction_人机初始兵]
autoTriggerOnEvent: created
requireConditional: if self.isControlledByAI()
addUnitsIntoTransport: 重装大兵*4, 海豹部队


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='英国') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\战斗要塞图标.png
image:        战斗要塞.png

drawLayer: ground
imageScale:	1.0
image_offsetY: 10
total_frames: 1
frame_width: 140
frame_height: 140
#animation_moving_start: 1
#animation_moving_end: 1
#animation_moving_speed: 6
#animation_idle_start: 0
#animation_idle_end: 0
#animation_idle_speed: 6
#animation_attack_start: 0
#animation_attack_end: 0
#animation_attack_speed: 4
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits:  false
canAttackLandUnits:  if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
#shootDelay: ${int(10*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 1.10
moveAccelerationSpeed: 0.015
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2.0
turnAcceleration: 1.0


[turret_1]
x: 0
y: 35

barrelHeight: 20
limitingRange: 195
limitingMinRange: 20
shoot_sound: ROOT:\音频\语音+音效\varmatta.wav, ROOT:\音频\语音+音效\varmattb.wav
shoot_sound_vol: 2
shoot_flame: small
delay: ${int(10*(1/gameSpeedRate))}
projectile: 1


[projectile_1]
directDamage: 30
life: 60

instant: true
explodeEffect: CUSTOM:弹火, CUSTOM:映射
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.40
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.20
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.20
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.20
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.00


[attachment_1]
x: 5
y: 5

isVisible: false
isUnselectable: true
keepAliveWhenParentDies: true
addTransportedUnits: true
prioritizeParentsMainTarget:true
onParentTeamChangeKeepCurrentTeam: true
showAllActionsFrom: true


[attachment_2]
x: -5
y: 5

@copyFromSection: attachment_1


[attachment_3]
x: 5
y: -5

@copyFromSection: attachment_1


[attachment_4]
x: -5
y: -5

@copyFromSection: attachment_1


[attachment_5]
x: 0
y: -20

@copyFromSection: attachment_1


[action_1]
@define slotId: 0
isVisible: if self.transportingCount(slot=${slotId}, greaterThan=0)
isActive: if not self.isMoving()
buildSpeed: 0s
text: unload
text_zh: 卸载
textAddUnitName: unitRef self.transporting(slot=${slotId})
description: Click to unload unit
description_zh: 点击卸载单位
displayType: action
unitShownInUI: unitRef self.transporting(slot=${slotId})
forceUnloadTransportNow:true
forceUnloadTransportNow_onlyOnSlot:${slotId}
#isActive: if self.height(lessThan=3)


[action_2]
@copyFromSection: action_1
@define slotId: 1


[action_3]
@copyFromSection: action_1
@define slotId: 2


[action_4]
@copyFromSection: action_1
@define slotId: 3


[action_5]
@copyFromSection: action_1
@define slotId: 4


[hiddenAction_卸载声]
autoTrigger: if self.isTransportUnloading() and not self.isMoving()
playSoundAtUnit:  ROOT:\音频\语音+音效\gexit1a.wav:2
#showQuickWarLogToAllPlayers: 卸载


[hiddenAction_Ai驻守]
#autoTriggerOnEvent: created
autoTrigger: if self.isControlledByAI() and self.transportingCount(lessThan=4) and not self.tags(includes='Ai驻守') and not self.isMoving()
temporarilyAddTags: Ai驻守
#showMessageToAllPlayers: ＋Ai驻守


[hiddenAction_Ai驻守2]
autoTrigger: if self.isControlledByAI() and (self.transportingCount(greaterThan=3) or self.isMoving()) and self.tags(includes='Ai驻守')
temporarilyRemoveTags: Ai驻守
#showMessageToAllPlayers: -Ai驻守


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=195)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 195
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=500) and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=225) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=225)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=60


[effect_死亡]
scaleFrom: 1.5
scaleTo: 1.5


[effect_炸毁]
scaleFrom: 1.2
scaleTo: 1.2


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom: 0.5
scaleTo: 0.2
alpha: 0.8
life: 15
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[template_zijin]
price: 1400


[ai]
#disableUse: false
useAsTransport: false
useAsAttacker: true

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/幻影坦克.ini
================================================================================


[core]
name: 幻影坦克
price: 资金=1500
maxHp: 400
mass: 8500
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具中甲, 碾压, 克装甲, 可空, 空下, 可进入坦克碉堡, 幻影坦克
displayText: Mirage Tank
displayText_zh: 幻影坦克
displayDescription: Target: Ground unit\nDamage creature: Low\nDamage armor: High\nDamage building: Medium\nSpecial: Can crush infantry.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：低\n伤害装甲：高\n伤害建筑：中\n特殊：碾压步兵
transportSlotsNeeded: 4
#displayRadius: 20
buildSpeed: 15s
fogOfWarSightRange: 11
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 幻影坦克
soundOnAttackOrder:  ROOT:\音频\语音+音效\vmirata.wav:2, ROOT:\音频\语音+音效\vmiratb.wav:2, ROOT:\音频\语音+音效\vmiratc.wav:2, ROOT:\音频\语音+音效\vmiratd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vmirmoa.wav:2, ROOT:\音频\语音+音效\vmirmob.wav:2, ROOT:\音频\语音+音效\vmirmoc.wav:2, ROOT:\音频\语音+音效\vmirmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vmirsea.wav:2, ROOT:\音频\语音+音效\vmirseb.wav:2, ROOT:\音频\语音+音效\vmirsec.wav:2, ROOT:\音频\语音+音效\vmirsed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vmirstaa.wav, ROOT:\音频\语音+音效\vmirstab.wav, ROOT:\音频\语音+音效\vmirstac.wav


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\幻影坦克图标.png
image:        幻影坦克.png

total_frames: 1
imageScale:	1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.hasFlag(id=28) and not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 1.30
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2
turnAcceleration: 1
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 210
limitingMinRange: 20
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 幻影坦克炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_1]
autoTrigger: if not self.isMoving() and not self.isAttacking() and self.hasTakenDamage(laterThanSeconds=1) and not self.hasFlag(id=28) and not numberOfUnitsInEnemyTeam(withTag='反隐形', greaterThan=0, withinRange=270) and self.queueSize(empty=true)
convertTo: 幻影坦克2
#convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed


[hiddenAction_驾驶2]
requireConditional: if self.timeAlive(laterThanSeconds=2) and self.hasFlag(id=28)


[hiddenAction_Ai自动碾压] 
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='被碾压', greaterThan=0, withinRange=100) and not numberOfUnitsInEnemyTeam(withTag='克装甲', greaterThan=1, withinRange=165) and self.hp(greaterThan=100) and not self.hasActiveWaypoint(type='touchTarget') and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='attack')


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=55


[template_zijin]
price: 1500

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/长矛.ini
================================================================================


[core]
name: 长矛
price: 资金=2000
maxHp: 600
mass: 10000
radius: 35

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具重甲, 碾压, 克装甲, 可空, 空下, 长矛, 克生物, 克建筑
displayText: Spear
displayText_zh: 长矛轨道炮
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: High\nDamage building: High\nSpecial: Can crush infantry.\nIt takes a long time to charge before firing.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：高\n特殊：碾压步兵\n需要长时间充能才能开火。
transportSlotsNeeded: 4
#displayRadius: 20
buildSpeed: 20s
fogOfWarSightRange: 12
soundOnAttackOrder:  ROOT:\音频\语音+音效\vspeaatta.wav:2, ROOT:\音频\语音+音效\vspeaattb.wav:2, ROOT:\音频\语音+音效\vspeaattc.wav:2, ROOT:\音频\语音+音效\vspeaattd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vspeamova.wav:2, ROOT:\音频\语音+音效\vspeamovb.wav:2, ROOT:\音频\语音+音效\vspeamovc.wav:2, ROOT:\音频\语音+音效\vspeamovd.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vspeasela.wav:2, ROOT:\音频\语音+音效\vspeaselb.wav:2, ROOT:\音频\语音+音效\vspeaselc.wav:2, ROOT:\音频\语音+音效\vspeaseld.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vspeastaa.wav:1.25, ROOT:\音频\语音+音效\vspeastab.wav:1.25


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\长矛图标.png
image:     长矛.png

total_frames: 1
imageScale:	1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:  true
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 0.9
moveAccelerationSpeed: 0.015
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2
turnAcceleration: 1
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 480
limitingMinRange: 20
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 长矛炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=100


[template_zijin]
price: 2000

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/灰熊坦克炮塔.ini
================================================================================


[core]
name: 灰熊坦克炮塔
price: 2000
maxHp:400
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 低级, 炮塔, 灰熊坦克炮塔


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='德国') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
image:        灰熊坦克炮塔.png

total_frames: 1
imageScale:	1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 15
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 15
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 20
turretTurnSpeed: 3
#maxAttackRange: 150
shootDelay: 120
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 3.5
turnAcceleration: 3.5


[turret_1]
x: 0
y: 0

barrelX: 0
barrelY: 50
barrelHeight: 10
limitingRange: 180
limitingMinRange: 40
shoot_flame: CUSTOM:映射, CUSTOM:开火
shoot_light: #FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vgriatta.wav, ROOT:\音频\语音+音效\vgriattb.wav, ROOT:\音频\语音+音效\vgriattc.wav
shoot_sound_vol: 1.2
onShoot_triggerActions: 开火冲击波
recoilOffset: -1
recoilOutTime: 5
recoilReturnTime: 10


[projectile_1]
areaDamage: 75
life: 120

areaRadius: 30
frame: 5
speed: 12
drawSize: 0.9
image: ROOT:\共享文件\1类\炮弹2.png
targetGround: true
largeHitEffect: true
hitSound: true
explodeEffect: CUSTOM:映射3, CUSTOM:爆炸, CUSTOM:开火冲击波
effectOnCreate: CUSTOM:映射2
lightCastOnGround: true
#initialUnguidedSpeedHeight: 1.2
#gravity: 0.18
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.0
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.6
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.8
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=180)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 180
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=35


[effect_爆炸]
image: ROOT:\共享文件\1类\炸毁2.png
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 17
animateFrameStart: 0
animateFrameEnd: 16
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
image: ROOT:\共享文件\1类\映射.png
life: 30
scaleFrom: 0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
#scaleTo: 0.8
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/坦克杀手.ini
================================================================================


[core]
name: 坦克杀手
price: 资金=1100
maxHp: 480
mass: 10000
radius: 30

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 中级, 装甲, 载具中甲, 碾压, 克装甲, 可空, 空下, 可进入坦克碉堡
displayText: Tank destroyer
displayText_zh: 坦克杀手
displayDescription: Target: Ground unit\nDamage creature: Low\nDamage armor: Very high\nDamage building: Medium\nSpecial: Can crush infantry.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：低\n伤害装甲：很高\n伤害建筑：中\n特殊：可以碾压步兵
buildSpeed: 10s
transportSlotsNeeded: 4
fogOfWarSightRange: 12
soundOnAttackOrder:  ROOT:\音频\语音+音效\vtanata.wav:2, ROOT:\音频\语音+音效\vtanatb.wav:2, ROOT:\音频\语音+音效\vtanatc.wav:2, ROOT:\音频\语音+音效\vtanatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vtanmoa.wav:2, ROOT:\音频\语音+音效\vtanmob.wav:2, ROOT:\音频\语音+音效\vtanmoc.wav:2, ROOT:\音频\语音+音效\vtanmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vtansea.wav:2, ROOT:\音频\语音+音效\vtanseb.wav:2, ROOT:\音频\语音+音效\vtansec.wav:2, ROOT:\音频\语音+音效\vtansed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vtadstaa.wav, ROOT:\音频\语音+音效\vtadstab.wav


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\坦克杀手图标.png
image:        坦克杀手.png

#imageScale:	0.9
total_frames: 1
frame_width: 140
frame_height: 140
image_offsetY: 10
#animation_moving_start: 0
#animation_moving_end: 0
#animation_moving_speed: 6
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 40
turretTurnSpeed: 2.5
#maxAttackRange: 150
aimOffsetSpread: 0
shootDelay: 120


[movement]
movementType: LAND

moveSpeed: 1.30
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2.0
turnAcceleration: 0.5


[turret_1]
x: 0
y: 0

barrelX: 0
barrelY: 65
barrelHeight: 10
limitingRange: 210
limitingMinRange: 40
shoot_flame: CUSTOM:映射, CUSTOM:开火
shoot_light:#FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vtadatta.wav, ROOT:\音频\语音+音效\vtadattb.wav, ROOT:\音频\语音+音效\vtadattc.wav
shoot_sound_vol: 2
onShoot_triggerActions: 开火冲击波
recoilOffset: -1
recoilOutTime: 5
recoilReturnTime: 10


[projectile_1]
areaDamage: 155
life: 120

areaRadius: 30
frame: 5
speed: 12
drawSize: 0.9
image: ROOT:\共享文件\1类\炮弹2.png
targetGround: true
largeHitEffect: true
hitSound: true
explodeEffect: CUSTOM:映射3, CUSTOM:爆炸, CUSTOM:开火冲击波
effectOnCreate: CUSTOM:映射2
lightCastOnGround: true
#initialUnguidedSpeedHeight: 1.2
#gravity: 0.18
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.06
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.06
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.06
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.80
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 1.20
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.40
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.40
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.00
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=210)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 210
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护') and not self.hasActiveWaypoint(type='touchTarget') 
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=215) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=215)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护') and not self.hasActiveWaypoint(type='touchTarget') 
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=45


[hiddenAction_开火冲击波]
spawnEffects: CUSTOM:开火冲击波


[effect_开火]
image: ROOT:\共享文件\1类\开火特效3.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
attachedToUnit:false
hOffset: 0


[effect_开火冲击波]
image: ROOT:\共享文件\1类\冲击波2.png
scaleFrom: 0.9
scaleTo: 0.9
alpha: 0.8
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.80
alwayStartDirAtZero: true
attachedToUnit: false
drawUnderUnits: true
hOffset: -12


[effect_爆炸]
image: ROOT:\共享文件\1类\炸毁2.png
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 17
animateFrameStart: 0
animateFrameEnd: 16
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
image: ROOT:\共享文件\1类\映射.png
life: 30
scaleFrom: 0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
#scaleTo: 0.8
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false


[template_zijin]
price: 1200

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/悍马车炮塔.ini
================================================================================


[core]
name: 悍马车炮塔
price: 2000
maxHp:400
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 低级, 炮塔, 悍马车炮塔


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='美国') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
image:       悍马车炮塔.png

total_frames: 1
imageScale:	1.0
frame_width: 80
frame_height: 80
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 15
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 15
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 20
turretTurnSpeed: 3
#maxAttackRange: 150
shootDelay: 12
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 4.0
turnAcceleration: 4.0


[turret_1]
x: 0
y: 0

limitingRange: 180
limitingMinRange: 20
barrelHeight: 10
canOnlyAttackUnitsWithoutTags: 建筑, 建筑2, 装甲
shoot_flame: CUSTOM:映射
shoot_light: #FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vhumweaa.wav, ROOT:\音频\语音+音效\vhumweab.wav, ROOT:\音频\语音+音效\vhumweac.wav, ROOT:\音频\语音+音效\vhumwead.wav
shoot_sound_vol: 2
projectile: 1


[turret_2]
x: 0
y: 0


delay: 120
limitingRange: 195
limitingMinRange: 20
barrelHeight: 10
barrelX: 6
canOnlyAttackUnitsWithoutTags: 生物, 生物2
shoot_flame: CUSTOM:映射
shoot_light: #FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vhumwe2a.wav, ROOT:\音频\语音+音效\vhumwe2b.wav, ROOT:\音频\语音+音效\vhumwe2c.wav, ROOT:\音频\语音+音效\vhumwe2d.wav
shoot_sound_vol: 2
projectile: 2


[projectile_1]
directDamage: 15
life: 90

speed: 8
image: ROOT:\共享文件\1类\子弹.png
drawSize: 0.5
lightColor: #FFFF5500
lightSize: 0.5
sweepOffsetFromTargetRadius: 0.6
sweepSpeed: 6
explodeEffect: CUSTOM:弹火
mutator0_ifUnitWithTags: 子弹抗性
mutator0_directDamageMultiplier: 0.5
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.4
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.0


[projectile_2]
#directDamage: 50
areaDamage: 75
life: 240

areaRadius: 30
frame: 4
speed: 10
explodeOnEndOfLife:true
autoTargetingOnDeadTarget:true
trailEffect: true
#trailEffect: CUSTOM:尾烟*1
trailEffectRate: 1.2
explodeEffect: CUSTOM:弹火2
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.20
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.20
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.20
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.80
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 1.20
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.40
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.40
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.40
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.00


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=180)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 180
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=15


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1.25
scaleTo: 1.25
attachedToUnit: false
alwayStartDirAtZero:true


[effect_弹火2]
image: ROOT:\共享文件\1类\弹火2.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpifva.wav:2, ROOT:\音频\语音+音效\gexpifvb.wav:2, ROOT:\音频\语音+音效\gexpifvc.wav:2
scaleFrom: 1.5
scaleTo: 1.5
total_frames:12
animateFrameStart: 0
animateFrameEnd:11
animateFrameSpeed:0.3
alwayStartDirAtZero:true
attachedToUnit:false


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟.png
life: 25
fadeOut:true
attachedToUnit:false
color:#FFFFFF
fadeInTime:3
scaleFrom:2.5
scaleTo:2.5
alpha:0.8
drawUnderUnits:false
atmospheric:true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/盟军基地车（德国）.ini
================================================================================


[core]
name: 德国基地车
copyFrom: 盟军基地车.ini
showInEditor: false

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/医疗车.ini
================================================================================


[core]
name: 医疗车
price: 资金=600
maxHp: 240
mass: 4000
radius: 20

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具轻甲, 克装甲, 可空, 空下, 医疗车, 小型, 可进入坦克碉堡, 辐射减伤, 提供医疗
displayText: Ambulance
displayText_zh: 医疗车
displayDescription: Provide continuous medical rescue for nearby friendly biological units.
displayDescription_zh: 为附近的友军生物单位提供持续的医疗救援。
buildSpeed: 4s
fogOfWarSightRange: 16
transportSlotsNeeded: 2
canRepairBuildings: false
canRepairUnits: true
autoRepair: true
nanoRange: 120
nanoRepairSpeed: 0.4
canRepairUnitsOnlyWithTags: 生物, 生物2
selfRegenRate: 0.06
soundOnMoveOrder: ROOT:\音频\语音+音效\vambmoa.wav:2, ROOT:\音频\语音+音效\vambmob.wav:2, ROOT:\音频\语音+音效\vambmoc.wav:2, ROOT:\音频\语音+音效\vambmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vambsea.wav:2, ROOT:\音频\语音+音效\vambseb.wav:2, ROOT:\音频\语音+音效\vambsec.wav:2, ROOT:\音频\语音+音效\vambsed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true 
playSoundAtUnit: ROOT:\音频\语音+音效\vhumstaa.wav:1.25, ROOT:\音频\语音+音效\vhumstab.wav:1.25


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\医疗车图标.png
image:       医疗车.png

total_frames: 1
imageScale:	1.0
frame_width: 80
frame_height: 80
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true
repairEffectAtTarget: CUSTOM:治疗
repairEffectRate: 20


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false

canAttackUnderwaterUnits: false
turretSize:0
turretTurnSpeed:9
maxAttackRange: 120
shootDelay: 30


[movement]
movementType: LAND

moveSpeed: 2.4
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2.0
turnAcceleration: 1.0
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x:0
y:0

canShoot:false


[projectile_1]
directDamage: 0
life: 0


[hiddenAction_治疗声音]
autoTrigger: if self.hasActiveWaypoint(type='repair') and self.customTimer(laterThanSeconds=4)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\gcraheal.wav:2


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[effect_治疗]
image: ROOT:\共享文件\1类\图标-医疗.png
scaleFrom: 0.35
scaleTo: 0.35
alpha: 1.2
life: 180
hOffset: 30
fadeInTime: 20
fadeOut: true
attachedToUnit: true
drawUnderUnits: false
alwayStartDirAtZero: true
liveAfterAttachedDies: false


[hiddenAction_初始价值]
addResources: 价值=20


[template_zijin]
price: 600

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/步兵战车炮塔6.ini
================================================================================


[core]
name: 步兵战车炮塔6
price: 0
maxHp: 250
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 炮塔, 步兵战车炮塔6, 克建筑, 低级, 电死人


[graphics]
image:        步兵战车炮塔6.png

total_frames: 1
imageScale:	1.0
image_offsetY: 10
frame_width: 87
frame_height: 87
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 1
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 1
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits:  false
canAttackLandUnits:   if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 10
turretTurnSpeed: 3
maxAttackRange: 290
shootDelay: ${int(50*(1/gameSpeedRate))}
aimOffsetSpread: 0
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 3.0
turnAcceleration: 3.0


[turret_1]
x: 0
y: 0

canAttackCondition: if not self.tags(includes='1级') and not self.tags(includes='2级') and not self.tags(includes='3级')
barrelHeight: 20
shoot_sound: ROOT:\音频\语音+音效\ipriweaa.wav
shoot_sound_vol: 2.0
shoot_light: #FFFFFFFF
projectile: 1


[turret_3级]
x: 0
y: 0

copyFrom: 1
canAttackCondition: if self.tags(includes='3级')
projectile: 3级


[turret_2]
x: 0
y: 0

canOnlyAttackUnitsWithoutTags: 驾驶, 伪装
canAttackCondition: if not self.tags(includes='3级')
barrelHeight: 20
projectile: 2


[turret_3]
x: 0
y: 0

copyFrom: 2
projectile: 3


[turret_4]
x: 0
y: 0

copyFrom: 2
projectile: 4


[turret_红]
x: 0
y: 0

canAttackCondition: if self.tags(includes='3级')
barrelHeight: 20
projectile: 红


[turret_绿]
x: 0
y: 0

copyFrom: 红
projectile: 绿


[turret_黄]
x: 0
y: 0

copyFrom: 红
projectile: 黄


[projectile_1]
directDamage: 85
life: 5

color: #FFFFFFFF
laserEffect:true
#teamColorRatio:1
instant:true
moveWithParent: true
#instantReuseLast: false
lightSize: 1.0
lightColor: #FFFAA5D8
explodeEffect: CUSTOM:闪光, CUSTOM:闪光2
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 0.80
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 0.60
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.40
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.40
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.20
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.20
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 1.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 1.40
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.80
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.60


[projectile_2]
directDamage: 0
life: 15

color: #BFFFFFFF
laserEffect:true
instant:true
instantReuseLast: false
moveWithParent: true
explodeEffect: NONE


[projectile_3]
@copyFromSection: projectile_2
directDamage: 0
life: 25

color: #7FFFFFFF


[projectile_4]
@copyFromSection: projectile_2
directDamage: 0
life: 35

color: #40FFFFFF


[projectile_红]
@copyFromSection: projectile_2
directDamage: 0
life: 15

color: #BFFF0000


[projectile_绿]
@copyFromSection: projectile_2
directDamage: 0
life: 25

color: #7F00FF00


[projectile_黄]
@copyFromSection: projectile_2
directDamage: 0
life: 35

color: #40FFFF00


[projectile_3级]
@copyFromSection: projectile_1
directDamage: 45
life: 5

spawnUnit: 光散射4-兵


[hiddenAction_武器]
autoTrigger: if parent.transportingCount(empty=true) and parent.tags(includes='步兵战车')
convertTo: 步兵战车炮塔
playSoundAtUnit: ROOT:\音频\语音+音效\vifvtran.wav:2
#showMessageToAllPlayers: 武器1


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=270)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 建筑
addWaypoint_target_nearestUnit_maxRange: 270
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=35


[effect_闪光]
#priority:critical
image: ROOT:\共享文件\1类\闪光.png
color: #FFFFFF
life: 15
scaleFrom: 1.4
scaleTo: 0.4
alpha: 0.9
fadeOut: true
fadeInTime: 2
drawUnderUnits: false
attachedToUnit: false
alwayStartDirAtZero: true


[effect_闪光2]
image: ROOT:\共享文件\1类\爆炸31.png
#alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 0.65
scaleTo: 0.65
total_frames: 18
animateFrameStart: 0
animateFrameEnd: 17
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/步兵战车炮塔7.ini
================================================================================


[core]
name: 步兵战车炮塔7
price: 0
maxHp: 250
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 炮塔, 步兵战车炮塔7, 克生物, 高级


[graphics]
image:        步兵战车炮塔7.png

total_frames: 1
imageScale:	1.0
image_offsetY: 14
frame_width: 90
frame_height: 90
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 1
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 1
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits:  false
canAttackLandUnits:   if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize:0
turretTurnSpeed: 3
maxAttackRange: 390
shootDelay: 120
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 3.0
turnAcceleration: 3.0


[turret_1]
x: 0
y: 0


shoot_sound: ROOT:\音频\语音+音效\isniatta.wav
shoot_sound_vol: 2.0


[projectile_1]
directDamage: 65
life: 60

instant: true
explodeEffect: CUSTOM:弹火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.4
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.4
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.2
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.0


[hiddenAction_武器]
autoTrigger: if parent.transportingCount(empty=true) and parent.tags(includes='步兵战车')
convertTo: 步兵战车炮塔
playSoundAtUnit: ROOT:\音频\语音+音效\vifvtran.wav:2
#showMessageToAllPlayers: 武器1


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=30


[effect_弹火]
image: ROOT:\共享文件\1类\狙击.png
total_frames: 7
animateFrameStart: 0
animateFrameEnd: 6
scaleFrom: 1.05
scaleTo: 1.05
attachedToUnit:true
alwayStartDirAtZero:true

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/步兵战车炮塔5.ini
================================================================================


[core]
name: 步兵战车炮塔5
copyFrom: 步兵战车炮塔3.ini
tags: 炮塔, 步兵战车炮塔5, 克生物, 中级


[graphics]
image:        步兵战车炮塔5.png


[attack]
maxAttackRange: 195
shootDelay: ${int(10*(1/gameSpeedRate))}


[turret_1]
x: 0
y: 0

warmup: 0
shoot_sound: ROOT:\音频\语音+音效\vifvat2b.wav


[turret_2]
x: 0
y: 0

barrelX: -4
copyFrom: 1
linkDelayWithTurret: 1
attachedTo:  1
slave: true
warmup: 15


[projectile_1]
directDamage: 30
life: 5

mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.4
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.3
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.2


[hiddenAction_初始价值]
addResources: 价值=30

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/长矛炮塔.ini
================================================================================


[core]
name: 长矛炮塔
price: 2000
maxHp:400
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 低级, 炮塔, 长矛炮塔, 电死人


[graphics]
image:        长矛炮塔.png

total_frames: 1
imageScale:	1.0
frame_width: 150
frame_height: 150
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 15
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 15
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if parent.isMoving==false and not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 20
turretTurnSpeed: 3
#maxAttackRange: 150
shootDelay: 180
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 1.8
turnAcceleration: 1.8


[turret_1]
x: 0
y: 0

barrelX: 0
barrelY: 40
barrelHeight: 10
limitingRange: 480
limitingMinRange: 90
warmup: 180
warmupStartEffect: CUSTOM:预热
shoot_flame: CUSTOM:映射, CUSTOM:开火
shoot_light:#FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vspeaweaa.wav
shoot_sound_vol: 2.0
#onShoot_triggerActions: 开火冲击波
#recoilOffset: -1
#recoilOutTime: 5
#recoilReturnTime: 10


[projectile_1]
areaDamage: 450
life: 12

areaRadius: 60
#beamImage: ROOT:\共享文件\1类\激光源.png 
color: #FFA0BCEC
#teamColorRatio:1
moveWithParent: true
instant: true
instantReuseLast: true
laserEffect: true
lightColor: #FFA0BCEC
lightSize: 0.5
explodeEffect: CUSTOM:映射3, CUSTOM:爆炸, CUSTOM:冲击波
effectOnCreate: CUSTOM:映射2
lightCastOnGround: true
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.4
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.4
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.8
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=420)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 建筑
addWaypoint_target_nearestUnit_maxRange: 420
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=100


[effect_开火]
image: ROOT:\共享文件\1类\闪光2.png
life: 60
color: #FFA0BCEC
scaleFrom: 1.0
scaleTo: 0.2
alpha: 1.0
fadeInTime: 0
fadeOut: true
dirOffsetRandom: 180
dirSpeed: 3
drawUnderUnits: false
#alwayStartDirAtZero:true
attachedToUnit: true


[effect_预热]
image: ROOT:\共享文件\1类\光.png
alsoPlaySound: ROOT:\音频\语音+音效\vspeachaa.wav:2
color: #FFA0BCEC
life: 180
scaleFrom: 0.8
scaleTo: 0.4
hOffset: 10
fadeInTime: 0
fadeOut: false
dirSpeed: 3
attachedToUnit: true
drawUnderUnits: false


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸5.png
alsoPlaySound: ROOT:\音频\语音+音效\grtslexpa.wav:2, ROOT:\音频\语音+音效\grtslexpb.wav:2
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
image: ROOT:\共享文件\1类\映射.png
life: 30
scaleFrom: 0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
#scaleTo: 0.8
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false


[effect_冲击波]
image: ROOT:\共享文件\1类\圈6.png
scaleFrom: 0.8
scaleTo: 1.4
alpha: 0.3
life: 40
hOffset: -2
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/步兵战车炮塔4.ini
================================================================================


[core]
name: 步兵战车炮塔4
price: 0
maxHp: 250
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 炮塔, 步兵战车炮塔4, 维修清除
canRepairBuildings: false
canRepairUnits: true
autoRepair: true
nanoRange: 100
nanoRepairSpeed: 0.6
canRepairUnitsOnlyWithTags: 装甲
#nanoRangeForRepairIsMelee: true
#nanoRangeForRepair: 50


[graphics]
image:        步兵战车炮塔4.png

total_frames: 1
imageScale:	1.0
image_offsetY: 10
frame_width: 115
frame_height: 115
#animation_moving_start: 0
#animation_moving_end: 0
#animation_moving_speed: 10
#animation_idle_start: 0
#animation_idle_end: 0
#animation_idle_speed: 10
#animation_attack_start: 0
#animation_attack_end: 0
#animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
repairEffectAtTarget: CUSTOM:修理, CUSTOM:闪光2, CUSTOM:闪光
repairEffectRate: 20


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

isFixedFiring: true
turretTurnSpeed: 3


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 3.0
turnAcceleration: 3.0


[hiddenAction_维修声音]
autoTrigger: if self.hasActiveWaypoint(type='repair') and self.customTimer(laterThanSeconds=2)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vifvrepa.wav:2


[hiddenAction_武器]
autoTrigger: if parent.transportingCount(empty=true) and parent.tags(includes='步兵战车')
convertTo: 步兵战车炮塔
playSoundAtUnit: ROOT:\音频\语音+音效\vifvtran.wav:2
#showMessageToAllPlayers: 武器1


[effect_修理]
image: ROOT:\共享文件\1类\灰.png
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 6
alpha: 1.2
life: 60
#120
hSpeed: 0.6
#0.4
hOffsetRandom: 0.2
dirOffsetRandom: 180
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 3
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
#xOffsetRelative: 0
#yOffsetRelative: 0
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[effect_闪光]
#priority:critical
image: ROOT:\共享文件\1类\闪光.png
color: #FFFFFF
life: 8
scaleFrom: 0.4
scaleTo: 0.5
alpha: 1.5
fadeOut: true
fadeInTime: 2
drawUnderUnits: false
attachedToUnit: false
alwayStartDirAtZero: true
atmospheric: false
#dirOffset: 90
#xOffsetRelative: 0
xOffsetRelativeRandom: 0.6
yOffsetRelativeRandom: 0.6
xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5


[effect_闪光2]
@copyFromSection: effect_闪光
#priority:veryhigh
color: #FFAA00
life: 10
scaleFrom: 1.1
scaleTo: 1.2
alpha: 1
xOffsetRelativeRandom: 1.2
yOffsetRelativeRandom: 1.2
xSpeedAbsoluteRandom: 0.75
ySpeedAbsoluteRandom: 0.75
showInFog: true

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/悍马车.ini
================================================================================


[core]
name: 悍马车
price: 资金=550
maxHp: 160
mass: 4500
radius: 20

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具轻甲, 克装甲, 可空, 空下, 悍马车, 小型, 可进入坦克碉堡
displayText: Hummer
displayText_zh: 悍马车
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: High\nDamage building: Medium\nSpecial: Can crush infantry.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：中\n特殊：碾压步兵
buildSpeed: 4s
fogOfWarSightRange: 16
maxTransportingUnits: 2
transportSlotsNeeded: 2
transportUnitsOnTeamChangeKeepCurrentTeam: true
transportUnitsBlockOtherTransports: false
transportUnitsRequireTag: 生物
transportUnitsKillOnDeath: false
soundOnAttackOrder:  ROOT:\音频\语音+音效\vhumata.wav:2, ROOT:\音频\语音+音效\vhumatb.wav:2, ROOT:\音频\语音+音效\vhumatc.wav:2, ROOT:\音频\语音+音效\vhumatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vhummoa.wav:2, ROOT:\音频\语音+音效\vhummob.wav:2, ROOT:\音频\语音+音效\vhummoc.wav:2, ROOT:\音频\语音+音效\vhummod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vhumsea.wav:2, ROOT:\音频\语音+音效\vhumseb.wav:2, ROOT:\音频\语音+音效\vhumsec.wav:2, ROOT:\音频\语音+音效\vhumsed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true 
playSoundAtUnit: ROOT:\音频\语音+音效\vhumstaa.wav:1.25, ROOT:\音频\语音+音效\vhumstab.wav:1.25


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\悍马车图标.png
image:        悍马车.png

total_frames: 1
imageScale:	1.0
frame_width: 80
frame_height: 80
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 2.4
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2.0
turnAcceleration: 1.0
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 180
limitingMinRange: 20
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 悍马车炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=15


[template_zijin]
price: 550

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/幻影坦克2.ini
================================================================================


[core]
name: 幻影坦克2
copyFrom: 幻影坦克.ini

showInEditor: false
tags: 原始护甲, 装甲, 载具轻甲, 碾压, 克装甲, 可空, 空下, 可进入坦克碉堡, 幻影坦克, 幻影伪装
#canOnlyBeAttackedByUnitsWithTags: 无
#disableAllUnitCollisions: true
showOnMinimapToEnemies: false


[graphics]
image:  幻影坦克2.png

total_frames: 1
imageScale:	1.02
frame_width: 120
frame_height: 90
image_offsetX: 20
image_offsetY: -35
animation_attack_start: 0
animation_attack_end: 0
animation_moving_start: 0
animation_moving_end: 0
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_direction_units: 45
showHealthBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[hiddenAction_1]
autoTrigger: if self.isMoving()
convertTo: 幻影坦克
#showMessageToAllPlayers: 触发
#playSoundAtUnit: ROOT:\音频\语音+音效\vmirat2a.wav


[hiddenAction_1级显示] 
autoTrigger: false


[hiddenAction_2级显示] 
autoTrigger: false


[hiddenAction_3级显示] 
autoTrigger: false


[hiddenAction_生命保险计时2]
spawnEffects: NONE


[hiddenAction_临时救援2] 
spawnEffects: NONE


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/盟军基地车.ini
================================================================================


[core]
name: 盟军基地车
price: 资金=3000
maxHp: 2000
mass: 10000
radius: 40

copyFrom: ROOT:\共享文件\3类\撞击伤害2.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq, ROOT:\共享文件\3类\闲置修复.xxhq
tags: 原始护甲, 装甲, 载具重甲, 基地车, 碾压, 可空, 空下
displayText: Allied Mobile Construction Vehicle
displayText_zh: 盟军基地车
displayDescription: Special: Can be deployed as a base.\n Can crush infantry.\nCan crush small vehicles.
displayDescription_zh: 特殊：可展开为基地\n可以碾压步兵\n可以碾压小型载具
buildSpeed: 30s
selfRegenRate: 0.06
displayRadius: 30
transportSlotsNeeded: 6
#numBitsOnDeath: 5
fogOfWarSightRange: 10
dieOnConstruct: true
nanoRange: 12
soundOnMoveOrder: ROOT:\音频\语音+音效\vmcamoa.wav:2, ROOT:\音频\语音+音效\vmcamob.wav:2, ROOT:\音频\语音+音效\vmcamoc.wav:2, ROOT:\音频\语音+音效\vmcamod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vmcasea.wav:2, ROOT:\音频\语音+音效\vmcaseb.wav:2, ROOT:\音频\语音+音效\vmcasec.wav:2, ROOT:\音频\语音+音效\vmcased.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vmcvstaa.wav:1.5


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\盟军基地车图标.png
image:        盟军基地车.png

total_frames: 1
#imageScale:	0.9
#image_offsetX: 0
image_offsetY: 10
frame_width: 130
frame_height: 130
#image_wreak: NONE
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
dustEffect: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 0.9
moveAccelerationSpeed: 0.014
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2.0
turnAcceleration: 1.0


[canBuild_1]
name: 盟军基地
pos: 1
#tech: 1
#forceNano: true
isVisible: if self.isControlledByAI() and not self.tags(includes='禁止攻击') and self.queueSize(empty=true)


[turret_1]
x: 0
y: 0

limitingRange: 100


[hiddenAction_AI扩张指令]
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.isControlledByAI()
clearActiveWaypoint: true
#清除活动航路点
addWaypoint_type: move
#添加移动点模式
addWaypoint_prepend: true
#添加路点前置
addWaypoint_target_nearestUnit_tagged: 可扩展矿
#添加最近标记单位的航路点目标
addWaypoint_target_mapMustBeReachable: false
#添加航路点目标地图必须可到达
addWaypoint_target_nearestUnit_team: any
#添加最近单位团队的路点目标
addWaypoint_maxTime: 5s
#添加路点最大时间


[hiddenAction_AI扩张部署]
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', withinRange=260, greaterThan=0) and self.isControlledByAI()
clearActiveWaypoint: true
alsoQueueAction: 1


[action_1]
text: Deploy
text_zh: 部署基地
description: Deploy as Allied Construction Yard
description_zh: 一家之母
displayType: action
buildSpeed: 1.0s
isActive: if not self.tags(includes='禁止攻击') and memory.保存控制.hp<=0
#isVisible: if self.isControlledByAI()
isLocked: if (nearestUnit(withinRange=80, withTag='空下', relation='any')!=nullUnit and not self.isControlledByAI())
isLockedMessage: Cannot have any unit within 80
isLockedMessage_zh: 80范围内不能有任何陆地单位
convertTo: 盟军基地
whenBuilding_cannotMove: false
whenBuilding_rotateTo: 135
whenBuilding_rotateTo_waitTillRotated: true


[hiddenAction_停止]
autoTrigger: if not self.queueSize(empty=true) and (self.hasActiveWaypoint(type='move') or self.hasActiveWaypoint(type='build'))
clearAllWaypoints: true


[hiddenAction_Ai分基地限制]
autoTrigger: if self.isControlledByAI() and not self.hasFlag(id=3) and self.hasUnitInTeam(withTag='基地')
addResources: setFlag=3


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_进入超时空间]
autoTrigger: if (numberOfUnitsInNeutralTeam(withTag='载入传送', greaterThan=0, withinRange=80) or numberOfUnitsInTeam(withTag='载入传送', greaterThan=0, withinRange=80)) and not self.hasParent() and not self.hasActiveWaypoint(type='move') and not self.isAttacking() and not self.isControlledByAI()


[hiddenAction_初始价值]
addResources: 价值=200


[hiddenAction_初始价值修正]
autoTrigger: if not self.resource(type='价值', equalTo=200)
setResourcesWithLogic: 价值=200


[hiddenAction_开局模式控制]
autoTrigger: if self.globalTeamTags(includes='无基地')
deleteSelf: true


[effect_死亡]
scaleFrom: 1.5
scaleTo: 1.5


[effect_炸毁]
scaleFrom: 1.2
scaleTo: 1.2


[template_zijin]
price: 3000



================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/灰熊坦克.ini
================================================================================


[core]
name: 灰熊坦克
price: 资金=750
maxHp: 480
mass: 8000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具中甲, 碾压, 克装甲, 可空, 空下, 灰熊坦克, 可进入坦克碉堡
displayText: Grizzly Battle Tank
displayText_zh: 灰熊坦克
displayDescription: Target: Ground unit\nDamage creature: Low\nDamage armor: High\nDamage building: Medium\nSpecial: Can crush infantry.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：低\n伤害装甲：高\n伤害建筑：中\n特殊：碾压步兵
transportSlotsNeeded: 4
#displayRadius: 20
buildSpeed: 7s
fogOfWarSightRange: 12
soundOnAttackOrder:  ROOT:\音频\语音+音效\vgraata.wav:2, ROOT:\音频\语音+音效\vgraatb.wav:2, ROOT:\音频\语音+音效\vgraatc.wav:2, ROOT:\音频\语音+音效\vgraatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vgramoa.wav:2, ROOT:\音频\语音+音效\vgramob.wav:2, ROOT:\音频\语音+音效\vgramoc.wav:2, ROOT:\音频\语音+音效\vgramod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vgrasea.wav:2, ROOT:\音频\语音+音效\vgraseb.wav:2, ROOT:\音频\语音+音效\vgrasec.wav:2, ROOT:\音频\语音+音效\vgrased.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vgristaa.wav, ROOT:\音频\语音+音效\vgristab.wav, ROOT:\音频\语音+音效\vgristac.wav


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\灰熊坦克图标.png
image:        灰熊坦克.png

total_frames: 1
imageScale:	1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 1.50
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2
turnAcceleration: 1
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 180
limitingMinRange: 20
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 灰熊坦克炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=35


[template_zijin]
price: 750

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/步兵战车炮塔3.ini
================================================================================


[core]
name: 步兵战车炮塔3
price: 0
maxHp: 250
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 炮塔, 步兵战车炮塔3, 克生物, 低级


[graphics]
image:        步兵战车炮塔3.png

total_frames: 1
imageScale:	1.0
image_offsetY: 10
frame_width: 87
frame_height: 87
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 10
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 10
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 8
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize:0
turretTurnSpeed: 3
maxAttackRange: 180
#150
shootDelay: ${int(2*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 3.0
turnAcceleration: 3.0


[turret_1]
x: 0
y: 0

barrelX: 6
barrelY: 12
shoot_sound: ROOT:\音频\语音+音效\vifvat2a.wav
shoot_sound_vol: 2.0
barrelHeight: 11
shoot_flame: small


[projectile_1]
directDamage: 10
life: 5

instant: true
explodeEffect: CUSTOM:弹火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.2
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.2
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.0


[hiddenAction_武器]
autoTrigger: if parent.transportingCount(empty=true) and parent.tags(includes='步兵战车')
convertTo: 步兵战车炮塔
playSoundAtUnit: ROOT:\音频\语音+音效\vifvtran.wav:2
#showMessageToAllPlayers: 武器1


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=180)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 180
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=25


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–装甲/步兵战车炮塔2.ini
================================================================================


[core]
name: 步兵战车炮塔2
price: 0
maxHp: 250
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 炮塔, 步兵战车炮塔2, 克装甲, 克空军, 中级


[graphics]
image:        步兵战车炮塔2.png

total_frames: 1
imageScale:	1.0
image_offsetY: -10
frame_width: 87
frame_height: 87
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize:0
turretTurnSpeed: 6
#maxAttackRange: 150
shootDelay: ${int(40*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 3.0
turnAcceleration: 3.0


[turret_1]
x: 0
y: 0

barrelX: 10
barrelY: -8
barrelHeight: 15
limitingRange: 240
shoot_flame: CUSTOM:映射, CUSTOM:开火
shoot_sound: ROOT:\音频\语音+音效\vifvatta.wav
shoot_sound_vol: 2.0
shoot_light:#FFFFFFFF
canAttackFlyingUnits: false
canAttackLandUnits:  if not self.hasParent(withTag='禁止攻击')
projectile: 1


[turret_2]
x: 0
y: 0

copyFrom: 1
barrelX: 10
linkDelayWithTurret: 1
attachedTo:  1
slave: true
warmup: 15


[turret_3]
x: 0
y: 0

copyFrom:1
limitingRange: 360
canAttackFlyingUnits: if not self.hasParent(withTag='禁止攻击')
canAttackLandUnits:   false
projectile: 2


[turret_4]
x: 0
y: 0

copyFrom: 3
barrelX: 8
linkDelayWithTurret: 3
attachedTo:  3
slave: true
warmup: 15


[projectile_1]
spawnProjectilesOnEndOfLife: 1-2
spawnProjectilesOnExplode: 1-2
#directDamage: 50
areaDamage: 0
life: 35

areaRadius: 10
frame: 4
speed: 0
targetSpeed: 3
drawSize: 0.8
explodeOnEndOfLife:true
ballistic: true
ballistic_delaymove_height: 20
ballistic_height: 70
trailEffect:CUSTOM:尾烟*1
trailEffectRate: 1.0
explodeEffect: NONE


[projectile_1-2]
#directDamage: 50
areaDamage: 50
life: 240

areaRadius: 20
frame: 4
speed: 3
targetSpeed: 8
drawSize: 0.8
friendlyFire: true
explodeOnEndOfLife:true
autoTargetingOnDeadTarget:true
trailEffect: CUSTOM:尾烟*1
trailEffectRate: 1.2
delayedStartTimer: 0
effectOnCreate: CUSTOM:映射2
explodeEffect: CUSTOM:映射3, CUSTOM:弹火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 0.8
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.6
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.4
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.4


[hiddenAction_武器]
autoTrigger: if parent.transportingCount(empty=true) and parent.tags(includes='步兵战车')
convertTo: 步兵战车炮塔
playSoundAtUnit: ROOT:\音频\语音+音效\vifvtran.wav:2
#showMessageToAllPlayers: 武器1


[hiddenAction_Ai攻击空军]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=360)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 空军
addWaypoint_target_nearestUnit_maxRange: 360
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=40


[effect_开火]
image: ROOT:\共享文件\1类\开火特效3.png
scaleFrom: 0.8
scaleTo: 0.8
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
attachedToUnit:false


[effect_弹火]
image: ROOT:\共享文件\1类\弹火2.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpifva.wav:2, ROOT:\音频\语音+音效\gexpifvb.wav:2, ROOT:\音频\语音+音效\gexpifvc.wav:2
scaleFrom: 1.5
scaleTo: 1.5
total_frames:12
animateFrameStart: 0
animateFrameEnd:11
animateFrameSpeed:0.3
alwayStartDirAtZero:true
attachedToUnit:false


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟.png
life: 25
fadeOut:true
attachedToUnit:false
color:#FFFFFF
fadeInTime:3
scaleFrom:2.5
scaleTo:2.5
alpha:0.8
drawUnderUnits:false
atmospheric:true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
image: ROOT:\共享文件\1类\映射.png
life: 30
scaleFrom: 0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
#scaleTo: 0.8
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/机枪碉堡.ini
================================================================================


[core]
name: 机枪碉堡
price: 0
maxHp: 700
mass: 10000
radius: 20

#overrideAndReplace: turret
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑防甲, 建筑, 电力, 克生物, 空下
displayText: Allied Pillbox
displayText_zh: 机枪碉堡
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Medium\nDamage building: Low\nFunds: -400\nspecial: Destroyed at full level will get a surviving full-level soldier.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：中\n伤害建筑：低\n资金花费：400\n特殊：可自动升级\n满级死亡有幸存满级兵
isBuilding: true
#footprint: 0,0,0,0
#constructionFootprint: -1,-1,1,1
fogOfWarSightRange: 13
buildSpeed: 0
selfBuildRate: 1s
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2, CUSTOM:炸毁


[placementRule_建造规则]
searchTeam: own
searchDistance: 360


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 360


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='法国') and not self.hasUnitInTeam(withTag='阵营特色限制')
temporarilyAddTags: 特色减伤


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\机枪碉堡图标.png
image:        机枪碉堡.png

default_frame: 7
total_frames: 8
imageScale: 0.9
image_offsetX: 0
#image_offsetY: -5
animation_idle_start: 7
animation_idle_end: 7
animation_idle_speed: 1
rotate_with_direction:false
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:  if not self.tags(includes='禁止攻击') and self.resource(type='入侵计时', empty=true) 
canAttackUnderwaterUnits: false

turretSize: 10
turretTurnSpeed: 3
maxAttackRange: 180
#200
shootDelay: ${int(10*(1/gameSpeedRate))}
#turretMultiTargeting: true


[movement]
movementType: BUILDING

maxTurnSpeed: 0


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\bpilatta.wav, ROOT:\音频\语音+音效\bpilattb.wav, ROOT:\音频\语音+音效\bpilattc.wav, ROOT:\音频\语音+音效\bpilattd.wav
shoot_sound_vol: 2.0
shoot_flame: small


[projectile_1]
directDamage: 25
life: 60

instant: true
#buildingDamageMultiplier: 0.5
explodeEffect: CUSTOM:弹火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.8
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.0


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=180)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 180
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 1s


[hiddenAction_初始价值]
addResources: 价值=30


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:7}


[effect_土坑2]
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  0
yOffsetRelativeRandom:  0
spawnChance: 1


[effect_土坑3]
xOffsetRelativeRandom:  25
yOffsetRelativeRandom:  25
spawnChance: 0.5


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 400


[ai]
buildPriority: 0.02
recommendedInEachBaseNum: 6
recommendedInEachBasePriorityIfUnmet: 0.2
noneInBaseExtraPriority:0.2
#noneGlobalExtraPriority:0.2
maxEachBase: 8

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/爱国者导弹建造.ini
================================================================================


[core]
name: 爱国者导弹建造
price: 0
maxHp: 1000
mass: 10000
radius: 20

copyFrom: ROOT:\共享文件\3类\单位价值.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
#overrideAndReplace: turret_artillery, antiNukeLaucher
displayText: Allied Patriot Missiles
displayText_zh: 爱国者导弹
displayDescription: Target: Air unit\nDamage air: High\nfunds: -800\nPower: -50\nspecial: The launched missile has tracking capability.\nKill the enemy upgrade.\nDestroyed at full level will get a surviving full-level soldier.
displayDescription_zh: 攻击目标：空中单位\n伤害空军：高\n资金花费：800\n电力占用：50\n特殊：导弹具有追踪能力\n可自动升级\n满级死亡有幸存满级兵
isBuilding: true
footprint: 0,1,0,1
constructionFootprint: -1,0,1,1
buildSpeed: 0
selfBuildRate: 0s
fogOfWarSightRange: 4
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2, CUSTOM:炸毁


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='法国') and not self.hasUnitInTeam(withTag='阵营特色限制')
temporarilyAddTags: 特色减伤


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\爱国者导弹图标.png
image:        爱国者导弹建造.png

default_frame: 20
total_frames: 21
image_offsetX: 0
image_offsetY: 5
imageScale: 1.02
animation_idle_start: 20
animation_idle_end: 20
animation_idle_speed: 1
rotate_with_direction: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_卖钱]
autoTrigger: if self.hasFlag(id=27)
alsoQueueAction: 卖钱2


[hiddenAction_卖钱2]
buildSpeed: 1s
whenBuilding_playAnimation: 卖钱
whenBuilding_triggerAction: 卖声
addResources: 资金=${int(template_zijin.price*0.75)}
deleteSelf: true


[hiddenAction_卖声]
playSoundAtUnit: ROOT:\音频\语音+音效\uselbuil.wav:2
alsoQueueAction: 苏联副官, 盟军副官, 尤里副官


[hiddenAction_建造声]
autoTriggerOnEvent: created
playAnimation: jianzao
playSoundAtUnit: ROOT:\音频\语音+音效\uplace.wav:2
alsoQueueAction: 苏联副官2, 盟军副官2, 尤里副官2


[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=1) and not self.hasFlag(id=27)
setBodyRotation: 315
#showMessageToAllPlayers: 触发
convertTo: 爱国者导弹


[hiddenAction_初始价值]
addResources: 价值=50


[animation_jianzao]
body_0s: {frame:0}
body_1s: {frame:20}


[animation_卖钱]
body_0s: {frame:20}
body_1s: {frame:0}


[effect_土坑2]
image: ROOT:\共享文件\1类\土坑10.png
life: 1200
scaleFrom: 1.02
scaleTo: 1.02
alpha: 0.5
xOffsetRelative: 0
yOffsetRelative: 0
spawnChance: 1
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_土坑3]
@copyFromSection: effect_土坑2
image: ROOT:\共享文件\1类\土坑02.png
xOffsetRelativeRandom:  25
yOffsetRelativeRandom:  25
spawnChance: 0.5


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 1000

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/超时空引子-Ai.ini
================================================================================

[core]
name: 超时空引子-Ai
price: 0
maxHp: 1000
mass: 1
radius: 0

showInEditor: false
tags: 超时空引子
isUnselectable: true
disableAllUnitCollisions: true
effectOnDeath: NONE
explodeOnDeath:  false
hideScorchMark: true
canNotBeDirectlyAttacked:true


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: HOVER

moveSpeed: 10
moveAccelerationSpeed: 2
moveDecelerationSpeed: 10
maxTurnSpeed: 6
turnAcceleration: 1
reverseSpeedPercentage: 0.5
moveIgnoringBody: true
moveSlidingMode: true
moveSlidingDir: 0


[hiddenAction_1]
autoTrigger: if not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move')
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 车厂
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_mapMustBeReachable: false


[hiddenAction_2]
autoTrigger: if self.hasUnitInTeam(withTag='装甲', withinRange=150)
addWaypoint_type: touchTarget
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_mapMustBeReachable: false


[hiddenAction_3]
requireConditional: if self.hasUnitInTeam(withTag='车厂', withinRange=100)
autoTriggerOnEvent: touchTargetSuccess
spawnUnits: 超时空传送
deleteSelf: true


[hiddenAction_4]
autoTrigger: if not self.hasUnitInTeam(withTag='车厂') or not self.hasUnitInTeam(withTag='超时空传送仪') or numberOfUnitsInTeam(withTag='超时空引子', greaterThan=1) or self.hasUnitInTeam(withTag='超时空传送')
deleteSelf: true


================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/超时空传送.ini
================================================================================


[core]
name: 超时空传送
price: 1000
maxHp: 1000
mass: 1000
radius: 60

copyFrom: ROOT:\共享文件\3类\心控卸载.xxhq
#showInEditor: true
displayText: Chronosphere
displayText_zh: 超时空传送
displayDescription: If the unit is not entered, you can manually click to enter
displayDescription_zh: 进来呀
tags: 超时空传送
fogOfWarSightRange: 6
isBuilding: true
#canNotBeDirectlyAttacked: true
canOnlyBeAttackedByUnitsWithTags: 无
#isUnselectable: true
disableAllUnitCollisions: true
maxTransportingUnits: 10
transportUnitsRequireTag: 装甲
transportUnitsBlockOtherTransports: false
transportUnitsEachUnitAlwaysUsesSingleSlot: true
transportUnitsCanUnloadUnits: true
transportUnitsAddUnloadOption: true
transportUnitsKillOnDeath: false
stayNeutral:true
whileNeutralTransportAnyTeam:true
whileNeutralConvertToTransportedTeam:true
convertToNeutralIfNotTransporting:true
effectOnDeath: NONE
explodeOnDeath:  false
hideScorchMark: true


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\超时空传送图标.png
image:        ROOT:\共享文件\1类\隐藏.png

showTransportBar: false   


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

aimOffsetSpread: 0
turretMultiTargeting: true
#maxAttackRange: 80
#showRangeUIGuide: true


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[turret_1]
x: 0
y: 0

size: 0
warmup: 0
canAttackCondition: if not self.isControlledByAI()
canOnlyAttackUnitsWithTags: 传送点
shoot_flame: CUSTOM:传送4, CUSTOM:传送3
limitingRange: 9999
turnSpeed: 999
delay: 60
resourceUsage: setFlag=0
projectile: 1
shoot_sound: ROOT:\音频\语音+音效\schrmov.wav:2


[turret_1-Ai]
x: 0
y: 0

@copyFromSection: turret_1
canAttackCondition: if self.isControlledByAI() and self.transportingCount(greaterThan=7)


[turret_2]
x: 0
y: 0

size: 0
warmup: 0
canOnlyAttackUnitsWithTags: 传送点
limitingRange: 9999
turnSpeed: 999
projectile: 2


[projectile_1]
directDamage: 0
life: 60

instant: true
teleportSource: true
explodeEffect: CUSTOM:传送4
convertHitToSourceTeam: true


[projectile_2]
areaDamage: 1000
life: 0

speed:	0
areaRadius: 50
areaExpandTime: 0
targetGround: true
explodeOnEndOfLife:true
#instant: true
areaDamageNoFalloff: true
#areaHitAirAndLandAtSameTime: true
friendlyFire: true
#largeHitEffect: true
mutator0_ifUnitWithoutTags: 超时空控制, 生物, 生物2
mutator0_areaDamageMultiplier: 0
explodeEffect: NONE


[hiddenAction_1]
autoTriggerOnEvent: created
playSoundGlobally: ROOT:\音频\语音+音效\schrlo1.wav:2
spawnEffects: CUSTOM:传送


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=1.8) and self.customTimer(laterThanSeconds=1) and not self.hasFlag(id=0)
# and not self.hasFlag(id=0)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\schrlo2a.wav:2, ROOT:\音频\语音+音效\schrlo2b.wav:2, ROOT:\音频\语音+音效\schrlo2c.wav:2
spawnEffects: CUSTOM:传送2


[hiddenAction_3]
autoTrigger: if self.hasFlag(id=0) and not self.isAttacking()
buildSpeed: 2s
#forceUnloadTransportNow: true
playSoundAtUnit: ROOT:\音频\语音+音效\schrlo3.wav:2
removeGlobalTeamTags: Ai传送
deleteSelf: true
#showMessageToAllPlayers: -Ai传送


[hiddenAction_4]
autoTrigger: if not self.transportingCount(greaterThan=7) and not self.tags(includes='载入传送') and not self.hasFlag(id=0) 
temporarilyAddTags: 载入传送


[hiddenAction_5]
autoTrigger: if (self.transportingCount(greaterThan=7) or self.hasFlag(id=0)) and self.tags(includes='载入传送')
temporarilyRemoveTags: 载入传送


[action_6]
text: Manual transmission
text_zh: 手动传送
description: Let the unit enter, and then manually click the transfer location.
description_zh: 设置后单位进入可以不需要在超时空传送仪上设置传送点，\n然后就可以直接点击传送位置
buildSpeed: 0s
displayType: rally
isVisible: if not self.hasFlag(id=1) and self.isOnNeutralTeam()
addResources: setFlag=1


[action_7]
text: Transfer location
text_zh: 传送位置
description: Transfer units directly to the specified location.
description_zh: 直接传送单位到指定位置
buildSpeed: 0s
displayType: rally
isVisible: if self.hasFlag(id=1)
addResources: setFlag=0
fireTurretXAtGround: 1
alsoQueueAction: 3


[hiddenAction_Ai控制]
autoTrigger: if self.transportingCount(greaterThan=0) and not self.hasUnitInTeam(withTag='超时空控制', withinRange=100) and not self.hasFlag(id=1)
spawnUnits: 超时空控制
#showMessageToAllPlayers: ＋超时空控制


[hiddenAction_Ai传送]
autoTrigger: if self.isControlledByAI() and self.transportingCount(greaterThan=7) and not self.globalTeamTags(includes='Ai传送') and not self.hasFlag(id=1)
addGlobalTeamTags: Ai传送
#showMessageToAllPlayers: ＋Ai传送


[effect_传送]
image: 超时空传送.png
scaleFrom: 1.02
scaleTo: 1.02
life: 600
total_frames: 22
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.1
xOffsetRelative: 0
yOffsetRelative: -20
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
attachedToUnit: true
liveAfterAttachedDies: false


[effect_传送2]
@copyFromSection: effect_传送
animateFrameStart: 11
animateFrameEnd: 17
attachedToUnit: false
#xOffsetRelative: 0
#yOffsetRelative: 0
#xOffsetAbsolute: 0
#yOffsetAbsolute: -20


[effect_传送3]
@copyFromSection: effect_传送
animateFrameStart: 18
animateFrameEnd: 21
attachedToUnit: false


[effect_传送4]
@copyFromSection: effect_传送
image: 超时空传送2.png
total_frames: 16
animateFrameStart: 0
animateFrameEnd: 15
animateFrameSpeed: 0.1
attachedToUnit: false


[ai]
useAsTransport: true

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/巨炮建造.ini
================================================================================


[core]
name: 巨炮建造
price: 0
maxHp: 1400
mass: 50000
radius: 30

copyFrom: ROOT:\共享文件\3类\单位价值.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条4.xxhq
tags: 原始护甲, 建筑, 巨炮, 克生物, 克装甲, 克建筑
displayText: Allied Grand Cannon
displayText_zh: 巨炮
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: High\nDamage building: High\nFunds: -2000\nPower: -150\nspecial: Area damage has friend damage
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：高\n资金花费：2000\n电力占用：150\n特殊：范围伤害对自己也有效
isBuilding: true
footprint: -1,0,1,0
displayFootprint: -2,-1,2,1
constructionFootprint: -2,-1,2,1
buildSpeed: 0
selfBuildRate: 0s
fogOfWarSightRange: 25
effectOnDeath: CUSTOM:土坑3*3, CUSTOM:土坑4, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 280


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 280


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\巨炮图标.png
image:        巨炮建造.png

default_frame: 11
total_frames: 12
#image_offsetX: 0
image_offsetY: -28
imageScale: 1.02
animation_idle_start: 11
animation_idle_end: 11
animation_idle_speed: 1
rotate_with_direction: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_卖钱]
autoTrigger: if self.hasFlag(id=29)
alsoQueueAction: 卖钱2


[hiddenAction_卖钱2]
buildSpeed: 1s
whenBuilding_playAnimation: 卖钱
whenBuilding_triggerAction: 卖声
addResources: 资金=${int(template_zijin.price*0.75)}
deleteSelf: true


[hiddenAction_卖声]
playSoundAtUnit: ROOT:\音频\语音+音效\uselbuil.wav:2
alsoQueueAction: 苏联副官, 盟军副官, 尤里副官


[hiddenAction_建造声]
autoTriggerOnEvent: created
playAnimation: jianzao
playSoundAtUnit: ROOT:\音频\语音+音效\uplace.wav:2
alsoQueueAction: 苏联副官2, 盟军副官2, 尤里副官2


[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=1) and not self.hasFlag(id=29)
setBodyRotation: 315
#showMessageToAllPlayers: 触发
convertTo: 巨炮


[hiddenAction_初始价值]
addResources: 价值=100


[animation_jianzao]
body_0s: {frame:0}
body_1s: {frame:11}


[animation_卖钱]
body_0s: {frame:11}
body_1s: {frame:0}


[effect_土坑3]
image: ROOT:\共享文件\1类\土坑02.png
life: 1200
scaleFrom: 1.02
scaleTo: 1.02
alpha: 0.5
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  40
yOffsetRelativeRandom:  40
spawnChance: 0.5
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_土坑4]
@copyFromSection: effect_土坑3
image: ROOT:\共享文件\1类\土坑11.png
xOffsetRelativeRandom:  0
yOffsetRelativeRandom:  0
spawnChance: 0.5


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 2000

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/盟墙墩2.ini
================================================================================

[core]
name:盟墙墩2
copyFrom: 盟墙墩.ini
displayText: Allied Concrete Wall 2
displayText_zh: 盟墙墩2


[graphics]
image_offsetY:-10

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/区域极端天气.ini
================================================================================


[core]
name: 区域极端天气
price: 0
maxHp: 1000
mass: 1000
radius: 10

displayText: Regional Extreme Weather
displayText_zh: 区域极端天气
displayDescription: Reduces and continuously damages units entering the area. \n It is possible to form small lightning.
displayDescription_zh: 降低并且持续伤害进入该区域的单位。\n有概率形成小闪电。
tags: 小减速

isBuilding: true
#createOnAggressiveTeam: true
explodeOnDeath: false
hideScorchMark: true
disableAllUnitCollisions: true
isUnselectable: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0


[hiddenAction_警告]
autoTriggerOnEvent: created
showMessageToAllPlayers: System warning: Regional Extreme Weather is emerging!
showMessageToAllPlayers_zh: 系统警告：区域性极端气候正在产生！
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2
fireTurretXAtGround: 3


[graphics]
isVisible: if self.timeAlive(laterThanSeconds=6)
image:        ROOT:\3特殊\区块雨.png

imageScale:	1
total_frames: 16
animation_idle_start: 0
animation_idle_end: 15
animation_idle_speed: 5


[attack]
canAttack: true
canAttackFlyingUnits: if self.timeAlive(laterThanSeconds=5)
canAttackLandUnits: if self.timeAlive(laterThanSeconds=5)
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 10
maxAttackRange: 9999
shootDelay: ${int(4*(1/gameSpeedRate))}
showRangeUIGuide: true


[movement]

movementType: AIR
targetHeight: 0
targetHeightDrift: 0


[turret_1]
x: 0
y: 0

onShoot_triggerActions: 1


[turret_2]
x: 0
y: 0

canShoot: false
projectile:2


[turret_3]
#
x: -4096
y: 3072

canShoot: false
projectile: 3


[projectile_1]
directDamage: 0
life: 0
explodeEffect: NONE


[projectile_2]
areaDamage: 10
life: 30

areaRadius: 240
instant: true
friendlyFire: true
explodeEffect: NONE
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.2
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.2
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.2


[projectile_3]
areaDamage: 0

life: 9999
areaRadius: 0
speed: 20
largeHitEffect: true
targetGround: true
targetGround_includeTargetHeight: true
targetGroundHeightOffset: 200
#targetGroundSpread: 200
image: 区域极端天气催化飞弹.png
drawSize: 1.0
deflectionPower:-1
alwaysVisibleInFog: true
#shouldRevealFog:true
trailEffect: CUSTOM:尾烟*1
trailEffectRate: 2
explodeEffect: CUSTOM:爆炸


[hiddenAction_1]
spawnUnits: 闪电风暴2(offsetRandomX=260, offsetRandomY=260, spawnChance=0.25)
spawnEffects: CUSTOM:乌云
fireTurretXAtGround: 2
fireTurretXAtGround_withOffset: 0,0


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=5) and self.timeAlive(withinSeconds=5.1)
playSoundGlobally: ROOT:\音频\语音+音效\sweaintr.wav:2
temporarilyAddTags: 区域极端天气
spawnEffects: CUSTOM:天黑


[hiddenAction_3]
autoTrigger: if self.timeAlive(laterThanSeconds=25)
deleteSelf: true


[hiddenAction_下雨声] 
autoTrigger: if self.timeAlive(laterThanSeconds=5) and self.customTimer(laterThanSeconds=9)
resetCustomTimer: true
playSoundGlobally: ROOT:\音频\语音+音效\arain01a.wav:2


[effect_天黑]
priority: veryhigh
createWhenOffscreen: true
#alsoEmitEffectsOnDeath: CUSTOM:天黑2
image: ROOT:\共享文件\1类\地图渲染.png
color: #FF000000
scaleFrom: 100
scaleTo: 100
alpha: 0.6
life: 900
#dirOffsetRandom:180
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 60
fadeOut: false
attachedToUnit: false
drawUnderUnits: false


[effect_乌云]
image: 闪电风暴.png
total_frames: 30
animateFrameStart: 0
animateFrameEnd: 29
animateFrameSpeed: 0.22
life: 600
#hOffset: 150
#dirOffset: 0
xOffsetRelative: 0
yOffsetRelative: 200
scaleFrom: 1.02
scaleTo: 1.02
fadeOut: false
attachedToUnit: false
alwayStartDirAtZero: true
spawnChance: 0.5
ifSpawnFailsEmitEffects: CUSTOM:乌云2
priority: critical
xOffsetRelativeRandom: 260
yOffsetRelativeRandom: 260


[effect_乌云2]
@copyFromSection: effect_乌云
image: 闪电风暴2.png
spawnChance: 1
ifSpawnFailsEmitEffects: NONE


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸8.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpdeathraina.wav:2, ROOT:\音频\语音+音效\gexpdeathrainb.wav:2, ROOT:\音频\语音+音效\gexpdeathrainc.wav:2
scaleFrom: 2.0
scaleTo: 2.0
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟2.png
life: 60
scaleFrom: 0.6
scaleTo: 0.4
attachedToUnit: false
drawUnderUnits: false
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFramePingPong: false
animateFrameSpeed: 0.25
alwayStartDirAtZero: true
atmospheric: true



================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/天气控制器.ini
================================================================================


[core]
name: 天气控制器
price: 0
maxHp: 1350
mass: 50000
radius: 45

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq
displayText: Allied Weather Controller
displayText_zh: 天气控制器
displayDescription: Target: Air unit/Ground unit/Underwater unit\nDamage creature: Very high\nDamage armor: Very high\nDamage air: Very high\nDamage building: Very high\nFunds: -5000\nPower: -400\nspecial: Super weapon.\nLimited to one.\nNeed time to prepare.
displayDescription_zh: 攻击目标：空中单位/地面单位/海面单位/海下单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：很高\n资金花费：5000\n电力占用：400\n特殊：超级武器\n限造一台\n需要时间准备
borrowResourcesWhileAlive: 电力=400
tags: 原始护甲, 建筑重甲, 建筑, 天气控制器, 可入侵, 空下, 可重置计时, 带扩展建筑
fogOfWarSightRange: 6
armour: 99999
armourMinDamageToKeep: 1050
isBuilding: true
footprint: -2,-1,2,1
#displayFootprint: -2,-1,2,1
constructionFootprint: -2,-1,2,1
buildSpeed: 0
selfBuildRate: 1s
#displayLocaleKey: NukeLaucher
#overrideAndReplace: NukeLaucher
isLockedIfGameModeNoNuke: true
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\天气控制器图标.png
image:        天气控制器.png

default_frame: 8
total_frames: 15
imageScale: 1.02
#image_offsetX: -10
image_offsetY: -45
#image_wreak:  NONE
animation_idle_start: 8
animation_idle_end: 8
animation_idle_speed: 6
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[action_显示计时]
text: Countdown
text_zh: 倒计时
price: 天气计时=1
displayRemainingStockpile: true
displayType: rally
isActive: false
isAlsoViewableByAllies: true
#isVisible: if not self.resource(type='临时救援计时', empty=true)
#addResources: 超时空计时=-1
showMessageToAllPlayers: 触发


[action_卖钱2]
autoTrigger: if self.hasFlag(id=29) and self.queueSize(empty=true)


[hiddenAction_时]
autoTriggerOnEvent: created
addResources: 天气计时=420
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，天气控制器已放置完成
showMessageToAllEnemyPlayers: System warning: Allied Weather Controller has been placed! Player: %{self.playerName}, team: %{self.teamName}.
#playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav


[hiddenAction_倒计时] 
autoTrigger: if not self.resource(type='天气计时', empty=true) and self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击')
addResources: 天气计时=-1


[hiddenAction_倒计时2] 
autoTrigger: if self.resource(type='天气计时', equalTo=60) and self.resource(type="电力",greaterThan=0)
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，天气控制器倒计时还剩60秒启动
showMessageToAllEnemyPlayers: System warning: Allied Weather Controller countdown with 60 seconds left! Player: %{self.playerName}, team: %{self.teamName}.
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_重置计时] 
requireConditional: if numberOfUnitsInTeam(withTag='天气控制器', lessThan=1)
autoTriggerOnEvent: destroyed
resourceAmount: 天气计时
resourceAmount_setValue: 0


[hiddenAction_重置计时2] 
autoTrigger: if not self.resource(type='入侵计时', empty=true)
showMessageToPlayer_zh: 系统警告：天气控制器倒计时被重置
showMessageToPlayer: System warning: Allied Weather Controller countdown has been reset!
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2
autoTriggerOnEvent: teamChanged
resourceAmount: 天气计时
resourceAmount_setValue: 420
alsoTriggerAction: 重置计时3


[hiddenAction_重置计时3]
resourceAmount: 入侵计时
resourceAmount_setValue: 0


[hiddenAction_1] 
autoTrigger: if self.resource(type='天气计时', lessThan=11) and self.queueSize(empty=true)
showMessageToPlayer_zh: 系统提示：天气控制器已经启动
showMessageToPlayer: System hint: Allied Weather Controller is ready.
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，天气控制器已经启动
showMessageToAllEnemyPlayers: System warning: Allied Weather Controller is ready! Player: %{self.playerName}, team: %{self.teamName}.
playSoundGlobally: ROOT:\音频\语音+音效\swearead.wav:2
alsoQueueAction: 2


[hiddenAction_2]
buildSpeed: 0.65s
whenBuilding_playAnimation: 开关动画
convertTo: 天气控制器2
convertTo_keepCurrentTags: true


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*4(offsetRandomX=60, offsetRandomY=60)


[action_转换队伍]
isVisible: false


[hiddenAction_初始价值]
addResources: 价值=200


[animation_开关动画]
body_0s: {frame:8}
body_0.65s: {frame:14}


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[effect_土坑2]
xOffsetRelativeRandom:  50
yOffsetRelativeRandom:  50


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[global_resource_天气计时]
displayName: Lightning storm countdown
displayName_zh: 闪电风暴倒计时
displayColor: #FF007FFF


[template_zijin]
price: 5000
@global dianli: -400


#[ai]
#noneInBaseExtraPriority:0.10
#noneGlobalExtraPriority:0.10
#maxGlobal: 1

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/超时空传送仪.ini
================================================================================


[core]
name: 超时空传送仪
price: 0
maxHp: 1300
mass: 50000
radius: 45

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq
displayText: Allied Chronosphere
displayText_zh: 超时空传送仪
displayDescription: Funds: -3000\nPower: -200\nSpecial: Super auxiliary equipment.\nLimited to one.\nDestroy creatures in range when teleporting.\n\nAlso effective for friendly vehicles.\nNeed time to prepare.
displayDescription_zh: 资金花费：3000\n电力占用：200\n特殊：超级辅助\n限造一台\n传送载具\n传送时对敌我生物伤害很高\n可以传送友军载具\n需要时间准备
borrowResourcesWhileAlive: 电力=200
tags: 原始护甲, 建筑重甲, 建筑, 超时空传送仪, 可入侵, 空下, 可重置计时, 带扩展建筑
fogOfWarSightRange: 6
isBuilding: true
footprint: -3,-1,3,2
displayFootprint: -4,-1,4,2
constructionFootprint: -4,-1,4,2
buildSpeed: 0
selfBuildRate: 1s
isLockedIfGameModeNoNuke: true
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\超时空装置图标.png
image:        超时空传送仪.png

default_frame: 8
total_frames: 15
imageScale: 1.02
image_offsetX: -10
image_offsetY: -42
#scaleImagesTo:80
#image_wreak:  NONE
animation_idle_start: 8
animation_idle_end: 8
animation_idle_speed: 6
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[action_显示计时]
text: Countdown
text_zh: 倒计时
price: 超时空计时=1
displayRemainingStockpile: true
displayType: rally
isActive: false
isAlsoViewableByAllies: true
#isVisible: if not self.resource(type='临时救援计时', empty=true)
#addResources: 超时空计时=-1
showMessageToAllPlayers: 触发


[action_卖钱2]
autoTrigger: if self.hasFlag(id=29) and self.queueSize(empty=true)


[hiddenAction_时]
autoTriggerOnEvent: created
addResources: 超时空计时=300
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，超时空传送仪已放置完成
showMessageToAllEnemyPlayers: System warning: Allied Chronosphere has been placed! Player: %{self.playerName}, team: %{self.teamName}.
#playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav
#%{self.resource.credits} 


[hiddenAction_倒计时] 
autoTrigger: if not self.resource(type='超时空计时', empty=true) and self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击')
addResources: 超时空计时=-1


[hiddenAction_倒计时2] 
autoTrigger: if self.resource(type='超时空计时', equalTo=60) and self.resource(type="电力",greaterThan=0)
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，超时空传送仪倒计时还剩60秒启动
showMessageToAllEnemyPlayers: System warning: Allied Chronosphere countdown with 60 seconds left! Player: %{self.playerName}, team: %{self.teamName}.
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2
#playSoundToPlayer: 


[hiddenAction_重置计时] 
requireConditional: if numberOfUnitsInTeam(withTag='超时空传送仪', lessThan=1)
autoTriggerOnEvent: destroyed
resourceAmount: 超时空计时
resourceAmount_setValue: 0


[hiddenAction_重置计时2] 
autoTrigger: if not self.resource(type='入侵计时', empty=true)
showMessageToPlayer_zh: 系统警告：超时空传送仪倒计时被重置
showMessageToPlayer: System warning: Allied Chronosphere countdown has been reset!
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2
autoTriggerOnEvent: teamChanged
resourceAmount: 超时空计时
resourceAmount_setValue: 300
alsoTriggerAction: 重置计时3


[hiddenAction_重置计时3]
resourceAmount: 入侵计时
resourceAmount_setValue: 0


[hiddenAction_1] 
autoTrigger: if self.resource(type='超时空计时', lessThan=11) and self.queueSize(empty=true)
showMessageToPlayer_zh: 系统提示：超时空传送仪已经启动
showMessageToPlayer: System hint: Allied Chronosphere is ready.
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，超时空传送仪已经启动
showMessageToAllEnemyPlayers: System warning: Allied Chronosphere countdown is ready! Player: %{self.playerName}, team: %{self.teamName}.
playSoundGlobally: ROOT:\音频\语音+音效\schropen.wav:2
alsoQueueAction: 2


[hiddenAction_2]
buildSpeed: 0.65s
whenBuilding_playAnimation: 开关动画
convertTo: 超时空传送仪2
convertTo_keepCurrentTags: true


[hiddenAction_3]
autoTrigger: if not self.tags(includes='取消')
temporarilyAddTags: 取消


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*4(offsetRandomX=60, offsetRandomY=60)


[action_转换队伍]
isVisible: false


[hiddenAction_初始价值]
addResources: 价值=100


[animation_开关动画]
body_0s: {frame:8}
body_0.65s: {frame:14}


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[effect_电力]
#scaleFrom:2.5
#scaleTo:2.5
xOffsetRelative: -25
yOffsetRelative: 20


[effect_土坑2]
xOffsetRelativeRandom: 80
yOffsetRelativeRandom: 40


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[global_resource_超时空计时]
displayName: Chronosphere countdown
displayName_zh: 超时空传送倒计时
displayColor: #FFFFFFFF


[template_zijin]
price: 3000
@global dianli: -200

#[ai]
#noneInBaseExtraPriority:0.10
#noneGlobalExtraPriority:0.10
#maxGlobal: 1

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/盟墙那.ini
================================================================================


[core]
name:盟墙那
copyFrom: 盟墙墩.ini
footprint: -1,0,0,0
constructionFootprint: -1,0,0,0
displayText: Allied Concrete Wall 3
displayText_zh: 盟墙那


[graphics]
image:盟墙那.png

image_offsetX:-10
image_offsetY:-15

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/超时空传送仪2.ini
================================================================================


[core]
name: 超时空传送仪2
copyFrom: 超时空传送仪.ini
showInEditor: false


[graphics]
image:        超时空传送仪2.png

default_frame: 0
total_frames: 13
animation_idle_start: 0
animation_idle_end: 5
animation_idle_speed: 6


[attack]
canAttack: true
canAttackLandUnits: if self.isControlledByAI()
turretMultiTargeting: true


[turret_传送]
x: 0
y: 0

canShoot: false
limitingRange: 9999
#shoot_sound: nuke_launch
#shoot_sound_vol:0.08
projectile: 传送


[turret_传送2]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 传送2


[turret_传送2-Ai]
x: 0
y: 0

canAttackCondition: if (numberOfUnitsInEnemyTeam(withTag='车厂', greaterThan=0) or numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) or numberOfUnitsInEnemyTeam(withTag='兵营', greaterThan=0) or numberOfUnitsInEnemyTeam(withTag='机场', greaterThan=0)) and not self.hasFlag(id=1) and self.queueSize(empty=true) and self.resource(type="电力",greaterThan=0) and self.globalTeamTags(includes='Ai传送')
canOnlyAttackUnitsWithTags: 车厂, 基地, 兵营, 机场
limitingRange: 9999
resourceUsage: setFlag=1
projectile: 传送2-Ai


[turret_传送2-Ai2]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='车厂', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='兵营', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='机场', greaterThan=0) and not self.hasFlag(id=1) and self.queueSize(empty=true) and self.resource(type="电力",greaterThan=0) and self.globalTeamTags(includes='Ai传送')
canOnlyAttackUnitsWithoutTags: 车厂, 基地, 兵营, 机场
limitingRange: 9999
resourceUsage: setFlag=1
projectile: 传送2-Ai


[projectile_传送]
directDamage: 0
life: 60

instant: true
targetGround: true
explodeEffect: NONE
spawnUnit: 超时空传送, 超时空控制


[projectile_传送2]
directDamage: 0
life: 60

@copyFromSection: projectile_传送
spawnUnit: 超时空传送2


[projectile_传送2-Ai]
directDamage: 0
life: 60

@copyFromSection: projectile_传送
#targetGroundSpread: 100
spawnUnit: 超时空传送2*10(offsetRandomX=200, offsetRandomY=200, skipIfOverlapping=true)


[action_卖钱2]
autoTrigger: false
stopLastAnimation: true
alsoQueueAction: 2


[action_传送]
iconImage: ROOT:\单位图标\盟军\建筑\超时空传送图标.png
text: Ready
text_zh: 已就绪
description: Please click the vehicle you want to deliver.\nAlso effective against friendly forces or enemies.
description_zh: 设置传送的对象，只能传送地面装甲单位\n可传送友军和敌方的单位
isActive: if not self.tags(includes='禁止攻击')
isVisible: if not self.hasFlag(id=1) and self.queueSize(empty=true) and self.resource(type='超时空计时', empty=true) and self.resource(type="电力",greaterThan=0)
buildSpeed: 0s
displayType: rally
fireTurretXAtGround: 传送
addResources: setFlag=1
temporarilyRemoveTags: 取消
isGuiBlinking: if self.queueSize(empty=true)


[hiddenAction_Ai传送]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='超时空引子') and not numberOfUnitsInNeutralTeam(withTag='超时空传送', greaterThan=0) and not self.hasUnitInTeam(withTag='超时空传送') and self.hasUnitInTeam(withTag='车厂') and not self.hasFlag(id=1) and self.queueSize(empty=true) and self.resource(type='超时空计时', empty=true) and self.resource(type="电力",greaterThan=0)
temporarilyRemoveTags: 取消
spawnUnits: 超时空引子-Ai
#showMessageToAllPlayers: ＋超时空引子


[action_传送2]
text: Location
text_zh: 传送地点
description: Please click the location you want to deliver.\nAttention, try to choose an open place.
description_zh: 设置传送到达的地点，尽量选择开阔的地面\n敌人的话随便了
isActive: if not self.tags(includes='禁止攻击')
isVisible: if self.hasFlag(id=1) and self.queueSize(empty=true) and self.resource(type="电力",greaterThan=0)
buildSpeed: 0s
displayType: rally
alsoQueueAction: 2
fireTurretXAtGround: 传送2
addResources: unsetFlag=1
isGuiBlinking: if self.queueSize(empty=true)


[hiddenAction_Ai传送2]
autoTrigger: if self.isControlledByAI() and self.hasFlag(id=1) and self.queueSize(empty=true) and self.resource(type="电力",greaterThan=0) and self.globalTeamTags(includes='Ai传送')
alsoQueueAction: 2
addResources: unsetFlag=1
removeGlobalTeamTags: Ai传送
#showMessageToAllPlayers: -Ai传送-仪器


[action_取消]
text: Cancel
text_zh: 取消传送
description: Reset
description_zh: 重置
isVisible: if self.hasFlag(id=1)
buildSpeed: 0s
addResources: unsetFlag=1
temporarilyAddTags: 取消


[hiddenAction_停电]
autoTrigger: if (not self.resource(type="电力",greaterThan=0) or self.tags(includes='禁止攻击')) and not self.hasFlag(id=0)
playAnimation: 停电动画
addResources: setFlag=0


[hiddenAction_停电2]
autoTrigger: if self.resource(type="电力",greaterThan=0) and self.hasFlag(id=0) and not self.tags(includes='禁止攻击')
stopLastAnimation: true
addResources: unsetFlag=0


[hiddenAction_准备音效] 
autoTrigger: if self.queueSize(empty=true) and self.resource(type="电力",greaterThan=0)
playSoundAtUnit: ROOT:\音频\语音+音效\schrlo5a.wav, ROOT:\音频\语音+音效\schrlo5b.wav, ROOT:\音频\语音+音效\schrlo5c.wav


[hiddenAction_时]
@copyFrom_skipThisSection: true 


#[hiddenAction_倒计时] 
#@copyFrom_skipThisSection: true 


[hiddenAction_1]
@copyFrom_skipThisSection: true 


[hiddenAction_2]
addResources: 超时空计时=300
convertTo: 超时空传送仪


[hiddenAction_3]
autoTrigger: false


[animation_开关动画]
body_0s: {frame:6}
body_0.65s: {frame:12}


[animation_停电动画]
body_0s: {frame:9}
body_99999s: {frame:9}


[ai]
upgradedFrom: 超时空传送仪

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/天气控制器2.ini
================================================================================


[core]
name: 天气控制器2
copyFrom: 天气控制器.ini
showInEditor: false


[graphics]
image:        天气控制器2.png

default_frame: 0
total_frames: 12
animation_idle_start: 0
animation_idle_end: 5
animation_idle_speed: 6


[attack]
canAttack: true
canAttackLandUnits: if self.isControlledByAI()
turretMultiTargeting: true


[turret_风暴]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 风暴


[turret_风暴-Ai]
x: 0
y: 0

canAttackCondition: if self.queueSize(empty=true) and self.resource(type='天气计时', empty=true) and self.resource(type="电力",greaterThan=0) and not self.hasFlag(id=1)
canOnlyAttackUnitsWithTags: 基地
limitingRange: 9999
resourceUsage: setFlag=1
onShoot_triggerActions: 风暴发射-Ai
projectile: 风暴-Ai


[turret_风暴-Ai2]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='天气计时', empty=true) and self.resource(type="电力",greaterThan=0) and not self.hasFlag(id=1)
canOnlyAttackUnitsWithTags: 车厂, 机场, 兵营, 船坞
limitingRange: 9999
resourceUsage: setFlag=1
onShoot_triggerActions: 风暴发射-Ai
projectile: 风暴


[turret_风暴-Ai3]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='车厂', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='兵营', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='机场', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='船坞', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='天气计时', empty=true) and self.resource(type="电力",greaterThan=0) and not self.hasFlag(id=1)
#canOnlyAttackUnitsWithTags: 
canOnlyAttackUnitsWithoutTags: 基地, 车厂, 机场, 兵营, 船坞
limitingRange: 9999
resourceUsage: setFlag=1
onShoot_triggerActions: 风暴发射-Ai
projectile: 风暴


[projectile_风暴]
directDamage: 0
life: 60

instant: true
targetGround: true
explodeEffect: NONE
spawnUnit: 闪电风暴母


[projectile_风暴-Ai]
directDamage: 0
life: 60

@copyFromSection: projectile_风暴
targetGroundSpread: 300


[action_风暴]
iconImage: ROOT:\单位图标\盟军\建筑\闪电风暴图标.png
text: Ready
text_zh: 已就绪
description: Please click where you want to launch.\nBe careful not to click to your position.
description_zh: 设置你的攻击目标，然后让风暴来的更猛烈些吧
isActive: if not self.tags(includes='禁止攻击')
isVisible: if self.queueSize(empty=true) and self.resource(type='天气计时', empty=true) and self.resource(type="电力",greaterThan=0)
buildSpeed: 0s
displayType: rally
alsoQueueAction: 2
fireTurretXAtGround: 风暴
isGuiBlinking: if self.resource(type='天气计时', empty=true) and self.resource(type="电力",greaterThan=0)
showMessageToAllEnemyPlayers: System warning: Lightning Storm has been released! Player: %{self.playerName}, Team: %{self.teamName}.
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，闪电风暴已经释放!


[hiddenAction_风暴-Ai]
autoTrigger: if self.isControlledByAI() and self.queueSize(empty=true) and self.hasFlag(id=1)
addResources: unsetFlag=1
#showMessageToAllPlayers: 触发
alsoQueueAction: 2


[hiddenAction_风暴发射-Ai]
showMessageToAllEnemyPlayers: System warning: Lightning Storm has been released! Player: %{self.playerName}, Team: %{self.teamName}.
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，闪电风暴已经释放!


[action_卖钱2]
autoTrigger: false
#convertTo: 天气控制器
stopLastAnimation: true
alsoQueueAction: 2


[hiddenAction_停电]
autoTrigger: if (not self.resource(type="电力",greaterThan=0) or self.tags(includes='禁止攻击')) and not self.hasFlag(id=0)
playAnimation: 停电动画
addResources: setFlag=0


[hiddenAction_停电2]
autoTrigger: if self.resource(type="电力",greaterThan=0) and self.hasFlag(id=0) and not self.tags(includes='禁止攻击')
stopLastAnimation: true
addResources: unsetFlag=0


[hiddenAction_时]
@copyFrom_skipThisSection: true 


#[hiddenAction_倒计时] 
#@copyFrom_skipThisSection: true 


[hiddenAction_1]
@copyFrom_skipThisSection: true 


[hiddenAction_准备音效] 
autoTrigger: if self.queueSize(empty=true) and self.resource(type="电力",greaterThan=0)
playSoundAtUnit: ROOT:\音频\语音+音效\swealo2a.wav:2, ROOT:\音频\语音+音效\swealo2b.wav:2, ROOT:\音频\语音+音效\swealo2c.wav:2


[hiddenAction_2]
buildSpeed: 0.9s
addResources: 天气计时=420
convertTo: 天气控制器


[animation_开关动画]
body_0s: {frame:6}
body_0.5s: {frame:11}
body_0.65s: {frame:11}


[animation_停电动画]
body_0s: {frame:9}
body_99999s: {frame:9}


[ai]
upgradedFrom: 天气控制器

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/超时空控制.ini
================================================================================


[core]
name: 超时空控制
price: 1000
maxHp: 1000
mass: 10000
radius: 25

showInEditor: false
tags: 超时空控制
isBuilding: true
fogOfWarSightRange: 0
canOnlyBeAttackedByUnitsWithTags: 无
isUnselectable: true
disableAllUnitCollisions: true
effectOnDeath: NONE
#effectOnDeathGroundCollosion:  NONE
explodeOnDeath:  false
#explodeOnDeathGroundCollision: false
hideScorchMark: true


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[turret_1]
x: 0
y: 0


[projectile_1]
areaDamage: 1000
life: 60

areaRadius: 10
areaExpandTime: 0
targetGround: true
#explodeOnEndOfLife:true
instant: true
areaDamageNoFalloff: true
#areaHitAirAndLandAtSameTime: true
friendlyFire: true
#largeHitEffect: true
mutator0_ifUnitWithoutTags: 超时空传送
mutator0_areaDamageMultiplier: 0
explodeEffect: NONE


[hiddenAction_1]
autoTrigger: if numberOfUnitsInTeam(withTag='取消', greaterThan=0) or (not numberOfUnitsInTeam(withTag='超时空传送仪', greaterThan=0) and not self.numberOfUnitsInAllyNotOwnTeam(greaterThan=0, withinRange=80) and not numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=80))
#(not numberOfUnitsInNeutralTeam(withTag='超时空传送', greaterThan=0, withinRange=80) and not numberOfUnitsInTeam(withTag='装甲', greaterThan=0, withinRange=80) and not numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=80) )
fireTurretXAtGround: 1
fireTurretXAtGround_withProjectile: 1
fireTurretXAtGround_withOffset: 0,0
removeGlobalTeamTags: Ai传送
#showMessageToAllPlayers: 控制
deleteSelf: true

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/前哨节点.ini
================================================================================


[core]
name: 前哨节点
price: 0
maxHp: 800
mass: 10000
radius: 20

#overrideAndReplace: turret
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑防甲, 建筑, 电力, 克生物, 空下, 带扩展建筑, 维修节点
displayText: Outpost Node
displayText_zh: 前哨节点
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Medium\nDamage building: Low\nspecial: You can extend the building next to it.\nAutomatically repairs nearby armored units and buildings.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：中\n伤害建筑：低\n特殊：可自动升级\n可以在旁边延伸建筑物。\n自动修复附近的装甲单位和建筑。
isBuilding: true
#footprint: 0,0,0,0
#constructionFootprint: -1,-1,1,1
fogOfWarSightRange: 16
buildSpeed: 0
selfBuildRate: 1s
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2, CUSTOM:炸毁


[placementRule_建造规则]
searchTeam: own
searchDistance: 600


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 600


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\前哨节点图标.png
image:        前哨节点.png

default_frame: 13
total_frames: 14
imageScale: 1.0
image_offsetX: 0
image_offsetY: -10
animation_idle_start: 13
animation_idle_end: 13
animation_idle_speed: 1
rotate_with_direction:false
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:  if not self.tags(includes='禁止攻击') and self.resource(type='入侵计时', empty=true) 
canAttackUnderwaterUnits: false

turretSize: 10
turretTurnSpeed: 3
maxAttackRange: 225
#200
shootDelay: ${int(10*(1/gameSpeedRate))}
#turretMultiTargeting: true


[movement]
movementType: BUILDING

maxTurnSpeed: 0


[turret_1]
x: 0
y: 10

barrelHeight: 45
shoot_sound: ROOT:\音频\语音+音效\bpilatta.wav, ROOT:\音频\语音+音效\bpilattb.wav, ROOT:\音频\语音+音效\bpilattc.wav, ROOT:\音频\语音+音效\bpilattd.wav
shoot_sound_vol: 2.0
shoot_flame: small


[projectile_1]
directDamage: 25
life: 60

instant: true
#buildingDamageMultiplier: 0.5
explodeEffect: CUSTOM:弹火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.8
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.0


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=225)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 225
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 1s


[hiddenAction_自动部署]
autoTrigger: if self.lastConverted(withinSeconds=1)
autoTriggerOnEvent: created
playSoundAtUnit: ROOT:\音频\语音+音效\uplace.wav:2
playAnimation: jianzao


[hiddenAction_初始价值]
addResources: 价值=40


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:13}


[effect_土坑2]
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  0
yOffsetRelativeRandom:  0
spawnChance: 1


[effect_土坑3]
xOffsetRelativeRandom:  25
yOffsetRelativeRandom:  25
spawnChance: 0.5


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 800


[ai]
buildPriority: 0.02
recommendedInEachBaseNum: 6
recommendedInEachBasePriorityIfUnmet: 0.2
noneInBaseExtraPriority:0.2
#noneGlobalExtraPriority:0.2
maxEachBase: 8

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/巨炮.ini
================================================================================


[core]
name: 巨炮
price: 0
maxHp: 1400
mass: 50000
radius: 30

#overrideAndReplace: turret_artillery, antiNukeLaucher
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条4.xxhq
tags: 原始护甲, 建筑防甲, 建筑, 巨炮, 克生物, 克装甲, 克建筑, 空下, 炸飞人
showInEditor: false
displayText: Allied Grand Cannon
displayText_zh: 巨炮
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: High\nDamage building: High\nFunds: -2000\nPower: -150\nspecial: Area damage has friend damage
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：高\n资金花费：2000\n电力占用：150\n特殊：范围伤害对自己也有效
borrowResourcesWhileAlive: 电力=150
isBuilding: true
footprint: -1,0,1,0
displayFootprint: -2,-1,2,1
constructionFootprint: -2,-1,2,1
buildSpeed: 0
selfBuildRate:1s
fogOfWarSightRange: 25
effectOnDeath: CUSTOM:土坑3*3, CUSTOM:土坑4, CUSTOM:炸毁, CUSTOM:炸毁7


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\巨炮图标.png
image:        巨炮.png

total_frames: 1
#image_offsetX: -2
#image_offsetY: -33
imageScale: 1.02
frame_width: 180
frame_height: 180
#image_wreak:  NONE
#image_turret: NONE
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 0
animation_attack_end: 1
animation_attack_speed: 5
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   if self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 1
#maxAttackRange: 450
shootDelay: ${int(94*(1/gameSpeedRate))}


[movement]
movementType: BUILDING

maxTurnSpeed: 1
turnAcceleration: 1


[turret_1]
x: 0
y: 0

#idleSpin: 0.1
limitingRange: 480
limitingMinRange: 180
barrelHeight: 14
warmup: 0
barrelY: 90
shoot_flame: CUSTOM:映射, CUSTOM:开火
shoot_sound: ROOT:\音频\语音+音效\bgraatta.wav
shoot_sound_vol: 2


[projectile_1]
areaDamage: 225
life: 180

areaRadius: 60
speed: 6
frame: 9
image: ROOT:\共享文件\1类\炮弹2.png
drawSize: 1.0
targetGround: true
trailEffect: true
trailEffectRate: 2
explodeEffect: CUSTOM:映射3, CUSTOM:爆炸
effectOnCreate: CUSTOM:映射2
initialUnguidedSpeedHeight: 2
gravity: 0.18
lightCastOnGround: true
friendlyFire: true
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.80
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.80
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.00
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.6


[action_卖钱2]
convertTo: 巨炮建造
alsoQueueAction: NONE


[hiddenAction_攻击超出取消]
autoTrigger: if self.hasActiveWaypoint(type='attack') and distanceBetweenSquared(self, activeWaypointTarget)>480*480
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:0}


[effect_土坑3]
xOffsetRelativeRandom:  40
yOffsetRelativeRandom:  40
spawnChance: 0.5


[effect_土坑4]
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  0
yOffsetRelativeRandom:  0


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸3.png
alsoPlaySound: ROOT:\音频\语音+音效\bconcba.wav:2, ROOT:\音频\语音+音效\bconcbb.wav:2, ROOT:\音频\语音+音效\bconcbc.wav:2
scaleFrom: 1.05
scaleTo: 1.05
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
life: 600
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_开火]
image: ROOT:\共享文件\1类\开火特效3.png
alsoPlaySound: ROOT:\音频\语音+音效\bhammfaa.wav:2, ROOT:\音频\语音+音效\bhammfab.wav:2, ROOT:\音频\语音+音效\bhammfac.wav:2
scaleFrom: 1.35
scaleTo: 1.35
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
attachedToUnit:false


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1.2
scaleTo: 1
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
image: ROOT:\共享文件\1类\映射.png
life: 30
scaleFrom: 0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
#scaleTo: 0.8
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false


[template_zijin]
price: 2000
@global dianli: -150


[ai]
upgradedFrom: 巨炮建造

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/光诱导.ini
================================================================================


[core]
name: 光诱导
price: 0
maxHp: 1000
mass: 3000
radius: 10

showInEditor: false
tags: 光诱导
armour: 100
armourMinDamageToKeep:0
canOnlyBeAttackedByUnitsWithTags: 光棱塔
createOnAggressiveTeam: true
isUnselectable: true


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND


[hiddenAction_测试]
autoTrigger: if not self.hasParent() 
#showMessageToAllPlayers: 已删除
deleteSelf: true

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/超时空传送3-隐藏.ini
================================================================================

[core]
name: 超时空传送3-隐藏
copyFrom: 超时空传送3.ini

showInEditor: false
showOnMinimap: false
isUnselectable: true
fogOfWarSightRange: 0
exit_x:0
exit_y:0
#exit_dirOffset: 45
exit_moveAwayAmount:0


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[action_2]
isVisible: false


[action_3]
isVisible: false


[action_4]
isVisible: false


[hiddenAction_5]
autoTrigger: if self.ammo(greaterThan=0)
addResources: ammo=-1


[hiddenAction_6]
autoTrigger: if not self.ammo(greaterThan=0)
playSoundAtUnit: ROOT:\音频\语音+音效\schrmov.wav
spawnEffects: CUSTOM:传送
#alsoQueueAction: 5
forceUnloadTransportNow: true
deleteSelf: true


#[hiddenAction_5]
#buildSpeed: 0.5s
#deleteSelf: true


[effect_传送]
image: 超时空传送2.png
scaleFrom: 1.02
scaleTo: 1.02
life: 600
total_frames: 16
animateFrameStart: 0
animateFrameEnd: 15
animateFrameSpeed: 0.1
hOffset: -20
#xOffsetRelative: 0
#yOffsetRelative: -20
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
attachedToUnit: false
liveAfterAttachedDies: false

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/盟墙撇.ini
================================================================================


[core]
name:盟墙撇
copyFrom: 盟墙那.ini
displayText: Allied Concrete Wall 4
displayText_zh: 盟墙撇


[graphics]
image:盟墙撇.png

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/闪电风暴.ini
================================================================================

[core]
name: 闪电风暴
price: 0
maxHp:10000
mass:100
radius: 10

stayNeutral: true
createNeutral: true
#showInEditor:false
isBuilding: true
isUnselectable: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 6
tags: 电死人
displayText: Lightning Storm
displayText_zh: 闪电风暴
displayDescription: Target: Air unit/Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage air: Very high\nDamage building: Very high\nspecial: Unleash a Lightning Storm immediately.
displayDescription_zh: 攻击目标：空中单位/地面单位/海面单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：很高\n特殊：立即释放闪电伤害


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\闪电风暴图标.png
image: ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack:false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

maxAttackRange: 50

[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[turret_1]
x: 0
y: 200


[projectile_1]
areaDamage: 1250
life: 30

areaRadius: 50
instant:true
areaRadiusFromEdge: true
explodeEffect: CUSTOM:闪电, CUSTOM:大电花
#lightingEffect: true
friendlyFire: true
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
mutator6_ifUnitWithTags: 基地
mutator6_areaDamageMultiplier: 0.4
mutator7_ifUnitWithTags: 核弹井, 天气控制器
mutator7_areaDamageMultiplier: 0.4
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.4
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.4
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.4
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.6
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.6
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.6
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.4
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.4
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.6


[hiddenAction_1]
autoTriggerOnEvent: created
spawnEffects: CUSTOM:闪电风暴


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=1.2) and self.timeAlive(withinSeconds=2.2)
fireTurretXAtGround: 1
playSoundAtUnit: ROOT:\音频\语音+音效\sweastra.wav:2, ROOT:\音频\语音+音效\sweastrb.wav:2, ROOT:\音频\语音+音效\sweastrc.wav:2, ROOT:\音频\语音+音效\sweastrd.wav:2
temporarilyAddTags: 电死人
#debugMessage: 触发2


[hiddenAction_3]
autoTrigger: if self.timeAlive(laterThanSeconds=2.2)
deleteSelf: true


[effect_闪电风暴]
image: 闪电风暴.png
total_frames: 30
animateFrameStart: 0
animateFrameEnd: 29
animateFrameSpeed: 0.22
life: 600
#hOffset: 150
#dirOffset: 0
xOffsetRelative: 0
yOffsetRelative: 200
scaleFrom: 1.02
scaleTo: 1.02
fadeOut: false
attachedToUnit: false
alwayStartDirAtZero: true
spawnChance: 0.5
ifSpawnFailsEmitEffects: CUSTOM:闪电风暴2
priority: critical


[effect_闪电风暴2]
@copyFromSection: effect_闪电风暴
image: 闪电风暴2.png
spawnChance: 1
ifSpawnFailsEmitEffects: NONE


[effect_大电花]
image: ROOT:\共享文件\1类\大电花.png
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.25
life: 120
scaleFrom: 1.02
scaleTo: 1.02
fadeOut: false
attachedToUnit: false
alwayStartDirAtZero:true


[effect_闪电]
image: 闪电.png
total_frames: 9
animateFrameStart: 0
animateFrameEnd: 8
animateFrameSpeed: 0.28
life: 120
#hOffset: 150
#dirOffset: 0
xOffsetRelative: 0
#yOffsetRelative: 200
scaleFrom: 1.02
scaleTo: 1.02
fadeOut: false
attachedToUnit: false
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/闪电风暴母.ini
================================================================================

[core]
name: 闪电风暴母
price: 0
maxHp: 10000
mass: 10000
radius: 20

displayText: Lightning storm swarm
displayText_zh: 闪电风暴群
displayDescription: Target: Air unit/Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage air: Very high\nDamage building: Very high\nspecial: Need to wait a while at the beginning.\nUnleash the lightning storm swarm.
displayDescription_zh: 攻击目标：空中单位/地面单位/海面单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：很高\n特殊：开始需要等待一会\n释放闪电风暴群
numBitsOnDeath: 0
#stayNeutral: true
#createNeutral: true
isBuilding: true
hideScorchMark: true
isUnselectable: true
canNotBeDirectlyAttacked:true
disableAllUnitCollisions: true
fogOfWarSightRange: 0


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\闪电风暴图标.png
image:   ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: true
canAttackFlyingUnits: if self.timeAlive(laterThanSeconds=5)
canAttackLandUnits: if self.timeAlive(laterThanSeconds=5)
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 10
maxAttackRange: 9999
shootDelay: ${int(4*(1/gameSpeedRate))}
showRangeUIGuide: true


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[turret_1]
x: 0
y: 0

onShoot_triggerActions: 1


[projectile_1]
directDamage: 0
life: 0
explodeEffect: NONE


[hiddenAction_1]
spawnUnits: 闪电风暴(offsetRandomX=300, offsetRandomY=300)


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=18)
deleteSelf: true


[hiddenAction_3]
autoTrigger: if self.timeAlive(laterThanSeconds=5) and self.timeAlive(withinSeconds=5.1)
playSoundGlobally: ROOT:\音频\语音+音效\sweaintr.wav:2
spawnEffects: CUSTOM:天黑


[effect_天黑]
priority: veryhigh
createWhenOffscreen: true
#alsoEmitEffectsOnDeath: CUSTOM:天黑2
image: ROOT:\共享文件\1类\地图渲染.png
color: #FF000000
scaleFrom: 100
scaleTo: 100
alpha: 0.75
life: 900
#dirOffsetRandom:180
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 60
fadeOut: false
attachedToUnit: false
drawUnderUnits: false


================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/光折射.ini
================================================================================


[core]
name: 光折射
price: 0
maxHp: 100
mass: 100
radius: 1

copyFrom: ROOT:\共享文件\3类\血溅.xxhq
tags: 光折射, 电死人
showInEditor: false
fogOfWarSightRange:0
hideScorchMark: true
isUnrepairableUnit: true
isUnselectable: true
canNotBeDirectlyAttacked: true
disableAllUnitCollisions: true
#armour: 1000
#selfRegenRate: 16
softCollisionOnAll: 10


[graphics]
image:       ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 0
aimOffsetSpread: 0
turretTurnSpeed: 100
maxAttackRange: 300
shootDelay: 100000


[movement]
movementType: NONE


[turret_1]
x: 0
y: 0
shoot_sound: ROOT:\音频\语音+音效\bpripow.wav
#shoot_sound_vol: 0.2
canOnlyAttackUnitsWithoutTags: 光诱导
projectile: 1


[turret_2]
x: 0
y: 0

copyFrom:1
limitingMinRange: 50
canOnlyAttackUnitsWithoutTags: 无
canOnlyAttackUnitsWithTags: 光诱导
projectile: 2


[turret_光]
x: 0
y: 0

canOnlyAttackUnitsWithoutTags: 光诱导
projectile: 光


[turret_光2]
x: 0
y: 0

copyFrom: 光
projectile: 光2


[turret_光3]
x: 0
y: 0

copyFrom: 光
projectile: 光3


[turret_2光]
x: 0
y: 65

canOnlyAttackUnitsWithTags: 光诱导
projectile: 光


[turret_2光2]
x: 0
y: 65

copyFrom: 2光
projectile: 光2


[turret_2光3]
x: 0
y: 65

copyFrom: 2光
projectile: 光3


[projectile_1]
directDamage: 150
life:10

laserEffect:true
instant:true
color: #FFFFFFFF
#teamColorRatio: 0.6
lightSize:1.5
lightColor: #FFFFFFFF
explodeEffect: CUSTOM:映射2
mutator5_ifUnitWithTags: 生物, 生物2
mutator5_directDamageMultiplier: 1
mutator5_changedExplodeEffect: CUSTOM:血溅
mutator8_ifUnitWithTags: 船舰
mutator8_directDamageMultiplier: 1.5
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 1.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 1
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 1
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 1
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.5
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.5
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.5
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 2


[projectile_2]
directDamage: 150
life:10

@copyFromSection: projectile_1
explodeEffect: NONE
mutator6_ifUnitWithTags: 光诱导
mutator6_directDamageMultiplier: 0
mutator7_ifUnitWithoutTags: 光诱导
mutator7_changedExplodeEffect: CUSTOM:映射2
spawnUnit: 光折射


[projectile_光]
directDamage: 0
life: 15

explodeEffect: NONE
color: #BFFFFFFF
laserEffect:true
instant:true
instantReuseLast: true


[projectile_光2]
directDamage: 0
life: 25

explodeEffect: NONE
color: #7FFFFFFF
laserEffect:true
instant:true
instantReuseLast: true


[projectile_光3]
directDamage: 0
life: 35

explodeEffect: NONE
color: #40FFFFFF
laserEffect:true
instant:true
instantReuseLast: true


[hiddenAction_1]
autoTrigger: if not self.timeAlive(withinSeconds=0.5) 
deleteSelf: true


[effect_人电死]
image: ROOT:\共享文件\1类\人电死.png
scaleFrom: 1
scaleTo: 1
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.15
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射2]
image: ROOT:\共享文件\1类\映射.png
drawUnderUnits: false
scaleFrom:0.4
scaleTo: 0.1
alpha: 1
fadeOut: true
attachedToUnit: true
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/盟墙墩.ini
================================================================================

[core]
name:盟墙墩
price: 0
maxHp: 400
mass: 1000
radius: 20

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑防甲, 建筑, 电力, 空下, 围墙
displayText: Allied Concrete Wall 1
displayText_zh: 盟墙墩
displayDescription: Funds: -50\nSpecial: Defense, blocking and decoration.
displayDescription_zh: 资金花费：50\n特殊：防御、阻挡和装饰
buildSpeed: 0
selfBuildRate: 1s
isBuilding:true
footprint: 0,0,0,0
constructionFootprint: 0,0,0,0
fogOfWarSightRange: 4


[graphics]
image: 盟墙墩.png

imageScale: 1.3
image_offsetX: 0
image_offsetY: -20
image_wreak:NONE
image_shadow:NONE


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[hiddenAction_初始价值]
addResources: 价值=5


[animation_jianzao]
body_0s: {frame:0}
body_1s: {frame:0}


[template_zijin]
price: 50


[ai]
disableUse: true
#notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/爱国者导弹.ini
================================================================================


[core]
name: 爱国者导弹
price: 0
maxHp: 1000
mass: 10000
radius: 20

#overrideAndReplace: antiAirTurret
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑, 建筑防甲, 爱国者导弹, 克空军, 空下
showInEditor: false
#displayLocaleKey: 爱国者导弹建造
displayText: Allied Patriot Missiles
displayText_zh: 爱国者导弹
displayDescription: Target: Air unit\nDamage air: High\nfunds: -800\nPower: -50\nspecial: The launched missile has tracking capability.\nKill the enemy upgrade.\nDestroyed at full level will get a surviving full-level soldier.
displayDescription_zh: 攻击目标：空中单位\n伤害空军：高\n资金花费：800\n电力占用：50\n特殊：导弹具有追踪能力\n可自动升级\n满级死亡有幸存满级兵
borrowResourcesWhileAlive: 电力=50
isBuilding: true
footprint: 0,1,0,1
constructionFootprint: -1,0,1,1
buildSpeed: 0
selfBuildRate:1s
fogOfWarSightRange: 20
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2, CUSTOM:炸毁


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\爱国者导弹图标.png
image:        爱国者导弹.png

total_frames: 1
imageScale: 1.02
image_offsetX: 0
image_offsetY: 5
frame_width: 100
frame_height: 100
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: if self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击') and self.resource(type='入侵计时', empty=true) 
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
maxAttackRange: 390
shootDelay: ${int(32*(1/gameSpeedRate))}


[movement]
movementType: BUILDING

maxTurnSpeed: 2.0
turnAcceleration: 2.0


[turret_1]
x: 0
y: 0

warmup: 0
barrelHeight: 15
shoot_sound: ROOT:\音频\语音+音效\bpatatta.wav
shoot_sound_vol: 2


[turret_2]
x: 0
y: 0

copyFrom: 1
linkDelayWithTurret: 1
attachedTo:  1
slave: true
warmup: 20


[projectile_1]
directDamage: 50
life: 240

tags: 防空导弹
frame: 4
speed: 4
targetSpeed: 12
autoTargetingOnDeadTarget: true
trailEffect: true
trailEffectRate: 1
turnSpeed: 100
wobbleAmplitude: 5
wobbleFrequency: 0.1
#largeHitEffect: true
explodeEffect: CUSTOM:弹火
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_directDamageMultiplier: 1.00
mutator28_ifUnitWithTags: 飞机中甲
mutator28_directDamageMultiplier: 0.80
mutator29_ifUnitWithTags: 飞机重甲
mutator29_directDamageMultiplier: 0.60
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_directDamageMultiplier: 0.60


[action_卖钱2]
convertTo: 爱国者导弹建造
alsoQueueAction: NONE


[hiddenAction_攻击超出取消]
autoTrigger: if self.hasActiveWaypoint(type='attack') and distanceBetweenSquared(self, activeWaypointTarget)>370*370
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:0}


[effect_土坑2]
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  0
yOffsetRelativeRandom:  0
spawnChance: 1


[effect_土坑3]
xOffsetRelativeRandom:  25
yOffsetRelativeRandom:  25
spawnChance: 0.5


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_弹火]
image: ROOT:\共享文件\1类\弹火2.png
scaleFrom: 1.5
scaleTo: 1.5
total_frames:12
animateFrameStart: 0
animateFrameEnd:11
animateFrameSpeed:0.3
alwayStartDirAtZero:true
attachedToUnit:false


[effect_1级]
hOffset: -20


[template_zijin]
price: 800
@global dianli: -50


[ai]
upgradedFrom: 爱国者导弹建造

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/闪电风暴2.ini
================================================================================

[core]
name: 闪电风暴2
price: 0
maxHp:10000
mass:100
radius: 10

stayNeutral: true
createNeutral: true
showInEditor:false
isBuilding: true
isUnselectable: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 6
tags: 电死人
displayText: Lightning Storm
displayText_zh: 闪电风暴
displayDescription: Target: Air unit/Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage air: Very high\nDamage building: Very high\nspecial: Unleash a Lightning Storm immediately.
displayDescription_zh: 攻击目标：空中单位/地面单位/海面单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：很高\n特殊：立即释放闪电伤害


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\闪电风暴图标.png
image: ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack:false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

maxAttackRange: 50

[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[turret_1]
x: 0
y: 180


[projectile_1]
areaDamage: 350
life: 30

areaRadius: 40
instant:true
areaRadiusFromEdge: true
explodeEffect: CUSTOM:闪电, CUSTOM:大电花
#lightingEffect: true
friendlyFire: true
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
mutator6_ifUnitWithTags: 基地
mutator6_areaDamageMultiplier: 0.4
mutator7_ifUnitWithTags: 核弹井, 天气控制器
mutator7_areaDamageMultiplier: 0.4
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.6
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.6
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.4
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.8
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.8
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.6
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.6
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.6
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.8


[hiddenAction_1]
autoTriggerOnEvent: created
spawnEffects: CUSTOM:闪电风暴


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=1.2) and self.timeAlive(withinSeconds=2.2)
fireTurretXAtGround: 1
playSoundAtUnit: ROOT:\音频\语音+音效\sweastra.wav:2, ROOT:\音频\语音+音效\sweastrb.wav:2, ROOT:\音频\语音+音效\sweastrc.wav:2, ROOT:\音频\语音+音效\sweastrd.wav:2
temporarilyAddTags: 电死人
#debugMessage: 触发2


[hiddenAction_3]
autoTrigger: if self.timeAlive(laterThanSeconds=2.2)
deleteSelf: true


[effect_闪电风暴]
image: 闪电风暴.png
total_frames: 30
animateFrameStart: 0
animateFrameEnd: 29
animateFrameSpeed: 0.22
life: 600
#hOffset: 150
#dirOffset: 0
xOffsetRelative: 0
yOffsetRelative: 200
scaleFrom: 1.02
scaleTo: 1.02
fadeOut: false
attachedToUnit: false
alwayStartDirAtZero: true
spawnChance: 0.5
ifSpawnFailsEmitEffects: CUSTOM:闪电风暴2
priority: critical


[effect_闪电风暴2]
@copyFromSection: effect_闪电风暴
image: 闪电风暴2.png
spawnChance: 1
ifSpawnFailsEmitEffects: NONE


[effect_大电花]
image: ROOT:\共享文件\1类\大电花.png
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.25
life: 120
scaleFrom: 0.9
scaleTo: 0.9
fadeOut: false
attachedToUnit: false
alwayStartDirAtZero:true


[effect_闪电]
image: 闪电.png
total_frames: 9
animateFrameStart: 0
animateFrameEnd: 8
animateFrameSpeed: 0.28
life: 120
#hOffset: 150
#dirOffset: 0
xOffsetRelative: 0
#yOffsetRelative: 200
scaleFrom: 0.85
scaleTo: 0.85
fadeOut: false
attachedToUnit: false
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/超时空传送2.ini
================================================================================


[core]
name: 超时空传送2
price: 1000
maxHp: 1000
mass: 10000
radius: 25

showInEditor: false
displayText: 传送
displayDescription: 带你飞
tags: 传送点
fogOfWarSightRange: 0
isBuilding: true
createOnAggressiveTeam: true
canNotBeDirectlyAttacked: false
isUnselectable: true
disableAllUnitCollisions: true
canOnlyBeAttackedByUnitsWithTags: 超时空传送


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\超时空传送图标.png
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=2)
deleteSelf: true

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/光棱塔.ini
================================================================================


[core]
name: 光棱塔
price: 0
maxHp: 900
mass: 20000
radius: 20

#overrideAndReplace: laserDefence
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑防甲, 建筑, 光棱塔, 克生物, 克装甲, 克建筑, 空下, 电死人
displayText: Allied Prism Tower
displayText_zh: 光棱塔
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage building: High\nFunds: -1200\nPower: -75\nspecial: Within the attack range, units of the same type can support each other shooting.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：高\n资金花费：1200\n电力占用：75\n特殊：攻击范围内有同类建筑可以互相支援射击
borrowResourcesWhileAlive: 电力=75
fogOfWarSightRange: 18
buildSpeed: 0
selfBuildRate: 1s
footprint: 0,0,0,0
#displayFootprint: -1,-1,1,1
constructionFootprint: -1,-1,1,0
isBuilding: true
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2, CUSTOM:炸毁


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='法国') and not self.hasUnitInTeam(withTag='阵营特色限制')
temporarilyAddTags: 特色减伤


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\光棱塔图标.png
image:        光棱塔.png

default_frame: 7
total_frames: 27
imageScale: 1.02
image_offsetX: 0
image_offsetY: -15
animation_idle_start: 18
animation_idle_end: 26
animation_idle_speed: 8
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:  if self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击') and self.resource(type='入侵计时', empty=true) 
canAttackUnderwaterUnits: false

turretSize: 0
aimOffsetSpread: 0
shootDelay: 90
#${int(40*(1/gameSpeedRate))}


[movement]
movementType: BUILDING


[turret_1]
x: 0
y: 70

limitingRange: 255
#300
shoot_sound: ROOT:\音频\语音+音效\bpripow.wav
shoot_sound_vol: 2.0
onShoot_playAnimation: 攻击动画
turnSpeed: 100
turnSpeedAcceleration: 100
turnSpeedDeceleration: 100
canOnlyAttackUnitsWithoutTags: 光诱导
canAttackCondition: if self.noUnitInTeam(withTag='光折射', withinRange=100)
projectile: 1


[turret_2]
x: 0
y: 70

copyFrom:1
limitingMinRange: 100
canOnlyAttackUnitsWithoutTags: 无
canOnlyAttackUnitsWithTags: 光诱导
canAttackCondition: if self.noUnitInTeam(withTag='光折射', withinRange=100) and numberOfUnitsInTeam(withTag='光棱塔', withinRange=100, lessThan=2)
projectile: 2


[turret_光]
x: 0
y: 70

limitingRange: 255
linkDelayWithTurret: 1
limitingMinRange: 100
turnSpeed: 100
turnSpeedAcceleration: 100
turnSpeedDeceleration: 100
canOnlyAttackUnitsWithoutTags: 光诱导
canAttackCondition: if self.noUnitInTeam(withTag='光折射', withinRange=100)
projectile: 光


[turret_光2]
x: 0
y: 70

copyFrom: 光
projectile: 光2


[turret_光3]
x: 0
y: 70

copyFrom: 光
projectile: 光3


[turret_2光]
x: 0
y: 70

limitingRange: 255
linkDelayWithTurret: 2
#attachedTo: 2
#slave: true
limitingMinRange: 100
turnSpeed: 100
turnSpeedAcceleration: 100
turnSpeedDeceleration: 100
canOnlyAttackUnitsWithTags: 光诱导
canAttackCondition: if self.noUnitInTeam(withTag='光折射', withinRange=100) and numberOfUnitsInTeam(withTag='光棱塔', withinRange=100, lessThan=2)
projectile: 光


[turret_2光2]
x: 0
y: 70

copyFrom: 2光
projectile: 光2


[turret_2光3]
x: 0
y: 70

copyFrom: 2光
projectile: 光3


[projectile_1]
directDamage: 250
life:10

laserEffect:true
instant:true
instantReuseLast: true
color: #FFFFFFFF
#teamColorRatio: 0.6
lightSize:1.5
lightColor: #FFFFFFFF
explodeEffect: CUSTOM:映射, CUSTOM:声
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 1.0
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.5
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.5
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.5
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 2.0
delayedStartTimer: 40


[projectile_2]
directDamage: 250
life:10

@copyFromSection: projectile_1
explodeEffect: NONE
mutator6_ifUnitWithTags: 光诱导
mutator6_directDamageMultiplier: 0
mutator7_ifUnitWithoutTags: 光诱导
mutator7_changedExplodeEffect: CUSTOM:映射
spawnUnit: 光折射


[projectile_光]
directDamage: 0
life: 15

explodeEffect: NONE
color: #BFFFFFFF
laserEffect:true
instant:true
instantReuseLast: true
delayedStartTimer: 40


[projectile_光2]
directDamage: 0
life: 25

explodeEffect: NONE
color: #7FFFFFFF
laserEffect:true
instant:true
instantReuseLast: true
delayedStartTimer: 40


[projectile_光3]
directDamage: 0
life: 35

explodeEffect: NONE
color: #40FFFFFF
laserEffect:true
instant:true
instantReuseLast: true
delayedStartTimer: 40


[attachment_1]
x: 0
y: 70

canAttack: false 
canBeAttackedAndDamaged: true
isUnselectable: false


[action_卖钱2]
stopLastAnimation: true


[hiddenAction_增加诱导]
autoTrigger: if self.isAttacking() and not self.numberOfAttachedUnits(greaterThan=0)
attachments_addNewUnits: 光诱导


[hiddenAction_删除诱导]
autoTrigger: if not self.isAttacking() and self.numberOfAttachedUnits(greaterThan=0)
attachments_deleteNumUnits: 1
#showMessageToAllPlayers: 删除光诱导


[hiddenAction_停电]
autoTrigger: if (not self.resource(type="电力",greaterThan=0) or self.tags(includes='禁止攻击')) and not self.hasFlag(id=0)
playAnimation: 停电动画
addResources: setFlag=0


[hiddenAction_停电2]
autoTrigger: if self.resource(type="电力",greaterThan=0) and self.hasFlag(id=0) and not self.tags(includes='禁止攻击')
stopLastAnimation: true
addResources: unsetFlag=0


[hiddenAction_初始价值]
addResources: 价值=70


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:7}


[animation_攻击动画]
body_0s: {frame:8}
body_0.66s: {frame:17}


[animation_停电动画]
body_0s: {frame:8}
body_99999s: {frame:8}


[effect_人电死]
image: ROOT:\共享文件\1类\人电死.png
scaleFrom: 1
scaleTo: 1
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:0.4
scaleTo: 0.1
alpha: 1
fadeOut: true
drawUnderUnits: false
attachedToUnit: true
alwayStartDirAtZero: true


[effect_声]
alsoPlaySound: ROOT:\音频\语音+音效\bpriat1a.wav:2
image: ROOT:\共享文件\1类\爆炸31.png
#alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 18
animateFrameStart: 0
animateFrameEnd: 17
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_电力]
#scaleFrom:2
#scaleTo:2
#xOffsetRelative: 0
yOffsetRelative: 5


[effect_土坑2]
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  0
yOffsetRelativeRandom:  0
spawnChance: 1


[effect_土坑3]
xOffsetRelativeRandom:  25
yOffsetRelativeRandom:  25
spawnChance: 0.5


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 1200
@global dianli: -75


[ai]
buildPriority: 0.04
recommendedInEachBaseNum: 3
recommendedInEachBasePriorityIfUnmet: 0.25
noneInBaseExtraPriority: 0.1
maxEachBase: 6

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–防御/超时空传送3.ini
================================================================================


[core]
name: 超时空传送3
price: 0
maxHp: 1000
mass: 10000
radius: 10

copyFrom: ROOT:\共享文件\3类\心控卸载.xxhq
displayText: Chronosphere: Task
displayText_zh: 超时空传送-任务型
displayDescription: For mission maps
displayDescription_zh: 任务地图专用
#tags: 超时空传送
#isBuilding: true
#canOnlyBeAttackedByUnitsWithTags: 无
#isUnselectable: true
fogOfWarSightRange: 0
canNotBeDirectlyAttacked: true
disableAllUnitCollisions: true
maxTransportingUnits: 8
transportUnitsRequireTag: 装甲
transportUnitsBlockOtherTransports: false
transportUnitsEachUnitAlwaysUsesSingleSlot: true
transportUnitsCanUnloadUnits: true
transportUnitsAddUnloadOption: true
transportUnitsKillOnDeath: false
stayNeutral:true
whileNeutralTransportAnyTeam:true
whileNeutralConvertToTransportedTeam:true
convertToNeutralIfNotTransporting:true
effectOnDeath: NONE
explodeOnDeath:  false
hideScorchMark: true


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\超时空传送图标.png
image:      ROOT:\共享文件\1类\图标-三角形.png

showTransportBar: false
showQueueBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0
moveSpeed: 0
maxTurnSpeed: 0


[action_0]
text: Delete
text_zh: 删除
description: Delete directly
description_zh: 直接删除
pos: 0
displayType: infoOnly
buildSpeed: 0s
deleteSelf: true


[action_1]
text: Delay
text_zh: 延迟时间
description: Teleport units in place at the end of the delay.
description_zh: 延迟结束时在原地传送单位
pos: 2
buildSpeed: 0s
price: ammo=1
displayRemainingStockpile: true
displayType: rally
isActive: false
#isVisible: if self.ammo(greaterThan=0) and not self.hasFlag(id=10)
addResources: ammo=1
#autoTriggerOnEvent: created


[action_2]
text: Delay+1
text_zh: 延迟时间＋1
description: Increased by 1 times
description_zh: 增加1
pos: 2
displayType: upgrade
buildSpeed: 0s
#isVisible: if not self.hasFlag(id=10)
addResources: ammo=1


[action_3]
text: Delay+60
text_zh: 延迟时间＋60
description: Increased by 60 times, convenient and quick setting
description_zh: 以60倍增加，方便快速设置
pos: 2
displayType: upgrade
buildSpeed: 0s
#isVisible: if not self.hasFlag(id=10)
addResources: ammo=60


[action_4]
text: Start timer
text_zh: 开始计时
description: Start the timer.\nOnly after the start will the countdown delay.
description_zh: 开始计时，只有开始后才会倒计时延迟
pos: 3
displayType: upgrade
buildSpeed: 0s
convertTo: 超时空传送3-隐藏
#isVisible: if not self.hasFlag(id=2)
#addResources: setFlag=2


[hiddenAction_清除路径]
autoTrigger: if self.isMoving()
clearAllWaypoints: true
#showMessageToAllPlayers: 触发


[ai]
disableUse: true
useAsTransport: false

================================================================================
// FILE_PATH: ./1同盟国联军/空军/黑鹰战机坠毁.ini
================================================================================


[core]
name: 黑鹰战机坠毁
price: 0
maxHp: 1
mass: 6000
radius: 0

copyFrom: ROOT:\共享文件\3类\机毁飞溅.xxhq, ROOT:\共享文件\3类\生命保险.xxhq
showInEditor: false
fogOfWarSightRange: 0
soundOnDeath: ROOT:\音频\语音+音效\vblediea.wav:2, ROOT:\音频\语音+音效\vbledieb.wav:2


[graphics]
image:        黑鹰战机.png


frame_width: 120
frame_height: 120
image_wreak: ROOT:\共享文件\1类\死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影4.png
shadowOffsetX:0
shadowOffsetY:0
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffectRate: 1


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 3
moveAccelerationSpeed: 2.0
moveDecelerationSpeed: 0
maxTurnSpeed: 2.5
turnAcceleration: 0.5
targetHeight: 0
targetHeightDrift: 0
startingHeightOffset: 200
heightChangeRate: 1.5


[hiddenAction_1]
autoTriggerOnEvent: created
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_relativeOffsetFromSelf: 0, 100


[template_zijin]
price: 1600

================================================================================
// FILE_PATH: ./1同盟国联军/空军/科曼奇空.ini
================================================================================


[core]
name: 科曼奇空
copyFrom: 科曼奇.ini
showInEditor: false


[graphics]
#shadowOffsetY: 7
animation_moving_end: 0
animation_idle_end: 0
animation_attack_end: 0


[attack]
canAttack: false


[movement]
moveSpeed: 0
maxTurnSpeed: 0
targetHeight: 0
targetHeightDrift: 0


[hiddenAction_变成空载具]
autoTrigger: false


[hiddenAction_变回载具]
autoTriggerOnEvent: teamChanged
convertTo: 科曼奇


[hiddenAction_空标签]
autoTrigger: if not self.tags(includes='驾驶')
temporarilyAddTags: 驾驶
#showMessageToAllPlayers: 有标签


[hiddenAction_Ai攻击生物]
autoTrigger: false


[hiddenAction_Ai攻击装甲]
autoTrigger: false


[hiddenAction_Ai躲避]
autoTrigger: false


[hiddenAction_Ai躲避2]
autoTrigger: false


[hiddenAction_跟随-移动]
autoTrigger: false


[hiddenAction_跟随-攻击移动]
autoTrigger: false


[hiddenAction_跟随-守卫]
autoTrigger: false

================================================================================
// FILE_PATH: ./1同盟国联军/空军/冷冻直升机.ini
================================================================================


[core]
name: 冷冻直升机
price: 资金=1500
maxHp: 340
mass: 6000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营飞机共同.xxhq, ROOT:\共享文件\3类\闲置修复.xxhq
tags: 原始护甲, 空军, 冷冻直升机, 克生物, 克装甲, 飞机中甲, 克建筑
displayText: Cryocopter
displayText_zh: 冷冻直升机
displayDescription: Target: Ground unit\nSpecial: The fired icy rays will not cause damage to the enemy, but the shooting time can be used to freeze the enemy’s units and greatly reduce the enemy’s armor. When the building is frozen, it can also stop the function of the building.
displayDescription_zh: 攻击目标：地面单位/海面单位\n特殊：发射的冰冻射线不会对敌人造成伤害，但射击时间久时可用把敌人的单位冻住，并大幅度降低敌人的护甲，冻住建筑时还能停止建筑的功能
buildSpeed: 15s
selfRegenRate: 0.06
fogOfWarSightRange: 16
explodeOnDeath: false
soundOnAttackOrder:  ROOT:\音频\语音+音效\vcryata.wav:1, ROOT:\音频\语音+音效\vcryatb.wav:1, ROOT:\音频\语音+音效\vcryatc.wav:1, ROOT:\音频\语音+音效\vcryatd.wav:1
soundOnMoveOrder: ROOT:\音频\语音+音效\vcrymoa.wav:1, ROOT:\音频\语音+音效\vcrymob.wav:1, ROOT:\音频\语音+音效\vcrymoc.wav:1, ROOT:\音频\语音+音效\vcrymod.wav:1
soundOnNewSelection: ROOT:\音频\语音+音效\vcrysea.wav:1, ROOT:\音频\语音+音效\vcryseb.wav:1, ROOT:\音频\语音+音效\vcrysec.wav:1, ROOT:\音频\语音+音效\vcrysed.wav:1
soundOnDeath: ROOT:\音频\语音+音效\vcrydia.wav:2, ROOT:\音频\语音+音效\vcrydib.wav:2
unitsSpawnedOnDeath: 冷冻直升机坠毁(addResources=hp:-999, spawnChance=0.5, maxSpawnLimit=1), 冷冻直升机坠毁(maxSpawnLimit=1)


[hiddenAction_移动音效]
autoTrigger: if self.isFlying()
playSoundAtUnit: ROOT:\音频\语音+音效\vcrystaa.wav:0.4, ROOT:\音频\语音+音效\vcrystab.wav:0.4


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\冷冻直升机图标.png
image:        冷冻直升机.png

image_offsetY: 10
imageScale:	1.0
total_frames: 2
frame_width: 160
frame_height: 160
image_shadow: AUTO_ANIMATED
shadowOffsetX: 0
shadowOffsetY: 7
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 3
animation_idle_start: 0
animation_idle_end: 1
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 1
animation_attack_speed: 3
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
maxAttackRange: 390
shootDelay: 20
aimOffsetSpread: 0
canOnlyAttackUnitsWithoutTags: 伪装, 驾驶, 力场保护, 铁幕保护


[movement]
movementType: AIR

moveSpeed: 1.50
moveAccelerationSpeed: 0.4
moveDecelerationSpeed: 0.8
reverseSpeedPercentage: 0.5
maxTurnSpeed: 1.5
turnAcceleration: 0.5
targetHeight: 100
moveSlidingMode : true
moveSlidingDir:  180
moveIgnoringBody: true


[turret_1]
x: 0
y: 24

barrelHeight: -5
shoot_sound: ROOT:\音频\语音+音效\vcryweaa.wav, ROOT:\音频\语音+音效\vcryweab.wav, ROOT:\音频\语音+音效\vcryweac.wav, ROOT:\音频\语音+音效\vcrywead.wav
shoot_sound_vol: 0.6
shoot_flame: CUSTOM:冰花
onShoot_triggerActions: 1


[projectile_1]
directDamage: 1
life: 25

beamImage: ROOT:\共享文件\1类\激光源.png 
color: #FFA0BCEC
#teamColorRatio:1
moveWithParent: true
instant: true
instantReuseLast: true
lightColor: #FFA0BCEC
lightSize: 0.5
explodeEffect: CUSTOM:冰块
mutator7_ifUnitWithoutTags: 无
mutator7_directDamageMultiplier: 0


[hiddenAction_1]
takeResources: 冷冻量=-3
takeResources_includeUnitsWithinRange: 360
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy
#showMessageToPlayer: 
addResources: 经验值=1


[hiddenAction_变成空载具]
autoTrigger: if numberOfUnitsInNeutralTeam(withTag='变成空载具', greaterThan=0, withinRange=100)
convertTo: 冷冻直升机空


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=320) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=320) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=50


[effect_冰花]
image: ROOT:\共享文件\1类\冰花.png
scaleFrom: 0
scaleTo: 0.4
alpha: 0.8
life: 100
#hOffset: 120
fadeInTime: 10
fadeOut: true
attachedToUnit: true
drawUnderUnits: false
#dirOffsetRandom: 360
dirSpeed: 0
dirSpeedRandom: 6


[effect_冰块]
image: ROOT:\共享文件\1类\冰块.png
scaleFrom: 0.4
scaleTo: 0.8
alpha: 0.8
spawnChance: 0.3
ifSpawnFailsEmitEffects: CUSTOM:冰块2
life: 80
#hOffset: 120
fadeInTime: 10
fadeOut: true
attachedToUnit: true
drawUnderUnits: false
#alwayStartDirAtZero: true
dirOffsetRandom: 360


[effect_冰块2]
@copyFromSection: effect_冰块
image: ROOT:\共享文件\1类\冰块2.png
ifSpawnFailsEmitEffects: CUSTOM:冰块3


[effect_冰块3]
@copyFromSection: effect_冰块
image: ROOT:\共享文件\1类\冰块3.png
spawnChance: 1


[resource_冷冻量]
displayName: 冷冻量


[template_zijin]
price: 1500

================================================================================
// FILE_PATH: ./1同盟国联军/空军/海马坠毁.ini
================================================================================


[core]
name: 海马坠毁
price: 0
maxHp: 1
mass: 300
radius: 0

copyFrom: ROOT:\共享文件\3类\机毁飞溅.xxhq
#isUnselectable: true
#maxTransportingUnits: 4
showInEditor: false
fogOfWarSightRange: 0
soundOnDeath: ROOT:\音频\语音+音效\vblhdiea.wav:2


[graphics]
image:        海马.png

imageScale:	1.0
image_offsetY: 10
total_frames: 2
frame_width: 210
frame_height: 210
image_wreak: ROOT:\共享文件\1类\死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX: 0
shadowOffsetY: -15
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 1
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 1.2
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0
maxTurnSpeed: 0
targetHeight: 0
#targetHeightDrift: -400
startingHeightOffset: 100
moveSlidingMode : true
moveSlidingDir:  45
moveIgnoringBody: true
#slowDeathFall: true
#landOnGround: true


[projectile_机毁肢]
targetSpeedAcceleration: 0.02


[hiddenAction_1]
autoTriggerOnEvent: created
setBodyRotation: 0
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 500,500


[animation_转]
onActions: move
direction_units: 11.25
direction_strideX: 1
direction_strideY: 0
direction_starting: 0
body_0s: {frame:0}
body_2s: {frame:63}


[effect_机毁肢]
image: 千肢体.png
scaleFrom: 0.8
scaleTo: 0.8
life: 120


[effect_机毁肢2]
image: 千肢体2.png


#[effect_尾焰]
#scaleTo: 1.6
#xSpeedAbsoluteRandom:0.1
#ySpeedAbsoluteRandom:0.2


#[effect_尾焰2]
#xSpeedAbsoluteRandom:0.15
#ySpeedAbsoluteRandom:0.4


#[effect_尾焰3]
#xSpeedAbsoluteRandom: 0.2
#ySpeedAbsoluteRandom:0.6

================================================================================
// FILE_PATH: ./1同盟国联军/空军/科曼奇.ini
================================================================================


[core]
name: 科曼奇
price: 资金=1500
maxHp: 320
mass: 8000
radius: 20

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营飞机共同.xxhq
tags: 原始护甲, 中级, 飞机轻甲, 空军, 科曼奇, 克生物, 克装甲
#overrideAndReplace: airShip, dropShip, gunship, helicopter, heavyInterceptor, lightGunship, c_interceptor
displayText: Comanche
displayText_zh: 科曼奇直升机
displayDescription: Target: Ground unit/Air unit\nDamage creature: High\nDamage armor: High\nDamage air: Medium\nDamage building: Medium 
displayDescription_zh: 攻击目标：地面单位/海面单位/空中单位\n伤害生物：高\n伤害装甲：高\n伤害空军：中\n伤害建筑：中
techLevel: 2
buildSpeed: 15s
fogOfWarSightRange: 14
explodeOnDeath: false
energyMax: 6
energyRegen: 0.05
energyNeedsToRechargeToFull: true
showOnMinimapToEnemies: false
selfRegenRate: 0.06
soundOnAttackOrder:  ROOT:\音频\语音+音效\vcomata.wav:2, ROOT:\音频\语音+音效\vcomatb.wav:2, ROOT:\音频\语音+音效\vcomatc.wav:2, ROOT:\音频\语音+音效\vcomatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vcommoa.wav:2, ROOT:\音频\语音+音效\vcommob.wav:2, ROOT:\音频\语音+音效\vcommoc.wav:2, ROOT:\音频\语音+音效\vcommod.wav:2,
soundOnNewSelection: ROOT:\音频\语音+音效\vcomsea.wav:2, ROOT:\音频\语音+音效\vcomseb.wav:2, ROOT:\音频\语音+音效\vcomsec.wav:2, ROOT:\音频\语音+音效\vcomsed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vcomfaa.wav:2, ROOT:\音频\语音+音效\vcomfab.wav:2, ROOT:\音频\语音+音效\vcomfac.wav:2, ROOT:\音频\语音+音效\vcomfad.wav:2
unitsSpawnedOnDeath: 科曼奇坠毁(addResources=hp:-999, spawnChance=0.5, maxSpawnLimit=1), 科曼奇坠毁(maxSpawnLimit=1)


[hiddenAction_移动音效]
autoTrigger: if self.isFlying()
playSoundAtUnit: ROOT:\音频\语音+音效\vcomlo2b.wav:0.4


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\科曼奇图标.png
image:        科曼奇.png

image_offsetY: 10
imageScale:	1.0
total_frames: 2
frame_width: 135
frame_height: 135
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX: 0
shadowOffsetY: 7
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 3
animation_idle_start: 0
animation_idle_end: 1
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 1
animation_attack_speed: 3
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: if not self.tags(includes='禁止攻击')
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 10
turretTurnSpeed: 3
#maxAttackRange: 255
aimOffsetSpread: 0
shootDelay: ${int(5*(1/gameSpeedRate))}
#canOnlyAttackUnitsWithoutTags: 伪装, 驾驶


[movement]
movementType: AIR

moveSpeed: 2.4
moveAccelerationSpeed: 0.4
moveDecelerationSpeed: 0.8
reverseSpeedPercentage: 0.5
maxTurnSpeed: 2.5
turnAcceleration: 1.0
targetHeight: 100
moveSlidingMode : true
moveSlidingDir:  180
moveIgnoringBody: true


[turret_1]
x: 0
y: 20


delay: 6
barrelHeight: -5
barrelY: 20
limitingRange: 210
shoot_flame: CUSTOM:映射, CUSTOM:开火, CUSTOM:弹壳
shoot_light: #FFFFFFFF
shoot_sound: ROOT:\音频\语音+音效\vcomwe2a.wav, ROOT:\音频\语音+音效\vcomwe2b.wav, ROOT:\音频\语音+音效\vcomwe2c.wav, ROOT:\音频\语音+音效\vcomwe2d.wav
shoot_sound_vol: 2
canOnlyAttackUnitsWithoutTags: 装甲, 建筑, 伪装, 驾驶, 空军
projectile: 1


[turret_2]
x: 0
y: 0

barrelHeight: -10
barrelX: -10
barrelOffsetX_onOddShots: 24
limitingRange: 240
shoot_flame: CUSTOM:映射, CUSTOM:开火
shoot_light: #FFFFFFFF
shoot_sound: ROOT:\音频\语音+音效\vcomweaa.wav, ROOT:\音频\语音+音效\vcomweab.wav
shoot_sound_vol: 2.0
canOnlyAttackUnitsWithoutTags: 生物, 生物2, 伪装, 驾驶
canAttackFlyingUnits: false
energyUsage: 1
projectile: 2


[turret_3]
x: 0
y: 0

barrelX: 10
barrelY: 6
barrelHeight: -5
limitingRange: 255
shoot_flame: CUSTOM:映射
shoot_light:#FFFFFFFF
shoot_sound: ROOT:\音频\语音+音效\vcomweaa.wav, ROOT:\音频\语音+音效\vcomweab.wav
shoot_sound_vol: 2.0
canOnlyAttackUnitsWithoutTags: 生物, 生物2, 伪装, 驾驶, 火箭飞行兵
canAttackLandUnits: false
projectile: 3
delay:120


[turret_4]
x: 0
y: 0

copyFrom: 3
barrelX: -6
linkDelayWithTurret: 3
attachedTo:  3
slave: true
warmup: 15


[projectile_1]
directDamage: 10
life: 60

image: ROOT:\共享文件\1类\子弹2.png
frame: 5
speed: 14
drawSize: 0.8
hitSound: true
lightCastOnGround: true
lightColor: #FFFF5500
lightSize: 0.5
sweepOffsetFromTargetRadius: 0.4
sweepSpeed: 10
explodeEffect: CUSTOM:弹火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.4
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.3
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.0
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_directDamageMultiplier: 0.60
mutator28_ifUnitWithTags: 飞机中甲
mutator28_directDamageMultiplier: 0.40
mutator29_ifUnitWithTags: 飞机重甲
mutator29_directDamageMultiplier: 0.20
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_directDamageMultiplier: 0.60


[projectile_2]
areaDamage: 35
life: 240

areaRadius: 30
frame: 4
drawSize: 0.8
speed: 2
targetSpeed: 8
trailEffect: true
trailEffectRate: 0.8
hitSound: true
effectOnCreate: CUSTOM:映射2
explodeEffect: CUSTOM:映射3, CUSTOM:爆炸
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.10
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.10
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.10
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 1.00
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.80
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.40
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.60
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.60


[projectile_3]
areaDamage: 65
life: 180

areaRadius: 20
speed: 0
targetSpeed: 8
explodeEffect: CUSTOM:映射3, CUSTOM:爆炸2
@copyFromSection: projectile_2
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 1.00
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.80
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.60
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.40


[hiddenAction_变成空载具]
autoTrigger: if numberOfUnitsInNeutralTeam(withTag='变成空载具', greaterThan=0, withinRange=100)
convertTo: 科曼奇空


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and not self.ammo(greaterThan=4) and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=210)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 210
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and not self.ammo(greaterThan=4) and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=240)
@copyFromSection: hiddenAction_Ai攻击生物
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 240


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=50


[effect_开火]
image: ROOT:\共享文件\1类\开火特效3.png
scaleFrom: 0.8
scaleTo: 0.8
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
attachedToUnit:false


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpifva.wav:2, ROOT:\音频\语音+音效\gexpifvb.wav:2, ROOT:\音频\语音+音效\gexpifvc.wav:2
scaleFrom: 0.8
scaleTo: 0.8
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_爆炸2]
image: ROOT:\共享文件\1类\弹火2.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpifva.wav:2, ROOT:\音频\语音+音效\gexpifvb.wav:2, ROOT:\音频\语音+音效\gexpifvc.wav:2
scaleFrom: 1.2
scaleTo: 1.2
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
image: ROOT:\共享文件\1类\映射.png
life: 30
scaleFrom: 0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
#scaleTo: 0.8
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false


[effect_弹壳]
life: 240
delayedStartTimer: 5
attachedToUnit: false
image: ROOT:\共享文件\1类\弹壳.png
alpha: 1.5
drawUnderUnits: false
atmospheric: true
physics: true
physicsGravity: 1
scaleFrom: 1.25
scaleTo: 1.25
ySpeedRelative: -0.7
yOffsetRelative: -30
xOffsetRelative: 0
xSpeedRelativeRandom: 0.4
ySpeedRelativeRandom: 0.2
hSpeed: 2
hSpeedRandom: 0.3
dirOffsetRandom: 5
dirSpeedRandom: 10


[template_zijin]
price: 1500

================================================================================
// FILE_PATH: ./1同盟国联军/空军/黑鹰战机.ini
================================================================================


[core]
name: 黑鹰战机
price: 资金=1600
maxHp: 260
#200
mass: 10000
radius: 30

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营飞机共同.xxhq
tags: 原始护甲, 中级, 飞机轻甲, 战机, 空军, 克装甲, 黑鹰战机, 克生物, 克建筑, 炸飞人
#overrideAndReplace: amphibiousJet, bomber, fireBee, missileAirship
displayText: Black Eagle
displayText_zh: 黑鹰战机
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: High\nDamage building: High
displayDescription_zh: 攻击目标：地面单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：高
buildSpeed: 15s
softCollisionOnAll: 10
#disableAllUnitCollisions: true
energyMax: 8
energyRegen: 0
energyNeedsToRechargeToFull: false
selfRegenRate: 0.06
soundOnAttackOrder:  ROOT:\音频\语音+音效\vbleata.wav:2, ROOT:\音频\语音+音效\vbleatb.wav:2, ROOT:\音频\语音+音效\vbleatc.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vblemoa.wav:2, ROOT:\音频\语音+音效\vblemob.wav:2, ROOT:\音频\语音+音效\vblemoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vblesea.wav:2, ROOT:\音频\语音+音效\vbleseb.wav:2, ROOT:\音频\语音+音效\vblesec.wav:2, ROOT:\音频\语音+音效\vblesed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vbledia.wav:2, ROOT:\音频\语音+音效\vbledib.wav:2, ROOT:\音频\语音+音效\vbledic.wav:2, ROOT:\音频\语音+音效\vbledid.wav:2, ROOT:\音频\语音+音效\vbledie.wav:2
unitsSpawnedOnDeath: 黑鹰战机坠毁(addResources=hp:-999, spawnChance=0.5, maxSpawnLimit=1), 黑鹰战机坠毁(maxSpawnLimit=1), 降落伞(spawnChance=0.5, alwayStartDirAtZero=true)


[hiddenAction_移动音效]
autoTrigger: if self.isMoving()
#resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vblelo2b.wav


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\黑鹰战机图标.png
image:        黑鹰战机.png

imageScale:	1.0
image_offsetY: 10
frame_width: 120
frame_height: 120
image_wreak: NONE
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影4.png
shadowOffsetX:0
shadowOffsetY:5
movementEffect: CUSTOM:尾焰, CUSTOM:尾焰2, CUSTOM:尾焰3, CUSTOM:尾焰4
movementEffectRate: 1
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

attackMovement: bomber
turretSize: 10
turretTurnSpeed: 10
maxAttackRange: 225
#200
shootDelay: 30
canOnlyAttackUnitsWithoutTags: 伪装, 驾驶


[movement]
movementType: AIR

moveSpeed: 3.8
moveAccelerationSpeed: 2.00
moveDecelerationSpeed: 0.05
maxTurnSpeed: 2.5
turnAcceleration: 0.5
targetHeight: 140
reverseSpeedPercentage: 0


[turret_1]
x: 0
y: 0

barrelHeight: -10
barrelX: -12
barrelOffsetX_onOddShots: 24
shoot_sound: ROOT:\音频\语音+音效\vbleatta.wav, ROOT:\音频\语音+音效\vbleattb.wav
shoot_sound_vol: 2
shoot_light: #FFccCCEE
energyUsage: 4
projectile: 1


[projectile_1]
areaDamage: 240
life: 150


areaRadius: 30
frame: 4
speed: -2
targetSpeed: 8
drawSize: 0.9
trailEffect: CUSTOM:尾烟*1
trailEffectRate: 2
friendlyFire: true
#targetGround: true
explodeEffect: CUSTOM:映射, CUSTOM:爆炸
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.50
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.50
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.50
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.80
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 1.00
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.40
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.00
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.00
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 0.75
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.65
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.55
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.45


[action_补充弹药]
text: Missiles
text_zh: 弹药
description: 
displayType: none
autoTrigger: if self.hasParent() and not self.energy(full=true)
price: energy=1
displayRemainingStockpile: true
isActive: false
addResources: energy=1


[hiddenAction_补充弹药3]
autoTrigger: if not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.hasParent() and (self.energy(empty=true) or (not self.isControlledByAI() and not self.isAttacking() and not self.hasActiveWaypoint(type='attackMove') and not self.hasActiveWaypoint(type='attack') and self.hasUnitInTeam(withTag='机场')))
clearActiveWaypoint: true
addWaypoint_type: loadInto
addWaypoint_prepend: true
#addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 机场空
addWaypoint_triggerActionIfFailed: 自毁


[hiddenAction_初始入]
autoTriggerOnEvent: created
requireConditional: if self.hasUnitInTeam(withTag='机场')
alsoTriggerAction: 补充弹药3


[hiddenAction_自毁]
addResources: hp=-10000


[hiddenAction_攻击]
autoTrigger: if self.hasParent() and self.hasActiveWaypoint(type='attack')
disconnectFromParent: true


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=210) and not self.energy(empty=true)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 210
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击空军]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=215) and not self.energy(empty=true)
@copyFromSection: hiddenAction_Ai攻击装甲
addWaypoint_target_nearestUnit_tagged: 空军


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and self.hp(lessThan=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克生物
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='机场') and not self.hasUnitInTeam(withTag='机场', withinRange=100) and self.hp(lessThan=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 机场


[hiddenAction_初始价值]
addResources: 价值=60


[hiddenAction_清除攻击路径]
autoTrigger: if self.hasActiveWaypoint(type='attack') and activeWaypointTarget.hp<=0
clearActiveWaypoint: true
#showMessageToAllPlayers: 测试


[effect_爆炸]
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
image: ROOT:\共享文件\1类\炸毁5.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom: 0.8
scaleTo: 0.6
alpha: 0.6
life: 20
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true
priority: verylow


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟2.png
life: 60
scaleFrom: 0.4
scaleTo: 0.2
attachedToUnit: false
drawUnderUnits: false
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFramePingPong: false
animateFrameSpeed: 0.25
alwayStartDirAtZero: true
atmospheric: true


[effect_尾焰]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #FFFFFF00
fadeInTime: 0
scaleFrom: 0.4
scaleTo: 0.1
alpha: 0.8
life: 35
dirOffsetRandom: 180
xOffsetRelative: 3
yOffsetRelative: -34
#xSpeedAbsoluteRandom:0.4
#ySpeedAbsoluteRandom:0.1
fadeOut: true
attachedToUnit: false
drawUnderUnits:false
#shadow: true


[effect_尾焰2]
@copyFromSection: effect_尾焰
xOffsetRelative: -3


[effect_尾焰3]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
image: ROOT:\共享文件\1类\尾烟.png
life: 45
fadeOut:true
color:#FFFFFF
fadeInTime: 3
scaleFrom: 2.5
scaleTo: 0
alpha: 1
#dirOffsetRandom: 180
xOffsetRelative: 20
yOffsetRelative: -6
atmospheric:true
#xSpeedAbsoluteRandom:0.4
#ySpeedAbsoluteRandom:0.1
attachedToUnit: false
drawUnderUnits:false
#shadow: true


[effect_尾焰4]
@copyFromSection: effect_尾焰3
xOffsetRelative: -20


[template_zijin]
price: 1600

================================================================================
// FILE_PATH: ./1同盟国联军/空军/鹞式战机坠毁.ini
================================================================================


[core]
name: 鹞式战机坠毁
price: 0
maxHp: 1
mass: 6000
radius: 0

copyFrom: ROOT:\共享文件\3类\机毁飞溅.xxhq, ROOT:\共享文件\3类\生命保险.xxhq
showInEditor: false
fogOfWarSightRange: 0
soundOnDeath: ROOT:\音频\语音+音效\vintdiea.wav:2, ROOT:\音频\语音+音效\vintdieb.wav:2


[graphics]
image:        鹞式战机.png


frame_width: 120
frame_height: 120
image_wreak: ROOT:\共享文件\1类\死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影4.png
shadowOffsetX:0
shadowOffsetY:0
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffectRate: 1


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 3.2
moveAccelerationSpeed: 2.0
moveDecelerationSpeed: 0
maxTurnSpeed: 2.5
turnAcceleration: 0.5
targetHeight: 0
targetHeightDrift: 0
startingHeightOffset: 200
heightChangeRate: 1.5


[hiddenAction_1]
autoTriggerOnEvent: created
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_relativeOffsetFromSelf: 0, 100


[template_zijin]
price: 1350

================================================================================
// FILE_PATH: ./1同盟国联军/空军/冷冻直升机坠毁.ini
================================================================================


[core]
name: 冷冻直升机坠毁
price: 1150
maxHp: 1
mass: 300
radius: 20

copyFrom: ROOT:\共享文件\3类\机毁飞溅.xxhq
#isUnselectable: true
showInEditor: false
fogOfWarSightRange: 0


[graphics]
image:        冷冻直升机.png

image_offsetY: 10
imageScale:	1.0
total_frames: 2
frame_width: 160
frame_height: 160
image_shadow: AUTO_ANIMATED
image_wreak: ROOT:\共享文件\1类\死亡.png
shadowOffsetX: 0
shadowOffsetY: 0
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 1
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 1.2
moveAccelerationSpeed: 0.4
moveDecelerationSpeed: 0
maxTurnSpeed: 0
targetHeight: 0
#targetHeightDrift: 5
startingHeightOffset: 100
moveSlidingMode : true
moveSlidingDir:  180
moveIgnoringBody: true


[projectile_机毁肢]
targetSpeedAcceleration: 0.02


[hiddenAction_1]
autoTriggerOnEvent: created
setBodyRotation: 0
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 500,500


[animation_转]
onActions: move
direction_units: 11.25
direction_strideX: 1
direction_strideY: 0
direction_starting: 0
body_0s: {frame:0}
body_2s: {frame:63}


[effect_机毁肢]
image: 战肢体.png
scaleFrom: 0.9
scaleTo: 0.9
life: 120


[effect_机毁肢2]
image: 战肢体2.png

================================================================================
// FILE_PATH: ./1同盟国联军/空军/冷冻直升机空.ini
================================================================================


[core]
name: 冷冻直升机空
copyFrom: 冷冻直升机.ini
showInEditor: false


[graphics]
#shadowOffsetY: 7
animation_moving_end: 0
animation_idle_end: 0
animation_attack_end: 0


[attack]
canAttack: false


[movement]
moveSpeed: 0
maxTurnSpeed: 0
targetHeight: 0
targetHeightDrift: 0


[hiddenAction_变成空载具]
autoTrigger: false


[hiddenAction_变回载具]
autoTriggerOnEvent: teamChanged
convertTo: 冷冻直升机


[hiddenAction_空标签]
autoTrigger: if not self.tags(includes='驾驶')
temporarilyAddTags: 驾驶
#showMessageToAllPlayers: 有标签


[hiddenAction_Ai躲避]
autoTrigger: false


[hiddenAction_Ai躲避2]
autoTrigger: false


[hiddenAction_跟随-移动]
autoTrigger: false


[hiddenAction_跟随-攻击移动]
autoTrigger: false


[hiddenAction_跟随-守卫]
autoTrigger: false

================================================================================
// FILE_PATH: ./1同盟国联军/空军/海马.ini
================================================================================


[core]
name: 海马
price: 资金=1200
maxHp: 550
mass: 20000
radius: 30

copyFrom: ROOT:\共享文件\3类\阵营飞机共同.xxhq, ROOT:\共享文件\3类\杀死载员.xxhq
tags: 原始护甲, 飞机轻甲, 空军, 海马
displayText: Sea Horse
displayText_zh: 海马运输机
displayDescription: Special: Transport infantry.\nNo attack ability.
displayDescription_zh: 特殊：运输步兵\n只运输不作战
explodeOnDeath: false
buildSpeed: 12s
fogOfWarSightRange: 12
maxTransportingUnits: 8
transportUnitsRequireTag: 生物, 小型载具
transportUnitsBlockOtherTransports: false
transportUnitsCanUnloadUnits: if not self.isOverLiquid() and not self.isMoving() and not self.isFlying()
showOnMinimapToEnemies: false
unitsSpawnedOnDeath: 海马坠毁(addResources=hp:-999, spawnChance=0.5, maxSpawnLimit=1), 海马坠毁(maxSpawnLimit=1)
soundOnMoveOrder: ROOT:\音频\语音+音效\vblhmoa.wav:2, ROOT:\音频\语音+音效\vblhmob.wav:2, ROOT:\音频\语音+音效\vblhmoc.wav:2, ROOT:\音频\语音+音效\vblhmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vblhsea.wav:2, ROOT:\音频\语音+音效\vblhseb.wav:2, ROOT:\音频\语音+音效\vblhsec.wav:2, ROOT:\音频\语音+音效\vblhsed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vblhdia.wav:2, ROOT:\音频\语音+音效\vblhdib.wav:2, ROOT:\音频\语音+音效\vblhdic.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isFlying()
playSoundAtUnit: ROOT:\音频\语音+音效\vchilo2a.wav:0.4


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\海马图标.png
image:        海马.png

imageScale:	1.0
image_offsetY: 10
total_frames: 2
frame_width: 210
frame_height: 210
#image_wreak:  死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX: 0
shadowOffsetY: 10
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 3
animation_idle_start: 0
animation_idle_end: 1
animation_idle_speed: 4
#animation_attack_start: 0
#animation_attack_end: 1
#animation_attack_speed: 3
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 1.8
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.06
#reverseSpeedPercentage:0.5
maxTurnSpeed: 1.0
turnAcceleration: 0.2
targetHeight: 100
moveSlidingMode : true
moveSlidingDir: 45
moveIgnoringBody: true
landOnGround: true
#slowDeathFall: true


[action_1]
@define slotId: 0
isVisible: if self.transportingCount(slot=${slotId}, greaterThan=0)
isActive: if not self.isFlying()
buildSpeed: 0s
text: unload
text_zh: 卸载
textAddUnitName: unitRef self.transporting(slot=${slotId})
description: Click to unload unit
description_zh: 点击卸载单位
displayType: action
unitShownInUI: unitRef self.transporting(slot=${slotId})
forceUnloadTransportNow:true
forceUnloadTransportNow_onlyOnSlot:${slotId}
#isActive: if self.height(lessThan=3)


[action_2]
@copyFromSection: action_1
@define slotId: 1


[action_3]
@copyFromSection: action_1
@define slotId: 2


[action_4]
@copyFromSection: action_1
@define slotId: 3


[action_5]
@copyFromSection: action_1
@define slotId: 4


[action_6]
@copyFromSection: action_1
@define slotId: 5


[action_7]
@copyFromSection: action_1
@define slotId: 6


[action_8]
@copyFromSection: action_1
@define slotId: 7


[hiddenAction_变回载具]
autoTrigger: if not self.tags(includes='驾驶') and numberOfUnitsInNeutralTeam(withTag='变成空载具', greaterThan=0, withinRange=100)
temporarilyAddTags: 驾驶
switchToAggressiveTeam: true
alsoQueueAction: 变回载具2
#showMessageToAllPlayers: 有标签


[hiddenAction_变回载具2]
buildSpeed: 1s


[hiddenAction_变回载具3]
requireConditional: if self.tags(includes='驾驶') and self.queueSize(empty=true)
autoTriggerOnEvent: teamChanged
temporarilyRemoveTags: 驾驶
stopLastAnimation: true
#showMessageToAllPlayers: 无标志


[hiddenAction_空载静止]
autoTrigger: if self.tags(includes='驾驶') and self.customTimer(laterThanSeconds=10)
resetCustomTimer: true
playAnimation: 空载静止


[hiddenAction_卸载声]
autoTrigger: if self.isTransportUnloading() and not self.isMoving()
playSoundAtUnit:  ROOT:\音频\语音+音效\gexit1a.wav:2
#showQuickWarLogToAllPlayers: 卸载


[hiddenAction_初始价值]
addResources: 价值=60


[animation_空载静止]
body_0s: {frame:0}
body_10s: {frame:0}


[template_zijin]
price: 1200

================================================================================
// FILE_PATH: ./1同盟国联军/空军/鹞式战机.ini
================================================================================


[core]
name: 鹞式战机
price: 资金=1300
maxHp: 280
#200
mass: 6000
radius: 30

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营飞机共同.xxhq
tags: 原始护甲, 中级, 飞机轻甲, 战机, 空军, 克装甲, 克空军, 鹞式战机
#overrideAndReplace: amphibiousJet, bomber, fireBee, missileAirship
displayText: Harrier
displayText_zh: 鹞式战机
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: High\nDamage building: Medium
displayDescription_zh: 攻击目标：地面单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：中
buildSpeed: 13s
#softCollisionOnAll: 5
disableAllUnitCollisions: true
energyMax: 6
energyRegen: 0
energyNeedsToRechargeToFull: false
selfRegenRate: 0.06
soundOnAttackOrder:  ROOT:\音频\语音+音效\vintata.wav:2, ROOT:\音频\语音+音效\vintatb.wav:2, ROOT:\音频\语音+音效\vintatc.wav:2, ROOT:\音频\语音+音效\vintatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vintmoa.wav:2, ROOT:\音频\语音+音效\vintmob.wav:2, ROOT:\音频\语音+音效\vintmoc.wav:2, ROOT:\音频\语音+音效\vintmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vintsea.wav:2, ROOT:\音频\语音+音效\vintseb.wav:2, ROOT:\音频\语音+音效\vintsec.wav:2, ROOT:\音频\语音+音效\vintsed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vintdia.wav:2, ROOT:\音频\语音+音效\vintdib.wav:2, ROOT:\音频\语音+音效\vintdic.wav:2
unitsSpawnedOnDeath: 鹞式战机坠毁(addResources=hp:-999, spawnChance=0.5, maxSpawnLimit=1), 鹞式战机坠毁(maxSpawnLimit=1), 降落伞(spawnChance=0.5, alwayStartDirAtZero=true)


[hiddenAction_移动音效]
autoTrigger: if self.isFlying()
playSoundAtUnit: ROOT:\音频\语音+音效\vintlo2b.wav:0.6


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='美国') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\鹞式战机图标.png
image:        鹞式战机.png

imageScale:	1.0
image_offsetY: 10
frame_width: 120
frame_height: 120
image_wreak: NONE
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影4.png
shadowOffsetX:0
shadowOffsetY:5
movementEffect: CUSTOM:尾焰, CUSTOM:尾焰2
movementEffectRate: 1
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

attackMovement: bomber
turretSize: 10
turretTurnSpeed: 10
maxAttackRange: 210
#200
shootDelay: 5
canOnlyAttackUnitsWithoutTags: 伪装, 驾驶


[movement]
movementType: AIR

moveSpeed: 3.4
moveAccelerationSpeed: 2.00
moveDecelerationSpeed: 0.05
maxTurnSpeed: 2.5
turnAcceleration: 0.5
targetHeight: 140
reverseSpeedPercentage: 0


[turret_1]
x: 0
y: 0

barrelHeight: -10
barrelX: -12
barrelOffsetX_onOddShots: 24
shoot_sound: ROOT:\音频\语音+音效\vintatta.wav
shoot_sound_vol: 2
shoot_light:#FFccCCEE
energyUsage: 3
projectile: 1


[projectile_1]
areaDamage: 200
life: 150


areaRadius: 30
frame: 4
speed: 2
targetSpeed: 8
drawSize: 0.9
trailEffect: CUSTOM:尾烟*1
trailEffectRate: 2
friendlyFire: true
autoTargetingOnDeadTarget: true
explodeEffect: CUSTOM:映射, CUSTOM:爆炸
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.2
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 1.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.5
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.0
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.6
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.6
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.4


[action_补充弹药]
text: Missiles
text_zh: 弹药
description: 
displayType: none
autoTrigger: if self.hasParent() and not self.energy(full=true)
price: energy=1
displayRemainingStockpile: true
isActive: false
addResources: energy=1


[hiddenAction_补充弹药3]
autoTrigger: if not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.hasParent() and (self.energy(empty=true) or (not self.isControlledByAI() and not self.isAttacking() and not self.hasActiveWaypoint(type='attackMove') and not self.hasActiveWaypoint(type='attack') and self.hasUnitInTeam(withTag='机场')))
clearActiveWaypoint: true
addWaypoint_type: loadInto
addWaypoint_prepend: true
#addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 机场空
addWaypoint_triggerActionIfFailed: 自毁


[hiddenAction_初始入]
autoTriggerOnEvent: created
requireConditional: if self.hasUnitInTeam(withTag='机场')
alsoTriggerAction: 补充弹药3


[hiddenAction_自毁]
addResources: hp=-10000


[hiddenAction_攻击]
autoTrigger: if self.hasParent() and self.hasActiveWaypoint(type='attack')
disconnectFromParent: true


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=240) and not self.energy(empty=true)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 240
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击空军]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=215) and not self.energy(empty=true)
@copyFromSection: hiddenAction_Ai攻击装甲
addWaypoint_target_nearestUnit_tagged: 空军


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and self.hp(lessThan=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克生物
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='机场') and not self.hasUnitInTeam(withTag='机场', withinRange=100) and self.hp(lessThan=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 机场


[hiddenAction_初始价值]
addResources: 价值=50


[hiddenAction_清除攻击路径]
autoTrigger: if self.hasActiveWaypoint(type='attack') and activeWaypointTarget.hp<=0
clearActiveWaypoint: true
#showMessageToAllPlayers: 测试


[effect_爆炸]
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
image: ROOT:\共享文件\1类\炸毁5.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom: 0.8
scaleTo: 0.6
alpha: 0.6
life: 20
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true
priority: verylow


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟2.png
life: 60
scaleFrom: 0.4
scaleTo: 0.2
attachedToUnit: false
drawUnderUnits: false
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFramePingPong: false
animateFrameSpeed: 0.25
alwayStartDirAtZero: true
atmospheric: true


[effect_尾焰]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
image: ROOT:\共享文件\1类\尾烟.png
life: 45
fadeOut:true
color:#FFFFFF
fadeInTime: 3
scaleFrom: 2.5
scaleTo: 0
alpha: 1
#dirOffsetRandom: 180
xOffsetRelative: 25
yOffsetRelative: -15
atmospheric:true
#xSpeedAbsoluteRandom:0.4
#ySpeedAbsoluteRandom:0.1
attachedToUnit: false
drawUnderUnits:false
#shadow: true


[effect_尾焰2]
@copyFromSection: effect_尾焰
xOffsetRelative: -25


[template_zijin]
price: 1300

================================================================================
// FILE_PATH: ./1同盟国联军/空军/科曼奇坠毁.ini
================================================================================


[core]
name: 科曼奇坠毁
price: 1150
maxHp: 1
mass: 300
radius: 20

copyFrom: ROOT:\共享文件\3类\机毁飞溅.xxhq
#isUnselectable: true
showInEditor: false
fogOfWarSightRange: 0
soundOnDeath: ROOT:\音频\语音+音效\vcomacraa.wav:2


[graphics]
image:        科曼奇.png

image_offsetY: 10
imageScale:	1.0
total_frames: 2
frame_width: 135
frame_height: 135
image_shadow: AUTO_ANIMATED
image_wreak: ROOT:\共享文件\1类\死亡.png
shadowOffsetX: 0
shadowOffsetY: 0
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 1
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 1.4
moveAccelerationSpeed: 0.4
moveDecelerationSpeed: 0
maxTurnSpeed: 0
targetHeight: 0
#targetHeightDrift: 5
startingHeightOffset: 100
moveSlidingMode : true
moveSlidingDir:  180
moveIgnoringBody: true


[projectile_机毁肢]
targetSpeedAcceleration: 0.02


[hiddenAction_1]
autoTriggerOnEvent: created
setBodyRotation: 0
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 500,500


[animation_转]
onActions: move
direction_units: 11.25
direction_strideX: 1
direction_strideY: 0
direction_starting: 0
body_0s: {frame:0}
body_2s: {frame:63}


[effect_机毁肢]
image: 战肢体.png
scaleFrom: 0.9
scaleTo: 0.9
life: 120


[effect_机毁肢2]
image: 战肢体2.png


#[effect_尾焰]
#scaleTo: 1.6
#xSpeedAbsoluteRandom:0.1
#ySpeedAbsoluteRandom:0.2


#[effect_尾焰2]
#xSpeedAbsoluteRandom:0.15
#ySpeedAbsoluteRandom:0.4


#[effect_尾焰3]
#xSpeedAbsoluteRandom: 0.2
#ySpeedAbsoluteRandom:0.6

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–生产/盟军机场.ini
================================================================================


[core]
name: 盟军机场
price: 0
maxHp: 1200
mass: 50000
radius: 60

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\生产控制.xxhq
tags: 原始护甲, 建筑轻甲, 建筑, 占领, 机场, 盟军机场, 可入侵, 空下, 带扩展建筑
displayText: Allied Airfield
displayText_zh: 盟军机场
displayDescription: Produce and repair and place aircraft\nSpecial: Place it to unlock the satellite scanning function and use it on the American flag.\nFunds: -1500\nPower: -150
displayDescription_zh: 生产和放置和维修飞机\n资金花费：1500\n电力占用：150\n特殊：放置好后解锁卫星扫描功能，需要在美国国旗那里使用
borrowResourcesWhileAlive: 电力=150
isBuilding: true
footprint: -4,-2,4,1
displayFootprint: -5,-3,5,2
constructionFootprint: -5,-3,5,2
#techLevel: 2
buildSpeed: 0
selfBuildRate: 1s
exit_x: 0
#-15
exit_y: 0
exit_dirOffset: 240
exit_moveAwayAmount: 100
maxTransportingUnits: 4
transportUnitsRequireTag: 飞机轻甲, 飞机中甲, 飞机重甲
transportUnitsKeepBuiltUnits: true
transportUnitsHealBy: 0.08
transportUnitsRequireMovementType: AIR
transportUnitsKillOnDeath: false
transportUnitsBlockOtherTransports: false
fogOfWarSightRange: 20
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2*2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 盟军机场停电
convertTo_keepCurrentTags: true


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[hiddenAction_建造单位音效]
autoTriggerOnEvent: queueItemAdded
playSoundToPlayer: ROOT:\音频\语音+音效\umenucl1.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[hiddenAction_单位建造完成-盟]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva062.wav:2


[hiddenAction_建造单位完成-苏]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof062.wav:2


[hiddenAction_单位建造完成-尤]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur062.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\盟军机场图标.png
image:        盟军机场.png

default_frame: 12
total_frames: 20
imageScale:	1.02
image_offsetX: 16
image_offsetY: -69
#image_back:   NONE
#image_wreak:  NONE
animation_idle_start: 12
animation_idle_end: 19
animation_idle_speed: 8
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[canBuild_1]
name: setRally, 鹞式战机

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2) and not self.globalTeamTags(includes="西太")
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产飞机')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_西太专属T1]
name: 黑鹰战机

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2) and self.globalTeamTags(includes="西太")
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产飞机')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_西太专属T2]
name: 冷冻直升机

pos: 2
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2) and self.hasUnitInTeam(withTag="控制中心") and self.globalTeamTags(includes="西太")
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产飞机')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_美国专属T3]
name: 科曼奇

pos: 3
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2) and self.hasUnitInTeam(withTag="科技中心") and self.globalTeamTags(includes="美国")
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产飞机')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_2]
name: 海马

pos: 4
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产飞机')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[attachment_1]
x: 65
y: 17

isUnselectable: false
idleDir: 225
lockRotation: true
canBeAttackedAndDamaged: true
addTransportedUnits: true
deattachIfWantingToMove:true


[attachment_2]
x: 10
y: 22

@copyFromSection: attachment_1


[attachment_3]
x: 0
y: -15

@copyFromSection: attachment_1


[attachment_4]
x: -55
#-5
y: -10
#0

@copyFromSection: attachment_1


[action_生产控制3]
isVisible: false


[action_生产控制5]
isVisible: false


[hiddenAction_1]
autoTrigger: if self.customTimer(laterThanSeconds=2) and not self.hasFlag(id=29)
resetCustomTimer: true
spawnEffects: CUSTOM:盟军机场光


[hiddenAction_2]
autoTrigger: if self.hasFlag(id=29) and not self.tags(includes='卖钱')     
temporarilyAddTags: 卖钱


[hiddenAction_3]
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0) and self.globalTeamTags(includes='有空投飞机')
produceUnits: 空投飞机2
removeGlobalTeamTags: 有空投飞机


[hiddenAction_3-2]
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0) and self.globalTeamTags(includes='有空投物资箱飞机')
produceUnits: 空投飞机3
removeGlobalTeamTags: 有空投物资箱飞机


[hiddenAction_机场空]
autoTrigger: if self.numberOfAttachedUnits(lessThan=4) and not self.tags(includes='机场空')     
temporarilyAddTags: 机场空
#showMessageToAllPlayers: 有


[hiddenAction_机场空2]
autoTrigger: if self.numberOfAttachedUnits(greaterThan=3) and self.tags(includes='机场空')     
temporarilyRemoveTags: 机场空
#showMessageToAllPlayers: 无


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_卖钱4]
forceUnloadTransportNow:true


[hiddenAction_初始价值]
addResources: 价值=60


[hiddenAction_心控卸载2]
requireConditional: false


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:11}


[effect_盟军机场光]
image: 盟军机场光.png
#delayedStartTimer: 60
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 6
animateFrameStart: 0
animateFrameEnd: 5
animateFrameSpeed: 0.06
xOffsetRelative	:  16
yOffsetRelative	:  69
alwayStartDirAtZero: true
life: 600
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
attachedToUnit: true
liveAfterAttachedDies: false
createWhenZoomedOut:  false


[effect_土坑]
#xOffsetRelative: 0
yOffsetRelative: 20


[effect_土坑2]
xOffsetRelativeRandom: 80
yOffsetRelativeRandom: 50


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 1500
@global dianli: -150


[ai]
useAsBuilder: true
buildPriority: 0.03
noneInBaseExtraPriority:0.3
recommendedInEachBaseNum: 2
recommendedInEachBasePriorityIfUnmet: 0.2

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–生产/盟军战争工厂.ini
================================================================================


[core]
name: 盟军战争工厂
price: 0
maxHp: 1200
mass: 30000
radius: 60

#overrideAndReplace: mechFactory, experimentalLandFactory
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\生产控制.xxhq
tags: 原始护甲, 建筑轻甲, 建筑, 占领, 车厂, 盟军战争工厂, 可入侵, 空下, 带扩展建筑
displayText: Allied War Factory
displayText_zh: 盟军战争工厂
displayDescription: Produce Allied vehicles\nFunds: -2000\nPower: -100
displayDescription_zh: 生产盟军战车\n资金花费：2000\n电力占用：100
borrowResourcesWhileAlive: 电力=100
isBuilding: true
footprint: -4,-1,5,3
constructionFootprint: -4,-2,5,3
buildSpeed: 0
selfBuildRate: 1s
exit_x:61
exit_y:30
exit_dirOffset: 315
exit_moveAwayAmount :100
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2*2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 盟军战争工厂停电
convertTo_keepCurrentTags: true


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[hiddenAction_建造单位音效]
autoTriggerOnEvent: queueItemAdded
playSoundToPlayer: ROOT:\音频\语音+音效\umenucl1.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[hiddenAction_单位建造完成-盟]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva062.wav:2


[hiddenAction_建造单位完成-苏]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof062.wav:2


[hiddenAction_单位建造完成-尤]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur062.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\盟军战争工厂图标.png
image:        盟军战争工厂.png

default_frame: 8
total_frames: 14
imageScale:	1.02
image_offsetX:-14
image_offsetY:-35
animation_idle_start: 9
animation_idle_end: 9
animation_idle_speed: 1
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[canBuild_1]
name: setRally, 灰熊坦克, 步兵战车, 悍马车, 医疗车

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_2]
name: 遥控坦克

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="控制中心") or self.hasFlag(id=3)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_德国专属T2]
name: 坦克杀手

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="控制中心") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and self.globalTeamTags(includes="德国")
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_法国专属T2]
name: 自行火炮

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="控制中心") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and self.globalTeamTags(includes="法国")
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_2-1]
name: 盟军基地车
isVisible:if (self.hasUnitInTeam(withTag="盟军维修站") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and not self.globalTeamTags(includes='禁止生产基地车')
@copyFromSection: canBuild_2


[canBuild_3]
name: 盟军矿车

pos: 3
isVisible:if (self.hasUnitInTeam(withTag="盟军矿厂") or self.hasFlag(id=5)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_4]
name: 幻影坦克, 光棱坦克, 战斗要塞

pos: 4
isVisible:if (self.hasUnitInTeam(withTag="科技中心") or self.hasFlag(id=4)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_秘密科技实验室]
name: 长矛

pos: 4
isVisible:if (self.hasUnitInTeam(withTag="秘密科技实验室") or self.hasFlag(id=4)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[hiddenAction_Ai生产基地车-不可能的]
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.resource(type='资金', greaterThan=3000) and self.resource(type='Ai智商', equalTo=370) and numberOfUnitsInTeam(lessThan=7, withTag='基地车') and numberOfUnitsInTeam(lessThan=7, withTag='基地') and self.hasUnitInTeam(withTag="盟军维修站") and self.isControlledByAI() and self.resource(type='入侵计时', empty=true) and not self.hasFlag(id=1) and not self.globalTeamTags(includes='禁止生产基地车') and not self.tags(includes='禁止攻击') and not self.globalTeamTags(includes='禁止生产载具') and self.customTimer(laterThanSeconds=120)
resetCustomTimer: true
produceUnits: 盟军基地车
addResources: 资金=-3000


[hiddenAction_Ai生产基地车-很难]
@copyFromSection: hiddenAction_Ai生产基地车-不可能的
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.resource(type='资金', greaterThan=3000) and self.resource(type='Ai智商', equalTo=179) and numberOfUnitsInTeam(lessThan=5, withTag='基地车') and numberOfUnitsInTeam(lessThan=5, withTag='基地') and self.hasUnitInTeam(withTag="盟军维修站") and self.isControlledByAI() and self.resource(type='入侵计时', empty=true) and not self.hasFlag(id=1) and not self.globalTeamTags(includes='禁止生产基地车') and not self.tags(includes='禁止攻击') and not self.globalTeamTags(includes='禁止生产载具') and self.customTimer(laterThanSeconds=120)


[hiddenAction_Ai生产基地车-困难]
@copyFromSection: hiddenAction_Ai生产基地车-不可能的
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.resource(type='资金', greaterThan=3000) and self.resource(type='Ai智商', equalTo=139) and numberOfUnitsInTeam(lessThan=3, withTag='基地车') and numberOfUnitsInTeam(lessThan=3, withTag='基地') and self.hasUnitInTeam(withTag="盟军维修站") and self.isControlledByAI() and self.resource(type='入侵计时', empty=true) and not self.hasFlag(id=1) and not self.globalTeamTags(includes='禁止生产基地车') and not self.tags(includes='禁止攻击') and not self.globalTeamTags(includes='禁止生产载具') and self.customTimer(laterThanSeconds=120)


[hiddenAction_Ai生产基地车-普通]
@copyFromSection: hiddenAction_Ai生产基地车-不可能的
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.resource(type='资金', greaterThan=3000) and self.resource(type='Ai智商', equalTo=100) and numberOfUnitsInTeam(lessThan=2, withTag='基地车') and numberOfUnitsInTeam(lessThan=2, withTag='基地') and self.hasUnitInTeam(withTag="盟军维修站") and self.isControlledByAI() and self.resource(type='入侵计时', empty=true) and not self.hasFlag(id=1) and not self.globalTeamTags(includes='禁止生产基地车') and not self.tags(includes='禁止攻击') and not self.globalTeamTags(includes='禁止生产载具') and self.customTimer(laterThanSeconds=120)


[hiddenAction_1]
autoTrigger: if not self.hasFlag(id=29)
spawnEffects: CUSTOM:盟军战争工厂旗


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_初始价值]
addResources: 价值=100


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[animation_出厂动画]
body_0s: {frame:9}
body_1s: {frame:13}


[effect_盟军战争工厂旗]
image: 盟军战争工厂旗.png
#delayedStartTimer: 60
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 8
animateFrameStart: 0
animateFrameEnd: 7
animateFrameSpeed: 0.1
xOffsetRelative: -14
yOffsetRelative: 35
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
attachedToUnit: true
liveAfterAttachedDies: false
createWhenZoomedOut:  false
#createWhenOverLand: false


[effect_电力]
xOffsetRelative: -45
yOffsetRelative: 40


[effect_土坑2]
xOffsetRelativeRandom: 80
yOffsetRelativeRandom: 40


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 2000
@global dianli: -100


[ai]
useAsBuilder: true
buildPriority: 0.03
#useAsBuilder: true
noneInBaseExtraPriority:0.3
recommendedInEachBaseNum: 2
recommendedInEachBasePriorityIfUnmet: 0.2

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–生产/盟军船坞引子-Ai.ini
================================================================================

[core]
name: 盟军船坞引子-Ai
price: 0
maxHp: 1000
mass: 1
radius: 0

showInEditor: false
tags: 盟军船坞引子
#isUnselectable: true
disableAllUnitCollisions: true
effectOnDeath: NONE
explodeOnDeath:  false
hideScorchMark: true
#canNotBeDirectlyAttacked:true
dieOnConstruct: true
nanoRange: 10
armour: 999999
armourMinDamageToKeep: 0
canOnlyBeAttackedByUnitsWithTags: 无
showOnMinimap: false


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0
moveSpeed: 4
moveAccelerationSpeed: 2
moveDecelerationSpeed: 4
maxTurnSpeed: 6
turnAcceleration: 1
reverseSpeedPercentage: 0.5
moveIgnoringBody: true
moveSlidingMode: true
moveSlidingDir: 0


[canBuild_1]
name: 盟军船坞
#pos: 1
#tech: 1
#forceNano: true/false   
#isVisible: true/false
#isLocked: true/false/逻辑代码
#isLockedMessage: 信息


[turret_1]
x: 0
y: 0


[projectile_1]
directDamage: 0
life: 60

instant: true
#explodeEffect: NONE
spawnUnit: 盟军船坞(addResources=资金:-1500, gridAlign=true, skipIfOverlapping=true)
#, gridAlign=true

[hiddenAction_1]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='基地') and not self.hasUnitInTeam(withTag='基地', withinRange=800) and not self.hasActiveWaypoint(type='guard')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 基地
#addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 1s
#showMessageToAllPlayers: 萌跟基地


[hiddenAction_2]
autoTrigger: if (self.isControlledByAI() and self.isOverwater()) or not self.hasUnitInTeam(withTag='基地')
clearActiveWaypoint: true
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,250
#showMessageToAllPlayers: 碰到水
alsoQueueAction: 1


[hiddenAction_1]
buildSpeed: 1s
deleteSelf: true


#[hiddenAction_4]
#autoTrigger: if not self.hasUnitInTeam(withTag='车厂') or not self.hasUnitInTeam(withTag='超时空传送仪') or numberOfUnitsInTeam(withTag='超时空引子', greaterThan=1) or self.hasUnitInTeam(withTag='超时空传送')
#deleteSelf: true

[ai]
useAsBuilder: true

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–生产/盟军兵营.ini
================================================================================


[core]
name: 盟军兵营
price: 0
maxHp: 900
mass: 10000
radius: 35

#overrideAndReplace: landFactory
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\生产控制.xxhq
tags: 原始护甲, 建筑轻甲, 建筑, 占领, 兵营, 盟军兵营, 可入侵, 空下, 带扩展建筑
displayText: Allied Barracks
displayText_zh: 盟军兵营
displayDescription: Training basic and advanced Allied infantry\nFunds: -500\nPower: -10
displayDescription_zh: 训练盟军士兵\n资金花费：500\n电力占用：10
borrowResourcesWhileAlive: 电力=10
isBuilding: true
footprint: -3,-1,3,2
constructionFootprint: -3,-1,3,2
buildSpeed: 0
selfBuildRate: 1s
exit_x:0
exit_dirOffset: 45
exit_moveAwayAmount :50
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 盟军兵营停电
convertTo_keepCurrentTags: true


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[hiddenAction_建造单位音效]
autoTriggerOnEvent: queueItemAdded
playSoundToPlayer: ROOT:\音频\语音+音效\umenucl1.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[hiddenAction_单位建造完成-盟]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva062.wav:2


[hiddenAction_建造单位完成-苏]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof062.wav:2


[hiddenAction_单位建造完成-尤]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur062.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\盟军兵营图标.png
image:        盟军兵营.png

default_frame: 8
total_frames: 10
imageScale:	1.02
image_offsetX:-12
image_offsetY:-22
animation_idle_start: 9
animation_idle_end: 9
animation_idle_speed: 1
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[canBuild_1]
name: setRally, 美国大兵, 重装大兵, 盟军工程师, 盟军军犬

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_2]
name: 火箭飞行兵, 海豹部队

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="盟军机场") or self.hasFlag(id=3)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_英国专属T2]
name: 狙击手, 掷弹兵

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="控制中心") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and self.globalTeamTags(includes="英国")
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_德国专属T2]
name: 光棱兵

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="盟军机场") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and self.globalTeamTags(includes="德国")
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_美国专属T2]
name: 压制步兵

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="控制中心") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and self.globalTeamTags(includes="美国")
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_3]
name: 间谍, 超时空军团兵

pos: 3
isVisible:if (self.hasUnitInTeam(withTag="科技中心") or self.hasFlag(id=4)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_4]
name: 谭雅

pos: 4
isVisible:if (self.hasUnitInTeam(withTag="科技中心") or self.hasFlag(id=4)) and not self.hasFlag(id=1)
isLocked: if self.hasUnitInTeam(withTag="谭雅", factoryQueue=true)
isLockedMessage: Tanya can only have one at a time!
isLockedMessage_zh: 谭雅同时只能有一个
isLockedAlt: if not self.resource(type='入侵计时', empty=true)
isLockedAltMessage: Be infiltrated! 
isLockedAltMessage_zh: 被入侵！
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[action_生产控制5]
isVisible: false


[hiddenAction_1]
autoTrigger: if not self.hasFlag(id=29)
#if self.customTimer(laterThanSeconds=1) and not self.hasFlag(id=29)
#resetCustomTimer: true
spawnEffects: CUSTOM:盟军兵营旗


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_初始价值]
addResources: 价值=30


[effect_盟军兵营旗]
image: 盟军兵营旗.png
#delayedStartTimer: 60
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 8
animateFrameStart: 0
animateFrameEnd: 7
animateFrameSpeed: 0.1
xOffsetRelative: -12
yOffsetRelative: 22
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
attachedToUnit: true
liveAfterAttachedDies: false
createWhenZoomedOut:  false
#createWhenOverLand: false


[effect_土坑2]
xOffsetRelativeRandom:  40
yOffsetRelativeRandom:  40


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 500
@global dianli: -10


[ai]
useAsBuilder: true
buildPriority: 0.04
noneInBaseExtraPriority: 0.8
recommendedInEachBaseNum: 3
recommendedInEachBasePriorityIfUnmet: 0.08

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–生产/盟军船坞.ini
================================================================================


[core]
name: 盟军船坞
price: 0
maxHp: 1500
mass: 50000
radius: 50

#overrideAndReplace: seaFactory
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\生产控制.xxhq
tags: 原始护甲, 建筑重甲, 建筑, 占领, 船坞, 空下
displayText: Allied Naval Shipyard
displayText_zh: 盟军船坞
displayDescription: Produce and repair allied naval units\nFunds: -1200\nPower: -100
displayDescription_zh: 生产和维修盟军海军单位\n资金花费：1200\n电力占用：100
borrowResourcesWhileAlive: 电力=100
isBuilding: true
footprint: -6,-2,-2,1
displayFootprint: -6,-2,0,2
constructionFootprint: -6,-2,0,2
buildSpeed: 0
selfBuildRate: 1s
maxTransportingUnits: 1
transportUnitsRequireTag: 船坞维修
transportUnitsBlockAirAndWaterUnits: false
transportUnitsBlockOtherTransports: false
transportUnitsKillOnDeath: false
transportUnitsHealBy: 0.15
exit_x: 0
exit_y: 0
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:炸毁, CUSTOM:炸毁2, CUSTOM:炸毁3, CUSTOM:炸毁4, CUSTOM:炸毁5


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 盟军船坞停电
convertTo_keepCurrentTags: true


[placementRule_建造规则]
searchTeam: own
searchDistance: 520


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 520


[hiddenAction_建造单位音效]
autoTriggerOnEvent: queueItemAdded
playSoundToPlayer: ROOT:\音频\语音+音效\umenucl1.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[hiddenAction_单位建造完成-盟]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva062.wav:2


[hiddenAction_建造单位完成-苏]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof062.wav:2


[hiddenAction_单位建造完成-尤]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur062.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\建筑\盟军船坞图标.png
image:        盟军船坞.png

default_frame: 8
total_frames: 36
imageScale:	1.02
image_offsetX: -70
image_offsetY: -40
#image_back:   NONE
#image_wreak:  NONE
animation_idle_start: 8
animation_idle_end: 15
animation_idle_speed: 6
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: WATER


[canBuild_1]
name: setRally, 驱逐舰, 两栖运输船

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_2]
name: 神盾巡洋舰, 海豚

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="盟军机场") or self.hasFlag(id=3)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_3]
name: 航空母舰

pos: 3
isVisible:if (self.hasUnitInTeam(withTag="科技中心") or self.hasFlag(id=4)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[attachment_1]
x: 0
y: 0

canAttack: false
isUnselectable: false
idleDir: 180
lockRotation: true
keepAliveWhenParentDies: true
canBeAttackedAndDamaged: true
addTransportedUnits: true
deattachIfWantingToMove:true


[action_生产控制5]
isVisible: false


[hiddenAction_维修单位]
autoTrigger: if self.numberOfAttachedUnits(withTag='船坞维修', greaterThan=0) and self.customTimer(laterThanSeconds=2)
resetCustomTimer: true
playAnimationIfNotPlaying: 维修动画
playSoundAtUnit: ROOT:\音频\语音+音效\vifvrepa.wav
spawnEffects: CUSTOM:修理, CUSTOM:闪光2, CUSTOM:闪光


[hiddenAction_开门]
autoTrigger: if self.hasFlag(id=0)
addResources: unsetFlag=0
playAnimationIfNotPlaying: 维修动画


[hiddenAction_初始价值]
addResources: 价值=60


[hiddenAction_水动画]
autoTrigger: if not self.hasFlag(id=29)
spawnEffects: CUSTOM:盟军船坞水


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[animation_维修动画]
body_0s: {frame:16}
body_1.6s: {frame:35}


[effect_电力]
xOffsetRelative: -70
yOffsetRelative: 45


[effect_盟军船坞水]
image: 盟军船坞水.png
#delayedStartTimer: 60
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.2
xOffsetRelative: -70
yOffsetRelative: 40
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
attachedToUnit: true
liveAfterAttachedDies: false
createWhenZoomedOut:  false
#createWhenOverLand: false


[effect_修理]
image: ROOT:\共享文件\1类\灰.png
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 6
alpha: 1.2
life: 60
hSpeed: 0.6
hOffsetRandom: 0.2
dirOffsetRandom: 180
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 3
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[effect_闪光]
#priority:critical
image: ROOT:\共享文件\1类\闪光.png
color: #FFFFFF
life: 8
scaleFrom: 0.4
scaleTo: 0.5
alpha: 1.5
fadeOut: true
fadeInTime: 2
drawUnderUnits: false
attachedToUnit: false
alwayStartDirAtZero: true
atmospheric: false
#dirOffset: 90
#xOffsetRelative: 0
xOffsetRelativeRandom: 0.6
yOffsetRelativeRandom: 0.6
xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5


[effect_闪光2]
@copyFromSection: effect_闪光
#priority:veryhigh
color: #FFAA00
life: 10
scaleFrom: 1.1
scaleTo: 1.2
alpha: 1
xOffsetRelativeRandom: 1.2
yOffsetRelativeRandom: 1.2
xSpeedAbsoluteRandom: 0.75
ySpeedAbsoluteRandom: 0.75
showInFog: true


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸24.png
scaleFrom: 1
scaleTo: 1
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
animateFrameSpeedRandom: 0.05
xOffsetRelative	: -50
yOffsetRelative	:  35
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -50
yOffsetRelative	:  -15


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -90
yOffsetRelative	:  -15


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -90
yOffsetRelative	:  35


[effect_炸毁5]
image: ROOT:\共享文件\1类\爆炸3.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelative: -50
yOffsetRelative: 10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 1200
@global dianli: -100


[ai]
useAsBuilder: true

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–生产/盟军机场停电.ini
================================================================================


[core]
name: 盟军机场停电
copyFrom: 盟军机场.ini
showInEditor: false

nanoFactorySpeed: 0.75


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 盟军机场
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–生产/盟军兵营停电.ini
================================================================================


[core]
name: 盟军兵营停电
copyFrom: 盟军兵营.ini
showInEditor: false

nanoFactorySpeed: 0.75

[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 盟军兵营
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–生产/盟军战争工厂停电.ini
================================================================================


[core]
name: 盟军战争工厂停电
copyFrom: 盟军战争工厂.ini
showInEditor: false
nanoFactorySpeed: 0.75


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 盟军战争工厂
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1同盟国联军/建筑–生产/盟军船坞停电.ini
================================================================================


[core]
name: 盟军船坞停电
copyFrom: 盟军船坞.ini
showInEditor: false

nanoFactorySpeed: 0.75


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 盟军船坞
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/超时空军团兵.ini
================================================================================

[core]
name: 超时空军团兵
price: 资金=950
maxHp: 220
mass: 120
radius: 8

copyFrom: ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 生物, 超时空军团兵, 心控, 克生物, 两栖, 免疫普通碾压, 步兵中甲, 免疫超时空, 免疫普通减速
displayText: Chrono Legionnaires
displayText_zh: 超时空军团兵
displayDescription: Target: Ground unit\nUse the neutron erasing gun to gradually erase the enemy \n The enemy is invincible during erasing \nThe higher the enemy's HP, the slower the erasing speed\nInstant move \nThe farther you move, the slower the cooling.
displayDescription_zh: 攻击目标：海面单位/地面单位\n使用中子抹杀炮逐渐抹杀敌人\n在抹杀期间的敌人为无敌状态\n敌人血量越高，抹杀速度越慢\n瞬间移动\n移动的距离越远，冷却越慢。
fogOfWarSightRange: 10
buildSpeed: 12s
isBio: true
soundOnAttackOrder:  ROOT:\音频\语音+音效\ichrata.wav:1, ROOT:\音频\语音+音效\ichratb.wav:1, ROOT:\音频\语音+音效\ichratc.wav:1
soundOnMoveOrder: ROOT:\音频\语音+音效\ichrsea.wav:1, ROOT:\音频\语音+音效\ichrseb.wav:1, ROOT:\音频\语音+音效\ichrsec.wav:1
soundOnNewSelection: ROOT:\音频\语音+音效\ichrsea.wav:1, ROOT:\音频\语音+音效\ichrseb.wav:1, ROOT:\音频\语音+音效\ichrsec.wav:1
soundOnDeath: ROOT:\音频\语音+音效\ichrdia.wav:1, ROOT:\音频\语音+音效\ichrdib.wav:1, ROOT:\音频\语音+音效\ichrdic.wav:1
effectOnDeath: CUSTOM:死亡
hideScorchMark: true


[hiddenAction_超时空移动]
autoTrigger: if self.isMoving() and self.ammo(empty=true) and self.timeAlive(laterThanSeconds=5)
convertTo: 超时空军团兵2
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier
addResources: ammo=1
playSoundAtUnit: ROOT:\音频\语音+音效\ichrmova.wav:2
spawnEffects: CUSTOM:瞬移


[hiddenAction_水上效果]
autoTrigger: if self.isOverLiquid()
spawnEffects: CUSTOM:水上效果


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\超时空军团兵图标.png
image: 超时空军团兵.png

imageScale:	1
frame_width: 74
frame_height: 88
image_offsetY: 0
#image_wreak:NONE
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 6
animation_direction_starting: 270
animation_direction_units: 45
animation_direction_strideX:0
animation_direction_strideY:1
rotate_with_direction:false


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击') and self.ammo(empty=true)
canAttackUnderwaterUnits: false

isFixedFiring:true
turretSize: 0
turretTurnSpeed: 6
maxAttackRange: 240
shootDelay: 60
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 免疫超时空, 围墙


[movement]
movementType: HOVER

moveSpeed: 1.00
moveAccelerationSpeed: 0.8
moveDecelerationSpeed: 0.8
maxTurnSpeed: 6
turnAcceleration: 6
joinsGroupFormations:true
reverseSpeedPercentage: 0


[turret_1]
x: 0
y: 0

projectile: 1
onShoot_triggerActions: 1


[projectile_1]
directDamage: 1
life: 10
spawnUnit: 超时空静默
instant: true
beamImage: ROOT:\共享文件\1类\辐射轨迹.png
color: #00eeee
explodeEffect: NONE
mutator7_ifUnitWithoutTags: 无
mutator7_directDamageMultiplier: 0


[hiddenAction_1]
#autoTrigger: if self.isAttacking()
takeResources: 抹杀时间=-3
takeResources_includeUnitsWithinRange: 240
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy
#showMessageToPlayer: 


[hiddenAction_冻结]
autoTrigger: if not self.ammo(empty=true)
addResources: ammo=-1
setUnitStats: moveSpeed=0.0, maxTurnSpeed=0.0
spawnEffects: CUSTOM:光


[hiddenAction_恢复]
autoTrigger: if self.ammo(empty=true)
setUnitStats: moveSpeed=${movement.moveSpeed*1.0}, maxTurnSpeed=${movement.maxTurnSpeed*1.0}


[effect_瞬移]
image: ROOT:\共享文件\1类\瞬移.png
scaleFrom: 1
scaleTo: 1
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.2
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[effect_光]
image: ROOT:\共享文件\1类\传送光.png
life: 60
scaleFrom: 1.0
scaleTo: 1.0
attachedToUnit: false
drawUnderUnits: false
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFramePingPong: false
animateFrameSpeed: 0.25
alwayStartDirAtZero: true
atmospheric: true


[effect_死亡]
image: 超时空军团兵死亡.png
scaleFrom: 1
scaleTo: 1
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.2
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[effect_声]
#life: 60
scaleFrom: 0
scaleTo: 0
alsoPlaySound: ROOT:\音频\语音+音效\ichratta.wav:2


[effect_水上效果]
image: ROOT:\共享文件\1类\映射.png
color: #FF00FFFF
scaleFrom: 0
scaleTo: 0.8
alpha: 1.2
life: 62
hOffset: -5
#xOffsetRelative: 10
fadeInTime: 20
fadeOut: true
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=300) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=300) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=300) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=300)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[resource_抹杀时间]
displayName: 抹杀时间


[template_zijin]
price: 950

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/压制步兵.ini
================================================================================

[core]
name: 压制步兵
price: 资金=600
maxHp: 240
mass: 120
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 中级, 步兵中甲, 生物, 压制步兵, 克生物, 空下, 子弹抗性, 压制步兵, 防爆
displayText: Peacekeeper
displayText_zh: 压制步兵
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Low\nDamage building: Low \nSpecial: The closer you are to the enemy, the greater the damage will be.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：低\n伤害建筑：低\n特殊：越是靠近敌人开火伤害越大
fogOfWarSightRange: 18
buildSpeed: 5s
isBio: true
soundOnAttackOrder:  ROOT:\音频\语音+音效\ipeacatta.wav:2, ROOT:\音频\语音+音效\ipeacattb.wav:2, ROOT:\音频\语音+音效\ipeacattc.wav:2, ROOT:\音频\语音+音效\ipeacattd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\ipeacmova.wav:2, ROOT:\音频\语音+音效\ipeacmovb.wav:2, ROOT:\音频\语音+音效\ipeacmovc.wav:2, ROOT:\音频\语音+音效\ipeacmovd.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\ipeacsela.wav:2, ROOT:\音频\语音+音效\ipeacselb.wav:2, ROOT:\音频\语音+音效\ipeacselc.wav:2, ROOT:\音频\语音+音效\ipeacseld.wav:2
soundOnDeath: ROOT:\音频\语音+音效\ipeacdiea.wav:2, ROOT:\音频\语音+音效\ipeacdieb.wav:2, ROOT:\音频\语音+音效\ipeacdiec.wav:2, ROOT:\音频\语音+音效\ipeacdied.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\压制步兵图标.png
image: 压制步兵.png

imageScale:	1
frame_width: 70
frame_height: 70
#image_offsetY: -8
#image_wreak:NONE
animation_moving_start: 1
animation_moving_end: 9
animation_moving_speed: 5
animation_idle_start:0
animation_idle_end:0
animation_attack_start: 10
animation_attack_end: 19
animation_attack_speed: 6
animation_direction_starting: 270
animation_direction_units: 45
animation_direction_strideX:0
animation_direction_strideY:1
rotate_with_direction:false


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring:true
turretSize: 0
turretTurnSpeed: 6
#maxAttackRange: 330
shootDelay: ${int(60*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 1.20
moveAccelerationSpeed: 0.2
moveDecelerationSpeed: 0.4
maxTurnSpeed: 6
turnAcceleration: 6
joinsGroupFormations:true
reverseSpeedPercentage: 0


[turret_1]
x: 0
y: 0

limitingRange: 240
limitingMinRange: 210
shoot_sound: ROOT:\音频\语音+音效\ipeacweaa.wav, ROOT:\音频\语音+音效\ipeacweab.wav
shoot_sound_vol: 2.0
projectile: 1


[turret_2]
x: 0
y: 0

limitingRange: 210
limitingMinRange: 180
copyFrom: 1
projectile: 2


[turret_3]
x: 0
y: 0

limitingRange: 180
limitingMinRange: 150
copyFrom: 1
projectile: 3


[turret_4]
x: 0
y: 0

limitingRange: 150
limitingMinRange: 0
copyFrom: 1
projectile: 4


[projectile_1]
areaDamage: 35
life: 5

areaRadius: 80
instant: true
explodeEffect: CUSTOM:弹火*10
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.2
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.2
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0


[projectile_2]
areaDamage: 85
life: 5

areaRadius: 60
@copyFromSection: projectile_1


[projectile_3]
areaDamage: 135
life: 5

areaRadius: 40
explodeEffect: CUSTOM:弹火2*10
@copyFromSection: projectile_1


[projectile_4]
areaDamage: 185
life: 5

areaRadius: 20
explodeEffect: CUSTOM:弹火3*10
@copyFromSection: projectile_1


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=450) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=450) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=450) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=450)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[effect_弹火]
image: ROOT:\共享文件\1类\狙击.png
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 7
animateFrameStart: 0
animateFrameEnd: 6
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60


[effect_弹火2]
image: ROOT:\共享文件\1类\狙击.png
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 7
animateFrameStart: 0
animateFrameEnd: 6
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40


[effect_弹火3]
image: ROOT:\共享文件\1类\狙击.png
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 7
animateFrameStart: 0
animateFrameEnd: 6
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true
xOffsetRelativeRandom: 20
yOffsetRelativeRandom: 20


[hiddenAction_初始价值]
addResources: 价值=40


[template_zijin]
price: 600

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/间谍2.ini
================================================================================


[core]
name: 间谍2
copyFrom: 间谍.ini
showOnMinimapToEnemies: false
canOnlyBeAttackedByUnitsWithTags: 反伪装
showInEditor: false


[graphics]
isVisibleToEnemies: false
image_shadow: NONE
animation_moving_speed: 6


[movement]
moveSpeed: 0.9
moveAccelerationSpeed: 0.6
moveDecelerationSpeed: 0.6


[hiddenAction_1]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=180)
convertTo: 间谍

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/间谍.ini
================================================================================


[core]
name: 间谍
price: 资金=800
maxHp: 140
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压, 入常, 空下, 间谍, 入侵者
displayText: Spy
displayText_zh: 间谍
displayDescription: Target: Ground unit\nSpecial: Invisible and not attacked by default, but exposed by the enemy’s dog.\nCan infiltrate enemy buildings.\nInfiltrating enemy Ore Refinery can steal 5000 funds.\nInfiltrating enemy Power Plant or Nuclear Reactor can power off the enemy for 30 seconds.\nInfiltrating enemy Ore Purifier or Industrial Plant can delay access to funds by 30 seconds.\nInfiltrating enemy Superweapon can reset its countdown.\nInfiltrating enemy building of production can make it locked for 30 seconds and can't produce.
displayDescription_zh: 攻击目标：支持和生产类建筑\n特殊：默认状态下隐形不受攻击，但会被狗子发现而被攻击\n，入侵基地时阻止建造建筑30s\n入侵电厂时停电30s\n入侵矿厂时偷得5000资金\n入侵矿石精炼器或工业工厂阻止资金收入30s\n入侵维修站时阻止维修和回收30s\n入侵生产建筑时阻止生产30s\n入侵高级防御建筑时重置延迟时间\n入侵敌人的兵营时，自己的兵营可以生产1级单位\n入侵敌人的战争工厂时，自己的战争工厂可以生产1级单位
buildSpeed: 15s
isBio: true
fogOfWarSightRange: 10
effectOnDeath: CUSTOM:间谍亡
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 间谍
unitsSpawnedOnDeath: 人尸(addResources=setFlag:0)
soundOnAttackOrder:  ROOT:\音频\语音+音效\ispyata.wav:2, ROOT:\音频\语音+音效\ispyatb.wav:2, ROOT:\音频\语音+音效\ispyatc.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\ispymoa.wav:2, ROOT:\音频\语音+音效\ispymob.wav:2, ROOT:\音频\语音+音效\ispymoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\ispysea.wav:2, ROOT:\音频\语音+音效\ispyseb.wav:2, ROOT:\音频\语音+音效\ispysec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\ispydia.wav:2, ROOT:\音频\语音+音效\ispydib.wav:2, ROOT:\音频\语音+音效\ispydic.wav:2
canOnlyBeAttackedByUnitsWithTags: 反伪装


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\间谍图标.png
image:        间谍.png

total_frames: 9
imageScale: 0.9
#image_offsetY:-4
frame_width: 86
frame_height: 86
animation_idle_start: 0
animation_idle_end: 0
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 5
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 1
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 1
shootDelay: 60
maxAttackRange: 50
canOnlyAttackUnitsWithTags: 矿厂, 可入侵


[movement]
movementType: LAND

moveSpeed: 0.9
moveAccelerationSpeed: 0.3
moveDecelerationSpeed: 0.3
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

canOnlyAttackUnitsWithTags: 矿厂, 可入侵
canOnlyAttackUnitsWithoutTags: 生物, 生物2, 装甲
resourceUsage: ammo=1
projectile: 1


[projectile_1]
directDamage: 0
life: 0


[hiddenAction_1]
autoTriggerOnEvent: created
autoTrigger: if self.hasTakenDamage(laterThanSeconds=3) and not numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=180)
convertTo: 间谍2
convertTo_keepCurrentTags: true


[hiddenAction_偷钱]
autoTrigger: if attacking!=null and attacking.tags(includes='可入侵')==false and distanceBetweenSquared(attacking, self)<=2500
takeResources: 资金=5000
takeResources_includeUnitsWithinRange: 50
takeResources_directTransferStoppingAtZero: true
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy
showMessageToPlayer: The enemy's remaining funds: %{attacking.resource.资金}
showMessageToPlayer_zh: 敌人剩余资金：%{attacking.resource.资金}
temporarilyAddTags: 无尸体
alsoTriggerAction: 偷钱2


[hiddenAction_偷钱2]
takeResources: 入侵计时=-2
takeResources_includeUnitsWithinRange: 50
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy
#showMessageToAllPlayers: 触发
deleteSelf: true


[hiddenAction_入侵]
autoTrigger: if attacking!=null and attacking.tags(includes='可入侵')==true and distanceBetweenSquared(attacking, self)<=2500
takeResources: 入侵计时=-90
takeResources_includeUnitsWithinRange: 50
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy
showMessageToPlayer: The Saboteur successfully invaded the enemy's %{attacking}! power cut +90s
showMessageToPlayer_zh: 破坏者入侵敌人的%{attacking}成功！%{select(attacking.tags(includes='电力') and attacking.tags(includes='基地')==false, '关闭其电力90s，敌人的电力剩余：'+str(attacking.resource.电力), select(attacking.tags(includes='可重置计时'), '重置其计时', '关闭其功能90s'))}
temporarilyAddTags: 无尸体
alsoTriggerAction: 入侵兵营, 入侵车厂, 入侵删除


[hiddenAction_入侵兵营]
requireConditional: if attacking.tags(includes='兵营')
showMessageToPlayer: In addition, the barracks can produce level 1 unit
showMessageToPlayer_zh: 此外，兵营可生产1级单位
addGlobalTeamTags: 兵营1级


[hiddenAction_入侵车厂]
requireConditional: if attacking.tags(includes='车厂')
showMessageToPlayer: In addition, the war factory can produce level 1 unit
showMessageToPlayer_zh: 此外，车厂可生产1级单位
addGlobalTeamTags: 车厂1级


[hiddenAction_入侵删除]
deleteSelf: true


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and not self.hasActiveWaypoint(type='attack') and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='可入侵', greaterThan=0, withinRange=500)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 可入侵
addWaypoint_target_nearestUnit_maxRange: 500
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击矿厂]
autoTrigger: if self.isControlledByAI() and not self.hasActiveWaypoint(type='attack') and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='矿厂', greaterThan=0, withinRange=500)
#clearActiveWaypoint: true
@copyFromSection: hiddenAction_Ai攻击建筑
addWaypoint_target_nearestUnit_tagged: 矿厂


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack') and not numberOfUnitsInEnemyTeam(withTag='可入侵', greaterThan=0, withinRange=500) and not numberOfUnitsInEnemyTeam(withTag='矿厂', greaterThan=0, withinRange=500)
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=300)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克生物
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=300)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=25


[effect_间谍亡]
image: 间谍亡.png
scaleFrom: 0.9
scaleTo: 0.9
total_frames: 30
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.2
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true
spawnChance: 0.5
ifSpawnFailsEmitEffects: CUSTOM:间谍亡2


[effect_间谍亡2]
@copyFromSection: effect_间谍亡
animateFrameStart: 15
animateFrameEnd: 29
spawnChance: 1
ifSpawnFailsEmitEffects: NONE


[resource_入侵计时]
displayName: Timing
displayName_zh: 计时


[template_zijin]
price: 800

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/美国大兵.ini
================================================================================


[core]
name: 美国大兵
price: 资金=200
maxHp: 125
mass: 115
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq, ROOT:\共享文件\3类\驾驶空载具.xxhq
tags: 原始护甲, 低级, 生物, 被碾压, 步兵中甲, 基础兵, 导弹追, 入枪, 美国大兵, 克生物, 空下
displayText: G.I.
displayText_zh: 美国大兵
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: Low\nDamage building: Low\nSpecial: Can be deployed.\nCan enter the building and attack.\nBelongs to basic infantry.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：很低\n伤害建筑：低\n特殊：入驻建筑，并提高伤害和射程
isBio: true
buildSpeed: 2s
fogOfWarSightRange: 14
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 美国大兵
soundOnAttackOrder:  ROOT:\音频\语音+音效\igiata.wav:2, ROOT:\音频\语音+音效\igiatb.wav:2, ROOT:\音频\语音+音效\igiatc.wav:2, ROOT:\音频\语音+音效\igiatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\igimoa.wav:2, ROOT:\音频\语音+音效\igimob.wav:2, ROOT:\音频\语音+音效\igimoc.wav:2, ROOT:\音频\语音+音效\igimod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\igisea.wav:2, ROOT:\音频\语音+音效\igiseb.wav:2, ROOT:\音频\语音+音效\igisec.wav:2, ROOT:\音频\语音+音效\igised.wav:2
soundOnDeath: ROOT:\音频\语音+音效\igidia.wav:2, ROOT:\音频\语音+音效\igidib.wav:2, ROOT:\音频\语音+音效\igidic.wav:2, ROOT:\音频\语音+音效\igidid.wav:2, ROOT:\音频\语音+音效\igidie.wav:2


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='美国') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\美国大兵图标.png
image:        美国大兵.png

total_frames: 13
imageScale: 0.9
frame_width: 60
frame_height: 60
#image_wreak:  NONE
showEnergyBar: false
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 5
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 5
turretTurnSpeed: 6
maxAttackRange: 150
shootDelay: 30
canOnlyAttackUnitsWithoutTags: 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 0.9
moveAccelerationSpeed: 0.7
moveDecelerationSpeed: 0.7
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\igiat1a.wav, ROOT:\音频\语音+音效\igiat1b.wav, ROOT:\音频\语音+音效\igiat1c.wav
shoot_sound_vol: 2.0


[projectile_1]
directDamage: 15
life: 60

instant: true
explodeEffect: CUSTOM:弹火
mutator0_ifUnitWithTags: 子弹抗性
mutator0_directDamageMultiplier: 0.5
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.8
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.8
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.6
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.8


[action_阻止人机取消部署]
text: Prevent undeployment
text_zh: 阻止取消部署
description: Prevent Ai from automatically undeploying
description_zh: 阻止人机自动取消部署
pos: 0
displayType: upgrade
buildSpeed: 0s
ai_isDisabled: true
isVisible: if self.isControlledByAI() and not self.hasFlag(id=27)
addResources: setFlag=27


[action_阻止人机取消部署2]
text: Allow undeployment
text_zh: 允许取消部署
description: Allow Ai to automatically undeploy
description_zh: 允许人机自动取消部署
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.hasFlag(id=27)
addResources: unsetFlag=27


[action_1]
text: Deploy
text_zh: 部署
description: Increases attack speed and attack distance, but cannot move
description_zh: 换机枪射击，增加伤害，提高射程，但无法移动
displayType: action
buildSpeed: 0.1s
convertTo: 美国大兵部署
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed
autoTrigger: if (self.isControlledByAI() and self.isAttacking() and not self.hasParent() and numberOfUnitsInEnemyTeam(withTag='空下', greaterThan=0, withinRange=200) and not self.tags(includes='禁止攻击')) or self.hasParent(withTag='入驻部署')
whenBuilding_cannotMove: false
playSoundAtUnit: ROOT:\音频\语音+音效\igidepa.wav:2
clearActiveWaypoint: true
ai_isDisabled: true
setUnitStats: moveSpeed=0
isActive: if not self.tags(includes='禁止攻击')


[hiddenAction_2] 
autoTrigger: if self.hasParent(withTag='房') or self.hasParent(withTag='苏联战斗碉堡')
#withTag='标签'
convertTo: 美国大兵入驻
#convertTo_keepCurrentTags: true


[hiddenAction_Ai自动入驻]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInNeutralTeam(withTag='可入驻', greaterThan=0, withinRange=500) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.isAttacking() and not self.hasParent()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: neutral
addWaypoint_target_nearestUnit_tagged: 可入驻


[hiddenAction_Ai自动入驻2]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInTeam(withTag='可入驻', withinRange=500, greaterThan=0) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.isAttacking() and not self.hasParent()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 可入驻


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=200)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 200
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and (not self.isAttacking() or self.hasTakenDamage(withinSeconds=1)) and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=200) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=200) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=200) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=15


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[template_zijin]
price: 200

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/狙击手.ini
================================================================================

[core]
name: 狙击手
price: 资金=650
maxHp: 140
mass: 120
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 高级, 步兵中甲, 生物, 被碾压, 狙击手, 克生物, 空下
displayText: Sniper
displayText_zh: 狙击手
displayDescription: Target: Ground unit\nDamage creature: Very high\nSpecial: Can be deployed.\nCan attack enemies in the building.
displayDescription_zh: 攻击目标：地面生物/海面生物\n伤害生物：很高\n特殊：可以狙击入驻建筑的士兵
fogOfWarSightRange: 18
buildSpeed: 5s
isBio: true
soundOnAttackOrder:  ROOT:\音频\语音+音效\isniata.wav:2, ROOT:\音频\语音+音效\isniatb.wav:2, ROOT:\音频\语音+音效\isniatc.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\isnimoa.wav:2, ROOT:\音频\语音+音效\isnimob.wav:2, ROOT:\音频\语音+音效\isnimoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\isnisea.wav:2, ROOT:\音频\语音+音效\isniseb.wav:2, ROOT:\音频\语音+音效\isnisec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\isnidia.wav:2, ROOT:\音频\语音+音效\isnidib.wav:2, ROOT:\音频\语音+音效\isnidic.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\狙击手图标.png
image: 狙击手.png

imageScale:	1
frame_width: 56
frame_height: 42
image_offsetY: -8
#image_wreak:NONE
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 5
animation_idle_start:0
animation_idle_end:0
animation_attack_start: 7
animation_attack_end: 9
animation_attack_speed: 3
animation_direction_starting: 270
animation_direction_units: 45
animation_direction_strideX:0
animation_direction_strideY:1
rotate_with_direction:false


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring:true
turretSize: 0
turretTurnSpeed: 6
maxAttackRange: 330
shootDelay: ${int(80*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 0.85
moveAccelerationSpeed: 0.2
moveDecelerationSpeed: 0.4
maxTurnSpeed: 6
turnAcceleration: 6
joinsGroupFormations:true
reverseSpeedPercentage: 0


[turret_1]
x: 0
y: 0

#canOnlyAttackUnitsWithTags: 生物, 生物2, 恐怖机器人
shoot_sound: ROOT:\音频\语音+音效\isniatta.wav
shoot_sound_vol: 2.0


[projectile_1]
directDamage: 60
life: 60

instant: true
explodeEffect: CUSTOM:弹火
mutator0_ifUnitWithTags: 子弹抗性
mutator0_directDamageMultiplier: 0.75
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.45
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.45
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 1.25
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.10
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.10
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.10
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.10
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.10
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.10
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.80


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=330)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 330
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and (not self.isAttacking() or self.hasTakenDamage(withinSeconds=1)) and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=450) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=450) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=450) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=450)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[effect_弹火]
image: ROOT:\共享文件\1类\狙击.png
total_frames: 7
animateFrameStart: 0
animateFrameEnd: 6
scaleFrom: 1.05
scaleTo: 1.05
attachedToUnit:true
alwayStartDirAtZero:true


[hiddenAction_初始价值]
addResources: 价值=35


[template_zijin]
price: 650

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/光棱兵部署.ini
================================================================================


[core]
name: 光棱兵部署
copyFrom: 光棱兵.ini
maxHp: 280
mass: 15000

#displayText: 飞弹防御兵部署
showInEditor: false
fogOfWarSightRange: 13
soundOnMoveOrder: NONE


[graphics]
image:        光棱兵部署.png

total_frames: 10
animation_moving_start: 9
animation_moving_end: 9
animation_moving_speed: 6
animation_idle_start: 9
animation_idle_end: 9
animation_idle_speed: 6
animation_attack_start: 0
animation_attack_end: 9
animation_attack_speed: 5


[attack]
shootDelay: ${int(40*(1/gameSpeedRate))}


[action_1]
text: Undeploy
text_zh: 取消部署
description: Can move
description_zh: 起身移动攻击
isVisible: if not self.hasParent()
convertTo: 光棱兵
autoTrigger: if self.isControlledByAI() and (not self.isAttacking() or self.hasActiveWaypoint(type='attackMove') or self.hasActiveWaypoint(type='move')) and not self.hasParent() and not self.hasFlag(id=27) and not self.tags(includes='禁止攻击')
whenBuilding_cannotMove: true
setUnitStats: moveSpeed=select(memory.移动速度!=0, memory.移动速度, ${movement.moveSpeed})


[hiddenAction_清除路径]
autoTrigger: if (not self.isAttacking() and self.hasActiveWaypoint(type='attack')) or self.hasActiveWaypoint(type='move')
clearAllWaypoints: true


[hiddenAction_被黏杀]
autoTrigger: false


[hiddenAction_Ai自动入驻]
autoTrigger: false


[hiddenAction_Ai自动入驻2]
autoTrigger: false


[hiddenAction_Ai躲避]
autoTrigger: false


[hiddenAction_升1级]
#setUnitStats: hp+=0
setUnitStats: maxTurnSpeed=${movement.maxTurnSpeed*1.5}


[hiddenAction_升2级]
setUnitStats: maxTurnSpeed=${movement.maxTurnSpeed*2}


[hiddenAction_升3级]
setUnitStats: maxTurnSpeed=${movement.maxTurnSpeed*2.5}


[hiddenAction_冷冻机制7]
requireConditional: false


[hiddenAction_极端气候效果] 
setUnitStats: moveSpeed=0


[hiddenAction_极端气候效果2] 
setUnitStats: moveSpeed=0


[hiddenAction_被碾压]
autoTrigger: if self.tags(includes='被碾压')
temporarilyAddTags:
temporarilyRemoveTags: 被碾压
#showMessageToAllPlayers: 触发2


#[ai]
#upgradedFrom: 飞弹防御兵

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/重装大兵入驻.ini
================================================================================


[core]
name: 重装大兵入驻
copyFrom: 重装大兵部署.ini
tags: 原始护甲, 步兵中甲, 生物, 基础兵, 入炮, 特殊免伤, 克装甲, 克生物, 克建筑, 低级
canOnlyBeAttackedByUnitsWithTags: 狙击手, 烧死人
fogOfWarSightRange: 15


[attack]
turretSize: 0
shootDelay: ${int(40*(1/gameSpeedRate))}


[turret_2]
canAttackFlyingUnits: false


[hiddenAction_2] 
autoTrigger: if not self.hasParent()
#withTag='标签'
convertTo: 重装大兵


[hiddenAction_Ai躲避2]
autoTrigger: false

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/防暴部队.ini
================================================================================

[core]
name: 防暴部队
price: 资金=1250
maxHp: 280
mass: 115
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 中级, 步兵重甲, 生物, 被碾压, 防暴部队, 两栖, 克生物, 克建筑, 空下, 反潜, 免疫迷幻, 入枪2, 防爆
displayText: Riot Troops
displayText_zh: 防暴部队
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Low\nDamage building: Low 
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：低\n伤害建筑：低
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 防暴部队
buildSpeed: 12s
isBio: true
fogOfWarSightRange: 12
soundOnAttackOrder:  ROOT:\音频\语音+音效\ipriata.wav:2, ROOT:\音频\语音+音效\ipriatb.wav:2, ROOT:\音频\语音+音效\ipriatc.wav:2, ROOT:\音频\语音+音效\ipriatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\iprimoa.wav:2, ROOT:\音频\语音+音效\iprimob.wav:2, ROOT:\音频\语音+音效\iprimoc.wav:2, ROOT:\音频\语音+音效\iprimod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iprisea.wav:2, ROOT:\音频\语音+音效\ipriseb.wav:2, ROOT:\音频\语音+音效\iprisec.wav:2, ROOT:\音频\语音+音效\iprised.wav:2
soundOnDeath: ROOT:\音频\语音+音效\ipridia.wav:2, ROOT:\音频\语音+音效\ipridib.wav:2, ROOT:\音频\语音+音效\ipridic.wav:2, ROOT:\音频\语音+音效\ipridid.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\防暴部队图标.png
image: 防暴部队.png

imageScale:	0.9
frame_width: 60
frame_height: 60
image_offsetY: 0
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 0
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 5
animation_direction_starting: 270
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_units: 45
rotate_with_direction:false


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 6
#maxAttackRange: 195
shootDelay: 20
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: HOVER

moveSpeed: 1.10
moveAccelerationSpeed: 0.95
moveDecelerationSpeed: 0.95
maxTurnSpeed: 6
turnAcceleration: 6
joinsGroupFormations: true
reverseSpeedPercentage: 0


[turret_1]
x:0
y:0

limitingRange: 195
canAttackCondition: if not self.tags(includes='换催泪瓦斯')
shoot_sound: ROOT:\音频\语音+音效\iseaatta.wav, ROOT:\音频\语音+音效\iseaattb.wav
shoot_sound_vol: 2.0
projectile: 1


[turret_2]
x: 0
y: 10

barrelHeight: 12
delay: 180
limitingRange: 225
canAttackCondition: if self.tags(includes='换催泪瓦斯')
shoot_sound: ROOT:\音频\语音+音效\irancrua.wav, ROOT:\音频\语音+音效\irancrub.wav, ROOT:\音频\语音+音效\irancruc.wav, ROOT:\音频\语音+音效\irancrud.wav
shoot_sound_vol: 2
projectile: 2


[projectile_1]
directDamage: 85
life: 60

instant: true
explodeEffect: CUSTOM:弹火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.04
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.04
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.04
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.04
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.02
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.02
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.40


[projectile_2]
areaDamage: 15
life: 120

image: ROOT:\共享文件\1类\炮弹2.png
areaRadius: 30
frame: 5
speed: 6
friendlyFire: true
drawSize: 0.7
targetGround: true
hitSound: true
explodeEffect: CUSTOM:爆炸
lightCastOnGround: true
initialUnguidedSpeedHeight: 2
gravity: 0.18
trailEffect: true
trailEffectRate: 0.2
spawnUnit: 催泪瓦斯
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.20
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.20
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.20
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.20
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.00


[hiddenAction_1]
autoTrigger: if self.isInWater()
convertTo: 防暴部队2
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed


[action_切换形态]
text: Tear Gas
text_zh: 催泪瓦斯
buildSpeed: 1
displayType: queueUnit
isGuiBlinking: true
isVisible: if not self.tags(includes='换催泪瓦斯')
temporarilyAddTags: 换催泪瓦斯


[action_切换形态2]
text: Cutting gun
text_zh: 切枪
buildSpeed: 1
displayType: queueUnit
isGuiBlinking: true
isVisible: if self.tags(includes='换催泪瓦斯')
temporarilyRemoveTags: 换催泪瓦斯


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=195)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 195
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=180)
@copyFromSection: hiddenAction_Ai攻击生物
addWaypoint_target_nearestUnit_tagged: 建筑


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack') and not numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=180)
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=180) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=180) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 反潜


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=180) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=180) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=180)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=45


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸8.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpifva.wav:2, ROOT:\音频\语音+音效\gexpifvb.wav:2, ROOT:\音频\语音+音效\gexpifvc.wav:2
scaleFrom: 0.80
scaleTo: 0.80
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 1250

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/光棱兵.ini
================================================================================


[core]
name: 光棱兵
price: 资金=750
maxHp: 240
mass: 125
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 中级, 步兵重甲, 生物, 光棱兵, 克建筑, 空下, 电死人
displayText: Prism Trooper
displayText_zh: 光棱步兵
displayDescription: Target: Ground unit\nDamage creature: Medium\nDamage armor: Medium\nDamage building: High\nSpecial: Full level can emit colored beams
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：中\n伤害装甲：中\n伤害建筑：高\n特殊：满级有彩色散射光束
buildSpeed: 7.5s
isBio: true
fogOfWarSightRange: 14
#effectOnDeath: CUSTOM:死亡音效
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 光棱兵
soundOnAttackOrder:  ROOT:\音频\语音+音效\ipriata.wav:2, ROOT:\音频\语音+音效\ipriatb.wav:2, ROOT:\音频\语音+音效\ipriatc.wav:2, ROOT:\音频\语音+音效\ipriatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\iprimoa.wav:2, ROOT:\音频\语音+音效\iprimob.wav:2, ROOT:\音频\语音+音效\iprimoc.wav:2, ROOT:\音频\语音+音效\iprimod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iprisea.wav:2, ROOT:\音频\语音+音效\ipriseb.wav:2, ROOT:\音频\语音+音效\iprisec.wav:2, ROOT:\音频\语音+音效\iprised.wav:2
soundOnDeath: ROOT:\音频\语音+音效\ipridia.wav:2, ROOT:\音频\语音+音效\ipridib.wav:2, ROOT:\音频\语音+音效\ipridic.wav:2, ROOT:\音频\语音+音效\ipridid.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\光棱兵图标.png
image:        光棱兵.png

imageScale: 0.9
#total_frames: 13
frame_width: 75
frame_height: 75
image_offsetY: 0
#image_wreak:  NONE
animation_moving_start: 1
animation_moving_end: 8
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 9
animation_attack_end: 18
animation_attack_speed: 4
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

aimOffsetSpread: 0
isFixedFiring: true
turretSize: 10
turretTurnSpeed: 3
maxAttackRange: 270
shootDelay: ${int(50*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 武器


[movement]
movementType: LAND

moveSpeed: 0.80
moveAccelerationSpeed: 0.65
moveDecelerationSpeed: 0.65
reverseSpeedPercentage:0
maxTurnSpeed: 6
turnAcceleration: 6


[turret_1]
x: 0
y: 0

canAttackCondition: if not self.tags(includes='3级')
barrelHeight: 10
shoot_sound: ROOT:\音频\语音+音效\ipriweaa.wav
shoot_sound_vol: 2.0
shoot_light: #FFFFFFFF
projectile: 1


[turret_3级]
x: 0
y: 0

copyFrom: 1
canAttackCondition: if self.tags(includes='3级')
projectile: 3级


[turret_2]
x: 0
y: 0

canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙
canAttackCondition: if not self.tags(includes='3级')
barrelHeight: 10
projectile: 2


[turret_3]
x: 0
y: 0

copyFrom: 2
projectile: 3


[turret_4]
x: 0
y: 0

copyFrom: 2
projectile: 4


[projectile_1]
directDamage: 75
life: 5

color: #FFFFFFFF
beamImage: ROOT:\共享文件\1类\激光源.png 
moveWithParent: true
instant: true
instantReuseLast: true
lightSize:1.2
lightColor: #FFFAA5D8
explodeEffect: CUSTOM:闪光, CUSTOM:闪光2
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 0.6
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 0.6
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.6
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 1.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 1.0
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 1.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.4


[projectile_2]
directDamage: 0
life: 15

beamImage: ROOT:\共享文件\1类\激光源.png
color: #BFFFFFFF
laserEffect:true
instant:true
moveWithParent: true
instantReuseLast: false
explodeEffect: NONE


[projectile_3]
@copyFromSection: projectile_2
directDamage: 0
life: 25

color: #7FFFFFFF


[projectile_4]
@copyFromSection: projectile_2
directDamage: 0
life: 35

color: #40FFFFFF


[projectile_3级]
@copyFromSection: projectile_1
directDamage: 75
life: 5

spawnUnit: 光散射4-兵


[action_阻止人机取消部署]
text: Prevent undeployment
text_zh: 阻止取消部署
description: Prevent Ai from automatically undeploying
description_zh: 阻止人机自动取消部署
pos: 0
displayType: upgrade
buildSpeed: 0s
ai_isDisabled: true
isVisible: if self.isControlledByAI() and not self.hasFlag(id=27)
addResources: setFlag=27


[action_阻止人机取消部署2]
text: Allow undeployment
text_zh: 允许取消部署
description: Allow Ai to automatically undeploy
description_zh: 允许人机自动取消部署
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.hasFlag(id=27)
addResources: unsetFlag=27


[action_1]
text: Deploy
text_zh: 部署
description: Increases attack speed and attack distance, but cannot move
description_zh: 增加防御力，提高对地射程，但无法移动
displayType: action
buildSpeed: 0.1s
convertTo: 光棱兵部署
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed
autoTrigger: if (self.isControlledByAI() and self.isAttacking() and not self.hasParent() and numberOfUnitsInEnemyTeam(withTag='空下', greaterThan=0, withinRange=270) and not self.tags(includes='禁止攻击')) or self.hasParent(withTag='入驻部署')
whenBuilding_cannotMove: false
playSoundAtUnit: ROOT:\音频\语音+音效\iggidepa.wav:2
clearActiveWaypoint: true
ai_isDisabled: true
setUnitStats: moveSpeed=0
isActive: if not self.tags(includes='禁止攻击')


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=270)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 建筑
addWaypoint_target_nearestUnit_maxRange: 270
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避2
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=25


[hiddenAction_被黏杀]
autoTrigger: false


[effect_闪光]
#priority:critical
image: ROOT:\共享文件\1类\闪光.png
color: #FFFFFF
life: 15
scaleFrom: 1.0
scaleTo: 0.4
alpha: 0.9
fadeOut: true
fadeInTime: 2
drawUnderUnits: false
attachedToUnit: false
alwayStartDirAtZero: true


[effect_闪光2]
image: ROOT:\共享文件\1类\爆炸31.png
#alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 0.55
scaleTo: 0.55
total_frames: 18
animateFrameStart: 0
animateFrameEnd: 17
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 650

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/火箭飞行兵.ini
================================================================================


[core]
name: 火箭飞行兵
price: 资金= 500
maxHp: 125
mass: 110
radius: 10

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 中级, 空军, 生物空, 克生物, 克空军, 火箭飞行兵, 免疫碾压
displayText: Rocketeer
displayText_zh: 火箭飞行兵
displayDescription: Target: Ground unit/Air unit\nDamage creature: High\nDamage armor: Low\nDamage air: Medium\nDamage building: Low
displayDescription_zh: 攻击目标：地面单位/海面单位/空中单位\n伤害生物：高\n伤害装甲：低\n伤害空军：中\n伤害建筑：低
buildSpeed: 4.5s
isBio: true
#effectOnDeath:  NONE
#effectOnDeathGroundCollosion:  NONE
#explodeOnDeath:  false
fogOfWarSightRange: 10
explodeOnDeathGroundCollision: false
hideScorchMark: true
soundOnAttackOrder:  ROOT:\音频\语音+音效\irocata.wav:2, ROOT:\音频\语音+音效\irocatb.wav:2, ROOT:\音频\语音+音效\irocatc.wav:2, ROOT:\音频\语音+音效\irocatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\irocmoa.wav:2, ROOT:\音频\语音+音效\irocmob.wav:2, ROOT:\音频\语音+音效\irocmoc.wav:2, ROOT:\音频\语音+音效\irocmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\irocsea.wav:2, ROOT:\音频\语音+音效\irocseb.wav:2, ROOT:\音频\语音+音效\irocsec.wav:2, ROOT:\音频\语音+音效\irocsed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\irocdiea.wav:2


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='英国') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\火箭飞行兵图标.png
image:       火箭飞行兵.png

imageScale:	1.0
total_frames: 12
frame_width: 56
frame_height: 56
image_wreak:  ROOT:\共享文件\1类\血.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影.png
shadowOffsetX: 0
shadowOffsetY: 0
animation_moving_start: 0
animation_moving_end: 5
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 5
animation_idle_speed: 6
animation_attack_start: 6
animation_attack_end: 11
animation_attack_speed: 5
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
disableLowHpFire: false
disableLowHpSmoke: false 
movementEffect: CUSTOM:尾焰
movementEffectRate: 1


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 5
turretTurnSpeed: 3
maxAttackRange: 195
shootDelay: ${int(12*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 武器


[movement]
movementType: AIR

moveSpeed: 1.6
moveAccelerationSpeed:0.08
moveDecelerationSpeed:0.05
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0
targetHeight: 100
targetHeightDrift: 5
moveSlidingMode:true
moveSlidingDir:90
slowDeathFall: true
slowDeathFallSmoke: false 


[turret_1]
x: 0
y: 10

barrelHeight: 10
shoot_sound: ROOT:\音频\语音+音效\irocatta.wav
shoot_sound_vol: 2.0


[turret_驾驶]
x: 0
y: 0

canOnlyAttackUnitsWithTags: 无


[projectile_1]
directDamage: 25
life: 95

image: ROOT:\共享文件\1类\子弹2.png
frame: 5
speed: 12
drawSize: 0.5
hitSound: true
lightCastOnGround: true
lightColor: #FFFF5500
lightSize: 0.5
explodeEffect: CUSTOM:弹火
mutator0_ifUnitWithTags: 子弹抗性
mutator0_directDamageMultiplier: 0.75
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.4
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.0
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_directDamageMultiplier: 0.6
mutator28_ifUnitWithTags: 飞机中甲
mutator28_directDamageMultiplier: 0.4
mutator29_ifUnitWithTags: 飞机重甲
mutator29_directDamageMultiplier: 0.2
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_directDamageMultiplier: 0.8


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=195)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 195
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击空军]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=100)
@copyFromSection: hiddenAction_Ai攻击生物
addWaypoint_target_nearestUnit_tagged: 空军


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=40) and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=100) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克装甲
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=40) and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=100) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=15


[hiddenAction_坠亡]
autoTrigger: false


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[effect_尾焰]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
image: ROOT:\共享文件\1类\尾烟.png
life: 45
fadeOut:true
color: #FF00AFDB
fadeInTime: 3
scaleFrom: 2.5
scaleTo: 0
alpha: 1
#dirOffsetRandom: 180
xOffsetRelative: 0
yOffsetRelative: 5
atmospheric:true
#xSpeedAbsoluteRandom:0.4
#ySpeedAbsoluteRandom:0.1
attachedToUnit: false
drawUnderUnits:false
#shadow: true


[template_zijin]
price: 500

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/美国大兵入驻.ini
================================================================================


[core]
name: 美国大兵入驻
copyFrom: 美国大兵部署.ini
tags: 原始护甲, 步兵中甲, 生物, 基础兵, 导弹追, 入枪, 特殊免伤, 克生物, 克装甲, 克建筑, 低级
canOnlyBeAttackedByUnitsWithTags: 狙击手, 烧死人
fogOfWarSightRange: 15


[attack]
turretSize: 0
maxAttackRange: 210
shootDelay: 15


[turret_1]
shoot_flame: small
shoot_light: #FFFFFFFF


[projectile_1]
directDamage: 20

mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.2
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.2
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.3
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2


[hiddenAction_2] 
autoTrigger: if not self.hasParent()
#withTag='标签'
convertTo: 美国大兵


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=210)
addWaypoint_target_nearestUnit_maxRange: 210


[hiddenAction_Ai躲避3]
autoTrigger: false

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/盟军军犬.ini
================================================================================


[core]
name: 盟军军犬
price: 资金=100
maxHp: 75
mass: 60
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\血.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 低级, 步兵轻甲, 生物, 免疫心控, 被碾压, 入枪, 反伪装, 克生物, 空下, 盟军军犬
displayText: Allied Attack Dog
displayText_zh: 盟军军犬
displayDescription: Target: Ground unit\nDamage creature: Very high\nSpecial: Speeds up when there are enemy infantry nearby.\nCan find disguising units and underwater units.\nUnable to attack heavy infantry
displayDescription_zh: 攻击目标：地面生物\n伤害生物：很高\n特殊：可以发现伪装单位(间谍/破坏者/幻影坦克)，无法攻击重甲步兵
isBio: true
buildSpeed: 1.5s
fogOfWarSightRange: 18
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 盟军军犬
soundOnAttackOrder:  ROOT:\音频\语音+音效\idogatca.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\idogmova.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\idogsela.wav:2, ROOT:\音频\语音+音效\idogselb.wav:2, ROOT:\音频\语音+音效\idogselc.wav:2
soundOnDeath: ROOT:\音频\语音+音效\idogdiea.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\盟军军犬图标.png
image:        盟军军犬.png

total_frames: 14
scaleImagesTo: 70
image_offsetX:7
image_offsetY:-2
frame_width: 75
frame_height: 70
#image_wreak:  NONE
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 4
animation_attack_start: 7
animation_attack_end: 13
animation_attack_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: true

isMelee: true
isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
maxAttackRange: 0
shootDelay: ${int(45*(1/gameSpeedRate))}


[movement]
movementType: LAND

moveSpeed: 1.55
moveAccelerationSpeed: 1.2
moveDecelerationSpeed: 1.2
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

canOnlyAttackUnitsWithTags: 生物, 生物2
canOnlyAttackUnitsWithoutTags: 步兵重甲, 沃尔科夫, 狂兽人, 狗无法攻击
shoot_sound: ROOT:\音频\语音+音效\idogatta.wav
shoot_sound_vol: 2
canAttackUnderwaterUnits: false
projectile: 1


[turret_2]
x: 0
y: 0

canOnlyAttackUnitsWithTags: 水下
projectile: 2


[projectile_1]
directDamage: 200
life: 60

instant: true
explodeEffect: CUSTOM:血溅
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 5
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 5


[projectile_2]
areaDamage: 1
life: 60

areaRadius: 10
instant: true
explodeEffect: NONE
mutator7_ifUnitWithoutTags: 无
mutator7_areaDamageMultiplier: 0


[hiddenAction_2]
autoTrigger: if self.isInWater()
deleteSelf: true


[hiddenAction_发现水下]
autoTrigger: if attacking.tags(includes='水下')
fireTurretXAtGround: 2
fireTurretXAtGround_withTarget: attacking


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=250) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=10


[template_zijin]
price: 100

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/超时空军团兵2.ini
================================================================================


[core]
name: 超时空军团兵2
copyFrom: 超时空军团兵.ini

showInEditor: false
canOnlyBeAttackedByUnitsWithTags: 无
showOnMinimapToEnemies: false
disableAllUnitCollisions: true
fogOfWarSightRange: 0


[graphics]
isVisible: false  


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 50
moveAccelerationSpeed: 100
moveDecelerationSpeed: 100
targetHeight: 0
targetHeightDrift: 0
maxTurnSpeed: 10
turnAcceleration: 10
#reverseSpeedPercentage: 0.5


[hiddenAction_超时空移动]
autoTrigger: if not self.isMoving()
convertTo: 超时空军团兵
convertTo_keepCurrentTags: true
addResources: ammo=0
#self.customTimer(laterThanSeconds=5)
#alsoQueueAction: 传送2


[hiddenAction_传送2]
autoTrigger: if self.isMoving()
addResources: ammo=1


[hiddenAction_冻结]
autoTrigger: false


[hiddenAction_恢复]
autoTrigger: false


[hiddenAction_水上自杀]
autoTrigger: false


[hiddenAction_Ai躲避]
autoTrigger: false


[hiddenAction_Ai躲避2]
autoTrigger: false


[hiddenAction_Ai躲避3]
autoTrigger: false


[hiddenAction_Ai躲避4]
autoTrigger: false


[ai]
upgradedFrom: 超时空军团兵

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/防暴部队2.ini
================================================================================

[core]
name: 防暴部队2
copyFrom: 防暴部队.ini
showInEditor:false


[graphics]
image: 海豹部队2.png

frame_width: 48
frame_height: 34
image_offsetY: -8
animation_moving_start: 3
animation_moving_end: 5
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 2
animation_idle_speed: 8
animation_attack_start: 6
animation_attack_end: 8
animation_attack_speed: 4


[hiddenAction_1]
autoTrigger: if not self.isInWater()
convertTo: 防暴部队

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/重装大兵.ini
================================================================================


[core]
name: 重装大兵
price: 资金=350
maxHp: 150
mass: 125
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 低级, 步兵中甲, 生物, 基础兵, 入炮, 重装大兵, 克装甲, 克空军, 空下
displayText: Guardian G.I.
displayText_zh: 重装大兵
displayDescription: Target: Ground unit/Air unit\nDamage creature: High\nDamage armor: High\nDamage air: High\nDamage building: Low\nSpecial: 
displayDescription_zh: 攻击目标：地面单位/海面单位/空中单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：中\n伤害空军：高
isBio: true
buildSpeed: 3s
fogOfWarSightRange: 14
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 重装大兵
soundOnAttackOrder:  ROOT:\音频\语音+音效\iggiata.wav:2, ROOT:\音频\语音+音效\iggiatb.wav:2, ROOT:\音频\语音+音效\iggiatc.wav:2, ROOT:\音频\语音+音效\iggiatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\iggimoa.wav:2, ROOT:\音频\语音+音效\iggimob.wav:2, ROOT:\音频\语音+音效\iggimoc.wav:2, ROOT:\音频\语音+音效\iggimod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iggisea.wav:2, ROOT:\音频\语音+音效\iggiseb.wav:2, ROOT:\音频\语音+音效\iggisec.wav:2, ROOT:\音频\语音+音效\iggised.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iggidia.wav:2, ROOT:\音频\语音+音效\iggidib.wav:2, ROOT:\音频\语音+音效\iggidic.wav:2, ROOT:\音频\语音+音效\iggidid.wav:2


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='法国') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\重装大兵图标.png
image:        重装大兵.png

#total_frames: 11
imageScale: 0.9
image_offsetY: 0
frame_width: 58
frame_height: 58
#image_wreak:  NONE
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 5
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 15
turretTurnSpeed: 6
shootDelay: 30
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0.8
moveAccelerationSpeed: 0.6
moveDecelerationSpeed: 0.6
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

limitingRange: 150
shoot_sound: ROOT:\音频\语音+音效\igiat1a.wav, ROOT:\音频\语音+音效\igiat1b.wav, ROOT:\音频\语音+音效\igiat1c.wav
shoot_sound_vol: 2.0
projectile: 步枪


[projectile_步枪]
directDamage: 25
life: 60

instant: true
explodeEffect: CUSTOM:弹火
mutator0_ifUnitWithTags: 子弹抗性
mutator0_directDamageMultiplier: 0.5
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 0.8
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.6
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.4
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.2
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.6


[action_阻止人机取消部署]
text: Prevent undeployment
text_zh: 阻止取消部署
description: Prevent Ai from automatically undeploying
description_zh: 阻止人机自动取消部署
pos: 0
displayType: upgrade
buildSpeed: 0s
ai_isDisabled: true
isVisible: if self.isControlledByAI() and not self.hasFlag(id=27)
addResources: setFlag=27


[action_阻止人机取消部署2]
text: Allow undeployment
text_zh: 允许取消部署
description: Allow Ai to automatically undeploy
description_zh: 允许人机自动取消部署
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.hasFlag(id=27)
addResources: unsetFlag=27


[action_1]
text: Deploy
text_zh: 部署
description: Increases attack speed and attack distance, but cannot move
description_zh: 增加攻速，提高对地射程，但无法移动
displayType: action
buildSpeed: 0.1s
convertTo: 重装大兵部署
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed
autoTrigger: if (self.isControlledByAI() and self.isAttacking() and not self.hasParent() and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=210) or numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=300) or numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=180)) and not self.tags(includes='禁止攻击')) or self.hasParent(withTag='入驻部署')
whenBuilding_cannotMove: false
playSoundAtUnit: ROOT:\音频\语音+音效\iggidepa.wav:2
clearActiveWaypoint: true
ai_isDisabled: true
setUnitStats: moveSpeed=0
isActive: if not self.tags(includes='禁止攻击')


[hiddenAction_2] 
autoTrigger: if self.hasParent(withTag='房') or self.hasParent(withTag='苏联战斗碉堡')
#withTag='标签'
convertTo: 重装大兵入驻
#convertTo_keepCurrentTags: true


[hiddenAction_Ai自动入驻]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInNeutralTeam(withTag='可入驻', greaterThan=0, withinRange=500) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.isAttacking() and not self.hasParent()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: neutral
addWaypoint_target_nearestUnit_tagged: 可入驻


[hiddenAction_Ai自动入驻2]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInTeam(withTag='可入驻', withinRange=500, greaterThan=0) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.isAttacking() and not self.hasParent()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 可入驻


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=150)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 150
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=150)
@copyFromSection: hiddenAction_Ai攻击生物
addWaypoint_target_nearestUnit_tagged: 装甲


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and (not self.isAttacking() or self.hasTakenDamage(withinSeconds=1)) and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克生物
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=20


[hiddenAction_被碾压]
autoTrigger: if not self.tags(includes='被碾压')
temporarilyAddTags: 被碾压
#showMessageToAllPlayers: 触发


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[effect_弹火2]
alsoPlaySound: ROOT:\音频\语音+音效\gexpifva.wav:2, ROOT:\音频\语音+音效\gexpifvb.wav:2, ROOT:\音频\语音+音效\gexpifvc.wav:2
image: ROOT:\共享文件\1类\爆炸20.png
scaleFrom: 1.05
scaleTo: 1.05
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟.png
life: 25
fadeOut:true
attachedToUnit:false
color:#FFFFFF
fadeInTime:3
scaleFrom:2.5
scaleTo:2.5
alpha:0.8
drawUnderUnits:false
atmospheric:true


[template_zijin]
price: 250

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/超时空静默.ini
================================================================================


[core]
name: 超时空静默
price: 0
maxHp: 1000
mass: 1000
radius: 20

tags: 静默
displayText: EMP
displayText_zh: 超时空静默
displayDescription: 
displayDescription_zh: 让载具瘫痪10秒
canNotBeDirectlyAttacked: true
isBuilding: true
isUnselectable: true


[graphics]
#icon_build: ROOT:\游戏图标\苏联\建筑\电磁脉冲.png
image:      ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

maxAttackRange: 20
showRangeUIGuide: true


[movement]
movementType: BUILDING


[hiddenAction_删除]
autoTrigger: if self.timeAlive(laterThanSeconds=1)
deleteSelf: true

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/盟军工程师.ini
================================================================================


[core]
name: 盟军工程师
price: 资金=300
maxHp: 90
mass: 120
radius: 8

#overrideAndReplace: builderShip
#取代无关的初始单位
copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq, ROOT:\共享文件\3类\驾驶空载具.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压, 工程师, 空下
displayText: Allied Engineer
displayText_zh: 盟军工程师
displayDescription: Target: Ground unit\nSpecial: Occupy and repair buildings or vehicles
displayDescription_zh: 特殊：占领/维修建筑
isBio: true
buildSpeed: 3.5s
fogOfWarSightRange: 10
canRepairBuildings: true
nanoRange: 50
nanoRepairSpeed: 0
soundOnAttackOrder:  ROOT:\音频\语音+音效\ienaata.wav:2, ROOT:\音频\语音+音效\ienaatb.wav:2, ROOT:\音频\语音+音效\ienaatc.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\ienamoa.wav:2, ROOT:\音频\语音+音效\ienamob.wav:2, ROOT:\音频\语音+音效\ienamoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\ienasea.wav:2, ROOT:\音频\语音+音效\ienaseb.wav:2, ROOT:\音频\语音+音效\ienasec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\ienadia.wav:2, ROOT:\音频\语音+音效\ienadib.wav:2, ROOT:\音频\语音+音效\ienadic.wav:2, ROOT:\音频\语音+音效\ienadid.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\盟军工程师图标.png
image:       盟军工程师.png

total_frames: 13
imageScale:	0.95
image_offsetY: 0
frame_width: 58
frame_height: 58
image_shadow: NONE
shadowOffsetX: 0
shadowOffsetY: 0
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 4
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.hasParent() and not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

removeOnAttack: true
maxAttackRange: 50
#50
canOnlyAttackUnitsWithTags: 占领, 驾驶


[movement]
movementType: LAND

moveSpeed: 1.00
moveAccelerationSpeed: 0.8
moveDecelerationSpeed: 0.8
reverseSpeedPercentage:0
maxTurnSpeed: 6
turnAcceleration: 6


[turret_1]
x: 0
y: 0

projectile: 1
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[turret_维修]
x: 0
y: 0

canShoot: false
projectile: 维修


[projectile_1]
directDamage: 0
life: 60

instant: true
explodeEffect: NONE
convertHitToSourceTeam: true


[projectile_维修]
areaDamage: -2000
life: 60

areaRadius: 5
instant: true
areaDamageNoFalloff: true
friendlyFire: true
explodeEffect: NONE
mutator1_ifUnitWithoutTags: 建筑
mutator1_areaDamageMultiplier: 0


[hiddenAction_修复]
autoTrigger: if self.hasActiveWaypoint(type='repair') and not self.isMoving() and distanceBetweenSquared(activeWaypointTarget, self)<=2500
fireTurretXAtGround: 维修
fireTurretXAtGround_withProjectile: 维修
fireTurretXAtGround_withTarget: activeWaypointTarget
#showMessageToAllPlayers: 触发
playSoundAtUnit:  ROOT:\音频\语音+音效\urepair.wav:2
deleteSelf: true


[hiddenAction_Ai占领]
autoTrigger: if self.isControlledByAI() and not self.hasActiveWaypoint(type='attack') and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='占领', greaterThan=0, withinRange=500)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 占领
addWaypoint_target_nearestUnit_maxRange: 500
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 反潜
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克空军
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避5]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.hasActiveWaypoint(type='move') and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=5


[template_zijin]
price: 300

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/美国大兵部署.ini
================================================================================


[core]
name: 美国大兵部署
copyFrom: 美国大兵.ini
mass: 10000
#maxHp: 165

#displayText: 防卫大兵部署
showInEditor: false
fogOfWarSightRange: 12
softCollisionOnAll: 2
soundOnMoveOrder: NONE


[graphics]
image:        美国大兵部署.png

animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 1
animation_attack_end: 6
animation_attack_speed: 8


[attack]
maxAttackRange: 180
shootDelay: 25


[turret_1]
shoot_sound: ROOT:\音频\语音+音效\igiat2a.wav, ROOT:\音频\语音+音效\igiat2b.wav, ROOT:\音频\语音+音效\igiat2c.wav, ROOT:\音频\语音+音效\igiat2d.wav
shoot_sound_vol: 2.0


[projectile_1]
directDamage: 20


[action_1]
text: Undeploy
text_zh: 取消部署
description: Can move
description_zh: 起身移动，换冲锋枪射击
isVisible: if not self.hasParent()
convertTo: 美国大兵
autoTrigger: if self.isControlledByAI() and (not self.isAttacking() or self.hasActiveWaypoint(type='attackMove') or self.hasActiveWaypoint(type='move')) and not self.hasParent() and not self.hasFlag(id=27) and not self.tags(includes='禁止攻击')
whenBuilding_cannotMove: true
playSoundAtUnit: ROOT:\音频\语音+音效\igidepb.wav:2
setUnitStats: moveSpeed=select(memory.移动速度!=0, memory.移动速度, ${movement.moveSpeed})


[hiddenAction_清除路径]
autoTrigger: if (not self.isAttacking() and self.hasActiveWaypoint(type='attack')) or self.hasActiveWaypoint(type='move')
clearAllWaypoints: true
#showMessageToAllPlayers: 清除路径


[hiddenAction_被黏杀]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='撞击', greaterThan=0, withinRange=40) and not self.isInWater() and not self.isFlying() and not self.hasParent()


[hiddenAction_Ai自动入驻]
autoTrigger: false


[hiddenAction_Ai自动入驻2]
autoTrigger: false


[hiddenAction_Ai躲避2]
autoTrigger: false


[hiddenAction_升1级]
#setUnitStats: hp+=0
setUnitStats: maxTurnSpeed=${movement.maxTurnSpeed*1.5}


[hiddenAction_升2级]
setUnitStats: maxTurnSpeed=${movement.maxTurnSpeed*2}


[hiddenAction_升3级]
setUnitStats: maxTurnSpeed=${movement.maxTurnSpeed*2.5}


[hiddenAction_冷冻机制7]
requireConditional: false


#[ai]
#upgradedFrom: 防卫大兵

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/掷弹兵.ini
================================================================================


[core]
name: 掷弹兵
price: 资金=450
maxHp: 180
mass: 120
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 中级, 步兵中甲, 生物, 被碾压, 克生物, 空下, 克建筑, 炸飞人, 榴弹类
displayText: Grenadier
displayText_zh: 掷弹兵
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: Medium\nDamage building: High\nSpecial: The grenade will rebound when thrown on the creature or building.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：中\n伤害建筑：高\n特殊：手榴弹扔到生物或者建筑上会反弹。
buildSpeed: 3.0s
fogOfWarSightRange: 14
isBio: true
soundOnAttackOrder: ROOT:\音频\语音+音效\igrenatta.wav:2, ROOT:\音频\语音+音效\igrenattb.wav:2, ROOT:\音频\语音+音效\igrenattc.wav:2, ROOT:\音频\语音+音效\igrenattd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\igrenmova.wav:2, ROOT:\音频\语音+音效\igrenmovb.wav:2, ROOT:\音频\语音+音效\igrenmovc.wav:2, ROOT:\音频\语音+音效\igrenmovd.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\igrensela.wav:2, ROOT:\音频\语音+音效\igrenselb.wav:2, ROOT:\音频\语音+音效\igrenselc.wav:2, ROOT:\音频\语音+音效\igrenseld.wav:2
soundOnDeath: ROOT:\音频\语音+音效\igrendiea.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\掷弹兵图标.png
image:        掷弹兵.png

imageScale: 1.0
total_frames: 21
frame_width: 63
frame_height: 63
#image_offsetY: -5
#image_wreak:  NONE
showEnergyBar: false
animation_moving_start: 1
animation_moving_end: 8
animation_moving_speed: 5
animation_idle_start:0
animation_idle_end:0
animation_attack_start: 9
animation_attack_end: 20
animation_attack_speed: 5
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 6
maxAttackRange: 240
shootDelay: 120
#${int(24*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 1.20
moveAccelerationSpeed: 0.8
moveDecelerationSpeed: 0.8
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 12

limitingMinRange: 40
barrelHeight: 12
shoot_sound: ROOT:\音频\语音+音效\igrenweaa.wav
shoot_sound_vol: 1.2
canOnlyAttackUnitsWithoutTags: 装甲
projectile: 1


[turret_2]
x: 0
y: 12

barrelHeight: 12
limitingMinRange: 40
shoot_sound: ROOT:\音频\语音+音效\igrenweaa.wav
shoot_sound_vol: 1.2
canOnlyAttackUnitsWithoutTags: 生物, 生物2, 建筑
projectile: 4


[projectile_1]
spawnProjectilesOnExplode: 2
#directDamage: 50
areaDamage: 0
life: 180

areaRadius: 10
frame: 4
speed: 6
targetGround: true
targetGroundSpread: 5
image: 掷弹兵手榴弹.png
drawSize: 1.00
initialUnguidedSpeedHeight: 2
gravity: 0.18
explodeOnEndOfLife:true
#trailEffect: true
delayedStartTimer: 35
trailEffect:CUSTOM:尾烟*1
trailEffectRate: 0.5
explodeEffect: NONE


[projectile_2]
spawnProjectilesOnExplode: 3
areaDamage: 0
life: 180

speed: 4
areaRadius: 30
targetGroundSpread: 15
delayedStartTimer: 0
#explodeEffect: CUSTOM:爆炸
@copyFromSection: projectile_1


[projectile_3]
#directDamage: 50
areaDamage: 135
life: 180

areaRadius: 45
frame: 4
speed: 2
targetGround: true
targetGroundSpread: 35
image: 掷弹兵手榴弹.png
drawSize: 1.0
initialUnguidedSpeedHeight: 1.2
gravity: 0.2
explodeOnEndOfLife:true
#trailEffect: true
delayedStartTimer: 0
trailEffect:CUSTOM:尾烟*1
trailEffectRate: 0.5
explodeEffect: CUSTOM:爆炸, CUSTOM:映射
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.80
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.60
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.40
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.80
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.00
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.80


[projectile_4]
@copyFromSection: projectile_3
areaDamage: 135
life: 180

speed: 6
areaRadius: 30
targetGround: false
targetGroundSpread: 0
initialUnguidedSpeedHeight: 2
gravity: 0.18
delayedStartTimer: 35
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.60
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.40
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.20


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=195)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 195
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=35


[effect_爆炸]
alsoPlaySound: ROOT:\音频\语音+音效\gexpgrena.wav:2, ROOT:\音频\语音+音效\gexpgrenb.wav:2, ROOT:\音频\语音+音效\gexpgrenc.wav:2
life: 150
image: ROOT:\共享文件\1类\爆炸34.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 24
animateFrameStart: 0
animateFrameEnd: 23
animateFramePingPong: false
animateFrameSpeed: 0.35
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 0.8
scaleTo: 0.2
alpha: 0.4
life: 35
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟.png
life: 25
fadeOut:true
attachedToUnit:false
color: #FF00AFDB
fadeInTime:3
scaleFrom: 1.0
scaleTo: 0.8
alpha:0.8
drawUnderUnits:false
atmospheric:true


[template_zijin]
price: 450

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/海豹部队2.ini
================================================================================

[core]
name: 海豹部队2
copyFrom: 海豹部队.ini
showInEditor:false


[graphics]
image: 海豹部队2.png

animation_moving_start: 3
animation_moving_end: 5
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 2
animation_idle_speed: 8
animation_attack_start: 6
animation_attack_end: 8
animation_attack_speed: 4


[hiddenAction_1]
autoTrigger: if not self.isInWater()
convertTo: 海豹部队

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/海豹部队.ini
================================================================================

[core]
name: 海豹部队
price: 资金=800
maxHp: 140
mass: 115
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq, ROOT:\共享文件\3类\驾驶空载具.xxhq
tags: 原始护甲, 中级, 步兵中甲, 生物, 被碾压, 海豹部队, 两栖, 克生物, 克建筑, 空下, 反潜, 反隐形, 入枪2
buildSpeed: 7s
isBio: true
fogOfWarSightRange: 12
displayText: Navy SEAL
displayText_zh: 海豹部队
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Low\nDamage building: Very high\nSpecial: Can swim across the sea.\nInstall C4 charges on buildings.\nCan dismantle C4 charges and Timed Incendiary Explosives\nAnti invisibility
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：低\n伤害建筑：很高\n特殊：对建筑会安装C4炸弹，可以游泳过海，能够拆C4炸弹和黏弹\n反隐形
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 海豹部队
soundOnAttackOrder:  ROOT:\音频\语音+音效\iseaata.wav:1, ROOT:\音频\语音+音效\iseaatb.wav:1, ROOT:\音频\语音+音效\iseaatc.wav:1
soundOnMoveOrder: ROOT:\音频\语音+音效\iseamoa.wav:1, ROOT:\音频\语音+音效\iseamob.wav:1, ROOT:\音频\语音+音效\iseamoc.wav:1
soundOnNewSelection: ROOT:\音频\语音+音效\iseasea.wav:1, ROOT:\音频\语音+音效\iseaseb.wav:1, ROOT:\音频\语音+音效\iseasec.wav:1
soundOnDeath: ROOT:\音频\语音+音效\iseadia.wav:1, ROOT:\音频\语音+音效\iseadib.wav:1, ROOT:\音频\语音+音效\iseadic.wav:1


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='英国') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\海豹部队图标.png
image: 海豹部队.png

imageScale:	0.9
frame_width: 48
frame_height: 34
image_offsetY: -8
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 0
animation_attack_start: 7
animation_attack_end: 9
animation_attack_speed: 3
animation_direction_starting: 270
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_units: 45
rotate_with_direction:false


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 6
maxAttackRange: 195
shootDelay: 20
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: HOVER

moveSpeed: 1.25
moveAccelerationSpeed: 0.95
moveDecelerationSpeed: 0.95
maxTurnSpeed: 6
turnAcceleration: 6
joinsGroupFormations: true
reverseSpeedPercentage: 0


[turret_1]
x:0
y:0

canOnlyAttackUnitsWithoutTags: 建筑, 建筑2, 伪装, 驾驶, 定时炸弹
shoot_sound: ROOT:\音频\语音+音效\iseaatta.wav, ROOT:\音频\语音+音效\iseaattb.wav
shoot_sound_vol: 2.0
projectile: 1


[turret_2]
x:0
y:0

delay: 120
limitingRange: 60
shoot_sound: ROOT:\音频\语音+音效\iseaexa.wav, ROOT:\音频\语音+音效\iseaexb.wav, ROOT:\音频\语音+音效\iseaexc.wav
shoot_sound_vol: 2
canOnlyAttackUnitsWithTags: 建筑, 建筑2
canOnlyAttackUnitsWithoutTags: 炸弹限制
projectile: 2


[turret_3]
x:0
y:0

delay: 120
limitingRange: 50
canOnlyAttackUnitsWithTags: 定时炸弹
projectile: 3


[projectile_1]
directDamage: 125
life: 60

instant: true
explodeEffect: CUSTOM:弹火
mutator0_ifUnitWithTags: 子弹抗性
mutator0_directDamageMultiplier: 0.6
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.04
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.04
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.04
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.00


[projectile_2]
directDamage: 0
life:100

drawSize: 0
spawnUnit: C4炸弹
explodeEffect: NONE


[projectile_3]
directDamage: 1000
life: 60

instant: true
explodeEffect: NONE


[hiddenAction_1]
autoTrigger: if self.isInWater()
convertTo: 海豹部队2
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=195)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 195
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=180)
@copyFromSection: hiddenAction_Ai攻击生物
addWaypoint_target_nearestUnit_tagged: 建筑


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack') and not numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=180)
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=180) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=180) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 反潜


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=180) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=180) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=180)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=40


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[template_zijin]
price: 800

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/重装大兵部署.ini
================================================================================


[core]
name: 重装大兵部署
copyFrom: 重装大兵.ini
maxHp: 180
mass: 15000

#displayText: 飞弹防御兵部署
showInEditor: false
fogOfWarSightRange: 15
soundOnMoveOrder: NONE


[graphics]
image:        重装大兵部署.png

imageScale: 0.9
image_offsetY: 0
frame_width: 78
frame_height: 78
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 0
animation_attack_end: 5
animation_attack_speed: 4


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true

shootDelay: 75


[turret_1]
x: 0
y: 0

limitingRange: 270
limitingMinRange: 20
barrelHeight: 20
shoot_sound: ROOT:\音频\语音+音效\iggiat2a.wav
shoot_sound_vol: 2.0
#shoot_light:#FFEECCCC
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
projectile: 1


[turret_2]
x: 0
y: 0

copyFrom: 1
limitingRange: 300
limitingMinRange: 0
shoot_sound: ROOT:\音频\语音+音效\iggiat2a.wav
shoot_sound_vol: 2.0
canAttackFlyingUnits: if not self.tags(includes='禁止攻击')
canAttackLandUnits:   false
projectile: 1


[projectile_1]
spawnProjectilesOnEndOfLife: 1-2
spawnProjectilesOnExplode: 1-2
#directDamage: 50
areaDamage: 0
life: 35

areaRadius: 10
frame: 4
speed: 0
targetSpeed: 8
drawSize: 0.8
explodeOnEndOfLife:true
ballistic: true
ballistic_delaymove_height: 20
ballistic_height: 70
trailEffect:CUSTOM:尾烟*1
trailEffectRate: 1.0
explodeEffect: NONE


[projectile_1-2]
#directDamage: 50
areaDamage: 30
life: 240

areaRadius: 30
frame: 4
speed: 3
targetSpeed: 8
drawSize: 0.8
friendlyFire: true
explodeOnEndOfLife:true
autoTargetingOnDeadTarget:true
#trailEffect: true
trailEffect:CUSTOM:尾烟*1
trailEffectRate: 1.2
delayedStartTimer: 0
#ballistic: true
#ballistic_delaymove_height: 20
#ballistic_height: 70
explodeEffect: CUSTOM:弹火2
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.5
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.6
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.6


[action_1]
text: Undeploy
text_zh: 取消部署
description: Can move
description_zh: 起身移动攻击
isVisible: if not self.hasParent()
convertTo: 重装大兵
autoTrigger: if self.isControlledByAI() and (not self.isAttacking() or self.hasActiveWaypoint(type='attackMove') or self.hasActiveWaypoint(type='move')) and not self.hasParent() and not self.hasFlag(id=27) and not self.tags(includes='禁止攻击')
whenBuilding_cannotMove: true
setUnitStats: moveSpeed=select(memory.移动速度!=0, memory.移动速度, ${movement.moveSpeed})


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 270
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_清除路径]
autoTrigger: if (not self.isAttacking() and self.hasActiveWaypoint(type='attack')) or self.hasActiveWaypoint(type='move')
clearAllWaypoints: true


[hiddenAction_被黏杀]
autoTrigger: false


[hiddenAction_Ai自动入驻]
autoTrigger: false


[hiddenAction_Ai自动入驻2]
autoTrigger: false


[hiddenAction_Ai躲避]
autoTrigger: false


[hiddenAction_升1级]
#setUnitStats: hp+=0
setUnitStats: maxTurnSpeed=${movement.maxTurnSpeed*1.5}


[hiddenAction_升2级]
setUnitStats: maxTurnSpeed=${movement.maxTurnSpeed*2}


[hiddenAction_升3级]
setUnitStats: maxTurnSpeed=${movement.maxTurnSpeed*2.5}


[hiddenAction_极端气候效果] 
setUnitStats: moveSpeed=0


[hiddenAction_极端气候效果2] 
setUnitStats: moveSpeed=0


[hiddenAction_冷冻机制7]
requireConditional: false


[effect_弹火3]
image: ROOT:\共享文件\1类\弹火2.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpifva.wav:2, ROOT:\音频\语音+音效\gexpifvb.wav:2, ROOT:\音频\语音+音效\gexpifvc.wav:2
scaleFrom: 1.5
scaleTo: 1.5
total_frames:12
animateFrameStart: 0
animateFrameEnd:11
animateFrameSpeed:0.3
alwayStartDirAtZero:true
attachedToUnit:false


[hiddenAction_被碾压]
autoTrigger: if self.tags(includes='被碾压')
temporarilyAddTags:
temporarilyRemoveTags: 被碾压
#showMessageToAllPlayers: 触发2


#[ai]
#upgradedFrom: 飞弹防御兵

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/谭雅2.ini
================================================================================

[core]
name: 谭雅2
copyFrom: 谭雅.ini
showInEditor: false


[graphics]
image: 谭雅2.png

image_shadow: NONE
animation_moving_start: 6
animation_moving_end: 11
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 5
animation_idle_speed: 6
animation_attack_start: 12
animation_attack_end: 17
animation_attack_speed: 3


[hiddenAction_1]
autoTrigger: if not self.isInWater()
convertTo: 谭雅

================================================================================
// FILE_PATH: ./1同盟国联军/陆军–士兵/谭雅.ini
================================================================================

[core]
name: 谭雅
price: 资金=1500
maxHp: 240
mass: 125
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
displayText: Tanya
displayText_zh: 谭雅
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage building: Very high\nSpecial: Can swim across the sea.\nInstall C4 charges on buildings.\nBelongs to a heroic unit.\nThere can only be one at a time
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：很高\n特殊：可以游泳过海，对建筑安装C4炸弹，英雄级单位同时只能有一个
tags: 原始护甲, 步兵中甲, 生物, 免疫心控, 两栖, 谭雅, 克装甲, 克生物, 克建筑, 空下, 英雄, 反潜, 榴弹类
techLevel: 2
buildSpeed: 15s
isBio: true
selfRegenRate: 0.08
fogOfWarSightRange: 14
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 谭雅
soundOnAttackOrder:  ROOT:\音频\语音+音效\itanata.wav:2, ROOT:\音频\语音+音效\itanatb.wav:2, ROOT:\音频\语音+音效\itanatc.wav:2, ROOT:\音频\语音+音效\itanatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\itanmoa.wav:2, ROOT:\音频\语音+音效\itanmob.wav:2, ROOT:\音频\语音+音效\itanmoc.wav:2, ROOT:\音频\语音+音效\itanmod.wav:2, ROOT:\音频\语音+音效\itanmoe.wav:2, ROOT:\音频\语音+音效\itanmof.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\itansea.wav:2, ROOT:\音频\语音+音效\itanseb.wav:2, ROOT:\音频\语音+音效\itansec.wav:2, ROOT:\音频\语音+音效\itansed.wav:2, ROOT:\音频\语音+音效\itansee.wav:2
soundOnDeath: ROOT:\音频\语音+音效\itandia.wav:2, ROOT:\音频\语音+音效\itandib.wav:2, ROOT:\音频\语音+音效\itandic.wav:2


[hiddenAction_音效]
autoTriggerOnEvent: completeAndActive
playSoundGlobally: ROOT:\音频\语音+音效\itanatb.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\谭雅图标.png
image: 谭雅.png

imageScale:	0.9
frame_width: 60
frame_height: 60
image_offsetY: 0
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 6
animation_idle_start:0
animation_idle_end:0
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 3
animation_direction_starting: 270
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
rotate_with_direction:false


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring:true
turretSize: 6
turretTurnSpeed: 6
maxAttackRange: 195
shootDelay: ${int(5*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: HOVER

moveSpeed: 1.35
moveAccelerationSpeed: 1.0
moveDecelerationSpeed: 1.0
maxTurnSpeed: 6
turnAcceleration: 6
joinsGroupFormations: true
reverseSpeedPercentage:0


[turret_1]
x:0
y:0

barrelHeight: 10
shoot_sound: ROOT:\音频\语音+音效\itanwea.wav, ROOT:\音频\语音+音效\itanweb.wav
shoot_sound_vol: 1.5
shoot_light:#FFEECCCC
canOnlyAttackUnitsWithTags: 生物, 恐怖机器人, 生物2
limitingMinRange: 10
projectile: 1


[turret_2]
x:0
y:0

delay: 120
limitingRange: 60
shoot_sound: ROOT:\音频\语音+音效\itanwe2a.wav
shoot_sound_vol: 2.0
canOnlyAttackUnitsWithoutTags: 炸弹限制, 生物, 生物2, 恐怖机器人
projectile: 2


[projectile_1]
directDamage: 100
life: 15

instant: true
explodeEffect: CUSTOM:弹火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.2
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.2
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.0


[projectile_2]
directDamage: 2500
life: 120

instant: true
delayedStartTimer: 60
explodeEffect: CUSTOM:爆炸


[hiddenAction_1]
autoTrigger: if self.isInWater()
convertTo: 谭雅2
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed


[hiddenAction_被黏杀]
autoTrigger: false


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 反潜
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克空军
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=225) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=225)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[action_转换队伍]
isVisible: false


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[effect_爆炸]
alsoPlaySound: ROOT:\音频\语音+音效\gexpifva.wav:2, ROOT:\音频\语音+音效\gexpifvb.wav:2, ROOT:\音频\语音+音效\gexpifvc.wav:2
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.05
scaleTo: 1.05
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[hiddenAction_初始价值]
addResources: 价值=100


[template_zijin]
price: 1500

================================================================================
// FILE_PATH: ./1同盟国联军/海军/航空母舰.ini
================================================================================


[core]
name: 航空母舰
price: 资金=2400
maxHp: 1000
mass: 100000
radius: 45

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营船舰共同.xxhq, ROOT:\共享文件\3类\闲置修复.xxhq
tags: 原始护甲, 载具重甲, 装甲, 船舰, 船坞维修, 航母, 可空, 空下
displayText: Allies Aircraft Carrier
displayText_zh: 航空母舰
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: High\nDamage building: High\nSpecial: Attack via Hornet.\nComes with 4 Hornet
displayDescription_zh: 攻击目标：海面单位/地面单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：高\n特殊：只用装载的黄蜂无人机进行攻击\n自带4个黄蜂无人机
techLevel: 2
buildSpeed: 30s
#exit_x:0
#exit_y:-5
maxTransportingUnits: 4
transportUnitsCanUnloadUnits: false
transportUnitsRequireTag: 黄蜂无人机
transportUnitsRequireMovementType: AIR
transportUnitsBlockOtherTransports: false
fogOfWarSightRange: 16
soundOnAttackOrder:  ROOT:\音频\语音+音效\vairata.wav:2, ROOT:\音频\语音+音效\vairatb.wav:2, ROOT:\音频\语音+音效\vairatc.wav:2, ROOT:\音频\语音+音效\vairatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vairmoa.wav:2, ROOT:\音频\语音+音效\vairmob.wav:2, ROOT:\音频\语音+音效\vairmoc.wav:2, ROOT:\音频\语音+音效\vairmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vairsea.wav:2, ROOT:\音频\语音+音效\vairseb.wav:2, ROOT:\音频\语音+音效\vairsec.wav:2, ROOT:\音频\语音+音效\vairsed.wav:2
effectOnDeath: CUSTOM:水花, CUSTOM:水花2, CUSTOM:水花3, CUSTOM:水花4, CUSTOM:死亡爆炸, CUSTOM:沉没


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vaccstaa.wav:1.5, ROOT:\音频\语音+音效\vaccstab.wav:1.5


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\航空母舰图标.png
image:        航空母舰.png

drawLayer: ground
total_frames: 1
#imageScale:	0.9
frame_width: 200
frame_height: 200
image_offsetX: 0
image_offsetY: 10
#image_wreak:  NONE
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
showTransportBar: false
movementEffectRate: 40


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:  if self.timeAlive(laterThanSeconds=4) and not self.hasFlag(id=28) and not self.tags(includes='禁止攻击')
# and self.transportingCount(greaterThan=3)
canAttackUnderwaterUnits: false

#turretSize: 0
turretTurnSpeed: 3
shootDelay: 720
maxAttackRange: 720
aimOffsetSpread: 0
#disablePassiveTargeting: true


[movement]
movementType: WATER

moveSpeed: 0.8
moveAccelerationSpeed:0.06
moveDecelerationSpeed:0.08
maxTurnSpeed: 1.5
turnAcceleration: 0.1
reverseSpeedPercentage:0


[attachment_1]
x: 5
y: 20

idleDir: 0
isVisible: false
isUnselectable: true
canBeAttackedAndDamaged: false
keepAliveWhenParentDies: false
prioritizeParentsMainTarget: true
addTransportedUnits: true
resetRotationWhenNotAttacking:true
#deattachIfWantingToMove:true


[attachment_2]
x: -5
y: 20

@copyFromSection: attachment_1



[attachment_3]
x: 5
y: 30

@copyFromSection: attachment_1


[attachment_4]
x: -5
y: 30

@copyFromSection: attachment_1


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\vhortaka.wav,ROOT:\音频\语音+音效\vhortakb.wav
shoot_sound_vol: 2
resourceUsage: ammo=-4


[projectile_1]
directDamage: 0
life: 0


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=720)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 建筑
addWaypoint_target_nearestUnit_maxRange: 720
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=600)
@copyFromSection: hiddenAction_Ai攻击建筑
addWaypoint_target_nearestUnit_tagged: 装甲
#showMessageToAllPlayers: 触发2


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=530) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 反潜
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=530) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克空军
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=530) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='船坞') and not self.hasUnitInTeam(withTag='船坞', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=530) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=530)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 船坞
#showMessageToAllPlayers: 触发6


[hiddenAction_飞机]
autoTrigger: if self.ammo(greaterThan=0) and self.transportingCount(lessThan=1)
addUnitsIntoTransport: 黄蜂无人机
addResources: ammo=-1


[hiddenAction_心控卸载2]
requireConditional: false


[hiddenAction_初始价值]
addResources: 价值=80


[effect_沉没]
image: 航空母舰沉没.png
scaleFrom: 1.00
scaleTo: 1.00
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.2
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[template_zijin]
price: 2400


[ai]
useAsTransport: false
useAsAttacker: true

================================================================================
// FILE_PATH: ./1同盟国联军/海军/海豚2.ini
================================================================================


[core]
name: 海豚2
copyFrom: 海豚.ini
showInEditor: false
#showOnMinimap: true
showOnMinimapToEnemies: true


[graphics]
isVisibleToEnemies: true
movementEffect: CUSTOM:水圈


[movement]
#moveSpeed: 1.8
targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTrigger: if self.hasTakenDamage(laterThanSeconds=3) and not self.isAttacking() and not numberOfUnitsInEnemyTeam(withTag='反潜', greaterThan=0, withinRange=300)
convertTo: 海豚
setUnitStats: moveSpeed=select(memory.移动速度!=0, memory.移动速度, ${movement.moveSpeed})

================================================================================
// FILE_PATH: ./1同盟国联军/海军/神盾巡洋舰.ini
================================================================================


[core]
name: 神盾巡洋舰
price: 资金=1650
maxHp: 720
mass: 5000
radius: 40

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营船舰共同.xxhq
tags: 原始护甲, 载具中甲, 中级, 装甲, 船舰, 船坞维修, 克空军, 可空, 空下
#overrideAndReplace: heavyMissileShip, missileShip, nautilusSubmarine
displayText: Aegis Cruiser
displayText_zh: 神盾巡洋舰
displayDescription: Target: Air unit\nDamage air: Very High
displayDescription_zh: 攻击目标：空中单位\n伤害空军：很高
buildSpeed: 15s
fogOfWarSightRange: 16
effectOnDeath: CUSTOM:水花, CUSTOM:水花2, CUSTOM:水花3, CUSTOM:水花4, CUSTOM:死亡爆炸, CUSTOM:沉没
soundOnAttackOrder:  ROOT:\音频\语音+音效\vaegata.wav:2, ROOT:\音频\语音+音效\vaegatb.wav:2, ROOT:\音频\语音+音效\vaegatc.wav:2, ROOT:\音频\语音+音效\vaegatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vaegmoa.wav:2, ROOT:\音频\语音+音效\vaegmob.wav:2, ROOT:\音频\语音+音效\vaegmoc.wav:2, ROOT:\音频\语音+音效\vaegmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vaegsea.wav:2, ROOT:\音频\语音+音效\vaegseb.wav:2, ROOT:\音频\语音+音效\vaegsec.wav:2, ROOT:\音频\语音+音效\vaegsed.wav:2


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='美国') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\神盾巡洋舰图标.png
image:        神盾巡洋舰.png

#imageScale: 0.95
total_frames: 1
frame_width: 140
frame_height: 140
image_offsetX: 0
image_offsetY: 10
#image_wreak:  NONE
#splastEffect: false
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffectRate: 25


[attack]
canAttack: true
canAttackFlyingUnits: if not self.hasFlag(id=28) and not self.tags(includes='禁止攻击')
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 20
maxAttackRange: 360
shootDelay: ${int(15*(1/gameSpeedRate))}


[movement]
movementType: WATER

moveSpeed: 0.85
moveAccelerationSpeed: 0.04
moveDecelerationSpeed: 0.08
maxTurnSpeed: 2
turnAcceleration: 0.5
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

barrelHeight: 12
barrelX: -6
barrelOffsetX_onOddShots: 12
shoot_sound: ROOT:\音频\语音+音效\vaegatta.wav, ROOT:\音频\语音+音效\vaegattb.wav
shoot_sound_vol: 2.0
shoot_flame: NONE
shoot_light:#FFEECCCC


[projectile_1]
directDamage: 55
life: 240

frame: 4
speed: 8
targetSpeed: 12
trailEffect: true
trailEffectRate: 1
turnSpeed: 100
wobbleAmplitude: 5
wobbleFrequency: 0.08
ballistic: true
ballistic_height: 80
ballistic_delaymove_height: 50
autoTargetingOnDeadTarget: true
explodeEffect: CUSTOM:弹火
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_directDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_directDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_directDamageMultiplier: 0.6
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_directDamageMultiplier: 0.4


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=350) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 反潜
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=70) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=350) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=70) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=350) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避5]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='船坞') and not self.hasUnitInTeam(withTag='船坞', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=350) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=350) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=350)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 船坞


[hiddenAction_初始价值]
addResources: 价值=50


[effect_弹火]
image: ROOT:\共享文件\1类\弹火2.png
scaleFrom: 1.2
scaleTo: 1.2
total_frames:12
animateFrameStart: 0
animateFrameEnd:11
animateFrameSpeed:0.3
alwayStartDirAtZero:true
attachedToUnit:false


[effect_沉没]
image: 神盾巡洋舰沉没.png
scaleFrom: 1.00
scaleTo: 1.00
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.2
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[template_zijin]
price: 1650

================================================================================
// FILE_PATH: ./1同盟国联军/海军/反潜机.ini
================================================================================


[core]
name: 反潜机
price: 0
maxHp: 200
mass: 1000
radius: 20

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\单位价值.xxhq
tags: 原始护甲, 飞机中甲, 低级, 空军, 反潜机
displayText: Osprey
displayText_zh: 鱼鹰反潜机
displayDescription: Target: Underwater unit\nDamage creature: Low\nDamage armor: Very high\nCan spot and attack underwater units.\nWill self-destruct when there is no empty Horizon Destroyer.
displayDescription_zh: 攻击目标：海下单位\n伤害生物：低\n伤害装甲：很高\n特殊：可以发现并攻击海下隐藏单位(海雷/台风潜艇/巨型乌贼/海豚)\n无空载驱逐舰时自毁
buildSpeed: 0.01
softCollisionOnAll: 10
effectOnDeath: CUSTOM:炸毁
disableAllUnitCollisions: true
isUnselectable: true
fogOfWarSightRange: 12
soundOnDeath: ROOT:\音频\语音+音效\vospdiea.wav:2
#canNotBeGivenOrdersByPlayer: true


[graphics]
image:        反潜机.png

imageScale:	1.0
total_frames: 2
frame_width: 48
frame_height: 48
#image_wreak:  NONE
image_shadow: AUTO_ANIMATED
shadowOffsetX:0
shadowOffsetY:0
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 3
animation_idle_start: 0
animation_idle_end: 1
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 1
animation_attack_speed: 3
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:  true
canAttackUnderwaterUnits: true

isFixedFiring: true
isMelee: true
turretSize: 5
turretTurnSpeed: 6
maxAttackRange: 140
#100
shootDelay: 15
canOnlyAttackUnitsWithTags: 水下
meleeEngangementDistance: 420
attackMovement: bomber
aimOffsetSpread: 0


[movement]
movementType: AIR

moveSpeed: 2.8
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.02
maxTurnSpeed: 4
turnAcceleration: 2
targetHeight: 80
moveIgnoringBody: false
moveSlidingMode: true
moveSlidingDir: 5


[turret_1]
x: 0
y: 0

resourceUsage: ammo=2
shoot_sound: ROOT:\音频\语音+音效\vospatta.wav
shoot_sound_vol: 2
onShoot_triggerActions: 3


[projectile_1]
directDamage: 110
life: 240

frame: 4
speed: 2
targetSpeed: 6
drawSize: 0.1
trailEffect: CUSTOM:尾烟*1
trailEffectRate: 0.2
explodeEffect: CUSTOM:水花
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 0.50
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 0.45
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.25
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 1.20
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 1.00
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.60
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.40
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.60
#mutator22_ifUnitWithTags: 恐怖机器人
#mutator22_directDamageMultiplier: 0.3


[hiddenAction_1]
autoTrigger: if self.hasParent() and not self.ammo(greaterThan=3)
addResources: ammo=2


[hiddenAction_2]
autoTrigger: if not self.hasParent() and (self.ammo(empty=true) or not self.isAttacking())
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_fromReference: customTarget1
addWaypoint_triggerActionIfFailed: 4
#showMessageToAllPlayers: 入


[hiddenAction_3]
autoTrigger: if self.isAttacking() and self.hasParent() and self.ammo(greaterThan=3) and not self.hasParent(withTag='禁止攻击')
disconnectFromParent: true
#showMessageToAllPlayers: 触发


[hiddenAction_4]
autoTrigger: if customTarget1.hp<=0
addResources: hp=-200
#deleteSelf: true


[hiddenAction_升级]
takeResources: 经验值=-15
takeResources_includeUnitsWithinRange: 9999
takeResources_includeReference: customTarget1
takeResources_discardCollected: true


[hiddenAction_初始价值]
addResources: 价值=10


[hiddenAction_初设弹药]
autoTriggerOnEvent: created
addResources: ammo=4


[effect_炸毁]
image: ROOT:\共享文件\1类\炸毁2.png
scaleFrom:1.0
scaleTo: 1.0
total_frames: 17
animateFrameStart: 0
animateFrameEnd: 16
animateFrameSpeed: 0.35
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟.png
life: 25
fadeOut:true
attachedToUnit:false
color:#FFFFFF
fadeInTime:3
scaleFrom:2.5
scaleTo:2.5
alpha:0.8
drawUnderUnits:false
atmospheric:true


[effect_水花]
image: ROOT:\共享文件\1类\水花.png
createWhenOverLiquid: true
createWhenOverLand: false
scaleFrom: 1
scaleTo: 1
total_frames: 6
animateFrameStart: 0
animateFrameEnd: 5
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true
spawnChance: 0.3
ifSpawnFailsEmitEffects: CUSTOM:水花2


[effect_水花2]
@copyFromSection: effect_水花
image: ROOT:\共享文件\1类\水花2.png
ifSpawnFailsEmitEffects: CUSTOM:水花3


[effect_水花3]
@copyFromSection: effect_水花
image: ROOT:\共享文件\1类\水花3.png
spawnChance: 1

================================================================================
// FILE_PATH: ./1同盟国联军/海军/驱逐舰.ini
================================================================================


[core]
name: 驱逐舰
price: 资金=1200
maxHp: 750
mass: 6000
radius: 40

#overrideAndReplace: attackSubmarine, lightSub, experiementalCarrier, battleship, heavyBattleship, gunBoat, heavySub
copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营船舰共同.xxhq
tags: 原始护甲, 载具重甲, 低级, 装甲, 船舰, 船坞维修, 克装甲, 可空, 空下, 驱逐舰
displayText: Destroyer
displayText_zh: 驱逐舰
displayDescription: Target: Underwater unit/Ground unit\nDamage creature: Medium\nDamage armor: High\nDamage building: High\nCan spot underwater units.\nComes with an Osprey.
displayDescription_zh: 攻击目标：海下单位/海面单位/地面单位\n伤害生物：中\n伤害装甲：高\n伤害建筑：高\n特殊：可以发现并攻击海下隐藏单位(海雷/台风潜艇/巨型乌贼/海豚)\n自带一个反潜机
buildSpeed: 10s
#exit_moveAwayAmount:0
maxTransportingUnits:1
transportUnitsCanUnloadUnits:false
transportUnitsRequireTag: 反潜机
transportUnitsRequireMovementType: AIR
transportUnitsHealBy: 0.2
fogOfWarSightRange: 12
effectOnDeath: CUSTOM:水花, CUSTOM:水花2, CUSTOM:水花3, CUSTOM:水花4, CUSTOM:死亡爆炸, CUSTOM:沉没
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 驱逐舰
soundOnAttackOrder:  ROOT:\音频\语音+音效\vwaaata.wav:1, ROOT:\音频\语音+音效\vwaaatb.wav:1, ROOT:\音频\语音+音效\vwaaatc.wav:1
soundOnMoveOrder: ROOT:\音频\语音+音效\vwaamoa.wav:1, ROOT:\音频\语音+音效\vwaamob.wav:1, ROOT:\音频\语音+音效\vwaamoc.wav:1
soundOnNewSelection: ROOT:\音频\语音+音效\vwaasea.wav:1, ROOT:\音频\语音+音效\vwaaseb.wav:1, ROOT:\音频\语音+音效\vwaasec.wav:1


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='英国') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\驱逐舰图标.png
image:        驱逐舰.png

drawLayer: ground
imageScale: 1
total_frames: 1
frame_width: 150
frame_height: 150
image_offsetX: 0
image_offsetY: 10
#image_wreak:  NONE
#splastEffect: true
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
showTransportBar: false
movementEffectRate: 20


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 10
turretTurnSpeed: 3
#maxAttackRange: 240
shootDelay: ${int(75*(1/gameSpeedRate))}
isFixedFiring: true


[movement]
movementType: WATER

moveSpeed: 1.1
moveAccelerationSpeed: 0.04
moveDecelerationSpeed: 0.06
reverseSpeedPercentage:0
maxTurnSpeed: 2.5
turnAcceleration: 1.0


[turret_1]
x: 0
y: 40

limitingRange: 240
#200
barrelHeight: 20
shoot_flame: CUSTOM:映射
shoot_sound: ROOT:\音频\语音+音效\vdesatta.wav, ROOT:\音频\语音+音效\vdesattb.wav
shoot_sound_vol: 2
canOnlyAttackUnitsWithoutTags: 潜水单位, 伪装, 驾驶
canAttackLandUnits: if not self.hasFlag(id=28) and not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false
projectile: 1


[turret_2]
x: 0
y: 0

limitingRange: 330
canAttackLandUnits: false
canAttackUnderwaterUnits: if not self.hasFlag(id=28) and not self.tags(includes='禁止攻击')
unloadUpToXUnitsAndGiveAttackOrder: 1
delay: 240
projectile: 2


[projectile_1]
areaDamage: 125
life: 60

areaRadius: 40
frame: 5
image: ROOT:\共享文件\1类\炮弹.png
drawSize: 0.85
speed: 6
targetGround: true
#hitSound: true
explodeEffect: CUSTOM:映射3, CUSTOM:水花, CUSTOM:爆炸
effectOnCreate: CUSTOM:映射2
lightCastOnGround: true
initialUnguidedSpeedHeight: 2
gravity:0.18
friendlyFire: true
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.8
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.6
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.4
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.6
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.6
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[projectile_2]
directDamage: 0
life: 60

instant: true
explodeEffect:NONE


[attachment_1]
x: 0
y: -30

idleDir: 0
isVisible: false
isUnselectable: true
canBeAttackedAndDamaged: false
keepAliveWhenParentDies: false
prioritizeParentsMainTarget: true
addTransportedUnits: true
resetRotationWhenNotAttacking:true


[hiddenAction_1]
autoTriggerOnEvent: created
addUnitsIntoTransport: 反潜机


[hiddenAction_2]
autoTrigger: if self.transportingCount(empty=true) and customTarget2==nullUnit and self.ammo(greaterThan=14)
addUnitsIntoTransport: 反潜机
addResources: ammo=-99
#convertTo:  驱逐舰2
#convertTo_keepCurrentTags: true


[hiddenAction_3]
autoTrigger: if self.ammo(lessThan=15) and self.transportingCount(empty=true) and customTarget2==nullUnit
addResources: ammo=1


[hiddenAction_4]
autoTrigger: if self.transportingCount(empty=true)
convertTo:  驱逐舰2
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed
playSoundAtUnit: ROOT:\音频\语音+音效\vospstaa.wav:2


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=240)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 240
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=70) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=70) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='船坞') and not self.hasUnitInTeam(withTag='船坞', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 船坞
#showMessageToAllPlayers: 触发6


[hiddenAction_记录子机]
requireConditional: if customTarget2==nullUnit
autoTriggerOnEvent: transportingNewUnit 
setCustomTarget2: eventSource


[hiddenAction_心控卸载2]
requireConditional: false


[hiddenAction_初始价值]
addResources: 价值=35


[effect_水花]
image: ROOT:\共享文件\1类\水花.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpwala.wav:2, ROOT:\音频\语音+音效\gexpwalb.wav:2, ROOT:\音频\语音+音效\gexpwalc.wav:2
createWhenOverLiquid: true
createWhenOverLand: false
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 6
animateFrameStart: 0
animateFrameEnd: 5
animateFrameSpeed: 0.35
life: 180
xOffsetRelative:  0
yOffsetRelative:  0
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_爆炸]
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
image: ROOT:\共享文件\1类\爆炸4.png
createWhenOverLiquid: false
createWhenOverLand: true
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.25
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_沉没]
image: 驱逐舰沉没.png
scaleFrom: 1.00
scaleTo: 1.00
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.2
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[template_zijin]
price: 1200


[ai]
useAsTransport: false
useAsAttacker: true

================================================================================
// FILE_PATH: ./1同盟国联军/海军/黄蜂无人机.ini
================================================================================

[core]
name: 黄蜂无人机
price: 0
maxHp: 220
mass: 3000
radius: 10

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\单位价值.xxhq
displayText: Hornet
displayText_zh: 黄蜂无人机
displayDescription: Target: Ground unit\nDamage creature: Medium\nDamage armor: Medium\nDamage building: Medium\nSpecial: Will self-destruct when there is no empty Enterprise Aircraft Carrier.
displayDescription_zh: 攻击目标：海面单位/地面单位\n伤害生物：中\n伤害装甲：中\n伤害建筑：中\n特殊：无空载航母时自毁
tags: 原始护甲, 飞机轻甲, 中级, 空军, 黄蜂无人机, 克建筑, 炸飞人
buildSpeed: 0.01
softCollisionOnAll: 10
#canNotBeGivenOrdersByPlayer: true
energyMax: 4
energyRegen: 0
energyNeedsToRechargeToFull: true
#disableAllUnitCollisions: true
fogOfWarSightRange: 10
isUnselectable: true
effectOnDeath: CUSTOM:炸毁
soundOnDeath: ROOT:\音频\语音+音效\vhordiea.wav:2, ROOT:\音频\语音+音效\vhordieb.wav:2


[graphics]
image:        黄蜂无人机.png

imageScale:	1.0
total_frames: 1
frame_width: 40
frame_height: 40
image_wreak:  ROOT:\共享文件\1类\死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影4.png
shadowOffsetX:0
shadowOffsetY:0
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffect: CUSTOM:尾焰
movementEffectRate: 1


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false

attackMovement: bomber
isMelee: true
turretSize: 6
turretTurnSpeed: 6
maxAttackRange: 140
#150
meleeEngangementDistance: 800
shootDelay: 10
aimOffsetSpread: 0


[movement]
movementType: AIR

moveSpeed: 3.6
moveAccelerationSpeed: 0.08
moveDecelerationSpeed: 0.02
maxTurnSpeed: 2
turnAcceleration: 0.5
targetHeight: 140
#targetHeightDrift:3
reverseSpeedPercentage: 0
moveSlidingMode: true
moveIgnoringBody: false
moveSlidingDir: 10
slowDeathFall: true


[turret_1]
x: 0
y: 0

warmup:0
shoot_sound: ROOT:\音频\语音+音效\vospatta.wav
shoot_sound_vol:2
shoot_light:#FFccCCEE
energyUsage: 1


[projectile_1]
areaDamage: 45
life: 100

areaRadius: 25
#targetGround: true
speed: 6
targetSpeed: 12
trailEffect: CUSTOM:尾烟*1
trailEffectRate: 1.0
largeHitEffect: true
frame: 4
drawSize: 0.1
hitSound: true
friendlyFire: true
explodeEffect: CUSTOM:水花, CUSTOM:爆炸
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator14_ifUnitWithTags: 步兵轻甲
mutator14_areaDamageMultiplier: 0.4
mutator15_ifUnitWithTags: 步兵中甲
mutator15_areaDamageMultiplier: 0.4
mutator16_ifUnitWithTags: 步兵重甲
mutator16_areaDamageMultiplier: 0.4
mutator17_ifUnitWithTags: 载具轻甲
mutator17_areaDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具中甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 载具重甲
mutator19_areaDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑轻甲
mutator20_areaDamageMultiplier: 1.0
mutator21_ifUnitWithTags: 建筑防甲
mutator21_areaDamageMultiplier: 1.2
mutator22_ifUnitWithTags: 建筑重甲
mutator22_areaDamageMultiplier: 1.0


[hiddenAction_自我删除]
autoTrigger: if self.timeAlive(laterThanSeconds=4) and self.hasParent()
temporarilyAddTags: 非正常死亡
deleteSelf: true
#showMessageToAllPlayers: 已删除无人机


#[hiddenAction_1]
#autoTrigger: if self.hasParent() and not self.energy(full=true)
#addResources: energy=1
#showMessageToAllPlayers: 能量+1


[hiddenAction_2]
autoTrigger: if not self.hasParent() and not self.hasActiveWaypoint(type='loadInto') and (self.energy(empty=true) or not self.isAttacking())
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_fromReference: customTarget1
addWaypoint_triggerActionIfFailed: 4


[hiddenAction_3]
autoTrigger: if self.isAttacking() and self.energy(full=true) and not parent.hasActiveWaypoint(type='move') and not self.hasParent(withTag='禁止攻击')
disconnectFromParent: true


[hiddenAction_4]
addResources: hp=-400
#deleteSelf: true


[hiddenAction_升级]
takeResources: 经验值=-20
takeResources_includeUnitsWithinRange: 9999
takeResources_includeReference: customTarget1
takeResources_discardCollected: true


[hiddenAction_子机升1级]
autoTrigger: if self.resource.经验值<(self.resource.价值)*3 and parent.tags(includes='1级') and not self.tags(includes='1级') and not self.tags(includes='2级') and not self.tags(includes='3级')
addResourcesWithLogic: 经验值=(self.resource.价值)*3-(self.resource.经验值)


[hiddenAction_子机升2级]
autoTrigger: if self.resource.经验值<(self.resource.价值)*3*3 and parent.tags(includes='2级') and not self.tags(includes='2级') and not self.tags(includes='3级')
addResourcesWithLogic: 经验值=(self.resource.价值)*3*3-(self.resource.经验值)


[hiddenAction_子机升3级]
autoTrigger: if self.resource.经验值<(self.resource.价值)*3*6 and parent.tags(includes='3级') and not self.tags(includes='3级')
addResourcesWithLogic: 经验值=(self.resource.价值)*3*6-(self.resource.经验值)


[hiddenAction_初始价值]
addResources: 价值=10


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟.png
life:25
fadeOut:true
attachedToUnit:false
color:#FFFFFF
fadeInTime:3
scaleFrom:2.5
scaleTo:2
alpha:0.8
drawUnderUnits:false
atmospheric:true


[effect_爆炸]
createWhenOverLiquid: false
createWhenOverLand: true
image: ROOT:\共享文件\1类\炸毁5.png
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 0.8
scaleTo: 0.8
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁]
image: ROOT:\共享文件\1类\炸毁2.png
scaleFrom: 1.2
scaleTo: 1.2
total_frames: 17
animateFrameStart: 0
animateFrameEnd: 16
animateFrameSpeed: 0.22
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_水花]
image: ROOT:\共享文件\1类\水花.png
createWhenOverLiquid: true
createWhenOverLand: false
scaleFrom: 1
scaleTo: 1
total_frames: 6
animateFrameStart: 0
animateFrameEnd: 5
animateFrameSpeed: 0.2
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true
spawnChance: 0.3
ifSpawnFailsEmitEffects: CUSTOM:水花2


[effect_水花2]
@copyFromSection: effect_水花
image: ROOT:\共享文件\1类\水花2.png
ifSpawnFailsEmitEffects: CUSTOM:水花3


[effect_水花3]
@copyFromSection: effect_水花
image: ROOT:\共享文件\1类\水花3.png
spawnChance: 1


[effect_尾焰]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
image: ROOT:\共享文件\1类\尾烟.png
life: 45
fadeOut:true
color:#FFFFFF
fadeInTime: 3
scaleFrom: 2.5
scaleTo: 0
alpha: 1
#dirOffsetRandom: 180
xOffsetRelative: 0
yOffsetRelative: -10
atmospheric:true
#xSpeedAbsoluteRandom:0.4
#ySpeedAbsoluteRandom:0.1
attachedToUnit: false
drawUnderUnits:false
#shadow: true

================================================================================
// FILE_PATH: ./1同盟国联军/海军/驱逐舰2.ini
================================================================================


[core]
name: 驱逐舰2
copyFrom: 驱逐舰.ini
showInEditor: false


[graphics]
image:        驱逐舰2.png


[hiddenAction_4]
autoTrigger: if not self.transportingCount(empty=true)
convertTo: 驱逐舰
playSoundAtUnit: ROOT:\音频\语音+音效\vosplana.wav:2

================================================================================
// FILE_PATH: ./1同盟国联军/海军/两栖运输船.ini
================================================================================


[core]
name: 两栖运输船
price: 资金=1000
maxHp: 800
mass: 10000
radius: 35

copyFrom: ROOT:\共享文件\3类\阵营船舰共同.xxhq
tags: 原始护甲, 载具中甲, 装甲, 船坞维修, 两栖, 可空, 空下, 两栖运输船
#overrideAndReplace: hovercraft
displayText: Amphibious Transport
displayText_zh: 两栖运输船
displayDescription: Special: No attack ability.\nUsed to transport ground units across the sea.
displayDescription_zh: 特殊：无攻击能力\n运输作战单位过海
buildSpeed: 10s
fogOfWarSightRange: 10
transportSlotsNeeded: 99
maxTransportingUnits: 10
transportUnitsBlockOtherTransports: false  
soundOnMoveOrder: ROOT:\音频\语音+音效\vhoamoa.wav:2, ROOT:\音频\语音+音效\vhoamob.wav:2, ROOT:\音频\语音+音效\vhoamoc.wav:2, ROOT:\音频\语音+音效\vhoamod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vhoasea.wav:2, ROOT:\音频\语音+音效\vhoaseb.wav:2, ROOT:\音频\语音+音效\vhoasec.wav:2, ROOT:\音频\语音+音效\vhoased.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\载具\两栖运输船图标.png
image:        两栖运输船.png

drawLayer: ground
total_frames: 1
imageScale:	1.0
frame_width: 130
frame_height: 130
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 3
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: HOVER

moveSpeed: 1.55
moveAccelerationSpeed:0.06
moveDecelerationSpeed:0.1
maxTurnSpeed: 2.0
turnAcceleration: 0.5
targetHeight: 3
targetHeightDrift: 1.5
moveSlidingMode: true
moveIgnoringBody: true
moveSlidingDir: 180


[action_1]
@define slotId: 0
isVisible: if self.transportingCount(slot=${slotId}, greaterThan=0)
isActive: if not self.isOverwater() and not self.isMoving()
buildSpeed: 0s
text: unload
text_zh: 卸载
textAddUnitName: unitRef self.transporting(slot=${slotId})
description: Click to unload unit
description_zh: 点击卸载单位
displayType: action
unitShownInUI: unitRef self.transporting(slot=${slotId})
forceUnloadTransportNow:true
forceUnloadTransportNow_onlyOnSlot:${slotId}
#isActive: if self.height(lessThan=3)


[action_2]
@copyFromSection: action_1
@define slotId: 1


[action_3]
@copyFromSection: action_1
@define slotId: 2


[action_4]
@copyFromSection: action_1
@define slotId: 3


[action_5]
@copyFromSection: action_1
@define slotId: 4


[action_6]
@copyFromSection: action_1
@define slotId: 5


[action_7]
@copyFromSection: action_1
@define slotId: 6


[action_8]
@copyFromSection: action_1
@define slotId: 7


[action_9]
@copyFromSection: action_1
@define slotId: 8


[action_10]
@copyFromSection: action_1
@define slotId: 9


[hiddenAction_卸载声]
autoTrigger: if self.isTransportUnloading() and not self.isMoving()
playSoundAtUnit:  ROOT:\音频\语音+音效\gexit1a.wav:2
#showQuickWarLogToAllPlayers: 卸载


[hiddenAction_Ai卸载]
autoTrigger: if self.isControlledByAI() and not self.isOverwater() and self.hasTakenDamage(withinSeconds=1) and not self.transportingCount(empty=true)
forceUnloadTransportNow: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 反潜
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克空军
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避5]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='船坞') and not self.hasUnitInTeam(withTag='船坞', withinRange=100) and not self.hasActiveWaypoint(type='move') and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 船坞


[hiddenAction_初始价值]
addResources: 价值=20


[hiddenAction_两栖亡]
autoTrigger: false


[template_zijin]
price: 1000

================================================================================
// FILE_PATH: ./1同盟国联军/海军/海豚.ini
================================================================================


[core]
name: 海豚
price: 资金=650
maxHp: 220
mass: 5000
radius: 10

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq, ROOT:\共享文件\3类\水圈.xxhq, ROOT:\共享文件\3类\血溅.xxhq
displayText: Dolphin
displayText_zh: 海豚
displayDescription: Target: Underwater unit/Ground unit\nDamage creature: High \nDamage armor: Medium\nDamage building: Medium\nSpecial: Can spot and attack underwater units.\nNot attacked by enemies while underwater.\nWill float to the surface when found.
displayDescription_zh: 攻击目标：海下单位/海面单位/地面单位\n伤害生物：高\n伤害装甲：中\n伤害建筑：中\n特殊：可以发现并攻击海下隐藏单位(海雷/台风潜艇/巨型乌贼/海豚)\n被发现时会上浮水面，移动会产生水波
tags: 原始护甲, 步兵轻甲, 中级, 生物, 水下, 克生物, 海豚, 免疫心控, 免疫碾压, 潜水单位
#showOnMinimap: false
showOnMinimapToEnemies: false 
buildSpeed: 6s
isBio: true
fogOfWarSightRange: 12
effectOnDeath: CUSTOM:水花, CUSTOM:血溅
hideScorchMark: true
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 海豚
soundOnAttackOrder:  ROOT:\音频\语音+音效\vdolatca.wav:2, ROOT:\音频\语音+音效\vdolatcb.wav:2, ROOT:\音频\语音+音效\vdolatcc.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vdolmova.wav:2, ROOT:\音频\语音+音效\vdolmovb.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vdolsela.wav:2, ROOT:\音频\语音+音效\vdolselb.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vdoldiea.wav:2, ROOT:\音频\语音+音效\vdoldieb.wav:2


[graphics]
icon_build: ROOT:\单位图标\盟军\生物\海豚图标.png
image:        海豚.png

isVisibleToEnemies: false
imageScale:	1.0
total_frames: 12
frame_width: 70
frame_height: 70
#image_wreak:  NONE
animation_moving_start: 0
animation_moving_end: 5
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 4
animation_attack_start: 6
animation_attack_end: 11
animation_attack_speed: 4
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffect: NONE
#splastEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: if not self.tags(includes='禁止攻击')

canAttackNotTouchingWaterUnits: if not self.tags(includes='禁止攻击')
#isMelee: true
isFixedFiring: true
turretSize: 5
turretTurnSpeed: 6
maxAttackRange: 180
shootDelay: ${int(40*(1/gameSpeedRate))}


[movement]
movementType: WATER

moveSpeed: 2.0
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.1
maxTurnSpeed: 6
turnAcceleration: 6
targetHeight: -2
targetHeightDrift: 1
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\vdolatta.wav
shoot_sound_vol: 2.0
shoot_light:#FFEEEEEE


[projectile_1]
directDamage: 55
life: 60

image: 海豚声波.png
frame: 5
speed: 12
drawSize: 1.2
hitSound: true
lightCastOnGround: true
lightColor: #FF00F3F8
lightSize: 0.5
explodeEffect: NONE
#CUSTOM:小水花, CUSTOM:闪光
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.6
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.4
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.2


[hiddenAction_1]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) or numberOfUnitsInEnemyTeam(withTag='反潜', greaterThan=0, withinRange=300)
convertTo: 海豚2
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed
setUnitStats: moveSpeed=select(memory.移动速度!=0, memory.移动速度, ${movement.moveSpeed})*1.125


[hiddenAction_1级显示] 
autoTrigger: if self.tags(includes='1级') and self.z==0


[hiddenAction_2级显示] 
autoTrigger: if self.tags(includes='2级') and self.z==0


[hiddenAction_3级显示] 
autoTrigger: if self.tags(includes='3级') and self.z==0


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=210)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 180
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=200) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=200) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='船坞') and not self.hasUnitInTeam(withTag='船坞', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=200) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 船坞
#showMessageToAllPlayers: 触发5


[hiddenAction_初始价值]
addResources: 价值=20


[effect_小水花]
image: ROOT:\共享文件\1类\灰.png
createWhenOverLiquid: true
createWhenOverLand: false
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 6
alpha: 1.2
life: 60
hSpeed: 0.6
hOffsetRandom: 0.2
dirOffsetRandom: 180
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 3
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
#xOffsetRelative: 0
#yOffsetRelative: 0
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[effect_闪光]
#priority:critical
image: ROOT:\共享文件\1类\闪光.png
color: #FFFFFF
life: 10
scaleFrom: 0.4
scaleTo: 0.5
alpha: 1.5
fadeOut: true
fadeInTime: 2
drawUnderUnits: false
attachedToUnit: false
alwayStartDirAtZero: true
#dirOffset: 90
#xOffsetRelative: 0


[effect_水花]
image: ROOT:\共享文件\1类\水花.png
createWhenOverLiquid: true
createWhenOverLand: false
scaleFrom: 0.5
scaleTo: 0.5
total_frames: 6
animateFrameStart: 0
animateFrameEnd: 5
animateFrameSpeed: 0.2
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true
spawnChance: 0.3
ifSpawnFailsEmitEffects: CUSTOM:水花2


[effect_水花2]
@copyFromSection: effect_水花
image: ROOT:\共享文件\1类\水花2.png
ifSpawnFailsEmitEffects: CUSTOM:水花3


[effect_水花3]
@copyFromSection: effect_水花
image: ROOT:\共享文件\1类\水花3.png
spawnChance: 1


[template_zijin]
price: 650

================================================================================
// FILE_PATH: ./地图单位/归零资金.ini
================================================================================


[core]
name: 归零资金
copyFrom: 归零电力.ini


[hiddenAction_1]
setResourcesWithLogic: 资金=0

================================================================================
// FILE_PATH: ./地图单位/单位出场节点.ini
================================================================================


[core]
name: 单位出场节点
price: 0
maxHp: 1000
mass: 1000
radius: 10

tags: 单位出场节点, 节点
#createNeutral: true
#stayNeutral: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
isUnselectable: true
isBuilding: true
#showInEditor: false


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


#[hiddenAction_1] 
#autoTrigger: if self.timeAlive(laterThanSeconds=1)
#deleteSelf: true
#showMessageToAllPlayers: 删除



================================================================================
// FILE_PATH: ./地图单位/禁止生产基地车.ini
================================================================================


[core]
name: 禁止生产基地车
copyFrom: 禁止基地取消部署.ini


[hiddenAction_1]
addGlobalTeamTags: 禁止生产基地车

================================================================================
// FILE_PATH: ./地图单位/归零电力.ini
================================================================================


[core]
name: 归零电力
copyFrom: 地图单位模板.xxhq


[hiddenAction_1]
autoTriggerOnEvent: created
setResourcesWithLogic: 电力=0
deleteSelf: true

================================================================================
// FILE_PATH: ./地图单位/减少资金2.ini
================================================================================


[core]
name: 减少资金2
copyFrom: 减少资金.ini


[hiddenAction_1]
addResources: 资金=-10000

================================================================================
// FILE_PATH: ./地图单位/增加电力2.ini
================================================================================


[core]
name: 增加电力2
copyFrom: 增加电力.ini


[hiddenAction_1]
addResources: 电力=100

================================================================================
// FILE_PATH: ./地图单位/总体科技限制2.ini
================================================================================


[core]
name: 总体科技限制2
price: 0
maxHp: 1000
mass: 1000
radius: 10

tags: 科技限制2
#createNeutral: true
#stayNeutral: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
isUnselectable: true
isBuilding: true
#showInEditor: false


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND


#[hiddenAction_1] 
#autoTrigger: if self.timeAlive(laterThanSeconds=1)
#deleteSelf: true
#showMessageToAllPlayers: 删除


[ai]
useAsBuilder: true

================================================================================
// FILE_PATH: ./地图单位/增加电力.ini
================================================================================


[core]
name: 增加电力
copyFrom: 地图单位模板.xxhq


[hiddenAction_1]
autoTriggerOnEvent: created
addResources: 电力=10
deleteSelf: true

================================================================================
// FILE_PATH: ./地图单位/增加资金.ini
================================================================================


[core]
name: 增加资金
copyFrom: 地图单位模板.xxhq


[hiddenAction_1]
autoTriggerOnEvent: created
addResources: 资金=100
deleteSelf: true

================================================================================
// FILE_PATH: ./地图单位/禁止卖建筑.ini
================================================================================


[core]
name: 禁止卖建筑
copyFrom: 禁止基地取消部署.ini


[hiddenAction_1]
addGlobalTeamTags: 禁止卖建筑

================================================================================
// FILE_PATH: ./地图单位/增加资金2.ini
================================================================================


[core]
name: 增加资金2
copyFrom: 增加资金.ini


[hiddenAction_1]
addResources: 资金=1000

================================================================================
// FILE_PATH: ./地图单位/设置血量.ini
================================================================================


[core]
name: 设置血量
copyFrom: 地图单位模板.xxhq
tags: 设置血量


[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=1)
deleteSelf: true


[hiddenAction_设置-血量]
autoTrigger: false


[hiddenAction_设置-血量2]
autoTrigger: false

================================================================================
// FILE_PATH: ./地图单位/减少资金.ini
================================================================================


[core]
name: 减少资金
copyFrom: 地图单位模板.xxhq


[hiddenAction_1]
autoTriggerOnEvent: created
addResources: 资金=-100
deleteSelf: true


================================================================================
// FILE_PATH: ./地图单位/设置血量2.ini
================================================================================


[core]
name: 设置血量2
copyFrom: 设置血量.ini
tags: 设置血量2

================================================================================
// FILE_PATH: ./地图单位/删除所有单位.ini
================================================================================


[core]
name: 删除所有单位
copyFrom: 地图单位模板.xxhq


[hiddenAction_1]
autoTriggerOnEvent: created
switchToAggressiveTeam: true
temporarilyAddTags: 沙盒清除
alsoQueueAction: 2


[hiddenAction_2]
buildSpeed: 1s
deleteSelf: true


[hiddenAction_沙盒清除]
autoTrigger: false

================================================================================
// FILE_PATH: ./地图单位/禁止基地取消部署.ini
================================================================================


[core]
name: 禁止基地取消部署
copyFrom: 地图单位模板.xxhq


[hiddenAction_1]
autoTriggerOnEvent: created
addGlobalTeamTags: 禁止基地取消部署
deleteSelf: true

================================================================================
// FILE_PATH: ./地图单位/总体科技限制.ini
================================================================================


[core]
name: 总体科技限制
price: 0
maxHp: 1000
mass: 1000
radius: 10

tags: 科技限制
#createNeutral: true
#stayNeutral: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
isUnselectable: true
isBuilding: true
#showInEditor: false


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND


#[hiddenAction_1] 
#autoTrigger: if self.timeAlive(laterThanSeconds=1)
#deleteSelf: true
#showMessageToAllPlayers: 删除


[ai]
useAsBuilder: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–支持/工业工厂.ini
================================================================================


[core]
name: 工业工厂
price: 0
maxHp: 1100
mass: 50000
radius: 50

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq
tags: 原始护甲, 建筑重甲, 建筑, 可入侵, 加资金, 工业工厂, 空下, 带扩展建筑
displayText: Soviet Industrial Plant
displayText_zh:  工业工厂
displayDescription: Get 25 funds every 1 seconds\nFunds: -3000\nPower: -200\nStop when power is insufficient
displayDescription_zh: 每隔1秒获取25资金\n资金花费：3000\n电力占用：200\n电力不足时停止产能
borrowResourcesWhileAlive: 电力=200
footprint: -2,0,3,1
displayFootprint: -3,-1,4,2
constructionFootprint: -3,-1,4,2
isBuilding: true
techLevel: 2
buildSpeed: 0
selfBuildRate: 1s
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\工厂图标.png
image:        工业工厂.png

default_frame: 10
total_frames: 14
imageScale: 1.02
#image_offsetX:15
image_offsetY:-25
animation_idle_start: 10
animation_idle_end: 10
animation_idle_speed: 1
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[turret_烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 烟


[projectile_烟]
directDamage: 0
life: 60

invisible: true
trailEffect: CUSTOM:烟, CUSTOM:烟2
trailEffectRate: 14
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog:true


[hiddenAction_1]
autoTrigger: if self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击') and not self.hasFlag(id=29)
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100
playAnimation: 运转


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=50, offsetRandomY=50)


[action_转换队伍]
isVisible: false


[hiddenAction_初始价值]
addResources: 价值=60


[animation_运转]
body_0s: {frame:10}
body_1s: {frame:13}


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:9}


[effect_电力]
#scaleFrom:2.5
#scaleTo:2.5
xOffsetRelative: 0
yOffsetRelative: 60


[effect_烟]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #7FFFFFFF
fadeInTime: 11
scaleFrom: 0.5
scaleTo: 2
alpha: 0.75
life: 240
hOffset: 127
hSpeed:0.3
xSpeedAbsolute: -0.2
dirOffsetRandom:180
xOffsetRelative: -15
#yOffsetRelative: 50
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 2
#xSpeedAbsoluteRandom:0.05
#ySpeedAbsoluteRandom:0.1
atmospheric:true
shadow:true
fadeOut: true
attachedToUnit: false
drawUnderUnits:false


[effect_烟2]
@copyFromSection: effect_烟
xOffsetRelative: 0
yOffsetRelative: -5


[effect_土坑2]
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 3000
@global dianli: -200


[ai]
noneInBaseExtraPriority: 0.2
#0.10
#noneGlobalExtraPriority:0.10
maxGlobal: 1

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–支持/苏联基地防御爆发.ini
================================================================================


[core]
name: 苏联基地防御爆发
copyFrom: 苏联基地防御.ini
showInEditor: false
nanoFactorySpeed: 1.5


[hiddenAction_生产减缓]
autoTrigger: false
convertTo: 苏联基地防御
convertTo_keepCurrentTags: true


[hiddenAction_生产爆发]
autoTrigger: if not self.globalTeamTags(includes="工业爆发")
convertTo: 苏联基地防御
convertTo_keepCurrentTags: true


[hiddenAction_工业爆发效果显示] 
autoTrigger: true
spawnEffects: CUSTOM:工业爆发效果


[effect_工业爆发效果]
image: ROOT:\共享文件\1类\工业爆发.png
scaleFrom: 1
scaleTo: 1
alpha: 1.2
life: 65
#hOffset: 35
fadeInTime: 30
fadeOut: true
attachedToUnit: true
drawUnderUnits: false
alwayStartDirAtZero: true
liveAfterAttachedDies: false



================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–支持/苏联维修站.ini
================================================================================


[core]
name: 苏联维修站
price: 0
maxHp: 750
mass: 20000
radius: 40

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq
displayText: Soviet Service Depot
displayText_zh: 苏联维修站
displayDescription: Repair and recover vehicles.\nRepair mode can remove Terror Drone attached to vehicles.\nFunds: -900\nPower: -100
displayDescription_zh: 维修和回收载具\n维修模式可清除附着载具的恐怖机器人\n资金花费：900\n电力占用：100
tags: 原始护甲, 建筑防甲, 建筑, 维修, 占领, 苏联维修站, 可入侵, 空下, 带扩展建筑
borrowResourcesWhileAlive: 电力=100
footprint: -4,-1,0,0
displayFootprint: -4,-2,2,1
constructionFootprint: -4,-2,2,1
isBuilding: true
buildSpeed: 0
selfBuildRate: 1s
maxTransportingUnits: 1
transportUnitsRequireTag: 装甲
transportUnitsBlockOtherTransports: false
transportUnitsKillOnDeath: false
transportUnitsHealBy: 1.0
transportUnitsEachUnitAlwaysUsesSingleSlot: true
exit_x: 0
exit_y: 0
exit_dirOffset: 116
#exit_moveAwayAmount:100
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7
@memory 保留进度:float
@memory 保留单位:unit


[placementRule_建造规则]
searchTeam: own
searchDistance: 360


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 360


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\苏联维修站图标.png
image:        苏联维修站.png

default_frame: 8
total_frames: 23
imageScale: 1.02
image_offsetX: -30
image_offsetY: -55
animation_idle_start: 9
animation_idle_end: 9
animation_idle_speed: 1
whenBeingBuiltMakeTransparentTill: 0
showTransportBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[arm_1]
x: -30
y: 55

#drawOverBody: false
drawUnderAllUnits: true
hidden: if self.timeAlive(withinSeconds=1) or (not self.queueSize(empty=true) and memory.保留单位==nullUnit)
image_end: 苏联维修站底.png


[attachment_1]
x: 0
y: 0

canAttack: true
isUnselectable: false
#idleDir: 180
#lockRotation: true
keepAliveWhenParentDies: true
canBeAttackedAndDamaged: true
addTransportedUnits: true
unloadInCurrentPosition: true
deattachIfWantingToMove:true


[hiddenAction_冷冻卸载]
autoTrigger: if self.tags(includes='禁止攻击') and not self.transportingCount(empty=true)
startUnloadingTransport: true


[hiddenAction_1]
autoTrigger: if not self.transportingCount(empty=true) and (not self.tags(includes='改装') or not self.queueSize(empty=true)) and self.resource(type="电力",greaterThan=0) and self.resource(type='入侵计时', empty=true) and self.customTimer(laterThanSeconds=2)
playAnimation: 进行
playSoundAtUnit: ROOT:\音频\语音+音效\vifvrepa.wav:2
spawnEffects: CUSTOM:修理, CUSTOM:闪光2, CUSTOM:闪光
resetCustomTimer: true
#showMessageToAllPlayers: 触发


[hiddenAction_2]
autoTrigger: if not self.transportingCount(empty=true) and not self.tags(includes='改装') and (not self.resource(type="电力",greaterThan=0) or not self.resource(type='入侵计时', empty=true))
startUnloadingTransport: true


[hiddenAction_3]
autoTrigger: if self.transportingUnitWithTags(includes='禁入') and not self.tags(includes='清除') and self.resource(type="电力",greaterThan=0)
temporarilyAddTags: 清除
#showMessageToAllPlayers: 清清1


[hiddenAction_4]
autoTrigger: if not self.transportingUnitWithTags(includes='禁入') and self.tags(includes='清除')
temporarilyRemoveTags: 清除


[action_10]
text: Repair
text_zh: 维修模式
description: Only repair damaged vehicles.
description_zh: 只能维修受损载具
buildSpeed: 0s
autoTrigger: if ((not self.resource(type='电力', greaterThan=0) and not self.tags(includes='改装')) or numberOfUnitsInTeam(withTag='改装', greaterThan=1)) and not self.hasFlag(id=2)
isActive: if not self.hasFlag(id=2) and self.queueSize(empty=true)
addResources: setFlag=2
autoTriggerOnEvent: created
temporarilyRemoveTags: 回收, 改装


[action_11]
text: Recycle
text_zh: 回收模式
description: Recycle the vehicle returns half of the funds and a driver
description_zh: 回收载具，可获得原价一半的资金和一个%{select(self.globalTeamTags(includes='苏联'), '动员兵', '防卫大兵')}(驾驶员)
buildSpeed: 0s
isActive: if not self.tags(includes='回收') and self.resource(type='电力', greaterThan=0) and self.queueSize(empty=true)
addResources: unsetFlag=2
temporarilyAddTags: 回收
temporarilyRemoveTags: 改装


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_初始价值]
addResources: 价值=30, 进度=101


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[animation_进行]
body_0s: {frame:9}
body_2s: {frame:22}


[effect_土坑2]
xOffsetRelativeRandom: 50
yOffsetRelativeRandom: 50


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_修理]
image: ROOT:\共享文件\1类\灰.png
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 6
alpha: 1.2
life: 60
hSpeed: 0.6
hOffsetRandom: 0.2
dirOffsetRandom: 180
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 3
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[effect_闪光]
#priority:critical
image: ROOT:\共享文件\1类\闪光.png
color: #FFFFFF
life: 8
scaleFrom: 0.4
scaleTo: 0.5
alpha: 1.5
fadeOut: true
fadeInTime: 2
drawUnderUnits: false
attachedToUnit: false
alwayStartDirAtZero: true
atmospheric: false
#dirOffset: 90
#xOffsetRelative: 0
xOffsetRelativeRandom: 0.6
yOffsetRelativeRandom: 0.6
xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5


[effect_闪光2]
@copyFromSection: effect_闪光
#priority:veryhigh
color: #FFAA00
life: 10
scaleFrom: 1.1
scaleTo: 1.2
alpha: 1
xOffsetRelativeRandom: 1.2
yOffsetRelativeRandom: 1.2
xSpeedAbsoluteRandom: 0.75
ySpeedAbsoluteRandom: 0.75
showInFog: true


[template_zijin]
price: 900
@global dianli: -100


[ai]
buildPriority: 0.2
recommendedInEachBaseNum: 1
recommendedInEachBasePriorityIfUnmet: 0.2
noneInBaseExtraPriority: 0.3
maxEachBase: 1


[resource_进度]
displayName: 进度

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–支持/雷达.ini
================================================================================


[core]
name: 雷达
price: 0
maxHp: 900
mass: 50000
radius: 20

#overrideAndReplace: repairBay
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条4.xxhq
tags: 原始护甲, 建筑, 科技, 占领, 雷达, 可入侵, 建筑轻甲, 带扩展建筑
displayText: Soviet Radar
displayText_zh: 雷达
displayDescription: High Tech Access\nPower: -150
displayDescription_zh: 解锁科技单位\n电力占用：150
borrowResourcesWhileAlive: 电力=150
footprint: -2,0,2,1
displayFootprint: -2,-1,2,1
constructionFootprint: -2,-1,2,1
isBuilding: true
techLevel: 1
buildSpeed: 0
selfBuildRate: 1s
fogOfWarSightRange: 40
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁


[placementRule_建造规则]
searchTeam: own
searchDistance: 280


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 280


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\雷达图标.png
image:        雷达.png

default_frame: 29
total_frames: 38
imageScale: 1.1
image_offsetX: 0
image_offsetY: -30
image_shadow: AUTO
#_ANIMATED
#ROOT:\共享文件\1类\阴影4.png
shadowOffsetX:0
shadowOffsetY:-30
animation_idle_start: 15
animation_idle_end: 37
animation_idle_speed: 10
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_初始价值]
addResources: 价值=50


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:14}


[effect_土坑2]
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: NONE


[template_zijin]
price: 1000


[ai]
buildPriority: 0.02
noneInBaseExtraPriority: 0.2
recommendedInEachBaseNum: 1
recommendedInEachBasePriorityIfUnmet: 0.1

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–支持/苏联磁能反应炉.ini
================================================================================


[core]
name: 苏联磁能反应炉
price: 0
maxHp: 700
mass: 10000
radius: 35

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条4.xxhq
tags: 原始护甲, 建筑轻甲, 建筑, 电力, 占领, 可入侵, 苏联磁能反应炉, 空下, 带扩展建筑, 电厂
displayText: Soviet Tesla Reactor
displayText_zh: 苏联磁能反应炉
displayDescription: Funds: -600\nPower: +150
displayDescription_zh: 资金花费：600\n电力提供：150
borrowResourcesWhileAlive: 电力=-150
fogOfWarSightRange: 6
isBuilding: true
footprint: -2,0,1,0
displayFootprint: -3,-1,2,1
constructionFootprint: -3,-1,2,1
buildSpeed: 0
selfBuildRate: 1s
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁2, CUSTOM:漏电
soundOnDeath: ROOT:\音频\语音+音效\bpowdiea.wav:2, ROOT:\音频\语音+音效\bpowdieb.wav:2
@memory 保存电力:float


[placementRule_建造规则]
searchTeam: own
searchDistance: 280


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 280


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='苏俄') and not self.hasUnitInTeam(withTag='阵营特色限制')
addResources: 电力=150
setUnitMemory: 保存电力=memory.保存电力+150


[hiddenAction_阵营特色buff电毁]
autoTriggerOnEvent: destroyed
addResourcesWithLogic: 电力=0-memory.保存电力


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\磁能反应炉图标.png
image:        苏联磁能反应炉.png

default_frame: 10
total_frames: 16
imageScale:	1.02
image_offsetX: -25
image_offsetY: -35
animation_idle_start: 10
animation_idle_end: 15
animation_idle_speed: 8
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_1]
autoTrigger: if not self.resource(type='入侵计时', empty=true) and self.resource(type='停电计时', empty=true)
addResources: 电力=-1000000
setResourcesWithLogic: 停电计时=90, 入侵计时=0
addGlobalTeamTags: 入侵停电
showMessageToPlayer: System warning: The power system is damaged by enemy infiltrating, need to wait 90 seconds to recover
showMessageToPlayer_zh: 系统警告：电力系统被敌人入侵破坏，需要等待90秒后恢复
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_2]
autoTrigger: if not self.resource(type='入侵计时', empty=true) and not self.resource(type='停电计时', empty=true)
setResourcesWithLogic: 停电计时=90, 入侵计时=0
showMessageToPlayer: System warning: The power system is again destroyed by the enemy, and the power cut is reset.
showMessageToPlayer_zh: 系统警告：电力系统再次被敌人入侵破坏，停电计时重置
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_冷冻停电]
autoTrigger: if self.tags(includes='禁止攻击') and not self.tags(includes='冷冻停电')
temporarilyAddTags: 冷冻停电
addResources: 电力=-150


[hiddenAction_冷冻停电2]
autoTrigger: if self.tags(includes='冷冻停电') and not self.tags(includes='禁止攻击')
temporarilyRemoveTags: 冷冻停电
addResources: 电力=150


[hiddenAction_飞碟停电]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='入侵模块', withinRange=40, greaterThan=0) and not self.tags(includes='飞碟停电')
temporarilyAddTags: 飞碟停电
addResourcesWithLogic: 电力=-150


[hiddenAction_飞碟停电2]
autoTrigger: if not numberOfUnitsInEnemyTeam(withTag='入侵模块', withinRange=40, greaterThan=0) and self.tags(includes='飞碟停电')
temporarilyRemoveTags: 飞碟停电
addResourcesWithLogic: 电力=150


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_初始价值]
addResources: 价值=40


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:9}


[effect_土坑2]
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1
scaleTo: 1
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
#xOffsetRelative: -10
#yOffsetRelative: 0
#xOffsetRelativeRandom:  15
#yOffsetRelativeRandom:  10
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁2]
image: ROOT:\共享文件\1类\爆炸3.png
scaleFrom: 1
scaleTo: 1
total_frames: 21
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelative: 20
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_漏电]
image: ROOT:\共享文件\1类\漏电.png
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 9
animateFrameStart: 0
animateFrameEnd: 8
animateFrameSpeed: 0.15
xOffsetRelative: -10
yOffsetRelative: 5
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 600
@global dianli: 150


[ai]
buildPriority: 0.05
recommendedInEachBaseNum: 4
recommendedInEachBasePriorityIfUnmet: 0.2
noneInBaseExtraPriority:0.4
maxEachBase: 14

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–支持/苏联基地停电.ini
================================================================================


[core]
name: 苏联基地停电
copyFrom: 苏联基地.ini
showInEditor: false

nanoFactorySpeed: 0.75


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 苏联基地
convertTo_keepCurrentTags: true
temporarilyRemoveTags: 无电力

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–支持/宫殿.ini
================================================================================


[core]
name: 宫殿
price: 0
maxHp: 1500
mass: 50000
radius: 50

#overrideAndReplace: repairBay
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq
tags: 原始护甲, 建筑轻甲, 建筑, 科技, 占领, 宫殿, 可入侵, 空下, 苏联高科技共用, 带扩展建筑, 高科资金
displayText: Russian Battle Lab
displayText_zh: 苏联作战实验室
displayDescription: High Tech Access\nFunds: -5000\nPower: -300
displayDescription_zh: 解锁科技单位\n资金花费：5000\n电力占用：300
borrowResourcesWhileAlive: 电力=300
footprint: -2,0,2,1
displayFootprint: -3,-1,3,2
constructionFootprint: -3,-1,3,2
isBuilding: true
techLevel: 2
buildSpeed: 0
selfBuildRate: 1s
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\苏联作战实验室图标.png
image:        宫殿.png

default_frame: 8
total_frames: 9
imageScale: 1.02
#image_offsetX: -10
image_offsetY: -30
animation_idle_start: 8
animation_idle_end: 8
animation_idle_speed: 1
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_初始价值]
addResources: 价值=100


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[effect_土坑2]
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60


[effect_资金]
life: 150
fadeOut: true
fadeInTime: 5
image: ROOT:\共享文件\1类\资金加.png
scaleTo: 1.0
scaleFrom: 1.0
alpha: 1.2
attachedToUnit:false
ySpeedAbsolute: -0.25
yOffsetRelative: 40
alwayStartDirAtZero:true


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 4000
@global dianli: -300


[ai]
buildPriority: 0.02
noneInBaseExtraPriority: 0.2
recommendedInEachBaseNum: 1
recommendedInEachBasePriorityIfUnmet: 0.1

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–支持/苏联矿厂.ini
================================================================================


[core]
name: 苏联矿厂
price: 0
maxHp: 1000
mass: 50000
radius: 35

#overrideAndReplace: extractor
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq
tags: 原始护甲, 建筑重甲, 建筑, 矿厂, 占领, 苏联矿厂, 空下, 带扩展建筑
displayText: Soviet Ore Refinery
displayText_zh: 苏联矿厂
displayDescription: Processing mineral.\nDeploys a free War Miner when built.\nFunds: -2000\nPower: -40
displayDescription_zh: 主要经济来源\n自带一个矿车\n需要矿车运来矿物获取资金\n资金花费：2000\n电力占用：40
borrowResourcesWhileAlive: 电力=40
fogOfWarSightRange: 6
isBuilding: true
footprint: -5,-2,0,-1
displayFootprint: -6,-3,1,1
constructionFootprint: -6,-3,1,1
buildSpeed: 0
selfBuildRate: 1s
maxTransportingUnits: 1
transportUnitsEachUnitAlwaysUsesSingleSlot: true
transportUnitsRequireTag: 矿车
exit_x:  0
exit_y:  0
exit_dirOffset: 120
exit_moveAwayAmount: 80
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\苏联矿场图标.png
image:        苏联矿厂.png

default_frame: 10
total_frames: 13
imageScale:	1.02
image_offsetX: -55
image_offsetY: -70
animation_idle_start: 10
animation_idle_end: 12
animation_idle_speed: 10
whenBeingBuiltMakeTransparentTill: 0
showTransportBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[turret_烟]
x: 30
y: -15

canShoot: false
warmup: 20
projectile: 烟


[projectile_烟]
directDamage: 0
life: 60

invisible: true
trailEffect: CUSTOM:灰, CUSTOM:烟, CUSTOM:烟2, CUSTOM:烟3
trailEffectRate: 14
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog:true


[attachment_装载]
x: 0
y: 0
canAttack: false
idleDir: 135
lockRotation: true
isUnselectable: false
canBeAttackedAndDamaged: true
addTransportedUnits: true
keepAliveWhenParentDies: true
#deattachIfWantingToMove: true
onParentTeamChangeKeepCurrentTeam: true


[hiddenAction_开始]
autoTriggerOnEvent: created
spawnUnits: 苏联矿车
#produceUnits: 苏联矿车


[hiddenAction_拿资源]
autoTrigger: if self.numberOfAttachedUnits(withTag='矿车', greaterThan=0) and not self.tags(includes='禁止攻击')
takeResources: 矿石=1, 矿石2=1
takeResources_includeUnitsInTransport: true
takeResources_directTransferStoppingAtZero: true
#takeResources_triggerActionIfAnyCollected: 转化
takeResources_triggerActionIfNoneCollected: 卸载


[hiddenAction_转化]
autoTrigger: if self.resource(type='矿石', greaterThan=0) and not numberOfUnitsInTeam(withTag='矿石精炼器', greaterThan=0)
convertResource_from: 矿石
convertResource_to: 资金
convertResource_maxAmount: 0.01
convertResource_multiplyAmountBy: 10000
playAnimation: 处理矿
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100


[hiddenAction_转化2]
autoTrigger: if self.resource(type='矿石2', greaterThan=0) and not numberOfUnitsInTeam(withTag='矿石精炼器', greaterThan=0)
convertResource_from: 矿石2
convertResource_to: 资金
convertResource_maxAmount: 0.01
convertResource_multiplyAmountBy: 20000


[hiddenAction_转化3]
autoTrigger: if self.resource(type='矿石', greaterThan=0) and numberOfUnitsInTeam(withTag='矿石精炼器', greaterThan=0)
convertResource_from: 矿石
convertResource_to: 资金
convertResource_maxAmount: 0.01
convertResource_multiplyAmountBy: 12500
playAnimation: 处理矿
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100


[hiddenAction_转化4]
autoTrigger: if self.resource(type='矿石2', greaterThan=0) and numberOfUnitsInTeam(withTag='矿石精炼器', greaterThan=0)
convertResource_from: 矿石2
convertResource_to: 资金
convertResource_maxAmount: 0.01
convertResource_multiplyAmountBy: 25000


[hiddenAction_卸载]
startUnloadingTransport: true


[hiddenAction_矿厂空]
autoTrigger: if self.transportingCount(empty=true) and not self.tags(includes='矿厂空')
temporarilyAddTags: 矿厂空
#showMessageToAllPlayers: 产生矿厂空


[hiddenAction_矿厂空2]
autoTrigger: if not self.transportingCount(empty=true) and self.tags(includes='矿厂空')
temporarilyRemoveTags: 矿厂空
#showMessageToAllPlayers: 取消矿厂空


[hiddenAction_1]
autoTrigger: if self.resource(type='入侵计时', greaterThan=0)
showMessageToPlayer_zh: 系统警告：我方矿厂被敌人入侵，资金减少5000
showMessageToPlayer: System warning: Our Ore Refinery was infiltrated by the enemy, and the funds were reduced by 5000!
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2
addResources: 入侵计时=-1


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_初始价值]
addResources: 价值=80


[action_卖钱]
description: Sell? Return funds: %{int(${template_zijin.price-1550}*(self.hp/self.maxHp))}
description_zh: 卖掉，将获得资金：%{int(${template_zijin.price-1550}*(self.hp/self.maxHp))}


[hiddenAction_卖钱4]
addResourcesWithLogic: 资金=int(${template_zijin.price-1550}*(self.hp/self.maxHp))


[hiddenAction_微资金]
autoTrigger: if self.customTimer(laterThanSeconds=1)
addResources: 资金=5


[hiddenAction_入侵飞碟入侵]
autoTrigger: if self.resource(type='入侵计时2', greaterThan=0)
addResources: 入侵计时2=-1, 资金=-200


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:9}


[animation_处理矿]
body_0s: {frame:10}
body_1s: {frame:12}


[effect_灰]
image: ROOT:\共享文件\1类\灰.png
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 2.2
alpha: 1.2
life: 120
hSpeed: 0.4
hOffsetRandom: 0.2
dirOffsetRandom:180
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 3
xSpeedAbsoluteRandom:0.1
ySpeedAbsoluteRandom:0.1
xOffsetRelative: -45
yOffsetRelative: 40
fadeInTime: 1
fadeOut: true
attachedToUnit: false
drawUnderUnits:false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.1
atmospheric:true


[effect_烟]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #9FFFFFFF
shadow:true
scaleFrom: 0.5
scaleTo: 2
alpha: 0.75
life: 240
hSpeed:0.3
xSpeedAbsolute: -0.2
hOffsetRandom:0.15
xOffsetRelative: -45
yOffsetRelative: 45
dirOffsetRandom:180
xOffsetRelativeRandom: 4
yOffsetRelativeRandom: 2
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.1
fadeInTime: 6
fadeOut: true
drawUnderUnits:false
attachedToUnit: false
atmospheric:true


[effect_烟2]
@copyFromSection: effect_烟
hOffsetRandom:0
hOffset: 70
xOffsetRelative: -100
yOffsetRelative: 73
xOffsetRelativeRandom: 2
fadeInTime: 11


[effect_烟3]
@copyFromSection: effect_烟
hOffsetRandom:0
hOffset: 70
xOffsetRelative: -45
yOffsetRelative: 80
xOffsetRelativeRandom: 2
fadeInTime: 11


[effect_电力]
#scaleFrom:2.5
#scaleTo:2.5
xOffsetRelative: -40
yOffsetRelative: 35


[effect_土坑]
xOffsetRelative: -45
yOffsetRelative: 10


[effect_土坑2]
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[resource_矿石]
displayName: 矿石


[resource_矿石2]
displayName: 矿石2


[template_zijin]
price: 2000
@global dianli: -40


[ai]
buildPriority: 0.13
recommendedInEachBaseNum: 2
recommendedInEachBasePriorityIfUnmet: 0.3
noneInBaseExtraPriority:0.5
maxEachBase: 3

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–支持/苏联核能发电炉.ini
================================================================================


[core]
name: 苏联核能发电炉
price: 0
maxHp: 1400
mass: 50000
radius: 50

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq
tags: 原始护甲, 建筑重甲, 建筑, 电力, 占领, 可入侵, 空下, 苏联核能发电炉, 带扩展建筑, 辐射死人, 电厂, 核子反应炉
displayText: Soviet Nuclear Reactor
displayText_zh: 苏联核能发电炉
displayDescription: A big explosion will occur when destroyed!\nFunds: -2000\nPower: +2000
displayDescription_zh: 被摧毁会发生大爆炸!\n资金花费：2000\n电力提供：2000
borrowResourcesWhileAlive: 电力=-2000
fogOfWarSightRange: 8
isBuilding: true
footprint: -3,0,2,1
displayFootprint: -4,-1,3,2
constructionFootprint: -4,-1,3,2
buildSpeed: 0
selfBuildRate: 1s
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁
fireTurretXAtSelfOnDeath: 1
soundOnDeath: ROOT:\音频\语音+音效\snukexpl.wav:2
@memory 保存电力:float


[placementRule_建造规则]
searchTeam: own
searchDistance: 360


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 360


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='伊朗') and not self.hasUnitInTeam(withTag='阵营特色限制')
addResources: 电力=500
setUnitMemory: 保存电力=memory.保存电力+500


[hiddenAction_阵营特色buff电毁]
autoTriggerOnEvent: destroyed
addResourcesWithLogic: 电力=0-memory.保存电力


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\核电站图标.png
image:        苏联核能发电炉.png

default_frame: 8
total_frames: 15
imageScale:	1.02
image_offsetX: -30
image_offsetY: -40
animation_idle_start: 9
animation_idle_end: 14
animation_idle_speed: 12
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

maxAttackRange: 200
showRangeUIGuide: true


[movement]
movementType: BUILDING


[turret_1]
x: 0
y: 0


[projectile_1]
spawnProjectilesOnEndOfLife: 2
areaDamage: 500
life: 0

areaRadius: 180
areaExpandTime: 15
targetGround:true
explodeOnEndOfLife:true
#instant: true
friendlyFire: true
areaHitAirAndLandAtSameTime: true
#largeHitEffect: true
explodeEffect: CUSTOM:核辐射
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.6
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.0
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.8
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.2
#mutator23_ifUnitWithTags: 导弹
#mutator23_areaDamageMultiplier: 1
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 0.2
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.2
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.2
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.2


[projectile_2]
spawnProjectilesOnExplode: 2(recursionLimit=600)
areaDamage: 3
#100
life: 60

drawSize: 0
areaRadius: 200
explodeOnEndOfLife: true
friendlyFire: true
explodeEffect: NONE
buildingDamageMultiplier: 0
mutator0_ifUnitWithTags: 免辐射, 人尸
mutator0_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.2
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.1
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.1
#delayedStartTimer: 0.5s


[hiddenAction_1]
autoTrigger: if not self.resource(type='入侵计时', empty=true) and self.resource(type='停电计时', empty=true)
addResources: 电力=-1000000
setResourcesWithLogic: 停电计时=120, 入侵计时=0
addGlobalTeamTags: 入侵停电
showMessageToPlayer: System warning: The power system is damaged by enemy infiltrating, need to wait 120 seconds to recover
showMessageToPlayer_zh: 系统警告：电力系统被敌人入侵破坏，需要等待120秒后恢复
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_2]
autoTrigger: if not self.resource(type='入侵计时', empty=true) and not self.resource(type='停电计时', empty=true)
setResourcesWithLogic: 停电计时=120, 入侵计时=0
showMessageToPlayer: System warning: The power system is again destroyed by the enemy, and the power cut is reset.
showMessageToPlayer_zh: 系统警告：电力系统再次被敌人入侵破坏，停电计时重置
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_冷冻停电]
autoTrigger: if self.tags(includes='禁止攻击') and not self.tags(includes='冷冻停电')
temporarilyAddTags: 冷冻停电
addResources: 电力=-2000


[hiddenAction_冷冻停电2]
autoTrigger: if self.tags(includes='冷冻停电') and not self.tags(includes='禁止攻击')
temporarilyRemoveTags: 冷冻停电
addResources: 电力=2000


[hiddenAction_飞碟停电]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='入侵模块', withinRange=40, greaterThan=0) and not self.tags(includes='飞碟停电')
temporarilyAddTags: 飞碟停电
addResourcesWithLogic: 电力=-2000


[hiddenAction_飞碟停电2]
autoTrigger: if not numberOfUnitsInEnemyTeam(withTag='入侵模块', withinRange=40, greaterThan=0) and self.tags(includes='飞碟停电')
temporarilyRemoveTags: 飞碟停电
addResourcesWithLogic: 电力=2000


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_初始价值]
addResources: 价值=75


[hiddenAction_能源过载损坏]
autoTrigger: if self.globalTeamTags(includes='能源过载开启')
addResources: 资金=150, hp=-100
spawnEffects: CUSTOM:能源过载效果


[hiddenAction_能源过载保险]
autoTriggerOnEvent: destroyed
requireConditional:  if self.globalTeamTags(includes='能源过载开启')
removeGlobalTeamTags: 能源过载开启


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[effect_能源过载效果]
image: ROOT:\共享文件\1类\能源过载.png
scaleFrom: 1.0
scaleTo: 1.0
alpha: 1.2
life: 65
#hOffset: 35
fadeInTime: 30
fadeOut: true
attachedToUnit: true
drawUnderUnits: false
alwayStartDirAtZero: true
liveAfterAttachedDies: false


[effect_核辐射]
image: ROOT:\共享文件\1类\核辐射.png
scaleFrom: 5
scaleTo: 1
life: 780
alpha: 1
fadeOut: true
drawUnderUnits: true
alwayStartDirAtZero: true
attachedToUnit: false


[effect_土坑2]
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60


[effect_炸毁]
image: ROOT:\共享文件\1类\核爆.png
life: 600
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 58
animateFrameStart: 0
animateFrameEnd: 57
animateFrameSpeed: 0.35
alwayStartDirAtZero: true
#yOffsetRelative: 100
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 2000
@global dianli: 2000


[ai]
noneInBaseExtraPriority: 0.4
#noneGlobalExtraPriority:0.10
recommendedInEachBaseNum: 2
recommendedInEachBasePriorityIfUnmet: 0.2
maxGlobal: 3

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–支持/苏联基地爆发.ini
================================================================================


[core]
name: 苏联基地爆发
copyFrom: 苏联基地.ini
showInEditor: false

nanoFactorySpeed: 1.5


[hiddenAction_生产减缓]
autoTrigger: false
convertTo: 苏联基地
convertTo_keepCurrentTags: true


[hiddenAction_生产爆发]
autoTrigger: if not self.globalTeamTags(includes="工业爆发")
convertTo: 苏联基地
convertTo_keepCurrentTags: true


[hiddenAction_工业爆发效果显示] 
autoTrigger: true
spawnEffects: CUSTOM:工业爆发效果


[effect_工业爆发效果]
image: ROOT:\共享文件\1类\工业爆发.png
scaleFrom: 1
scaleTo: 1
alpha: 1.2
life: 65
#hOffset: 35
fadeInTime: 30
fadeOut: true
attachedToUnit: true
drawUnderUnits: false
alwayStartDirAtZero: true
liveAfterAttachedDies: false

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–支持/苏联基地防御.ini
================================================================================


[core]
name: 苏联基地防御
price: 0
maxHp: 100
mass: 10000
radius: 20

tags: 苏联基地防御
displayText: Soviet Construction Yard
displayText_zh: 苏联防御扩展点
displayDescription: Only one Soviet defense building can be built at the same time.\nWhen the Soviet defense extension point produces buildings, the base will not be able to produce defense buildings.\nOr when the base produces defense buildings, the Soviet defense extension points cannot produce buildings.\nMove the Soviet Union  When defending the expansion point, the building that is being produced will be cancelled and the funds will be returned
displayDescription_zh: 建造苏联防御建筑，同时只能有一个，\n当苏联防御扩展点生产建筑时，基地将无法生产防御建筑，\n或者基地生产防御建筑时，苏联防御扩展点也无法生产建筑\n移动苏联防御扩展点时会取消正在生产的建筑并返回资金
isBuilding: true
fogOfWarSightRange: 4
buildSpeed: 0
selfBuildRate: 1s
canRepairBuildings: true
canRepairUnitsOnlyWithTags: 无
nanoRange: 9999
nanoRepairSpeed: 0
canNotBeDirectlyAttacked: true
disableAllUnitCollisions: true
explodeOnDeath:false
showOnMinimapToEnemies: false
@memory 返还资金:float


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 苏联基地防御停电
convertTo_keepCurrentTags: true


[hiddenAction_生产爆发]
autoTrigger: if self.globalTeamTags(includes="工业爆发")
convertTo: 苏联基地防御爆发
convertTo_keepCurrentTags: true


[hiddenAction_建造单位音效-苏]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof052.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_建造单位音效-盟]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva052.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_建造单位音效-尤]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur052.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[graphics]
isVisibleToEnemies: false
image:  ROOT:\共享文件\1类\隐藏.png

rotate_with_direction: false
repairEffect: NONE


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:  false
canAttackUnderwaterUnits: false


[movement]
movementType: NONE


[arm_1]
x: 0
y: 0

#hidden: 
spinRate: 2
image_end: ROOT:\共享文件\1类\技能点圈.png
image_end_teamColors: true
drawOverBody: false
#drawUnderAllUnits: false
#endDirOffset: 135


[arm_2]
x: 0
y: 0

spinRate: 0
image_end: ROOT:\共享文件\1类\技能点图标-防御.png
image_end_teamColors: true
drawOverBody: false


[template_放置模板]
@define number: 2
pos: ${number}
#tech: 1
#forceNano: true
isVisible: if self.resource(type='计数', equalTo=${number-1})
addResources: 计数=-${number-1}
isGuiBlinking: true


[canBuild_11]
@copyFromSection: template_放置模板
@define number: 12
name: 稍戒炮建造


[canBuild_12]
@copyFromSection: canBuild_11
@define number: 13
name: 苏联战斗碉堡


[canBuild_13]
@copyFromSection: canBuild_11
@define number: 14
name: 高射炮建造


[canBuild_14]
@copyFromSection: canBuild_11
@define number: 15
name: 电磁塔


[canBuild_17]
@copyFromSection: canBuild_11
@define number: 18
name: 铁幕装置
isLocked: if self.hasUnitInTeam(withTag='铁幕装置', incompleteBuildings=true)
isLockedMessage: Soviet Iron Curtain Device can only have one at a time!
isLockedMessage_zh: 铁幕装置同时只能有一个!


[canBuild_18]
@copyFromSection: canBuild_11
@define number: 19
name: 核弹井
isLocked: if self.hasUnitInTeam(withTag='核弹井', incompleteBuildings=true) and not self.globalTeamTags(includes='无限超武')
isLockedMessage: Soviet Tactical Nuke Silo can only have one at a time!
isLockedMessage_zh: 核弹井同时只能有一个!


[canBuild_19]
name: 苏墙墩
pos: 20
#forceNano: true
price: 资金=50
isGuiBlinking:	true
isVisible: if self.hasUnitInTeam(withTag="苏联兵营")
isLockedAlt2: if self.tags(includes='禁止攻击')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_20]
@copyFromSection: canBuild_19
@define number: 21
name: 苏墙墩2


[canBuild_21]
@copyFromSection: canBuild_19
@define number: 22
name: 苏墙撇


[canBuild_22]
@copyFromSection: canBuild_19
@define number: 23
name: 苏墙那


[action_取消]
text: Cancel
text_zh: 取消
description: Cancel process
description_zh: 取消建造
pos: 1.4
displayType: none
buildSpeed: 0s
#autoTrigger: 
isVisible: if self.resource(type='计数', greaterThan=0)
resourceAmount: 计数
resourceAmount_setValue: 0
addResourcesWithLogic: 资金=memory.返还资金


[template_建造模板]
@define number: 2
@define money: 800
@define name: 盟军发电厂
textAddUnitName: ${name}
descriptionAddFromUnit: ${name}
descriptionAddUnitStats: ${name}
displayType: none
pos: ${number}
price: 资金=${money}
setUnitMemory: 返还资金=${money}
switchPriceWithStreamingCost: true
addResources: 计数=${number-1}
isActive: if not self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='入侵计时', empty=true) and self.noUnitInTeam(withTag='禁止节点建造防御')
isVisible: if not self.resource(type='计数', equalTo=${number-1})
unitShownInUI: ${name}
#ai_isHighPriority: true
#ai_considerSameAsBuilding: ${name}
#alsoQueueAction: 建造完成, 建造完成2, 建造完成3
alsoTriggerAction: 建造完成, 建造完成2, 建造完成3


[action_建11]
@copyFromSection: template_建造模板
@define number: 12
@define money: 400
@define name: 稍戒炮
buildSpeed: 4s
isLocked: if self.noUnitInTeam(withTag='苏联兵营', incompleteBuildings=true)
isLockedMessage: Require Soviet Barracks
isLockedMessage_zh: 解锁条件: 苏联兵营


[action_建12]
@copyFromSection: action_建11
@define number: 13
@define money: 600
@define name: 苏联战斗碉堡
buildSpeed: 6s


[action_建13]
@copyFromSection: action_建11
@define number: 14
@define money: 700
@define name: 高射炮
buildSpeed: 7s


[action_建14]
@copyFromSection: action_建11
@define number: 15
@define money: 1200
@define name: 电磁塔
buildSpeed: 10s
isLocked: if self.noUnitInTeam(withTag='雷达', incompleteBuildings=true)
isLockedMessage: Require Soviet Radar
isLockedMessage_zh: 解锁条件: 雷达


[action_建17]
@copyFromSection: action_建11
@define number: 18
@define money: 3000
@define name: 铁幕装置
buildSpeed: 30s
isLocked: if self.noUnitInTeam(withTag='宫殿', incompleteBuildings=true)
isLockedMessage: Require Russian Palace
isLockedMessage_zh: 解锁条件: 宫殿
isLockedAlt: if self.hasUnitInTeam(withTag='铁幕装置', factoryQueue=true)
isLockedAltMessage: Soviet Iron Curtain Device can only have one at a time!
isLockedAltMessage_zh: 铁幕装置同时只能有一个!


[action_建18]
@copyFromSection: action_建11
@define number: 19
@define money: 5000
@define name: 核弹井
buildSpeed: 50s
isVisible: if not self.resource(type='计数', equalTo=${number-1}) and not self.globalTeamTags(includes='伊朗')
isLocked: if self.noUnitInTeam(withTag='宫殿', incompleteBuildings=true)
isLockedMessage: Require Russian Palace
isLockedMessage_zh: 解锁条件: 宫殿
isLockedAlt: if self.hasUnitInTeam(withTag='核弹井', factoryQueue=true) and not self.globalTeamTags(includes='无限超武')
isLockedAltMessage: Soviet Tactical Nuke Silo can only have one at a time!
isLockedAltMessage_zh: 核弹井同时只能有一个!


[action_建18-2]
@copyFromSection: action_建11
@define number: 19
@define money: 4000
@define name: 核弹井
buildSpeed: 35s
isVisible: if not self.resource(type='计数', equalTo=${number-1}) and self.globalTeamTags(includes='伊朗')
isLocked: if self.noUnitInTeam(withTag='宫殿', incompleteBuildings=true)
isLockedMessage: Require Russian Palace
isLockedMessage_zh: 解锁条件: 宫殿
isLockedAlt: if self.hasUnitInTeam(withTag='核弹井', factoryQueue=true) and not self.globalTeamTags(includes='无限超武')
isLockedAltMessage: Soviet Tactical Nuke Silo can only have one at a time!
isLockedAltMessage_zh: 核弹井同时只能有一个!


[hiddenAction_建造完成]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof048.wav:2


[hiddenAction_建造完成2]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva048.wav:2


[hiddenAction_建造完成3]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur048.wav:2


[hiddenAction_移位消除]
autoTrigger: if numberOfUnitsInTeam(withTag='苏联基地防御', greaterThan=1, incompleteBuildings=true) and self.noUnitInTeam(withTag='沙盒控制')
addResourcesWithLogic: 资金=memory.返还资金
deleteSelf: true
#showMessageToAllPlayers: 移位消除


[hiddenAction_自毁]
autoTrigger: if self.noUnitInTeam() and self.noUnitInTeam(withTag='沙盒控制')
addResources: hp=-1000


[hiddenAction_禁止基地建造防御]
autoTrigger: if not self.queueSize(empty=true) and not self.tags(includes='禁止基地建造防御')
temporarilyAddTags: 禁止基地建造防御
#showMessageToAllPlayers: 禁止基地建造防御


[hiddenAction_禁止基地建造防御2]
autoTrigger: if self.tags(includes='禁止基地建造防御') and self.queueSize(empty=true)
temporarilyRemoveTags: 禁止基地建造防御
#showMessageToAllPlayers: 禁止基地建造防御2


[hiddenAction_开局模式控制]
autoTrigger: if self.globalTeamTags(includes='无基地')
deleteSelf: true


[resource_计数]
displayName: 计数


[resource_入侵计时]
displayName: Timing
displayName_zh: 计时


[ai]
useAsBuilder: false

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–支持/苏联基地防御停电.ini
================================================================================


[core]
name: 苏联基地防御停电
copyFrom: 苏联基地防御.ini
showInEditor: false

nanoFactorySpeed: 0.75


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 苏联基地防御
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–支持/苏联基地.ini
================================================================================


[core]
name: 苏联基地
price: 0
maxHp: 2500
mass: 100000
radius: 60

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq
tags: 原始护甲, 建筑重甲, 建筑, 基地, 电力, 占领, 苏联基地, 可入侵, 空下, 带扩展建筑
displayText: Soviet Construction Yard
displayText_zh: 苏联基地
displayDescription: Build Soviet buildings\nPower: +40
displayDescription_zh: 建造苏联建筑\n电力提供：40
isBuilding: true
footprint: -4,0,4,2
displayFootprint: -5,-1,5,3
constructionFootprint: -5,-1,5,3
fogOfWarSightRange: 26
numBitsOnDeath:100
canRepairBuildings: true
canRepairUnitsOnlyWithTags: 无
nanoRange: 9999
nanoRepairSpeed: 0
selfBuildRate: 0s
borrowResourcesWhileAlive: 电力=-40
armour: 99999
armourMinDamageToKeep: 1700
effectOnDeath: CUSTOM:土坑3*4, CUSTOM:土坑2*4, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7
@memory 返还资金:float


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 苏联基地停电
convertTo_keepCurrentTags: true
stopLastAnimation: true
temporarilyAddTags: 无电力


[hiddenAction_生产爆发]
autoTrigger: if self.globalTeamTags(includes="工业爆发")
convertTo: 苏联基地爆发
convertTo_keepCurrentTags: true


[hiddenAction_建造单位音效-苏]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof052.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_建造单位音效-盟]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva052.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_建造单位音效-尤]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur052.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[graphics]
image:       苏联基地.png

default_frame: 15
total_frames: 26
imageScale:	1.02
#image_offsetX: 13
image_offsetY: -40
rotate_with_direction: false
repairEffect: NONE


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:  false
canAttackUnderwaterUnits: false


[movement]
movementType: NONE


[canBuild_国旗]
name: 国旗-苏联
pos: 0
#tech: 1
#forceNano: true
isVisible: if not numberOfUnitsInTeam(withTag='国旗-苏联', greaterThan=1)
isGuiBlinking: if self.noUnitInTeam(withTag='国旗-苏联', incompleteBuildings=true)


[canBuild_基地防御]
name: 苏联基地防御
pos: 0
isVisible: if not numberOfUnitsInTeam(withTag='苏联基地防御', greaterThan=1)
isGuiBlinking: if self.noUnitInTeam(withTag='苏联基地防御', incompleteBuildings=true)


[canBuild_1]
@define number: 2
@define number2: 0
name: 苏联磁能反应炉
pos: ${number}
#tech: 1
#forceNano: true
isVisible: if self.resource(type='计数', equalTo=${number-1}) and self.hasFlag(id=${number2})
addResources: 计数=-${number-1}, ai计时=-99
isGuiBlinking: true
isLockedAlt2: if self.tags(includes='禁止攻击')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_2]
@copyFromSection: canBuild_1
@define number: 3
name: 苏联矿厂


[canBuild_3]
@copyFromSection: canBuild_1
@define number: 4
#@define number2: 1
name: 苏联兵营


[canBuild_4]
@copyFromSection: canBuild_3
@define number: 5
name: 苏联战争工厂


[canBuild_5]
@copyFromSection: canBuild_3
@define number: 6
name: 苏联机场


[canBuild_6]
@copyFromSection: canBuild_3
@define number: 7
name: 苏联船坞


[canBuild_7]
@copyFromSection: canBuild_1
@define number: 8
name: 宫殿


[canBuild_8]
@copyFromSection: canBuild_1
@define number: 9
name: 工业工厂
isLocked: if self.hasUnitInTeam(withTag='工业工厂', incompleteBuildings=true)
isLockedMessage: Soviet Industrial Plant can only have one at a time!
isLockedMessage_zh: 工业工厂同时只能有一个!


[canBuild_9]
@copyFromSection: canBuild_1
@define number: 10
name: 苏联维修站


[canBuild_10]
@copyFromSection: canBuild_1
@define number: 11
name: 苏联核能发电炉


[canBuild_11]
@copyFromSection: canBuild_1
@define number: 12
@define number2: 2
name: 稍戒炮建造


[canBuild_12]
@copyFromSection: canBuild_11
@define number: 13
name: 苏联战斗碉堡


[canBuild_13]
@copyFromSection: canBuild_11
@define number: 14
name: 高射炮建造


[canBuild_14]
@copyFromSection: canBuild_11
@define number: 15
name: 电磁塔


[canBuild_16]
@copyFromSection: canBuild_1
@define number: 17
name: 雷达


[canBuild_17]
@copyFromSection: canBuild_11
@define number: 18
name: 铁幕装置
isLocked: if self.hasUnitInTeam(withTag='铁幕装置', incompleteBuildings=true)
isLockedMessage: Soviet Iron Curtain Device can only have one at a time!
isLockedMessage_zh: 铁幕装置同时只能有一个!


[canBuild_18]
@copyFromSection: canBuild_11
@define number: 19
name: 核弹井
isLocked: if self.hasUnitInTeam(withTag='核弹井', incompleteBuildings=true) and not self.globalTeamTags(includes='无限超武')
isLockedMessage: Soviet Tactical Nuke Silo can only have one at a time!
isLockedMessage_zh: 核弹井同时只能有一个!


[canBuild_19]
name: 苏墙墩
pos: 20
#forceNano: true
price: 资金=50
isGuiBlinking:	true
isVisible: if self.hasUnitInTeam(withTag="苏联兵营")
isLockedAlt2: if self.tags(includes='禁止攻击')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_20]
@copyFromSection: canBuild_19
@define number: 21
name: 苏墙墩2


[canBuild_21]
@copyFromSection: canBuild_19
@define number: 22
name: 苏墙撇


[canBuild_22]
@copyFromSection: canBuild_19
@define number: 23
name: 苏墙那


[action_1]
text: Undeploy
text_zh: 取消基地部署
description: Soviet Mobile Construction Vehicle
description_zh: 整理形成基地车
pos: 1
displayType: action
buildSpeed: 1s
isActive: if not self.globalTeamTags(includes='禁止基地取消部署') and not self.tags(includes='禁止攻击')
isVisible: if not self.isControlledByAI()
whenBuilding_playAnimation: 取消部署
whenBuilding_triggerAction: 卖声
convertTo: 苏联基地车
alsoTriggerAction: 取消
setBodyRotation: 135


[action_支持]
text: Support
text_zh: 支持类
description: Expand the list of support buildings
description_zh: 展开支持类建筑列表
pos: 1.1
displayType: rally
buildSpeed: 0s
isActive: if self.queueSize(empty=true) and not self.hasFlag(id=0) and not self.resource(type='计数', greaterThan=0)
autoTrigger: if self.lastConverted(withinSeconds=1)
#isVisible: if not self.hasFlag(id=0) 
addResources: setFlag=0, unsetFlag=2


[action_防御]
text: Defensive
text_zh: 防御类
description: Expand the list of defensive buildings
description_zh: 展开防御类建筑列表
pos: 1.3
displayType: rally
buildSpeed: 0s
isActive: if self.queueSize(empty=true) and not self.hasFlag(id=2) and not self.resource(type='计数', greaterThan=0)
#isVisible: if not self.hasFlag(id=2) 
addResources: setFlag=2, unsetFlag=0


[action_取消]
text: Cancel
text_zh: 取消
description: Cancel process
description_zh: 取消建造
pos: 1.4
displayType: none
buildSpeed: 0s
autoTrigger: if self.resource(type='ai计时', greaterThan=9) and self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true)
isVisible: if self.resource(type='计数', greaterThan=0)
resourceAmount: 计数
resourceAmount_setValue: 0
alsoTriggerAction: ai计时2, 重置返回资金
addResourcesWithLogic: 资金=memory.返还资金


[action_建1]
@define number: 2
@define number2: 0
@define money: 600
@define name: 苏联磁能反应炉
buildSpeed: 6s

textAddUnitName: ${name}
descriptionAddFromUnit: ${name}
descriptionAddUnitStats: ${name}
displayType: none
pos: ${number}
price: 资金=${money}
setUnitMemory: 返还资金=${money}
switchPriceWithStreamingCost: true
addResources: 计数=${number-1}
isActive:  if not self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='入侵计时', empty=true) and not self.tags(includes='禁止攻击')
isVisible: if not self.resource(type='计数', equalTo=${number-1}) and self.hasFlag(id=${number2})
unitShownInUI: ${name}
#ai_isHighPriority: true
ai_considerSameAsBuilding: ${name}
#whenBuilding_playAnimation: 建造中
#alsoQueueAction: 建造完成, 建造完成2, 建造完成3
alsoTriggerAction: 建造完成, 建造完成2, 建造完成3


[action_建2]
@copyFromSection: action_建1
@define number: 3
@define money: 2000
@define name: 苏联矿厂
buildSpeed: 14s
isLocked: if self.noUnitInTeam(withTag='苏联磁能反应炉', incompleteBuildings=true)
isLockedMessage: Require Soviet Tesla Reactor
isLockedMessage_zh: 解锁条件: 苏联磁能反应炉


[action_建3]
@copyFromSection: action_建1
@define number: 4
#@define number2: 1
@define money: 500
@define name: 苏联兵营
buildSpeed: 6s
isLocked: if self.noUnitInTeam(withTag='苏联磁能反应炉', incompleteBuildings=true)
isLockedMessage: Require Soviet Tesla Reactor
isLockedMessage_zh: 解锁条件: 苏联磁能反应炉


[action_建4]
@copyFromSection: action_建3
@define number: 5
@define money: 2000
@define name: 苏联战争工厂
buildSpeed: 20s
isLocked: if self.noUnitInTeam(withTag='苏联兵营', incompleteBuildings=true)
isLockedMessage: Require Soviet Barracks
isLockedMessage_zh: 解锁条件: 苏联兵营


[action_建5]
@copyFromSection: action_建4
@define number: 6
@define money: 1000
@define name: 苏联机场
buildSpeed: 14s
isLocked: if self.noUnitInTeam(withTag='雷达', incompleteBuildings=true)
isLockedMessage: Require Soviet Radar
isLockedMessage_zh: 解锁条件: 雷达


[action_建6]
@copyFromSection: action_建4
@define number: 7
@define money: 1200
@define name: 苏联船坞
buildSpeed: 15s
isActive:  if not self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='入侵计时', empty=true) and not self.tags(includes='禁止攻击') and not self.globalTeamTags(includes='禁止生产海军')


[action_建7]
@copyFromSection: action_建1
@define number: 8
@define money: 4000
@define name: 宫殿
buildSpeed: 50s
isLocked: if self.noUnitInTeam(withTag='雷达', incompleteBuildings=true)
isLockedMessage: Require Soviet Radar
isLockedMessage_zh: 解锁条件: 雷达
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制2')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建8]
@copyFromSection: action_建1
@define number: 9
@define money: 2000
@define name: 工业工厂
buildSpeed: 25s
isLocked: if self.noUnitInTeam(withTag='宫殿', incompleteBuildings=true)
isLockedMessage: Require Russian Palace
isLockedMessage_zh: 解锁条件: 宫殿
isLockedAlt: if self.hasUnitInTeam(withTag='工业工厂', factoryQueue=true)
isLockedAltMessage: Soviet Industrial Plant can only have one at a time!
isLockedAltMessage_zh: 工业工厂同时只能有一个!
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制2')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建9]
@copyFromSection: action_建1
@define number: 10
@define money: 900
@define name: 苏联维修站
buildSpeed: 12s
isLocked: if self.noUnitInTeam(withTag='苏联战争工厂', incompleteBuildings=true)
isLockedMessage: Require Soviet War Factory
isLockedMessage_zh: 解锁条件: 苏联战争工厂
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建10]
@copyFromSection: action_建1
@define number: 11
@define money: 2000
@define name: 苏联核能发电炉
buildSpeed: 20s
isVisible: if not self.resource(type='计数', equalTo=${number-1}) and self.hasFlag(id=${number2}) and not self.globalTeamTags(includes='伊朗')
isLocked: if self.noUnitInTeam(withTag='雷达', incompleteBuildings=true)
isLockedMessage: Require Soviet Radar
isLockedMessage_zh: 解锁条件: 雷达
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建10-2]
@copyFromSection: action_建1
@define number: 11
@define money: 1750
@define name: 苏联核能发电炉
buildSpeed: 15s
isVisible: if not self.resource(type='计数', equalTo=${number-1}) and self.hasFlag(id=${number2}) and self.globalTeamTags(includes='伊朗') and not self.hasUnitInTeam(withTag='阵营特色限制')
isLocked: if self.noUnitInTeam(withTag='雷达', incompleteBuildings=true)
isLockedMessage: Require Soviet Radar
isLockedMessage_zh: 解锁条件: 雷达
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建11]
@copyFromSection: action_建1
@define number: 12
@define number2: 2
@define money: 400
@define name: 稍戒炮
buildSpeed: 4s
isActive:  if not self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='入侵计时', empty=true) and self.noUnitInTeam(withTag='禁止基地建造防御') and not self.tags(includes='禁止攻击')
isLocked: if self.noUnitInTeam(withTag='苏联兵营', incompleteBuildings=true)
isLockedMessage: Require Soviet Barracks
isLockedMessage_zh: 解锁条件: 苏联兵营


[action_建12]
@copyFromSection: action_建11
@define number: 13
@define money: 600
@define name: 苏联战斗碉堡
buildSpeed: 6s


[action_建13]
@copyFromSection: action_建11
@define number: 14
@define money: 700
@define name: 高射炮
buildSpeed: 7s


[action_建14]
@copyFromSection: action_建11
@define number: 15
@define money: 1200
@define name: 电磁塔
buildSpeed: 10s
isLocked: if self.noUnitInTeam(withTag='雷达', incompleteBuildings=true)
isLockedMessage: Require Soviet Radar
isLockedMessage_zh: 解锁条件: 雷达
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制2')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建16]
@copyFromSection: action_建4
@define number: 17
@define money: 1000
@define name: 雷达
buildSpeed: 12s
isLocked: if self.noUnitInTeam(withTag='苏联矿厂', incompleteBuildings=true)
isLockedMessage: Require Soviet Ore Refinery
isLockedMessage_zh: 解锁条件: 苏联矿厂
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建17]
@copyFromSection: action_建11
@define number: 18
@define money: 3000
@define name: 铁幕装置
buildSpeed: 30s
isLocked: if self.noUnitInTeam(withTag='宫殿', incompleteBuildings=true)
isLockedMessage: Require Russian Palace
isLockedMessage_zh: 解锁条件: 宫殿
isLockedAlt: if self.hasUnitInTeam(withTag='铁幕装置', factoryQueue=true)
isLockedAltMessage: Soviet Iron Curtain Device can only have one at a time!
isLockedAltMessage_zh: 铁幕装置同时只能有一个!


[action_建18]
@copyFromSection: action_建11
@define number: 19
@define money: 5000
@define name: 核弹井
buildSpeed: 50s
isVisible: if not self.resource(type='计数', equalTo=${number-1}) and self.hasFlag(id=${number2}) and not self.globalTeamTags(includes='伊朗')
isLocked: if self.noUnitInTeam(withTag='宫殿', incompleteBuildings=true)
isLockedMessage: Require Russian Palace
isLockedMessage_zh: 解锁条件: 宫殿
isLockedAlt: if self.hasUnitInTeam(withTag='核弹井', factoryQueue=true) and not self.globalTeamTags(includes='无限超武')
isLockedAltMessage: Soviet Tactical Nuke Silo can only have one at a time!
isLockedAltMessage_zh: 核弹井同时只能有一个!


[action_建18-2]
@copyFromSection: action_建11
@define number: 19
@define money: 4000
@define name: 核弹井
buildSpeed: 35s
isVisible: if not self.resource(type='计数', equalTo=${number-1}) and self.hasFlag(id=${number2}) and self.globalTeamTags(includes='伊朗') and not self.hasUnitInTeam(withTag='阵营特色限制')
isLocked: if self.noUnitInTeam(withTag='宫殿', incompleteBuildings=true)
isLockedMessage: Require Russian Palace
isLockedMessage_zh: 解锁条件: 宫殿
isLockedAlt: if self.hasUnitInTeam(withTag='核弹井', factoryQueue=true) and not self.globalTeamTags(includes='无限超武')
isLockedAltMessage: Soviet Tactical Nuke Silo can only have one at a time!
isLockedAltMessage_zh: 核弹井同时只能有一个!


[hiddenAction_自动部署]
autoTrigger: if self.lastConverted(withinSeconds=1) and not self.tags(includes='无电力')
autoTriggerOnEvent: created
playSoundAtUnit: ROOT:\音频\语音+音效\uplace.wav:2
playAnimation: jianzao


[hiddenAction_建造完成]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof048.wav:2
playAnimation: 建造中


[hiddenAction_建造完成2]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva048.wav:2
playAnimation: 建造中


[hiddenAction_建造完成3]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur048.wav:2
playAnimation: 建造中


[hiddenAction_Ai分基地限制]
requireConditional: if self.isControlledByAI() and self.hasUnitInTeam(withTag='基地')
autoTriggerOnEvent: created
addResources: setFlag=3
#showMessageToAllPlayers: 触发


[hiddenAction_Ai分基地限制2]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInTeam(withTag='基地', equalTo=1) and self.hasFlag(id=3)
addResources: unsetFlag=3
#showMessageToAllPlayers: 触发2


[hiddenAction_禁止节点建造防御]
autoTrigger: if self.hasFlag(id=2) and not self.queueSize(empty=true) and not self.tags(includes='禁止节点建造防御')
temporarilyAddTags: 禁止节点建造防御
#showMessageToAllPlayers: 禁止节点建造防御


[hiddenAction_禁止节点建造防御2]
autoTrigger: if self.tags(includes='禁止节点建造防御') and self.queueSize(empty=true)
temporarilyRemoveTags: 禁止节点建造防御
#showMessageToAllPlayers: 禁止节点建造防御2


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=60, offsetRandomY=60), 盟军工程师(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=60, offsetRandomY=60), 苏联工程师(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=60, offsetRandomY=60), 尤里工程师(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_ai设置]
autoTrigger: if self.isControlledByAI() and (not self.hasFlag(id=0) or not self.hasFlag(id=1) or not self.hasFlag(id=2))
addResources: setFlag=0, setFlag=2


[hiddenAction_ai计时]
autoTrigger: if self.isControlledByAI() and self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true)
addResources: ai计时=1
#showMessageToAllPlayers: 1
#存在未知bug


[hiddenAction_ai计时2]
autoTrigger: if self.resource(type='ai计时', lessThan=0)
#showMessageToAllPlayers: 2
resourceAmount: ai计时
resourceAmount_setValue: 0


[hiddenAction_ai建造-船坞]
spawnUnits: 苏联船坞引子-Ai
#showMessageToAllPlayers: 产生引子
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='苏联磁能反应炉') and self.hasUnitInTeam(withTag='苏联矿厂') and not self.hasUnitInTeam(withTag='苏联船坞引子') and numberOfUnitsInTeam(withTag='船坞', lessThan=2, withinRange=650)


[hiddenAction_ai建造-电厂]
spawnUnits: 苏联磁能反应炉(addResources=资金:-600, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 触发
autoTrigger: if self.isControlledByAI() and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=600) and not self.resource(type="电力", greaterThan=0) and numberOfUnitsInTeam(withTag='苏联磁能反应炉', lessThan=14, withinRange=500)
resetCustomTimer: true


[hiddenAction_ai建造-稍戒炮]
spawnUnits: 稍戒炮建造(addResources=资金:-400, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 建造稍戒炮
#spawnChance: 0.5
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='苏联兵营') and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=400) and numberOfUnitsInTeam(withTag='稍戒炮', lessThan=6, withinRange=500)
resetCustomTimer: true


[hiddenAction_ai建造-高射炮]
spawnUnits: 高射炮建造(addResources=资金:-700, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 建造高射炮
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='苏联兵营') and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=700) and numberOfUnitsInTeam(withTag='高射炮', lessThan=6, withinRange=500) and self.resource(type="电力",greaterThan=50)
resetCustomTimer: true


[hiddenAction_ai建造-磁暴线圈]
spawnUnits: 电磁塔(addResources=资金:-1000, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 建造巨炮
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='雷达') and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=1000) and numberOfUnitsInTeam(withTag='电磁塔', lessThan=5, withinRange=500) and not self.hasUnitInTeam(withTag='科技限制2')
resetCustomTimer: true


[hiddenAction_ai建造-铁幕装置]
spawnUnits: 铁幕装置(addResources=资金:-3000, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 铁幕装置
autoTrigger: if self.isControlledByAI() and self.timeAlive(laterThanSeconds=600) and self.hasUnitInTeam(withTag='宫殿') and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=3000) and self.noUnitInTeam(withTag='铁幕装置') and not self.hasFlag(id=3) and game.nukesEnabled()
resetCustomTimer: true


[hiddenAction_ai建造-核弹井]
spawnUnits: 核弹井(addResources=资金:-5000, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 核弹井
autoTrigger: if self.isControlledByAI() and self.timeAlive(laterThanSeconds=600) and self.hasUnitInTeam(withTag='宫殿') and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=5000) and self.noUnitInTeam(withTag='核弹井') and not self.hasFlag(id=3) and game.nukesEnabled()
resetCustomTimer: true


[hiddenAction_初始价值]
addResources: 价值=400


[hiddenAction_初始价值修正]
autoTrigger: if not self.resource(type='价值', equalTo=400)
setResourcesWithLogic: 价值=400


[hiddenAction_重置返回资金]
autoTrigger: if not self.resource(type='计数', greaterThan=0) and memory.返还资金!=0
setUnitMemory: 返还资金=0
#showMessageToAllPlayers: 1


[hiddenAction_遭受攻击]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='基地受击')
temporarilyAddTags: 基地受击


[hiddenAction_遭受攻击2]
autoTrigger: if not self.hasTakenDamage(withinSeconds=1) and self.tags(includes='基地受击')
temporarilyRemoveTags: 基地受击


[animation_建造中]
body_0s: {frame:15}
body_2s: {frame:25}


[animation_jianzao]
body_0s: {frame:0}
body_1s: {frame:15}


[animation_取消部署]
body_0s: {frame:15}
body_1s: {frame:0}


[effect_土坑2]
xOffsetRelativeRandom: 80
yOffsetRelativeRandom: 80


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[resource_计数]
displayName: 计数


[resource_ai计时]
displayName: ai计时


[template_zijin]
price: 3000
@global dianli: 40



[ai]
#buildPriority:100
useAsBuilder: true
#maxEachBase:1
#noneInBaseExtraPriority: 0.7
upgradedFrom: 苏联基地车
noneGlobalExtraPriority: 0.8
maxGlobal: 3
#ai_upgradePriority: 0.06

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/半履带车炮塔.ini
================================================================================


[core]
name: 半履带车炮塔
price: 0
maxHp: 200
mass: 2500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 低级, 炮塔, 半履带车炮塔


[graphics]
image:        半履带车炮塔.png

total_frames: 1
imageScale: 1.0
frame_width: 126
frame_height: 126
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 15
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 15
#animation_attack_start: 1
#animation_attack_end: 2
#animation_attack_speed: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 1
turretTurnSpeed: 3
shootDelay: ${int(14*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 4.5
turnAcceleration: 4.5


[turret_1]
x: 0
y: 0

limitingRange: 330
barrelHeight: 20
barrelX: 0
barrelY: 10
shoot_flame: CUSTOM:开火
shoot_light:#FFEECCCC
shoot_sound: ROOT:\音频\语音+音效\vflaat2a.wav, ROOT:\音频\语音+音效\vflaat2b.wav, ROOT:\音频\语音+音效\vflaat2c.wav, ROOT:\音频\语音+音效\vflaat2d.wav
shoot_sound_vol: 2.0
canAttackFlyingUnits: if not self.tags(includes='禁止攻击')
canAttackLandUnits:   false
projectile: 1


[turret_2]
x: 0
y: 10

copyFrom: 1
limitingRange: 180
shoot_sound: ROOT:\音频\语音+音效\vflaat1a.wav, ROOT:\音频\语音+音效\vflaat1b.wav
shoot_sound_vol: 2.0
#limitingMinRange: 20
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.tags(includes='禁止攻击')
projectile: 2


[projectile_1]
#directDamage: 25
areaDamage: 35
life: 240

areaRadius: 30
explodeEffect: CUSTOM:黑烟2
instant: true
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.6
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.4


[projectile_2]
@copyFromSection: projectile_1
areaDamage: 35
life: 240

speed: 7
drawSize: 0.8
frame: 0
instant: false
initialUnguidedSpeedHeight: 4
gravity: 2
explodeEffect: CUSTOM:黑烟
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.60
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.40
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.20
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.20
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.00


[hiddenAction_Ai攻击空军]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=330)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 空军
addWaypoint_target_nearestUnit_maxRange: 330
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)
@copyFromSection: hiddenAction_Ai攻击空军
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 180


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=25


[effect_开火]
image: ROOT:\共享文件\1类\开火特效3.png
scaleFrom: 0.8
scaleTo: 0.8
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
attachedToUnit:false


[effect_黑烟]
image: ROOT:\共享文件\1类\烟.png
scaleFrom: 1.05
scaleTo: 1.05
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_黑烟2]
image: ROOT:\共享文件\1类\黑烟.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40


================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/恐怖机器人.ini
================================================================================

[core]
name: 恐怖机器人
price: 资金=500
maxHp: 125
mass: 50
radius: 10

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 低级, 装甲, 免疫心控, 恐怖机器人, 免辐射, 克生物, 克装甲, 空下, 反隐形, 反伪装, 无法狂暴, 免疫迷幻, 不可劫持, 特殊载入
displayText: Terror Drone
displayText_zh: 恐怖机器人
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: High\nSpecial: Can attache the vehicle without being attacked.\nAnti stealth and anti camouflage.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：高\n特殊：可以附着在装甲单位身上而不被攻击\n反隐形反伪装
buildSpeed: 5s
fogOfWarSightRange: 10
transportSlotsNeeded: 1
numBitsOnDeath: 5
disableAllUnitCollisions: true
#hideScorchMark:true
#explodeOnDeath: false
soundOnAttackOrder: ROOT:\音频\语音+音效\vtermova.wav:1, ROOT:\音频\语音+音效\vtermovb.wav:1
soundOnMoveOrder: ROOT:\音频\语音+音效\vtermova.wav:1, ROOT:\音频\语音+音效\vtermovb.wav:1
soundOnNewSelection: ROOT:\音频\语音+音效\vtersela.wav:1, ROOT:\音频\语音+音效\vterselb.wav:1
soundOnDeath: ROOT:\音频\语音+音效\vterdiea.wav:1, ROOT:\音频\语音+音效\vterdieb.wav:1


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\恐怖机器人图标.png
image: 恐怖机器人.png

isVisible: if not numberOfUnitsInEnemyTeam(withTag='装甲', withinRange=10, greaterThan=0)
imageScale:	1.05
frame_width: 37
frame_height: 37
image_offsetY: -3
animation_moving_start:1
animation_moving_end:6
animation_moving_speed:2
animation_idle_start:0
animation_idle_end:0
#animation_attack_start:7
#animation_attack_end:10
#animation_attack_speed: 10
animation_direction_units:45
animation_direction_strideX:0
animation_direction_strideY:1
animation_direction_starting:270
rotate_with_direction:false
movementEffect: CUSTOM:移动音效
movementEffectRate: 8


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits:false

canOnlyAttackUnitsWithoutTags: 建筑, 恐怖机器人, 伪装, 驾驶, 维修清除
isMelee: true
turretSize: 0
turretTurnSpeed: 99
aimOffsetSpread: 0
maxAttackRange: 10


[movement]
movementType:LAND

moveSpeed: 2.6
moveAccelerationSpeed: 2.5
moveDecelerationSpeed: 2.5
maxTurnSpeed: 9
turnAcceleration: 9
#joinsGroupFormations: true


[turret_1]
x: 0
y: 0

canAttackLandUnits: if (not numberOfUnitsInEnemyTeam(withTag='禁入', withinRange=100, greaterThan=0) or self.hasFlag(id=0)) and not self.tags(includes='禁止攻击')
#limitingRange: 10
canOnlyAttackUnitsWithTags: 装甲, 生物, 生物2
resourceUsage: setFlag=0
#onShoot_playAnimation:  攻击
delay: 120
#${int(60*(1/gameSpeedRate))}
shoot_sound: ROOT:\音频\语音+音效\vteratta.wav:2, ROOT:\音频\语音+音效\vterattb.wav:2
shoot_light: #FFEECCCC
projectile:1


[turret_2]
x:0
y:0

canAttackLandUnits: if (not numberOfUnitsInEnemyTeam(withTag='禁入', withinRange=100, greaterThan=0) or self.hasFlag(id=0)) and not self.tags(includes='禁止攻击')
#limitingRange: 10
canOnlyAttackUnitsWithTags: 装甲
resourceUsage: setFlag=0
delay: 1
projectile:2


[projectile_1]
directDamage: 65
life: 20

instant: true
explodeEffect: CUSTOM:电星
mutator5_ifUnitWithTags: 生物, 生物2
mutator5_directDamageMultiplier: 1
mutator5_changedExplodeEffect: CUSTOM:血溅
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 8.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 8.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 8.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 1.0


[projectile_2]
directDamage:0
life: 60

#speed: 0.3
#invisible: true
instant: true
teleportSource:true
explodeEffect:NONE


[hiddenAction_1]
autoTrigger: if (numberOfUnitsInEnemyTeam(withTag='装甲', withinRange=120, greaterThan=0) or numberOfUnitsInEnemyTeam(withTag='生物', withinRange=120, greaterThan=0)) and (attacking.tags(includes='禁入')==false or numberOfUnitsInEnemyTeam(withTag='装甲', withinRange=10, greaterThan=0)) and not self.hasFlag(id=1) and self.isAttacking()
addResources: setFlag=1
playAnimation: 攻击
temporarilyAddTags: 伪装, 免伤
#showMessageToAllPlayers: 触发1


[hiddenAction_2]
autoTrigger: if ((attacking.tags(includes='禁入') and not self.hasFlag(id=0)) or (not numberOfUnitsInEnemyTeam(withTag='装甲', withinRange=10, greaterThan=0) and self.hasFlag(id=0)) or numberOfUnitsInEnemyTeam(withTag='生物', withinRange=1, greaterThan=0)) and self.hasFlag(id=1)
addResources: unsetFlag=1, unsetFlag=0
temporarilyRemoveTags: 伪装, 免伤
#stopLastAnimation: true
#showMessageToAllPlayers: 触发2
clearAllWaypoints: true


[hiddenAction_3]
autoTrigger: if (numberOfUnitsInEnemyTeam(withTag='清除', withinRange=5, greaterThan=0) or numberOfUnitsInEnemyTeam(withTag='维修清除', withinRange=100, greaterThan=0) or numberOfUnitsInEnemyTeam(withTag='维修技师', withinRange=60, greaterThan=1)) and self.queueSize(empty=true)
alsoQueueAction: 4
#showMessageToAllPlayers: 清1


[hiddenAction_4]
buildSpeed: 5s
alsoTriggerAction: 5
#showMessageToAllPlayers: 清2


[hiddenAction_5]
requireConditional: if numberOfUnitsInEnemyTeam(withTag='清除', withinRange=5, greaterThan=0) or numberOfUnitsInEnemyTeam(withTag='维修清除', withinRange=100, greaterThan=0) or numberOfUnitsInEnemyTeam(withTag='维修技师', withinRange=60, greaterThan=1)
deleteSelf: true
#showMessageToAllPlayers: 清3


[hiddenAction_1级显示] 
autoTrigger: if self.tags(includes='1级') and not self.hasParent() and not self.tags(includes='伪装')


[hiddenAction_2级显示] 
autoTrigger: if self.tags(includes='2级') and not self.hasParent() and not self.tags(includes='伪装')


[hiddenAction_3级显示] 
autoTrigger: if self.tags(includes='3级') and not self.hasParent() and not self.tags(includes='伪装')


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='可寄生', greaterThan=0, withinRange=300)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 可寄生
addWaypoint_target_nearestUnit_maxRange: 300
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_追踪可寄生]
clearAllWaypoints: true
autoTrigger: if attacking.tags(includes='禁入') and not self.hasFlag(id=1) and not self.hasActiveWaypoint(type='move')
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 可寄生
#addWaypoint_target_nearestUnit_maxRange: 250
addWaypoint_target_mapMustBeReachable: true
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_triggerActionIfFailed: 追踪可寄生2
addWaypoint_maxTime: 4s
#showMessageToAllPlayers: 触发


[hiddenAction_追踪可寄生2]
clearAllWaypoints: true
#showMessageToAllPlayers: 触发2


[hiddenAction_禁入]
@copyFrom_skipThisSection: true


[hiddenAction_禁入2]
@copyFrom_skipThisSection: true


[hiddenAction_初始价值]
addResources: 价值=15


[animation_攻击]
body_0s: {frame:7}
body_0.3s: {frame:10}
body_0.6s: {frame:10}
body_0.8s: {frame:7}


[effect_死亡]
scaleFrom: 0.6
scaleTo: 0.6


[effect_炸毁]
scaleFrom: 0.6
scaleTo: 0.6


[effect_电星]
image: ROOT:\共享文件\1类\灰.png
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 4
alpha: 1.2
life: 60
hSpeed: 0.6
dirOffsetRandom: 180
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
fadeInTime: 0
fadeOut: true
attachedToUnit: true
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[effect_移动音效]
image: ROOT:\共享文件\1类\隐藏.png
alsoPlaySound: ROOT:\音频\语音+音效\vterlo1a.wav:0.5, ROOT:\音频\语音+音效\vterlo1b.wav:0.5, ROOT:\音频\语音+音效\vterlo1c.wav:0.5, ROOT:\音频\语音+音效\vterlo2a.wav:0.5, ROOT:\音频\语音+音效\vterlo2b.wav:0.5, ROOT:\音频\语音+音效\vterlo2c.wav:0.5
scaleFrom: 0.6
scaleTo: 0.6
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 500

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/战场维修车.ini
================================================================================


[core]
name: 战场维修车
price: 资金=850
maxHp: 480
mass: 10000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 载具中甲, 装甲, 碾压, 克装甲, 可空, 空下, 可进入坦克碉堡
displayText: Battlefield Repair Vehicle
displayText_zh: 战场维修车
displayDescription: Can repair friendly vehicles and remove terror drone
displayDescription_zh: 可以修复友军载具并移除恐怖机器人
buildSpeed: 10s
transportSlotsNeeded: 4
fogOfWarSightRange: 10
selfRegenRate: 0.06
soundOnAttackOrder:  ROOT:\音频\语音+音效\vgrsata.wav:2, ROOT:\音频\语音+音效\vgrsatb.wav:2, ROOT:\音频\语音+音效\vgrsatc.wav:2, ROOT:\音频\语音+音效\vgrsatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vgrsmoa.wav:2, ROOT:\音频\语音+音效\vgrsmob.wav:2, ROOT:\音频\语音+音效\vgrsmoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vgrssea.wav:2, ROOT:\音频\语音+音效\vgrsseb.wav:2, ROOT:\音频\语音+音效\vgrssec.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vrhistaa.wav, ROOT:\音频\语音+音效\vrhistab.wav, ROOT:\音频\语音+音效\vrhistac.wav, ROOT:\音频\语音+音效\vrhistad.wav


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\战场维修车图标.png
image:        战场维修车.png

total_frames: 1
imageScale: 1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false

showRangeUIGuide: true


[movement]
movementType: LAND

moveSpeed: 1.35
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2
turnAcceleration: 1
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 120
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 战场维修车炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=15


[template_zijin]
price: 850

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/V3导弹车.ini
================================================================================


[core]
name: V3导弹车
price: 资金=1200
maxHp: 300
mass: 15000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 载具轻甲, 装甲, 克建筑, 可空, 空下, V3导弹车, 克生物, 克装甲, 炸飞人
displayText: V3 Launcher
displayText_zh: V3导弹车
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: High\nDamage building: High\nSpecial: The missile will not be intercepted.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：高\n特殊：导弹不会被拦截
buildSpeed: 12s
fogOfWarSightRange: 14
transportSlotsNeeded: 4
energyMax: 1
energyRegen: 0.0020
energyNeedsToRechargeToFull: true
soundOnAttackOrder:  ROOT:\音频\语音+音效\vv3lata.wav:2, ROOT:\音频\语音+音效\vv3latb.wav:2, ROOT:\音频\语音+音效\vv3latc.wav:2, ROOT:\音频\语音+音效\vv3latd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vv3lmob.wav:2, ROOT:\音频\语音+音效\vv3lmoc.wav:2, ROOT:\音频\语音+音效\vv3lmod.wav:2, ROOT:\音频\语音+音效\vv3lmoe.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vv3lsea.wav:2, ROOT:\音频\语音+音效\vv3lseb.wav:2, ROOT:\音频\语音+音效\vv3lsec.wav:2, ROOT:\音频\语音+音效\vv3lsed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vv3lstaa.wav:1.2, ROOT:\音频\语音+音效\vv3lstab.wav:1.2, ROOT:\音频\语音+音效\vv3lstac.wav:1.2


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='北非') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\V3导弹车图标.png
image:        V3导弹车.png

total_frames: 2
image_offsetY: 10
frame_width: 120
frame_height: 120
#image_wreak:  NONE
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 2.5
#maxAttackRange: 150
aimOffsetSpread: 0
shootDelay: 90


[movement]
movementType: LAND

moveSpeed: 0.8
moveAccelerationSpeed: 0.015
moveDecelerationSpeed: 0.020
maxTurnSpeed: 1.5
turnAcceleration: 0.5
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

barrelX: 0
barrelY: -25
barrelHeight: 8
shoot_flame: CUSTOM:开火
limitingRange: 660
limitingMinRange: 150
shoot_sound: ROOT:\音频\语音+音效\vv3latta.wav, ROOT:\音频\语音+音效\vv3lattb.wav
shoot_sound_vol: 2
energyUsage: 1


[projectile_1]
areaDamage: 250
areaRadius: 50

image: V3导弹2.png
life: 600
speed: 4
targetSpeed: 6
initialUnguidedSpeedHeight: 2.0
#initialUnguidedSpeedY: -30
gravity: 0.25
frame: 4
drawSize: 1.0
#teamColorRatio:1
disableLeadTargeting: true
targetGround: true
explodeOnEndOfLife:true
trailEffect: CUSTOM:尾烟*1
trailEffectRate: 2
friendlyFire:true
explodeEffect: CUSTOM:爆炸, CUSTOM:映射
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.8
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.8


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=660)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 建筑
addWaypoint_target_nearestUnit_maxRange: 660
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=630) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 反潜
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=630) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克空军
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='船坞') and not self.hasUnitInTeam(withTag='船坞', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=630) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=630)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 船坞
#showMessageToAllPlayers: 触发6


[hiddenAction_冷却]
autoTrigger: if not self.energy(full=true)
playAnimation: 冷却


[animation_冷却]
start: 1
end: 1
speed: 65


[effect_开火]
image: ROOT:\共享文件\1类\爆炸8.png
scaleFrom: 1.1
scaleTo: 1.1
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸32.png
alsoPlaySound: ROOT:\音频\语音+音效\vhammgexa.wav:2
life: 240
total_frames: 16
animateFrameStart: 0
animateFrameEnd: 15
animateFrameSpeed: 0.35
scaleFrom: 1.0
scaleTo: 1.0
#alpha: 0.85
fadeOut: false
fadeInTime: 0
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 1.5
scaleTo: 0.2
alpha: 0.4
life: 35
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟2.png
life: 60
scaleFrom: 1.0
scaleTo: 0.2
attachedToUnit: false
drawUnderUnits: false
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFramePingPong: false
animateFrameSpeed: 0.25
alwayStartDirAtZero: true
atmospheric: true
#xOffsetRelative: 50
yOffsetRelative: -45


[hiddenAction_初始价值]
addResources: 价值=65


[template_zijin]
price: 1350

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/天启坦克.ini
================================================================================


[core]
name: 天启坦克
price: 资金=1900
maxHp: 900
mass: 12000
radius: 35

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害2.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq, ROOT:\共享文件\3类\闲置修复.xxhq
tags: 原始护甲, 装甲, 载具重甲, 天启坦克, 碾压, 克装甲, 克建筑, 克空军, 可空, 空下
displayText: Apocalypse Tank
displayText_zh: 天启坦克
displayDescription: Target: Ground unit/Air unit\nDamage creature: High\nDamage armor: Very high\nDamage air: High\nDamage building: High\nSpecial: Can crush infantry.\nCan crush small vehicles.\nThe recovery speed increases when you are still.
displayDescription_zh: 攻击目标：地面单位/海面单位/空中单位\n伤害生物：高\n伤害装甲：很高\n伤害建筑：高\n伤害空军：高\n特殊：碾压步兵\n碾压小型载具\n静止不动的时候恢复速度加快。
effectOnDeath: CUSTOM:炸毁, CUSTOM:炸毁2, CUSTOM:烟
techLevel: 2
buildSpeed: 22s
fogOfWarSightRange: 13
transportSlotsNeeded: 6
selfRegenRate: 0.06
soundOnAttackOrder:  ROOT:\音频\语音+音效\vapoata.wav:2, ROOT:\音频\语音+音效\vapoatb.wav:2, ROOT:\音频\语音+音效\vapoatc.wav:2, ROOT:\音频\语音+音效\vapoatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vapomoa.wav:2, ROOT:\音频\语音+音效\vapomob.wav:2, ROOT:\音频\语音+音效\vapomoc.wav:2, ROOT:\音频\语音+音效\vapomod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vaposea.wav:2, ROOT:\音频\语音+音效\vaposeb.wav:2, ROOT:\音频\语音+音效\vaposec.wav:2, ROOT:\音频\语音+音效\vaposed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vapostaa.wav:1.2, ROOT:\音频\语音+音效\vapostab.wav:1.2, ROOT:\音频\语音+音效\vapostac.wav:1.2


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\天启图标.png
image:        天启坦克.png

total_frames: 1
imageScale: 1.00
frame_width: 150
frame_height: 150
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 0.95
moveAccelerationSpeed: 0.003
moveDecelerationSpeed: 0.015
maxTurnSpeed: 1.5
turnAcceleration: 0.5
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

limitingRange: 240
#200
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 60


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 天启炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=225) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=225)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_Ai自动碾压] 
autoTrigger: false


[hiddenAction_Ai自动碾压2]
autoTrigger: false


[hiddenAction_Ai自动碾压3]
autoTrigger: false


[hiddenAction_初始价值]
addResources: 价值=100


[effect_炸毁]
scaleFrom: 1.2
scaleTo: 1.2


[effect_炸毁2]
@copyFromSection: effect_炸毁
priority: veryhigh
delayedStartTimer: 35
scaleFrom: 0.8
scaleTo: 0.8


[effect_烟]
@copyFromSection: effect_炸毁
priority: low
delayedStartTimer: 50
image: ROOT:\共享文件\1类\烟.png
total_frames: 15
animateFrameEnd: 14
scaleFrom: 2.0
scaleTo: 2.0
hOffset: 20


[template_zijin]
price: 1900

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/猛虎炮塔.ini
================================================================================


[core]
name: 猛虎炮塔
price: 2000
maxHp:400
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 低级, 炮塔, 猛虎炮塔, 反隐形


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='苏俄') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
image:       猛虎炮塔.png

total_frames: 1
imageScale:	1.0
frame_width: 80
frame_height: 80
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 15
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 15
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 20
turretTurnSpeed: 3
#maxAttackRange: 150
shootDelay: 10
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 4.5
turnAcceleration: 4.5


[turret_1]
x: 0
y: 0

limitingRange: 180
limitingMinRange: 20
barrelHeight: 10
shoot_flame: CUSTOM:映射
shoot_light: #FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vtigrweaa.wav, ROOT:\音频\语音+音效\vtigrweab.wav
shoot_sound_vol: 2
projectile: 1


[projectile_1]
directDamage: 15
life: 90

speed: 8
image: ROOT:\共享文件\1类\子弹.png
drawSize: 0.5
lightColor: #FFFF5500
lightSize: 0.5
sweepOffsetFromTargetRadius: 0.6
sweepSpeed: 6
explodeEffect: CUSTOM:弹火
mutator0_ifUnitWithTags: 子弹抗性
mutator0_directDamageMultiplier: 0.5
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.2
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.2
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.0


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=180)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 180
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=15


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1.25
scaleTo: 1.25
attachedToUnit: false
alwayStartDirAtZero:true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/水濑2.ini
================================================================================


[core]
name: 水濑2
copyFrom: 水濑.ini
tags: 原始护甲, 装甲, 载具中甲, 水濑, 克装甲, 克生物, 可空, 空下, 可进入坦克碉堡, 两栖, 在水里
showInEditor: false


[graphics]
image:       水濑2.png
dustEffect: false
splastEffect: true


[movement]
moveSpeed: 1.2
maxTurnSpeed: 2
turnAcceleration: 1


[action_位置1]
isVisible: false


[hiddenAction_1]
autoTrigger: if not self.overWater()
convertTo: 水濑


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=175) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 反潜


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=175) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=175) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=175)) and self.hasTakenDamage(withinSeconds=1)

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/磁能坦克.ini
================================================================================


[core]
name: 磁能坦克
price: 资金=1400
maxHp: 400
mass: 10000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq, ROOT:\共享文件\3类\闲置修复.xxhq
tags: 原始护甲, 装甲, 载具中甲, 碾压, 克生物, 克装甲, 可空, 空下, 可进入坦克碉堡, 心控
displayText: Tesla tank
displayText_zh: 磁能坦克
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: High\nDamage building: Medium\nSpecial: Can crush infantry.\nElectromagnetic sputtering at full level.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：高\n伤害建筑：中\n特殊：碾压步兵\n满级闪电有范围伤害
buildSpeed: 14s
transportSlotsNeeded: 4
fogOfWarSightRange: 14
soundOnAttackOrder:  ROOT:\音频\语音+音效\vtesata.wav:2, ROOT:\音频\语音+音效\vtesatb.wav:2, ROOT:\音频\语音+音效\vtesatd.wav:2, ROOT:\音频\语音+音效\vtesatc.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vtesmoa.wav:2, ROOT:\音频\语音+音效\vtesmob.wav:2, ROOT:\音频\语音+音效\vtesmoc.wav:2, ROOT:\音频\语音+音效\vtesmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vtessea.wav:2, ROOT:\音频\语音+音效\vtesseb.wav:2, ROOT:\音频\语音+音效\vtessec.wav:2, ROOT:\音频\语音+音效\vtessed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vtesstaa.wav:1.2, ROOT:\音频\语音+音效\vtesstab.wav:1.2


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\磁能坦克图标.png
image:        磁能坦克.png

total_frames: 1
imageScale: 1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
dustEffect: true
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 1.40
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2.0
turnAcceleration: 0.5


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 磁能坦克炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 240
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=50


[hiddenAction_EMP效果小] 
autoTrigger: false


[template_zijin]
price: 1450

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/战场维修车炮塔.ini
================================================================================


[core]
name: 战场维修车炮塔
price: 0
maxHp: 250
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 炮塔, 步兵战车炮塔4, 维修清除
canRepairBuildings: false
canRepairUnits: true
autoRepair: true
nanoRange: 120
nanoRepairSpeed: 0.6
canRepairUnitsOnlyWithTags: 装甲
#nanoRangeForRepairIsMelee: true
#nanoRangeForRepair: 50


[graphics]
image:        战场维修车炮塔.png

total_frames: 1
imageScale:	1.0
image_offsetY: 10
frame_width: 120
frame_height: 120
#animation_moving_start: 0
#animation_moving_end: 0
#animation_moving_speed: 10
#animation_idle_start: 0
#animation_idle_end: 0
#animation_idle_speed: 10
#animation_attack_start: 0
#animation_attack_end: 0
#animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
repairEffectAtTarget: CUSTOM:修理, CUSTOM:闪光2, CUSTOM:闪光
repairEffectRate: 20


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

isFixedFiring: true
turretTurnSpeed: 3


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 3.0
turnAcceleration: 3.0


[hiddenAction_维修声音]
autoTrigger: if self.hasActiveWaypoint(type='repair') and self.customTimer(laterThanSeconds=2)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vifvrepa.wav:2


[effect_修理]
image: ROOT:\共享文件\1类\灰.png
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 6
alpha: 1.2
life: 60
#120
hSpeed: 0.6
#0.4
hOffsetRandom: 0.2
dirOffsetRandom: 180
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 3
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
#xOffsetRelative: 0
#yOffsetRelative: 0
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[effect_闪光]
#priority:critical
image: ROOT:\共享文件\1类\闪光.png
color: #FFFFFF
life: 8
scaleFrom: 0.4
scaleTo: 0.5
alpha: 1.5
fadeOut: true
fadeInTime: 2
drawUnderUnits: false
attachedToUnit: false
alwayStartDirAtZero: true
atmospheric: false
#dirOffset: 90
#xOffsetRelative: 0
xOffsetRelativeRandom: 0.6
yOffsetRelativeRandom: 0.6
xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5


[effect_闪光2]
@copyFromSection: effect_闪光
#priority:veryhigh
color: #FFAA00
life: 10
scaleFrom: 1.1
scaleTo: 1.2
alpha: 1
xOffsetRelativeRandom: 1.2
yOffsetRelativeRandom: 1.2
xSpeedAbsoluteRandom: 0.75
ySpeedAbsoluteRandom: 0.75
showInFog: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/半履带车.ini
================================================================================


[core]
name: 半履带车
price: 资金=650
maxHp: 300
mass: 4000
radius: 20

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具中甲, 小型, 半履带车, 克空军, 克生物, 可空, 空下, 可进入坦克碉堡
displayText: Half Track
displayText_zh: 半履带车
displayDescription: Target: Ground unit/Air unit\nDamage creature: High\nDamage armor: Low\nDamage air: High\nDamage building: Low\nSpecial: Can transport 4 infantry.
displayDescription_zh: 攻击目标：地面单位/海面单位/空中单位\n伤害生物：高\n伤害装甲：低\n伤害建筑：低\n伤害空军：高\n特殊：碾压步兵
buildSpeed: 5s
fogOfWarSightRange: 11
maxTransportingUnits: 4
transportSlotsNeeded: 2
transportUnitsOnTeamChangeKeepCurrentTeam: true
transportUnitsRequireTag: 生物, 恐怖机器人
transportUnitsBlockOtherTransports: false
transportUnitsKillOnDeath: false
effectOnDeath: CUSTOM:死亡, CUSTOM:炸毁, CUSTOM:轮子*4
soundOnAttackOrder:  ROOT:\音频\语音+音效\vflaata.wav:2, ROOT:\音频\语音+音效\vflaatb.wav:2, ROOT:\音频\语音+音效\vflaatc.wav:2, ROOT:\音频\语音+音效\vflaatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vflamoa.wav:2, ROOT:\音频\语音+音效\vflamob.wav:2, ROOT:\音频\语音+音效\vflamoc.wav:2, ROOT:\音频\语音+音效\vflamod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vflasea.wav:2, ROOT:\音频\语音+音效\vflaseb.wav:2, ROOT:\音频\语音+音效\vflasec.wav:2, ROOT:\音频\语音+音效\vflased.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vflastaa.wav:1.2, ROOT:\音频\语音+音效\vflastab.wav:1.2, ROOT:\音频\语音+音效\vflastac.wav:1.2, ROOT:\音频\语音+音效\vflastad.wav:1.2


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\半履带车图标.png
image:       半履带车.png

drawLayer: ground
imageScale: 1.0
total_frames: 1
frame_width: 126
frame_height: 126
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
#animation_attack_start: 1
#animation_attack_end: 1
#animation_attack_speed: 8
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
#lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

#maxAttackRange: 300
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 2.4
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 3
turnAcceleration: 2
reverseSpeedPercentage: 0.95


[attachment_炮塔]
x: 0
y: 0

#height: 0
setDrawLayerOnTop: true
onCreateSpawnUnitOf: 半履带车炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 330
resourceUsage: ammo=1
canAttackLandUnits: false


[turret_2]
x: 0
y: 0

delay: 999
limitingRange: 180
canAttackFlyingUnits: false
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[action_位置1]
@define slotId: 0
isVisible: if self.transportingCount(slot=${slotId}, greaterThan=0)
isActive: if not self.isMoving()
buildSpeed: 0s
text: unload
text_zh: 卸载
textAddUnitName: unitRef self.transporting(slot=${slotId})
description: Click to unload unit
description_zh: 点击卸载单位
displayType: action
unitShownInUI: unitRef self.transporting(slot=${slotId})
forceUnloadTransportNow:true
forceUnloadTransportNow_onlyOnSlot:${slotId}
#isActive: if self.height(lessThan=3)


[action_位置2]
@copyFromSection: action_位置1
@define slotId: 1


[action_位置3]
@copyFromSection: action_位置1
@define slotId: 2


[action_位置4]
@copyFromSection: action_位置1
@define slotId: 3


[action_位置5]
@copyFromSection: action_位置1
@define slotId: 4


[action_位置6]
@copyFromSection: action_位置1
@define slotId: 5


[hiddenAction_卸载声]
autoTrigger: if self.isTransportUnloading() and not self.isMoving()
playSoundAtUnit:  ROOT:\音频\语音+音效\gexit1a.wav
#showQuickWarLogToAllPlayers: 卸载


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=100) and self.hp(lessThan=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克装甲
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and self.hp(lessThan=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=25


[effect_轮子]
image: ROOT:\共享文件\1类\轮子.png
total_frames: 4
animateFrameStart: 0
animateFrameEnd: 3
animateFrameSpeed: 0.15
animateFrameLooping: true
scaleFrom:0.6
scaleTo: 0.6
life: 150
hSpeed: 2
hSpeedRandom: 3
dirSpeedRandom: 20
xSpeedAbsoluteRandom: 3
physics: true
fadeInTime: 0
fadeOut: false
#attachedToUnit: true
drawUnderUnits: false
spawnChance: 0.5


[template_zijin]
price: 650


[ai]
disableUse: false
useAsTransport: false
useAsAttacker: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/苏联基地车（美革）.ini
================================================================================


[core]
name: 美革基地车
copyFrom: 苏联基地车.ini
showInEditor: false

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/磁散射.ini
================================================================================

[core]
name: 磁散射
price:0
maxHp:99999
mass:0
radius:0

tags: 电死人
showInEditor: false
hideScorchMark:true
explodeOnDeath:false
explodeOnDeathGroundCollosion:false
numBitsOnDeath:0
armour:99999
energyMax:3
energyRegen:0
dieOnZeroEnergy:true
canNotBeDirectlyAttacked: true
isUnselectable: true
isBuilding: true
footprint:1,1,-1,-1
fogOfWarSightRange:0


[graphics]
image:  ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack:true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretMultiTargeting:true
aimOffsetSpread: 10
turretSize:0
shootDelay: 120
turretTurnSpeed: 99


[movement]
movementType: NONE


[turret_1]
x:0
y:0

energyUsage:1
limitingMinRange:10
limitingRange: 20


[turret_2]
x:0
y:0

energyUsage:1
limitingMinRange:20
limitingRange:30


[turret_3]
x:0
y:0

energyUsage:1
limitingMinRange:30
limitingRange:40


[turret_4]
x:0
y:0

energyUsage:1
limitingMinRange:40
limitingRange:50


[turret_5]
x:0
y:0

energyUsage:1
limitingMinRange:50
limitingRange:60


[turret_6]
x:0
y:0

energyUsage:1
limitingMinRange:60
limitingRange:70


[turret_7]
x:0
y:0

energyUsage:1
limitingMinRange:70
limitingRange:80


[projectile_1]
areaDamage: 40
life: 30

areaRadius: 5
lightingEffect: true
instant:true
lightSize: 0
areaDamageNoFalloff: true
explodeEffect: CUSTOM:映射, CUSTOM:电星
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.50
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.50
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.50
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.50
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.20
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 2.00


[projectile_2]
@copyFromSection: projectile_1
areaDamage: 40
life: 30

targetGroundSpread: 80


[hiddenAction_1]
addResources: energy=-1
autoTrigger:true
fireTurretXAtGround:1
fireTurretXAtGround_withProjectile:2
fireTurretXAtGround_withOffset:0,0


[hiddenAction_2]
@copyFromSection: hiddenAction_1


[hiddenAction_3]
@copyFromSection: hiddenAction_1


[hiddenAction_删除]
autoTrigger:if self.timeAlive(laterThanSeconds=1)
deleteSelf:true


[effect_电星]
image: ROOT:\共享文件\1类\大电花.png
scaleFrom: 0.7
scaleTo: 0.7
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_血溅]
image: ROOT:\共享文件\1类\灰.png
color: #FFFF0000
scaleFrom: 0.6
scaleTo: 4
alpha: 1.2
life: 60
hSpeed: 0.6
hOffsetRandom: 0.2
dirOffsetRandom: 180
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 3
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
#color: #FFFFFF00
scaleFrom: 0.6
scaleTo: 0.2
alpha: 0.5
life: 15
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/苏联矿车.ini
================================================================================


[core]
name: 苏联矿车
price: 资金=1400
maxHp: 1400
mass: 1200
radius: 20

copyFrom: ROOT:\共享文件\3类\血溅.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 免疫心控, 载具中甲, 矿车, 碾压, 克生物, 可空, 空下, 可进入坦克碉堡, 不可劫持, 免辐射, 辐射减伤
#showActionsWithMixedSelectionIfOtherUnitsHaveTag: 矿车
#logIfCreditResourceUsed: true
displayText: War Miner
displayText_zh: 苏联矿车
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Low\nDamage building: Low\nSpecial: Collect minerals.\nMore minerals transported.\n Can crush infantry.\nSelf-healing.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：低\n伤害建筑：低\n特殊：碾压步兵\n可自我修复
canReclaimResources: true
canReclaimResourcesOnlyWithTags: 矿石
#canReclaimResourcesNextSearchRange: 500
nanoRangeForReclaim: 20
nanoRangeForReclaimIsMelee: true
buildSpeed: 14s
fogOfWarSightRange: 10
transportSlotsNeeded: 4
selfRegenRate: 0.06
#numBitsOnDeath: 5
soundOnAttackOrder:  ROOT:\音频\语音+音效\vwarata.wav:2, ROOT:\音频\语音+音效\vwaratb.wav:2, ROOT:\音频\语音+音效\vwaratc.wav:2, ROOT:\音频\语音+音效\vwaratd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vwarmoa.wav:2, ROOT:\音频\语音+音效\vwarmob.wav:2, ROOT:\音频\语音+音效\vwarmoc.wav:2, ROOT:\音频\语音+音效\vwarmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vwarsea.wav:2, ROOT:\音频\语音+音效\vwarseb.wav:2, ROOT:\音频\语音+音效\vwarsec.wav:2, ROOT:\音频\语音+音效\vwarsed.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\苏联矿车图标.png
image:        苏联矿车.png

total_frames: 1
imageScale: 1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
reclaimEffect: CUSTOM:回收
#reclaimEffectAtTarget: CUSTOM:回收
reclaimEffectRate: 20
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 8
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
#dustEffect: ture


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:  if not self.hasParent(withTag='空军') and not self.hasFlag(id=28) and not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

#disablePassiveTargeting: true
turretSize: 10
turretTurnSpeed: 3
#maxAttackRange: 150
#shootDelay: ${int(12*(1/gameSpeedRate))}
#30


[movement]
movementType: LAND

moveSpeed: 0.9
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2.0
turnAcceleration: 0.5


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 苏联矿车炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 195
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[action_脱离]
text: Leave
text_zh: 脱离
buildSpeed:0s
isVisible: if self.hasParent(withTag='矿厂')
disconnectFromParent: true


[action_移动去卸载]
text: Back
text_zh: 卸载
buildSpeed:0
isVisible: if not self.hasParent(withTag='矿厂')
isActive: if self.hasUnitInTeam(withTag='矿厂')
autoTrigger: if self.hasResources(矿石=0.15) and self.hasUnitInTeam(withTag='矿厂空') and not self.hasActiveWaypoint(type='loadInto') and not self.hasActiveWaypoint(type='move') and not self.hasParent()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 矿厂空
addWaypoint_target_nearestUnit_team: own
addWaypoint_triggerActionIfFailed: 移动去卸载2
#showMessageToAllPlayers: 移动去卸载1
clearActiveWaypoint: true


[hiddenAction_移动去卸载2]
autoTrigger: if self.hasResources(矿石=0.15) and not self.hasUnitInTeam(withTag='矿厂空') and not self.hasUnitInTeam(withTag='矿厂', withinRange=100) and not self.hasActiveWaypoint(type='loadInto') and not self.hasActiveWaypoint(type='move') and not self.hasParent() and self.hasUnitInTeam(withTag='矿厂')
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 矿厂
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_mapMustBeReachable: false
addWaypoint_triggerActionIfFailed: 清除路线
#showMessageToAllPlayers: 移动2
clearActiveWaypoint: true


[hiddenAction_寻找]
autoTriggerOnEvent: created
autoTrigger: if self.resource(type='矿石', lessThan=0.15) and (self.hasUnitInTeam(withTag='矿厂', withinRange=100) or numberOfUnitsInAggressiveTeam(withTag='矿石转', greaterThan=0, withinRange=200)) and not self.hasActiveWaypoint(type='reclaim') and not self.hasActiveWaypoint(type='loadInto') and not self.hasActiveWaypoint(type='move') and not self.hasParent() and self.hasUnitInTeam(withTag='矿厂')
addWaypoint_type: reclaim
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 矿石
addWaypoint_target_nearestUnit_team: any
addWaypoint_target_mapMustBeReachable:true
addWaypoint_triggerActionIfFailed: 清除路线
#showMessageToAllPlayers: 寻找矿石


[hiddenAction_清除路线]
autoTrigger: if self.hasActiveWaypoint(type='reclaim') and self.noUnitInTeam(withTag='矿厂')
clearActiveWaypoint: true
#showMessageToAllPlayers: 清除路线


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=195)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 195
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=165) and not numberOfUnitsInEnemyTeam(withTag='恐怖机器人', greaterThan=0, withinRange=50) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and not numberOfUnitsInEnemyTeam(withTag='恐怖机器人', greaterThan=0, withinRange=50) and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_进入超时空间]
autoTrigger: if (numberOfUnitsInNeutralTeam(withTag='载入传送', greaterThan=0, withinRange=80) or numberOfUnitsInTeam(withTag='载入传送', greaterThan=0, withinRange=80)) and not self.hasParent() and not self.hasActiveWaypoint(type='move') and not self.isAttacking() and not self.isControlledByAI()


[hiddenAction_初始价值]
addResources: 价值=40


[hiddenAction_遭受攻击]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='矿车受击')
temporarilyAddTags: 矿车受击


[hiddenAction_遭受攻击2]
autoTrigger: if not self.hasTakenDamage(withinSeconds=1) and self.tags(includes='矿车受击')
temporarilyRemoveTags: 矿车受击


[effect_回收]
image: ROOT:\2中立\矿石收.png
scaleFrom: 2
#1.2
scaleTo: 0
total_frames: 2
animateFrameStart: 0
animateFrameEnd: 1
animateFrameSpeed: 0.2
life: 20
fadeInTime: 0
fadeOut: false
drawUnderUnits:true
alwayStartDirAtZero: true


[effect_死亡]
scaleFrom: 1.2
scaleTo: 1.2


[resource_矿石]
displayName: 矿石
#displayColor:#FFFFFF00


[template_zijin]
price: 1400


[ai]
#useAsBuilder:false
useAsHarvester: true
useAsAttacker: false
#disableUse:true
onlyUseAsHarvester_ifBaseHasUnitTagged: 矿厂
whenUsingAsHarvester_recommendedInEachBase: 2
whenUsingAsHarvester_recommendedGlobal:6

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/天启炮塔.ini
================================================================================


[core]
name: 天启炮塔
price: 0
maxHp:400
mass: 3000
radius: 10

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
#displayText: 天启炮塔
tags: 高级, 炮塔, 天启炮塔
showInEditor: false


[graphics]
image:        天启炮塔.png

total_frames: 1
imageScale: 1.0
frame_width: 150
frame_height: 150
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 10
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 10
#animation_attack_start: 1
#animation_attack_end: 1
#animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: if parent.isMoving==false and not self.hasParent(withTag='禁止攻击')
canAttackLandUnits: if parent.isMoving==false and not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 40
turretTurnSpeed: 2
#maxAttackRange: 200
shootDelay: ${int(68*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 1.5
turnAcceleration: 1.5


[turret_1]
x: 0
y: 0

barrelX: 6
barrelY: 70
barrelHeight: 12
limitingRange: 240
limitingMinRange: 60
canAttackFlyingUnits: false
shoot_sound: ROOT:\音频\语音+音效\vapoat1a.wav
shoot_sound_vol: 2
shoot_flame: CUSTOM:映射, CUSTOM:开火
shoot_light: #FFccCCEE
projectile: 1


[turret_2]
x: 0
y: 0

barrelX: -4
copyFrom: 1
linkDelayWithTurret: 1
attachedTo:  1
slave: true
warmup: 20


[turret_3]
x: 0
y: 0

warmup: 0
barrelX: 6
barrelY: 10
barrelHeight: 10
delay: 120
limitingRange: 270
limitingMinRange: 0
shoot_flame: CUSTOM:映射
shoot_sound: ROOT:\音频\语音+音效\vapoat2a.wav, ROOT:\音频\语音+音效\vapoat2b.wav, ROOT:\音频\语音+音效\vapoat2c.wav
shoot_sound_vol: 2
shoot_light: #FFFFFFFF
projectile: 2


[turret_4]
x: 0
y: 0

copyFrom: 3
barrelX: -4
linkDelayWithTurret: 3
attachedTo:  3
slave: true
warmup: 20


[projectile_1]
areaDamage: 125
life: 60

areaRadius: 40
frame: 5
speed: 8
drawSize: 0.9
image: ROOT:\共享文件\1类\炮弹2.png
explodeEffect: CUSTOM:映射3, CUSTOM:爆炸
effectOnCreate: CUSTOM:映射2
largeHitEffect: true
hitSound: true
initialUnguidedSpeedHeight: 1.2
gravity: 0.18
friendlyFire: true
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.20
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.20
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.20
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.80
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 1.00
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.80
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.00
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.80
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.00
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[projectile_2]
spawnProjectilesOnEndOfLife: 2-2
spawnProjectilesOnExplode: 2-2
#directDamage: 50
areaDamage: 0
life: 35

areaRadius: 10
frame: 4
speed: 0
targetSpeed: 2
drawSize: 0.8
explodeOnEndOfLife:true
ballistic: true
ballistic_delaymove_height: 30
ballistic_height: 70
trailEffect:CUSTOM:尾烟*1
trailEffectRate: 1.0
explodeEffect: NONE


[projectile_2-2]
#directDamage: 50
areaDamage: 55
life: 240

areaRadius: 20
frame: 4
speed: 2
targetSpeed: 4
drawSize: 0.8
friendlyFire: true
explodeOnEndOfLife:true
autoTargetingOnDeadTarget:true
#trailEffect: true
trailEffect:CUSTOM:尾烟*1
trailEffectRate: 1.2
delayedStartTimer: 0
#ballistic: true
#ballistic_delaymove_height: 20
#ballistic_height: 70
explodeEffect: CUSTOM:弹火2
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.4
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.4
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.6
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.8
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 0.8
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.6
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.4
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.2


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=240)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 240
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=100


[effect_开火]
image: ROOT:\共享文件\1类\开火特效3.png
scaleFrom: 1.05
scaleTo: 1.05
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
attachedToUnit:false


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸11.png
alsoPlaySound: ROOT:\音频\语音+音效\vapogexpa.wav:2, ROOT:\音频\语音+音效\vapogexpb.wav:2
scaleFrom: 1.5
scaleTo: 1.5
total_frames: 16
animateFrameStart: 0
animateFrameEnd: 15
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_弹火2]
image: ROOT:\共享文件\1类\爆炸16.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_尾烟]
image: ROOT:\共享文件\1类\爆炸10.png
life: 60
scaleFrom: 0.4
scaleTo: 0.2
attachedToUnit:false
drawUnderUnits:false
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFramePingPong: false
animateFrameSpeed: 0.35
alwayStartDirAtZero:true
atmospheric:true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
@copyFromSection: effect_映射
scaleFrom:0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/水濑炮塔.ini
================================================================================


[core]
name: 水濑炮塔
price: 0
maxHp: 200
mass: 2500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 低级, 炮塔, 水濑炮塔, 打爆死人


[graphics]
image:        水濑炮塔.png

total_frames: 1
imageScale: 1.0
frame_width: 117
frame_height: 117
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 15
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 15
#animation_attack_start: 1
#animation_attack_end: 2
#animation_attack_speed: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.hasParent(withTag='在水里')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 1
turretTurnSpeed: 3
shootDelay: ${int(8*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 3.5
turnAcceleration: 3.5


[turret_1]
x: 0
y: 0

barrelX: 0
barrelY: 35
barrelHeight: 10
limitingRange: 180
limitingMinRange: 20
shoot_flame: CUSTOM:开火
shoot_light: #FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\votteweaa.wav
shoot_sound_vol: 2
projectile: 1


[turret_2]
x: 0
y: 0

barrelX: 0
barrelY: 10
barrelHeight: 15
limitingRange: 225
limitingMinRange: 40
canOnlyAttackUnitsWithoutTags: 生物, 生物2
shoot_flame: CUSTOM:开火2
shoot_light: #FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vottewea2a.wav
shoot_sound_vol: 2
delay: 120
projectile: 2


[projectile_1]
areaDamage: 30
life: 120

areaRadius: 30
speed: 8
image: ROOT:\共享文件\1类\子弹.png
drawSize: 0.6
lightColor: #FFFF5500
lightSize: 0.5
explodeEffect: CUSTOM:爆炸
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.8
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.4
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0


[projectile_2]
#directDamage: 50
areaDamage: 125
life: 240

areaRadius: 30
frame: 4
speed: 12
explodeOnEndOfLife:true
autoTargetingOnDeadTarget:true
trailEffect: true
#trailEffect: CUSTOM:尾烟
trailEffectRate: 1.2
explodeEffect: CUSTOM:爆炸2
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.08
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.08
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.08
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.80
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.80
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.60
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.80
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.60
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.00


[hiddenAction_1]
autoTrigger: if self.hasParent(withTag='在水里')
convertTo: 水濑炮塔2
convertTo_keepCurrentFields: shootDamageMultiplier, maxTurnSpeed


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=225)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 225
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=180)
@copyFromSection: hiddenAction_Ai攻击装甲
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 180


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=35


[effect_开火]
image: ROOT:\共享文件\1类\开火特效3.png
scaleFrom: 0.6
scaleTo: 0.6
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
attachedToUnit:false


[effect_开火2]
image: ROOT:\共享文件\1类\开火特效3.png
scaleFrom: 0.8
scaleTo: 0.8
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
attachedToUnit:false


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸19.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpifva.wav:2, ROOT:\音频\语音+音效\gexpifvb.wav:2, ROOT:\音频\语音+音效\gexpifvc.wav:2
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit:false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_爆炸2]
image: ROOT:\共享文件\1类\爆炸.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpgrena.wav:2, ROOT:\音频\语音+音效\gexpgrenb.wav:2, ROOT:\音频\语音+音效\gexpgrenc.wav:2
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit:false
drawUnderUnits:false
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/自爆卡车.ini
================================================================================


[core]
name: 自爆卡车
price: 资金=1200
maxHp: 240
mass: 10000
radius: 20

copyFrom: ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具轻甲, 小型, 克生物, 克装甲, 克建筑, 自爆卡车, 可空, 空下, 辐射减伤
displayText: Demolition Truck
displayText_zh: 自爆卡车
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage building: High\nSpecial: Suicide attack
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：高\n特殊：碾压步兵\n自杀式袭击
buildSpeed: 12s
transportSlotsNeeded: 2
fireTurretXAtSelfOnDeath: 1
explodeOnDeath: false
fogOfWarSightRange: 10
#explodeOnDeathGroundCollosion: false
effectOnDeath: CUSTOM:死亡, CUSTOM:映射, CUSTOM:爆炸
soundOnAttackOrder:  ROOT:\音频\语音+音效\vdemata.wav:2, ROOT:\音频\语音+音效\vdematb.wav:2, ROOT:\音频\语音+音效\vdematc.wav:2, ROOT:\音频\语音+音效\vdematd.wav:2, ROOT:\音频\语音+音效\vdematc.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vdemmoa.wav:2, ROOT:\音频\语音+音效\vdemmob.wav:2, ROOT:\音频\语音+音效\vdemmoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vdemsea.wav:2, ROOT:\音频\语音+音效\vdemseb.wav:2, ROOT:\音频\语音+音效\vdemsec.wav:2, ROOT:\音频\语音+音效\vdemsed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vdemstaa.wav:1.5, ROOT:\音频\语音+音效\vdemstab.wav:1.5, ROOT:\音频\语音+音效\vdemstac.wav:1.5


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\自爆卡车图标.png
image:        自爆卡车.png

imageScale:	1.0
total_frames: 1
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
#lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.hasParent(withTag='空军') and not self.hasFlag(id=28) and not self.hasFlag(id=1) and not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

dieOnAttack: true
isMelee: true
isFixedFiring: true
turretSize: 0
turretTurnSpeed: 6
maxAttackRange: 20


[movement]
movementType: LAND

moveSpeed: 2.0
moveAccelerationSpeed: 0.018
moveDecelerationSpeed: 0.015
maxTurnSpeed: 2.0
turnAcceleration: 1.0


[turret_1]
x: 0
y: 0

#limitingRange: 40
#resourceUsage: hp=400


[projectile_1]
areaDamage: 400
life: 0

areaRadius: 240
areaExpandTime: 15
targetGround:true
explodeOnEndOfLife:true
#instant: true
friendlyFire: true
largeHitEffect: true
explodeEffect: NONE
spawnUnit: 辐射
mutator0_ifUnitWithTags: 自爆卡车
mutator0_areaDamageMultiplier: 0.8
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.65
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.65
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.50
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.65
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.45
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.45
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.50
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.25
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.00
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.00


[action_1]
text: No attack
text_zh: 禁止攻击
description: No attack any unit
description_zh: 禁止攻击任何单位
isVisible: if not self.hasFlag(id=1)
displayType: upgrade
buildSpeed: 0s
addResources: setFlag=1


[action_2]
text: Allow attack
text_zh: 自动攻击
description: Allowed to automatically attack any unit
description_zh: 允许自动攻击任何单位
#autoTriggerOnEvent: newWaypointGivenByPlayer
isVisible: if self.hasFlag(id=1)
displayType: upgrade
buildSpeed: 0s
addResources: unsetFlag=1


[action_3]
text: Detonate
text_zh: 引爆
description: Explosion in place
description_zh: 原地引爆自爆卡车
isActive: if not self.tags(includes='禁止攻击')
isVisible: if self.hasFlag(id=1)
displayType: upgrade
buildSpeed: 0s
addResources: hp=-400


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=75


[effect_死亡]
image: ROOT:\共享文件\1类\死亡.png
life: 1200
scaleFrom: 1
scaleTo: 1
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸23.png
alsoPlaySound: ROOT:\音频\语音+音效\vdemdiea.wav:2
scaleFrom: 1.35
scaleTo: 1.35
total_frames: 24
animateFrameStart: 0
animateFrameEnd: 23
animateFrameSpeed: 0.35
yOffsetRelative: 0
delayedStartTimer: 0
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
alwayStartDirAtZero: true
attachedToUnit: false


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 2.5
scaleTo: 0.2
alpha: 0.4
life: 360
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero: true


[template_zijin]
price: 1500

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/苏联基地车（北非）.ini
================================================================================


[core]
name: 北非基地车
copyFrom: 苏联基地车.ini
showInEditor: false

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/水濑.ini
================================================================================


[core]
name: 水濑
price: 资金=700
maxHp: 400
mass: 6000
radius: 20

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具中甲, 水濑, 克装甲, 克生物, 可空, 空下, 可进入坦克碉堡, 两栖
displayText: Otter IFV
displayText_zh: 水濑步兵战车
displayDescription: Target: Ground unit/Air unit\nDamage creature: High\nDamage armor: Low\nDamage air: High\nDamage building: Low\nSpecial: Can transport 4 infantry.
displayDescription_zh: 攻击目标：地面单位/海面单位/空中单位\n伤害生物：高\n伤害装甲：低\n伤害建筑：低\n伤害空军：高\n特殊：碾压步兵
buildSpeed: 6s
fogOfWarSightRange: 11
maxTransportingUnits: 4
transportSlotsNeeded: 3
transportUnitsOnTeamChangeKeepCurrentTeam: true
transportUnitsRequireTag: 生物, 恐怖机器人
transportUnitsBlockOtherTransports: false
transportUnitsKillOnDeath: false
soundOnAttackOrder:  ROOT:\音频\语音+音效\votteatta.wav:2, ROOT:\音频\语音+音效\votteattb.wav:2, ROOT:\音频\语音+音效\votteattc.wav:2, ROOT:\音频\语音+音效\votteattd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vottemova.wav:2, ROOT:\音频\语音+音效\vottemovb.wav:2, ROOT:\音频\语音+音效\vottemovc.wav:2, ROOT:\音频\语音+音效\vottemovd.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vottesela.wav:2, ROOT:\音频\语音+音效\votteselb.wav:2, ROOT:\音频\语音+音效\votteselc.wav:2, ROOT:\音频\语音+音效\votteseld.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vottestaa.wav:1.2, ROOT:\音频\语音+音效\vottestab.wav:1.2


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\水濑图标.png
image:       水濑.png

drawLayer: ground
imageScale: 1.0
total_frames: 1
frame_width: 117
frame_height: 117
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
#animation_attack_start: 1
#animation_attack_end: 1
#animation_attack_speed: 8
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
#lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

#maxAttackRange: 300


[movement]
movementType: HOVER

moveSpeed: 1.8
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2.4
turnAcceleration: 1.2
reverseSpeedPercentage: 0.95


[attachment_炮塔]
x: 0
y: 0

#height: 0
setDrawLayerOnTop: true
onCreateSpawnUnitOf: 水濑炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 180
limitingMinRange: 20
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[action_位置1]
@define slotId: 0
isVisible: if self.transportingCount(slot=${slotId}, greaterThan=0)
isActive: if not self.isMoving()
buildSpeed: 0s
text: unload
text_zh: 卸载
textAddUnitName: unitRef self.transporting(slot=${slotId})
description: Click to unload unit
description_zh: 点击卸载单位
displayType: action
unitShownInUI: unitRef self.transporting(slot=${slotId})
forceUnloadTransportNow:true
forceUnloadTransportNow_onlyOnSlot:${slotId}
#isActive: if self.height(lessThan=3)


[action_位置2]
@copyFromSection: action_位置1
@define slotId: 1


[action_位置3]
@copyFromSection: action_位置1
@define slotId: 2


[action_位置4]
@copyFromSection: action_位置1
@define slotId: 3


[hiddenAction_1]
autoTrigger: if self.overWater()
convertTo: 水濑2


[hiddenAction_卸载声]
autoTrigger: if self.isTransportUnloading() and not self.isMoving()
playSoundAtUnit:  ROOT:\音频\语音+音效\gexit1a.wav:2
#showQuickWarLogToAllPlayers: 卸载


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=100) and self.hp(lessThan=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克装甲
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and self.hp(lessThan=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=35


[template_zijin]
price: 700


[ai]
disableUse: false
useAsTransport: false
useAsAttacker: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/犀牛坦克.ini
================================================================================


[core]
name: 犀牛坦克
price: 资金=850
maxHp: 500
mass: 9000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 载具中甲, 装甲, 碾压, 克装甲, 可空, 空下, 可进入坦克碉堡
displayText: Rhino Tank
displayText_zh: 犀牛坦克
displayDescription: Target: Ground unit\nDamage creature: Low\nDamage armor: High\nDamage building: Medium\nSpecial: Can crush infantry.\nDeath will have wreckage
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：低\n伤害装甲：高\n伤害建筑：中\n特殊：碾压步兵
buildSpeed: 10s
fogOfWarSightRange: 14
transportSlotsNeeded: 4
soundOnAttackOrder:  ROOT:\音频\语音+音效\vgrsata.wav:2, ROOT:\音频\语音+音效\vgrsatb.wav:2, ROOT:\音频\语音+音效\vgrsatc.wav:2, ROOT:\音频\语音+音效\vgrsatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vgrsmoa.wav:2, ROOT:\音频\语音+音效\vgrsmob.wav:2, ROOT:\音频\语音+音效\vgrsmoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vgrssea.wav:2, ROOT:\音频\语音+音效\vgrsseb.wav:2, ROOT:\音频\语音+音效\vgrssec.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vrhistaa.wav, ROOT:\音频\语音+音效\vrhistab.wav, ROOT:\音频\语音+音效\vrhistac.wav, ROOT:\音频\语音+音效\vrhistad.wav


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\犀牛图标.png
image:        犀牛坦克.png

total_frames: 1
imageScale: 1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 1.30
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2
turnAcceleration: 1
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95
joinsGroupFormations: true 


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 180
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 犀牛炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=40


[template_zijin]
price: 950

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/天蝎坦克.ini
================================================================================


[core]
name: 天蝎坦克
price: 资金=950
maxHp: 400
mass: 8000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 载具中甲, 装甲, 克建筑, 可空, 空下, 天蝎坦克, 克生物, 克装甲, 辐射死人
displayText: Scorpio Tank
displayText_zh: 天蝎坦克
displayDescription: Target: Ground unit\nDamage creature: Medium\nDamage armor: High\nDamage building: Medium\nSpecial: Can crush infantry.\nRadiation left after attack
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：中\n伤害装甲：高\n伤害建筑：中\n特殊：碾压步兵\n攻击后留下辐射
buildSpeed: 9s
fogOfWarSightRange: 14
transportSlotsNeeded: 4
unitsSpawnedOnDeath: 辐射2*2
soundOnAttackOrder:  ROOT:\音频\语音+音效\vscoata.wav:2, ROOT:\音频\语音+音效\vscoatb.wav:2, ROOT:\音频\语音+音效\vscoatc.wav:2, ROOT:\音频\语音+音效\vscoatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vscomoa.wav:2, ROOT:\音频\语音+音效\vscomob.wav:2, ROOT:\音频\语音+音效\vscomoc.wav:2, ROOT:\音频\语音+音效\vscomod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vscosea.wav:2, ROOT:\音频\语音+音效\vscoseb.wav:2, ROOT:\音频\语音+音效\vscosec.wav:2, ROOT:\音频\语音+音效\vscosed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vscostaa.wav:1.2, ROOT:\音频\语音+音效\vscostab.wav:1.2


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\天蝎图标.png
image:        天蝎坦克.png

total_frames: 1
image_offsetY: 10
frame_width: 108
frame_height: 108
#image_wreak:  NONE
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 2.5
#maxAttackRange: 150
aimOffsetSpread: 0
shootDelay: 120
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 1.50
moveAccelerationSpeed: 0.015
moveDecelerationSpeed: 0.015
maxTurnSpeed: 2.0
turnAcceleration: 0.5
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

barrelY: 35
barrelHeight: 10
limitingRange: 225
limitingMinRange: 60
shoot_flame: CUSTOM:开火
shoot_sound: ROOT:\音频\语音+音效\vrhiatta.wav, ROOT:\音频\语音+音效\vrhiattb.wav, ROOT:\音频\语音+音效\vrhiattc.wav, ROOT:\音频\语音+音效\vrhiattd.wav
shoot_sound_vol: 2.0
projectile: 1
onShoot_triggerActions: 开火冲击波
recoilOffset: -1
recoilOutTime: 5
recoilReturnTime: 10


[projectile_1]
areaDamage: 120
life: 180

areaRadius: 20
frame: 5
speed: 9
drawSize: 0.8
spawnUnit: 辐射2
image: ROOT:\共享文件\1类\炮弹2.png
explodeEffect: CUSTOM:映射3, CUSTOM:爆炸, CUSTOM:开火冲击波
effectOnCreate: CUSTOM:映射2
largeHitEffect: true
hitSound: true
initialUnguidedSpeedHeight: 2
gravity: 0.2
friendlyFire: true
targetGround: true
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.6
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=480)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 225
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护') and not self.hasActiveWaypoint(type='touchTarget') 
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=215) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=215)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护') and not self.hasActiveWaypoint(type='touchTarget') 
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=40


[hiddenAction_开火冲击波]
spawnEffects: CUSTOM:开火冲击波


[effect_开火]
image: ROOT:\共享文件\1类\开火特效3.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
attachedToUnit:false
hOffset: 0


[effect_开火冲击波]
image: ROOT:\共享文件\1类\冲击波2.png
scaleFrom: 0.9
scaleTo: 0.9
alpha: 0.8
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.80
alwayStartDirAtZero: true
attachedToUnit: false
drawUnderUnits: true
hOffset: -12


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸26.png
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
@copyFromSection: effect_映射
scaleFrom:0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false


[template_zijin]
price: 950

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/苏联矿车炮塔.ini
================================================================================


[core]
name: 苏联矿车炮塔
price: 2000
maxHp:400
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 低级, 炮塔, 苏联矿车炮塔


[graphics]
image:        苏联矿车炮塔.png

total_frames: 1
imageScale: 1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 10
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 10
#animation_attack_start: 1
#animation_attack_end: 1
#animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
#maxAttackRange: 150
shootDelay: ${int(12*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 4.0
turnAcceleration: 4.0


[turret_1]
x: 0
y: 0

barrelX: 0
barrelY: 20
barrelHeight: 12
limitingRange: 195
limitingMinRange: 40
shoot_flame: CUSTOM:开火
shoot_light:#FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vwaratta.wav, ROOT:\音频\语音+音效\vwarattb.wav
shoot_sound_vol: 2.0


[projectile_1]
directDamage: 30
life: 60

instant: true
hitSound: true
explodeEffect: CUSTOM:弹火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.5
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.3
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.1
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.1
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.1
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 2.5


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=195)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 195
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=40


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/水濑炮塔2.ini
================================================================================


[core]
name: 水濑炮塔2
copyFrom: 水濑炮塔.ini


[graphics]
image_offsetY: 18


[hiddenAction_1]
autoTrigger: if not self.hasParent(withTag='在水里')
convertTo: 水濑炮塔
convertTo_keepCurrentFields: shootDamageMultiplier, maxTurnSpeed


================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/磁能坦克炮塔.ini
================================================================================


[core]
name: 磁能坦克炮塔
price: 0
maxHp:400
mass: 6000
radius: 1

showInEditor: false
copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
tags: 高级, 电死人, 炮塔, 磁能坦克炮塔


[graphics]
image:        磁能坦克炮塔.png

total_frames: 1
imageScale: 1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 20
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if parent.isMoving==false and not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 10
turretTurnSpeed: 3
maxAttackRange: 240
shootDelay: 90
#${int(40*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 3.0
turnAcceleration: 3.0


[turret_1]
x: 0
y: 0

barrelX: 0
barrelY: 15
barrelHeight: 12
shoot_flame: CUSTOM:开火
shoot_light: #FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vtesatta.wav, ROOT:\音频\语音+音效\vtesattb.wav
shoot_sound_vol: 2
canAttackCondition: if not self.tags(includes='3级')
projectile: 1


[turret_3级]
x: 0
y: 0

copyFrom: 1
canAttackCondition: if self.tags(includes='3级')
projectile: 3级


[projectile_1]
directDamage: 135
life: 20

instant:true
lightingEffect: true
hitSound: true
lightColor: #FFccCCEE
lightSize: 1.4
explodeEffect: CUSTOM:电星, CUSTOM:映射
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.8
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 1.0
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 2.0


[projectile_3级]
directDamage: 135
life: 20

@copyFromSection: projectile_1
spawnUnit: 磁散射, 电磁脉冲(spawnChance=0.5)


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=210)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 210
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=240)
@copyFromSection: hiddenAction_Ai攻击生物
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 240


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=50


[effect_开火]
image: ROOT:\共享文件\1类\漏电.png
scaleFrom: 0.6
scaleTo: 0.6
total_frames: 9
animateFrameStart: 0
animateFrameEnd: 8
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_电星]
image: ROOT:\共享文件\1类\大电花.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
#color: #FFFFFF00
scaleFrom: 1.2
scaleTo: 0.2
alpha: 0.5
life: 15
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true



================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/犀牛炮塔.ini
================================================================================


[core]
name: 犀牛炮塔
price: 2000
maxHp:400
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 低级, 炮塔, 犀牛炮塔


[graphics]
image:        犀牛炮塔.png

total_frames: 1
imageScale: 1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 30
turretTurnSpeed: 4
#maxAttackRange: 150
shootDelay: 120
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 3.0
turnAcceleration: 3.0


[turret_1]
x: 0
y: 0

barrelX: 0
barrelY: 50
barrelHeight: 10
limitingRange: 195
limitingMinRange: 40
shoot_flame: CUSTOM:映射, CUSTOM:开火
shoot_light:#FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vrhiatta.wav, ROOT:\音频\语音+音效\vrhiattb.wav, ROOT:\音频\语音+音效\vrhiattc.wav, ROOT:\音频\语音+音效\vrhiattd.wav
shoot_sound_vol: 2.0
onShoot_triggerActions: 开火冲击波
recoilOffset: -1
recoilOutTime: 5
recoilReturnTime: 10


[projectile_1]
areaDamage: 95
life: 120

areaRadius: 30
frame: 5
speed: 12
drawSize: 0.9
image: ROOT:\共享文件\1类\炮弹2.png
targetGround: true
largeHitEffect: true
hitSound: true
explodeEffect: CUSTOM:映射3, CUSTOM:爆炸, CUSTOM:开火冲击波
effectOnCreate: CUSTOM:映射2
lightCastOnGround: true
#initialUnguidedSpeedHeight: 1.2
#gravity: 0.18
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.6
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.6
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.8
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 40
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=195)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 195
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=40


[effect_爆炸]
image: ROOT:\共享文件\1类\炸毁2.png
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 17
animateFrameStart: 0
animateFrameEnd: 16
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
@copyFromSection: effect_映射
scaleFrom:0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/苏联基地车.ini
================================================================================


[core]
name: 苏联基地车
price: 资金=3000
maxHp: 2400
mass: 10000
radius: 35

copyFrom: ROOT:\共享文件\3类\撞击伤害2.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq, ROOT:\共享文件\3类\闲置修复.xxhq
tags: 原始护甲, 载具重甲, 装甲, 基地车, 碾压, 可空, 空下
displayText: Soviet Mobile Construction Vehicle
displayText_zh: 苏联基地车
displayDescription: Special: Can be deployed as a base.\n Can crush infantry.\nCan crush small vehicles.
displayDescription_zh: 特殊：可展开为基地\n可以碾压步兵\n可以碾压小型载具
buildSpeed: 30s
selfRegenRate: 0.06
displayRadius: 30
transportSlotsNeeded: 4
#numBitsOnDeath: 5
fogOfWarSightRange: 10
dieOnConstruct: true
nanoRange: 12
soundOnMoveOrder: ROOT:\音频\语音+音效\vmcsmoa.wav:2, ROOT:\音频\语音+音效\vmcsmob.wav:2, ROOT:\音频\语音+音效\vmcsmoc.wav:2, ROOT:\音频\语音+音效\vmcsmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vmcssea.wav:2, ROOT:\音频\语音+音效\vmcsseb.wav:2, ROOT:\音频\语音+音效\vmcssec.wav:2, ROOT:\音频\语音+音效\vmcssed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vmcvstaa.wav:1.5


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\苏联基地车图标.png
image:        苏联基地车.png

total_frames: 1
#imageScale:	0.9
#image_offsetX:0
image_offsetY: 10
frame_width: 130
frame_height: 130
#image_wreak: NONE
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 0.9
moveAccelerationSpeed: 0.008
moveDecelerationSpeed: 0.020
maxTurnSpeed: 2
turnAcceleration: 0.2


[canBuild_1]
name: 苏联基地
pos: 1
#tech: 1
#forceNano: true
isVisible: if self.isControlledByAI() and not self.tags(includes='禁止攻击') and self.queueSize(empty=true)


[turret_1]
x: 0
y: 0

limitingRange: 100


[hiddenAction_AI扩张指令]
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.isControlledByAI()
clearActiveWaypoint: true
#清除活动航路点
addWaypoint_type: move
#添加移动点模式
addWaypoint_prepend: true
#添加路点前置
addWaypoint_target_nearestUnit_tagged: 可扩展矿
#添加最近标记单位的航路点目标
addWaypoint_target_mapMustBeReachable: false
#添加航路点目标地图必须可到达
addWaypoint_target_nearestUnit_team: any
#添加最近单位团队的路点目标
addWaypoint_maxTime: 5s
#添加路点最大时间


[hiddenAction_AI扩张部署]
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', withinRange=260, greaterThan=0) and self.isControlledByAI()
clearActiveWaypoint: true
alsoQueueAction: 1


[action_1]
text: Deploy
text_zh: 部署基地
description: Deploy as Soviet Construction Yard
description_zh: 一家之母
displayType: action
buildSpeed: 1.0s
isActive: if not self.tags(includes='禁止攻击') and memory.保存控制.hp<=0
#isVisible: if self.isControlledByAI()
isLocked: if (nearestUnit(withinRange=80, withTag='空下', relation='any')!=nullUnit and not self.isControlledByAI())
isLockedMessage: Cannot have any unit within 80
isLockedMessage_zh: 80范围内不能有任何陆地单位
convertTo: 苏联基地
whenBuilding_cannotMove: false
whenBuilding_rotateTo: 135
whenBuilding_rotateTo_waitTillRotated: true


[hiddenAction_停止]
autoTrigger: if not self.queueSize(empty=true) and (self.hasActiveWaypoint(type='move') or self.hasActiveWaypoint(type='build'))
clearAllWaypoints: true


[hiddenAction_Ai分基地限制]
autoTrigger: if self.isControlledByAI() and not self.hasFlag(id=3) and self.hasUnitInTeam(withTag='基地')
addResources: setFlag=3
#showMessageToAllPlayers: 触发2


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_进入超时空间]
autoTrigger: if (numberOfUnitsInNeutralTeam(withTag='载入传送', greaterThan=0, withinRange=80) or numberOfUnitsInTeam(withTag='载入传送', greaterThan=0, withinRange=80)) and not self.hasParent() and not self.hasActiveWaypoint(type='move') and not self.isAttacking() and not self.isControlledByAI()


[hiddenAction_初始价值]
addResources: 价值=200


[hiddenAction_初始价值修正]
autoTrigger: if not self.resource(type='价值', equalTo=200)
setResourcesWithLogic: 价值=200


[hiddenAction_开局模式控制]
autoTrigger: if self.globalTeamTags(includes='无基地')
deleteSelf: true


[effect_死亡]
scaleFrom: 1.5
scaleTo: 1.5


[effect_炸毁]
scaleFrom: 1.2
scaleTo: 1.2


[template_zijin]
price: 3000


[ai]
buildPriority: 0.1
useAsBuilder: true
#noneGlobalExtraPriority: 0.8
maxEachBase: 1
maxGlobal: 3

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/猛虎.ini
================================================================================


[core]
name: 猛虎
price: 资金=450
maxHp: 200
mass: 5000
radius: 20

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具轻甲, 克装甲, 可空, 空下, 猛虎装甲车, 小型, 可进入坦克碉堡, 反隐形
displayText: Tigr
displayText_zh: 猛虎装甲车
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: Low\nDamage building: Low\nSpecial: Can crush infantry.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：低\n伤害建筑：低
buildSpeed: 4s
fogOfWarSightRange: 16
maxTransportingUnits: 4
transportSlotsNeeded: 2
transportUnitsOnTeamChangeKeepCurrentTeam: true
transportUnitsBlockOtherTransports: false
transportUnitsRequireTag: 生物
transportUnitsKillOnDeath: false
soundOnAttackOrder:  ROOT:\音频\语音+音效\vmammoa.wav:2, ROOT:\音频\语音+音效\vmammob.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vmammoa.wav:2, ROOT:\音频\语音+音效\vmammob.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vmamsea.wav:2, ROOT:\音频\语音+音效\vmamseb.wav:2, ROOT:\音频\语音+音效\vmamsec.wav:2, ROOT:\音频\语音+音效\vmamsed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true 
playSoundAtUnit: ROOT:\音频\语音+音效\vhumstaa.wav:1.25, ROOT:\音频\语音+音效\vhumstab.wav:1.25


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\猛虎图标.png
image:        猛虎.png

total_frames: 1
imageScale:	1.0
frame_width: 80
frame_height: 80
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 2.6
moveAccelerationSpeed: 0.040
moveDecelerationSpeed: 0.060
maxTurnSpeed: 2.0
turnAcceleration: 1.0
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 180
limitingMinRange: 20
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 猛虎炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=15


[template_zijin]
price: 500

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/辐射2.ini
================================================================================


[core]
name: 辐射2
price:0
maxHp: 100
mass: 1200
radius: 0

tags: 辐射, 辐射死人
showOnMinimapToEnemies: false 
createNeutral: true
stayNeutral: true
displayText: Nuclear Radiation 2
displayText_zh: 辐射2
isBuilding: true
isUnselectable: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0


[hiddenAction_音效]
autoTriggerOnEvent:completeAndActive
spawnEffects: CUSTOM:核辐射


[graphics]
image: ROOT:\共享文件\1类\隐藏.png

#imageScale:	0.56
total_frames: 1
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
isVisibleToEnemies: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 10
turretTurnSpeed: 3
maxAttackRange: 50
shootDelay: 60


[turret_1]
x:0
y:0


[projectile_1]
life:1
speed:0
drawSize:0
explodeEffect:NONE
explodeOnEndOfLife:true
areaDamage: 15
areaRadius: 50
areaRadiusFromEdge:true
friendlyFire:true
areaHitUnderwaterAlways:true
buildingDamageMultiplier: 0
mutator0_ifUnitWithTags: 建筑, 免辐射, 人尸
mutator0_areaDamageMultiplier: 0
mutator1_ifUnitWithTags: 辐射减伤
mutator1_areaDamageMultiplier: 0.4
mutator6_ifUnitWithTags: 特殊免伤, 免辐射
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.00
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.40
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.40
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.40
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.00
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.00
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.00
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.00


[effect_核辐射]
image: ROOT:\共享文件\1类\核辐射.png
scaleFrom: 1.0
scaleTo: 0.2
alpha: 0.6
life: 300
fadeOut: true
drawUnderUnits: true
alwayStartDirAtZero: true
attachedToUnit: false


[movement]
movementType:BUILDING


[hiddenAction_1]
autoTrigger: true
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,0


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=3)
deleteSelf: true



================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–装甲/苏联基地车（伊朗）.ini
================================================================================


[core]
name: 伊朗基地车
copyFrom: 苏联基地车.ini
showInEditor: false

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/高射炮建造.ini
================================================================================


[core]
name: 高射炮建造
price: 0
maxHp: 800
mass: 10000
radius: 20

copyFrom: ROOT:\共享文件\3类\单位价值.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
displayText: Soviet Flak Cannon
displayText_zh: 高射炮
displayDescription: Target: Air unit\nDamage air: High\nFunds: -700\nPower: -50\nspecial: Has a higher range of damage.\nKill the enemy upgrade.\nDestroyed at full level will get a surviving full-level soldier.
displayDescription_zh: 攻击目标：空中单位\n伤害空军：高\n资金花费：700\n电力占用：50\n特殊：可升级\n满级死亡有幸存满级兵
isBuilding: true
footprint: 0,0,0,0
constructionFootprint: -1,-1,1,0
fogOfWarSightRange: 4
buildSpeed: 0
selfBuildRate: 0s
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2, CUSTOM:炸毁


[placementRule_建造规则]
searchTeam: own
searchDistance: 360


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 360


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\防空炮图标.png
image:        高射炮建造.png

default_frame: 19
total_frames: 20
#image_offsetX: 0
image_offsetY: -20
imageScale: 1.02
animation_idle_start: 19
animation_idle_end: 19
animation_idle_speed: 1
rotate_with_direction: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_卖钱]
autoTrigger: if self.hasFlag(id=27)
alsoQueueAction: 卖钱2


[hiddenAction_卖钱2]
buildSpeed: 1s
whenBuilding_playAnimation: 卖钱
whenBuilding_triggerAction: 卖声
addResources: 资金=${int(template_zijin.price*0.75)}
deleteSelf: true


[hiddenAction_卖声]
playSoundAtUnit: ROOT:\音频\语音+音效\uselbuil.wav:2
alsoQueueAction: 苏联副官, 盟军副官, 尤里副官


[hiddenAction_建造声]
autoTriggerOnEvent: created
playAnimation: jianzao
playSoundAtUnit: ROOT:\音频\语音+音效\uplace.wav:2
alsoQueueAction: 苏联副官2, 盟军副官2, 尤里副官2


[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=1) and not self.hasFlag(id=27)
setBodyRotation: 315
#showMessageToAllPlayers: 触发
convertTo: 高射炮


[hiddenAction_初始价值]
addResources: 价值=50


[animation_jianzao]
body_0s: {frame:0}
body_1s: {frame:19}


[animation_卖钱]
body_0s: {frame:19}
body_1s: {frame:0}


[effect_土坑2]
image: ROOT:\共享文件\1类\土坑10.png
life: 1200
scaleFrom: 1.02
scaleTo: 1.02
alpha: 0.5
xOffsetRelative: 0
yOffsetRelative: 0
spawnChance: 1
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_土坑3]
@copyFromSection: effect_土坑2
image: ROOT:\共享文件\1类\土坑02.png
xOffsetRelativeRandom:  25
yOffsetRelativeRandom:  25
spawnChance: 0.5


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


#[ai]
#buildPriority: 3


[template_zijin]
price: 700

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/核爆.ini
================================================================================


[core]
name: 核爆
price: 0
maxHp: 10000
mass: 5000
radius: 10

createNeutral: true
stayNeutral: true
isBuilding: true
disableAllUnitCollisions: true
fogOfWarSightRange: 8
canNotBeDirectlyAttacked: true
isUnselectable: true
tags: 烧死人
#armour: 99999
#armourMinDamageToKeep: 0
displayText: Nuclear explosion
displayText_zh: 核爆
displayDescription: Target: Air unit/Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage air: Very high\nDamage building: Very high\nspecial: Need to wait a while at the beginning.\nNuclear radiation after the explosion
displayDescription_zh: 攻击目标：空中单位/地面单位/海面单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：很高\n特殊：开始需要等待一会\n释放核弹范围伤害


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='伊朗') and not self.hasUnitInTeam(withTag='阵营特色限制')
convertTo: 核爆2


[hiddenAction_核爆警报]
autoTriggerOnEvent: created
playSoundGlobally: ROOT:\音频\语音+音效\snuksire.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\核弹攻击图标.png
image:        ROOT:\共享文件\1类\隐藏.png

imageScale:	1.02
#image_wreak:  辐射.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 440


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\snukintr.wav
shoot_sound_vol: 2.0


[turret_辐射]
x: 0
y: 0

projectile: 辐射


[projectile_1]
areaDamage: 3500
life: 30

areaRadius: 400
areaExpandTime: 40
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
explodeOnEndOfLife: true
speed: 0
friendlyFire: true
explodeEffect: CUSTOM:核光, CUSTOM:核光2, CUSTOM:核辐射, CUSTOM:核爆, CUSTOM:土坑
delayedStartTimer: 120
mutator6_ifUnitWithTags: 基地
mutator6_areaDamageMultiplier: 0.6
mutator7_ifUnitWithTags: 核弹井, 天气控制器
mutator7_areaDamageMultiplier: 0.6
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.4
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.4
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.6
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.6
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.6
#mutator23_ifUnitWithTags: 导弹
#mutator23_areaDamageMultiplier: 1
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.6
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.4


[projectile_辐射]
@copyFromSection: template_炮弹模块
areaDamage: 50
life: 0

areaRadius: 260
explodeOnEndOfLife: true
invisible: true
speed: 0
friendlyFire: true
explodeEffect: NONE
#areaDamageNoFalloff: true
buildingDamageMultiplier: 0
mutator5_ifUnitWithTags: 力场保护, 铁幕保护, 免辐射, 人尸
mutator5_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.4
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.4
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.4


[arm_1]
x: 0
y: 500

hidden: if self.timeAlive(laterThanSeconds=10.5) or self.timeAlive(withinSeconds=9.85)
drawOverBody: true
drawUnderAllUnits: false
image_end: 核弹头2.png
image_end_teamColors: true


[hiddenAction_核爆]
#autoTriggerOnEvent: created
autoTrigger: if self.timeAlive(laterThanSeconds=10) and self.timeAlive(withinSeconds=10.9)
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,0
playAnimation: 核弹
spawnEffects: CUSTOM:核爆始, CUSTOM:核光3


[hiddenAction_辐射]
autoTrigger: if self.timeAlive(laterThanSeconds=13)
temporarilyAddTags: 辐射死人
temporarilyRemoveTags: 烧死人
fireTurretXAtGround: 辐射
fireTurretXAtGround_withOffset: 0,0


[hiddenAction_消失]
autoTrigger: if self.timeAlive(laterThanSeconds=31)
deleteSelf: true


[animation_核弹]
arm1_0s: {x:0, y:0, dir: 0}
arm1_0.5s: {x:0, y:-540, dir: 0}


[effect_核爆始]
image: 核爆始.png
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.28
#xOffsetRelative	:  -30
yOffsetRelative: 20
priority: low
life: 600
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
alwayStartDirAtZero: true
delayedStartTimer: 30


[effect_核爆]
@copyFromSection: effect_核爆始
image: ROOT:\共享文件\1类\核爆.png
#drawType: displacement
life: 600
scaleFrom: 2.0
scaleTo: 2.0
total_frames: 58
animateFrameStart: 0
animateFrameEnd: 57
animateFrameSpeed: 0.25
#yOffsetRelative: 100
delayedStartTimer: 0
alsoPlaySound: ROOT:\音频\语音+音效\snukexpl.wav:2


[effect_核光]
image: ROOT:\共享文件\1类\光.png
scaleFrom: 10
scaleTo: 10
life: 360
alpha: 0.8
fadeOut: true
drawUnderUnits: false
alwayStartDirAtZero: true
#alsoPlaySound: 


[effect_核光2]
priority: critical
#createWhenZoomedOut: true
createWhenOffscreen: true
image: ROOT:\共享文件\1类\地图渲染.png
#color: #FF000000
scaleFrom: 100
scaleTo: 100
alpha: 1.0
life: 180
#dirOffsetRandom:180
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 10
fadeOut: true
#spawnChance: 0.25
attachedToUnit: false
drawUnderUnits: false


[effect_核光3]
priority: critical
#createWhenZoomedOut: true
createWhenOffscreen: true
image: ROOT:\共享文件\1类\地图渲染.png
color: #FFFF6127
scaleFrom: 100
scaleTo: 100
alpha: 0.9
life: 480
#dirOffsetRandom:180
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 80
fadeOut: true
#spawnChance: 0.25
attachedToUnit: false
drawUnderUnits: false
delayedStartTimer: 30


[effect_核辐射]
image: ROOT:\共享文件\1类\核辐射.png
scaleFrom: 8
scaleTo: 2
life: 780
alpha: 1
fadeOut: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_土坑]
image: ROOT:\共享文件\1类\土坑12.png
createWhenOverLiquid: false
createWhenOverLand: true
life: 1800
scaleFrom: 1.60
scaleTo: 1.60
alpha: 1.0
xOffsetRelative: 0
yOffsetRelative: -10
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/稍戒炮建造.ini
================================================================================


[core]
name: 稍戒炮建造
price: 0
maxHp: 500
mass: 20000
radius: 20

copyFrom: ROOT:\共享文件\3类\单位价值.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
#overrideAndReplace: turret_artillery, antiNukeLaucher
tags: 建筑, 电力, 反隐形
displayText: Soviet Sentry Gun
displayText_zh: 哨戒炮
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: medium\nDamage building: Medium\nfunds: -400\nspecial: Destroyed at full level will get a surviving full-level soldier.\nAnti invisibility
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：中\n伤害建筑：中\n资金花费：400\n特殊：可自动升级\n满级死亡有幸存满级兵\n反隐形
isBuilding: true
footprint:  0,0,0,0
fogOfWarSightRange: 4
buildSpeed: 0
selfBuildRate: 0s
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2, CUSTOM:炸毁


[placementRule_建造规则]
searchTeam: own
searchDistance: 360


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 360


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\哨戒炮图标.png
image:        稍戒炮建造.png

default_frame: 21
imageScale: 1.02
total_frames: 22
image_offsetX: 0
image_offsetY: -15
animation_idle_start: 21
animation_idle_end: 21
animation_idle_speed: 1
rotate_with_direction: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_卖钱]
autoTrigger: if self.hasFlag(id=27)
alsoQueueAction: 卖钱2


[hiddenAction_卖钱2]
buildSpeed: 1s
whenBuilding_playAnimation: 卖钱
whenBuilding_triggerAction: 卖声
addResources: 资金=${int(template_zijin.price*0.75)}
deleteSelf: true


[hiddenAction_卖声]
playSoundAtUnit: ROOT:\音频\语音+音效\uselbuil.wav:2
alsoQueueAction: 苏联副官, 盟军副官, 尤里副官


[hiddenAction_建造声]
autoTriggerOnEvent: created
playAnimation: jianzao
playSoundAtUnit: ROOT:\音频\语音+音效\uplace.wav:2
alsoQueueAction: 苏联副官2, 盟军副官2, 尤里副官2


[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=1) and not self.hasFlag(id=27)
setBodyRotation: 315
#showMessageToAllPlayers: 触发
convertTo: 稍戒炮


[hiddenAction_初始价值]
addResources: 价值=30


[animation_jianzao]
body_0s: {frame:0}
body_1s: {frame:21}


[animation_卖钱]
body_0s: {frame:21}
body_1s: {frame:0}


[effect_土坑2]
image: ROOT:\共享文件\1类\土坑10.png
life: 1200
scaleFrom: 1.02
scaleTo: 1.02
alpha: 0.5
xOffsetRelative: 0
yOffsetRelative: 0
spawnChance: 1
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_土坑3]
@copyFromSection: effect_土坑2
image: ROOT:\共享文件\1类\土坑02.png
xOffsetRelativeRandom:  25
yOffsetRelativeRandom:  25
spawnChance: 0.5


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 400

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/铁幕装置2.ini
================================================================================


[core]
name: 铁幕装置2
copyFrom: 铁幕装置.ini
showInEditor: false
canRepairBuildings: true
nanoRange: 9999
canRepairUnitsOnlyWithTags: 铁幕


[graphics]
image:        铁幕装置2.png

default_frame: 0
total_frames: 11
animation_idle_start: 0
animation_idle_end: 4
animation_idle_speed: 10


[turret_铁幕]
x: 0
y: 0

limitingRange: 9999
projectile: 铁幕


[projectile_铁幕]
directDamage: 0
life: 60

instant: true
targetGround: true
explodeEffect: NONE


[canBuild_1]
name: 铁幕
isVisible: if not self.hasFlag(id=1) and self.resource(type='铁幕计时', empty=true) and self.resource(type="电力",greaterThan=0)
addResources: setFlag=1
isGuiBlinking: if self.resource(type='铁幕计时', empty=true)
isLocked: if self.tags(includes='禁止攻击')
isLockedMessage: Lock!
isLockedMessage_zh: 受影响！


[action_卖钱2]
autoTrigger: false
alsoQueueAction: 2


[hiddenAction_铁幕]
autoTrigger: if self.hasFlag(id=1) or self.globalTeamTags(includes='Ai铁幕保护')
addResources: unsetFlag=1
playSoundAtUnit: ROOT:\音频\语音+音效\siroon.wav:2
alsoQueueAction: 2


[hiddenAction_Ai铁幕]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='装甲') and not self.hasUnitInTeam(withTag='铁幕引子') and not self.hasFlag(id=1) and self.resource(type='铁幕计时', empty=true) and self.resource(type="电力",greaterThan=0) and not self.globalTeamTags(includes='Ai铁幕保护')
spawnUnits: 铁幕引子-Ai
#showMessageToAllPlayers: ＋铁幕引子


[hiddenAction_准备音效] 
autoTrigger: if self.queueSize(empty=true) and self.resource(type="电力",greaterThan=0)
playSoundAtUnit: ROOT:\音频\语音+音效\sirolo2a.wav:2, ROOT:\音频\语音+音效\sirolo2b.wav:2


[hiddenAction_时]
@copyFrom_skipThisSection: true 


#[hiddenAction_倒计时] 
#@copyFrom_skipThisSection: true 


[hiddenAction_1]
@copyFrom_skipThisSection: true 


[hiddenAction_2]
addResources: 铁幕计时=300
removeGlobalTeamTags: Ai铁幕保护
#showMessageToAllPlayers: -Ai铁幕保护
convertTo: 铁幕装置


[animation_开关动画]
body_0s: {frame:5}
body_0.9s: {frame:10}


[ai]
upgradedFrom: 铁幕装置

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/铁幕引子-Ai.ini
================================================================================

[core]
name: 铁幕引子-Ai
price: 0
maxHp: 1000
mass: 1
radius: 0

showInEditor: false
tags: 铁幕引子
isUnselectable: true
disableAllUnitCollisions: true
effectOnDeath: NONE
explodeOnDeath:  false
hideScorchMark: true
canNotBeDirectlyAttacked:true


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: HOVER

moveSpeed: 10
moveAccelerationSpeed: 10
moveDecelerationSpeed: 10
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage: 0.5
moveIgnoringBody: true
moveSlidingMode: true
moveSlidingDir: 0



[turret_1]
x: 0
y: 0


[projectile_1]
directDamage: 0
life: 0

targetGround:true
explodeOnEndOfLife:true
instant: true
explodeEffect: NONE
spawnUnit: 铁幕


[hiddenAction_1]
autoTrigger: if self.hasUnitInTeam(withTag='铁幕跟随Ai') and not self.hasActiveWaypoint(type='follow')
addWaypoint_type: follow
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 铁幕跟随Ai
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_mapMustBeReachable: false
#showMessageToAllPlayers: 追装甲


[hiddenAction_2]
autoTrigger: if self.globalTeamTags(includes='Ai铁幕保护')
#convertTo: 铁幕
#spawnUnits: 铁幕
#spawnEffects: CUSTOM:铁幕
#showMessageToAllPlayers: 变铁幕
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,50
deleteSelf: true


[hiddenAction_3]
autoTrigger: if self.timeAlive(laterThanSeconds=1) and not self.hasUnitInTeam(withTag='铁幕跟随Ai') or not self.hasUnitInTeam(withTag='铁幕装置') or numberOfUnitsInTeam(withTag='铁幕引子', greaterThan=1)
deleteSelf: true
#showMessageToAllPlayers: 删除

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/电磁塔.ini
================================================================================


[core]
name: 电磁塔
price: 0
maxHp: 900
mass: 20000
radius: 20

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑防甲, 建筑, 电磁塔, 克生物, 克装甲, 克建筑, 空下, 电死人
borrowResourcesWhileAlive: 电力=75
displayText: Soviet Tesla Coil
displayText_zh: 磁暴线圈
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage building: Medium\nFunds: -1000\nPower: -75\nspecial: More than one Tesla Trooper can charge it to increase its range\nWhen it is powered off, two or more Tesla Trooper can charge it to maintain its normal operation.\n4 or more Tesla Trooper can charge it to produce electromagnetic diffusion damage
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：中\n资金花费：1000\n电力占用：75\n特殊：一个以上磁暴步兵充电可以提高电磁塔射程\n两以上磁暴步兵充电可以维持电磁塔正常工作\n4个以上磁暴步兵充电可以使电磁塔获得散射范围伤害
footprint: 0,0,0,0
constructionFootprint: -1,-1,1,0
isBuilding: true
techLevel: 2
buildSpeed: 0
selfBuildRate: 1s
softCollisionOnAll: 2
fogOfWarSightRange: 19
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2, CUSTOM:炸毁


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\磁暴线圈图标.png
image:        电磁塔.png

default_frame: 11
total_frames: 32
imageScale: 1.02
#image_offsetX: 20
image_offsetY: -15
animation_idle_start: 12
animation_idle_end: 21
animation_idle_speed: 8
rotate_with_direction:false
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if (self.resource(type="电力",greaterThan=0) or numberOfUnitsInTeam(withTag='充电', withinRange=50, greaterThan=1) or self.numberOfUnitsInAllyNotOwnTeam(withTag='充电', withinRange=50, greaterThan=1)) and not self.tags(includes='禁止攻击') and self.resource(type='入侵计时', empty=true) 
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 6
shootDelay: ${int(60*(1/gameSpeedRate))}


[movement]
movementType: BUILDING


[turret_1]
x: 0
y: 60

limitingRange: 240
#250
warmup: 0
shoot_sound: ROOT:\音频\语音+音效\btespow.wav
shoot_sound_vol: 2
canAttackCondition: if not numberOfUnitsInTeam(withTag='充电', withinRange=50, greaterThan=0) and not self.numberOfUnitsInAllyNotOwnTeam(withTag='充电', withinRange=50, greaterThan=0)
projectile: 1


[turret_2]
x: 0
y: 60

copyFrom:1
#showRangeUIGuide: false
limitingRange: 270
#320
canAttackCondition: if numberOfUnitsInTeam(withTag='充电', withinRange=50, greaterThan=0, lessThan=2) or self.numberOfUnitsInAllyNotOwnTeam(withTag='充电', withinRange=50, greaterThan=0, lessThan=2)
projectile: 2


[turret_3]
x: 0
y: 60

copyFrom:1
#showRangeUIGuide: false
limitingRange: 300
#320
canAttackCondition: if numberOfUnitsInTeam(withTag='充电', withinRange=50, greaterThan=1, lessThan=3) or self.numberOfUnitsInAllyNotOwnTeam(withTag='充电', withinRange=50, greaterThan=1, lessThan=3)
projectile: 3


[turret_4]
x: 0
y: 60

copyFrom:1
#showRangeUIGuide: false
limitingRange: 330
#320
canAttackCondition: if numberOfUnitsInTeam(withTag='充电', withinRange=50, greaterThan=2, lessThan=4) or self.numberOfUnitsInAllyNotOwnTeam(withTag='充电', withinRange=50, greaterThan=2, lessThan=4)
projectile: 4


[turret_5]
x: 0
y: 60

copyFrom:1
#showRangeUIGuide: false
limitingRange: 360
#320
canAttackCondition: if numberOfUnitsInTeam(withTag='充电', withinRange=50, greaterThan=3) or self.numberOfUnitsInAllyNotOwnTeam(withTag='充电', withinRange=50, greaterThan=3)
projectile: 5


[projectile_1]
directDamage: 250
life: 15


instant:true
lightingEffect: true
hitSound: true
lightColor: #FFccCCEE
lightSize: 1.4
explodeEffect: CUSTOM:声, CUSTOM:电星
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.40
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 1.00
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.60
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.40
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.60
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.00
delayedStartTimer: 40


[projectile_2]
@copyFromSection: projectile_1
directDamage: 350
life: 30


[projectile_3]
@copyFromSection: projectile_1
directDamage: 450
life: 30

explodeEffect: CUSTOM:声2, CUSTOM:电星


[projectile_4]
@copyFromSection: projectile_1
directDamage: 550
life: 30

explodeEffect: CUSTOM:声2, CUSTOM:电星


[projectile_5]
@copyFromSection: projectile_1
directDamage: 650
life: 30

explodeEffect: CUSTOM:声2, CUSTOM:电星
spawnUnit: 电散射


[attachment_1]
x: 0
y: 0

canAttack: false 
canBeAttackedAndDamaged: true
isUnselectable: false


[action_卖钱2]
stopLastAnimation: true


[hiddenAction_停电]
autoTrigger: if ((not self.resource(type="电力",greaterThan=0) and numberOfUnitsInTeam(withTag='充电', withinRange=50, lessThan=2) and self.numberOfUnitsInAllyNotOwnTeam(withTag='充电', withinRange=50, lessThan=2)) or self.tags(includes='禁止攻击')) and not self.hasFlag(id=0) 
playAnimation: 停电动画
addResources: setFlag=0


[hiddenAction_停电2]
autoTrigger: if (self.resource(type="电力",greaterThan=0) or numberOfUnitsInTeam(withTag='充电', withinRange=50, greaterThan=1) or self.numberOfUnitsInAllyNotOwnTeam(withTag='充电', withinRange=50, greaterThan=1)) and self.hasFlag(id=0) and not self.tags(includes='禁止攻击')
stopLastAnimation: true
addResources: unsetFlag=0


[hiddenAction_缺电显示]
autoTrigger: if not self.resource(type='电力', greaterThan=0) and not self.hasFlag(id=27) and numberOfUnitsInTeam(withTag='充电', withinRange=50, lessThan=2) and self.numberOfUnitsInAllyNotOwnTeam(withTag='充电', withinRange=50, lessThan=2) and not self.tags(includes='禁止攻击')


[hiddenAction_增加诱导]
autoTrigger: if (self.hasUnitInTeam(withTag='充电', withinRange=50) or self.numberOfUnitsInAllyNotOwnTeam(withTag='充电', withinRange=50, greaterThan=0)) and not self.numberOfAttachedUnits(greaterThan=0)
attachments_addNewUnits: 电诱导


[hiddenAction_删除诱导]
autoTrigger: if self.noUnitInTeam(withTag='充电', withinRange=50) and not self.numberOfUnitsInAllyNotOwnTeam(withTag='充电', withinRange=50, greaterThan=0) and self.numberOfAttachedUnits(greaterThan=0)
attachments_deleteNumUnits: 1


[hiddenAction_停电攻击装甲]
autoTrigger: if not self.hasActiveWaypoint(type='attack') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) and (numberOfUnitsInTeam(withTag='充电', withinRange=50, greaterThan=1) or self.numberOfUnitsInAllyNotOwnTeam(withTag='充电', withinRange=50, greaterThan=1)) and not self.resource(type="电力",greaterThan=0)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 270
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 1s


[hiddenAction_停电攻击生物]
addWaypoint_target_nearestUnit_tagged: 生物
autoTrigger: if not self.hasActiveWaypoint(type='attack') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=340) and (numberOfUnitsInTeam(withTag='充电', withinRange=50, greaterThan=1) or self.numberOfUnitsInAllyNotOwnTeam(withTag='充电', withinRange=50, greaterThan=1)) and not self.resource(type="电力",greaterThan=0)
@copyFromSection: hiddenAction_停电攻击装甲


[hiddenAction_停电攻击建筑]
addWaypoint_target_nearestUnit_tagged: 建筑
autoTrigger: if not self.hasActiveWaypoint(type='attack') and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=340) and (numberOfUnitsInTeam(withTag='充电', withinRange=50, greaterThan=1) or self.numberOfUnitsInAllyNotOwnTeam(withTag='充电', withinRange=50, greaterThan=1)) and not self.resource(type="电力",greaterThan=0)
@copyFromSection: hiddenAction_停电攻击装甲


[hiddenAction_初始价值]
addResources: 价值=70


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:11}


[animation_攻击动画]
onActions: attack
body_0s: {frame:22}
body_0.66s: {frame:31}


[animation_停电动画]
body_0s: {frame:15}
body_99999s: {frame:15}


[effect_声]
#life: 60
scaleFrom: 0
scaleTo: 0
alsoPlaySound: ROOT:\音频\语音+音效\btesat1a.wav:2


[effect_声2]
scaleFrom: 0
scaleTo: 0
alsoPlaySound: ROOT:\音频\语音+音效\btesat2a.wav:2


[effect_土坑2]
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  0
yOffsetRelativeRandom:  0
spawnChance: 1


[effect_土坑3]
xOffsetRelativeRandom:  25
yOffsetRelativeRandom:  25
spawnChance: 0.5


[effect_电星]
image: ROOT:\共享文件\1类\大电花.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 1000
@global dianli: -75


[ai]
buildPriority: 0.01
recommendedInEachBaseNum: 4
recommendedInEachBasePriorityIfUnmet: 0.3
noneInBaseExtraPriority:0.2
#noneGlobalExtraPriority:0.2
maxEachBase: 6

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/苏墙那.ini
================================================================================

[core]
name: 苏墙那
copyFrom: 苏墙墩.ini
footprint: -1,0,0,0
constructionFootprint: -1,0,0,0
displayText: Soviet Fortress Wall 3
displayText_zh: 苏墙那


[graphics]
image:苏墙那.png

image_offsetX:-10
image_offsetY:-15

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/电诱导.ini
================================================================================


[core]
name: 电诱导
price: 0
maxHp: 1000
mass: 3000
radius: 10

tags: 电诱导
armour: 100
armourMinDamageToKeep:0
showInEditor: false
canOnlyBeAttackedByUnitsWithTags: 充电
createOnAggressiveTeam: true
isUnselectable: true
isBuilding: true
fogOfWarSightRange: 0


[graphics]
image:   ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND


[hiddenAction_删除]
autoTrigger: if not self.hasParent()
deleteSelf: true


#[hiddenAction_测试2]
#autoTriggerOnEvent: created
#switchToAggressiveTeam: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/高射炮.ini
================================================================================


[core]
name: 高射炮
price: 0
maxHp: 800
mass: 10000
radius: 20

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑防甲, 建筑, 高射炮, 克空军, 空下
borrowResourcesWhileAlive: 电力=50
showInEditor: false
displayText: Soviet Flak Cannon
displayText_zh: 高射炮
displayDescription: Target: Air unit\nDamage air: High\nFunds: -700\nPower: -50\nspecial: Has a higher range of damage.\nKill the enemy upgrade.\nDestroyed at full level will get a surviving full-level soldier.
displayDescription_zh: 攻击目标：空中单位\n伤害空军：高\n资金花费：700\n电力占用：50\n特殊：可升级\n满级死亡有幸存满级兵
isBuilding: true
footprint: 0,0,0,0
constructionFootprint: -1,-1,1,0
fogOfWarSightRange: 20
buildSpeed: 0
selfBuildRate:1s
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2, CUSTOM:炸毁


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\防空炮图标.png
image:        高射炮.png

total_frames: 1
imageScale:	1.02
image_offsetY: -20
frame_width: 135
frame_height: 135
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: if self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击') and self.resource(type='入侵计时', empty=true) 
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 20
turretTurnSpeed: 3
maxAttackRange: 390
shootDelay: ${int(25*(1/gameSpeedRate))}


[movement]
movementType: BUILDING

maxTurnSpeed: 3.5
turnAcceleration: 3.5


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\bflaatta.wav, ROOT:\音频\语音+音效\bflaattb.wav, ROOT:\音频\语音+音效\bflaattc.wav, ROOT:\音频\语音+音效\bflaattd.wav
shoot_sound_vol: 2


[projectile_1]
areaDamage: 65
areaRadius: 40
life: 60

instant: true
hitSound: true
explodeEffect:CUSTOM:黑烟
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.6
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.6


[action_卖钱2]
convertTo: 高射炮建造
alsoQueueAction: NONE


[hiddenAction_攻击超出取消]
autoTrigger: if self.hasActiveWaypoint(type='attack') and distanceBetweenSquared(self, activeWaypointTarget)>360*360
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:0}


[effect_黑烟]
image: ROOT:\共享文件\1类\黑烟.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.25
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40


[effect_电力]
#scaleFrom:2
#scaleTo:2
hOffset: 5


[effect_土坑2]
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  0
yOffsetRelativeRandom:  0
spawnChance: 1


[effect_土坑3]
xOffsetRelativeRandom:  25
yOffsetRelativeRandom:  25
spawnChance: 0.5


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 700
@global dianli: -50


[ai]
upgradedFrom: 高射炮建造

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/铁幕装置.ini
================================================================================


[core]
name: 铁幕装置
price: 0
maxHp: 1150
mass: 50000
radius: 45

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq
displayText: Soviet Iron Curtain Device
displayText_zh: 铁幕装置
displayDescription: Funds: -3000\nPower: -200\nSpecial: Super auxiliary equipment.\nLimited to one.\nNeed time to prepare.\nMake the vehicles within the specified range invincible within the effective time.\nCan be used to kill enemy infantry and clean up the infantry in the building.\nNote that it is also effective for your own infantry.
displayDescription_zh: 资金花费：3000\n电力占用：200\n特殊：超级辅助\n限造一台\n使指定载具在有效时间内无敌\n对敌我生物伤害很高\n能清理入驻平民建筑的敌人
tags: 原始护甲, 建筑重甲, 建筑, 可入侵, 铁幕装置, 空下, 可重置计时, 带扩展建筑
borrowResourcesWhileAlive: 电力=200
fogOfWarSightRange: 6
isBuilding: true
footprint: -1,0,2,0
displayFootprint: -2,-1,3,1
constructionFootprint: -2,-1,3,1
buildSpeed: 0
selfBuildRate: 1s
isLockedIfGameModeNoNuke: true
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\铁幕图标.png
image:        铁幕装置.png

default_frame: 10
imageScale: 1.02
total_frames: 21
image_offsetX: 10
image_offsetY: -45
animation_idle_start: 9
animation_idle_end: 14
animation_idle_speed: 10
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[action_显示计时]
text: Countdown
text_zh: 倒计时
price: 铁幕计时=1
displayRemainingStockpile: true
displayType: rally
isActive: false
isAlsoViewableByAllies: true
#isVisible: if not self.resource(type='临时救援计时', empty=true)
#addResources: 超时空计时=-1
showMessageToAllPlayers: 触发


[action_卖钱2]
autoTrigger: if self.hasFlag(id=29) and self.queueSize(empty=true)
stopLastAnimation: true


[hiddenAction_停电]
autoTrigger: if (not self.resource(type="电力",greaterThan=0) or self.tags(includes='禁止攻击')) and not self.hasFlag(id=0) and not self.hasFlag(id=29)
playAnimation: 停电动画
addResources: setFlag=0


[hiddenAction_停电2]
autoTrigger: if self.resource(type="电力",greaterThan=0) and self.hasFlag(id=0) and not self.tags(includes='禁止攻击')
stopLastAnimation: true
addResources: unsetFlag=0


[hiddenAction_重置计时] 
requireConditional: if numberOfUnitsInTeam(withTag='铁幕装置', lessThan=1)
autoTriggerOnEvent: destroyed
resourceAmount: 铁幕计时
resourceAmount_setValue: 0


[hiddenAction_重置计时2] 
autoTrigger: if not self.resource(type='入侵计时', empty=true)
showMessageToPlayer_zh: 系统警告：铁幕装置倒计时被重置
showMessageToPlayer: System warning: Soviet Iron Curtain Device countdown has been reset!
showMessageToAllEnemyPlayers_zh: 系统提示：%{self.teamName}队的%{self.playerName}，铁幕装置倒计时已经被重置
showMessageToAllEnemyPlayers: System hint: Soviet Iron Curtain Device countdown has been reset. Player: %{self.playerName}, team: %{self.teamName}.
autoTriggerOnEvent: teamChanged
resourceAmount: 铁幕计时
resourceAmount_setValue: 300
alsoTriggerAction: 重置计时3


[hiddenAction_重置计时3]
resourceAmount: 入侵计时
resourceAmount_setValue: 0


[hiddenAction_时]
autoTriggerOnEvent: created
addResources: 铁幕计时=300
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，铁幕装置已放置完成
showMessageToAllEnemyPlayers: System warning: Soviet Iron Curtain Device has been placed! Player: %{self.playerName}, team: %{self.teamName}.


[hiddenAction_倒计时] 
autoTrigger: if not self.resource(type='铁幕计时', empty=true) and self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击')
addResources: 铁幕计时=-1


[hiddenAction_倒计时2] 
autoTrigger: if self.resource(type='铁幕计时', equalTo=60) and self.resource(type="电力",greaterThan=0)
showMessageToAllEnemyPlayers: System warning: Soviet Iron Curtain Device countdown with 60 seconds left! Player: %{self.playerName}, team: %{self.teamName}.
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，铁幕装置倒计时还剩60秒启动
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_1] 
autoTrigger: if self.resource(type='铁幕计时', lessThan=11) and self.queueSize(empty=true)
showMessageToPlayer: System hint: Soviet Iron Curtain Device is ready.
showMessageToPlayer_zh: 系统提示：铁幕装置已经启动
playSoundGlobally: ROOT:\音频\语音+音效\siroread.wav:2
alsoQueueAction: 2


[hiddenAction_2]
buildSpeed: 0.9s
whenBuilding_playAnimation: 开关动画
convertTo: 铁幕装置2
convertTo_keepCurrentTags: true


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=60, offsetRandomY=60)


[action_转换队伍]
isVisible: false


[hiddenAction_初始价值]
addResources: 价值=100


[animation_开关动画]
body_0s: {frame:15}
body_0.9s: {frame:20}


[animation_停电动画]
body_0s: {frame:9}
body_99999s: {frame:9}


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[effect_土坑2]
xOffsetRelativeRandom:  50
yOffsetRelativeRandom:  50


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[global_resource_铁幕计时]
displayName: Iron Curtain countdown
displayName_zh: 铁幕倒计时
displayColor: #FFFF00FF


[template_zijin]
price: 3000
@global dianli: -200

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/苏墙墩2.ini
================================================================================

[core]
name:苏墙墩2
copyFrom: 苏墙墩.ini
displayText: Soviet Fortress Wall 2
displayText_zh: 苏墙墩2


[graphics]
image:苏墙墩.png

image_offsetY:-10

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/核弹井.ini
================================================================================


[core]
name: 核弹井
price: 0
maxHp: 1350
mass: 50000
radius: 45

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq
tags: 原始护甲, 建筑重甲, 建筑, 可入侵, 核弹井, 空下, 可重置计时, 带扩展建筑
borrowResourcesWhileAlive: 电力=400
displayText: Soviet Tactical Nuke Silo
displayText_zh: 核弹发射井
displayDescription: Target: Air unit/Ground unit/Underwater unit\nDamage creature: Very high\nDamage armor: Very high\nDamage air: Very high\nDamage building: Very high\nFunds: -5000\nPower: -400\nspecial: Super weapon.\nLimited to one.\nNeed time to prepare.
displayDescription_zh: 攻击目标：空中单位/地面单位/海面单位/海下单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：很高\n资金花费：5000\n电力占用：400\n特殊：超级武器\n限造一台\n需要较长时间准备
armour: 99999
armourMinDamageToKeep: 1050
isBuilding: true
footprint: -2,-1,2,0
displayFootprint: -3,-2,3,1
constructionFootprint:-3,-2,3,1
techLevel: 2
buildSpeed: 0
selfBuildRate: 1s
isLockedIfGameModeNoNuke: true
fogOfWarSightRange: 6
numBitsOnDeath: 50
effectOnDeath:  CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\核弹发射井图标.png
image:        核弹井.png

default_frame: 25
total_frames: 40
imageScale:	1.02
image_offsetX: 0
image_offsetY: -50
animation_idle_start: 25
animation_idle_end: 25
animation_idle_speed: 1
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:  false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[action_显示计时]
text: Countdown
text_zh: 倒计时
price: 核弹计时=1
displayRemainingStockpile: true
displayType: rally
isActive: false
isAlsoViewableByAllies: true
#isVisible: if not self.resource(type='临时救援计时', empty=true)
#addResources: 超时空计时=-1
showMessageToAllPlayers: 触发


[action_卖钱2]
autoTrigger: if self.hasFlag(id=29) and self.queueSize(empty=true)


[hiddenAction_时]
autoTriggerOnEvent: created
#playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，核弹井已放置完成
showMessageToAllEnemyPlayers: System warning: Soviet Tactical Nuke Silo has been placed! Player: %{self.playerName}, team: %{self.teamName}.
addResources: 核弹计时=420


[hiddenAction_倒计时] 
autoTrigger: if not self.resource(type='核弹计时', empty=true) and self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击')
addResources: 核弹计时=-1


[hiddenAction_倒计时2] 
autoTrigger: if self.resource(type='核弹计时', equalTo=60) and self.resource(type="电力",greaterThan=0)
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，核弹倒计时还剩60秒启动
showMessageToAllEnemyPlayers: System warning: Soviet Tactical Nuke Silo countdown with 60 seconds left! Player: %{self.playerName}, team: %{self.teamName}.
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_准备] 
autoTrigger: if self.resource(type='核弹计时', lessThan=11) and self.queueSize(empty=true)
showMessageToPlayer_zh: 系统提示：核弹井已经启动
showMessageToPlayer: System hint: Soviet Tactical Nuke Silo Controller is ready.
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，核弹井已经启动
showMessageToAllEnemyPlayers: System warning: Soviet Tactical Nuke Silo is ready! Player: %{self.playerName}, team: %{self.teamName}.
playSoundGlobally: ROOT:\音频\语音+音效\snukread.wav:2
alsoQueueAction: 1


[hiddenAction_重置计时] 
requireConditional: if numberOfUnitsInTeam(withTag='核弹井', lessThan=1)
autoTriggerOnEvent: destroyed
resourceAmount: 核弹计时
resourceAmount_setValue: 0


[hiddenAction_重置计时2] 
autoTrigger: if not self.resource(type='入侵计时', empty=true)
showMessageToPlayer_zh: 系统警告：核弹井倒计时被重置
showMessageToPlayer: System warning: Soviet Tactical Nuke Silo countdown has been reset!
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2
autoTriggerOnEvent: teamChanged
resourceAmount: 核弹计时
resourceAmount_setValue: 420
alsoTriggerAction: 重置计时3


[hiddenAction_重置计时3]
resourceAmount: 入侵计时
resourceAmount_setValue: 0


[hiddenAction_1]
buildSpeed: 1.8s
whenBuilding_playAnimation: 打开动画
convertTo: 核弹井2
convertTo_keepCurrentTags: true


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=60, offsetRandomY=60)


[action_转换队伍]
isVisible: false


[hiddenAction_初始价值]
addResources: 价值=200


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:25}


[animation_打开动画]
body_0s: {frame:25}
body_1.8s: {frame:39}


[effect_土坑2]
xOffsetRelativeRandom:  50
yOffsetRelativeRandom:  50


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[global_resource_核弹计时]
displayName: Nuke Silo countdown
displayName_zh: 核弹发射倒计时
displayColor: #FFFF0000


[template_zijin]
price: 5000
@global dianli: -400

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/苏墙撇.ini
================================================================================

[core]
name:苏墙撇
copyFrom: 苏墙那.ini
displayText: Soviet Fortress Wall 4
displayText_zh: 苏墙撇


[graphics]
image:苏墙撇.png

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/核爆2.ini
================================================================================


[core]
name: 核爆2
price: 0
maxHp: 10000
mass: 5000
radius: 10

createNeutral: true
stayNeutral: true
isBuilding: true
disableAllUnitCollisions: true
fogOfWarSightRange: 8
canNotBeDirectlyAttacked: true
isUnselectable: true
tags: 烧死人
#armour: 99999
#armourMinDamageToKeep: 0
displayText: Nuclear explosion
displayText_zh: 核爆 (增幅核爆)
displayDescription: Target: Air unit/Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage air: Very high\nDamage building: Very high\nspecial: Need to wait a while at the beginning.\nNuclear radiation after the explosion
displayDescription_zh: 攻击目标：空中单位/地面单位/海面单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：很高\n特殊：开始需要等待一会\n释放核弹范围伤害


[hiddenAction_核爆警报]
autoTriggerOnEvent: created
playSoundGlobally: ROOT:\音频\语音+音效\snuksire.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\核弹攻击图标.png
image:        ROOT:\共享文件\1类\隐藏.png

imageScale:	1.02
#image_wreak:  辐射.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 560


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\snukintr.wav
shoot_sound_vol: 2.0


[turret_辐射]
x: 0
y: 0

projectile: 辐射


[projectile_1]
areaDamage: 3500
life: 30

areaRadius: 560
areaExpandTime: 40
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
explodeOnEndOfLife: true
speed: 0
friendlyFire: true
explodeEffect: CUSTOM:核光, CUSTOM:核光2, CUSTOM:核辐射, CUSTOM:核爆, CUSTOM:土坑
delayedStartTimer: 120
mutator6_ifUnitWithTags: 基地
mutator6_areaDamageMultiplier: 0.6
mutator7_ifUnitWithTags: 核弹井, 天气控制器
mutator7_areaDamageMultiplier: 0.6
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.4
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.4
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.6
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.6
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.6
#mutator23_ifUnitWithTags: 导弹
#mutator23_areaDamageMultiplier: 1
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.6
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.4


[projectile_辐射]
@copyFromSection: template_炮弹模块
areaDamage: 50
life: 0

areaRadius: 260
explodeOnEndOfLife: true
invisible: true
speed: 0
friendlyFire: true
explodeEffect: NONE
#areaDamageNoFalloff: true
buildingDamageMultiplier: 0
mutator5_ifUnitWithTags: 力场保护, 铁幕保护, 免辐射, 人尸
mutator5_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.4
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.4
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.4


[arm_1]
x: 0
y: 500

hidden: if self.timeAlive(laterThanSeconds=10.5) or self.timeAlive(withinSeconds=9.85)
drawOverBody: true
drawUnderAllUnits: false
image_end: 核弹头2.png
image_end_teamColors: true


[hiddenAction_核爆]
#autoTriggerOnEvent: created
autoTrigger: if self.timeAlive(laterThanSeconds=10) and self.timeAlive(withinSeconds=10.9)
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,0
playAnimation: 核弹
spawnEffects: CUSTOM:核爆始, CUSTOM:核光3


[hiddenAction_辐射]
autoTrigger: if self.timeAlive(laterThanSeconds=13)
temporarilyAddTags: 辐射死人
temporarilyRemoveTags: 烧死人
fireTurretXAtGround: 辐射
fireTurretXAtGround_withOffset: 0,0


[hiddenAction_消失]
autoTrigger: if self.timeAlive(laterThanSeconds=31)
deleteSelf: true


[animation_核弹]
arm1_0s: {x:0, y:0, dir: 0}
arm1_0.5s: {x:0, y:-540, dir: 0}


[effect_核爆始]
image: 核爆始.png
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.28
#xOffsetRelative	:  -30
yOffsetRelative: 20
priority: low
life: 600
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
alwayStartDirAtZero: true
delayedStartTimer: 30


[effect_核爆]
@copyFromSection: effect_核爆始
image: ROOT:\共享文件\1类\核爆.png
#drawType: displacement
life: 600
scaleFrom: 2.0
scaleTo: 2.0
total_frames: 58
animateFrameStart: 0
animateFrameEnd: 57
animateFrameSpeed: 0.25
#yOffsetRelative: 100
delayedStartTimer: 0
alsoPlaySound: ROOT:\音频\语音+音效\snukexpl.wav:2


[effect_核光]
image: ROOT:\共享文件\1类\光.png
scaleFrom: 10
scaleTo: 10
life: 360
alpha: 0.8
fadeOut: true
drawUnderUnits: false
alwayStartDirAtZero: true
#alsoPlaySound: 


[effect_核光2]
priority: critical
#createWhenZoomedOut: true
createWhenOffscreen: true
image: ROOT:\共享文件\1类\地图渲染.png
#color: #FF000000
scaleFrom: 100
scaleTo: 100
alpha: 1.0
life: 180
#dirOffsetRandom:180
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 10
fadeOut: true
#spawnChance: 0.25
attachedToUnit: false
drawUnderUnits: false


[effect_核光3]
priority: critical
#createWhenZoomedOut: true
createWhenOffscreen: true
image: ROOT:\共享文件\1类\地图渲染.png
color: #FFFF6127
scaleFrom: 100
scaleTo: 100
alpha: 0.9
life: 480
#dirOffsetRandom:180
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 80
fadeOut: true
#spawnChance: 0.25
attachedToUnit: false
drawUnderUnits: false
delayedStartTimer: 30


[effect_核辐射]
image: ROOT:\共享文件\1类\核辐射.png
scaleFrom: 8
scaleTo: 2
life: 780
alpha: 1
fadeOut: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_土坑]
image: ROOT:\共享文件\1类\土坑12.png
createWhenOverLiquid: false
createWhenOverLand: true
life: 1800
scaleFrom: 1.60
scaleTo: 1.60
alpha: 1.0
xOffsetRelative: 0
yOffsetRelative: -10
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/稍戒炮.ini
================================================================================


[core]
name: 稍戒炮
price: 0
maxHp: 500
mass: 10000
radius: 20

#overrideAndReplace: turret_artillery
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑防甲, 建筑, 电力, 稍戒炮, 克生物, 空下, 反隐形
displayText: Soviet Sentry Gun
displayText_zh: 哨戒炮
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: medium\nDamage building: Medium\nfunds: -400\nspecial: Destroyed at full level will get a surviving full-level soldier.\nAnti invisibility
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：中\n伤害建筑：中\n资金花费：400\n特殊：可自动升级\n满级死亡有幸存满级兵\n反隐形
isBuilding: true
footprint:  0,0,0,0
constructionFootprint:  0,0,0,0
showInEditor: false
fogOfWarSightRange: 14
buildSpeed: 0
selfBuildRate:1s
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2, CUSTOM:炸毁


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\哨戒炮图标.png
image:        稍戒炮.png

total_frames: 1
imageScale:	1.02
image_offsetX: 0
image_offsetY: -15
frame_width: 90
frame_height: 90
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 1
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.tags(includes='禁止攻击') and self.resource(type='入侵计时', empty=true) 
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 30
turretTurnSpeed: 3
maxAttackRange: 180
#200
shootDelay: ${int(14*(1/gameSpeedRate))}


[movement]
movementType: BUILDING

maxTurnSpeed: 3.0
turnAcceleration: 3.0


[turret_1]
x: 0
y: 0

barrelHeight: 15
shoot_sound: ROOT:\音频\语音+音效\bsenatta.wav, ROOT:\音频\语音+音效\bsenattb.wav, ROOT:\音频\语音+音效\bsenattc.wav, ROOT:\音频\语音+音效\bsenattd.wav
shoot_sound_vol: 2.0


[projectile_1]
directDamage: 35
life: 5

instant: true
explodeEffect: CUSTOM:弹火
mutator7_ifUnitWithTags: 船舰
mutator7_directDamageMultiplier: 2.0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.8
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.2
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[action_卖钱2]
convertTo: 稍戒炮建造
alsoQueueAction: NONE


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=180)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 180
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 1s


[hiddenAction_攻击超出取消]
autoTrigger: if self.hasActiveWaypoint(type='attack') and distanceBetweenSquared(self, activeWaypointTarget)>230*230
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:0}


[effect_土坑2]
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  0
yOffsetRelativeRandom:  0
spawnChance: 1


[effect_土坑3]
xOffsetRelativeRandom:  25
yOffsetRelativeRandom:  25
spawnChance: 0.5


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 400


[ai]
upgradedFrom: 稍戒炮建造

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/电散射.ini
================================================================================

[core]
name: 电散射
price:0
maxHp:99999
mass:0
radius:0

tags: 电死人
hideScorchMark:true
explodeOnDeath:false
explodeOnDeathGroundCollosion:false
numBitsOnDeath:0
armour:99999
energyMax:3
energyRegen:0
dieOnZeroEnergy:true
canNotBeDirectlyAttacked:true
isUnselectable:true
showInEditor:false
isBuilding: true
footprint:1,1,-1,-1
fogOfWarSightRange:0


[graphics]
image: ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack:true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretMultiTargeting:true
aimOffsetSpread: 10
#0.1
turretSize:0
shootDelay:120
turretTurnSpeed:99


[movement]
movementType: NONE


[turret_1]
x:0
y:0

energyUsage:1
limitingMinRange:10
limitingRange: 20


[turret_2]
x:0
y:0

energyUsage:1
limitingMinRange:20
limitingRange:30


[turret_3]
x:0
y:0

energyUsage:1
limitingMinRange:30
limitingRange:40


[turret_4]
x:0
y:0

energyUsage:1
limitingMinRange:40
limitingRange:50


[turret_5]
x:0
y:0

energyUsage:1
limitingMinRange:50
limitingRange:60


[turret_6]
x:0
y:0

energyUsage:1
limitingMinRange:60
limitingRange:70


[turret_7]
x:0
y:0

energyUsage:1
limitingMinRange:70
limitingRange:80


[projectile_1]
areaDamage: 100
life: 60

areaRadius: 5
lightingEffect: true
instant:true
lightSize: 0
areaDamageNoFalloff:true
mutator7_ifUnitWithTags: 船舰
mutator7_areaDamageMultiplier: 1.5
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.1
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.85
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 1
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.25
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.25
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.25
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 2


[projectile_2]
@copyFromSection: projectile_1
areaDamage: 100
life: 60

targetGroundSpread: 30


[hiddenAction_1]
addResources:energy=-1
autoTrigger:true
fireTurretXAtGround:1
fireTurretXAtGround_withProjectile:2
fireTurretXAtGround_withOffset:0,0


[hiddenAction_2]
@copyFromSection: hiddenAction_1


[hiddenAction_3]
@copyFromSection: hiddenAction_1


[hiddenAction_删除]
autoTrigger:if self.timeAlive(laterThanSeconds=1)
deleteSelf:true

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/苏墙墩.ini
================================================================================

[core]
name:苏墙墩
price: 0
maxHp: 400
mass: 1000
radius: 20

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑防甲, 建筑, 电力, 空下, 围墙
displayText: Soviet Fortress Wall 1
displayText_zh: 苏墙墩
displayDescription: Funds: -25\nSpecial: Defense, blocking and decoration.
displayDescription_zh: 资金花费：25\n特殊：防御、阻挡和装饰
buildSpeed: 0
selfBuildRate: 1s
isBuilding:true
footprint: 0,0,0,0
constructionFootprint: 0,0,0,0
fogOfWarSightRange: 4


[graphics]
image: 苏墙墩.png

imageScale: 1.3
image_offsetX: 0
image_offsetY: -20
#image_offsetY:-10
image_wreak:NONE
image_shadow:NONE


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[hiddenAction_初始价值]
addResources: 价值=5


[animation_jianzao]
body_0s: {frame:0}
body_1s: {frame:0}


[template_zijin]
price: 50


[ai]
disableUse: true
#notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/核弹井2.ini
================================================================================


[core]
name: 核弹井2
copyFrom: 核弹井.ini
showInEditor: false


[graphics]
image:        核弹井2.png

default_frame: 0
total_frames: 17
animation_idle_start: 0
animation_idle_end: 0


[attack]
canAttack: true
canAttackLandUnits: if self.isControlledByAI()
turretMultiTargeting: true


[turret_核弹]
x: 0
y: 0

canShoot: false
limitingRange: 9999
shoot_sound: nuke_launch
shoot_sound_vol:0.08
projectile: 核弹


[turret_核弹-Ai]
x: 0
y: 0

canAttackCondition: if not self.hasFlag(id=1) and self.resource(type='核弹计时', empty=true) and self.resource(type="电力",greaterThan=0)
canOnlyAttackUnitsWithTags: 基地
limitingRange: 9999
resourceUsage: setFlag=1
onShoot_triggerActions: 核弹发射-Ai
projectile: 核弹-Ai


[turret_核弹-Ai2]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and not self.hasFlag(id=1) and self.resource(type='核弹计时', empty=true) and self.resource(type="电力",greaterThan=0)
canOnlyAttackUnitsWithTags: 车厂, 机场, 兵营, 船坞
limitingRange: 9999
resourceUsage: setFlag=1
onShoot_triggerActions: 核弹发射-Ai
projectile: 核弹


[turret_核弹-Ai3]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='车厂', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='兵营', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='机场', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='船坞', greaterThan=0) and not self.hasFlag(id=1) and self.resource(type='核弹计时', empty=true) and self.resource(type="电力",greaterThan=0)
canOnlyAttackUnitsWithoutTags: 基地, 车厂, 机场, 兵营, 船坞
limitingRange: 9999
resourceUsage: setFlag=1
onShoot_triggerActions: 核弹发射-Ai
projectile: 核弹


[turret_尾焰]
x: 0
y: 0

canShoot: false
projectile: 尾焰


[projectile_核弹]
directDamage: 0
life: 6

#speed: 10
#targetSpeed: 10
instant: true
targetGround: true
invisible: true
explodeEffect: NONE
spawnUnit: 核爆


[projectile_核弹-Ai]
directDamage: 0
life: 6000

@copyFromSection: projectile_核弹
targetGroundSpread: 200


[projectile_尾焰]
directDamage: 0
life: 600

invisible: true
trailEffect: CUSTOM:尾焰
#, CUSTOM:尾焰2, CUSTOM:尾焰3
trailEffectRate: 4
speed: 18
targetSpeed: 38
targetGround: true
shouldRevealFog: true


[arm_1]
x: 0
y: -4

hidden: if self.hasFlag(id=0) or self.hasFlag(id=29)
drawOverBody: true
image_end: 核弹头.png
image_end_teamColors: true


[action_卖钱2]
autoTrigger: false
alsoQueueAction: 1


[action_核弹]
iconImage: ROOT:\单位图标\苏联\建筑\核弹攻击图标.png
text: Ready
text_zh: 已就绪
description: Launch nuclear missiles to designated locations.\nBe careful not to click to your position.
description_zh: 发射核弹到目标位置
isActive: if not self.tags(includes='禁止攻击')
isVisible: if not self.hasFlag(id=1) and self.resource(type='核弹计时', empty=true) and self.resource(type="电力",greaterThan=0)
isGuiBlinking: if self.resource(type='核弹计时', empty=true)
buildSpeed: 0s
playAnimation: 核弹
alsoQueueAction: 缓冲
alsoTriggerAction: 尾焰
fireTurretXAtGround: 核弹
addResources: setFlag=1
spawnEffects: CUSTOM:核弹发射
showMessageToAllEnemyPlayers: System warning: Nuclear missile has been launched! Player: %{self.playerName}, team: %{self.teamName}.
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，核弹已经发射!
playSoundGlobally: ROOT:\音频\语音+音效\snuklaun.wav:2


[hiddenAction_核弹-Ai]
autoTrigger: if self.isControlledByAI() and self.queueSize(empty=true) and self.hasFlag(id=1)
#showMessageToAllPlayers: 触发
playSoundGlobally: ROOT:\音频\语音+音效\snuklaun.wav:2
playAnimation: 核弹
alsoQueueAction: 缓冲
alsoTriggerAction: 尾焰
spawnEffects: CUSTOM:核弹发射


[hiddenAction_核弹发射-Ai]
showMessageToAllEnemyPlayers: System warning: Nuclear missile has been launched! Player: %{self.playerName}, team: %{self.teamName}.
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，核弹已经发射!


[hiddenAction_时]
@copyFrom_skipThisSection: true 


#[hiddenAction_倒计时] 
#@copyFrom_skipThisSection: true 


[hiddenAction_准备]
@copyFrom_skipThisSection: true 


[hiddenAction_1]
buildSpeed: 2.1s
whenBuilding_playAnimation: 关闭动画
addResources: unsetFlag=0, unsetFlag=1, 核弹计时=420
convertTo: 核弹井


[hiddenAction_尾焰] 
fireTurretXAtGround: 尾焰
fireTurretXAtGround_withOffset: 0,1500


[hiddenAction_缓冲] 
buildSpeed: 1s
alsoQueueAction: 1
addResources: setFlag=0


[animation_关闭动画]
body_0s: {frame:0}
body_2.1s: {frame:15}


[animation_核弹]
arm1_0s: {x:0, y:0, dir: 0}
arm1_1s: {x:0, y:1500, dir: 0}


[effect_尾焰]
createWhenZoomedOut: true
image: ROOT:\共享文件\1类\爆炸8.png
life: 60
scaleFrom: 2.0
scaleTo: 2.0
attachedToUnit: false
drawUnderUnits: false
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFramePingPong: false
animateFrameSpeed: 0.25
#ySpeedRelative: -0.8
alwayStartDirAtZero: true
atmospheric: true
xOffsetRelative: 0
yOffsetRelative: 16


[effect_尾焰2]
@copyFromSection: effect_尾焰
life: 60
xOffsetRelative: -10
yOffsetRelative: 8
#ySpeedRelative: -0.4


[effect_尾焰3]
@copyFromSection: effect_尾焰
xOffsetRelative: 10
yOffsetRelative: 8
#ySpeedRelative: -0.3


[effect_核弹发射]
image: ROOT:\共享文件\1类\爆炸13.png
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 24
animateFrameStart: 0
animateFrameEnd: 23
animateFrameSpeed: 0.35
priority: critical
life: 180
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
alwayStartDirAtZero: true


[ai]
upgradedFrom: 核弹井

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/苏联战斗碉堡2.ini
================================================================================


[core]
name: 苏联战斗碉堡2
copyFrom: 苏联战斗碉堡.ini
showInEditor: false

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/苏联战斗碉堡.ini
================================================================================


[core]
name: 苏联战斗碉堡
price: 0
maxHp: 800
mass: 30000
radius: 25

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑防甲, 建筑, 电力, 防清驻, 苏联战斗碉堡, 空下
displayText: Soviet Battle Bunker
displayText_zh: 苏联战斗碉堡
displayDescription: Target: Ground unit\nFunds: -600\nSpecial: Cannot attack by itself.\nCan be only entered by Soviet Conscript, Flak Trooper, G.I., Guardian G.I.
displayDescription_zh: 攻击目标：地面单位/海面单位\n资金花费：600\n特殊：只能装基础兵(动员兵/防空兵/防卫大兵/飞弹防御兵)\n提高入驻单位的射程和伤害\n入驻单位无法对空攻击
isBuilding: true
footprint: -1,0,0,1
displayFootprint: -2,0,1,1
constructionFootprint: -2,0,1,1
buildingToFootprintOffsetX: -2
fogOfWarSightRange: 15
maxTransportingUnits:6
transportUnitsKillOnDeath:  false
transportUnitsRequireTag: 基础兵
buildSpeed: 0
selfBuildRate: 1s
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2, CUSTOM:炸毁


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\战斗碉堡图标.png
image:        苏联战斗碉堡.png

default_frame: 8
total_frames: 10
imageScale:	1.02
image_offsetX: 5
image_offsetY: -20
#image_wreak:  NONE
animation_idle_start: 8
animation_idle_end: 8
animation_idle_speed: 1
rotate_with_direction:false
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretMultiTargeting: true
turretSize: 0
turretTurnSpeed: 99
maxAttackRange: 250
shootDelay: 60
stopTargetingAfterFiring:true


[movement]
movementType: BUILDING


[turret_1]
x: 0
y: 0

projectile: 1


[projectile_1]
directDamage: 0
life: 0


[attachment_1]
x: 10
y: 0

isVisible: false
isUnselectable: true
keepAliveWhenParentDies: true
addTransportedUnits: true
#deattachIfWantingToMove: true
prioritizeParentsMainTarget: true
onParentTeamChangeKeepCurrentTeam: true
showAllActionsFrom: true


[attachment_2]
x: 0
y: 0

@copyFromSection: attachment_1


[attachment_3]
x: 15
y: 0

@copyFromSection: attachment_1


[attachment_4]
x: -5
y: 0

@copyFromSection: attachment_1


[attachment_5]
x: 20
y: 5

@copyFromSection: attachment_1


[attachment_6]
x: -10
y: 5

@copyFromSection: attachment_1


[action_位置1]
@define slotId: 0
isVisible: if self.transportingCount(slot=${slotId}, greaterThan=0)
buildSpeed: 0s
text: unload
text_zh: 卸载
textAddUnitName: unitRef self.transporting(slot=${slotId})
description: Click to unload unit
description_zh: 点击卸载单位
displayType: action
unitShownInUI: unitRef self.transporting(slot=${slotId})
forceUnloadTransportNow:true
forceUnloadTransportNow_onlyOnSlot:${slotId}
#isActive: if self.height(lessThan=3)


[action_位置2]
@copyFromSection: action_位置1
@define slotId: 1


[action_位置3]
@copyFromSection: action_位置1
@define slotId: 2


[action_位置4]
@copyFromSection: action_位置1
@define slotId: 3


[action_位置5]
@copyFromSection: action_位置1
@define slotId: 4


[action_位置6]
@copyFromSection: action_位置1
@define slotId: 5


[action_卖钱2]
stopLastAnimation: true


[hiddenAction_1]
autoTrigger: if not self.transportingCount(empty=true) and not self.hasFlag(id=0)
playAnimation: 入驻动画
addResources: setFlag=0


[hiddenAction_2]
autoTrigger: if self.transportingCount(empty=true) and self.hasFlag(id=0)
stopLastAnimation: true
addResources: unsetFlag=0
#temporarilyRemoveTags: 可入驻


[hiddenAction_Ai可入驻]
autoTriggerOnEvent: created
temporarilyAddTags: 可入驻


[hiddenAction_Ai可入驻2]
autoTrigger: if self.transportingCount(greaterThan=5) and self.tags(includes='可入驻')
temporarilyRemoveTags: 可入驻
#showMessageToAllPlayers: 清除入驻标签


[hiddenAction_卖钱4]
forceUnloadTransportNow:true


[hiddenAction_初始价值]
addResources: 价值=30


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[animation_入驻动画]
body_0s: {frame:9}
body_99999s: {frame:9}


[effect_土坑2]
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  0
yOffsetRelativeRandom:  0
spawnChance: 1


[effect_土坑3]
xOffsetRelativeRandom:  25
yOffsetRelativeRandom:  25
spawnChance: 0.5


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 600


[ai]
buildPriority: 0.02
recommendedInEachBaseNum: 6
recommendedInEachBasePriorityIfUnmet: 0.2
noneInBaseExtraPriority:0.2
#noneGlobalExtraPriority:0.2
maxEachBase: 8

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–防御/铁幕.ini
================================================================================


[core]
name: 铁幕
price: 0
maxHp: 1000
mass: 3000
radius: 10

tags: 铁幕
isBuilding: true
canNotBeDirectlyAttacked:true
fogOfWarSightRange:0
disableAllUnitCollisions: true
displayText: Iron Curtain
displayText_zh: 铁幕
displayDescription: Special: Super auxiliary equipment.\nMake the vehicles within the specified range invincible within the effective time.\nCan be used to kill enemy infantry and clean up the infantry in the building.\nAlso effective for friendly vehicles.\nNote that it is also effective for your own infantry.
displayDescription_zh: 特殊：超级辅助\n直接使指定载具在有效时间内无敌\n对友军载具也有效\n对敌我生物伤害很高
buildSpeed: 0
selfBuildRate: 0s
#isUnselectable: true
#showInEditor:false
#armour: 10000
#armourMinDamageToKeep:0


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\无敌.png
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 70


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[turret_1]
x: 0
y: 0


[projectile_1]
areaDamage: 9999
life: 0

areaRadius: 70
explodeOnEndOfLife: true
friendlyFire: true
explodeEffect: NONE
mutator0_ifUnitWithoutTags: 生物, 生物2
mutator0_areaDamageMultiplier: 0


[hiddenAction_1]
autoTriggerOnEvent: created
playSoundGlobally: ROOT:\音频\语音+音效\siroon.wav:2
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,0
spawnEffects: CUSTOM:铁幕


[hiddenAction_2]
autoTrigger:if self.timeAlive(laterThanSeconds=1)
#0.5
deleteSelf: true


[effect_铁幕]
image: 铁幕.png
#drawType: displacement
life: 600
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 22
animateFrameStart: 0
animateFrameEnd: 21
animateFramePingPong: false
animateFrameSpeed: 0.35

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/武装直升机2.ini
================================================================================


[core]
name: 武装直升机2
price: 资金=1400
maxHp: 320
mass: 6000
radius: 30

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 高级, 飞机中甲, 空军, 武装直升机, 克生物, 克装甲, 克建筑
displayText: Siege Chopper
displayText_zh: 武装直升机(部署)
displayDescription: Target: Ground unit/Air unit\nDamage creature: high\nDamage armor: High\nDamage building: Medium\nDamage air: High
displayDescription_zh: 攻击目标：地面单位/海面单位/空中单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：低\n伤害空军：高
buildSpeed: 14s
isBuilding: true
fogOfWarSightRange: 14
explodeOnDeath: false
showInEditor: false
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 武装直升机
selfRegenRate: 0.06
soundOnAttackOrder:  ROOT:\音频\语音+音效\vchoa2a.wav:2, ROOT:\音频\语音+音效\vchoa2b.wav:2, ROOT:\音频\语音+音效\vchoa2c.wav:2, ROOT:\音频\语音+音效\vchoa2d.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vchomoa.wav:2, ROOT:\音频\语音+音效\vchomob.wav:2, ROOT:\音频\语音+音效\vchomoc.wav:2, ROOT:\音频\语音+音效\vchomod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vchosea.wav:2, ROOT:\音频\语音+音效\vchoseb.wav:2, ROOT:\音频\语音+音效\vchosec.wav:2, ROOT:\音频\语音+音效\vchosed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vchodia.wav:2, ROOT:\音频\语音+音效\vchodib.wav:2, ROOT:\音频\语音+音效\vchodic.wav:2, ROOT:\音频\语音+音效\vchodid.wav:2


[hiddenAction_坠亡]
autoTrigger: false


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\武装直升机图标.png
image: 武装直升机2.png

#default_frame: 0
total_frames: 20
imageScale:	1.0
frame_width: 150
frame_height: 110
image_offsetX: 0
image_offsetY: 10
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 1
animation_direction_units: 0
animation_direction_strideX: 1
animation_direction_strideY: 0
animation_direction_starting: 45
rotate_with_direction: false
#lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 10
turretTurnSpeed: 3
#maxAttackRange: 255


[movement]
movementType:LAND

#moveSpeed: 0.0
#maxTurnSpeed: 1


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 武装直升机2炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 510
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[action_1]
text: Undeploy
text_zh: 取消部署
description: Undeploy to move
description_zh: 取消部署以移动
displayType: action
buildSpeed: 1
whenBuilding_cannotMove:true
whenBuilding_rotateTo: 45
whenBuilding_rotateTo_waitTillRotated: true
ai_isDisabled: true
isActive: if not self.tags(includes='禁止攻击')
playSoundAtUnit: ROOT:\音频\语音+音效\vchodepa.wav:2
alsoQueueAction: 2
temporarilyRemoveTags: 在地上


[hiddenAction_2]
buildSpeed: 1.5s
convertTo: 武装直升机
convertTo_keepCurrentTags: true
whenBuilding_cannotMove:true
whenBuilding_playAnimation: 转


[hiddenAction_3]
autoTrigger: if self.tags(includes='转换开始') and not self.tags(includes='在地上')
playSoundAtUnit: ROOT:\音频\语音+音效\vchodepa.wav:2
temporarilyRemoveTags: 转换开始
alsoQueueAction: 4


[hiddenAction_4]
buildSpeed: 1.9s
#requireConditional: if not self.tags(includes='在地上')
whenBuilding_cannotMove: true
whenBuilding_playAnimation: 转2
temporarilyAddTags: 在地上


[hiddenAction_清除路径]
autoTrigger: if (not self.isAttacking() and self.hasActiveWaypoint(type='attack')) or self.hasActiveWaypoint(type='move')
#autoTrigger: if not self.isAttacking() and self.hasActiveWaypoint(type='move') and (not self.isControlledByAI() or self.hasFlag(id=26))
clearAllWaypoints: true


[animation_转]
body_0s: {frame:19}
body_1.5s: {frame:1}


[animation_转2]
body_0s: {frame:1}
body_1.8s: {frame:19}


[hiddenAction_初始价值]
addResources: 价值=60


[template_zijin]
price: 1400


[ai]
useAsTransport: false
useAsAttacker: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/武装直升机2炮塔.ini
================================================================================


[core]
name: 武装直升机2炮塔
price: 2000
maxHp:400
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 高级, 炮塔, 武装直升机炮塔, 炸飞人


[graphics]
isVisible: if self.hasParent(withTag='在地上')
image:        武装直升机2炮塔.png

total_frames: 1
imageScale: 1.0
frame_width: 150
frame_height: 150
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.hasParent(withTag='禁止攻击') and self.hasParent(withTag='在地上')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 2
turretTurnSpeed: 4
#maxAttackRange: 150
shootDelay: ${int(62*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 2.0
turnAcceleration: 2.0


[turret_1]
x: 0
y: 0

barrelY: 45
barrelHeight: 40
limitingRange: 510
limitingMinRange: 120
shoot_flame: CUSTOM:开火
shoot_sound: ROOT:\音频\语音+音效\vchoat2a.wav
shoot_sound_vol: 2
onShoot_triggerActions: 开火冲击波
recoilOffset: -1
recoilOutTime: 5
recoilReturnTime: 10
projectile: 1


[projectile_1]
areaDamage: 105
life: 180

areaRadius: 40
frame: 5
speed: 8
drawSize: 0.95
image: ROOT:\共享文件\1类\炮弹2.png
explodeEffect: CUSTOM:映射3, CUSTOM:爆炸
effectOnCreate: CUSTOM:映射2
largeHitEffect: true
hitSound: true
initialUnguidedSpeedHeight: 3
gravity: 0.2
friendlyFire: true
targetGround: true
targetGroundSpread: 10
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.80
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.60
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.00
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.60
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.80
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.00


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=510)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 建筑
addWaypoint_target_nearestUnit_maxRange: 510
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=60


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸.png
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
life: 90
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.35
scaleFrom: 1.10
scaleTo: 1.10
#alpha: 0.85
fadeOut: false
fadeInTime: 0
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
@copyFromSection: effect_映射
scaleFrom:0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false


[effect_开火]
image: ROOT:\共享文件\1类\开火特效3.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
attachedToUnit:false
hOffset: 0


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟2.png
life: 60
scaleFrom: 0.4
scaleTo: 0.1
attachedToUnit: false
drawUnderUnits: false
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFramePingPong: false
animateFrameSpeed: 0.25
alwayStartDirAtZero: true
atmospheric: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/基洛夫空艇.ini
================================================================================


[core]
name: 基洛夫空艇
price: 资金=2000
maxHp: 2000
mass: 20000
radius: 35

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营飞机共同.xxhq, ROOT:\共享文件\3类\杀死载员.xxhq
#, ROOT:\共享文件\3类\闲置修复.xxhq
tags: 原始护甲, 高级, 飞机中甲, 空军, 基洛夫空艇, 克生物, 克装甲, 克建筑
displayText: Kirov Airship
displayText_zh: 基洛夫飞艇
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage building: Very high\nSpecial: Falling to the ground will cause a big explosion.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：很高\n特殊：炸弹落地需要较长时间\n死亡坠落爆炸造成大范围伤害
techLevel: 2
buildSpeed: 18s
softCollisionOnAll: 5
fogOfWarSightRange: 10
selfRegenRate: 0.06
explodeOnDeath: false
unitsSpawnedOnDeath: 基洛夫空艇坠毁
soundOnAttackOrder:  ROOT:\音频\语音+音效\vkirata.wav:2, ROOT:\音频\语音+音效\vkiratb.wav:2, ROOT:\音频\语音+音效\vkiratc.wav:2, ROOT:\音频\语音+音效\vkiratd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vkirmoa.wav:2, ROOT:\音频\语音+音效\vkirmob.wav:2, ROOT:\音频\语音+音效\vkirmoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vkirsea.wav:2, ROOT:\音频\语音+音效\vkirseb.wav:2, ROOT:\音频\语音+音效\vkirsec.wav:2, ROOT:\音频\语音+音效\vkirsed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vkirdia.wav:2, ROOT:\音频\语音+音效\vkirdib.wav:2, ROOT:\音频\语音+音效\vkirdic.wav:2, ROOT:\音频\语音+音效\vkirdid.wav:2


[hiddenAction_移动音效]
autoTrigger:if self.isMoving()
playSoundAtUnit: ROOT:\音频\语音+音效\vkirlo2a.wav:1.2, ROOT:\音频\语音+音效\vkirlo2b.wav:1.2, ROOT:\音频\语音+音效\vkirlo2c.wav:1.2


[hiddenAction_音效]
autoTriggerOnEvent: completeAndActive
playSoundGlobally: ROOT:\音频\语音+音效\vkirsea.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\基洛夫空艇图标.png
image:        基洛夫空艇.png

imageScale:	1.0
total_frames: 1
image_offsetY: 10
frame_width: 200
frame_height: 200
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX: 0
shadowOffsetY: -5
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 3
animation_idle_start: 0
animation_idle_end: 1
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 1
animation_attack_speed: 3
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false

attackMovement: bomber
turretSize: 20
turretTurnSpeed: 10
maxAttackRange: 90
shootDelay: ${int(45*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 伪装, 驾驶


[movement]
movementType: AIR

moveSpeed: 0.75
moveAccelerationSpeed: 0.06
moveDecelerationSpeed: 0.06
targetHeight: 160
targetHeightDrift: 3
maxTurnSpeed: 2.0
turnAcceleration: 0.5
reverseSpeedPercentage:0
moveSlidingMode:true
moveSlidingDir: 30
#slowDeathFall: true


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\vkiratta.wav
shoot_sound_vol: 2.0
onShoot_triggerActions: 基洛夫炸弹


[projectile_1]
directDamage: 0
life: 0


[hiddenAction_基洛夫炸弹]
spawnUnits: 基洛夫炸弹


[hiddenAction_变成空载具]
autoTrigger: if numberOfUnitsInNeutralTeam(withTag='变成空载具', greaterThan=0, withinRange=100)
convertTo: 基洛夫空艇空


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=200) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=200) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=100


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸2.png
scaleFrom:1.2
scaleTo: 1.2
total_frames: 26
animateFrameStart: 0
animateFrameEnd: 25
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 1
scaleTo: 0.8
alpha: 0.3
life: 20
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[template_zijin]
price: 2000

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/猎人.ini
================================================================================


[core]
name: 猎人
price: 资金=1600
maxHp: 300
mass: 8000
radius: 20

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营飞机共同.xxhq
tags: 原始护甲, 高级, 飞机中甲, 空军, 猎人, 克生物, 克装甲, 辐射死人, 克建筑
displayText: Hunter
displayText_zh: 猎人直升机
displayDescription: Target: Ground unit\nDamage creature: high\nDamage armor: Medium\nDamage building: High 
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：中\n伤害建筑：高
buildSpeed: 15s
fogOfWarSightRange: 12
explodeOnDeath: false
selfRegenRate: 0.06
energyMax: 4
energyRegen: 0.015
energyNeedsToRechargeToFull: true
unitsSpawnedOnDeath: 猎人坠毁(addResources=hp:-999, spawnChance=0.5, maxSpawnLimit=1), 猎人坠毁(maxSpawnLimit=1)
soundOnAttackOrder:  ROOT:\音频\语音+音效\vhuntatta.wav:2, ROOT:\音频\语音+音效\vhuntattb.wav:2, ROOT:\音频\语音+音效\vhuntattc.wav:2, ROOT:\音频\语音+音效\vhuntattd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vhuntmova.wav:2, ROOT:\音频\语音+音效\vhuntmovb.wav:2, ROOT:\音频\语音+音效\vhuntmovc.wav:2, ROOT:\音频\语音+音效\vhuntmovd.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vhuntsela.wav:2, ROOT:\音频\语音+音效\vhuntselb.wav:2, ROOT:\音频\语音+音效\vhuntselc.wav:2, ROOT:\音频\语音+音效\vhuntseld.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vhuntcraa.wav:2, ROOT:\音频\语音+音效\vhuntcrab.wav:2, ROOT:\音频\语音+音效\vhuntcrac.wav:2, ROOT:\音频\语音+音效\vhuntcrad.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isFlying()
playSoundAtUnit: ROOT:\音频\语音+音效\vcomlo2b.wav:0.4


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\猎人图标.png
image:        猎人.png

total_frames: 2
imageScale:	1.0
#image_offsetY:-20
frame_width: 120
frame_height: 120
#image_wreak: ROOT:\共享文件\死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX: 0
shadowOffsetY: 7
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 3
animation_idle_start: 0
animation_idle_end: 1
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 1
animation_attack_speed: 3
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
maxAttackRange: 225
shootDelay: ${int(40*(1/gameSpeedRate))}
#canOnlyAttackUnitsWithoutTags: 建筑, 建筑2, 伪装, 驾驶, 恐怖机器人, 辐射工兵:


[movement]
movementType: AIR

moveSpeed: 2.2
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.08
reverseSpeedPercentage: 0.5
targetHeight: 100
maxTurnSpeed: 2.0
turnAcceleration: 1.0
moveSlidingMode : true
moveIgnoringBody: true
moveSlidingDir:  181


[turret_1]
x: 0
y: 0

barrelX: 4
barrelY: 25
barrelHeight: -2
shoot_sound: ROOT:\音频\语音+音效\idesat1a.wav
shoot_sound_vol: 1.0
shoot_light: #FFA7FF03
canOnlyAttackUnitsWithoutTags: 建筑, 建筑2, 伪装, 驾驶, 恐怖机器人, 辐射工兵, 载具重甲
#limitingMinRange: 7


[turret_2]
x: 0
y: 0

barrelX: -4
copyFrom: 1
linkDelayWithTurret: 1
attachedTo:  1
slave: true
warmup: 20


[turret_3]
x: 0
y: 0

limitingRange: 40
energyUsage: 1
shoot_sound: ROOT:\音频\语音+音效\vhuntweaa.wav
shoot_sound_vol: 1.0
canOnlyAttackUnitsWithoutTags: 伪装, 驾驶, 生物, 生物2, 载具轻甲, 载具中甲
projectile: 2
delay: 15


[projectile_1]
directDamage: 125
life: 15

instant: true
beamImage: ROOT:\共享文件\1类\辐射轨迹.png
beamImageOffsetRate: 0.5
color: #FFA7FF03
spawnUnit: 辐射2
explodeEffect: CUSTOM:辐射星
mutator0_ifUnitWithTags: 辐射减伤
mutator0_directDamageMultiplier: 0.50
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.60
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.40
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.20
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.00
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.00
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.00
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[projectile_2]
areaDamage: 150
life: 120

areaRadius: 60
speed: 6
image: ROOT:\共享文件\1类\鱼雷.png
drawSize: 0.90
areaHitUnderwaterAlways: true
friendlyFire: true
targetGround: true
targetGroundSpread: 30
spawnUnit: 火焰4*4(offsetRandomX=20, offsetRandomY=20)
explodeEffect: CUSTOM:爆炸
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.80
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.60
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.00
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.40
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.00


[hiddenAction_变成空载具]
autoTrigger: if numberOfUnitsInNeutralTeam(withTag='变成空载具', greaterThan=0, withinRange=100)
convertTo: 猎人空


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=225)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 225
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击装甲]
@copyFromSection: hiddenAction_Ai攻击生物
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=180)
addWaypoint_target_nearestUnit_tagged: 装甲


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_初始价值]
addResources: 价值=50


[effect_辐射星]
image: ROOT:\共享文件\1类\灰.png
color: #FF00FF00
scaleFrom: 0.6
scaleTo: 5
alpha: 1.2
life: 60
hSpeed: 0.6
dirOffsetRandom: 180
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸6.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpcraa.wav:1.0
scaleFrom: 1.00
scaleTo: 1.00
total_frames: 26
animateFrameStart: 0
animateFrameEnd: 25
animateFrameSpeed: 0.35
#animateFrameSpeedRandom: 0.4
alwayStartDirAtZero: true
attachedToUnit: false
drawUnderUnits: false


[template_zijin]
price: 1600


[ai]
useAsTransport: false
useAsAttacker: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/猎人空.ini
================================================================================


[core]
name: 猎人空
copyFrom: 猎人.ini
showInEditor: false


[graphics]
#shadowOffsetY: 7
animation_moving_end: 0
animation_idle_end: 0
animation_attack_end: 0


[attack]
canAttack: false


[movement]
moveSpeed: 0
maxTurnSpeed: 0
targetHeight: 0
targetHeightDrift: 0


[hiddenAction_变成空载具]
autoTrigger: false


[hiddenAction_变回载具]
autoTriggerOnEvent: teamChanged
convertTo: 猎人


[hiddenAction_空标签]
autoTrigger: if not self.tags(includes='驾驶')
temporarilyAddTags: 驾驶
#showMessageToAllPlayers: 有标签


[hiddenAction_Ai攻击生物]
autoTrigger: false


[hiddenAction_Ai攻击装甲]
autoTrigger: false


[hiddenAction_跟随-移动]
autoTrigger: false


[hiddenAction_跟随-攻击移动]
autoTrigger: false


[hiddenAction_跟随-守卫]
autoTrigger: false

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/武装直升机坠毁.ini
================================================================================


[core]
name: 武装直升机坠毁
price: 1150
maxHp: 600
mass: 300
radius: 20

copyFrom: ROOT:\共享文件\3类\机毁飞溅.xxhq
#isUnselectable: true
showInEditor: false
fogOfWarSightRange: 0
soundOnDeath: ROOT:\音频\语音+音效\vchodiea.wav:2


[graphics]
image:        武装直升机.png

total_frames: 2
imageScale:	1.00
#image_offsetY:-20
frame_width: 150
frame_height: 150
image_wreak: ROOT:\共享文件\1类\死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX:0
shadowOffsetY:0
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 1
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 1.5
moveAccelerationSpeed: 1.0
moveDecelerationSpeed: 1.5
maxTurnSpeed: 0
targetHeight: 0
startingHeightOffset: 100
moveSlidingMode : true
moveSlidingDir:  180
moveIgnoringBody: true
#slowDeathFall: true
#landOnGround: true


[hiddenAction_1]
autoTriggerOnEvent: created
setBodyRotation: 0
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 500,500


[projectile_机毁肢]
targetSpeedAcceleration: 0.02


[animation_转]
onActions: move
direction_units: 11.25
direction_strideX: 1
direction_strideY: 0
direction_starting: 0
body_0s: {frame:0}
body_2s: {frame:63}


[template_zijin]
price: 1400

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/基洛夫空艇坠毁.ini
================================================================================


[core]
name: 基洛夫空艇坠毁
price: 0
maxHp: 50
mass: 300
radius: 20

copyFrom: ROOT:\共享文件\3类\机毁飞溅.xxhq
#isUnselectable: true
fireTurretXAtSelfOnDeath: 死亡伤害
showInEditor: false
fogOfWarSightRange: 0
soundOnDeath: ROOT:\音频\语音+音效\vkirdiea.wav:2


[graphics]
image:        基洛夫空艇.png

imageScale:	1.0
total_frames: 2
image_offsetY: -5
frame_width: 200
frame_height: 200
image_wreak: ROOT:\共享文件\1类\死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX: 0
shadowOffsetY: -20
animation_idle_start: 0
animation_idle_end: 1
animation_idle_speed: 1
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffectRate: 6


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 0.2
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0
maxTurnSpeed: 0
targetHeight: 0
targetHeightDrift: 0
startingHeightOffset: 100
moveSlidingMode : true
moveSlidingDir:  180
moveIgnoringBody: true
heightChangeRate: 2
#slowDeathFall: true
#landOnGround: true


[turret_死亡伤害]
x: 0
y: 0

canShoot: false
projectile: 死亡伤害


[projectile_死亡伤害]
@copyFromSection: template_炮弹模块
areaDamage: 210
life: 0

invisible: true
areaRadius: 100
flameWeapon: true
explodeOnEndOfLife: true
hitSound: true
friendlyFire: true
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.7
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.35
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.35
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.85
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.85
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.55
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 0.2
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.15
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.15
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.3


[hiddenAction_1]
autoTriggerOnEvent: created
setBodyRotation: 0
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 500,500


[animation_转]
onActions: move
direction_units: 11.25
direction_strideX: 1
direction_strideY: 0
direction_starting: 0
body_0s: {frame:0}
body_1.2s: {frame:63}


[effect_炸毁]
image: ROOT:\共享文件\1类\炸毁3.png
scaleFrom: 2.3
scaleTo: 2.3
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.2
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_机毁肢]
image: 基肢体.png
life: 80
scaleFrom: 0.9
scaleTo: 0.9


[effect_机毁肢2]
image: 基肢体2.png


[effect_尾焰]
scaleFrom: 0.5
scaleTo: 1.8


[effect_尾焰2]
scaleFrom: 0.5
scaleTo: 3


[effect_尾焰3]
scaleFrom: 0.1

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/米格战机坠毁.ini
================================================================================


[core]
name: 米格战机坠毁
price: 0
maxHp: 1
mass: 6000
radius: 0

copyFrom: ROOT:\共享文件\3类\机毁飞溅.xxhq, ROOT:\共享文件\3类\生命保险.xxhq
showInEditor: false
fogOfWarSightRange: 0


[graphics]
image:        米格战机.png

#scaleImagesTo: 90
imageScale:	1
image_offsetY: 10
frame_width: 130
frame_height: 130
image_wreak: ROOT:\共享文件\1类\死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影4.png
shadowOffsetX:0
shadowOffsetY:0
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffectRate: 1


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 3
moveAccelerationSpeed: 2.0
moveDecelerationSpeed: 0
maxTurnSpeed: 2.5
turnAcceleration: 0.5
targetHeight: 0
targetHeightDrift: 0
startingHeightOffset: 200
heightChangeRate: 1.5


[hiddenAction_1]
autoTriggerOnEvent: created
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_relativeOffsetFromSelf: 0, 100


[template_zijin]
price: 1400

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/米格战机2.ini
================================================================================


[core]
name: 米格战机2
price: 资金=1400
maxHp: 300
mass: 8000
radius: 15

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营飞机共同.xxhq
tags: 原始护甲, 中级, 飞机轻甲, 战机, 空军, 克建筑, 米格战机, 炸飞人, 克生物, 克装甲
techLevel: 2
displayText: MiG fighter
displayText_zh: 米格战机
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: High\nDamage building: Very High 
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：很高
buildSpeed: 16s
#softCollisionOnAll: 5
selfRegenRate: 0.06
fogOfWarSightRange: 12
disableAllUnitCollisions: true
showInEditor: false
isUnselectable: true
soundOnAttackOrder:  ROOT:\音频\语音+音效\vmigata.wav:2, ROOT:\音频\语音+音效\vmigatb.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vmigmoa.wav:2, ROOT:\音频\语音+音效\vmigmob.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vmigmoa.wav:2, ROOT:\音频\语音+音效\vmigmob.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vmigdia.wav:2, ROOT:\音频\语音+音效\vmigdib.wav:2, ROOT:\音频\语音+音效\vmigdic.wav:2
unitsSpawnedOnDeath: 米格战机坠毁, 降落伞2(spawnChance=0.5, alwayStartDirAtZero=true)


[hiddenAction_音效]
autoTriggerOnEvent:completeAndActive
playSoundGlobally: ROOT:\音频\语音+音效\vmigmoa.wav:2, ROOT:\音频\语音+音效\vmigmob.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() 
playSoundAtUnit: ROOT:\音频\语音+音效\vmiglo2a.wav:1, ROOT:\音频\语音+音效\vmiglo2b.wav:1, ROOT:\音频\语音+音效\vmiglo2c.wav:1


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\米格图标.png
image:        米格战机.png

imageScale:	1.0
image_offsetY: 10
frame_width: 130
frame_height: 130
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影4.png
shadowOffsetX: 0
shadowOffsetY: 1
movementEffect:CUSTOM:尾焰, CUSTOM:尾焰2, CUSTOM:尾焰3, CUSTOM:尾焰4
movementEffectRate: 1
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

attackMovement: bomber
turretSize: 10
turretTurnSpeed: 10
maxAttackRange: 210
shootDelay: 120
isMelee: true
meleeEngangementDistance: 1000
canOnlyAttackUnitsWithoutTags: 伪装, 驾驶


[movement]
movementType: AIR

moveSpeed: 3.8
moveAccelerationSpeed: 2.00
moveDecelerationSpeed: 0.00
maxTurnSpeed: 2.0
turnAcceleration: 1.0
targetHeight: 120
reverseSpeedPercentage: 0


[turret_1]
x: 0
y: -12

shoot_sound: ROOT:\音频\语音+音效\vintatta.wav
shoot_sound_vol: 2


[projectile_1]
areaDamage: 250
life: 250

areaRadius: 40
frame: 4
speed: 0
targetSpeed: 6
drawSize: 0.9
#hitSound: true
trailEffect: true
trailEffectRate: 1.0
turnSpeed: 100
wobbleAmplitude: 5
wobbleFrequency: 0.1
friendlyFire: true
explodeOnEndOfLife:true
explodeEffect: CUSTOM:爆炸, CUSTOM:映射
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.8
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.6
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.4
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 2.0
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 2.0
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 2.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0


[hiddenAction_1]
autoTrigger: if self.hasParent() and self.isAttacking() and self.timeAlive(laterThanSeconds=1)
disconnectFromParent: true


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=8)
deleteSelf: true


[hiddenAction_3]
autoTrigger: if not self.hasParent() and not self.isAttacking() and not self.hasActiveWaypoint(type='guard')
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 鲍里斯


[hiddenAction_Ai躲避]
autoTrigger: false


[hiddenAction_Ai躲避2]
autoTrigger: false


[hiddenAction_升级]
takeResources: 经验值=-40
takeResources_includeUnitsWithinRange: 9999
takeResources_includeReference: customTarget1
takeResources_discardCollected: true


[hiddenAction_初始价值]
addResources: 价值=70


[effect_爆炸]
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
image: ROOT:\共享文件\1类\炸毁5.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_尾焰]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #FFFFFF00
fadeInTime: 0
scaleFrom: 0.4
scaleTo: 0.3
alpha: 0.8
life: 10
dirOffsetRandom: 180
xOffsetRelative: 3
yOffsetRelative: -45
#xSpeedAbsoluteRandom:0.4
#ySpeedAbsoluteRandom:0.1
fadeOut: true
attachedToUnit: false
drawUnderUnits:false
#shadow: true


[effect_尾焰2]
@copyFromSection: effect_尾焰
xOffsetRelative: -3


[effect_尾焰3]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
image: ROOT:\共享文件\1类\尾烟.png
life: 45
fadeOut:true
color:#FFFFFF
fadeInTime: 3
scaleFrom: 2.5
scaleTo: 0
alpha: 1
#dirOffsetRandom: 180
xOffsetRelative: 8
yOffsetRelative: -25
atmospheric:true
#xSpeedAbsoluteRandom:0.4
#ySpeedAbsoluteRandom:0.1
attachedToUnit: false
drawUnderUnits:false
#shadow: true


[effect_尾焰4]
@copyFromSection: effect_尾焰3
xOffsetRelative: -8


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 1.5
scaleTo: 0.2
alpha: 0.4
life: 35
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero: true


[template_zijin]
price: 1800

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/武装直升机.ini
================================================================================


[core]
name: 武装直升机
price: 资金=1400
maxHp: 320
mass: 6000
radius: 30

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营飞机共同.xxhq
tags: 原始护甲, 高级, 飞机中甲, 空军, 武装直升机, 克生物, 克装甲, 克建筑
displayText: Siege Chopper
displayText_zh: 武装直升机
displayDescription: Target: Ground unit/Air unit\nDamage creature: high\nDamage armor: High\nDamage building: Medium\nDamage air: High
displayDescription_zh: 攻击目标：地面单位/海面单位/空中单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：低\n伤害空军：高
buildSpeed: 14s
fogOfWarSightRange: 14
explodeOnDeath: false
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 武装直升机
selfRegenRate: 0.06
unitsSpawnedOnDeath: 武装直升机坠毁(addResources=hp:-999, spawnChance=0.5, maxSpawnLimit=1), 武装直升机坠毁(maxSpawnLimit=1)
soundOnAttackOrder:  ROOT:\音频\语音+音效\vchoa1a.wav:2, ROOT:\音频\语音+音效\vchoa1b.wav:2, ROOT:\音频\语音+音效\vchoa1c.wav:2, ROOT:\音频\语音+音效\vchoa1d.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vchomoa.wav:2, ROOT:\音频\语音+音效\vchomob.wav:2, ROOT:\音频\语音+音效\vchomoc.wav:2, ROOT:\音频\语音+音效\vchomod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vchosea.wav:2, ROOT:\音频\语音+音效\vchoseb.wav:2, ROOT:\音频\语音+音效\vchosec.wav:2, ROOT:\音频\语音+音效\vchosed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vchodia.wav:2, ROOT:\音频\语音+音效\vchodib.wav:2, ROOT:\音频\语音+音效\vchodic.wav:2, ROOT:\音频\语音+音效\vchodid.wav:2


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='北非') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\武装直升机图标.png
image:        武装直升机.png

total_frames: 2
imageScale:	1.0
#image_offsetY:-20
frame_width: 150
frame_height: 150
image_offsetY: 10
#image_wreak: ROOT:\共享文件\死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX: 0
shadowOffsetY: 7
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 3
animation_idle_start: 0
animation_idle_end: 1
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 1
animation_attack_speed: 3
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: if not self.tags(includes='禁止攻击')
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 10
turretTurnSpeed: 3
#maxAttackRange: 255


[movement]
movementType: AIR

moveSpeed: 1.50
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.08
reverseSpeedPercentage: 0.5
targetHeight: 100
maxTurnSpeed: 2.0
turnAcceleration: 1.0
moveSlidingMode : true
#moveIgnoringBody: true
moveSlidingDir:  181


[turret_1]
x: 0
y: 20

limitingRange: 210
#150
delay: ${int(8*(1/gameSpeedRate))}
shoot_sound: ROOT:\音频\语音+音效\bsenatta.wav, ROOT:\音频\语音+音效\bsenattb.wav, ROOT:\音频\语音+音效\bsenattc.wav, ROOT:\音频\语音+音效\bsenattd.wav
shoot_sound_vol: 2.0
projectile: 1


[projectile_1]
areaDamage: 30
life: 5

areaRadius: 20
instant: true
explodeEffect: CUSTOM:弹火, CUSTOM:映射
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.4
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.2
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 0.6
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.4
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.2


[action_1]
text: Deploy
text_zh: 部署
description: Deploy to attack
description_zh: 部署以攻击
displayType: action
buildSpeed: 1s
whenBuilding_cannotMove:true
whenBuilding_rotateTo: 45
whenBuilding_rotateTo_waitTillRotated: true
convertTo: 武装直升机2
convertTo_keepCurrentTags: true
ai_isDisabled: true
isActive: if not self.tags(includes='禁止攻击')
isLocked: if self.isOverClift() or self.isOverLiquid()
temporarilyAddTags: 转换开始


[hiddenAction_变成空载具]
autoTrigger: if numberOfUnitsInNeutralTeam(withTag='变成空载具', greaterThan=0, withinRange=100)
convertTo: 武装直升机空


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 武装直升机2炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=210)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 210
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击装甲]
@copyFromSection: hiddenAction_Ai攻击生物
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=215)
addWaypoint_target_nearestUnit_tagged: 装甲


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_初始价值]
addResources: 价值=60


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
#color: #FFFFFF00
scaleFrom: 0.6
scaleTo: 0.2
alpha: 0.3
life: 20
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[template_zijin]
price: 1400


[ai]
useAsTransport: false
useAsAttacker: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/米格战机.ini
================================================================================


[core]
name: 米格战机
price: 资金=1700
maxHp: 260
#200
mass: 6000
radius: 30

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营飞机共同.xxhq
tags: 原始护甲, 中级, 飞机轻甲, 战机, 空军, 克建筑, 米格战机, 炸飞人, 克生物, 克装甲
displayText: MiG fighter
displayText_zh: 米格战机
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: High\nDamage building: High\nSpecial: *
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：高\n特殊：飞行速度快，对建筑伤害很高
buildSpeed: 17s
selfRegenRate: 0.06
softCollisionOnAll: 10
energyMax: 8
energyRegen: 0
energyNeedsToRechargeToFull: true
disableAllUnitCollisions: true
soundOnAttackOrder:  ROOT:\音频\语音+音效\vmigata.wav:2, ROOT:\音频\语音+音效\vmigatb.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vmigmoa.wav:2, ROOT:\音频\语音+音效\vmigmob.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vmigmoa.wav:2, ROOT:\音频\语音+音效\vmigmob.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vmigdia.wav:2, ROOT:\音频\语音+音效\vmigdib.wav:2, ROOT:\音频\语音+音效\vmigdic.wav:2
unitsSpawnedOnDeath: 米格战机坠毁, 降落伞2(spawnChance=0.5, alwayStartDirAtZero=true)


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='美革') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() 
playSoundAtUnit: ROOT:\音频\语音+音效\vmiglo2a.wav:1, ROOT:\音频\语音+音效\vmiglo2b.wav:1, ROOT:\音频\语音+音效\vmiglo2c.wav:1


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\米格图标.png
image:        米格战机.png

imageScale:	1.0
image_offsetY: 10
frame_width: 130
frame_height: 130
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影4.png
shadowOffsetX: 0
shadowOffsetY: 1
movementEffect:CUSTOM:尾焰, CUSTOM:尾焰2, CUSTOM:尾焰3, CUSTOM:尾焰4
movementEffectRate: 1
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

attackMovement: bomber
turretSize: 10
turretTurnSpeed: 6
maxAttackRange: 210
shootDelay: 15
aimOffsetSpread: 0
canOnlyAttackUnitsWithoutTags: 伪装, 驾驶


[movement]
movementType: AIR

moveSpeed: 3.5
moveAccelerationSpeed: 2.40
moveDecelerationSpeed: 0.05
maxTurnSpeed: 2.0
turnAcceleration: 1.0
targetHeight: 120
reverseSpeedPercentage: 0
#startingHeightOffset: 0
#landOnGround: onlyIdle
#moveSlidingMode :false
#moveIgnoringBody:false


[turret_1]
x: 0
y: -12

shoot_sound: ROOT:\音频\语音+音效\vintatta.wav
shoot_sound_vol: 2
energyUsage: 4


[projectile_1]
areaDamage: 225
life: 250

areaRadius: 40
frame: 4
speed: -2
targetSpeed: 6
drawSize: 0.9
#hitSound: true
#targetGround: true
trailEffect: true
trailEffectRate: 1.0
turnSpeed: 100
wobbleAmplitude: 5
wobbleFrequency: 0.1
friendlyFire: true
explodeOnEndOfLife:true
explodeEffect: CUSTOM:爆炸, CUSTOM:映射
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.8
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.6
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.0
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.8
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0


[action_补充弹药]
text: Missiles
text_zh: 弹药
description: 
displayType: none
autoTrigger: if self.hasParent() and not self.energy(full=true)
price: energy=1
displayRemainingStockpile: true
isActive: false
addResources: energy=1


[hiddenAction_补充弹药3]
autoTrigger: if not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.hasParent() and (self.energy(empty=true) or (not self.isControlledByAI() and not self.isAttacking() and not self.hasActiveWaypoint(type='attackMove') and not self.hasActiveWaypoint(type='attack') and self.hasUnitInTeam(withTag='机场')))
clearActiveWaypoint: true
addWaypoint_type: loadInto
addWaypoint_prepend: true
#addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 机场空
addWaypoint_triggerActionIfFailed: 自毁


[hiddenAction_初始入]
autoTriggerOnEvent: created
requireConditional: if self.hasUnitInTeam(withTag='机场')
alsoTriggerAction: 补充弹药3


[hiddenAction_自毁]
addResources: hp=-10000


[hiddenAction_攻击]
autoTrigger: if self.hasParent() and self.hasActiveWaypoint(type='attack')
disconnectFromParent: true


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=210) and not self.ammo(empty=true)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 建筑
addWaypoint_target_nearestUnit_maxRange: 210
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='机场') and not self.hasUnitInTeam(withTag='机场', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 机场


[hiddenAction_初始价值]
addResources: 价值=70


[effect_爆炸]
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
image: ROOT:\共享文件\1类\炸毁5.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_尾焰]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #FFFFFF00
fadeInTime: 0
scaleFrom: 0.4
scaleTo: 0.3
alpha: 0.8
life: 10
dirOffsetRandom: 180
xOffsetRelative: 3
yOffsetRelative: -45
#xSpeedAbsoluteRandom:0.4
#ySpeedAbsoluteRandom:0.1
fadeOut: true
attachedToUnit: false
drawUnderUnits:false
#shadow: true


[effect_尾焰2]
@copyFromSection: effect_尾焰
xOffsetRelative: -3


[effect_尾焰3]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
image: ROOT:\共享文件\1类\尾烟.png
life: 45
fadeOut:true
color:#FFFFFF
fadeInTime: 3
scaleFrom: 2.5
scaleTo: 0
alpha: 1
#dirOffsetRandom: 180
xOffsetRelative: 8
yOffsetRelative: -25
atmospheric:true
#xSpeedAbsoluteRandom:0.4
#ySpeedAbsoluteRandom:0.1
attachedToUnit: false
drawUnderUnits:false
#shadow: true


[effect_尾焰4]
@copyFromSection: effect_尾焰3
xOffsetRelative: -8


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 1.5
scaleTo: 0.2
alpha: 0.4
life: 35
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero: true


[template_zijin]
price: 1700

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/侦察点.ini
================================================================================


[core]
name: 侦察点
price:0
maxHp: 100
mass: 1200
radius: 0

tags: 侦察点
showOnMinimap: false
displayText: 侦察点
displayDescription: 让侦察机飞来这里
isBuilding: true
isUnselectable: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0
showInEditor: false
showOnMinimapToEnemies: false 


[graphics]
image: ROOT:\共享文件\1类\隐藏.png
isVisibleToEnemies: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[hiddenAction_1]
autoTrigger: if numberOfUnitsInTeam(withTag='侦察机', greaterThan=0, withinRange=20) or not numberOfUnitsInTeam(withTag='侦察机', greaterThan=0) and self.timeAlive(laterThanSeconds=1)
#self.timeAlive(laterThanSeconds=10) or  
alsoQueueAction: 2


[hiddenAction_2]
buildSpeed: 1s
deleteSelf: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/基洛夫空艇空.ini
================================================================================


[core]
name: 基洛夫空艇空
copyFrom: 基洛夫空艇.ini
showInEditor: false


#[graphics]
#shadowOffsetY: -13


[attack]
canAttack: false


[movement]
moveSpeed: 0
maxTurnSpeed: 0
targetHeight: 0
targetHeightDrift: 0


[hiddenAction_变成空载具]
autoTrigger: false


[hiddenAction_变回载具]
autoTriggerOnEvent: teamChanged
convertTo: 基洛夫空艇


[hiddenAction_空标签]
autoTrigger: if not self.tags(includes='驾驶')
temporarilyAddTags: 驾驶
#showMessageToAllPlayers: 有标签


[hiddenAction_Ai躲避]
autoTrigger: false


[hiddenAction_Ai躲避2]
autoTrigger: false


[hiddenAction_跟随-移动]
autoTrigger: false


[hiddenAction_跟随-攻击移动]
autoTrigger: false


[hiddenAction_跟随-守卫]
autoTrigger: false

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/基洛夫炸弹.ini
================================================================================


[core]
name: 基洛夫炸弹
price: 0
maxHp: 300
mass: 300
radius: 5

tags: 炸飞人
showInEditor: false
fogOfWarSightRange: 0
isUnselectable: true
explodeOnDeath: false
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
effectOnDeath: CUSTOM:炸毁, CUSTOM:映射
fireTurretXAtSelfOnDeath: 1
soundOnDeath: ROOT:\音频\语音+音效\gexprocka.wav:2, ROOT:\音频\语音+音效\gexprockb.wav:2, ROOT:\音频\语音+音效\gexprockc.wav:2


[graphics]
image:        基洛夫炸弹.png

imageScale:	1.0
total_frames: 1
image_offsetY: 20
frame_width: 30
frame_height: 30
image_wreak: NONE
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX: 0
shadowOffsetY: 20
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 1
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffectRate: 6


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 10
maxAttackRange: 80
shootDelay: 60
canOnlyAttackUnitsWithoutTags: 伪装, 驾驶


[movement]
movementType: LAND

moveSpeed: 0
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.0
maxTurnSpeed: 4.0
turnAcceleration: 4.0
#heightChangeRate: 10
#fallingAcceleration: 10
#slowDeathFall: true
#landOnGround: true

[turret_1]
x: 0
y: 0

projectile: 1


[projectile_1]
@copyFromSection: template_炮弹模块
areaDamage: 340
life: 0

invisible: true
areaRadius: 60
explodeOnEndOfLife: true
hitSound: true
friendlyFire: true
explodeEffect: NONE
mutator1_ifUnitWithTags: 1级
mutator1_areaDamageMultiplier: 0.8
mutator2_ifUnitWithTags: 2级
mutator2_areaDamageMultiplier: 0.6
mutator3_ifUnitWithTags: 3级
mutator3_areaDamageMultiplier: 0.4
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.5
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.5
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.5
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.6
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 2.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.8
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 2.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.6
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 0.2
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.2
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.2
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.2


[hiddenAction_落地爆炸]
autoTrigger: if not self.isFlying()
addResources: hp=-9999


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸3.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 1.5
scaleTo: 0.2
alpha: 0.4
life: 35
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero: true



================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/侦察机.ini
================================================================================


[core]
name: 米格战机3
copyFrom: 米格战机.ini
maxHp: 1200
#600
tags: 原始护甲, 飞机轻甲, 侦察机, 反潜, 反伪装, 空军
disableAllUnitCollisions: true
#canNotBeGivenOrdersByPlayer: true
fogOfWarSightRange: 16
isUnselectable: true
showInEditor: false
displayText: Spy Plane 
displayText_zh: 侦察机
displayDescription: Spy Plane 
displayDescription_zh: Spy Plane 
unitsSpawnedOnDeath: NONE
effectOnDeath: CUSTOM:炸毁


[hiddenAction_音效]
autoTriggerOnEvent: completeAndActive
playSoundGlobally: ROOT:\音频\语音+音效\vmiglo2a.wav:1


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\侦察机图标.png
image:        侦察机.png

imageScale:	1.0
image_offsetY: 10
frame_width: 130
frame_height: 130
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影4.png
shadowOffsetX: 0
shadowOffsetY: 1
movementEffect: CUSTOM:尾焰3, CUSTOM:尾焰4
movementEffectRate: 1
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false


[movement]
moveSpeed: 4.2
moveAccelerationSpeed: 0.06
moveDecelerationSpeed: 0.06
maxTurnSpeed: 3.0
turnAcceleration: 1.5
moveIgnoringBody: false
moveSlidingMode: true
moveSlidingDir: 30


[hiddenAction_1]
autoTrigger: if numberOfUnitsInTeam(withTag='侦察点', greaterThan=0) and not self.hasActiveWaypoint(type='touchTarget') and not self.hasActiveWaypoint(type='move')
addWaypoint_type: touchTarget
addWaypoint_prepend: true
#addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 侦察点


[hiddenAction_2]
autoTriggerOnEvent: touchTargetSuccess
clearAllWaypoints: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 苏联机场
addWaypoint_triggerActionIfFailed: 3
#alsoQueueAction: 4


[hiddenAction_3]
autoTrigger: if numberOfUnitsInTeam(withTag='苏联机场', greaterThan=0, withinRange=80) and self.timeAlive(laterThanSeconds=10)
buildSpeed: 5s
deleteSelf: true


[hiddenAction_补充弹药]
@copyFrom_skipThisSection: true


[hiddenAction_补充弹药3]
@copyFrom_skipThisSection: true


[hiddenAction_初始入]
@copyFrom_skipThisSection: true


[hiddenAction_Ai攻击建筑]
@copyFrom_skipThisSection: true


[hiddenAction_Ai躲避]
@copyFrom_skipThisSection: true


[hiddenAction_Ai躲避2]
@copyFrom_skipThisSection: true


[effect_炸毁]
image: ROOT:\共享文件\1类\炸毁2.png
scaleFrom:1.0
scaleTo: 1.0
total_frames: 17
animateFrameStart: 0
animateFrameEnd: 16
animateFrameSpeed: 0.35
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_尾焰3]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
image: ROOT:\共享文件\1类\尾烟.png
life: 45
fadeOut:true
color:#FFFFFF
fadeInTime: 3
scaleFrom: 2.5
scaleTo: 0
alpha: 1
#dirOffsetRandom: 180
xOffsetRelative: 16
yOffsetRelative: -5
atmospheric:true
#xSpeedAbsoluteRandom:0.4
#ySpeedAbsoluteRandom:0.1
attachedToUnit: false
drawUnderUnits:false
#shadow: true


[effect_尾焰4]
@copyFromSection: effect_尾焰3
xOffsetRelative: -16

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/武装直升机空.ini
================================================================================


[core]
name: 武装直升机空
copyFrom: 武装直升机.ini
showInEditor: false


[graphics]
#shadowOffsetY: 7
animation_moving_end: 0
animation_idle_end: 0
animation_attack_end: 0


[attack]
canAttack: false


[movement]
moveSpeed: 0
maxTurnSpeed: 0
targetHeight: 0
targetHeightDrift: 0


[hiddenAction_变成空载具]
autoTrigger: false


[hiddenAction_变回载具]
autoTriggerOnEvent: teamChanged
convertTo: 武装直升机


[hiddenAction_空标签]
autoTrigger: if not self.tags(includes='驾驶')
temporarilyAddTags: 驾驶
#showMessageToAllPlayers: 有标签


[hiddenAction_Ai攻击生物]
autoTrigger: false


[hiddenAction_Ai攻击装甲]
autoTrigger: false


[hiddenAction_跟随-移动]
autoTrigger: false


[hiddenAction_跟随-攻击移动]
autoTrigger: false


[hiddenAction_跟随-守卫]
autoTrigger: false

================================================================================
// FILE_PATH: ./1苏维埃联盟/空军/猎人坠毁.ini
================================================================================


[core]
name: 猎人坠毁
price: 1150
maxHp: 600
mass: 300
radius: 20

copyFrom: ROOT:\共享文件\3类\机毁飞溅.xxhq
#isUnselectable: true
showInEditor: false
fogOfWarSightRange: 0
soundOnDeath: ROOT:\音频\语音+音效\vchodiea.wav:2


[graphics]
image:        猎人.png

total_frames: 2
imageScale:	1.00
#image_offsetY:-20
frame_width: 120
frame_height: 120
image_wreak: ROOT:\共享文件\1类\死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX:0
shadowOffsetY:0
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 1
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 1.5
moveAccelerationSpeed: 1.0
moveDecelerationSpeed: 1.5
maxTurnSpeed: 0
targetHeight: 0
startingHeightOffset: 100
moveSlidingMode : true
moveSlidingDir:  180
moveIgnoringBody: true
#slowDeathFall: true
#landOnGround: true


[hiddenAction_1]
autoTriggerOnEvent: created
setBodyRotation: 0
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 500,500


[projectile_机毁肢]
targetSpeedAcceleration: 0.02


[animation_转]
onActions: move
direction_units: 11.25
direction_strideX: 1
direction_strideY: 0
direction_starting: 0
body_0s: {frame:0}
body_2s: {frame:63}


[template_zijin]
price: 1500

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联船坞2.ini
================================================================================

[core]
name: 苏联船坞2
copyFrom: 苏联船坞.ini
showInEditor: false
nanoFactorySpeed: 1.25


[hiddenAction_阵营特色buff]
autoTrigger: false
convertTo: 苏联船坞
convertTo_keepCurrentTags: true



================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联船坞爆发.ini
================================================================================


[core]
name: 苏联船坞爆发
copyFrom: 苏联船坞.ini
showInEditor: false

nanoFactorySpeed: 1.5


[hiddenAction_生产减缓]
autoTrigger: false
convertTo: 苏联船坞
convertTo_keepCurrentTags: true


[hiddenAction_生产爆发]
autoTrigger: if not self.globalTeamTags(includes="工业爆发")
convertTo: 苏联船坞
convertTo_keepCurrentTags: true


[hiddenAction_阵营特色buff]
autoTrigger: false
convertTo: 苏联船坞
convertTo_keepCurrentTags: true


[hiddenAction_工业爆发效果显示] 
autoTrigger: true
spawnEffects: CUSTOM:工业爆发效果


[effect_工业爆发效果]
image: ROOT:\共享文件\1类\工业爆发.png
scaleFrom: 1
scaleTo: 1
alpha: 1.2
life: 65
#hOffset: 35
fadeInTime: 30
fadeOut: true
attachedToUnit: true
drawUnderUnits: false
alwayStartDirAtZero: true
liveAfterAttachedDies: false

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联战争工厂爆发.ini
================================================================================


[core]
name: 苏联战争工厂爆发
copyFrom: 苏联战争工厂.ini
showInEditor: false
nanoFactorySpeed: 1.5


[hiddenAction_生产减缓]
autoTrigger: false
convertTo: 苏联战争工厂
convertTo_keepCurrentTags: true


[hiddenAction_生产爆发]
autoTrigger: if not self.globalTeamTags(includes="工业爆发")
convertTo: 苏联战争工厂
convertTo_keepCurrentTags: true


[hiddenAction_阵营特色buff]
autoTrigger: false
convertTo: 苏联战争工厂
convertTo_keepCurrentTags: true


[hiddenAction_工业爆发效果显示] 
autoTrigger: true
spawnEffects: CUSTOM:工业爆发效果


[effect_工业爆发效果]
image: ROOT:\共享文件\1类\工业爆发.png
scaleFrom: 1
scaleTo: 1
alpha: 1.2
life: 65
#hOffset: 35
fadeInTime: 30
fadeOut: true
attachedToUnit: true
drawUnderUnits: false
alwayStartDirAtZero: true
liveAfterAttachedDies: false



================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联船坞引子-Ai.ini
================================================================================

[core]
name: 苏联船坞引子-Ai
price: 0
maxHp: 1000
mass: 1
radius: 0

showInEditor: false
tags: 苏联船坞引子
#isUnselectable: true
disableAllUnitCollisions: true
effectOnDeath: NONE
explodeOnDeath:  false
hideScorchMark: true
#canNotBeDirectlyAttacked:true
dieOnConstruct: true
nanoRange: 10
armour: 999999
armourMinDamageToKeep: 0
canOnlyBeAttackedByUnitsWithTags: 无
showOnMinimap: false


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0
moveSpeed: 4
moveAccelerationSpeed: 2
moveDecelerationSpeed: 4
maxTurnSpeed: 6
turnAcceleration: 1
reverseSpeedPercentage: 0.5
moveIgnoringBody: true
moveSlidingMode: true
moveSlidingDir: 0


[canBuild_1]
name: 苏联船坞
#pos: 1
#tech: 1
#forceNano: true/false   
#isVisible: true/false
#isLocked: true/false/逻辑代码
#isLockedMessage: 信息


[turret_1]
x: 0
y: 0


[projectile_1]
directDamage: 0
life: 60

instant: true
#explodeEffect: NONE
spawnUnit: 苏联船坞(addResources=资金:-1500, gridAlign=true, skipIfOverlapping=true)
#, gridAlign=true

[hiddenAction_1]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='基地') and not self.hasUnitInTeam(withTag='基地', withinRange=800) and not self.hasActiveWaypoint(type='guard')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 基地
#addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 1s
#showMessageToAllPlayers: 触发


[hiddenAction_2]
autoTrigger: if (self.isControlledByAI() and self.isOverwater()) or not self.hasUnitInTeam(withTag='基地')
clearActiveWaypoint: true
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,250
#showMessageToAllPlayers: 触发2
alsoQueueAction: 1


[hiddenAction_1]
buildSpeed: 1s
deleteSelf: true


#[hiddenAction_4]
#autoTrigger: if not self.hasUnitInTeam(withTag='车厂') or not self.hasUnitInTeam(withTag='超时空传送仪') or numberOfUnitsInTeam(withTag='超时空引子', greaterThan=1) or self.hasUnitInTeam(withTag='超时空传送')
#deleteSelf: true

[ai]
useAsBuilder: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联机场爆发.ini
================================================================================

[core]
name: 苏联机场爆发
copyFrom: 苏联机场.ini
showInEditor: false
nanoFactorySpeed: 1.5


[hiddenAction_生产减缓]
autoTrigger: false
convertTo: 苏联机场
convertTo_keepCurrentTags: true


[hiddenAction_生产爆发]
autoTrigger: if not self.globalTeamTags(includes="工业爆发")
convertTo: 苏联机场
convertTo_keepCurrentTags: true


[hiddenAction_阵营特色buff]
autoTrigger: false
convertTo: 苏联机场
convertTo_keepCurrentTags: true


[hiddenAction_工业爆发效果显示] 
autoTrigger: true
spawnEffects: CUSTOM:工业爆发效果


[effect_工业爆发效果]
image: ROOT:\共享文件\1类\工业爆发.png
scaleFrom: 1
scaleTo: 1
alpha: 1.2
life: 65
#hOffset: 35
fadeInTime: 30
fadeOut: true
attachedToUnit: true
drawUnderUnits: false
alwayStartDirAtZero: true
liveAfterAttachedDies: false



================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联机场2.ini
================================================================================

[core]
name: 苏联机场2
copyFrom: 苏联机场.ini
showInEditor: false
nanoFactorySpeed: 1.25


[hiddenAction_阵营特色buff]
autoTrigger: false
convertTo: 苏联机场
convertTo_keepCurrentTags: true



================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联机场.ini
================================================================================


[core]
name: 苏联机场
price: 0
maxHp: 1000
mass: 50000
radius: 60

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\生产控制.xxhq
tags: 原始护甲, 建筑轻甲, 建筑, 机场, 占领, 苏联机场, 可入侵, 空下, 带扩展建筑
displayText: Soviet Airfield
displayText_zh: 苏联机场
displayDescription: Produce and repair and place aircraft\nFunds: -1000\nPower: -150\nSpecial: Place it to unlock the reconnaissance aircraft function and use it on the Soviet flag.
displayDescription_zh: 生产和放置和维修飞机\n资金花费：1000\n电力占用：150\n特殊：放置好后解锁侦查功能，需要在苏联国旗那里使用
borrowResourcesWhileAlive: 电力=150
#techLevel: 2
buildSpeed: 0
selfBuildRate: 1s
isBuilding: true
footprint: -4,-2,4,1
displayFootprint: -5,-3,5,2
constructionFootprint: -5,-3,5,2
exit_x: 0
exit_y: 0
exit_dirOffset: 240
exit_moveAwayAmount: 100
maxTransportingUnits: 4
transportUnitsKeepBuiltUnits: true
transportUnitsRequireTag: 飞机轻甲, 飞机中甲, 飞机重甲
transportUnitsHealBy: 0.06
transportUnitsRequireMovementType: AIR
transportUnitsKillOnDeath: false
transportUnitsBlockOtherTransports: false
fogOfWarSightRange: 20
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2*2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 苏联机场停电
convertTo_keepCurrentTags: true


[hiddenAction_生产爆发]
autoTrigger: if self.globalTeamTags(includes="工业爆发")
convertTo: 苏联机场爆发
convertTo_keepCurrentTags: true


[hiddenAction_阵营特色buff]
autoTrigger: if self.globalTeamTags(includes="苏俄")
convertTo: 苏联机场2
convertTo_keepCurrentTags: true


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[hiddenAction_建造单位音效]
autoTriggerOnEvent: queueItemAdded
playSoundToPlayer: ROOT:\音频\语音+音效\umenucl1.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[hiddenAction_单位建造完成-盟]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva062.wav:2


[hiddenAction_建造单位完成-苏]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof062.wav:2


[hiddenAction_单位建造完成-尤]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur062.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\苏联机场图标.png
image:        苏联机场.png

default_frame: 11
imageScale:	1.02
total_frames: 19
image_offsetX: 16
image_offsetY: -69
#image_back:   NONE
#image_wreak:  NONE
animation_idle_start: 11
animation_idle_end: 18
animation_idle_speed: 6
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[canBuild_1]
name: setRally, 米格战机

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产飞机')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_2]
name: 武装直升机, 基洛夫空艇

pos: 2
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2) and self.hasUnitInTeam(withTag="宫殿")
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产飞机')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_秘密科技实验室]
name: 猎人

pos: 3
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2) and self.hasUnitInTeam(withTag="秘密科技实验室")
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产飞机')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[attachment_1]
x: 65
y: 17

isUnselectable: false
idleDir: 225
lockRotation: true
canBeAttackedAndDamaged: true
addTransportedUnits: true
deattachIfWantingToMove:true


[attachment_2]
x: 10
y: 22

@copyFromSection: attachment_1


[attachment_3]
x: 0
y: -15

@copyFromSection: attachment_1


[attachment_4]
x: -55
y: -10

@copyFromSection: attachment_1


[action_生产控制3]
isVisible: false


[action_生产控制5]
isVisible: false


[hiddenAction_1]
autoTrigger: if self.customTimer(laterThanSeconds=2) and not self.hasFlag(id=29)
resetCustomTimer: true
spawnEffects: CUSTOM:苏联机场光


[hiddenAction_2]
autoTrigger: if numberOfUnitsInTeam(withTag='侦察点', greaterThan=0) and not self.globalTeamTags(includes='无侦察机')
produceUnits: 米格战机3
addGlobalTeamTags: 无侦察机


[hiddenAction_机场空]
autoTrigger: if self.numberOfAttachedUnits(lessThan=4) and not self.tags(includes='机场空')     
temporarilyAddTags: 机场空
#showMessageToAllPlayers: 有


[hiddenAction_机场空2]
autoTrigger: if self.numberOfAttachedUnits(greaterThan=3) and self.tags(includes='机场空')     
temporarilyRemoveTags: 机场空
#showMessageToAllPlayers: 无


[hiddenAction_卖钱4]
forceUnloadTransportNow:true


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_初始价值]
addResources: 价值=60


[hiddenAction_心控卸载2]
requireConditional: false


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:10}


[effect_苏联机场光]
image: 苏联机场光.png
#delayedStartTimer: 60
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 6
animateFrameStart: 0
animateFrameEnd: 5
animateFrameSpeed: 0.06
xOffsetRelative	:  16
yOffsetRelative	:  69
alwayStartDirAtZero: true
life: 600
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
attachedToUnit: true
liveAfterAttachedDies: false
createWhenZoomedOut:  false


[effect_土坑]
#xOffsetRelative: 0
yOffsetRelative: 20


[effect_土坑2]
xOffsetRelativeRandom: 80
yOffsetRelativeRandom: 50


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 1000
@global dianli: -150


[ai]
useAsBuilder: true
buildPriority: 0.03
noneInBaseExtraPriority: 0.4
recommendedInEachBaseNum: 3
recommendedInEachBasePriorityIfUnmet: 0.2

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联战争工厂.ini
================================================================================


[core]
name: 苏联战争工厂
price: 0
maxHp: 1200
mass: 30000
radius: 60

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\生产控制.xxhq
tags: 原始护甲, 建筑轻甲, 建筑, 车厂, 占领, 可入侵, 苏联战争工厂, 空下, 带扩展建筑
borrowResourcesWhileAlive: 电力=100
displayText: Soviet War Factory
displayText_zh: 苏联战争工厂
displayDescription: Produce Soviet vehicles\nFunds: -2000\nPower: -100
displayDescription_zh: 生产苏联战车\n资金花费：2000\n电力占用：100
isBuilding: true
footprint: -3,0,4,2
displayFootprint: -4,-1,5,3
constructionFootprint: -4,-2,5,3
buildSpeed: 0
selfBuildRate: 1s
exit_x:70
exit_y:35
exit_dirOffset: 315
exit_moveAwayAmount :100
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2*2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 苏联战争工厂停电
convertTo_keepCurrentTags: true


[hiddenAction_生产爆发]
autoTrigger: if self.globalTeamTags(includes="工业爆发")
convertTo: 苏联战争工厂爆发
convertTo_keepCurrentTags: true


[hiddenAction_阵营特色buff]
autoTrigger: if self.globalTeamTags(includes="苏俄")
convertTo: 苏联战争工厂2
convertTo_keepCurrentTags: true


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[hiddenAction_建造单位音效]
autoTriggerOnEvent: queueItemAdded
playSoundToPlayer: ROOT:\音频\语音+音效\umenucl1.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[hiddenAction_单位建造完成-盟]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva062.wav:2


[hiddenAction_建造单位完成-苏]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof062.wav:2


[hiddenAction_单位建造完成-尤]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur062.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\苏联战争工厂图标.png
image:        苏联战争工厂.png

default_frame: 8
total_frames: 14
imageScale:	1.02
image_offsetX:-18
image_offsetY:-36
#image_back:   NONE
#image_wreak:  NONE
animation_idle_start: 8
animation_idle_end: 8
animation_idle_speed: 1
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[canBuild_1]
name: setRally

pos: 1


[canBuild_通用军备]
name: 犀牛坦克

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2) and not self.globalTeamTags(includes="伊朗")
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_伊朗专用T1]
name: 天蝎坦克

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2) and self.globalTeamTags(includes="伊朗")
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_通用军备2]
name: 恐怖机器人, 半履带车, 猛虎

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_2]
name: V3导弹车

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="雷达") or self.hasFlag(id=3)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: Be infiltrated! Unlock after 30s.
isLockedMessage_zh: 被入侵，30s后解锁
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_俄罗斯专属T2]
name: 磁能坦克

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="雷达") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and self.globalTeamTags(includes="苏俄")
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: Be infiltrated! Unlock after 30s.
isLockedMessage_zh: 被入侵，30s后解锁
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_北非专属T2]
name: 自爆卡车

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="雷达") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and self.globalTeamTags(includes="北非")
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: Be infiltrated! Unlock after 30s.
isLockedMessage_zh: 被入侵，30s后解锁
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_基地车]
name: 苏联基地车, 战场维修车

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="苏联维修站") or self.hasFlag(id=3)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_3]
name: 苏联矿车

pos: 3
isVisible:if (self.hasUnitInTeam(withTag="苏联矿厂") or self.hasFlag(id=5)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_4]
name: 天启坦克

pos: 4
isVisible:if (self.hasUnitInTeam(withTag="宫殿") or self.hasFlag(id=4)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[hiddenAction_Ai生产基地车-不可能的]
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.resource(type='资金', greaterThan=3000) and self.resource(type='Ai智商', equalTo=370) and numberOfUnitsInTeam(lessThan=7, withTag='基地车') and numberOfUnitsInTeam(lessThan=7, withTag='基地') and self.hasUnitInTeam(withTag="苏联维修站") and self.isControlledByAI() and self.resource(type='入侵计时', empty=true) and not self.hasFlag(id=1) and not self.globalTeamTags(includes='禁止生产基地车') and not self.tags(includes='禁止攻击') and not self.globalTeamTags(includes='禁止生产载具') and self.customTimer(laterThanSeconds=120)
resetCustomTimer: true
produceUnits: 苏联基地车
addResources: 资金=-3000
playAnimationIfNotPlaying: 开门动画


[hiddenAction_Ai生产基地车-很难]
@copyFromSection: hiddenAction_Ai生产基地车-不可能的
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.resource(type='资金', greaterThan=3000) and self.resource(type='Ai智商', equalTo=179) and numberOfUnitsInTeam(lessThan=5, withTag='基地车') and numberOfUnitsInTeam(lessThan=5, withTag='基地') and self.hasUnitInTeam(withTag="苏联维修站") and self.isControlledByAI() and self.resource(type='入侵计时', empty=true) and not self.hasFlag(id=1) and not self.globalTeamTags(includes='禁止生产基地车') and not self.tags(includes='禁止攻击') and not self.globalTeamTags(includes='禁止生产载具') and self.customTimer(laterThanSeconds=120)


[hiddenAction_Ai生产基地车-困难]
@copyFromSection: hiddenAction_Ai生产基地车-不可能的
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.resource(type='资金', greaterThan=3000) and self.resource(type='Ai智商', equalTo=139) and numberOfUnitsInTeam(lessThan=3, withTag='基地车') and numberOfUnitsInTeam(lessThan=3, withTag='基地') and self.hasUnitInTeam(withTag="苏联维修站") and self.isControlledByAI() and self.resource(type='入侵计时', empty=true) and not self.hasFlag(id=1) and not self.globalTeamTags(includes='禁止生产基地车') and not self.tags(includes='禁止攻击') and not self.globalTeamTags(includes='禁止生产载具') and self.customTimer(laterThanSeconds=120)


[hiddenAction_Ai生产基地车-普通]
@copyFromSection: hiddenAction_Ai生产基地车-不可能的
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.resource(type='资金', greaterThan=3000) and self.resource(type='Ai智商', equalTo=100) and numberOfUnitsInTeam(lessThan=2, withTag='基地车') and numberOfUnitsInTeam(lessThan=2, withTag='基地') and self.hasUnitInTeam(withTag="苏联维修站") and self.isControlledByAI() and self.resource(type='入侵计时', empty=true) and not self.hasFlag(id=1) and not self.globalTeamTags(includes='禁止生产基地车') and not self.tags(includes='禁止攻击') and not self.globalTeamTags(includes='禁止生产载具') and self.customTimer(laterThanSeconds=120)


[hiddenAction_开门]
autoTrigger: if self.hasFlag(id=0)
addResources: unsetFlag=0
playAnimationIfNotPlaying: 开门动画


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_初始价值]
addResources: 价值=100


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[animation_开门动画]
body_0s: {frame:13}
body_1s: {frame:13}


[animation_出厂动画]
body_0s: {frame:9}
body_1s: {frame:12}


[effect_电力]
xOffsetRelative: -35
yOffsetRelative: 50


[effect_土坑2]
xOffsetRelativeRandom: 80
yOffsetRelativeRandom: 40


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 2000
@global dianli: -100


[ai]
useAsBuilder: true
buildPriority: 0.03
#useAsBuilder: true
noneInBaseExtraPriority:0.3
recommendedInEachBaseNum: 2
recommendedInEachBasePriorityIfUnmet: 0.2

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联战争工厂2.ini
================================================================================

[core]
name: 苏联战争工厂2
copyFrom: 苏联战争工厂.ini
showInEditor: false
nanoFactorySpeed: 1.25


[hiddenAction_阵营特色buff]
autoTrigger: false
convertTo: 苏联战争工厂
convertTo_keepCurrentTags: true



================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联兵营停电.ini
================================================================================


[core]
name: 苏联兵营停电
copyFrom: 苏联兵营.ini
showInEditor: false

nanoFactorySpeed: 0.75

[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 苏联兵营
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联机场停电.ini
================================================================================


[core]
name: 苏联机场停电
copyFrom: 苏联机场.ini
showInEditor: false

nanoFactorySpeed: 0.75


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 苏联机场
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联船坞停电.ini
================================================================================


[core]
name: 苏联船坞停电
copyFrom: 苏联船坞.ini
showInEditor: false

nanoFactorySpeed: 0.75


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 苏联船坞
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联战争工厂停电.ini
================================================================================


[core]
name: 苏联战争工厂停电
copyFrom: 苏联战争工厂.ini
showInEditor: false
nanoFactorySpeed: 0.75


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 苏联战争工厂
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联船坞.ini
================================================================================


[core]
name: 苏联船坞
price: 0
maxHp: 1500
mass: 50000
radius: 50

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\生产控制.xxhq
tags: 原始护甲, 建筑重甲, 建筑, 船坞, 占领, 空下, 苏联船坞, 带扩展建筑
borrowResourcesWhileAlive: 电力=100
displayText: Soviet Naval Shipyard
displayText_zh: 苏联船坞
displayDescription: Produce and repair Soviet naval units\nFunds: -1200\nPower: -100
displayDescription_zh: 生产和维修苏联海军单位\n资金花费：1200\n电力占用：100
isBuilding: true
footprint: -6,-2,-2,1
displayFootprint: -6,-2,0,2
constructionFootprint: -6,-2,0,2
buildSpeed: 0
selfBuildRate: 1s
maxTransportingUnits: 1
transportUnitsRequireTag: 船坞维修
transportUnitsBlockAirAndWaterUnits: false
transportUnitsBlockOtherTransports: false
transportUnitsKillOnDeath: false
transportUnitsHealBy: 0.6
exit_x:0
exit_y:0
exit_dirOffset: 45
exit_moveAwayAmount: 100
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:炸毁, CUSTOM:炸毁2, CUSTOM:炸毁3, CUSTOM:炸毁4, CUSTOM:炸毁5


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 苏联船坞停电
convertTo_keepCurrentTags: true


[hiddenAction_生产爆发]
autoTrigger: if self.globalTeamTags(includes="工业爆发")
convertTo: 苏联船坞爆发
convertTo_keepCurrentTags: true


[hiddenAction_阵营特色buff]
autoTrigger: if self.globalTeamTags(includes="苏俄")
convertTo: 苏联船坞2
convertTo_keepCurrentTags: true


[placementRule_建造规则]
searchTeam: own
searchDistance: 480


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 480


[hiddenAction_建造单位音效]
autoTriggerOnEvent: queueItemAdded
playSoundToPlayer: ROOT:\音频\语音+音效\umenucl1.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[hiddenAction_单位建造完成-盟]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva062.wav:2


[hiddenAction_建造单位完成-苏]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof062.wav:2


[hiddenAction_单位建造完成-尤]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur062.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\苏联船坞图标.png
image:        苏联船坞.png

default_frame: 11
total_frames: 40
imageScale:	1.02
image_offsetX: -70
image_offsetY: -40
#image_back:   NONE
#image_wreak:  NONE
animation_idle_start: 12
animation_idle_end: 19
animation_idle_speed: 6
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: WATER


[canBuild_1]
name: setRally, 台风潜艇, 海蝎, 野牛运输船

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_2]
name: 巨型乌贼

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="苏联机场") or self.hasFlag(id=3)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_3]
name: 无畏导弹舰

pos: 3
isVisible:if (self.hasUnitInTeam(withTag="宫殿") or self.hasFlag(id=4)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[attachment_1]
x: 0
y: 0

canAttack: false
isUnselectable: false
idleDir: 225
lockRotation: true
keepAliveWhenParentDies: true
canBeAttackedAndDamaged: true
addTransportedUnits: true
deattachIfWantingToMove:true


[action_生产控制5]
isVisible: false


[hiddenAction_维修单位]
autoTrigger: if self.numberOfAttachedUnits(withTag='船坞维修', greaterThan=0) and self.customTimer(laterThanSeconds=2)
resetCustomTimer: true
playAnimationIfNotPlaying: 维修动画
playSoundAtUnit: ROOT:\音频\语音+音效\vifvrepa.wav:2
spawnEffects: CUSTOM:修理, CUSTOM:闪光2, CUSTOM:闪光


[hiddenAction_开门]
autoTrigger: if self.hasFlag(id=0)
addResources: unsetFlag=0
playAnimationIfNotPlaying: 维修动画


[hiddenAction_初始价值]
addResources: 价值=60


[hiddenAction_水动画]
autoTrigger: if not self.hasFlag(id=29)
spawnEffects: CUSTOM:苏联船坞水


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:11}


[animation_维修动画]
body_0s: {frame:20}
body_1.6s: {frame:39}


[effect_电力]
xOffsetRelative: -85
yOffsetRelative: 85


[effect_苏联船坞水]
image: 苏联船坞水.png
#delayedStartTimer: 60
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.2
xOffsetRelative: -70
yOffsetRelative: 40
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
attachedToUnit: true
liveAfterAttachedDies: false
createWhenZoomedOut:  false
#createWhenOverLand: false


[effect_修理]
image: ROOT:\共享文件\1类\灰.png
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 6
alpha: 1.2
life: 60
hSpeed: 0.6
hOffsetRandom: 0.2
dirOffsetRandom: 180
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 3
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[effect_闪光]
#priority:critical
image: ROOT:\共享文件\1类\闪光.png
color: #FFFFFF
life: 8
scaleFrom: 0.4
scaleTo: 0.5
alpha: 1.5
fadeOut: true
fadeInTime: 2
drawUnderUnits: false
attachedToUnit: false
alwayStartDirAtZero: true
atmospheric: false
#dirOffset: 90
#xOffsetRelative: 0
xOffsetRelativeRandom: 0.6
yOffsetRelativeRandom: 0.6
xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5


[effect_闪光2]
@copyFromSection: effect_闪光
#priority:veryhigh
color: #FFAA00
life: 10
scaleFrom: 1.1
scaleTo: 1.2
alpha: 1
xOffsetRelativeRandom: 1.2
yOffsetRelativeRandom: 1.2
xSpeedAbsoluteRandom: 0.75
ySpeedAbsoluteRandom: 0.75
showInFog: true


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸24.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
animateFrameSpeedRandom: 0.05
xOffsetRelative: -60
yOffsetRelative:  80
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -60
yOffsetRelative	:  20


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -20
yOffsetRelative	:  50


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -100
yOffsetRelative	:  50


[effect_炸毁5]
image: ROOT:\共享文件\1类\爆炸3.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelative: -40
yOffsetRelative: 50
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 1200
@global dianli: -100


[ai]
useAsBuilder: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/建筑–生产/苏联兵营.ini
================================================================================


[core]
name: 苏联兵营
price: 0
maxHp: 900
mass: 10000
radius: 35

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\生产控制.xxhq, ROOT:\共享文件\3类\血条4.xxhq
tags: 原始护甲, 建筑轻甲, 建筑, 占领, 可入侵, 兵营, 苏联兵营, 空下, 带扩展建筑
borrowResourcesWhileAlive: 电力=10
displayText: Soviet Barracks
displayText_zh: 苏联兵营
displayDescription: Training basic and advanced Soviet infantry\nfunds: -500\nPower: -10
displayDescription_zh: 训练苏联士兵\n资金花费：500\n电力占用：10
isBuilding: true
footprint: 0,0,1,1
displayFootprint: -1,0,2,1
constructionFootprint: -1,0,2,1
buildSpeed: 0
selfBuildRate: 1s
exit_x:0
exit_dirOffset: 45
exit_moveAwayAmount :50
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁2


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 苏联兵营停电
convertTo_keepCurrentTags: true


[hiddenAction_建造单位音效]
autoTriggerOnEvent: queueItemAdded
playSoundToPlayer: ROOT:\音频\语音+音效\umenucl1.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[hiddenAction_单位建造完成-盟]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva062.wav:2


[hiddenAction_建造单位完成-苏]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof062.wav:2


[hiddenAction_单位建造完成-尤]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur062.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\建筑\苏联兵营图标.png
image:        苏联兵营.png

default_frame: 8
total_frames: 9
imageScale:	1.02
image_offsetX:10
image_offsetY:-20
#image_back:   NONE
#image_wreak:  NONE
animation_idle_start: 8
animation_idle_end: 8
animation_idle_speed: 1
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[canBuild_1]
name: setRally, 动员兵, 防空步兵, 磁暴步兵

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_通用]
name: 苏联工程师, 苏联军犬

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: Be Intruded, locked.
isLockedMessage_zh: 被入侵，已被锁定


[canBuild_2]
name: 爆破专家

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="雷达") or self.hasFlag(id=3)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_伊朗专属T2]
name: 辐射工兵

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="雷达") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and self.globalTeamTags(includes="伊朗")
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_美革专属T2]
name: 喷火兵

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="雷达") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and self.globalTeamTags(includes="美革")
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_3]
name: 破坏者

pos: 3
isVisible:if (self.hasUnitInTeam(withTag="苏联高科技共用") or self.hasFlag(id=4)) and not self.hasFlag(id=1) and not self.globalTeamTags(includes="三级限制")
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_美革专属T3]
name: 劫持者

pos: 3
isVisible:if (self.hasUnitInTeam(withTag="苏联高科技共用") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and self.globalTeamTags(includes="美革")
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_北非专属T3]
name: 化学部队

pos: 3
isVisible:if (self.hasUnitInTeam(withTag="苏联高科技共用") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and self.globalTeamTags(includes="北非")
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_4]
name: 鲍里斯

pos: 4
isVisible:if (self.hasUnitInTeam(withTag="苏联高科技共用") or self.hasFlag(id=4)) and not self.hasFlag(id=1)
isLocked: if self.hasUnitInTeam(withTag="鲍里斯", factoryQueue=true)
isLockedMessage: Boris can only have one at a time!
isLockedMessage_zh: 鲍里斯同时只能有一个
isLockedAlt: if not self.resource(type='入侵计时', empty=true)
isLockedAltMessage: Be infiltrated!
isLockedAltMessage_zh: 被入侵
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[action_生产控制5]
isVisible: false


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_初始价值]
addResources: 价值=30


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:8}


[effect_土坑]
xOffsetRelative: 0
yOffsetRelative: 0


[effect_土坑2]
xOffsetRelativeRandom:  30
yOffsetRelativeRandom:  30


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
#hOffset: 0
#xOffsetRelative:  -5
yOffsetRelative:  0
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁2]
@copyFromSection: effect_炸毁
image: ROOT:\共享文件\1类\爆炸3.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelative:  10


[template_zijin]
price: 500
@global dianli: -10


[ai]
useAsBuilder: true
buildPriority: 0.04
noneInBaseExtraPriority: 0.8
recommendedInEachBaseNum: 3
recommendedInEachBasePriorityIfUnmet: 0.08

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/鲍里斯.ini
================================================================================


[core]
name: 鲍里斯
price: 资金=1500
maxHp: 340
mass: 130
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 步兵中甲, 免疫心控, 生物, 入枪2, 鲍里斯, 克生物, 克装甲, 克建筑, 空下, 英雄
displayText: Boris
displayText_zh: 鲍里斯
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage building: Very high\nSpecial: Can call MiG fighter from long distance to attack the building\nBelongs to a heroic unit.\nThere can only be one at a time
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：很高\n特殊：对建筑远程指派战机攻击(不要让后方攻击范围处在地图外)，英雄级单位同时只能有一个
techLevel: 2
buildSpeed: 15s
fogOfWarSightRange: 14
isBio: true
selfRegenRate: 0.06
transportUnitsCanUnloadUnits: false
transportUnitsRequireTag: 无
maxTransportingUnits: 4
soundOnAttackOrder:  ROOT:\音频\语音+音效\iborata.wav:2, ROOT:\音频\语音+音效\iboratb.wav:2, ROOT:\音频\语音+音效\iboratc.wav:2, ROOT:\音频\语音+音效\iboratd.wav:2, ROOT:\音频\语音+音效\iborate.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\ibormoa.wav:2, ROOT:\音频\语音+音效\ibormob.wav:2, ROOT:\音频\语音+音效\ibormoc.wav:2, ROOT:\音频\语音+音效\ibormod.wav:2, ROOT:\音频\语音+音效\ibormoe.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iborsea.wav:2, ROOT:\音频\语音+音效\iborseb.wav:2, ROOT:\音频\语音+音效\iborsec.wav:2, ROOT:\音频\语音+音效\iborsed.wav:2, ROOT:\音频\语音+音效\iborsee.wav:2
soundOnDeath: ROOT:\音频\语音+音效\ibordia.wav:2, ROOT:\音频\语音+音效\ibordib.wav:2, ROOT:\音频\语音+音效\ibordic.wav:2, ROOT:\音频\语音+音效\ibordid.wav:2, ROOT:\音频\语音+音效\ibordie.wav:2


[hiddenAction_音效]
autoTriggerOnEvent: completeAndActive
playSoundGlobally: ROOT:\音频\语音+音效\iborsea.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\生物\鲍里斯图标.png
image: 鲍里斯.png

drawLayer: ground
imageScale: 0.9
frame_width: 60
frame_height: 60
image_offsetY: 0
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
#animation_attack_start: 7
#animation_attack_end: 12
#animation_attack_speed: 4
animation_direction_starting: 270
animation_direction_strideX:0
animation_direction_strideY:1
animation_direction_units:45
rotate_with_direction: false
showTransportBar:false
#image_shadow: ROOT:\共享文件\1类\标志-英雄2.png
#shadowOffsetX: 15
#shadowOffsetY: 5


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:  if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 5
turretTurnSpeed: 6
shootDelay: ${int(8*(1/gameSpeedRate))}
aimOffsetSpread: 0
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType:LAND

moveSpeed: 1.0
moveAccelerationSpeed: 1
moveDecelerationSpeed: 1
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage: 0


[attachment_1]
x: -75
y: -400

height: 60
idleDir: 0
lockRotation: true
isVisible: false
isUnselectable: true
#canBeAttackedAndDamaged: true
keepAliveWhenParentDies: false
prioritizeParentsMainTarget: true
addTransportedUnits: true


[attachment_2]
x: 75
y: -400

@copyFromSection: attachment_1


[attachment_3]
x: -25
y: -400

@copyFromSection: attachment_1


[attachment_4]
x: 25
y: -400

@copyFromSection: attachment_1


[turret_1]
x: 0
y: 10

barrelHeight: 12
delay: 30
canOnlyAttackUnitsWithTags: 建筑
resourceUsage: ammo=-1
limitingRange: 510
onShoot_playAnimation: 攻击
projectile: 1
aimOffsetSpread: 0
idleSweepAngle: 20
idleSweepDelay: 100
idleSweepSpeed: 0.4


[turret_2]
x:0
y:0

#barrelHeight: 10
limitingRange: 225
shoot_sound: ROOT:\音频\语音+音效\iboratta.wav, ROOT:\音频\语音+音效\iborattb.wav
shoot_sound_vol: 2.0
shoot_light: #FFEECCCC
canOnlyAttackUnitsWithoutTags: 建筑, 伪装, 驾驶
projectile: 2
onShoot_playAnimation: 攻击2


[projectile_1]
directDamage: 0
life: 60

beamImage: ROOT:\共享文件\1类\激光源.png 
color: #99990000
moveWithParent: true
instant: true
instantReuseLast: true
instantReuseLast_alsoChangeTurretAim: true
sweepOffsetFromTargetRadius: 0.4
sweepSpeed: 10
explodeEffect: CUSTOM:瞄准
#NONE


[projectile_2]
directDamage: 155
life: 60

instant: true
explodeEffect: CUSTOM:弹火, CUSTOM:映射
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.8
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.4
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.6


[hiddenAction_1]
autoTrigger: if not self.isAttacking() and self.ammo(empty=true)
addResources: ammo=12


[hiddenAction_2]
autoTrigger: if self.isMoving()
addResources: ammo=-9999


[hiddenAction_3]
autoTrigger: if self.ammo(greaterThan=22) and not self.tags(includes='3级')
addUnitsIntoTransport: 米格战机2*2
addResources: ammo=-1200


[hiddenAction_4]
autoTrigger: if self.ammo(greaterThan=22) and self.tags(includes='3级')
addUnitsIntoTransport: 米格战机2*4
addResources: ammo=-1200


[hiddenAction_被黏杀]
autoTrigger: false


#[hiddenAction_3]
#autoTrigger: if not self.transportingCount(empty=true)
#forceUnloadTransportNow: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[action_转换队伍]
isVisible: false


[hiddenAction_初始价值]
addResources: 价值=100


[animation_攻击]
start: 13
end: 13
speed: 35


[animation_攻击2]
start: 7
end: 12
speed: 5


[effect_瞄准]
image: ROOT:\共享文件\1类\闪光2.png
life: 30
color: #FFFF0000
scaleFrom: 1.0
scaleTo: 0.6
alpha: 1.0
fadeInTime: 0
fadeOut: true
dirOffsetRandom: 180
dirSpeed: 3
drawUnderUnits: false
#alwayStartDirAtZero:true
attachedToUnit: true


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
#color: #FFFFFF00
scaleFrom: 0.5
scaleTo: 0.3
alpha: 0.6
life: 15
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[template_zijin]
price: 1500


[ai]
useAsTransport: false
useAsAttacker: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/苏联军犬.ini
================================================================================


[core]
name: 苏联军犬
price: 资金=100
maxHp: 75
mass: 60
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\血.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 低级, 步兵轻甲, 免疫心控, 生物, 被碾压, 入枪, 反伪装, 克生物, 空下, 苏联军犬
displayText: Soviet Attack Dog
displayText_zh: 苏联军犬
displayDescription: Target: Ground unit\nDamage creature: Very high\nSpecial: Speeds up when there are enemy infantry nearby.\nCan find disguising units and underwater units.\nUnable to attack heavy infantry
displayDescription_zh: 攻击目标：地面生物\n伤害生物：很高\n特殊：可以发现伪装单位(间谍/破坏者/幻影坦克)，无法攻击重甲步兵
isBio: true
buildSpeed: 1.5s
fogOfWarSightRange: 18
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 苏联军犬
soundOnAttackOrder:  ROOT:\音频\语音+音效\idogatca.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\idogmova.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\idogsela.wav:2, ROOT:\音频\语音+音效\idogselb.wav:2, ROOT:\音频\语音+音效\idogselc.wav:2
soundOnDeath: ROOT:\音频\语音+音效\idogdiea.wav:2
effectOnDeath: CUSTOM:死亡


[graphics]
icon_build: ROOT:\单位图标\苏联\生物\苏联军犬图标.png
image:        苏联军犬.png

total_frames: 13
#scaleImagesTo: 37
frame_width: 60
frame_height: 60
#image_offsetX:-2
#image_offsetY:-7
#image_wreak:  NONE
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 4
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 5
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: true

isMelee: true
isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
maxAttackRange: 0
shootDelay: ${int(45*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 1.55
moveAccelerationSpeed: 1.2
moveDecelerationSpeed: 1.2
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

canOnlyAttackUnitsWithTags: 生物, 生物2
canOnlyAttackUnitsWithoutTags: 步兵重甲, 狂兽人, 狗无法攻击
shoot_sound: ROOT:\音频\语音+音效\idogatta.wav
shoot_sound_vol: 2.0
canAttackUnderwaterUnits: false
projectile: 1


[turret_2]
x: 0
y: 0

canOnlyAttackUnitsWithTags: 水下
projectile: 2


[projectile_1]
directDamage: 200
life: 60

instant: true
explodeEffect: CUSTOM:血溅
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 5
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 5


[projectile_2]
areaDamage: 1
life: 60

areaRadius: 10
instant: true
explodeEffect: NONE
mutator7_ifUnitWithoutTags: 无
mutator7_areaDamageMultiplier: 0


[hiddenAction_2]
autoTrigger: if self.isInWater()
deleteSelf: true


[hiddenAction_发现水下]
autoTrigger: if attacking.tags(includes='水下')
fireTurretXAtGround: 2
fireTurretXAtGround_withTarget: attacking


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=250) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=10


[effect_死亡]
image: 苏联军犬死亡.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[template_zijin]
price: 100

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/劫持者.ini
================================================================================


[core]
name: 劫持者
price: 资金=800
maxHp: 180
mass: 120
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 生物, 心控, 步兵中甲, 劫持者, 免疫普通碾压
displayText: Hijacker
displayText_zh: 劫持者
displayDescription: Target: Vehicle\nSpecial: It can hijack most enemy vehicles or occupy empty vehicles.
displayDescription_zh: 攻击目标：载具类\n特殊：能劫持大部分敌方载具或占领空载具。\n被劫持的载具被毁后有60%的概率弹出劫持者。
buildSpeed: 8s
isBio: true
fogOfWarSightRange: 14
soundOnAttackOrder:  ROOT:\音频\语音+音效\ihijata.wav:2, ROOT:\音频\语音+音效\ihijatb.wav:2, ROOT:\音频\语音+音效\ihijatc.wav:2, ROOT:\音频\语音+音效\ihijatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\ihijmoa.wav:2, ROOT:\音频\语音+音效\ihijmob.wav:2, ROOT:\音频\语音+音效\ihijmoc.wav:2, ROOT:\音频\语音+音效\ihijmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\ihijsea.wav:2, ROOT:\音频\语音+音效\ihijseb.wav:2, ROOT:\音频\语音+音效\ihijsec.wav:2, ROOT:\音频\语音+音效\ihijsed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\ihijdia.wav:2, ROOT:\音频\语音+音效\ihijdib.wav:2, ROOT:\音频\语音+音效\ihijdic.wav:2, ROOT:\音频\语音+音效\ihijdid.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\生物\劫持者图标.png
image:        劫持者.png

imageScale: 0.9
#image_offsetY:-4
frame_width: 40
frame_height: 56
animation_idle_start: 0
animation_idle_end: 0
animation_moving_start: 1
animation_moving_end: 10
animation_moving_speed: 4
#animation_attack_start: 0
#animation_attack_end: 12
#animation_attack_speed: 6
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
#image_shadow: ROOT:\共享文件\1类\标志-伪装.png
#shadowOffsetX: 12
#shadowOffsetY: 5


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false

isMelee: true
isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
maxAttackRange: 20
canOnlyAttackUnitsWithoutTags: 生物, 生物2, 不可劫持, 建筑, 建筑2


[movement]
movementType: LAND

moveSpeed: 1.40
moveAccelerationSpeed: 0.3
moveDecelerationSpeed: 0.3
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\ihijhia.wav, ROOT:\音频\语音+音效\ihijhib.wav, ROOT:\音频\语音+音效\ihijhic.wav
shoot_sound_vol: 2
onShoot_triggerActions: 劫持
projectile: 1


[projectile_1]
directDamage: 1
life: 60

instant: true
convertHitToSourceTeam: true
explodeEffect: NONE
mutator7_ifUnitWithoutTags: 无
mutator7_directDamageMultiplier: 0


[hiddenAction_劫持]
takeResources: 劫持者人数=-1
takeResources_includeUnitsWithinRange: 40
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy
temporarilyAddTags: 无尸体
deleteSelf: true


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and not self.hasActiveWaypoint(type='attack') and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=1000)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 1000
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack') and not numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=1000)
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=300)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克生物
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=300)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=50


[resource_劫持者人数]
displayName: 劫持者人数


[template_zijin]
price: 900

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/喷火兵.ini
================================================================================

[core]
name: 喷火兵
price: 资金=450
maxHp: 220
mass: 120
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 中级, 步兵中甲, 生物, 入枪, 克生物, 克建筑, 喷火兵, 被碾压, 空下, 烧死人
displayText: Pyro
displayText_zh: 喷火兵
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: Low\nDamage building: High\nSpecial: Can clean up the garrison.Immune to residual fire damage, immune to sticky bomb explosion damage.\nCan make firewalls, reduce half of the enemy's injury when you are in the flame
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：低\n伤害建筑：高\n特殊：可以清理驻军，免疫残留的火焰伤害\n可以制造火墙，处在火焰中时降低一半敌人的伤害
buildSpeed: 4s
fogOfWarSightRange: 10
isBio:true
energyMax: 5
energyRegen: 0.05
energyNeedsToRechargeToFull: true
soundOnAttackOrder:  ROOT:\音频\语音+音效\iconata.wav:2, ROOT:\音频\语音+音效\iconatb.wav:2, ROOT:\音频\语音+音效\iconatc.wav:2, ROOT:\音频\语音+音效\iconatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\iconmoa.wav:2, ROOT:\音频\语音+音效\iconmob.wav:2, ROOT:\音频\语音+音效\iconmoc.wav:2, ROOT:\音频\语音+音效\iconmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iconsea.wav:2, ROOT:\音频\语音+音效\iconseb.wav:2, ROOT:\音频\语音+音效\iconsec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\icondia.wav:2, ROOT:\音频\语音+音效\icondib.wav:2, ROOT:\音频\语音+音效\icondic.wav:2, ROOT:\音频\语音+音效\icondid.wav:2, ROOT:\音频\语音+音效\icondie.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\生物\喷火兵图标.png
image: 喷火兵.png

total_frames: 10
imageScale: 0.85
frame_width: 74
frame_height: 74
#image_offsetY:-5
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 6
animation_idle_start:0
animation_idle_end:0
animation_attack_start: 7
animation_attack_end: 9
animation_attack_speed: 6
rotate_with_direction: false
animation_direction_units:45
animation_direction_strideX:0
animation_direction_strideY:1
animation_direction_starting:270


[attack]
canAttack:true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits:false

isFixedFiring:true
turretSize: 5
turretTurnSpeed:6
maxAttackRange: 210
shootDelay: 2
#aimOffsetSpread:0.1
canOnlyAttackUnitsWithoutTags: 伪装, 驾驶, 围墙


[movement]
movementType:LAND

moveSpeed: 0.95
moveAccelerationSpeed: 0.7
moveDecelerationSpeed: 0.7
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage: 0


[turret_1]
x:0
y:0


barrelHeight: 5
shoot_sound: ROOT:\音频\语音+音效\ipyroweaa.wav
shoot_sound_vol: 0.5
shoot_light: #FFFFFF00
energyUsage: 1


[projectile_1]
areaDamage: 15
life: 60

areaRadius: 45
#effectOnCreate: CUSTOM:火焰
explodeEffect: CUSTOM:火焰2
drawSize: 0
speed: 4
speedSpread: 0.5
initialUnguidedSpeedHeight: 2
gravity: 0.18
trailEffect: CUSTOM:火焰
trailEffectRate: 2.0
#targetGround: true
#targetGroundSpread: 25
mutator5_ifUnitWithTags: 人尸
mutator5_areaDamageMultiplier: 0
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 2
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.6
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 2.0
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 2.0
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 2.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.2


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=150)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 150
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=150)
@copyFromSection: hiddenAction_Ai攻击生物
addWaypoint_target_nearestUnit_tagged: 建筑


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=150) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=150)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_减伤]
autoTrigger: if (numberOfUnitsInTeam(withTag='迷雾', greaterThan=0, withinRange=150) or numberOfUnitsInAggressiveTeam(withTag='火焰', greaterThan=0, withinRange=80)) and not self.tags(includes='减伤')
#showMessageToAllPlayers: 减伤


[hiddenAction_减伤2]
autoTrigger: if self.tags(includes='减伤') and not numberOfUnitsInTeam(withTag='迷雾', greaterThan=0, withinRange=100) and not numberOfUnitsInAggressiveTeam(withTag='火焰', greaterThan=0, withinRange=80)
#showMessageToAllPlayers: 取消减伤


[hiddenAction_升1级] 
setUnitStats: shootDamageMultiplier=1.2, maxEnergy=${core.energyMax+5}, moveSpeed=${movement.moveSpeed*1.1}, maxTurnSpeed=${movement.maxTurnSpeed*1.5}


[hiddenAction_升2级] 
setUnitStats: shootDamageMultiplier=1.4, maxEnergy=${core.energyMax+10}, moveSpeed=${movement.moveSpeed*1.2}, maxTurnSpeed=${movement.maxTurnSpeed*2}


[hiddenAction_升3级] 
setUnitStats: shootDamageMultiplier=1.6, maxEnergy=${core.energyMax+15}, moveSpeed=${movement.moveSpeed*1.3}, maxTurnSpeed=${movement.maxTurnSpeed*2.5}


[hiddenAction_初始价值]
addResources: 价值=20


[effect_火焰]
image: ROOT:\共享文件\1类\火1.png
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.30
scaleFrom: 0.8
scaleTo: 0.8
attachedToUnit: false
alwayStartDirAtZero:true


[effect_火焰2]
image: ROOT:\共享文件\1类\火2.png
life: 120
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 31
animateFrameStart: 0
animateFrameEnd: 30
animateFramePingPong: false
animateFrameSpeed: 0.15
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true
spawnChance: 0.5
xSpeedAbsoluteRandom: 0.6
ySpeedAbsoluteRandom: 0.6


[template_zijin]
price: 450

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/磁暴步兵.ini
================================================================================


[core]
name: 磁暴步兵
price: 资金=650
maxHp: 220
mass: 125
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 中级, 步兵重甲, 生物, 入炮, 克生物, 克装甲, 空下, 电死人, 磁暴步兵
displayText: Tesla Trooper
displayText_zh: 磁暴步兵
displayDescription: Target: Ground unit\nDamage creature: Medium\nDamage armor: High\nDamage building: Low\nSpecial: Can charge Soviet Tesla Coil
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：中\n伤害装甲：高\n伤害建筑：低\n特殊：可以为电磁塔充电
isBio: true
buildSpeed: 4.0s
fogOfWarSightRange: 10
soundOnAttackOrder:  ROOT:\音频\语音+音效\itesata.wav:2, ROOT:\音频\语音+音效\itesatb.wav:2, ROOT:\音频\语音+音效\itesatc.wav:2, ROOT:\音频\语音+音效\itesatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\itesmoa.wav:2, ROOT:\音频\语音+音效\itesmob.wav:2, ROOT:\音频\语音+音效\itesmoc.wav:2, ROOT:\音频\语音+音效\itesmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\itessea.wav:2, ROOT:\音频\语音+音效\itesseb.wav:2, ROOT:\音频\语音+音效\itessec.wav:2, ROOT:\音频\语音+音效\itessed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\itesdia.wav:2, ROOT:\音频\语音+音效\itesdib.wav:2, ROOT:\音频\语音+音效\itesdic.wav:2


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='苏俄') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
icon_build: ROOT:\单位图标\苏联\生物\磁暴步兵图标.png
image:        磁暴步兵.png

imageScale: 1.00
total_frames: 13
frame_width: 59
frame_height: 68
image_offsetY: 0
#image_wreak:  NONE
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 10
turretTurnSpeed: 3
shootDelay: ${int(40*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 0.9
moveAccelerationSpeed: 0.6
moveDecelerationSpeed: 0.6
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

barrelHeight: 10
limitingRange: 150
#shoot_sound: lighting_burst
#shoot_sound_vol: 0.3


[projectile_1]
directDamage: 65
life: 12

lightingEffect: true
lightColor: #FFccCCEE
lightSize: 1.2
instant:true
hitSound: true
explodeEffect: CUSTOM:电星, CUSTOM:声
#buildingDamageMultiplier: 0.5
mutator5_ifUnitWithTags: 电诱导
mutator5_directDamageMultiplier: 0
mutator5_changedExplodeEffect: CUSTOM:电花, CUSTOM:声2
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 0.6
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 0.6
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.4
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 1.0
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.0


[hiddenAction_增加标签]
autoTrigger: if (self.hasUnitInTeam(withTag='电磁塔', withinRange=50) or self.numberOfUnitsInAllyNotOwnTeam(withTag='电磁塔', withinRange=50, greaterThan=0)) and not self.tags(includes='充电')  
temporarilyAddTags: 充电


[hiddenAction_移除标签]
autoTrigger: if self.noUnitInTeam(withTag='电磁塔', withinRange=50) and not self.numberOfUnitsInAllyNotOwnTeam(withTag='电磁塔', withinRange=50, greaterThan=0) and self.tags(includes='充电')
temporarilyRemoveTags: 充电


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=150)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 150
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=150)
@copyFromSection: hiddenAction_Ai攻击生物
addWaypoint_target_nearestUnit_tagged: 装甲


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_被黏杀]
autoTrigger: false


[hiddenAction_初始价值]
addResources: 价值=25


[animation_静止动画]
onActions: idle
start: 0
end: 0
speed: 6


[animation_运动动画]
onActions: move
start: 1
end: 6
speed: 6


[animation_攻击动画]
onActions: attack
start: 7
end: 12
speed: 6


[effect_电花]
image: ROOT:\共享文件\1类\电花.png
total_frames: 14
animateFrameStart: 0
animateFrameStartRandomAdd: 2
animateFrameEnd: 13
animateFrameSpeed: 0.5
animateFrameSpeedRandom: 0.2
alpha:0.6
scaleFrom: 0.9
scaleTo: 0.9
life: 60
dirOffsetRandom:180
fadeInTime: 0
fadeOut: false
attachedToUnit: false


[effect_电星]
image: ROOT:\共享文件\1类\大电花.png
scaleFrom: 0.6
scaleTo: 0.6
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_声]
#life: 60
scaleFrom: 0
scaleTo: 0
alsoPlaySound: ROOT:\音频\语音+音效\itesatta.wav:2


[effect_声2]
scaleFrom: 0
scaleTo: 0
alsoPlaySound: ROOT:\音频\语音+音效\iteschaa.wav:2



#[effect_死亡音效]
#life: 0
#spawnChance:0.45
#fadeInTime: 0
#fadeOut: false
#alsoPlaySound: 死亡音效.ogg


[template_zijin]
price: 650

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/辐射.ini
================================================================================


[core]
name: 辐射
price:0
maxHp: 100
mass: 1200
radius: 0

tags: 辐射, 辐射死人
showOnMinimapToEnemies: false 
createNeutral: true
stayNeutral: true
displayText: Nuclear Radiation
displayText_zh: 辐射
isBuilding: true
isUnselectable: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0


[hiddenAction_音效]
autoTriggerOnEvent:completeAndActive
spawnEffects: CUSTOM:核辐射


[graphics]
image: ROOT:\共享文件\1类\隐藏.png

#imageScale:	0.56
total_frames: 1
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
isVisibleToEnemies: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 10
turretTurnSpeed: 3
maxAttackRange: 240
shootDelay: 60


[turret_1]
x:0
y:0


[projectile_1]
life:1
speed:0
drawSize:0
explodeEffect:NONE
explodeOnEndOfLife:true
areaDamage: 65
areaRadius: 240
areaRadiusFromEdge:true
friendlyFire:true
areaHitUnderwaterAlways:true
buildingDamageMultiplier: 0
mutator0_ifUnitWithTags: 建筑, 免辐射, 人尸
mutator0_areaDamageMultiplier: 0
mutator1_ifUnitWithTags: 辐射减伤
mutator1_areaDamageMultiplier: 0.5
mutator6_ifUnitWithTags: 特殊免伤, 免辐射
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.00
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.60
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.60
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.60
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.00
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.00
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.00
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.00


[effect_核辐射]
image: ROOT:\共享文件\1类\核辐射.png
scaleFrom: 4
scaleTo: 4
alpha: 0.6
life: 300
fadeOut: true
drawUnderUnits: true
alwayStartDirAtZero: true
attachedToUnit: false


[movement]
movementType:BUILDING


[hiddenAction_1]
autoTrigger: true
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,0


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=5)
deleteSelf: true



================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/辐射工兵.ini
================================================================================


[core]
name: 辐射工兵
price: 资金=950
maxHp: 320
mass: 120
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 高级, 步兵重甲, 生物, 入枪, 免辐射, 辐射工兵, 克生物, 空下, 辐射死人
displayText: Desolator
displayText_zh: 辐射工兵
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: High\nSpecial: Can be deployed to release radiation area damage
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：高\n特殊：可以部署释放辐射范围伤害
buildSpeed: 10s
isBio:true
selfRegenRate: 0.06
fogOfWarSightRange: 13
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 辐射工兵
soundOnAttackOrder:  ROOT:\音频\语音+音效\idesata.wav:2, ROOT:\音频\语音+音效\idesatb.wav:2, ROOT:\音频\语音+音效\idesatc.wav:2, ROOT:\音频\语音+音效\idesatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\idesmoa.wav:2, ROOT:\音频\语音+音效\idesmob.wav:2, ROOT:\音频\语音+音效\idesmoc.wav:2, ROOT:\音频\语音+音效\idesmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\idessea.wav:2, ROOT:\音频\语音+音效\idesseb.wav:2, ROOT:\音频\语音+音效\idessec.wav:2, ROOT:\音频\语音+音效\idesmod.wav:2
soundOnDeath: ROOT:\音频\语音+音效\idesdia.wav:2, ROOT:\音频\语音+音效\idesdib.wav:2, ROOT:\音频\语音+音效\idesdic.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\生物\辐射工兵图标.png
image: 辐射工兵.png

imageScale: 0.9
frame_width: 62
frame_height: 46
image_offsetY: -10
#image_wreak:NONE
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 8
animation_idle_start: 0
animation_idle_end: 0
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 4
animation_direction_starting: 270
animation_direction_strideX:0
animation_direction_strideY:1
animation_direction_units:45
rotate_with_direction:false


[attack]
canAttack:true
canAttackFlyingUnits:false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits:false

isFixedFiring:true
turretSize: 0
turretTurnSpeed: 6
maxAttackRange: 225
shootDelay: ${int(45*(1/gameSpeedRate))}
aimOffsetSpread: 0
canOnlyAttackUnitsWithoutTags: 建筑, 建筑2, 伪装, 驾驶, 恐怖机器人, 辐射工兵, 围墙


[movement]
movementType: LAND

moveSpeed: 0.70
moveAccelerationSpeed: 0.65
moveDecelerationSpeed: 0.65
maxTurnSpeed: 6
turnAcceleration: 6
#joinsGroupFormations:true
reverseSpeedPercentage: 0


[turret_1]
x:0
y:0

barrelHeight: 15
shoot_sound: ROOT:\音频\语音+音效\idesat1a.wav
shoot_sound_vol: 2.0
shoot_light: #FFA7FF03
canOnlyAttackUnitsWithoutTags: 建筑, 建筑2, 伪装, 驾驶, 恐怖机器人, 辐射工兵
#limitingMinRange: 7


[projectile_1]
directDamage: 220
life: 15

instant: true
beamImage: ROOT:\共享文件\1类\辐射轨迹.png
beamImageOffsetRate: 0.5
color: #FFA7FF03
explodeEffect: CUSTOM:辐射星
mutator0_ifUnitWithTags: 辐射减伤
mutator0_directDamageMultiplier: 0.50
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 1.00
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.50
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.25
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.25
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[action_阻止人机取消部署]
text: Prevent undeployment
text_zh: 阻止取消部署
description: Prevent Ai from automatically undeploying
description_zh: 阻止人机自动取消部署
pos: 0
displayType: upgrade
buildSpeed: 0s
ai_isDisabled: true
isVisible: if self.isControlledByAI() and not self.hasFlag(id=27)
addResources: setFlag=27


[action_阻止人机取消部署2]
text: Allow undeployment
text_zh: 允许取消部署
description: Allow Ai to automatically undeploy
description_zh: 允许人机自动取消部署
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.hasFlag(id=27)
addResources: unsetFlag=27


[action_1]
text: Deploy
text_zh: 部署
displayType: action
buildSpeed: 0s
#whenBuilding_cannotMove: true
isActive: if not self.tags(includes='禁止攻击')
autoTrigger: if self.isControlledByAI() and self.isAttacking() and not self.hasParent() and (numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=2, withinRange=200) or numberOfUnitsInEnemyTeam(withTag='生物2', greaterThan=2, withinRange=200)) and not self.tags(includes='禁止攻击')
convertTo: 辐射工兵2
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed
setUnitStats: moveSpeed=0, maxTurnSpeed=0
temporarilyRemoveTags: 被碾压


[hiddenAction_人辐射死] 
requireConditional: false


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=225)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 225
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=80) and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


#[hiddenAction_被碾压]
#autoTrigger: if not self.tags(includes='被碾压')
#temporarilyAddTags: 被碾压
#showMessageToAllPlayers: 触发


[hiddenAction_被黏杀]
autoTrigger: false


[hiddenAction_初始价值]
addResources: 价值=40


[effect_辐射圈]
image: 辐射圈.png
scaleFrom: 0.1
scaleTo: 1
alpha: 1
life: 60
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
#alwayStartDirAtZero: true


[effect_辐射星]
image: ROOT:\共享文件\1类\灰.png
color: #FF00FF00
scaleFrom: 0.6
scaleTo: 5
alpha: 1.2
life: 60
hSpeed: 0.6
dirOffsetRandom: 180
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[effect_血溅]
color: #FF00FF00


[template_zijin]
price: 950

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/防空步兵入驻.ini
================================================================================


[core]
name: 防空步兵入驻
copyFrom: 防空步兵.ini
showInEditor: false
tags: 原始护甲, 步兵中甲, 生物, 入常, 基础兵, 特殊免伤, 克生物, 克装甲, 克建筑, 低级, 防空步兵
canOnlyBeAttackedByUnitsWithTags: 狙击手, 烧死人
fogOfWarSightRange: 15


[attack]
turretSize: 0


[turret_1]
canAttackFlyingUnits: false
shoot_flame: small
shoot_light: #FFFFFFFF


[turret_2]
limitingRange: 210
limitingMinRange: 40


#[projectile_2]
#directDamage: 17
#areaDamage: 20


[hiddenAction_1] 
autoTrigger: if not self.hasParent()
#withTag='标签'
convertTo: 防空步兵


[hiddenAction_Ai攻击空军]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=210)
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 210


[hiddenAction_Ai躲避]
autoTrigger: false


[hiddenAction_Ai躲避2]
autoTrigger: false

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/动员兵入驻.ini
================================================================================


[core]
name: 动员兵入驻
copyFrom: 动员兵.ini
showInEditor: false
tags: 原始护甲, 步兵中甲, 生物, 入枪, 基础兵, 特殊免伤, 克生物, 克装甲, 克建筑, 低级, 动员兵
canOnlyBeAttackedByUnitsWithTags: 狙击手, 烧死人
fogOfWarSightRange: 15


[attack]
turretSize: 0
maxAttackRange: 210
shootDelay: ${int(24*(1/gameSpeedRate))}


[turret_1]
shoot_flame: small
shoot_light: #FFFFFFFF
shoot_sound: ROOT:\音频\语音+音效\baocatta.wav, ROOT:\音频\语音+音效\baocattb.wav, ROOT:\音频\语音+音效\baocattc.wav
shoot_sound_vol: 2


[projectile_1]
directDamage: 35

mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.1
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 0.85
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.85
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.35
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.15
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.15
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.3
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.15
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1


[hiddenAction_1] 
autoTrigger: if not self.hasParent()
#withTag='标签'
convertTo: 动员兵


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=210)
addWaypoint_target_nearestUnit_maxRange: 210


[hiddenAction_Ai躲避]
autoTrigger: false


[hiddenAction_Ai躲避2]
autoTrigger: false


[hiddenAction_Ai躲避3]
autoTrigger: false

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/游击队.ini
================================================================================


[core]
name: 游击队
price: 资金=200
maxHp: 125
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq, ROOT:\共享文件\3类\驾驶空载具.xxhq
tags: 原始护甲, 低级, 步兵中甲, 生物, 被碾压, 入枪, 克生物, 空下, 游击队
displayText: Guerrillas
displayText_zh: 游击队
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: Low\nDamage building: Low\nSpecial: In general, it is invisible, and only appears when it is detected or attacked by dogs.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：低\n伤害建筑：低\n特殊：一般状态下隐形，只有被狗察觉或者攻击时才会现形。
buildSpeed: 2.0s
fogOfWarSightRange: 16
isBio: true
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 游击队
soundOnAttackOrder:  ROOT:\音频\语音+音效\iconata.wav:2, ROOT:\音频\语音+音效\iconatb.wav:2, ROOT:\音频\语音+音效\iconatc.wav:2, ROOT:\音频\语音+音效\iconatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\iconmoa.wav:2, ROOT:\音频\语音+音效\iconmob.wav:2, ROOT:\音频\语音+音效\iconmoc.wav:2, ROOT:\音频\语音+音效\iconmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iconsea.wav:2, ROOT:\音频\语音+音效\iconseb.wav:2, ROOT:\音频\语音+音效\iconsec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\icondia.wav:2, ROOT:\音频\语音+音效\icondib.wav:2, ROOT:\音频\语音+音效\icondic.wav:2, ROOT:\音频\语音+音效\icondid.wav:2, ROOT:\音频\语音+音效\icondie.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\生物\游击队图标.png
image:        游击队.png

imageScale: 0.9
total_frames: 19
frame_width: 70
frame_height: 77
#image_offsetY: -5
#image_wreak:  NONE
showEnergyBar: false
animation_moving_start: 1
animation_moving_end: 10
animation_moving_speed: 5
animation_idle_start:0
animation_idle_end:0
animation_attack_start: 11
animation_attack_end: 18
animation_attack_speed: 5
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.hasFlag(id=1) and not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 5
turretTurnSpeed: 6
maxAttackRange: 150
shootDelay: 50
#${int(8*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 1.10
moveAccelerationSpeed: 0.8
moveDecelerationSpeed: 0.8
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\iconatta.wav, ROOT:\音频\语音+音效\iconattb.wav
shoot_sound_vol: 2.0


[projectile_1]
directDamage: 30
life: 70

instant: true
explodeEffect: CUSTOM:弹火
mutator0_ifUnitWithTags: 子弹抗性
mutator0_directDamageMultiplier: 0.5
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.4
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.4
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.6
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.4
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.6


[hiddenAction_1]
autoTriggerOnEvent: created
autoTrigger: if self.hasTakenDamage(laterThanSeconds=3) and (not numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=150) or not numberOfUnitsInEnemyTeam(withTag='反隐形', greaterThan=0, withinRange=150)) and not self.isAttacking()
convertTo: 游击队2
convertTo_keepCurrentTags: true


[action_2]
text: No attack
text_zh: 禁止攻击
description: No attack any unit
description_zh: 禁止攻击任何单位，保持潜伏状态
isVisible: if not self.hasFlag(id=1) and self.hasTakenDamage(laterThanSeconds=1)
displayType: none
buildSpeed: 0s
addResources: setFlag=1


[action_3]
text: Allow attack
text_zh: 自动攻击
description: Allowed to automatically attack any unit
description_zh: 允许自动攻击任何单位，容易暴露
isVisible: if self.hasFlag(id=1)
displayType: none
buildSpeed: 0s
addResources: unsetFlag=1


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=150)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 150
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=15


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[template_zijin]
price: 200

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/苏联工程师.ini
================================================================================


[core]
name: 苏联工程师
price: 资金=300
maxHp: 90
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq, ROOT:\共享文件\3类\驾驶空载具.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压, 工程师, 空下
displayText: Soviet Engineer
displayText_zh: 苏联工程师
displayDescription: Target: Ground unit\nSpecial: Occupy and repair buildings or vehicles
displayDescription_zh: 特殊：占领/维修建筑
isBio: true
buildSpeed: 3.5s
canRepairBuildings: true
nanoRange: 50
nanoRepairSpeed: 0
fogOfWarSightRange: 10
soundOnAttackOrder:  ROOT:\音频\语音+音效\iensata.wav:2, ROOT:\音频\语音+音效\iensatb.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\iensmoa.wav:2, ROOT:\音频\语音+音效\iensmob.wav:2, ROOT:\音频\语音+音效\iensmoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\ienssea.wav:2, ROOT:\音频\语音+音效\iensseb.wav:2, ROOT:\音频\语音+音效\ienssec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iensdia.wav:2, ROOT:\音频\语音+音效\iensdib.wav:2, ROOT:\音频\语音+音效\iensdic.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\生物\苏联工程师图标.png
image:    苏联工程师.png

total_frames: 13
imageScale:	1.05
image_offsetY: 0
frame_width: 60
frame_height: 60
image_shadow: NONE
shadowOffsetX: 0
shadowOffsetY: 0
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 5
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.hasParent() and not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

removeOnAttack: true
maxAttackRange: 50
canOnlyAttackUnitsWithTags: 占领, 驾驶


[movement]
movementType: LAND

moveSpeed: 1.00
moveAccelerationSpeed: 0.8
moveDecelerationSpeed: 0.8
reverseSpeedPercentage:0
maxTurnSpeed: 6
turnAcceleration: 6


[turret_1]
x: 0
y: 0

projectile: 1
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[turret_维修]
x: 0
y: 0

canShoot: false
projectile: 维修


[projectile_1]
directDamage: 0
life: 60

instant: true
explodeEffect: NONE
convertHitToSourceTeam: true


[projectile_维修]
areaDamage: -2000
life: 60

areaRadius: 5
instant: true
areaDamageNoFalloff: true
friendlyFire: true
explodeEffect: NONE
mutator1_ifUnitWithoutTags: 建筑
mutator1_areaDamageMultiplier: 0


[hiddenAction_修复]
autoTrigger: if self.hasActiveWaypoint(type='repair') and not self.isMoving() and distanceBetweenSquared(activeWaypointTarget, self)<=2500
fireTurretXAtGround: 维修
fireTurretXAtGround_withProjectile: 维修
fireTurretXAtGround_withTarget: activeWaypointTarget
#showMessageToAllPlayers: 触发
playSoundAtUnit:  ROOT:\音频\语音+音效\urepair.wav:2
deleteSelf: true


[hiddenAction_Ai占领]
autoTrigger: if self.isControlledByAI() and not self.hasActiveWaypoint(type='attack') and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='占领', greaterThan=0, withinRange=500)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 占领
addWaypoint_target_nearestUnit_maxRange: 500
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 反潜
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克空军
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避5]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.hasActiveWaypoint(type='move') and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=5


[template_zijin]
price: 300

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/破坏者2.ini
================================================================================


[core]
name: 破坏者2
copyFrom: 破坏者.ini
showOnMinimapToEnemies: false
canOnlyBeAttackedByUnitsWithTags: 反伪装
showInEditor: false


[graphics]
isVisibleToEnemies: false
image_shadow: NONE
#shadowOffsetX: 12
#shadowOffsetY: 5
animation_moving_speed: 6


[movement]
moveSpeed: 1.0
moveAccelerationSpeed: 0.6
moveDecelerationSpeed: 0.6


[hiddenAction_1]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=150)
convertTo: 破坏者

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/动员兵.ini
================================================================================


[core]
name: 动员兵
price: 资金=100
maxHp: 125
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq, ROOT:\共享文件\3类\驾驶空载具.xxhq
tags: 原始护甲, 低级, 步兵中甲, 生物, 被碾压, 入枪, 基础兵, 克生物, 空下, 动员兵
displayText: Soviet Conscript
displayText_zh: 动员兵
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: Low\nDamage building: Low\nSpecial: Can enter the building and attack.\nBelongs to basic infantry.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：很低\n伤害建筑：低\n特殊：入驻建筑，并提高伤害和射程
buildSpeed: 1.0s
fogOfWarSightRange: 10
isBio: true
soundOnAttackOrder:  ROOT:\音频\语音+音效\iconata.wav:2, ROOT:\音频\语音+音效\iconatb.wav:2, ROOT:\音频\语音+音效\iconatc.wav:2, ROOT:\音频\语音+音效\iconatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\iconmoa.wav:2, ROOT:\音频\语音+音效\iconmob.wav:2, ROOT:\音频\语音+音效\iconmoc.wav:2, ROOT:\音频\语音+音效\iconmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iconsea.wav:2, ROOT:\音频\语音+音效\iconseb.wav:2, ROOT:\音频\语音+音效\iconsec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\icondia.wav:2, ROOT:\音频\语音+音效\icondib.wav:2, ROOT:\音频\语音+音效\icondic.wav:2, ROOT:\音频\语音+音效\icondid.wav:2, ROOT:\音频\语音+音效\icondie.wav:2


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='美革') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
icon_build: ROOT:\单位图标\苏联\生物\动员兵图标.png
image:        动员兵.png

imageScale: 1.0
total_frames: 13
frame_width: 66
frame_height: 66
#image_offsetY: -5
#image_wreak:  NONE
showEnergyBar: false
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 6
animation_idle_start:0
animation_idle_end:0
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 6
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 5
turretTurnSpeed: 6
maxAttackRange: 150
shootDelay: 50
#${int(8*(1/gameSpeedRate))}
canOnlyAttackUnitsWithoutTags: 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 1.0
moveAccelerationSpeed: 0.8
moveDecelerationSpeed: 0.8
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\iconatta.wav, ROOT:\音频\语音+音效\iconattb.wav
shoot_sound_vol: 1.0


[projectile_1]
directDamage: 25
life: 70

instant: true
explodeEffect: CUSTOM:弹火
mutator0_ifUnitWithTags: 子弹抗性
mutator0_directDamageMultiplier: 0.5
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.6
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.4
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.4
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.6


[hiddenAction_1] 
autoTrigger:  if self.hasParent(withTag='房') or self.hasParent(withTag='入驻部署') or self.hasParent(withTag='苏联战斗碉堡')
#withTag='标签'
convertTo: 动员兵入驻
#convertTo_keepCurrentTags: true


[hiddenAction_改组]
autoTrigger: if (hasUnitInTeam(withTag='游击改组', withinRange=60, greaterThan=0) or self.numberOfUnitsInAllyNotOwnTeam(withTag='游击改组', withinRange=60, greaterThan=0))
convertTo: 游击队
convertTo_keepCurrentTags: true


[hiddenAction_ai自动入驻]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInNeutralTeam(withTag='可入驻', greaterThan=0, withinRange=500) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.isAttacking() and not self.hasParent()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: neutral
addWaypoint_target_nearestUnit_tagged: 可入驻


[hiddenAction_ai自动入驻2]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInTeam(withTag='可入驻', withinRange=500, greaterThan=0) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.isAttacking() and not self.hasParent()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 可入驻


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 165
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=5


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[template_zijin]
price: 100

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/防空步兵.ini
================================================================================


[core]
name: 防空步兵
price: 资金=150
maxHp: 125
mass: 125
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 低级, 步兵中甲, 生物, 被碾压, 入常, 基础兵, 克空军, 空下, 防空步兵
displayText: Flak Trooper
displayText_zh: 防空步兵
displayDescription: Target: Ground unit/Air unit\nDamage creature: Medium\nDamage armor: Low\nDamage air: High\nDamage building: Medium\nSpecial: Can enter the building and attack, but cannot attack the air force.\nBelongs to basic infantry.
displayDescription_zh: 攻击目标：地面单位/海面单位/空中单位\n伤害生物：高\n伤害装甲：低\n伤害建筑：中\n伤害空军：高\n特殊：入驻建筑，并提高伤害和射程，但不能对空
isBio: true
buildSpeed: 1.5s
fogOfWarSightRange: 10
soundOnAttackOrder:  ROOT:\音频\语音+音效\iflaata.wav:2, ROOT:\音频\语音+音效\iflaatb.wav:2, ROOT:\音频\语音+音效\iflaatc.wav:2, ROOT:\音频\语音+音效\iflaatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\iflamoa.wav:2, ROOT:\音频\语音+音效\iflamob.wav:2, ROOT:\音频\语音+音效\iflamoc.wav:2, ROOT:\音频\语音+音效\iflamod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iflasea.wav:2, ROOT:\音频\语音+音效\iflaseb.wav:2, ROOT:\音频\语音+音效\iflasec.wav:2, ROOT:\音频\语音+音效\iflased.wav:2
soundOnDeath: ROOT:\音频\语音+音效\ifladia.wav:2, ROOT:\音频\语音+音效\ifladib.wav:2, ROOT:\音频\语音+音效\ifladic.wav:2, ROOT:\音频\语音+音效\ifladid.wav:2


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='美革') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
icon_build: ROOT:\单位图标\尤里\生物\防空步兵图标.png
image:        防空步兵.png

total_frames: 13
imageScale:	0.85
#image_offsetY:-10
frame_width: 98
frame_height: 94
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 6
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: if not self.tags(includes='禁止攻击')
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 10
turretTurnSpeed: 6
shootDelay: ${int(28*(1/gameSpeedRate))}
#maxAttackRange: 150
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 0.9
moveAccelerationSpeed: 0.7
moveDecelerationSpeed: 0.7
maxTurnSpeed: 6
turnAcceleration: 6


[turret_1]
x: 0
y: 10

limitingRange: 270
barrelHeight: 20
shoot_sound: ROOT:\音频\语音+音效\vflaat2a.wav, ROOT:\音频\语音+音效\vflaat2b.wav, ROOT:\音频\语音+音效\vflaat2c.wav, ROOT:\音频\语音+音效\vflaat2d.wav
shoot_sound_vol: 2.0
shoot_light:#FFEECCCC
canAttackFlyingUnits: if not self.tags(includes='禁止攻击')
canAttackLandUnits:   false
projectile: 1


[turret_2]
x: 0
y: 10

copyFrom: 1
limitingRange: 165
shoot_sound: ROOT:\音频\语音+音效\vflaat1a.wav, ROOT:\音频\语音+音效\vflaat1b.wav
shoot_sound_vol: 2.0
#limitingMinRange: 20
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.tags(includes='禁止攻击')
projectile: 2


[projectile_1]
#directDamage: 25
areaDamage: 25
life: 240

areaRadius: 30
explodeEffect: CUSTOM:黑烟2
instant: true
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.6
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.8


[projectile_2]
@copyFromSection: projectile_1
areaDamage: 40
life: 240

speed: 7
drawSize: 0.8
frame: 0
instant: false
initialUnguidedSpeedHeight: 4
gravity: 2
explodeEffect: CUSTOM:黑烟
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.85
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.50
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.25
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.25
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.25
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.50
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.25
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.50
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.00


[hiddenAction_1] 
autoTrigger:  if self.hasParent(withTag='房') or self.hasParent(withTag='入驻部署') or self.hasParent(withTag='苏联战斗碉堡')
convertTo: 防空步兵入驻
#convertTo_keepCurrentTags: true


[hiddenAction_ai自动入驻]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInNeutralTeam(withTag='可入驻', greaterThan=0, withinRange=500) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.isAttacking() and not self.hasParent()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: neutral
addWaypoint_target_nearestUnit_tagged: 可入驻


[hiddenAction_ai自动入驻2]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInTeam(withTag='可入驻', withinRange=500, greaterThan=0) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.isAttacking() and not self.hasParent()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 可入驻


[hiddenAction_Ai攻击空军]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 空军
addWaypoint_target_nearestUnit_maxRange: 270
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克生物
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=10


[effect_黑烟]
image: ROOT:\共享文件\1类\烟.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_黑烟2]
image: ROOT:\共享文件\1类\黑烟.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true
xOffsetRelativeRandom: 30
yOffsetRelativeRandom: 30


[template_zijin]
price: 150

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/破坏者.ini
================================================================================


[core]
name: 破坏者
price: 资金=1000
maxHp: 160
mass: 115
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压, 入常, 空下, 破坏者, 破坏者
displayText: Saboteur
displayText_zh: 破坏者
displayDescription: Target: Ground unit\nSpecial: Invisible and not attacked by default, but exposed by the enemy’s dog.\nCan infiltrate enemy buildings.\nInfiltrating enemy Ore Refinery can steal 5000 funds.\nInfiltrating enemy Power Plant or Nuclear Reactor can power off the enemy for 30 seconds.\nInfiltrating enemy Ore Purifier or Industrial Plant can delay access to funds by 30 seconds.\nInfiltrating enemy Superweapon can reset its countdown.\nInfiltrating enemy building of production can make it locked for 30 seconds and can't produce.
displayDescription_zh: 攻击目标：支持和生产类建筑\n特殊：默认状态下隐形不受攻击，但会被狗子发现而被攻击。\n入侵基地时阻止建造建筑30s\n入侵电厂时停电30s\n入侵矿厂时偷得5000资金\n入侵矿石精炼器或工业工厂阻止资金收入30s\n入侵维修站时阻止维修和回收30s\n入侵生产建筑时阻止生产30s\n入侵高级防御建筑时重置延迟时间\n入侵敌人的兵营时，自己的兵营可以生产1级单位\n入侵敌人的战争工厂时，自己的战争工厂可以生产1级单位
buildSpeed: 14s
isBio: true
fogOfWarSightRange: 10
canOnlyBeAttackedByUnitsWithTags: 反伪装
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 破坏者
soundOnAttackOrder:  ROOT:\音频\语音+音效\isspyata.wav:1, ROOT:\音频\语音+音效\isspyatb.wav:1, ROOT:\音频\语音+音效\isspyatc.wav:1, ROOT:\音频\语音+音效\isspyatd.wav:1
soundOnMoveOrder: ROOT:\音频\语音+音效\isspymoa.wav:1, ROOT:\音频\语音+音效\isspymob.wav:1, ROOT:\音频\语音+音效\isspymoc.wav:1, ROOT:\音频\语音+音效\isspymod.wav:1
soundOnNewSelection: ROOT:\音频\语音+音效\isspysea.wav:1, ROOT:\音频\语音+音效\isspyseb.wav:1, ROOT:\音频\语音+音效\isspysec.wav:1, ROOT:\音频\语音+音效\isspysed.wav:1
soundOnDeath: ROOT:\音频\语音+音效\isspydia.wav:1, ROOT:\音频\语音+音效\isspydib.wav:1, ROOT:\音频\语音+音效\isspydic.wav:1, ROOT:\音频\语音+音效\isspydid.wav:1


[graphics]
icon_build: ROOT:\单位图标\苏联\生物\破坏者图标.png
image:        破坏者.png

total_frames: 7
imageScale: 0.90
#image_offsetY:-4
frame_width: 60
frame_height: 60
animation_idle_start: 0
animation_idle_end: 0
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 5
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 1
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 1
shootDelay: 60
maxAttackRange: 50
canOnlyAttackUnitsWithTags: 矿厂, 可入侵


[movement]
movementType: LAND

moveSpeed: 0.9
moveAccelerationSpeed: 0.6
moveDecelerationSpeed: 0.6
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

canOnlyAttackUnitsWithTags: 矿厂, 可入侵
canOnlyAttackUnitsWithoutTags: 生物, 生物2, 装甲
resourceUsage: ammo=1
projectile: 1


[projectile_1]
directDamage: 0
life: 0


[hiddenAction_1]
autoTriggerOnEvent: created
autoTrigger: if self.hasTakenDamage(laterThanSeconds=3) and not numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=150)
convertTo: 破坏者2
convertTo_keepCurrentTags: true


[hiddenAction_偷钱]
autoTrigger: if attacking!=null and attacking.tags(includes='可入侵')==false and distanceBetweenSquared(attacking, self)<=2500
takeResources: 资金=5000
takeResources_includeUnitsWithinRange: 50
takeResources_directTransferStoppingAtZero: true
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy
showMessageToPlayer: The enemy's remaining funds: %{attacking.resource.资金}
showMessageToPlayer_zh: 敌人剩余资金：%{attacking.resource.资金}
temporarilyAddTags: 无尸体
alsoTriggerAction: 偷钱2


[hiddenAction_偷钱2]
takeResources: 入侵计时=-2
takeResources_includeUnitsWithinRange: 50
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy
#showMessageToAllPlayers: 触发
deleteSelf: true


[hiddenAction_入侵]
autoTrigger: if attacking!=null and attacking.tags(includes='可入侵')==true and distanceBetweenSquared(attacking, self)<=2500
takeResources: 入侵计时=-90
takeResources_includeUnitsWithinRange: 50
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy
showMessageToPlayer: The Saboteur successfully invaded the enemy's %{attacking}! power cut +90s
showMessageToPlayer_zh: 破坏者入侵敌人的%{attacking}成功！%{select(attacking.tags(includes='电力') and attacking.tags(includes='基地')==false, '关闭其电力90s，敌人的电力剩余：'+str(attacking.resource.电力), select(attacking.tags(includes='可重置计时'), '重置其计时', '关闭其功能90s'))}
temporarilyAddTags: 无尸体
alsoTriggerAction: 入侵兵营, 入侵车厂, 入侵删除


[hiddenAction_入侵兵营]
requireConditional: if attacking.tags(includes='兵营')
showMessageToPlayer: In addition, the barracks can produce level 1 unit
showMessageToPlayer_zh: 此外，兵营可生产1级单位
addGlobalTeamTags: 兵营1级


[hiddenAction_入侵车厂]
requireConditional: if attacking.tags(includes='车厂')
showMessageToPlayer: In addition, the war factory can produce level 1 unit
showMessageToPlayer_zh: 此外，车厂可生产1级单位
addGlobalTeamTags: 车厂1级


[hiddenAction_入侵删除]
deleteSelf: true


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and not self.hasActiveWaypoint(type='attack') and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='可入侵', greaterThan=0, withinRange=500)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 可入侵
addWaypoint_target_nearestUnit_maxRange: 500
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击矿厂]
autoTrigger: if self.isControlledByAI() and not self.hasActiveWaypoint(type='attack') and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='矿厂', greaterThan=0, withinRange=500)
#clearActiveWaypoint: true
@copyFromSection: hiddenAction_Ai攻击建筑
addWaypoint_target_nearestUnit_tagged: 矿厂


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack') and not numberOfUnitsInEnemyTeam(withTag='可入侵', greaterThan=0, withinRange=500) and not numberOfUnitsInEnemyTeam(withTag='矿厂', greaterThan=0, withinRange=500)
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=300)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克生物
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=300)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=25


[resource_入侵计时]
displayName: Timing
displayName_zh: 计时


[template_zijin]
price: 1000

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/爆破专家2.ini
================================================================================


[core]
name: 爆破专家2
copyFrom: 爆破专家.ini
showInEditor: false


[graphics]
image: 爆破专家2.png
frame_width: 58
frame_height: 58

animation_idle_start: 0
animation_idle_end: 5
animation_idle_speed: 6
animation_moving_start: 6
animation_moving_end: 11
animation_moving_speed: 5
animation_attack_start: 12
animation_attack_end: 17
animation_attack_speed: 5


[movement]
movementType: HOVER

moveSpeed: 1.20


[hiddenAction_1]
autoTrigger: if not self.isInWater()
convertTo: 爆破专家

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/爆破炸弹.ini
================================================================================


[core]
name: 爆破炸弹
price: 0
maxHp: 450
mass: 100
radius: 15

tags: 原始护甲, 爆破炸弹, 定时炸弹
showInEditor: false
fogOfWarSightRange: 0
disableAllUnitCollisions: true
hideScorchMark: true
isUnselectable:true
explodeOnDeath:false
isBuilding: true
canOnlyBeAttackedByUnitsWithTags: 拆弹


[hiddenAction_初始音效]
autoTriggerOnEvent: created
playSoundGlobally: ROOT:\音频\语音+音效\icraatta.wav:2


[graphics]
image: 爆破炸弹.png

imageScale: 0.8
total_frames: 13
animation_idle_start: 0
animation_idle_end: 12
animation_idle_speed: 34
rotate_with_direction: false


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: true

isMelee: true
turretSize: 0
turretTurnSpeed: 99
maxAttackRange: 10
shootDelay: 1
aimOffsetSpread: 0


[movement]
movementType: LAND

moveSpeed: 0


[turret_1]
x:0
y:0

canShoot: false
shoot_light: #FFEECCCC
projectile: 1


[turret_2]
x:0
y:0

projectile: 2


[projectile_1]
areaDamage: 600
life: 60

areaRadius: 120
instant: true
targetGround: true
friendlyFire: true
largeHitEffect: true
areaHitUnderwaterAlways: true
spawnUnit: 引火
explodeEffect: CUSTOM:爆炸
mutator0_ifUnitWithTags: 防爆
mutator0_areaDamageMultiplier: 0.06
mutator4_ifUnitWithTags: 特殊免伤
mutator4_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.8
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.6
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.8
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.6
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0


[projectile_2]
directDamage: 0
life: 60

instant: true
teleportSource: true
explodeEffect: NONE


[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=7) or not numberOfUnitsInEnemyTeam(withinRange=12, greaterThan=0) or self.hasFlag(id=0)
fireTurretXAtGround: 1
deleteSelf: true


[hiddenAction_2]
autoTrigger: true
buildSpeed: 1s
playSoundAtUnit: ROOT:\音频\语音+音效\icraloop.wav:2


[hiddenAction_1级]
autoTrigger: if self.hasFlag(id=1)
setUnitStats: shootDamageMultiplier=1.2
addResources: unsetFlag=1


[hiddenAction_2级]
autoTrigger: if self.hasFlag(id=2)
setUnitStats: shootDamageMultiplier=1.4
addResources: unsetFlag=2


[hiddenAction_3级]
autoTrigger: if self.hasFlag(id=3)
setUnitStats: shootDamageMultiplier=1.6
addResources: unsetFlag=3


[hiddenAction_升级]
requireConditional: if customTarget1!=nullUnit
autoTriggerOnEvent: killedAnyUnit
takeResources: 经验值=-15
takeResources_includeUnitsWithinRange: 9999
takeResources_includeReference: customTarget1
takeResources_discardCollected: true


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸6.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpcraa.wav:2
total_frames: 26
animateFrameStart: 0
animateFrameEnd: 25
animateFrameSpeed: 0.35
#animateFrameSpeedRandom: 0.4
scaleFrom: 1.25
scaleTo: 1.25
alwayStartDirAtZero: true


[resource_经验值]
displayName: experience
displayName_zh: 经验值

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/辐射工兵2.ini
================================================================================


[core]
name: 辐射工兵2
price: 0
maxHp: 320
mass: 120
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
#tags: 原始护甲, 高级, 步兵重甲, 生物, 免辐射, 辐射工兵, 空下, 辐射死人
techLevel: 2
isBio: true
fogOfWarSightRange: 13
showInEditor: false
energyMax: 1
energyRegen: 0.005
displayText: Desolator: deploy
displayText_zh: 辐射工兵-部署
displayDescription: Special: When he deploys it will produce nuclear radiation.\nNuclear radiation is also effective against enemies in the building.
displayDescription_zh: 特殊：部署辐射时可以清理入驻建筑的敌人
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 辐射工兵
soundOnDeath: ROOT:\音频\语音+音效\idesdia.wav, ROOT:\音频\语音+音效\idesdib.wav, ROOT:\音频\语音+音效\idesdic.wav
explodeOnDeath: false


[graphics]
image: 辐射工兵2.png

imageScale: 0.9
total_frames: 22
image_offsetY: -10
animation_idle_start: 12
animation_idle_end: 14
animation_idle_speed: 10
#animation_attack_start: 15
#animation_attack_end: 21
#animation_attack_speed: 10
rotate_with_direction: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

maxAttackRange: 250


[movement]
movementType: NONE

#moveSpeed: 0
#maxTurnSpeed: 0


[turret_1]
x: 0
y: 0


[projectile_1]
areaDamage: 400
life: 0

areaRadius: 280
explodeOnEndOfLife: true
friendlyFire: true
explodeEffect: NONE
spawnUnit: 辐射
buildingDamageMultiplier: 0
mutator0_ifUnitWithTags: 免辐射, 人尸
mutator0_areaDamageMultiplier: 0
mutator1_ifUnitWithTags: 辐射减伤
mutator1_areaDamageMultiplier: 0.5
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.00
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.50
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.45
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.35


[action_阻止人机取消部署]
text: Prevent undeployment
text_zh: 阻止取消部署
description: Prevent Ai from automatically undeploying
description_zh: 阻止人机自动取消部署
pos: 0
displayType: upgrade
buildSpeed: 0s
ai_isDisabled: true
isVisible: if self.isControlledByAI() and not self.hasFlag(id=27)
addResources: setFlag=27


[action_阻止人机取消部署2]
text: Allow undeployment
text_zh: 允许取消部署
description: Allow Ai to automatically undeploy
description_zh: 允许人机自动取消部署
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.hasFlag(id=27)
addResources: unsetFlag=27


[action_1]
text: Undeploy
text_zh: 取消部署
displayType: action
buildSpeed: 1s
autoTrigger: if self.isControlledByAI() and ((not numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and not numberOfUnitsInEnemyTeam(withTag='生物2', greaterThan=0, withinRange=250)) or self.hasActiveWaypoint(type='attackMove') or self.hasActiveWaypoint(type='move') or self.hasActiveWaypoint(type='guard')) and not self.hasFlag(id=27) and not self.tags(includes='禁止攻击')
ai_isDisabled: true
convertTo: 辐射工兵
convertTo_keepCurrentTags: true
setUnitStats: moveSpeed=select(memory.移动速度!=0, memory.移动速度, 0.65), maxTurnSpeed=select(memory.转向速度!=0, memory.转向速度, 6)


[hiddenAction_2]
autoTrigger: if self.lastConverted(withinSeconds=0.5)
playAnimation: 预备


[hiddenAction_3]
autoTrigger: if self.energy(full=true) and self.lastConverted(laterThanSeconds=1.05) and not self.tags(includes='禁止攻击')
addEnergy= -1
playAnimation: 辐射
spawnEffects: CUSTOM:核辐射
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,0
playSoundAtUnit: ROOT:\音频\语音+音效\idesat2a.wav:2


[hiddenAction_4]
autoTrigger:if self.hasActiveWaypoint(type='move') and not self.isControlledByAI()
clearAllWaypoints:true


[hiddenAction_人辐射死] 
autoTrigger: false


[hiddenAction_被黏杀]
autoTrigger: false


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=80) and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=225) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_升1级]
#setUnitStats: hp+=0
setUnitStats: maxTurnSpeed=${movement.maxTurnSpeed*1.5}


[hiddenAction_升2级]
setUnitStats: maxTurnSpeed=${movement.maxTurnSpeed*2}


[hiddenAction_升3级]
setUnitStats: maxTurnSpeed=${movement.maxTurnSpeed*2.5}


[hiddenAction_冷冻机制7]
requireConditional: false


[hiddenAction_冷冻机制8]
requireConditional: false


[animation_预备]
start: 0
end: 11
speed: 6


[animation_辐射]
start: 15
end: 21
speed: 10


[effect_核辐射]
image: ROOT:\共享文件\1类\核辐射.png
scaleFrom: 5
scaleTo: 2
life: 840
alpha: 1
fadeOut: true
drawUnderUnits: true
alwayStartDirAtZero: true
attachedToUnit: false


[template_zijin]
price: 950

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/游击队2.ini
================================================================================


[core]
name: 游击队2
copyFrom: 游击队.ini
showOnMinimapToEnemies: false
canOnlyBeAttackedByUnitsWithTags: 反伪装, 反隐形
showInEditor: false


[graphics]
isVisibleToEnemies: false
image_shadow: NONE


[hiddenAction_1]
autoTrigger: if (numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=150) or numberOfUnitsInEnemyTeam(withTag='反隐形', greaterThan=0, withinRange=150) or self.isAttacking())
convertTo: 游击队


[hiddenAction_1级显示] 
autoTrigger: false


[hiddenAction_2级显示] 
autoTrigger: false


[hiddenAction_3级显示] 
autoTrigger: false


[hiddenAction_生命保险计时2]
spawnEffects: NONE


[hiddenAction_临时救援2] 
spawnEffects: NONE

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/爆破专家.ini
================================================================================


[core]
name: 爆破专家
price: 资金=500
maxHp: 125
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压, 入常, 爆破专家, 两栖, 克生物, 克装甲, 空下, 防爆, 榴弹类
displayText: Demolisher
displayText_zh: 爆破专家
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage building: Very high\nSpecial: Can swim across the sea.\nHe can install Timed Incendiary Explosives on any ground unit of the enemy.\nTimed Incendiary Explosives can attach to the enemy and move with it
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：很高\n特殊：给移动或禁止的敌人身上投掷定时黏弹，自己死亡时会引爆携带的黏弹，可以游泳过海
buildSpeed: 5s
isBio: true
fogOfWarSightRange: 10
fireTurretXAtSelfOnDeath: 2
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 爆破专家
soundOnAttackOrder:  ROOT:\音频\语音+音效\icraata.wav:1, ROOT:\音频\语音+音效\icraatb.wav:1, ROOT:\音频\语音+音效\icraatc.wav:1, ROOT:\音频\语音+音效\icraatd.wav:1
soundOnMoveOrder: ROOT:\音频\语音+音效\icramoa.wav:1, ROOT:\音频\语音+音效\icramob.wav:1, ROOT:\音频\语音+音效\icramoc.wav:1, ROOT:\音频\语音+音效\icramod.wav:1
soundOnNewSelection: ROOT:\音频\语音+音效\icrasea.wav:1, ROOT:\音频\语音+音效\icraseb.wav:1, ROOT:\音频\语音+音效\icrasec.wav:1, ROOT:\音频\语音+音效\icrased.wav:1
soundOnDeath: ROOT:\音频\语音+音效\icradia.wav:1, ROOT:\音频\语音+音效\icradib.wav:1


[hiddenAction_阵营特色buff]
autoTriggerOnEvent: created
requireConditional: if self.globalTeamTags(includes='北非') and not self.hasUnitInTeam(withTag='阵营特色限制')
alsoQueueAction: 入侵升1级


[graphics]
icon_build: ROOT:\单位图标\苏联\生物\爆破专家图标.png
image: 爆破专家.png
frame_width: 50
frame_height: 50
image_offsetY: 0
#image_wreak:NONE
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 0
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 5
animation_direction_starting: 270
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_units: 45
rotate_with_direction:false


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 9
maxAttackRange: 20
shootDelay: ${int(50*(1/gameSpeedRate))}
aimOffsetSpread: 0
isMelee: true
meleeEngangementDistance: 180
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: HOVER

moveSpeed: 1.30
moveAccelerationSpeed: 1.2
moveDecelerationSpeed: 1.2
maxTurnSpeed: 6
turnAcceleration: 6
#joinsGroupFormations:true
reverseSpeedPercentage:0


[turret_1]
x:0
y:0

shoot_sound: ROOT:\音频\语音+音效\igrenweaa.wav
shoot_sound_vol: 2.0
canAttackCondition: if not self.tags(includes='1级') and not self.tags(includes='2级') and not self.tags(includes='3级')
canOnlyAttackUnitsWithoutTags: 炸弹限制, 伪装, 驾驶
resourceUsage: 经验值=-9
projectile: 1


[turret_1级]
x: 0
y: 0

copyFrom: 1
canAttackCondition: if self.tags(includes='1级')
projectile: 1级


[turret_2级]
x: 0
y: 0

copyFrom: 1
canAttackCondition: if self.tags(includes='2级')
projectile: 2级


[turret_3级]
x: 0
y: 0

copyFrom: 1
canAttackCondition: if self.tags(includes='3级')
projectile: 3级


[turret_2]
x:0
y:0

canShoot: false
projectile: 2


[projectile_1]
directDamage:0
life: 60

instant: true
delayedStartTimer: 20
explodeEffect: NONE
spawnUnit: 爆破炸弹


[projectile_2]
directDamage:0
life: 60

@copyFromSection: projectile_1
spawnUnit: 爆破炸弹(addResources=setFlag:0)


[projectile_1级]
directDamage: 0
life: 60

@copyFromSection: projectile_1
spawnUnit: 爆破炸弹(addResources=setFlag:1)


[projectile_2级]
directDamage: 0
life: 60

@copyFromSection: projectile_1
spawnUnit: 爆破炸弹(addResources=setFlag:2)


[projectile_3级]
directDamage: 0
life: 60

@copyFromSection: projectile_1
spawnUnit: 爆破炸弹(addResources=setFlag:3)


[hiddenAction_1]
autoTrigger: if self.isInWater()
convertTo: 爆破专家2
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDelayMultiplier, moveSpeed, maxTurnSpeed


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 反潜


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=250) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=35


[template_zijin]
price: 500

================================================================================
// FILE_PATH: ./1苏维埃联盟/陆军–士兵/化学部队.ini
================================================================================

[core]
name: 化学部队
price: 资金=1500
maxHp: 700
mass: 600
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 中级, 步兵重甲, 生物, 入枪, 克生物, 化学部队, 空下, 辐射死人, 清除驻军, 狗无法攻击, 免毒, 免疫化毒, 辐射减伤
displayText: Chemical Corps
displayText_zh: 化学部队
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: Medium\nDamage building: Low\nSpecial: When attacking armored units, their armor is reduced by 25%.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：中\n伤害建筑：低\n特殊：可以清理驻军\n攻击装甲单位时，会削弱其25%的护甲。
buildSpeed: 15s
fogOfWarSightRange: 10
isBio: true
selfRegenRate: 0.06
soundOnAttackOrder:  ROOT:\音频\语音+音效\ichematta.wav:2, ROOT:\音频\语音+音效\ichemattb.wav:2, ROOT:\音频\语音+音效\ichemattc.wav:2, ROOT:\音频\语音+音效\ichemattd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\ichemmova.wav:2, ROOT:\音频\语音+音效\ichemmovb.wav:2, ROOT:\音频\语音+音效\ichemmovc.wav:2, ROOT:\音频\语音+音效\ichemmovd.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\ichemsela.wav:2, ROOT:\音频\语音+音效\ichemselb.wav:2, ROOT:\音频\语音+音效\ichemselc.wav:2, ROOT:\音频\语音+音效\ichemseld.wav:2
soundOnDeath: ROOT:\音频\语音+音效\ichemdiea.wav:2, ROOT:\音频\语音+音效\ichemdieb.wav:2, ROOT:\音频\语音+音效\ichemdiec.wav:2, ROOT:\音频\语音+音效\ichemdied.wav:2
effectOnDeath: CUSTOM:死亡
hideScorchMark: true


[graphics]
icon_build: ROOT:\单位图标\苏联\生物\化学部队图标.png
image: 化学部队.png

total_frames: 21
imageScale: 1.0
frame_width: 100
frame_height: 100
#image_offsetY:-5
animation_moving_start: 1
animation_moving_end: 10
animation_moving_speed: 6
animation_idle_start:0
animation_idle_end:0
animation_attack_start: 11
animation_attack_end: 11
animation_attack_speed: 10
rotate_with_direction: false
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270


[attack]
canAttack:true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits:false

isFixedFiring:true
turretSize: 0
turretTurnSpeed: 6
maxAttackRange: 180
shootDelay: 2
#aimOffsetSpread:0.1
canOnlyAttackUnitsWithoutTags: 化学部队, 伪装, 驾驶, 免疫化毒


[movement]
movementType:LAND

moveSpeed: 0.80
moveAccelerationSpeed: 0.7
moveDecelerationSpeed: 0.7
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage: 0


[turret_1]
x: 0
y: 0


barrelX: 6
barrelY: 30
barrelHeight: 10
#energyUsage: 1
projectile: 1
canOnlyAttackUnitsWithoutTags: 房
onShoot_triggerActions: 1


[turret_2]
x: 0
y: 0

barrelX: -8
copyFrom: 1
linkDelayWithTurret: 1
attachedTo:  1
slave: true
#warmup: 20


[turret_3]
x:0
y:0


barrelX: 6
barrelY: 30
barrelHeight: 10
canOnlyAttackUnitsWithTags: 房
projectile: 2


[turret_4]
x: 0
y: 0

barrelX: -8
copyFrom: 3
linkDelayWithTurret: 3
attachedTo:  3
slave: true


[turret_音效]
x:0
y:0


delay: 180
shoot_sound: ROOT:\音频\语音+音效\ichemweaa.wav, ROOT:\音频\语音+音效\ichemweab.wav
shoot_sound_vol: 1.0
projectile: 音效
#onShoot_playAnimation:  攻击动画


[projectile_1]
areaDamage: 10
life: 60

areaRadius: 30
image: 化学颗粒.png
drawSize: 0.9
speed: 4
speedSpread: 0.5
initialUnguidedSpeedHeight: 2
gravity: 0.18
#trailEffect: CUSTOM:火焰
#trailEffectRate: 2.0
sweepOffsetFromTargetRadius: 0.6
sweepSpeed: 6
targetGround: true
#targetGroundSpread: 25
explodeEffect: CUSTOM:毒素2
mutator5_ifUnitWithTags: 人尸, 免疫化毒
mutator5_areaDamageMultiplier: 0
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 1.0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.20
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.10
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.10
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.10
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.00
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.00
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.00
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.10


[projectile_2]
@copyFromSection: projectile_1
areaDamage: 5
life: 240

areaRadius: 150


[projectile_音效]
directDamage: 0
life: 0


[hiddenAction_1]
#autoTrigger: if self.isAttacking()
takeResources: 腐蚀=-1
takeResources_includeUnitsWithinRange: 165
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy
#showMessageToPlayer: 


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=180)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 180
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=150)
@copyFromSection: hiddenAction_Ai攻击生物
addWaypoint_target_nearestUnit_tagged: 建筑


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=150) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=150)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_减伤]
autoTrigger: if (numberOfUnitsInTeam(withTag='迷雾', greaterThan=0, withinRange=150) or numberOfUnitsInAggressiveTeam(withTag='火焰', greaterThan=0, withinRange=80)) and not self.tags(includes='减伤')
#showMessageToAllPlayers: 减伤


[hiddenAction_减伤2]
autoTrigger: if self.tags(includes='减伤') and not numberOfUnitsInTeam(withTag='迷雾', greaterThan=0, withinRange=100) and not numberOfUnitsInAggressiveTeam(withTag='火焰', greaterThan=0, withinRange=80)
#showMessageToAllPlayers: 取消减伤


[hiddenAction_初始价值]
addResources: 价值=70


#[animation_攻击动画]
#start: 11
#end: 20
#speed: 5


[effect_死亡]
image: 化学部队死亡.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 16
animateFrameStart: 0
animateFrameEnd: 15
animateFrameSpeed: 0.30
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[effect_毒素]
image: ROOT:\共享文件\1类\火1.png
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.30
scaleFrom: 0.8
scaleTo: 0.8
attachedToUnit: false
alwayStartDirAtZero:true


[effect_毒素2]
image: ROOT:\共享文件\1类\爆炸33.png
life: 60
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 8
animateFrameStart: 0
animateFrameEnd: 7
animateFramePingPong: false
animateFrameSpeed: 0.40
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[resource_腐蚀]
displayName: 腐蚀


[template_zijin]
price: 1200

================================================================================
// FILE_PATH: ./1苏维埃联盟/海军/野牛运输船.ini
================================================================================


[core]
name: 野牛运输船
price: 资金=1000
maxHp: 1000
mass: 10000
radius: 45

copyFrom: ROOT:\共享文件\3类\阵营船舰共同.xxhq
tags: 原始护甲, 载具中甲, 装甲, 船坞维修, 两栖, 可空, 空下
displayText: Zubr Transport
displayText_zh: 野牛运输艇
displayDescription: Special: No attack ability.\nUsed to transport ground units across the sea.
displayDescription_zh: 特殊：无攻击能力\n运输作战单位过海
buildSpeed: 10s
fogOfWarSightRange: 10
maxTransportingUnits: 16
transportSlotsNeeded: 99
transportUnitsBlockOtherTransports: false
soundOnMoveOrder: ROOT:\音频\语音+音效\vhosmoa.wav:2, ROOT:\音频\语音+音效\vhosmob.wav:2, ROOT:\音频\语音+音效\vhosmod.wav:2, ROOT:\音频\语音+音效\vhosmoe.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vhossea.wav:2, ROOT:\音频\语音+音效\vhosseb.wav:2, ROOT:\音频\语音+音效\vhossec.wav:2, ROOT:\音频\语音+音效\vhossed.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\野牛图标.png
image:        野牛运输船.png

drawLayer: ground
total_frames: 1
imageScale:	1.0
frame_width: 180
frame_height: 180
image_offsetY: 5
#image_wreak:  NONE
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: HOVER

moveSpeed: 1.2
moveAccelerationSpeed:0.06
moveDecelerationSpeed:0.1
maxTurnSpeed: 2
turnAcceleration: 0.5
targetHeight: 3
targetHeightDrift: 1.5
moveSlidingMode: true
moveIgnoringBody: true
moveSlidingDir: 180


[action_1]
@define slotId: 0
isVisible: if self.transportingCount(slot=${slotId}, greaterThan=0)
isActive: if not self.isOverwater() and not self.isMoving()
buildSpeed: 0s
text: unload
text_zh: 卸载
textAddUnitName: unitRef self.transporting(slot=${slotId})
description: Click to unload unit
description_zh: 点击卸载单位
displayType: action
unitShownInUI: unitRef self.transporting(slot=${slotId})
forceUnloadTransportNow:true
forceUnloadTransportNow_onlyOnSlot:${slotId}
#isActive: if self.height(lessThan=3)


[action_2]
@copyFromSection: action_1
@define slotId: 1


[action_3]
@copyFromSection: action_1
@define slotId: 2


[action_4]
@copyFromSection: action_1
@define slotId: 3


[action_5]
@copyFromSection: action_1
@define slotId: 4


[action_6]
@copyFromSection: action_1
@define slotId: 5


[action_7]
@copyFromSection: action_1
@define slotId: 6


[action_8]
@copyFromSection: action_1
@define slotId: 7


[action_9]
@copyFromSection: action_1
@define slotId: 8


[action_10]
@copyFromSection: action_1
@define slotId: 9


[action_11]
@copyFromSection: action_1
@define slotId: 10


[action_12]
@copyFromSection: action_1
@define slotId: 11


[hiddenAction_卸载声]
autoTrigger: if self.isTransportUnloading() and not self.isMoving()
playSoundAtUnit:  ROOT:\音频\语音+音效\gexit1a.wav
#showQuickWarLogToAllPlayers: 卸载


[hiddenAction_Ai卸载]
autoTrigger: if self.isControlledByAI() and not self.isOverwater() and self.hasTakenDamage(withinSeconds=1) and not self.transportingCount(empty=true)
forceUnloadTransportNow: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 反潜
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克空军
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避5]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='船坞') and not self.hasUnitInTeam(withTag='船坞', withinRange=100) and not self.hasActiveWaypoint(type='move') and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 船坞


[hiddenAction_初始价值]
addResources: 价值=20


[hiddenAction_两栖亡]
autoTrigger: false


[template_zijin]
price: 1000

================================================================================
// FILE_PATH: ./1苏维埃联盟/海军/巨型乌贼.ini
================================================================================

[core]
name: 巨型乌贼
price: 资金=1000
maxHp: 400
mass: 450
radius: 15

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq, ROOT:\共享文件\3类\水圈.xxhq
displayText: Giant Squid
displayText_zh: 巨型乌贼
displayDescription: Target: Underwater unit/Ground unit\nDamage creature: Very high\nDamage armor: High\nDamage building: Medium\nSpecial: Can spot and attack underwater units.\nNot attacked by enemies while underwater.\nWill float to the surface when found.
displayDescription_zh: 攻击目标：海面单位/海下单位\n伤害装甲：高\n伤害生物：很高\n伤害建筑：中\n特殊：可以发现并攻击海下隐藏单位(海雷/台风潜艇/巨型乌贼/海豚)
tags: 原始护甲, 步兵轻甲, 中级, 生物, 水下, 克生物, 巨型乌贼, 免疫心控, 免疫碾压, 潜水单位
buildSpeed: 8s
fogOfWarSightRange: 18
showOnMinimapToEnemies: false
isBio: true
effectOnDeath: CUSTOM:水花, CUSTOM:血溅
hideScorchMark: true
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 巨型乌贼
soundOnMoveOrder: ROOT:\音频\语音+音效\vsqumova.wav:2, ROOT:\音频\语音+音效\vsqumovb.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vsqusela.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vsqudiea.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\生物\巨型乌贼图标.png
image: 巨型乌贼.png

isVisibleToEnemies: false
imageScale:	1.0
frame_width: 180
frame_height: 180
#image_offsetY:10
#image_wreak:NONE
animation_moving_start: 0
animation_moving_end: 9
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 5
animation_attack_start: 10
animation_attack_end: 17
animation_attack_speed: 5
animation_direction_units:45
animation_direction_strideX:0
animation_direction_strideY:1
animation_direction_starting:270
rotate_with_direction:false
movementEffect: NONE


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: if not self.tags(includes='禁止攻击')
canAttackNotTouchingWaterUnits: false

isMelee:true
isFixedFiring:true
turretSize: 0
turretTurnSpeed: 6
maxAttackRange: 35
shootDelay: ${int(40*(1/gameSpeedRate))}
aimOffsetSpread: 0
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 建筑, 建筑2


[movement]
movementType: WATER

moveSpeed: 1.8
moveAccelerationSpeed: 1.8
moveDecelerationSpeed: 1.8
maxTurnSpeed: 6
turnAcceleration: 6
targetHeight: -2
targetHeightDrift:1
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 10
warmup: 0
shoot_sound:ROOT:\音频\语音+音效\vsquat1a.wav:2
shoot_sound_vol: 2
shoot_light:#FFEECCCC


[projectile_1]
areaDamage: 135
life: 60

areaRadius: 20
areaRadiusFromEdge: true
instant: true
areaHitUnderwaterAlways: true
explodeEffect: CUSTOM:水花
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.6
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.6
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.6
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.2


[hiddenAction_1]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) or numberOfUnitsInEnemyTeam(withTag='反潜', greaterThan=0, withinRange=300)
convertTo: 巨型乌贼2
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed
setUnitStats: moveSpeed=select(memory.移动速度!=0, memory.移动速度, ${movement.moveSpeed})*1.111


[hiddenAction_1级显示] 
autoTrigger: if self.tags(includes='1级') and self.z==0


[hiddenAction_2级显示] 
autoTrigger: if self.tags(includes='2级') and self.z==0


[hiddenAction_3级显示] 
autoTrigger: if self.tags(includes='3级') and self.z==0


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=240)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 240
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and self.hp(lessThan=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='船坞') and not self.hasUnitInTeam(withTag='船坞', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=200) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 船坞
#showMessageToAllPlayers: 触发5


[hiddenAction_初始价值]
addResources: 价值=20


[effect_血溅]
scaleFrom: 1
scaleTo: 8


[effect_水花]
image: ROOT:\共享文件\1类\水花.png
createWhenOverLiquid: true
createWhenOverLand: false
scaleFrom: 1
scaleTo: 1
total_frames: 6
animateFrameStart: 0
animateFrameEnd: 5
animateFrameSpeed: 0.2
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true
spawnChance: 0.3
ifSpawnFailsEmitEffects: CUSTOM:水花2


[effect_水花2]
@copyFromSection: effect_水花
image: ROOT:\共享文件\1类\水花2.png
ifSpawnFailsEmitEffects: CUSTOM:水花3


[effect_水花3]
@copyFromSection: effect_水花
image: ROOT:\共享文件\1类\水花3.png
spawnChance: 1


[template_zijin]
price: 1000

================================================================================
// FILE_PATH: ./1苏维埃联盟/海军/台风潜艇2.ini
================================================================================


[core]
name: 台风潜艇2
copyFrom: 台风潜艇.ini
showInEditor: false
showOnMinimapToEnemies: true


[graphics]
isVisibleToEnemies: true
image:        台风潜艇.png

image_shadow: AUTO_ANIMATED
shadowOffsetX: 0
shadowOffsetY: 12
movementEffect: CUSTOM:水圈
movementEffectRate: 20


[movement]
#moveSpeed: 1.0
targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTrigger: if self.hasTakenDamage(laterThanSeconds=3) and not self.isAttacking() and not numberOfUnitsInEnemyTeam(withTag='反潜', greaterThan=0, withinRange=300) and not self.hasFlag(id=28)
convertTo: 台风潜艇
setUnitStats: moveSpeed=select(memory.移动速度!=0, memory.移动速度, ${movement.moveSpeed})

================================================================================
// FILE_PATH: ./1苏维埃联盟/海军/无畏导弹舰.ini
================================================================================


[core]
name: 无畏导弹舰
price: 资金=2800
maxHp: 1100
mass: 40000
radius: 45

displayText: Kuznetsov Dreadnought
displayText_zh: 无畏导弹舰
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage building: Very high\nSpecial: The missile launched does not have tracking capabilities.
displayDescription_zh: 攻击目标：海面单位/地面单位\n伤害装甲：很高\n伤害生物：很高\n伤害建筑：很高\n特殊：不能移动攻击
tags: 原始护甲, 载具重甲, 装甲, 船舰, 船坞维修, 克装甲, 克建筑, 可空, 无畏导弹舰, 空下, 炸飞人
copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营船舰共同.xxhq, ROOT:\共享文件\3类\闲置修复.xxhq
techLevel: 2
buildSpeed: 28s
fogOfWarSightRange: 20
selfRegenRate: 0.06
energyMax: 2
energyRegen: 0.002
energyNeedsToRechargeToFull: true
soundOnAttackOrder:  ROOT:\音频\语音+音效\vwasata.wav:2, ROOT:\音频\语音+音效\vwasatb.wav:2, ROOT:\音频\语音+音效\vwasatc.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vwasmoa.wav:2, ROOT:\音频\语音+音效\vwasmob.wav:2, ROOT:\音频\语音+音效\vwasmoc.wav:2, ROOT:\音频\语音+音效\vwasmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vwassea.wav:2, ROOT:\音频\语音+音效\vwasseb.wav:2, ROOT:\音频\语音+音效\vwassec.wav:2
effectOnDeath: CUSTOM:水花, CUSTOM:水花2, CUSTOM:水花3, CUSTOM:水花4, CUSTOM:死亡爆炸, CUSTOM:沉没


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\无畏图标.png
image:        无畏导弹舰.png

drawLayer: ground
total_frames: 2
image_offsetY: 10
frame_width: 225
frame_height: 225
#image_wreak:  NONE
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
showTransportBar: false
movementEffectRate: 30


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:  if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

#isFixedFiring:true
turretSize: 0
turretTurnSpeed: 10
aimOffsetSpread:0
#disablePassiveTargeting:true
shootDelay: 15


[movement]
movementType: WATER

moveSpeed: 0.7
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.06
maxTurnSpeed: 1.5
turnAcceleration: 0.5
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 35

shoot_flame: CUSTOM:开火
limitingRange: 720
limitingMinRange: 195
#warmup: 59
shoot_sound: ROOT:\音频\语音+音效\vdreatta.wav, ROOT:\音频\语音+音效\vdreattb.wav
shoot_sound_vol: 2
energyUsage: 1


[projectile_1]
spawnProjectilesOnEndOfLife: 1-2
spawnProjectilesOnExplode: 1-2
#directDamage: 50
areaDamage: 0
life: 210

areaRadius: 10
frame: 4
image: 无畏导弹.png
speed: 0
targetSpeed: 2
targetSpeedAcceleration: 0.5
drawSize: 1.0
explodeOnEndOfLife:true
ballistic: true
ballistic_delaymove_height: 90
ballistic_height: 200
trailEffect:CUSTOM:尾烟*1
trailEffectRate: 1.0
explodeEffect: NONE


[projectile_1-2]
areaDamage: 150
life: 600

areaRadius: 40
image: 无畏导弹.png
frame: 4
speed: 2
targetSpeed: 4
drawSize: 1.0
friendlyFire: true
targetGround: true
explodeOnEndOfLife:true
#autoTargetingOnDeadTarget:true
trailEffect: CUSTOM:尾烟*1
trailEffectRate: 1.2
delayedStartTimer: 0
explodeEffect: CUSTOM:爆炸, CUSTOM:映射
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.8
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.0
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.8


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=720)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 建筑
addWaypoint_target_nearestUnit_maxRange: 720
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=630) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 反潜
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=630) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克空军
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='船坞') and not self.hasUnitInTeam(withTag='船坞', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=630) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=630)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 船坞
#showMessageToAllPlayers: 触发6


[hiddenAction_冷却]
autoTrigger: if not self.energy(full=true)
playAnimation: 冷却


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=80


[animation_冷却]
start: 1
end: 1
speed: 65


[effect_开火]
image: ROOT:\共享文件\1类\导弹发射.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸4.png
alsoPlaySound: ROOT:\音频\语音+音效\vapocexpa.wav:2, ROOT:\音频\语音+音效\vapocexpb.wav:2
scaleFrom: 1.6
scaleTo: 1.6
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.4
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 1.5
scaleTo: 0.2
alpha: 0.4
life: 35
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟2.png
life: 60
scaleFrom: 1.0
scaleTo: 0.2
attachedToUnit: false
drawUnderUnits: false
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFramePingPong: false
animateFrameSpeed: 0.25
alwayStartDirAtZero: true
atmospheric: true


[effect_沉没]
image: 无畏导弹舰沉没.png
scaleFrom: 1.00
scaleTo: 1.00
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.2
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[template_zijin]
price: 2800


[ai]
useAsTransport: false
useAsAttacker: true

================================================================================
// FILE_PATH: ./1苏维埃联盟/海军/海蝎.ini
================================================================================


[core]
name: 海蝎
price: 资金=900
maxHp: 340
mass: 5000
radius: 20

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营船舰共同.xxhq
tags: 原始护甲, 载具轻甲, 中级, 装甲, 船舰, 船坞维修, 克空军, 可空, 空下
#overrideAndReplace: heavyMissileShip, missileShip, nautilusSubmarine
displayText: Sea Scorpion
displayText_zh: 海蝎
displayDescription: Target: Ground unit/Air unit\nDamage creature: High\nDamage armor: Low\nDamage air: High\nDamage building: Medium
displayDescription_zh: 攻击目标：地面单位/海面单位/空中单位\n伤害生物：高\n伤害装甲：低\n伤害建筑：中\n伤害空军：高
buildSpeed: 9s
fogOfWarSightRange: 16
soundOnAttackOrder:  ROOT:\音频\语音+音效\vscorata.wav:2, ROOT:\音频\语音+音效\vscoratb.wav:2, ROOT:\音频\语音+音效\vscoratc.wav:2, ROOT:\音频\语音+音效\vscoratd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vscormoa.wav:2, ROOT:\音频\语音+音效\vscormob.wav:2, ROOT:\音频\语音+音效\vscormoc.wav:2, ROOT:\音频\语音+音效\vscormod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vscorsea.wav:2, ROOT:\音频\语音+音效\vscorseb.wav:2, ROOT:\音频\语音+音效\vscorsec.wav:2, ROOT:\音频\语音+音效\vscorsed.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\海蝎图标.png
image:       海蝎.png

#imageScale: 0.95
total_frames: 1
frame_width: 112
frame_height: 112
image_offsetX: 0
image_offsetY: 0
#image_wreak:  NONE
#splastEffect: false
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffectRate: 25


[attack]
canAttack: true
canAttackFlyingUnits: if not self.hasFlag(id=28) and not self.tags(includes='禁止攻击')
canAttackLandUnits: if not self.hasFlag(id=28) and not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 20
#maxAttackRange: 360
shootDelay: ${int(20*(1/gameSpeedRate))}


[movement]
movementType: WATER

moveSpeed: 1.85
moveAccelerationSpeed: 0.04
moveDecelerationSpeed: 0.08
maxTurnSpeed: 3.0
turnAcceleration: 1.5
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

barrelHeight: 25
barrelX: 0
barrelY: 10
shoot_flame: CUSTOM:开火
#shoot_light: #FFEECCC
limitingRange: 360
shoot_sound: ROOT:\音频\语音+音效\vflaat2a.wav, ROOT:\音频\语音+音效\vflaat2b.wav, ROOT:\音频\语音+音效\vflaat2c.wav, ROOT:\音频\语音+音效\vflaat2d.wav
shoot_sound_vol: 2.0
shoot_light:#FFEECCCC
canAttackFlyingUnits: if not self.tags(includes='禁止攻击')
canAttackLandUnits:   false
projectile: 1


[turret_2]
x: 0
y: 10

copyFrom: 1
limitingRange: 180
shoot_sound: ROOT:\音频\语音+音效\vflaat1a.wav, ROOT:\音频\语音+音效\vflaat1b.wav
shoot_sound_vol: 2.0
#limitingMinRange: 20
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.tags(includes='禁止攻击')
projectile: 2


[projectile_1]
#directDamage: 25
areaDamage: 35
life: 240

areaRadius: 30
explodeEffect: CUSTOM:黑烟2
instant: true
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_areaDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_areaDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_areaDamageMultiplier: 0.6
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_areaDamageMultiplier: 0.8


[projectile_2]
@copyFromSection: projectile_1
areaDamage: 35
life: 240

speed: 7
drawSize: 0.8
frame: 0
instant: false
initialUnguidedSpeedHeight: 4
gravity: 2
explodeEffect: CUSTOM:黑烟
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.40
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.20
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.20
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.60
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.40
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.00


[hiddenAction_Ai攻击空军]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=360)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 空军
addWaypoint_target_nearestUnit_maxRange: 360
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=350) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 反潜
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=70) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=350) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=70) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=350) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避5]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='船坞') and not self.hasUnitInTeam(withTag='船坞', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=350) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=350) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=350)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 船坞


[hiddenAction_初始价值]
addResources: 价值=35


[effect_开火]
image: ROOT:\共享文件\1类\开火特效3.png
scaleFrom: 0.8
scaleTo: 0.8
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
attachedToUnit:false


[effect_黑烟]
image: ROOT:\共享文件\1类\烟.png
scaleFrom: 1.05
scaleTo: 1.05
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_黑烟2]
image: ROOT:\共享文件\1类\黑烟.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true



[template_zijin]
price: 900

================================================================================
// FILE_PATH: ./1苏维埃联盟/海军/台风潜艇.ini
================================================================================


[core]
name: 台风潜艇
price: 资金=900
maxHp: 720
mass: 3000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营船舰共同.xxhq
tags: 原始护甲, 载具重甲, 低级, 装甲, 船舰, 水下, 船坞维修, 克装甲, 克建筑, 可空, 台风潜艇, 潜水单位
displayText: Typhoon Attack Sub
displayText_zh: 台风潜艇
displayDescription: Target: Underwater unit\nDamage creature: Medium\nDamage armor: High\nDamage building: High\nSpecial: Can spot and attack underwater units.\nNot attacked by enemies while underwater.\nWill float to the surface when found.
displayDescription_zh: 攻击目标：海面单位/海下单位\n伤害装甲：高\n伤害生物：中\n伤害建筑：高\n特殊：可以发现并攻击海下隐藏单位(海雷/台风潜艇/巨型乌贼/海豚)
buildSpeed: 8s
explodeOnDeath: true
showOnMinimapToEnemies: false
fogOfWarSightRange: 13
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 台风潜艇
soundOnAttackOrder:  ROOT:\音频\语音+音效\vsubata.wav:2, ROOT:\音频\语音+音效\vsubatb.wav:2, ROOT:\音频\语音+音效\vsubatc.wav:2, ROOT:\音频\语音+音效\vsubatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vsubmoa.wav:2, ROOT:\音频\语音+音效\vsubmob.wav:2, ROOT:\音频\语音+音效\vsubmoc.wav:2, ROOT:\音频\语音+音效\vsubmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vsubsea.wav:2, ROOT:\音频\语音+音效\vsubseb.wav:2, ROOT:\音频\语音+音效\vsubsec.wav:2, ROOT:\音频\语音+音效\vsubsed.wav:2


[graphics]
icon_build: ROOT:\单位图标\苏联\载具\台风图标.png
image:        台风潜艇.png

isVisibleToEnemies: false
#imageScale: 0.9
frame_width: 120
frame_height: 120
image_wreak:  NONE
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 3
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffect: NONE


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.hasFlag(id=28) and not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: if not self.hasFlag(id=28) and not self.tags(includes='禁止攻击')

canAttackNotTouchingWaterUnits:false
isFixedFiring: true
turretSize: 10
turretTurnSpeed: 3
maxAttackRange: 240
shootDelay: ${int(54*(1/gameSpeedRate))}


[movement]
movementType: WATER

moveSpeed: 1.0
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.06
targetHeight: -2
targetHeightDrift: 0.4
maxTurnSpeed: 2
turnAcceleration: 1


[turret_1]
x: 0
y: 25

shoot_sound: ROOT:\音频\语音+音效\vsubatta.wav
shoot_sound_vol: 2


[projectile_1]
areaDamage: 135
life: 300

areaRadius: 25
image: ROOT:\共享文件\1类\鱼雷.png
trailEffect: CUSTOM:水波
trailEffectRate: 3
drawSize: 1
speed: 2
targetSpeed: 6
#largeHitEffect: true
explodeEffect: CUSTOM:映射, CUSTOM:爆炸
autoTargetingOnDeadTarget: true
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.4
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.4
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.4
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.8
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.6
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.6
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.6
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.8
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[hiddenAction_1]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) or numberOfUnitsInEnemyTeam(withTag='反潜', greaterThan=0, withinRange=300) or self.hasFlag(id=28)
convertTo: 台风潜艇2
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed
setUnitStats: moveSpeed=select(memory.移动速度!=0, memory.移动速度, ${movement.moveSpeed})*1.25


[hiddenAction_1级显示] 
autoTrigger: if self.tags(includes='1级') and self.z==0


[hiddenAction_2级显示] 
autoTrigger: if self.tags(includes='2级') and self.z==0


[hiddenAction_3级显示] 
autoTrigger: if self.tags(includes='3级') and self.z==0


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=240)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 240
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=265)
@copyFromSection: hiddenAction_Ai攻击装甲
addWaypoint_target_nearestUnit_tagged: 建筑


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=70) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=265) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=70) and self.hp(lessThan=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=265) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='船坞') and not self.hasUnitInTeam(withTag='船坞', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=265) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 船坞


[hiddenAction_初始价值]
addResources: 价值=25


[effect_爆炸]
image: ROOT:\共享文件\1类\炸毁5.png
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_水波]
stripIndex: effects
life: 60
frameIndex: 13
scaleFrom: 0.9
scaleTo: 1.3
alpha: 0.4
atmospheric:true
fadeInTime: 3
fadeOut:true
dirOffsetRandom:180
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
ySpeedRelative:-0.2
#yOffsetRelative: 0
attachedToUnit: false
drawUnderUnits:true


[template_zijin]
price: 1100

================================================================================
// FILE_PATH: ./1苏维埃联盟/海军/巨型乌贼2.ini
================================================================================

[core]
name: 巨型乌贼2
copyFrom: 巨型乌贼.ini
showInEditor: false
showOnMinimapToEnemies: true


[graphics]
isVisibleToEnemies: true
movementEffect: CUSTOM:水圈


[movement]
#moveSpeed: 1.6
targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTrigger: if self.hasTakenDamage(laterThanSeconds=3) and not self.isAttacking() and not numberOfUnitsInEnemyTeam(withTag='反潜', greaterThan=0, withinRange=300)
convertTo: 巨型乌贼
setUnitStats: moveSpeed=select(memory.移动速度!=0, memory.移动速度, ${movement.moveSpeed})

================================================================================
// FILE_PATH: ./3特殊/风声效果.ini
================================================================================


[core]
name: 风声
price: 0
maxHp: 1000
mass: 1000
radius: 10

displayText: Wind effect
displayText_zh: 风声
displayDescription: Simulated Wind effect
displayDescription_zh:  模拟风声
tags: 风声
isBuilding: true
stayNeutral: true
createNeutral: true
explodeOnDeath: false
hideScorchMark: true
disableAllUnitCollisions: true
isUnselectable: false
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR


[hiddenAction_风声] 
autoTrigger: if self.customTimer(laterThanSeconds=10)
resetCustomTimer: true
playSoundGlobally: ROOT:\音频\语音+音效\awin01a.wav:2, ROOT:\音频\语音+音效\awin01b.wav:2, ROOT:\音频\语音+音效\awin01c.wav:2, ROOT:\音频\语音+音效\awin01d.wav:2



================================================================================
// FILE_PATH: ./3特殊/雷天(无雨).ini
================================================================================


[core]
name: 雷天
price: 0
maxHp: 1000
mass: 1000
radius: 10

displayText: Thunderstorm Days
displayText_zh: 雷天(无雨)
displayDescription: Simulated thunderstorm
displayDescription_zh:  模拟雷天
tags: 雷天
isBuilding: true
stayNeutral: true
createNeutral: true
explodeOnDeath: false
hideScorchMark: true
disableAllUnitCollisions: true
isUnselectable: false
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0


[hiddenAction_初始效果]
autoTriggerOnEvent:completeAndActive
spawnEffects: CUSTOM:阴天


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR


[hiddenAction_下雨声] 
autoTrigger: if self.customTimer(laterThanSeconds=9)
resetCustomTimer: true
playSoundGlobally: ROOT:\音频\语音+音效\arain01a.wav:2
alsoQueueAction: 雷声


[hiddenAction_雷声]
playSoundGlobally: ROOT:\音频\语音+音效\athun01a.wav:2, ROOT:\音频\语音+音效\athun01b.wav:2, ROOT:\音频\语音+音效\athun01c.wav:2
spawnEffects: CUSTOM:闪电


[effect_阴天]
#夜晚
drawUnderUnits:false
life:99999999
scaleFrom: 100
scaleTo: 100
createWhenOffscreen:true
showInFog:true
priority: veryhigh
image: ROOT:\共享文件\1类\地图渲染.png
alpha: 0.95
color: #55000000
fadeOut:false


[effect_闪电]
priority: high
#createWhenZoomedOut: true
createWhenOffscreen: true
image: ROOT:\共享文件\1类\地图渲染.png
#color: #FF000000
scaleFrom: 100
scaleTo: 100
alpha: 0.8
life: 6
#dirOffsetRandom:180
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 1
fadeOut: false
#spawnChance: 0.25
attachedToUnit: false
drawUnderUnits: false



================================================================================
// FILE_PATH: ./3特殊/区块雨.ini
================================================================================


[core]
name: 区块雨
price: 0
maxHp: 1000
mass: 1000
radius: 10

displayText: Block Rain
displayText_zh: 区块雨
displayDescription: Simulated rainfall
displayDescription_zh:  模拟降雨
tags: 雨天
isBuilding: true
stayNeutral: true
createNeutral: true
explodeOnDeath: false
hideScorchMark: true
disableAllUnitCollisions: true
isUnselectable: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0


[action_删除]
text: Rain
text_zh: 删除自己
description: Simulated rainy day
description_zh: 删除自己
displayType: rally
buildSpeed: 1
deleteSelf:true


[graphics]
image:        区块雨.png

imageScale:	1
total_frames: 16
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 8
animation_idle_start: 0
animation_idle_end: 15
animation_idle_speed: 5
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 8

[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR
targetHeight: 0





================================================================================
// FILE_PATH: ./3特殊/区块雪.ini
================================================================================


[core]
name: 区块雪
price: 0
maxHp: 1000
mass: 1000
radius: 10

displayText: Block Snow 
displayText_zh: 区块雪
displayDescription: Simulated snow fall
displayDescription_zh:  模拟降雪
tags: 雪天
isBuilding: true
stayNeutral: true
createNeutral: true
explodeOnDeath: false
hideScorchMark: true
disableAllUnitCollisions: true
isUnselectable: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0


[action_删除]
text: Rain
text_zh: 删除自己
description: Simulated rainy day
description_zh: 删除自己
displayType: rally
buildSpeed: 1
deleteSelf: true


[graphics]
image:        区块雪.png

imageScale:	1
total_frames: 31
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 8
animation_idle_start: 0
animation_idle_end: 30
animation_idle_speed: 5
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 8

[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR
targetHeight: 0





================================================================================
// FILE_PATH: ./3特殊/夜间效果.ini
================================================================================


[core]
name: 夜间效果
price: 0
maxHp: 1000
mass: 1000
radius: 10

displayText: Night effect
displayText_zh: 夜间效果
displayDescription: Simulated Night effect
displayDescription_zh:  模拟夜间
tags: 夜间
isBuilding: true
#stayNeutral: true
#createNeutral: true
#createOnAggressiveTeam: true
explodeOnDeath: false
hideScorchMark: true
disableAllUnitCollisions: true
isUnselectable: false
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0


[hiddenAction_初始效果]
autoTriggerOnEvent:completeAndActive
spawnEffects: CUSTOM:夜晚


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR


[effect_夜晚]
#夜晚
drawUnderUnits:false
life:99999999
scaleFrom: 100
scaleTo: 100
createWhenOffscreen:true
showInFog:true
priority: veryhigh
image: ROOT:\共享文件\1类\地图渲染.png
alpha: 1.00
color: #55000000
fadeOut:false



================================================================================
// FILE_PATH: ./1尤里军团/建筑–支持/尤里矿厂.ini
================================================================================


[core]
name: 尤里矿厂
price: 0
maxHp: 1000
mass: 50000
radius: 35

#overrideAndReplace: extractor
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条4.xxhq
tags: 原始护甲, 建筑重甲, 建筑, 矿厂, 占领, 尤里矿厂, 空下, 带扩展建筑
displayText: Yuri Ore Refinery
displayText_zh: 尤里矿厂
displayDescription: Processing mineral.\nDeploys a free Chrono Miner when built.\nFunds: -2000\nPower: -40
displayDescription_zh: 主要经济来源\n自带一个矿车\n需要矿车运来矿物获取资金\n资金花费：2000\n电力占用：40
borrowResourcesWhileAlive: 电力=40
fogOfWarSightRange: 6
isBuilding: true
footprint: -6,-2,-2,1
displayFootprint: -6,-2,1,1
constructionFootprint: -6,-2,1,1
buildSpeed: 0
selfBuildRate: 1s
maxTransportingUnits: 1
transportUnitsEachUnitAlwaysUsesSingleSlot: true
transportUnitsRequireTag: 矿车
exit_x:  0
exit_y:  0
exit_dirOffset: 120
exit_moveAwayAmount: 80
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\尤里矿厂图标.png
image:        尤里矿厂.png

default_frame: 22
total_frames: 23
imageScale:	1.10
image_offsetX: -60
image_offsetY: -62
animation_idle_start: 17
animation_idle_end: 22
animation_idle_speed: 6
whenBeingBuiltMakeTransparentTill: 0
showTransportBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[turret_烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 烟


[projectile_烟]
directDamage: 0
life: 60

invisible: true
trailEffect: CUSTOM:烟, CUSTOM:烟2
trailEffectRate: 14
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog:true


[attachment_装载]
x: 5
y: -16

canAttack: false
idleDir: 135
lockRotation: true
isUnselectable: false
canBeAttackedAndDamaged: true
addTransportedUnits: true
keepAliveWhenParentDies: true
#deattachIfWantingToMove: true
onParentTeamChangeKeepCurrentTeam: true


#[hiddenAction_测试]
#autoTrigger: if self.resource(type='矿石', greaterThan=0)
#showMessageToAllPlayers: 测试


[hiddenAction_开始]
autoTriggerOnEvent: created
spawnUnits: 高速采矿车
#produceUnits: 盟军矿车


[hiddenAction_拿资源]
autoTrigger: if self.numberOfAttachedUnits(withTag='矿车', greaterThan=0) and not self.tags(includes='禁止攻击')
takeResources: 矿石=1, 矿石2=1
takeResources_includeUnitsInTransport: true
takeResources_directTransferStoppingAtZero: true
#takeResources_triggerActionIfAnyCollected: 转化
takeResources_triggerActionIfNoneCollected: 卸载


[hiddenAction_转化]
autoTrigger: if self.resource(type='矿石', greaterThan=0) and not numberOfUnitsInTeam(withTag='矿石精炼器', greaterThan=0)
convertResource_from: 矿石
convertResource_to: 资金
convertResource_maxAmount: 0.01
convertResource_multiplyAmountBy: 10000
playAnimation: 处理矿
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100


[hiddenAction_转化2]
autoTrigger: if self.resource(type='矿石2', greaterThan=0) and not numberOfUnitsInTeam(withTag='矿石精炼器', greaterThan=0)
convertResource_from: 矿石2
convertResource_to: 资金
convertResource_maxAmount: 0.01
convertResource_multiplyAmountBy: 20000


[hiddenAction_转化3]
autoTrigger: if self.resource(type='矿石', greaterThan=0) and numberOfUnitsInTeam(withTag='矿石精炼器', greaterThan=0)
convertResource_from: 矿石
convertResource_to: 资金
convertResource_maxAmount: 0.01
convertResource_multiplyAmountBy: 12500
playAnimation: 处理矿
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100


[hiddenAction_转化4]
autoTrigger: if self.resource(type='矿石2', greaterThan=0) and numberOfUnitsInTeam(withTag='矿石精炼器', greaterThan=0)
convertResource_from: 矿石2
convertResource_to: 资金
convertResource_maxAmount: 0.01
convertResource_multiplyAmountBy: 25000


[hiddenAction_卸载]
startUnloadingTransport: true


[hiddenAction_矿厂空]
autoTrigger: if self.transportingCount(empty=true) and not self.tags(includes='矿厂空')
temporarilyAddTags: 矿厂空
#showMessageToAllPlayers: 产生矿厂空


[hiddenAction_矿厂空2]
autoTrigger: if not self.transportingCount(empty=true) and self.tags(includes='矿厂空')
temporarilyRemoveTags: 矿厂空
#showMessageToAllPlayers: 取消矿厂空


[hiddenAction_1]
autoTrigger: if self.resource(type='入侵计时', greaterThan=0)
showMessageToPlayer_zh: 系统警告：我方矿厂被敌人入侵，资金减少5000
showMessageToPlayer: System warning: Our Ore Refinery was infiltrated by the enemy, and the funds were reduced by 5000!
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2
addResources: 入侵计时=-1


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_初始价值]
addResources: 价值=80


[action_卖钱]
description: Sell? Return funds: %{int(${template_zijin.price-1550}*(self.hp/self.maxHp))}
description_zh: 卖掉，将获得资金：%{int(${template_zijin.price-1550}*(self.hp/self.maxHp))}


[hiddenAction_卖钱4]
addResourcesWithLogic: 资金=int(${template_zijin.price-1550}*(self.hp/self.maxHp))


[hiddenAction_微资金]
autoTrigger: if self.customTimer(laterThanSeconds=1)
addResources: 资金=5


[hiddenAction_入侵飞碟入侵]
autoTrigger: if self.resource(type='入侵计时2', greaterThan=0)
addResources: 入侵计时2=-1, 资金=-200


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:16}


[animation_处理矿]
body_0s: {frame:17}
body_1s: {frame:22}


[effect_烟]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #7FFFFFFF
fadeInTime: 11
scaleFrom: 0.5
scaleTo: 2
alpha: 0.75
life: 240
hOffset: 70
hSpeed:0.3
xSpeedAbsolute: -0.2
dirOffsetRandom:180
xOffsetRelative: -50
yOffsetRelative: 30
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 2
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.1
atmospheric:true
shadow:true
fadeOut: true
attachedToUnit: false
drawUnderUnits:false


[effect_烟2]
@copyFromSection: effect_烟
xOffsetRelative: -90
yOffsetRelative: 10


[effect_电力]
#scaleFrom:2.5
#scaleTo:2.5
xOffsetRelative: -20
yOffsetRelative: 20


[effect_土坑]
xOffsetRelative: -45
yOffsetRelative: 10


[effect_土坑2]
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[resource_矿石]
displayName: 矿石


[resource_矿石2]
displayName: 矿石2


[template_zijin]
price: 2000
@global dianli: -40


[ai]
buildPriority: 0.13
recommendedInEachBaseNum: 2
recommendedInEachBasePriorityIfUnmet: 0.3
noneInBaseExtraPriority:0.5
maxEachBase: 3

================================================================================
// FILE_PATH: ./1尤里军团/建筑–支持/尤里基地防御.ini
================================================================================


[core]
name: 尤里基地防御
price: 0
maxHp: 100
mass: 10000
radius: 20

tags: 尤里基地防御
displayText: Yuri Construction Yard
displayText_zh: 尤里防御扩展点
displayDescription: Only one Yuri defense building can be built at the same time.\nWhen the defense extension point produces buildings, the base will not be able to produce defense buildings.\nOr when the base produces defense buildings, the defense extension points cannot produce buildings.\nMove the Yuri  When defending the expansion point, the building that is being produced will be cancelled and the funds will be returned
displayDescription_zh: 建造尤里防御建筑，同时只能有一个，\n当防御扩展点生产建筑时，基地将无法生产防御建筑，\n或者基地生产防御建筑时，防御扩展点也无法生产建筑\n移动尤里防御扩展点时会取消正在生产的建筑并返回资金
isBuilding: true
fogOfWarSightRange: 4
buildSpeed: 0
selfBuildRate: 1s
canRepairBuildings: true
canRepairUnitsOnlyWithTags: 无
nanoRange: 9999
nanoRepairSpeed: 0
canNotBeDirectlyAttacked: true
disableAllUnitCollisions: true
explodeOnDeath:false
showOnMinimapToEnemies: false
@memory 返还资金:float


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 尤里基地防御停电
convertTo_keepCurrentTags: true


[hiddenAction_建造单位音效-苏]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof052.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_建造单位音效-盟]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva052.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_建造单位音效-尤]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur052.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[graphics]
isVisibleToEnemies: false
image:  ROOT:\共享文件\1类\隐藏.png

rotate_with_direction: false
repairEffect: NONE


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:  false
canAttackUnderwaterUnits: false


[movement]
movementType: NONE


[arm_1]
x: 0
y: 0

#hidden: 
spinRate: 2
image_end: ROOT:\共享文件\1类\技能点圈.png
image_end_teamColors: true
drawOverBody: false
#drawUnderAllUnits: false
#endDirOffset: 135


[arm_2]
x: 0
y: 0

spinRate: 0
image_end: ROOT:\共享文件\1类\技能点图标-防御.png
image_end_teamColors: true
drawOverBody: false


[template_放置模板]
@define number: 2
pos: ${number}
#tech: 1
#forceNano: true
isVisible: if self.resource(type='计数', equalTo=${number-1})
addResources: 计数=-${number-1}
isGuiBlinking: true


[canBuild_11]
@copyFromSection: template_放置模板
@define number: 12
name: 加特林机炮建造


[canBuild_12]
@copyFromSection: canBuild_11
@define number: 13
name: 坦克碉堡


[canBuild_13]
@copyFromSection: canBuild_11
@define number: 14
name: 心灵控制塔


[canBuild_15]
@copyFromSection: canBuild_11
@define number: 16
name: 心灵冲击塔


[canBuild_17]
@copyFromSection: canBuild_11
@define number: 18
name: 基因突变器
isLocked: if self.hasUnitInTeam(withTag='基因突变器', incompleteBuildings=true)
isLockedMessage: Genetic Exciter can only have one at a time!
isLockedMessage_zh: 基因突变器同时只能有一个!


[canBuild_18]
@copyFromSection: canBuild_11
@define number: 19
name: 心灵控制器
isLocked: if self.hasUnitInTeam(withTag='心灵控制器', incompleteBuildings=true)
isLockedMessage: Psychic Dominator can only have one at a time!
isLockedMessage_zh: 心灵控制器同时只能有一个!


[canBuild_19]
name: 尤里墙墩
pos: 20
#forceNano: true
price: 资金=50
isGuiBlinking:	true
isVisible: if self.hasUnitInTeam(withTag="尤里兵营")
isLockedAlt2: if self.tags(includes='禁止攻击')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_20]
@copyFromSection: canBuild_19
@define number: 21
name: 尤里墙墩2


[canBuild_21]
@copyFromSection: canBuild_19
@define number: 22
name: 尤里墙撇


[canBuild_22]
@copyFromSection: canBuild_19
@define number: 23
name: 尤里墙那


[action_取消]
text: Cancel
text_zh: 取消
description: Cancel process
description_zh: 取消建造
pos: 1.4
displayType: none
buildSpeed: 0s
#autoTrigger: 
isVisible: if self.resource(type='计数', greaterThan=0)
resourceAmount: 计数
resourceAmount_setValue: 0
addResourcesWithLogic: 资金=memory.返还资金


[template_建造模板]
@define number: 2
@define money: 800
@define name: 盟军发电厂
textAddUnitName: ${name}
descriptionAddFromUnit: ${name}
descriptionAddUnitStats: ${name}
displayType: none
pos: ${number}
price: 资金=${money}
setUnitMemory: 返还资金=${money}
switchPriceWithStreamingCost: true
addResources: 计数=${number-1}
isActive: if not self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='入侵计时', empty=true) and self.noUnitInTeam(withTag='禁止节点建造防御')
isVisible: if not self.resource(type='计数', equalTo=${number-1})
unitShownInUI: ${name}
#ai_isHighPriority: true
#ai_considerSameAsBuilding: ${name}
#alsoQueueAction: 建造完成, 建造完成2, 建造完成3
alsoTriggerAction: 建造完成, 建造完成2, 建造完成3


[action_建11]
@copyFromSection: template_建造模板
@define number: 12
@define money: 1000
@define name: 加特林机炮建造
buildSpeed: 10s
isLocked: if self.noUnitInTeam(withTag='尤里兵营', incompleteBuildings=true)
isLockedMessage: Require Yuri Barracks
isLockedMessage_zh: 解锁条件: 尤里兵营


[action_建12]
@copyFromSection: action_建11
@define number: 13
@define money: 800
@define name: 坦克碉堡
buildSpeed: 6s


[action_建13]
@copyFromSection: action_建11
@define number: 14
@define money: 1500
@define name: 心灵控制塔
buildSpeed: 14s
isVisible: if not self.resource(type='计数', equalTo=${number-1})
isLocked: if self.noUnitInTeam(withTag='心灵探测器', incompleteBuildings=true)
isLockedMessage: Require Yuri Mind Detector
isLockedMessage_zh: 解锁条件: 心灵探测器


[action_建15]
@copyFromSection: action_建11
@define number: 16
@define money: 1800
@define name: 心灵冲击塔
buildSpeed: 22s
isLocked: if self.noUnitInTeam(withTag='尤里作战实验室', incompleteBuildings=true)
isLockedMessage: Require Yuri Tech Center 
isLockedMessage_zh: 解锁条件: 尤里作战实验室


[action_建17]
@copyFromSection: action_建11
@define number: 18
@define money: 3000
@define name: 基因突变器
buildSpeed: 30s
isLocked: if self.noUnitInTeam(withTag='尤里作战实验室', incompleteBuildings=true)
isLockedMessage: Require Yuri Tech Center 
isLockedMessage_zh: 解锁条件: 尤里作战实验室
isLockedAlt: if self.hasUnitInTeam(withTag='基因突变器', factoryQueue=true)
isLockedAltMessage: Genetic Exciter can only have one at a time!
isLockedAltMessage_zh: 基因突变器同时只能有一个!
isLockedAlt2: if self.hasUnitInTeam(withTag='禁止建造超级武器', factoryQueue=true)
isLockedAlt2Message: System limitations.
isLockedAlt2Message_zh: 系统限制。


[action_建18]
@copyFromSection: action_建11
@define number: 19
@define money: 5000
@define name: 心灵控制器
buildSpeed: 50s
isLocked: if self.noUnitInTeam(withTag='尤里作战实验室', incompleteBuildings=true)
isLockedMessage: Require Yuri Tech Center 
isLockedMessage_zh: 解锁条件: 尤里作战实验室
isLockedAlt: if self.hasUnitInTeam(withTag='心灵控制器', factoryQueue=true)
isLockedAltMessage: Psychic Dominator can only have one at a time!
isLockedAltMessage_zh: 心灵控制器同时只能有一个!
isLockedAlt2: if self.hasUnitInTeam(withTag='禁止建造超级武器', factoryQueue=true)
isLockedAlt2Message: System limitations.
isLockedAlt2Message_zh: 系统限制。


[hiddenAction_建造完成]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof048.wav:2


[hiddenAction_建造完成2]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva048.wav:2


[hiddenAction_建造完成3]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur048.wav:2


[hiddenAction_移位消除]
autoTrigger: if numberOfUnitsInTeam(withTag='尤里基地防御', greaterThan=1, incompleteBuildings=true) and self.noUnitInTeam(withTag='沙盒控制')
addResourcesWithLogic: 资金=memory.返还资金
deleteSelf: true
#showMessageToAllPlayers: 移位消除


[hiddenAction_自毁]
autoTrigger: if self.noUnitInTeam() and self.noUnitInTeam(withTag='沙盒控制')
addResources: hp=-1000


[hiddenAction_禁止基地建造防御]
autoTrigger: if not self.queueSize(empty=true) and not self.tags(includes='禁止基地建造防御')
temporarilyAddTags: 禁止基地建造防御
#showMessageToAllPlayers: 禁止基地建造防御


[hiddenAction_禁止基地建造防御2]
autoTrigger: if self.tags(includes='禁止基地建造防御') and self.queueSize(empty=true)
temporarilyRemoveTags: 禁止基地建造防御
#showMessageToAllPlayers: 禁止基地建造防御2


[resource_计数]
displayName: 计数


[resource_入侵计时]
displayName: Timing
displayName_zh: 计时


[ai]
useAsBuilder: false

================================================================================
// FILE_PATH: ./1尤里军团/建筑–支持/尤里基地.ini
================================================================================


[core]
name: 尤里基地
price: 0
maxHp: 2500
mass: 100000
radius: 75

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq
tags: 原始护甲, 建筑重甲, 建筑, 基地, 电力, 占领, 尤里基地, 可入侵, 空下, 带扩展建筑
displayText: Yuri Construction Yard
displayText_zh: 尤里基地
displayDescription: Build Epsilon buildings\nPower: +40
displayDescription_zh: 建造厄普西隆建筑\n电力提供：40
isBuilding: true
footprint: -4,0,4,2
displayFootprint: -5,-1,5,3
constructionFootprint: -5,-1,5,3
fogOfWarSightRange: 26
numBitsOnDeath:100
canRepairBuildings: true
canRepairUnitsOnlyWithTags: 无
nanoRange: 9999
nanoRepairSpeed: 0
selfBuildRate: 0s
borrowResourcesWhileAlive: 电力=-40
armour: 99999
armourMinDamageToKeep: 1700
effectOnDeath: CUSTOM:土坑3*4, CUSTOM:土坑2*4, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7
@memory 返还资金:float


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 尤里基地停电
convertTo_keepCurrentTags: true
temporarilyAddTags: 无电力


[hiddenAction_建造单位音效-苏]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof052.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_建造单位音效-盟]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva052.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_建造单位音效-尤]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur052.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[graphics]
image:       尤里基地.png

default_frame: 13
total_frames: 23
imageScale:	1.02
#image_offsetX: 13
image_offsetY: -40
rotate_with_direction: false
repairEffect: NONE


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:  false
canAttackUnderwaterUnits: false


[movement]
movementType: NONE


[canBuild_尤里技能点]
name: 国旗-尤里
pos: 0
tech: 1
forceNano: true
isVisible: if not numberOfUnitsInTeam(withTag='国旗-尤里', greaterThan=1)
isGuiBlinking: if self.noUnitInTeam(withTag='国旗-尤里', incompleteBuildings=true)


[canBuild_基地防御]
name: 尤里基地防御
pos: 0
isVisible: if not numberOfUnitsInTeam(withTag='尤里基地防御', greaterThan=1)
isGuiBlinking: if self.noUnitInTeam(withTag='尤里基地防御', incompleteBuildings=true)


[canBuild_1]
@define number: 2
@define number2: 0
name: 生化反应炉
pos: ${number}
#tech: 1
#forceNano: true
isVisible: if self.resource(type='计数', equalTo=${number-1}) and self.hasFlag(id=${number2})
addResources: 计数=-${number-1}, ai计时=-99
isGuiBlinking: true


[canBuild_2]
@copyFromSection: canBuild_1
@define number: 3
name: 尤里矿厂


[canBuild_3]
@copyFromSection: canBuild_1
@define number: 4
#@define number2: 1
name: 尤里兵营


[canBuild_4]
@copyFromSection: canBuild_3
@define number: 5
name: 尤里战争工厂


[canBuild_5]
@copyFromSection: canBuild_1
@define number: 6
name: 心灵探测器


[canBuild_6]
@copyFromSection: canBuild_3
@define number: 7
name: 尤里船坞


[canBuild_7]
@copyFromSection: canBuild_1
@define number: 8
name: 尤里作战实验室


[canBuild_8]
@copyFromSection: canBuild_1
@define number: 9
name: 克隆缸
isLocked: if self.hasUnitInTeam(withTag='克隆缸', incompleteBuildings=true)
isLockedMessage: Clone Cylinder Plant can only have one at a time!
isLockedMessage_zh: 克隆缸同时只能有一个!


[canBuild_9]
@copyFromSection: canBuild_1
@define number: 10
name: 粉碎机


[canBuild_10]
@copyFromSection: canBuild_3
@define number: 11
name: 停机坪


[canBuild_11]
@copyFromSection: canBuild_1
@define number: 12
@define number2: 2
name: 加特林机炮建造


[canBuild_12]
@copyFromSection: canBuild_11
@define number: 13
name: 坦克碉堡


[canBuild_13]
@copyFromSection: canBuild_11
@define number: 14
name: 心灵控制塔


[canBuild_15]
@copyFromSection: canBuild_11
@define number: 16
name: 心灵冲击塔


[canBuild_17]
@copyFromSection: canBuild_11
@define number: 18
name: 基因突变器
isLocked: if self.hasUnitInTeam(withTag='基因突变器', incompleteBuildings=true)
isLockedMessage: Genetic Exciter can only have one at a time!
isLockedMessage_zh: 基因突变器同时只能有一个!


[canBuild_18]
@copyFromSection: canBuild_11
@define number: 19
name: 心灵控制器
isLocked: if self.hasUnitInTeam(withTag='心灵控制器', incompleteBuildings=true)
isLockedMessage: Psychic Dominator can only have one at a time!
isLockedMessage_zh: 心灵控制器同时只能有一个!


[canBuild_19]
name: 尤里墙墩
pos: 20
#forceNano: true
price: 资金=50
isGuiBlinking:	true
isVisible: if self.hasUnitInTeam(withTag="尤里兵营")
isLockedAlt2: if self.tags(includes='禁止攻击')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_20]
@copyFromSection: canBuild_19
@define number: 21
name: 尤里墙墩2


[canBuild_21]
@copyFromSection: canBuild_19
@define number: 22
name: 尤里墙撇


[canBuild_22]
@copyFromSection: canBuild_19
@define number: 23
name: 尤里墙那


[action_1]
text: Undeploy
text_zh: 取消基地部署
description: Soviet Mobile Construction Vehicle
description_zh: 整理形成基地车
pos: 1
displayType: action
buildSpeed: 1s
isActive: if not self.globalTeamTags(includes='禁止基地取消部署')
isVisible: if not self.isControlledByAI()
whenBuilding_playAnimation: 取消部署
whenBuilding_triggerAction: 卖声
convertTo: 尤里基地车
alsoTriggerAction: 取消


[action_支持]
text: Support
text_zh: 支持类
description: Expand the list of support buildings
description_zh: 展开支持类建筑列表
pos: 1.1
displayType: rally
buildSpeed: 0s
isActive: if self.queueSize(empty=true) and not self.hasFlag(id=0) and not self.resource(type='计数', greaterThan=0)
autoTrigger: if self.lastConverted(withinSeconds=1)
#isVisible: if not self.hasFlag(id=0) 
addResources: setFlag=0, unsetFlag=2


[action_防御]
text: Defensive
text_zh: 防御类
description: Expand the list of defensive buildings
description_zh: 展开防御类建筑列表
pos: 1.3
displayType: rally
buildSpeed: 0s
isActive: if self.queueSize(empty=true) and not self.hasFlag(id=2) and not self.resource(type='计数', greaterThan=0)
#isVisible: if not self.hasFlag(id=2) 
addResources: setFlag=2, unsetFlag=0


[action_取消]
text: Cancel
text_zh: 取消
description: Cancel process
description_zh: 取消建造
pos: 1.4
displayType: none
buildSpeed: 0s
autoTrigger: if self.resource(type='ai计时', greaterThan=9) and self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true)
isVisible: if self.resource(type='计数', greaterThan=0)
resourceAmount: 计数
resourceAmount_setValue: 0
alsoTriggerAction: ai计时2, 重置返回资金
addResourcesWithLogic: 资金=memory.返还资金


[action_建1]
@define number: 2
@define number2: 0
@define money: 600
@define name: 生化反应炉
buildSpeed: 6s

textAddUnitName: ${name}
descriptionAddFromUnit: ${name}
descriptionAddUnitStats: ${name}
displayType: none
pos: ${number}
price: 资金=${money}
setUnitMemory: 返还资金=${money}
switchPriceWithStreamingCost: true
addResources: 计数=${number-1}
isActive:  if not self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='入侵计时', empty=true)
isVisible: if not self.resource(type='计数', equalTo=${number-1}) and self.hasFlag(id=${number2})
unitShownInUI: ${name}
#ai_isHighPriority: true
ai_considerSameAsBuilding: ${name}
#alsoQueueAction: 建造完成, 建造完成2, 建造完成3
alsoTriggerAction: 建造完成, 建造完成2, 建造完成3


[action_建2]
@copyFromSection: action_建1
@define number: 3
@define money: 2000
@define name: 尤里矿厂
buildSpeed: 14s
isLocked: if self.noUnitInTeam(withTag='生化反应炉', incompleteBuildings=true)
isLockedMessage: Require Bio Reactor
isLockedMessage_zh: 解锁条件: 生化反应炉


[action_建3]
@copyFromSection: action_建1
@define number: 4
#@define number2: 1
@define money: 500
@define name: 尤里兵营
buildSpeed: 6s
isLocked: if self.noUnitInTeam(withTag='生化反应炉', incompleteBuildings=true)
isLockedMessage: Require Bio Reactor
isLockedMessage_zh: 解锁条件: 生化反应炉


[action_建4]
@copyFromSection: action_建3
@define number: 5
@define money: 2000
@define name: 尤里战争工厂
buildSpeed: 20s
isLocked: if self.noUnitInTeam(withTag='尤里兵营', incompleteBuildings=true)
isLockedMessage: Require Yuri Barracks
isLockedMessage_zh: 解锁条件: 尤里兵营


[action_建5]
@copyFromSection: action_建1
@define number: 6
@define money: 1200
@define name: 心灵探测器
buildSpeed: 14s
isLocked: if self.noUnitInTeam(withTag='尤里矿厂', incompleteBuildings=true)
isLockedMessage: Require Yuri Ore Refinery
isLockedMessage_zh: 解锁条件: 尤里矿厂
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建6]
@copyFromSection: action_建4
@define number: 7
@define money: 1200
@define name: 尤里船坞
buildSpeed: 18s


[action_建7]
@copyFromSection: action_建1
@define number: 8
@define money: 4000
@define name: 尤里作战实验室
buildSpeed: 50s
isLocked: if self.noUnitInTeam(withTag='心灵探测器', incompleteBuildings=true)
isLockedMessage: Require Yuri Mind Detector
isLockedMessage_zh: 解锁条件: 心灵探测器
isLockedAlt: if self.noUnitInTeam(withTag='尤里矿厂', incompleteBuildings=true)
isLockedAltMessage: Require Yuri Ore Refinery
isLockedAltMessage_zh: 解锁条件: 尤里矿厂
isVisible: if not self.resource(type='计数', equalTo=${number-1}) and self.hasFlag(id=${number2}) and not self.globalTeamTags(includes="三级限制")
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制2')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建8]
@copyFromSection: action_建1
@define number: 9
@define money: 1500
@define name: 克隆缸
buildSpeed: 20s
isLocked: if self.noUnitInTeam(withTag='尤里作战实验室', incompleteBuildings=true)
isLockedMessage: Require Yuri Tech Center 
isLockedMessage_zh: 解锁条件: 尤里作战实验室
isLockedAlt: if self.hasUnitInTeam(withTag='克隆缸', factoryQueue=true)
isLockedAltMessage: Clone Cylinder Plant can only have one at a time!
isLockedAltMessage_zh: 克隆缸同时只能有一个!
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制2')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建9]
@copyFromSection: action_建1
@define number: 10
@define money: 900
@define name: 粉碎机
buildSpeed: 14s
isLocked: if self.noUnitInTeam(withTag='尤里战争工厂', incompleteBuildings=true)
isLockedMessage: Require Yuri War Factory
isLockedMessage_zh: 解锁条件: 尤里战争工厂
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建10]
@copyFromSection: action_建3
@define number: 11
@define money: 1200
@define name: 停机坪
buildSpeed: 14s
isLocked: if self.noUnitInTeam(withTag='尤里兵营', incompleteBuildings=true)
isLockedMessage: Require Yuri Barracks
isLockedMessage_zh: 解锁条件: 尤里兵营
isLockedAlt2: if self.hasUnitInTeam(withTag='科技限制')
isLockedAlt2Message:  Is limited!
isLockedAlt2Message_zh: 科技限制


[action_建11]
@copyFromSection: action_建1
@define number: 12
@define number2: 2
@define money: 1000
@define name: 加特林机炮
buildSpeed: 10s
isActive:  if not self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='入侵计时', empty=true) and self.noUnitInTeam(withTag='禁止基地建造防御')
isLocked: if self.noUnitInTeam(withTag='尤里兵营', incompleteBuildings=true)
isLockedMessage: Require Yuri Barracks
isLockedMessage_zh: 解锁条件: 尤里兵营


[action_建12]
@copyFromSection: action_建11
@define number: 13
@define money: 600
@define name: 坦克碉堡
buildSpeed: 6s


[action_建13]
@copyFromSection: action_建11
@define number: 14
@define money: 1500
@define name: 心灵控制塔
buildSpeed: 16s
isActive:  if not self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='入侵计时', empty=true) and self.noUnitInTeam(withTag='禁止基地建造防御')
isLocked: if self.noUnitInTeam(withTag='心灵探测器', incompleteBuildings=true)
isLockedMessage: Require Yuri Mind Detector
isLockedMessage_zh: 解锁条件: 心灵探测器


[action_建15]
@copyFromSection: action_建11
@define number: 16
@define money: 1800
@define name: 心灵冲击塔
buildSpeed: 22s
isLocked: if self.noUnitInTeam(withTag='尤里作战实验室', incompleteBuildings=true)
isLockedMessage: Require Yuri Tech Center 
isLockedMessage_zh: 解锁条件: 尤里作战实验室
isVisible: if not self.resource(type='计数', equalTo=${number-1}) and self.hasFlag(id=${number2}) and not self.globalTeamTags(includes="三级限制")


[action_建17]
@copyFromSection: action_建11
@define number: 18
@define money: 3000
@define name: 基因突变器
buildSpeed: 30s
isLocked: if self.noUnitInTeam(withTag='尤里作战实验室', incompleteBuildings=true)
isLockedMessage: Require Yuri Tech Center 
isLockedMessage_zh: 解锁条件: 尤里作战实验室
isLockedAlt: if self.hasUnitInTeam(withTag='基因突变器', factoryQueue=true)
isLockedAltMessage: Genetic Exciter can only have one at a time!
isLockedAltMessage_zh: 基因突变器同时只能有一个!
isLockedAlt2: if self.hasUnitInTeam(withTag='禁止建造超级武器', factoryQueue=true)
isLockedAlt2Message: System limitations.
isLockedAlt2Message_zh: 系统限制。


[action_建18]
@copyFromSection: action_建11
@define number: 19
@define money: 5000
@define name: 心灵控制器
buildSpeed: 50s
isLocked: if self.noUnitInTeam(withTag='尤里作战实验室', incompleteBuildings=true)
isLockedMessage: Require Yuri Tech Center 
isLockedMessage_zh: 解锁条件: 尤里作战实验室
isLockedAlt: if self.hasUnitInTeam(withTag='心灵控制器', factoryQueue=true)
isLockedAltMessage: Psychic Dominator can only have one at a time!
isLockedAltMessage_zh: 心灵控制器同时只能有一个!
isLockedAlt2: if self.hasUnitInTeam(withTag='禁止建造超级武器', factoryQueue=true)
isLockedAlt2Message: System limitations.
isLockedAlt2Message_zh: 系统限制。


[hiddenAction_初始价值]
addResources: 价值=200


[hiddenAction_建造完成]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof048.wav:2
playAnimation: 建造中


[hiddenAction_建造完成2]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva048.wav:2
playAnimation: 建造中


[hiddenAction_建造完成3]
#buildSpeed: 1
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur048.wav:2
playAnimation: 建造中


[hiddenAction_自动部署]
autoTrigger: if self.lastConverted(withinSeconds=1) and not self.tags(includes='无电力')
autoTriggerOnEvent: created
playSoundAtUnit: ROOT:\音频\语音+音效\uplace.wav:2
playAnimation: jianzao


[hiddenAction_Ai分基地限制]
requireConditional: if self.isControlledByAI() and self.hasUnitInTeam(withTag='基地')
autoTriggerOnEvent: created
addResources: setFlag=3
#showMessageToAllPlayers: 触发


[hiddenAction_Ai分基地限制2]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInTeam(withTag='基地', equalTo=1) and self.hasFlag(id=3)
addResources: unsetFlag=3
#showMessageToAllPlayers: 触发2


[hiddenAction_禁止节点建造防御]
autoTrigger: if self.hasFlag(id=2) and not self.queueSize(empty=true) and not self.tags(includes='禁止节点建造防御')
temporarilyAddTags: 禁止节点建造防御
#showMessageToAllPlayers: 禁止节点建造防御


[hiddenAction_禁止节点建造防御2]
autoTrigger: if self.tags(includes='禁止节点建造防御') and self.queueSize(empty=true)
temporarilyRemoveTags: 禁止节点建造防御
#showMessageToAllPlayers: 禁止节点建造防御2


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=60, offsetRandomY=60), 盟军工程师(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=60, offsetRandomY=60), 苏联工程师(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=60, offsetRandomY=60), 尤里工程师(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_ai设置]
autoTrigger: if self.isControlledByAI() and (not self.hasFlag(id=0) or not self.hasFlag(id=1) or not self.hasFlag(id=2))
addResources: setFlag=0, setFlag=1, setFlag=2


[hiddenAction_ai计时]
autoTrigger: if self.isControlledByAI() and self.resource(type='计数', greaterThan=0) and self.queueSize(empty=true)
addResources: ai计时=1
#showMessageToAllPlayers: 1
#存在未知bug


[hiddenAction_ai计时2]
autoTrigger: if self.resource(type='ai计时', lessThan=0)
#showMessageToAllPlayers: 2
resourceAmount: ai计时
resourceAmount_setValue: 0


[hiddenAction_ai建造-船坞]
spawnUnits: 尤里船坞引子-Ai
#showMessageToAllPlayers: 产生引子
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='生化反应炉反应炉') and self.hasUnitInTeam(withTag='尤里矿厂') and not self.hasUnitInTeam(withTag='尤里船坞引子') and numberOfUnitsInTeam(withTag='船坞', lessThan=2, withinRange=650)


[hiddenAction_ai建造-电厂]
spawnUnits: 生化反应炉(addResources=资金:-600, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 触发
autoTrigger: if self.isControlledByAI() and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=600) and not self.resource(type="电力", greaterThan=0) and numberOfUnitsInTeam(withTag='生化反应炉', lessThan=14, withinRange=500)
resetCustomTimer: true


[hiddenAction_ai建造-加特林机炮]
spawnUnits: 加特林机炮建造(addResources=资金:-1000, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 建造稍戒炮
#spawnChance: 0.5
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='尤里兵营') and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=1000) and numberOfUnitsInTeam(withTag='加特林机炮', lessThan=8, withinRange=500)
resetCustomTimer: true


[hiddenAction_ai建造-心灵冲击塔]
spawnUnits: 心灵冲击塔(addResources=资金:-1800, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 建造巨炮
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='尤里作战实验室') and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=1800) and numberOfUnitsInTeam(withTag='心灵冲击塔', lessThan=5, withinRange=500) and (not self.globalTeamTags(includes="血肉长城")) and not self.globalTeamTags(includes="常规作战")
resetCustomTimer: true


[hiddenAction_ai建造-基因突变器]
spawnUnits: 基因突变器(addResources=资金:-3000, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 铁幕装置
autoTrigger: if self.isControlledByAI() and self.timeAlive(laterThanSeconds=600) and self.hasUnitInTeam(withTag='尤里作战实验室') and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=3000) and self.noUnitInTeam(withTag='基因突变器') and not self.hasFlag(id=3) and game.nukesEnabled() and numberOfUnitsInTeam(lessThan=1, withTag='禁止建造超级武器')
resetCustomTimer: true


[hiddenAction_ai建造-心灵控制器]
spawnUnits: 心灵控制器(addResources=资金:-5000, offsetRandomX=500, offsetRandomY=500, gridAlign=true, skipIfOverlapping=true)
#showMessageToAllPlayers: 核弹井
autoTrigger: if self.isControlledByAI() and self.timeAlive(laterThanSeconds=600) and self.hasUnitInTeam(withTag='尤里作战实验室') and self.customTimer(laterThanSeconds=5) and self.resource(type='资金', greaterThan=5000) and self.noUnitInTeam(withTag='心灵控制器') and not self.hasFlag(id=3) and game.nukesEnabled() and numberOfUnitsInTeam(lessThan=1, withTag='禁止建造超级武器')
resetCustomTimer: true


[hiddenAction_重置返回资金]
autoTrigger: if not self.resource(type='计数', greaterThan=0) and memory.返还资金!=0
setUnitMemory: 返还资金=0


[hiddenAction_遭受攻击]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='基地受击')
temporarilyAddTags: 基地受击


[hiddenAction_遭受攻击2]
autoTrigger: if not self.hasTakenDamage(withinSeconds=1) and self.tags(includes='基地受击')
temporarilyRemoveTags: 基地受击


[animation_建造中]
body_0s: {frame:14}
body_1s: {frame:22}


[animation_jianzao]
body_0s: {frame:0}
body_1s: {frame:13}


[animation_取消部署]
body_0s: {frame:13}
body_1s: {frame:0}


[effect_土坑2]
xOffsetRelativeRandom: 80
yOffsetRelativeRandom: 80


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[resource_计数]
displayName: 计数


[resource_ai计时]
displayName: ai计时


[template_zijin]
price: 3000
@global dianli: 40


[resource_碉堡计数]
displayName: 碉堡计数


[ai]
#buildPriority:100
useAsBuilder: true
#maxEachBase:1
#noneInBaseExtraPriority: 0.7
upgradedFrom: 尤里基地车
noneGlobalExtraPriority: 0.8
maxGlobal: 3
#ai_upgradePriority: 0.06

================================================================================
// FILE_PATH: ./1尤里军团/建筑–支持/尤里基地停电.ini
================================================================================


[core]
name: 尤里基地停电
copyFrom: 尤里基地.ini
showInEditor: false

nanoFactorySpeed: 0.75

[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 尤里基地
convertTo_keepCurrentTags: true
temporarilyRemoveTags: 无电力

================================================================================
// FILE_PATH: ./1尤里军团/建筑–支持/尤里基地防御停电.ini
================================================================================


[core]
name: 尤里基地防御停电
copyFrom: 尤里基地防御.ini
showInEditor: false

nanoFactorySpeed: 0.75


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 尤里基地防御
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1尤里军团/建筑–支持/生化反应炉.ini
================================================================================


[core]
name: 生化反应炉
price: 0
maxHp: 600
mass: 10000
radius: 25

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条4.xxhq
tags: 原始护甲, 建筑, 电力, 占领, 生化反应炉, 可入侵, 建筑轻甲, 电厂, 带扩展建筑
displayText: Bio Reactor
displayText_zh: 生化反应炉
displayDescription: You can increase the power by 50% by loading a creature..\nPower: +150
displayDescription_zh: 电力提供：150\n可以通过载入一位生物增加50%的电量。
borrowResourcesWhileAlive: 电力=-150
buildSpeed: 0
selfBuildRate: 1s
isBuilding: true
footprint: -1,0,2,1
constructionFootprint: -1,0,2,1
fogOfWarSightRange: 8
maxTransportingUnits: 5
transportUnitsHealBy: 0.08
transportUnitsRequireTag: 生物, 生物2
transportUnitsKillOnDeath: false
transportUnitsBlockOtherTransports: false
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:漏电
#soundOnDeath: ROOT:\音频\语音+音效\bpowdiea.wav, ROOT:\音频\语音+音效\bpowdieb.wav
@memory 保存电力:float


[hiddenAction_心控卸载]
autoTriggerOnEvent: transportingNewUnit
requireConditional: false


[hiddenAction_心控卸载2]
autoTriggerOnEvent: transportingNewUnit
requireConditional: false


[hiddenAction_人机初始兵]
autoTriggerOnEvent: created
requireConditional: if self.isControlledByAI()
addUnitsIntoTransport: 尤里新兵*5


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\生化反应炉图标.png
image:        生化反应炉.png

default_frame: 12
total_frames: 20
imageScale:	1.02
image_offsetX:12
image_offsetY:-18
#animation_idle_start: 12
#animation_idle_end: 15
#animation_idle_speed: 5
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_1]
autoTrigger: if not self.resource(type='入侵计时', empty=true) and self.resource(type='停电计时', empty=true)
addResources: 电力=-1000000
setResourcesWithLogic: 停电计时=90, 入侵计时=0
addGlobalTeamTags: 入侵停电
showMessageToPlayer: System warning: The power system is damaged by enemy infiltrating, need to wait 90 seconds to recover
showMessageToPlayer_zh: 系统警告：电力系统被敌人入侵破坏，需要等待90秒后恢复
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_2]
autoTrigger: if not self.resource(type='入侵计时', empty=true) and not self.resource(type='停电计时', empty=true)
setResourcesWithLogic: 停电计时=90, 入侵计时=0
showMessageToPlayer: System warning: The power system is again destroyed by the enemy, and the power cut is reset.
showMessageToPlayer_zh: 系统警告：电力系统再次被敌人入侵破坏，停电计时重置
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_冷冻停电]
autoTrigger: if self.tags(includes='禁止攻击') and not self.tags(includes='冷冻停电')
temporarilyAddTags: 冷冻停电
addResourcesWithLogic: 电力=-1*(memory.保存电力+150)


[hiddenAction_冷冻停电2]
autoTrigger: if self.tags(includes='冷冻停电') and not self.tags(includes='禁止攻击') and self.resource(type='入侵计时2', lessThan=1)
temporarilyRemoveTags: 冷冻停电
addResourcesWithLogic: 电力=memory.保存电力+150


[hiddenAction_飞碟停电]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='入侵模块', withinRange=40, greaterThan=0) and not self.tags(includes='飞碟停电')
temporarilyAddTags: 飞碟停电
addResourcesWithLogic: 电力=-1*(memory.保存电力+150)


[hiddenAction_飞碟停电2]
autoTrigger: if not numberOfUnitsInEnemyTeam(withTag='入侵模块', withinRange=40, greaterThan=0) and self.tags(includes='飞碟停电')
temporarilyRemoveTags: 飞碟停电
addResourcesWithLogic: 电力=memory.保存电力+150


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_加电]
autoTriggerOnEvent: transportingNewUnit
addResources: 电力=50
setUnitMemory: 保存电力=memory.保存电力+50


[hiddenAction_减电]
autoTriggerOnEvent: transportUnloadedOrRemovedUnit
addResources: 电力=-50
setUnitMemory: 保存电力=memory.保存电力-50


[hiddenAction_模式切换]
autoTrigger: if self.transportingCount(greaterThan=0) and not self.tags(includes='模式切换')
temporarilyAddTags: 模式切换
#addResources: 电力=250
#setUnitMemory: 保存电力=memory.保存电力+250


[hiddenAction_模式切换2]
autoTrigger: if not self.transportingCount(greaterThan=0) and self.tags(includes='模式切换')
temporarilyRemoveTags: 模式切换
#addResources: 电力=-250
#setUnitMemory: 保存电力=memory.保存电力-250
stopLastAnimation: true


[hiddenAction_电毁]
autoTriggerOnEvent: destroyed
addResourcesWithLogic: 电力=0-memory.保存电力


[hiddenAction_模式切换动画]
autoTrigger: if self.tags(includes='模式切换') and not self.hasFlag(id=29)
playAnimation: 模式切换


[hiddenAction_初始价值]
addResources: 价值=35


[animation_基本模式]
onActions:  idle
body_0s: {frame:12}
body_1s: {frame:15}


[animation_模式切换]
body_0s: {frame:16}
body_1.05s: {frame:19}


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:11}


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: NONE


[effect_漏电]
image: ROOT:\共享文件\1类\漏电.png
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 9
animateFrameStart: 0
animateFrameEnd: 8
animateFrameSpeed: 0.15
xOffsetRelative: 5
yOffsetRelative: 0
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 600
@global dianli: 200


[ai]
buildPriority: 0.04
recommendedInEachBaseNum: 4
recommendedInEachBasePriorityIfUnmet: 0.25
noneInBaseExtraPriority: 0.4
maxEachBase: 14

================================================================================
// FILE_PATH: ./1尤里军团/建筑–支持/尤里作战实验室.ini
================================================================================


[core]
name: 尤里作战实验室
price: 0
maxHp: 2000
mass: 50000
radius: 35

#overrideAndReplace: repairBay
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq
tags: 原始护甲, 建筑, 占领, 尤里作战实验室, 建筑轻甲, 尤里高科技共用, 带扩展建筑, 高科资金
displayText: Yuri Tech Center
displayText_zh: 尤里作战实验室
displayDescription: Unlock some units\nPower: -350
displayDescription_zh: 解锁部分单位\n电力占用：350
borrowResourcesWhileAlive: 电力=350
footprint: -2,1,1,1
displayFootprint: -3,0,2,2
constructionFootprint: -3,0,2,2
isBuilding: true
techLevel: 2
buildSpeed: 0
selfBuildRate: 1s
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 360


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 360


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\尤里作战实验室图标.png
image:        尤里作战实验室.png

default_frame: 12
total_frames: 27
imageScale: 1.02
image_offsetX: -24
image_offsetY: -18
#image_wreak:  NONE
animation_idle_start: 12
animation_idle_end: 26
animation_idle_speed: 6
rotate_with_direction:false
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=50, offsetRandomY=50)


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:12}


[hiddenAction_初始价值]
addResources: 价值=100


[effect_电力]
#scaleFrom:2.5
#scaleTo:2.5
xOffsetRelative: -30
yOffsetRelative: 40


[effect_土坑]
yOffsetRelative: -20


[effect_土坑2]
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40


[effect_资金]
life: 150
fadeOut: true
fadeInTime: 5
image: ROOT:\共享文件\1类\资金加.png
scaleTo: 1.0
scaleFrom: 1.0
alpha: 1.2
attachedToUnit:false
ySpeedAbsolute: -0.25
yOffsetRelative: 40
alwayStartDirAtZero:true


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 4000
@global dianli: -300


[ai]
buildPriority: 0.30
noneInBaseExtraPriority: 0.50
recommendedInEachBaseNum: 1
recommendedInEachBasePriorityIfUnmet: 0.5

================================================================================
// FILE_PATH: ./1尤里军团/建筑–支持/粉碎机.ini
================================================================================


[core]
name: 粉碎机
price: 0
maxHp: 1500
mass: 20000
radius: 35

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq
tags: 原始护甲, 建筑, 维修, 占领, 可入侵, 建筑轻甲, 粉碎机, 带扩展建筑
displayText: Grinder
displayText_zh: 粉碎机
displayDescription: The recycling unit receives 50% of its price.\nPower: -100
displayDescription_zh: 回收载具类型会获得100%的价钱。\n回收载具类型会获得50%的价钱。\n电力占用：100
borrowResourcesWhileAlive: 电力=100
footprint: -4,-1,0,0
displayFootprint: -4,-2,2,1
constructionFootprint: -4,-2,2,1
isBuilding: true
buildSpeed: 0
selfBuildRate: 1s
maxTransportingUnits: 2
#transportUnitsRequireTag: 
transportUnitsBlockOtherTransports: false
transportUnitsKillOnDeath: false
transportUnitsHealBy: 0.6
transportUnitsEachUnitAlwaysUsesSingleSlot: true
exit_x: 0
exit_y: 0
exit_dirOffset: 116
#exit_moveAwayAmount:100
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[hiddenAction_心控卸载]
autoTriggerOnEvent: transportingNewUnit
requireConditional: false


[hiddenAction_心控卸载2]
autoTriggerOnEvent: transportingNewUnit
requireConditional: false


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\粉碎机图标.png
image:        粉碎机.png

drawLayer: bottom
#wreaks/bottom/ground/ground2/top
default_frame: 14
total_frames: 39
image_turret: NONE
imageScale: 1.02
image_offsetX: -20
image_offsetY: -40
animation_idle_start: 14
animation_idle_end: 14
animation_idle_speed: 1
rotate_with_direction: false
whenBeingBuiltMakeTransparentTill: 0
showTransportBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[attachment_1]
x: 0
y: 0

canAttack: false
isUnselectable: false
#idleDir: 180
#lockRotation: true
isVisible: false
keepAliveWhenParentDies: true
canBeAttackedAndDamaged: true
addTransportedUnits: true
unloadInCurrentPosition: true
deattachIfWantingToMove:true


[hiddenAction_1]
autoTrigger: if not self.transportingCount(empty=true) and self.resource(type="电力",greaterThan=0) and self.resource(type='入侵计时', empty=true)
#resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\bgrinda.wav:2
spawnEffects: CUSTOM:修理, CUSTOM:闪光2, CUSTOM:闪光
playAnimation: 动画


[hiddenAction_2]
autoTrigger: if not self.transportingCount(empty=true) and (not self.resource(type="电力",greaterThan=0) or not self.resource(type='入侵计时', empty=true))
startUnloadingTransport: true


[hiddenAction_3]
autoTrigger: if self.transportingUnitWithTags(includes='禁入') and not self.tags(includes='清除') and self.resource(type="电力",greaterThan=0)
temporarilyAddTags: 清除
#showMessageToAllPlayers: 清清1


[hiddenAction_4]
autoTrigger: if not self.transportingUnitWithTags(includes='禁入') and self.tags(includes='清除')
temporarilyRemoveTags: 清除


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_初始价值]
addResources: 价值=50


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:14}


[animation_取消部署]
body_0s: {frame:14}
body_1s: {frame:0}


[animation_动画]
body_0s: {frame:15}
body_1s: {frame:38}


[effect_土坑2]
xOffsetRelativeRandom: 50
yOffsetRelativeRandom: 50


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_修理]
image: ROOT:\共享文件\1类\灰.png
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 6
alpha: 1.2
life: 60
hSpeed: 0.6
hOffsetRandom: 0.2
dirOffsetRandom: 180
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 3
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[effect_闪光]
#priority:critical
image: ROOT:\共享文件\1类\闪光.png
color: #FFFFFF
life: 8
scaleFrom: 0.4
scaleTo: 0.5
alpha: 1.5
fadeOut: true
fadeInTime: 2
drawUnderUnits: false
attachedToUnit: false
alwayStartDirAtZero: true
atmospheric: false
#dirOffset: 90
#xOffsetRelative: 0
xOffsetRelativeRandom: 0.6
yOffsetRelativeRandom: 0.6
xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5


[effect_闪光2]
@copyFromSection: effect_闪光
#priority:veryhigh
color: #FFAA00
life: 10
scaleFrom: 1.1
scaleTo: 1.2
alpha: 1
xOffsetRelativeRandom: 1.2
yOffsetRelativeRandom: 1.2
xSpeedAbsoluteRandom: 0.75
ySpeedAbsoluteRandom: 0.75
showInFog: true


[template_zijin]
price: 1000
@global dianli: -150


[ai]
buildPriority: 0.2
recommendedInEachBaseNum: 1
recommendedInEachBasePriorityIfUnmet: 0.2
noneInBaseExtraPriority: 0.3
maxEachBase: 1

================================================================================
// FILE_PATH: ./1尤里军团/建筑–支持/克隆缸.ini
================================================================================


[core]
name: 克隆缸
price: 0
maxHp: 800
mass: 10000
radius: 20

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条4.xxhq
tags: 原始护甲, 建筑, 占领, 克隆缸, 可入侵, 建筑轻甲, 加资金, 带扩展建筑
displayText: Clone Cylinder
displayText_zh: 克隆缸
displayDescription: Power: -200\nWhen building infantry units, the clone tank will build 50% of the funds of the corresponding infantry units \n Note: because of the mechanism of Rusted Warfare, the clone mechanism is extremely troublesome, so this method is adopted.
displayDescription_zh: 电力占用：200\n建造步兵单位时克隆缸返会建造对应步兵单位50%的资金\n注：因为铁锈战争的机制，克隆机制做起来及其麻烦，所以采用这种方法。
borrowResourcesWhileAlive: 电力=200
buildSpeed: 0
selfBuildRate: 1s
isBuilding: true
footprint: -1,0,2,1
constructionFootprint: -1,0,2,1
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7
soundOnDeath: ROOT:\音频\语音+音效\bpowdiea.wav:2, ROOT:\音频\语音+音效\bpowdieb.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\克隆缸图标.png
image:        克隆缸.png

default_frame: 12
total_frames: 19
imageScale:	1.02
image_offsetX:12
image_offsetY:-18
animation_idle_start: 12
animation_idle_end: 18
animation_idle_speed: 6
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=40, offsetRandomY=40)


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:12}


[hiddenAction_初始价值]
addResources: 价值=70


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 2500
@global dianli: 200


[ai]
buildPriority: 0.04
recommendedInEachBaseNum: 4
recommendedInEachBasePriorityIfUnmet: 0.25
noneInBaseExtraPriority: 0.4
maxEachBase: 14

================================================================================
// FILE_PATH: ./1尤里军团/建筑–支持/心灵探测器.ini
================================================================================


[core]
name: 心灵探测器
price: 0
maxHp: 800
mass: 50000
radius: 25

#overrideAndReplace: repairBay
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条4.xxhq
tags: 原始护甲, 建筑, 科技, 占领, 心灵探测器, 可入侵, 建筑轻甲, 带扩展建筑, 反隐形, 反伪装
displayText: Yuri Mind Detector
displayText_zh: 心灵探测器
displayDescription: It can detect nearby invisible units and spies.\nPower: -150
displayDescription_zh: 能探测出附近的隐形单位和间谍\n电力占用：150
borrowResourcesWhileAlive: 电力=150
footprint: -2,0,2,1
displayFootprint: -2,-1,2,1
constructionFootprint: -2,-1,2,1
isBuilding: true
techLevel: 1
buildSpeed: 0
selfBuildRate: 1s
fogOfWarSightRange: 40
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\心灵探测器图标.png
image:        心灵探测器.png

default_frame: 11
total_frames: 32
imageScale: 1.1
image_offsetX: 0
image_offsetY: -30
image_shadow: NONE
#_ANIMATED
#ROOT:\共享文件\1类\阴影4.png
shadowOffsetX:0
shadowOffsetY:0
animation_idle_start: 12
animation_idle_end: 31
animation_idle_speed: 8
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_初始价值]
addResources: 价值=55


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:11}


[effect_土坑2]
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 1000


[ai]
buildPriority: 0.02
noneInBaseExtraPriority: 0.2
recommendedInEachBaseNum: 1
recommendedInEachBasePriorityIfUnmet: 0.1

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/主脑坦克控件.ini
================================================================================


[core]
name: 主脑坦克控件
price: 0
maxHp: 200
mass: 120
radius: 8

tags: 心控者
displayText: 
displayText_zh: 主脑坦克控件
@memory 控制单位:unit
disableAllUnitCollisions: true
explodeOnDeath:false
effectOnDeath: NONE
hideScorchMark: true
showOnMinimap: false
showInEditor: false
isUnselectable: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0


[graphics]
image: ROOT:\共享文件\1类\隐藏.png

#imageScale:	0.56
total_frames: 1
isVisibleToEnemies: false


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.hasParent(withTag='禁止攻击') and not self.hasParent(withTag='无电力')
canAttackUnderwaterUnits: false

#isFixedFiring: true
turretSize: 5
turretTurnSpeed: 1
shootDelay: 120
disablePassiveTargeting: true
aimOffsetSpread: 0
#canOnlyAttackUnitsWithTags: 心控
canOnlyAttackUnitsWithoutTags: 免疫心控, 铁幕保护, 免伤, 力场保护, 超时空免伤, 特殊免伤, 建筑, 建筑2


[movement]
movementType: none


[turret_1]
x: 0
y: 0

#warmup: 180
limitingRange: 240
shoot_sound: ROOT:\音频\语音+音效\iyurat1a.wav:2
onShoot_triggerActions: 记录单位
projectile: 1


[turret_2]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 2


[projectile_1]
directDamage: 1
life: 60

instant: true
convertHitToSourceTeam: true
explodeEffect: CUSTOM:击中
mutator7_ifUnitWithoutTags: 无
mutator7_directDamageMultiplier: 0


[projectile_2]
directDamage: 0
life: 120

image: ROOT:\共享文件\1类\心控标.png
drawSize: 1.0
speed: 20
targetSpeed: 100
#initialUnguidedSpeedHeight: 2
#gravity: 0.18
ballistic: true
ballistic_delaymove_height: 100
ballistic_height: 100
#trailEffect: CUSTOM:尾烟*1
#trailEffectRate: 0.5
explodeEffect: CUSTOM:击中


[action_取消控制]
text: Cancel %{select(self.teamId!=memory.控制单位.teamId, 'lock', 'control')}
text_zh: 取消%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}
description: Cancel the currently %{select(self.teamId!=memory.控制单位.teamId, 'locked', 'controled')} unit, \nthe currently %{select(self.teamId!=memory.控制单位.teamId, 'locked', 'controled')} unit: %{memory.控制单位}description_zh: 取消当前%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}的单位，\n当前%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}的单位：%{memory.控制单位}
description_zh: 取消当前%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}的单位，\n当前%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}的单位：%{memory.控制单位}
autoTrigger: if (memory.控制单位!=nullUnit and (memory.控制单位.hp<=0 or memory.控制单位.readUnitMemory('自己id', type='float', default=-3)==self.teamId)) or (self.hasParent(withTag='禁止攻击') or self.hasParent(withTag='无电力'))
displayType: action
isVisible: if memory.控制单位.hp>0
buildSpeed: 0s
#showMessageToAllPlayers: 已取消
setUnitMemory: 控制单位=nullUnit


[hiddenAction_自动攻击]
autoTrigger: if memory.控制单位.hp<=0 and numberOfUnitsInEnemyTeam(withTag='心控', greaterThan=0, withinRange=240) and not self.hasActiveWaypoint(type='attack') and not self.hasActiveWaypoint(type='move')
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 心控
addWaypoint_target_nearestUnit_maxRange: 240
#addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 自动攻击


[hiddenAction_记录单位]
setUnitMemory: 控制单位=thisActionTarget
#showMessageToAllPlayers: 记录单位：%{thisActionTarget}
clearActiveWaypoint: true


[hiddenAction_维持单位]
autoTrigger: if memory.控制单位.hp>0 and memory.控制单位.teamId==self.teamId
fireTurretXAtGround: 2
fireTurretXAtGround_withTarget: memory.控制单位
#showMessageToAllPlayers: 维持单位：%{memory.控制单位}


[hiddenAction_脱离死亡]
autoTrigger: if not self.hasParent()
addResources: hp=-1000


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟.png
life:25
fadeOut:true
attachedToUnit:false
color:#FFFFFF
fadeInTime:3
scaleFrom:2
scaleTo:1.5
alpha:0.8
drawUnderUnits:false
atmospheric:true


[effect_击中]
image: ROOT:\共享文件\1类\圈.png
life: 60
#color:#FF0B2096
attachedToUnit: false
fadeInTime: 0
fadeOut: true
scaleFrom: 0
scaleTo: 2
alpha: 1
drawUnderUnits: false
alwayStartDirAtZero: true


#[template_zijin]
#price: 1000

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/高速采矿车2.ini
================================================================================


[core]
name: 高速采矿车2
copyFrom: 高速采矿车.ini

showInEditor: false


[movement]
movementType: LAND

moveSpeed: 1.65


[hiddenAction_加速]
autoTrigger: if self.resource(type='加速时间', greaterThan=59)
convertTo: 高速采矿车
convertTo_keepCurrentTags: true
addResources: 加速时间=-30


[hiddenAction_开始计时]
autoTriggerOnEvent: created
addResources: 加速时间=0


[hiddenAction_加速时间2]
autoTrigger: if self.resource(type='加速时间', lessThan=60)
addResources: 加速时间=1


[hiddenAction_1级显示] 
autoTrigger: false


[hiddenAction_2级显示] 
autoTrigger: false


[hiddenAction_3级显示] 
autoTrigger: false


[hiddenAction_生命保险计时2]
spawnEffects: NONE


[hiddenAction_临时救援2] 
spawnEffects: NONE


[ai]
upgradedFrom: 高速采矿车

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/磁电坦克炮塔.ini
================================================================================


[core]
name: 磁电坦克炮塔
price: 2000
maxHp:400
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 低级, 炮塔, 磁电坦克炮塔


[graphics]
image:        磁电坦克炮塔.png

total_frames: 1
imageScale:	1.0
frame_width: 150
frame_height: 150
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 15
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 15
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if parent.isMoving==false and not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 20
turretTurnSpeed: 3
maxAttackRange: 420
shootDelay: 180
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 生物, 生物2


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 3.0
turnAcceleration: 3.0


[turret_1]
x: 0
y: 0

barrelHeight: 14
barrelY: 10
shoot_sound: ROOT:\音频\语音+音效\vmagat2a.wav:1.2
shoot_sound_vol: 1.5
projectile:1


[turret_2]
x: 0
y: 0

barrelHeight: 14
barrelY: 10
shoot_flame: CUSTOM:开火
delay: 5
projectile:2


[projectile_1]
directDamage: 200
life: 60

instant: true
hitSound: true
drawSize: 0
#spawnUnit: 磁力场
explodeEffect: NONE
#pushForce: 1000
#pushVelocity: -10000
buildingDamageMultiplier: 1
mutator5_ifUnitWithTags: 生物, 生物2, 装甲
mutator5_directDamageMultiplier: 0
mutator6_ifUnitWithTags: 特殊免伤
mutator6_directDamageMultiplier: 0
mutator7_ifUnitWithTags: 防御建筑
mutator7_directDamageMultiplier: 1.00


[projectile_2]
directDamage: 0
life: 15

beamImage: ROOT:\共享文件\1类\激光源2.png 
color: #B07C00C4
#teamColorRatio:1
#pushForce: 1000
pushVelocity: -3
moveWithParent: true
instant: true
instantReuseLast: true
lightColor: #B07C00C4
lightSize: 0.5
drawSize: 0
hitSound: true
explodeEffect: NONE


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=390)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 建筑
addWaypoint_target_nearestUnit_maxRange: 390
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=45


[effect_轨迹]
image: ROOT:\共享文件\1类\映射.png
color: #B07C00C4
scaleFrom: 0.5
scaleTo: 0.5
alpha: 0.5
life: 30
fadeOut: true
drawUnderUnits: true
alwayStartDirAtZero: true
attachedToUnit: false


[effect_开火]
image: ROOT:\共享文件\1类\闪光2.png
life: 6
color: #B07C00C4
scaleFrom: 0.8
scaleTo: 1.4
alpha: 1.2
fadeInTime: 0
fadeOut: true
dirOffsetRandom: 180
dirSpeed: 3
drawUnderUnits: false
#alwayStartDirAtZero:true
attachedToUnit: true



================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/狂风坦克.ini
================================================================================


[core]
name: 狂风坦克
price: 资金=600
maxHp: 380
mass: 6000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具中甲, 碾压, 克装甲, 可空, 空下, 狂风坦克, 可进入坦克碉堡
displayText: Lasher Light Tank
displayText_zh: 狂风坦克
displayDescription: Target: Ground unit\nDamage creature: Medium\nDamage armor: High\nDamage building: High\nSpecial: Can crush infantry.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：中\n伤害装甲：高\n伤害建筑：高\n特殊：碾压步兵
transportSlotsNeeded: 4
#displayRadius: 20
buildSpeed: 5.0s
fogOfWarSightRange: 14
soundOnAttackOrder:  ROOT:\音频\语音+音效\vlasata.wav:2, ROOT:\音频\语音+音效\vlasatb.wav:2, ROOT:\音频\语音+音效\vlasatc.wav:2, ROOT:\音频\语音+音效\vlasatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vlasmoa.wav:2, ROOT:\音频\语音+音效\vlasmob.wav:2, ROOT:\音频\语音+音效\vlasmoc.wav:2, ROOT:\音频\语音+音效\vlasmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vlassea.wav:2, ROOT:\音频\语音+音效\vlasseb.wav:2, ROOT:\音频\语音+音效\vlassec.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vlasstaa.wav:1.2, ROOT:\音频\语音+音效\vlasstab.wav:1.2, ROOT:\音频\语音+音效\vlasstac.wav:1.2


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\狂风坦克图标.png
image:        狂风坦克.png

total_frames: 1
imageScale:	1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 1.65
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 3.0
turnAcceleration: 1.5
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 180
limitingMinRange: 20
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 狂风坦克炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=20


[template_zijin]
price: 600

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/突击摩托车.ini
================================================================================


[core]
name: 突击摩托车
price: 资金=500
maxHp: 120
mass: 2000
radius: 12

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具轻甲, 克装甲, 可空, 空下, 突击摩托车, 可进入坦克碉堡, 小型
displayText: Motorcycle
displayText_zh: 突击摩托车
displayDescription: Target: Ground unit\nDamage creature: Medium\nDamage armor: High\nDamage building: Low 
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：中\n伤害装甲：高\n伤害建筑：低
transportSlotsNeeded: 2
#displayRadius: 20
buildSpeed: 5s
fogOfWarSightRange: 14
maxTransportingUnits: 1
transportUnitsRequireTag: 生物
transportUnitsKillOnDeath: false
transportUnitsBlockOtherTransports: false
soundOnAttackOrder:  ROOT:\音频\语音+音效\vcycata.wav:2, ROOT:\音频\语音+音效\vcycatb.wav:2, ROOT:\音频\语音+音效\vcycatc.wav:2, ROOT:\音频\语音+音效\vcycatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vcycmoa.wav:2, ROOT:\音频\语音+音效\vcycmob.wav:2, ROOT:\音频\语音+音效\vcycmoc.wav:2, ROOT:\音频\语音+音效\vcycmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vcycsea.wav:2, ROOT:\音频\语音+音效\vcycseb.wav:2, ROOT:\音频\语音+音效\vcycsec.wav:2, ROOT:\音频\语音+音效\vcycsed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vrocstaa.wav, ROOT:\音频\语音+音效\vrocstab.wav, ROOT:\音频\语音+音效\vrocstac.wav


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\突击摩托车图标.png
image:        突击摩托车.png

total_frames: 1
imageScale:	1.0
frame_width: 80
frame_height: 80
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击') and not self.tags(includes='持续性攻击')
canAttackUnderwaterUnits: false

isFixedFiring:true
turretSize: 0
turretTurnSpeed: 6
#maxAttackRange: 210
shootDelay: 90


[movement]
movementType: LAND

moveSpeed: 2.8
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 3.0
turnAcceleration: 2.0
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

warmup: 0
barrelX: -4
barrelY: 10
barrelHeight: 10
limitingRange: 225
limitingMinRange: 0
shoot_flame: CUSTOM:映射
shoot_light: #FFFFFFFF
shoot_sound: ROOT:\音频\语音+音效\vrocweaa.wav
shoot_sound_vol: 2
projectile: 1


[turret_2]
x: 0
y: 10

copyFrom: 1
barrelX: 4
linkDelayWithTurret: 1
attachedTo:  1
slave: true
warmup: 20


[projectile_1]
areaDamage: 35
life: 240

areaRadius: 20
frame: 4
speed: 0
targetSpeed: 8
drawSize: 0.80
trailEffect: true
trailEffectRate: 1.0
explodeEffect: CUSTOM:爆炸
autoTargetingOnDeadTarget: true
friendlyFire: true
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.40
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.40
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.40
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.80
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.20
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.00


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=225)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 225
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=20


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸16.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
@copyFromSection: effect_映射
scaleFrom:0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false


[template_zijin]
price: 500

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/狂风坦克炮塔.ini
================================================================================


[core]
name: 狂风坦克炮塔
price: 2000
maxHp:400
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 低级, 炮塔, 狂风坦克炮塔


[graphics]
image:        狂风坦克炮塔.png

total_frames: 1
imageScale:	1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 15
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 15
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 20
turretTurnSpeed: 3
#maxAttackRange: 150
shootDelay: 120
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 4.5
turnAcceleration: 4.5


[turret_1]
x: 0
y: 0

barrelX: 0
barrelY: 50
barrelHeight: 10
limitingRange: 180
limitingMinRange: 60
shoot_flame: CUSTOM:映射, CUSTOM:开火
shoot_light:#FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vlasatta.wav
shoot_sound_vol: 2
onShoot_triggerActions: 开火冲击波
recoilOffset: -1
recoilOutTime: 5
recoilReturnTime: 10


[projectile_1]
areaDamage: 65
life: 120

areaRadius: 30
frame: 5
speed: 12
drawSize: 0.9
image: ROOT:\共享文件\1类\炮弹2.png
targetGround: true
largeHitEffect: true
hitSound: true
explodeEffect: CUSTOM:映射3, CUSTOM:爆炸, CUSTOM:开火冲击波
effectOnCreate: CUSTOM:映射2
lightCastOnGround: true
#initialUnguidedSpeedHeight: 1.2
#gravity: 0.18
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.8
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=180)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 180
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=20


[hiddenAction_升1级] 
setUnitStats: shootDamageMultiplier=1.2, shootDelayMultiplier=0.9, moveSpeed=${movement.moveSpeed*1.1}, maxTurnSpeed=${movement.maxTurnSpeed*1.5}


[hiddenAction_升2级] 
setUnitStats: shootDamageMultiplier=1.4, shootDelayMultiplier=0.85, moveSpeed=${movement.moveSpeed*1.2}, maxTurnSpeed=${movement.maxTurnSpeed*2}


[hiddenAction_升3级] 
setUnitStats: shootDamageMultiplier=1.6, shootDelayMultiplier=0.8, moveSpeed=${movement.moveSpeed*1.3}, maxTurnSpeed=${movement.maxTurnSpeed*2.5}


[effect_爆炸]
image: ROOT:\共享文件\1类\炸毁2.png
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 0.80
scaleTo: 0.80
total_frames: 17
animateFrameStart: 0
animateFrameEnd: 16
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
image: ROOT:\共享文件\1类\映射.png
life: 30
scaleFrom: 0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
#scaleTo: 0.8
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/加特林炮塔3.ini
================================================================================

[core]
name: 加特林炮塔3
copyFrom: 加特林炮塔.ini
showInEditor:false


[hiddenAction_射速加快]
autoTrigger: false
playSoundAtUnit: ROOT:\音频\语音+音效\vgatlo7a.wav:2
convertTo: 加特林炮塔3
convertTo_keepCurrentFields: moveSpeed, maxTurnSpeed, shootDamageMultiplier, shootDelayMultiplier


[hiddenAction_射击停止]
autoTrigger: if not self.isAttacking() and self.customTimer(laterThanSeconds=5)
playSoundAtUnit: ROOT:\音频\语音+音效\vgatlo9a.wav:2
addResources: ammo=-1000
convertTo: 加特林炮塔
convertTo_keepCurrentFields: moveSpeed, maxTurnSpeed, shootDamageMultiplier, shootDelayMultiplier


[attack]

shootDelay: 4


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\vgatlo8a.wav, ROOT:\音频\语音+音效\vgatlo8b.wav
shoot_sound_vol: 2


[turret_2]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\vgatlo8a.wav, ROOT:\音频\语音+音效\vgatlo8b.wav
shoot_sound_vol: 2


[effect_开火]
image: ROOT:\共享文件\1类\开火特效2.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.35
alwayStartDirAtZero:true
attachedToUnit:false


================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/幽灵运输车.ini
================================================================================


[core]
name: 幽灵运输车
price: 资金=1000
maxHp: 260
mass: 2000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具轻甲, 碾压, 克装甲, 可空, 空下, 幽灵运输车
displayText: Ghost Transport
displayText_zh: 幽灵运输车
displayDescription: Tnvisible transport vehicle.\n If Ghost Transport are too close to infantry or encounter anti stealth units, they will appear.
displayDescription_zh: 隐形运输载具\n如果太靠近步兵或者遇到反隐形单位会现形。
transportSlotsNeeded: 3
#displayRadius: 20
buildSpeed: 12s
fogOfWarSightRange: 14
maxTransportingUnits: 4
transportUnitsRequireTag: 生物
transportUnitsKillOnDeath: false
transportUnitsBlockOtherTransports: false
soundOnMoveOrder: ROOT:\音频\语音+音效\vghosmoa.wav:2, ROOT:\音频\语音+音效\vghosmob.wav:2, ROOT:\音频\语音+音效\vghosmoc.wav:2, ROOT:\音频\语音+音效\vghosmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vghossea.wav:2, ROOT:\音频\语音+音效\vghosseb.wav:2, ROOT:\音频\语音+音效\vghossec.wav:2, ROOT:\音频\语音+音效\vghossed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vrocstaa.wav:2, ROOT:\音频\语音+音效\vrocstab.wav:2, ROOT:\音频\语音+音效\vrocstac.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\幽灵运输车图标.png
image:        幽灵运输车.png

total_frames: 1
imageScale:	1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 1.80
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 3.0
turnAcceleration: 1.0
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[action_位置1]
@define slotId: 0
isVisible: if self.transportingCount(slot=${slotId}, greaterThan=0)
isActive: if not self.isMoving()
buildSpeed: 0s
text: unload
text_zh: 卸载
textAddUnitName: unitRef self.transporting(slot=${slotId})
description: Click to unload unit
description_zh: 点击卸载单位
displayType: action
unitShownInUI: unitRef self.transporting(slot=${slotId})
forceUnloadTransportNow:true
forceUnloadTransportNow_onlyOnSlot:${slotId}
#isActive: if self.height(lessThan=3)


[action_位置2]
@copyFromSection: action_位置1
@define slotId: 1


[action_位置3]
@copyFromSection: action_位置1
@define slotId: 2


[action_位置4]
@copyFromSection: action_位置1
@define slotId: 3


[hiddenAction_1]
autoTriggerOnEvent: created
autoTrigger: if self.hasTakenDamage(laterThanSeconds=3) and (not numberOfUnitsInEnemyTeam(withTag='反隐形', greaterThan=0, withinRange=180) or not numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=90))
convertTo: 幽灵运输车2
convertTo_keepCurrentTags: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=35


[template_zijin]
price: 1000

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/加特林炮塔2.ini
================================================================================

[core]
name: 加特林炮塔2
copyFrom: 加特林炮塔.ini
showInEditor:false


[hiddenAction_射速加快]
autoTrigger: if self.ammo(greaterThan=100)
playSoundAtUnit: ROOT:\音频\语音+音效\vgatlo7a.wav:2
convertTo: 加特林炮塔3
convertTo_keepCurrentFields: moveSpeed, maxTurnSpeed, shootDamageMultiplier, shootDelayMultiplier


[hiddenAction_射击停止]
autoTrigger: if not self.isAttacking() and self.customTimer(laterThanSeconds=5)
playSoundAtUnit: ROOT:\音频\语音+音效\vgatlo6a.wav:2
addResources: ammo=-1000
convertTo: 加特林炮塔
convertTo_keepCurrentFields: moveSpeed, maxTurnSpeed, shootDamageMultiplier, shootDelayMultiplier


[attack]

shootDelay: 8


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\vgatlo5a.wav, ROOT:\音频\语音+音效\vgatlo5b.wav
shoot_sound_vol: 2


[turret_2]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\vgatlo5a.wav, ROOT:\音频\语音+音效\vgatlo5b.wav
shoot_sound_vol: 2


================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/高速采矿车.ini
================================================================================


[core]
name: 高速采矿车
price: 资金=1400
maxHp: 1100
mass: 8000
radius: 25

copyFrom: ROOT:\共享文件\3类\血溅.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 免疫心控, 载具中甲, 矿车, 碾压, 克生物, 可空, 空下, 高速采矿车, 不可劫持, 免辐射, 辐射减伤
#showActionsWithMixedSelectionIfOtherUnitsHaveTag: 矿车
#logIfCreditResourceUsed: true
displayText: Swift Miner
displayText_zh: 高速采矿车
displayDescription: Special: The movement speed will be increased after a period of time.\n Can crush infantry.\nSelf-healing.
displayDescription_zh: 特殊：一段时间后加快移动速度\n碾压步兵\n可自我修复
canReclaimResources: true
canReclaimResourcesOnlyWithTags: 矿石
#canReclaimResourcesNextSearchRange: 500
nanoRangeForReclaim: 0
nanoRangeForReclaimIsMelee: true
buildSpeed: 14s
fogOfWarSightRange: 10
transportSlotsNeeded: 4
selfRegenRate: 0.06
#numBitsOnDeath: 5
soundOnAttackOrder:  ROOT:\音频\语音+音效\vslaata.wav:2, ROOT:\音频\语音+音效\vslaatb.wav:2, ROOT:\音频\语音+音效\vslaatc.wav:2, ROOT:\音频\语音+音效\vslaatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vslamoa.wav:2, ROOT:\音频\语音+音效\vslamob.wav:2, ROOT:\音频\语音+音效\vslamoc.wav:2, ROOT:\音频\语音+音效\vslamod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vslasea.wav:2, ROOT:\音频\语音+音效\vslaseb.wav:2, ROOT:\音频\语音+音效\vslasec.wav:2, ROOT:\音频\语音+音效\vslased.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\高速采矿车图标.png
image:        高速采矿车.png

total_frames: 1
imageScale: 1.0
frame_width: 120
frame_height: 120
image_offsetY: 0
reclaimEffect: CUSTOM:回收
#reclaimEffectAtTarget: CUSTOM:回收
reclaimEffectRate: 20
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 8
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
#dustEffect: ture


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 1.30
moveAccelerationSpeed: 0.018
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2.0
turnAcceleration: 1.0


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 120
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[action_脱离]
text: Leave
text_zh: 脱离
buildSpeed:0s
isVisible: if self.hasParent(withTag='矿厂')
disconnectFromParent: true


[action_移动去卸载]
text: Back
text_zh: 卸载
buildSpeed:0
isVisible: if not self.hasParent(withTag='矿厂')
isActive: if self.hasUnitInTeam(withTag='矿厂')
autoTrigger: if self.hasResources(矿石=0.08) and self.hasUnitInTeam(withTag='矿厂空') and not self.hasActiveWaypoint(type='loadInto') and not self.hasActiveWaypoint(type='move') and not self.hasParent()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 矿厂空
addWaypoint_target_nearestUnit_team: own
addWaypoint_triggerActionIfFailed: 移动去卸载2
#showMessageToAllPlayers: 移动去卸载1
clearActiveWaypoint: true


[hiddenAction_移动去卸载2]
autoTrigger: if self.hasResources(矿石=0.08) and not self.hasUnitInTeam(withTag='矿厂空') and not self.hasUnitInTeam(withTag='矿厂', withinRange=100) and not self.hasActiveWaypoint(type='loadInto') and not self.hasActiveWaypoint(type='move') and not self.hasParent() and self.hasUnitInTeam(withTag='矿厂')
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 矿厂
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_mapMustBeReachable: false
addWaypoint_triggerActionIfFailed: 清除路线
#showMessageToAllPlayers: 移动2
clearActiveWaypoint: true


[hiddenAction_寻找]
autoTriggerOnEvent: created
autoTrigger: if self.resource(type='矿石', lessThan=0.08) and (self.hasUnitInTeam(withTag='矿厂', withinRange=100) or numberOfUnitsInAggressiveTeam(withTag='矿石转', greaterThan=0, withinRange=200)) and not self.hasActiveWaypoint(type='reclaim') and not self.hasActiveWaypoint(type='loadInto') and not self.hasActiveWaypoint(type='move') and not self.hasParent() and self.hasUnitInTeam(withTag='矿厂')
addWaypoint_type: reclaim
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 矿石
addWaypoint_target_nearestUnit_team: any
addWaypoint_target_mapMustBeReachable:true
addWaypoint_triggerActionIfFailed: 清除路线
#showMessageToAllPlayers: 寻找矿石


[hiddenAction_清除路线]
autoTrigger: if self.hasActiveWaypoint(type='reclaim') and self.noUnitInTeam(withTag='矿厂')
clearActiveWaypoint: true
#showMessageToAllPlayers: 清除路线


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=165) and not numberOfUnitsInEnemyTeam(withTag='恐怖机器人', greaterThan=0, withinRange=50) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and not numberOfUnitsInEnemyTeam(withTag='恐怖机器人', greaterThan=0, withinRange=50) and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_进入超时空间]
autoTrigger: if (numberOfUnitsInNeutralTeam(withTag='载入传送', greaterThan=0, withinRange=80) or numberOfUnitsInTeam(withTag='载入传送', greaterThan=0, withinRange=80)) and not self.hasParent() and not self.hasActiveWaypoint(type='move') and not self.isAttacking() and not self.isControlledByAI()


[hiddenAction_初始价值]
addResources: 价值=40


[hiddenAction_遭受攻击]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='矿车受击')
temporarilyAddTags: 矿车受击


[hiddenAction_遭受攻击2]
autoTrigger: if not self.hasTakenDamage(withinSeconds=1) and self.tags(includes='矿车受击')
temporarilyRemoveTags: 矿车受击


[effect_回收]
image: ROOT:\2中立\矿石收.png
scaleFrom: 2
#1.2
scaleTo: 0
total_frames: 2
animateFrameStart: 0
animateFrameEnd: 1
animateFrameSpeed: 0.2
life: 20
fadeInTime: 0
fadeOut: false
drawUnderUnits:true
alwayStartDirAtZero: true


[effect_死亡]
scaleFrom: 1.2
scaleTo: 1.2


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[hiddenAction_加速]
autoTrigger: if self.resource(type='加速时间', lessThan=1)
convertTo: 高速采矿车2
convertTo_keepCurrentTags: true


[hiddenAction_开始计时]
autoTriggerOnEvent: created
addResources: 加速时间=30


[hiddenAction_加速时间2]
autoTrigger: if self.resource(type='加速时间', greaterThan=0)
addResources: 加速时间=-1


[resource_加速时间]
displayName: 加速时间


[resource_矿石]
displayName: 矿石
#displayColor:#FFFFFF00


[template_zijin]
price: 1400


[ai]
#useAsBuilder:false
useAsHarvester: true
useAsAttacker: false
#disableUse:true
onlyUseAsHarvester_ifBaseHasUnitTagged: 矿厂
whenUsingAsHarvester_recommendedInEachBase: 2
whenUsingAsHarvester_recommendedGlobal:6

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/加特林炮塔.ini
================================================================================


[core]
name: 加特林炮塔
price: 2000
maxHp:400
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 低级, 炮塔, 加特林炮塔


[hiddenAction_射速加快]
autoTrigger: if self.ammo(greaterThan=24)
playSoundAtUnit: ROOT:\音频\语音+音效\vgatlo4a.wav:2
convertTo: 加特林炮塔2
convertTo_keepCurrentFields: moveSpeed, maxTurnSpeed, shootDamageMultiplier, shootDelayMultiplier


[graphics]
image:        加特林炮塔.png

total_frames: 1
imageScale:	1.0
frame_width: 100
frame_height: 100
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 15
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 15
animation_attack_start: 0
animation_attack_end: 1
animation_attack_speed: 3
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: if not self.hasParent(withTag='禁止攻击')
canAttackLandUnits: if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 20
turretTurnSpeed: 3
#maxAttackRange: 150
shootDelay: 16
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 4.5
turnAcceleration: 4.5


[turret_1]
x: 0
y: 0

barrelHeight: 15
limitingRange: 180
#150
limitingMinRange: 20
shoot_flame: CUSTOM:映射, CUSTOM:开火
shoot_light: #FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vgatlo2a.wav, ROOT:\音频\语音+音效\vgatlo2b.wav, ROOT:\音频\语音+音效\vgatlo2c.wav
shoot_sound_vol: 2
canAttackFlyingUnits: false
canAttackLandUnits: if not self.hasParent(withTag='禁止攻击')
resourceUsage: ammo=-1
projectile: 1


[turret_2]
x: 0
y: 0

barrelHeight: 15
limitingRange: 330
shoot_flame: CUSTOM:映射, CUSTOM:开火
shoot_light: #FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vgatlo2a.wav, ROOT:\音频\语音+音效\vgatlo2b.wav, ROOT:\音频\语音+音效\vgatlo2c.wav
shoot_sound_vol: 2
canAttackFlyingUnits: if not self.hasParent(withTag='禁止攻击')
canAttackLandUnits: false
resourceUsage: ammo=-1
projectile: 2


[projectile_1]
directDamage: 25
life: 8

instant: true
explodeEffect: CUSTOM:弹火
mutator0_ifUnitWithTags: 子弹抗性
mutator0_directDamageMultiplier: 0.5
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.2
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.2
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.8


[projectile_2]
@copyFromSection: projectile_1
directDamage: 25
life: 8

mutator27_ifUnitWithTags: 飞机轻甲
mutator27_directDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_directDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_directDamageMultiplier: 0.6
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_directDamageMultiplier: 0.6


[hiddenAction_Ai攻击空军]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=360)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 空军
addWaypoint_target_nearestUnit_maxRange: 360
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=25


[effect_开火]
image: ROOT:\共享文件\1类\开火特效4.png
scaleFrom: 0.8
scaleTo: 0.8
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
alwayStartDirAtZero:true
attachedToUnit:false


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1.2
scaleTo: 1.2
attachedToUnit: false
alwayStartDirAtZero:true


[effect_映射]
image: ROOT:\共享文件\1类\闪光.png
color: #FFFFFF00
scaleFrom: 0.25
scaleTo: 0.25
alpha: 0.2
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
@copyFromSection: effect_映射
scaleFrom:0.5
scaleTo: 0.5
life: 200
hOffset: -20


[effect_映射3]
@copyFromSection: effect_映射
scaleTo: 0.2
alpha: 0.4
life: 200
fadeOut: true
attachedToUnit: false

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/收割者.ini
================================================================================


[core]
name: 收割者
price: 资金=1650
maxHp: 420
mass: 8000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具中甲, 碾压, 克装甲, 可空, 空下, 收割者, 可进入坦克碉堡, 心控
displayText: Reaper Special Tank
displayText_zh: 收割者特派坦克
displayDescription: Target: Ground unit\nDamage creature: Medium\nDamage armor: High\nDamage building: Low\nSpecial: Can crush infantry.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：中\n伤害装甲：高\n伤害建筑：低\n特殊：碾压步兵
transportSlotsNeeded: 5
#displayRadius: 20
buildSpeed: 14.0s
fogOfWarSightRange: 14
soundOnAttackOrder:  ROOT:\音频\语音+音效\vreapatta.wav:2, ROOT:\音频\语音+音效\vreapattb.wav:2, ROOT:\音频\语音+音效\vreapattc.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vreapmova.wav:2, ROOT:\音频\语音+音效\vreapmovb.wav:2, ROOT:\音频\语音+音效\vreapmovc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vreapsela.wav:2, ROOT:\音频\语音+音效\vreapselb.wav:2, ROOT:\音频\语音+音效\vreapselc.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vlasstaa.wav:1.2, ROOT:\音频\语音+音效\vlasstab.wav:1.2, ROOT:\音频\语音+音效\vlasstac.wav:1.2


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\收割者图标.png
image:        收割者.png

total_frames: 1
imageScale:	1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 1.45
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2
turnAcceleration: 1
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 210
limitingMinRange: 20
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 收割者炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=40


[template_zijin]
price: 1450

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/变节者炮塔.ini
================================================================================


[core]
name: 变节者炮塔
price: 2000
maxHp:400
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 高级, 炮塔, 变节者炮塔, 打爆死人


[graphics]
image:        变节者炮塔.png

total_frames: 1
imageScale:	1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 15
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 15
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 20
turretTurnSpeed: 3
#maxAttackRange: 150
shootDelay: 180
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 2.5
turnAcceleration: 2.5


[turret_1]
x: 0
y: 0

barrelX: 0
barrelY: 25
barrelHeight: 10
limitingRange: 255
limitingMinRange: 60
shoot_sound: ROOT:\音频\语音+音效\vmagatta.wav
shoot_sound_vol: 2
onShoot_triggerActions: 杀死驾驶员
projectile: 1


[turret_2]
x: 0
y: 0

limitingRange: 255
limitingMinRange: 60
projectile: 2
delay: 5


[projectile_1]
areaDamage: 135
life: 600

areaRadius: 40
areaRadiusFromEdge: true
speed: 0
targetSpeed: 8
targetSpeedAcceleration: 8
frame: 4
drawSize: 0
#teamColorRatio:1
targetGround: true
trailEffect: CUSTOM:能量圈
trailEffectRate: 1
friendlyFire:true
explodeEffect: NONE
#CUSTOM:爆炸, CUSTOM:映射
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.8
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.4


[projectile_2]
directDamage: 0
life: 10

instant: true
explodeEffect: CUSTOM:能量圈2


[hiddenAction_杀死驾驶员]
takeResources: 震击能量=-135
takeResources_includeUnitsWithinRange: 255
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=255)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 255
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=55


[resource_震击能量]
displayName: 震击能量


[effect_能量圈]
image: 能量圈.png
scaleFrom: 0.2
scaleTo: 1.6
alpha: 1
life: 65
fadeOut: true
attachedToUnit: false
drawUnderUnits: false


[effect_能量圈2]
image: 能量圈2.png
scaleFrom: 1.2
scaleTo: 0.2
alpha: 0.85
life: 6
fadeOut: true
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero:true

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/磁电坦克.ini
================================================================================


[core]
name: 磁电坦克
price: 资金=1500
maxHp: 640
mass: 6000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具中甲, 碾压, 克装甲, 可空, 空下, 磁电坦克, 可进入坦克碉堡
displayText: Magnetron Tank
displayText_zh: 磁电坦克
displayDescription: Target: Ground unit\nDamage creature: None\nDamage armor: None\nDamage building: High\nSpecial: Attacking an armored unit creates a magnetic field on it. \n The magnetic field will pull nearby units close to itself.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：没有伤害\n伤害装甲：没有\n伤害建筑：高\n特殊：攻击装甲单位时会在其单位上面制造一个磁力场。\n磁力场会将附近的单位拉动到自己附近
transportSlotsNeeded: 4
#displayRadius: 20
buildSpeed: 15s
fogOfWarSightRange: 14
soundOnAttackOrder:  ROOT:\音频\语音+音效\vmagata.wav:2, ROOT:\音频\语音+音效\vmagatb.wav:2, ROOT:\音频\语音+音效\vmagatc.wav:2, ROOT:\音频\语音+音效\vmagatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vmagmoa.wav:2, ROOT:\音频\语音+音效\vmagmob.wav:2, ROOT:\音频\语音+音效\vmagmoc.wav:2, ROOT:\音频\语音+音效\vmagmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vmagsea.wav:2, ROOT:\音频\语音+音效\vmagseb.wav:2, ROOT:\音频\语音+音效\vmagsec.wav:2, ROOT:\音频\语音+音效\vmagsed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vmagstaa.wav:1.2, ROOT:\音频\语音+音效\vmagstab.wav:1.2, ROOT:\音频\语音+音效\vmagstac.wav:1.2


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\磁电坦克图标.png
image:        磁电坦克.png

total_frames: 1
imageScale:	1.0
frame_width: 150
frame_height: 150
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 1.25
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2
turnAcceleration: 1
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 420
limitingMinRange: 20
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装, 生物, 生物2
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 磁电坦克炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=45


[template_zijin]
price: 1500

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/收割者炮塔.ini
================================================================================


[core]
name: 收割者炮塔
price: 2000
maxHp:400
mass: 4500
radius: 1

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\炮塔改装.xxhq
showInEditor: false
tags: 低级, 炮塔, 收割者炮塔, 电死人


[graphics]
image:        收割者炮塔.png

total_frames: 1
imageScale:	1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 15
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 15
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.hasParent(withTag='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 20
turretTurnSpeed: 3
#maxAttackRange: 150
shootDelay: 120
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 3.5
turnAcceleration: 3.5


[turret_1]
x: 0
y: 0

barrelHeight: 10
barrelY: 40
limitingRange: 240
shoot_sound: ROOT:\音频\语音+音效\vreapwea.wav, ROOT:\音频\语音+音效\vreapweb.wav, ROOT:\音频\语音+音效\vreapwec.wav, ROOT:\音频\语音+音效\vreapwed.wav
shoot_sound_vol: 2
shoot_light:#FFccCCEE
shoot_flame: CUSTOM:映射, CUSTOM:开火


[projectile_1]
areaDamage: 175
life: 15

areaRadius: 20
beamImage: ROOT:\共享文件\1类\激光源.png 
color: #FF00FBFF
lightColor: #FF00FBFF
lightSize: 1
moveWithParent: true
instant: true
instantReuseLast: true
explodeEffect: CUSTOM:爆炸, CUSTOM:映射2
friendlyFire: true
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator14_ifUnitWithTags: 步兵轻甲
mutator14_areaDamageMultiplier: 0.40
mutator15_ifUnitWithTags: 步兵中甲
mutator15_areaDamageMultiplier: 0.30
mutator16_ifUnitWithTags: 步兵重甲
mutator16_areaDamageMultiplier: 0.20
mutator17_ifUnitWithTags: 载具轻甲
mutator17_areaDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具中甲
mutator18_areaDamageMultiplier: 1.00
mutator19_ifUnitWithTags: 载具重甲
mutator19_areaDamageMultiplier: 1.00
mutator20_ifUnitWithTags: 建筑轻甲
mutator20_areaDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑防甲
mutator21_areaDamageMultiplier: 0.20
mutator22_ifUnitWithTags: 建筑重甲
mutator22_areaDamageMultiplier: 0.20


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=210)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 210
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_初始价值]
autoTriggerOnEvent: created
addResources: 价值=40


[effect_开火]
image: ROOT:\共享文件\1类\闪光2.png
life: 35
color: #FF00FBFF
scaleFrom: 1.0
scaleTo: 1.6
alpha: 1.2
fadeInTime: 0
fadeOut: true
dirOffsetRandom: 180
dirSpeed: 3
drawUnderUnits: false
#alwayStartDirAtZero:true
attachedToUnit: true


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸28.png
#alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 0.6
scaleTo: 0.6
total_frames: 18
animateFrameStart: 0
animateFrameEnd: 17
animateFrameSpeed: 0.40
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
image: ROOT:\共享文件\1类\映射.png
life: 30
scaleFrom: 0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
#scaleTo: 0.8
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/尤里基地车.ini
================================================================================


[core]
name: 尤里基地车
price: 资金=3000
maxHp: 2000
mass: 10000
radius: 40

copyFrom: ROOT:\共享文件\3类\撞击伤害2.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq, ROOT:\共享文件\3类\闲置修复.xxhq
tags: 原始护甲, 载具重甲, 装甲, 基地车, 碾压, 可空, 空下, 尤里基地车
displayText: Yuri Mobile Construction Vehicle
displayText_zh: 尤里基地车
displayDescription: Special: Can be deployed as a base.\n Can crush infantry.\nCan crush small vehicles.
displayDescription_zh: 特殊：可展开为基地\n可以碾压步兵\n可以碾压小型载具
buildSpeed: 30s
selfRegenRate: 0.06
displayRadius: 30
transportSlotsNeeded: 4
#numBitsOnDeath: 5
fogOfWarSightRange: 10
dieOnConstruct: true
nanoRange: 12
soundOnMoveOrder: ROOT:\音频\语音+音效\vmcymoa.wav:2, ROOT:\音频\语音+音效\vmcymob.wav:2, ROOT:\音频\语音+音效\vmcymoc.wav:2, ROOT:\音频\语音+音效\vmcymod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vmcysea.wav:2, ROOT:\音频\语音+音效\vmcyseb.wav:2, ROOT:\音频\语音+音效\vmcysec.wav:2, ROOT:\音频\语音+音效\vmcysed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vmcvstaa.wav:1.5


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\尤里基地车图标.png
image:        尤里基地车.png

total_frames: 1
#imageScale:	0.9
#image_offsetX:0
image_offsetY: 10
frame_width: 150
frame_height: 150
#image_wreak: NONE
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 0.9
moveAccelerationSpeed: 0.014
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2.0
turnAcceleration: 1.0


[canBuild_1]
name: 尤里基地
pos: 1
#tech: 1
#forceNano: true
isVisible: if self.isControlledByAI() and not self.tags(includes='禁止攻击') and self.queueSize(empty=true)


[turret_1]
x: 0
y: 0

limitingRange: 100


[hiddenAction_AI扩张指令]
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.isControlledByAI()
clearActiveWaypoint: true
#清除活动航路点
addWaypoint_type: move
#添加移动点模式
addWaypoint_prepend: true
#添加路点前置
addWaypoint_target_nearestUnit_tagged: 可扩展矿
#添加最近标记单位的航路点目标
addWaypoint_target_mapMustBeReachable: false
#添加航路点目标地图必须可到达
addWaypoint_target_nearestUnit_team: any
#添加最近单位团队的路点目标
addWaypoint_maxTime: 5s
#添加路点最大时间


[hiddenAction_AI扩张部署]
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', withinRange=260, greaterThan=0) and self.isControlledByAI()
clearActiveWaypoint: true
alsoQueueAction: 1


[action_1]
text: Deploy
text_zh: 部署基地
description: Deploy as Yuri Construction Yard
description_zh: 一家之母
displayType: action
buildSpeed: 1.0s
isActive: if not self.tags(includes='禁止攻击') and memory.保存控制.hp<=0
#isVisible: if self.isControlledByAI()
isLocked: if (nearestUnit(withinRange=80, withTag='空下', relation='any')!=nullUnit and not self.isControlledByAI())
isLockedMessage: Cannot have any unit within 80
isLockedMessage_zh: 80范围内不能有任何陆地单位
convertTo: 尤里基地
whenBuilding_cannotMove: false
whenBuilding_rotateTo: 135
whenBuilding_rotateTo_waitTillRotated: true


[hiddenAction_停止]
autoTrigger: if not self.queueSize(empty=true) and (self.hasActiveWaypoint(type='move') or self.hasActiveWaypoint(type='build'))
clearAllWaypoints: true


[hiddenAction_Ai分基地限制]
autoTrigger: if self.isControlledByAI() and not self.hasFlag(id=3) and self.hasUnitInTeam(withTag='基地')
addResources: setFlag=3
#showMessageToAllPlayers: 触发2


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_进入超时空间]
autoTrigger: if (numberOfUnitsInNeutralTeam(withTag='载入传送', greaterThan=0, withinRange=80) or numberOfUnitsInTeam(withTag='载入传送', greaterThan=0, withinRange=80)) and not self.hasParent() and not self.hasActiveWaypoint(type='move') and not self.isAttacking() and not self.isControlledByAI()


[hiddenAction_初始价值]
addResources: 价值=200


[hiddenAction_初始价值修正]
autoTrigger: if not self.resource(type='价值', equalTo=200)
setResourcesWithLogic: 价值=200


[hiddenAction_开局模式控制]
autoTrigger: if self.globalTeamTags(includes='无基地')
deleteSelf: true


[effect_死亡]
scaleFrom: 1.5
scaleTo: 1.5


[effect_炸毁]
scaleFrom: 1.2
scaleTo: 1.2


[template_zijin]
price: 3000


[ai]
buildPriority: 0.1
useAsBuilder: true
#noneGlobalExtraPriority: 0.8
maxEachBase: 1
maxGlobal: 3

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/幽灵运输车2.ini
================================================================================


[core]
name: 幽灵运输车2
copyFrom: 幽灵运输车.ini
showOnMinimapToEnemies: false
canOnlyBeAttackedByUnitsWithTags: 反隐形
showInEditor: false


[graphics]
isVisibleToEnemies: false
image_shadow: NONE
#shadowOffsetX: 12
#shadowOffsetY: 5
animation_moving_speed: 8


[hiddenAction_1]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='反隐形', greaterThan=0, withinRange=180) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=90)
convertTo: 幽灵运输车

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/迷幻突击车.ini
================================================================================


[core]
name: 迷幻突击车
price: 资金=850
maxHp: 260
mass: 4000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具轻甲, 碾压, 克装甲, 可空, 空下, 迷幻突击车, 可进入坦克碉堡, 免疫心控, 无法狂暴, 免疫迷幻, 不可劫持
displayText: Chaotic Attacker
displayText_zh: 迷幻突击车
displayDescription: Target: Ground unit\nAttack can effectively reduce the movement speed and attack power of the attacker.
displayDescription_zh: 攻击目标：地面单位/海面单位\n攻击有效降低被攻击者的移动速度和攻击力。
transportSlotsNeeded: 3
#displayRadius: 20
buildSpeed: 6.5s
fogOfWarSightRange: 16
fireTurretXAtSelfOnDeath: 1
soundOnAttackOrder:  ROOT:\音频\语音+音效\vchaatca.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vchamova.wav:2, ROOT:\音频\语音+音效\vchamovb.wav:2, ROOT:\音频\语音+音效\vchamovc.wav:2, ROOT:\音频\语音+音效\vchamovd.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vchasela.wav:2, ROOT:\音频\语音+音效\vchaselb.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vchadiea.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vchastaa.wav:1.2, ROOT:\音频\语音+音效\vchastab.wav:1.2, ROOT:\音频\语音+音效\vchastac.wav:1.2


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\迷幻突击车图标.png
image:        迷幻突击车.png

total_frames: 1
imageScale:	1.0
frame_width: 100
frame_height: 100
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击') and not self.tags(includes='持续性攻击')
canAttackUnderwaterUnits: false

isFixedFiring:true
turretSize: 0
turretTurnSpeed: 6
maxAttackRange: 120
shootDelay: 60


[movement]
movementType: LAND

moveSpeed: 2.2
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2
turnAcceleration: 1
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\vchaatta.wav
shoot_sound_vol: 2


[projectile_1]
areaDamage: 0
life: 0

areaRadius: 160
targetGround: true
explodeOnEndOfLife: true
#instant: true
#friendlyFire: true
spawnUnit: 迷幻
largeHitEffect: true
explodeEffect: CUSTOM:迷幻气体
mutator7_ifUnitWithoutTags: 无
mutator7_directDamageMultiplier: 0


[action_切换形态]
text: Switch persistent attacks
text_zh: 持续性攻击
buildSpeed: 1
displayType: queueUnit
isGuiBlinking: true
isVisible: if not self.tags(includes='持续性攻击')
temporarilyAddTags: 持续性攻击


[action_切换形态2]
text: Turn off persistent attacks
text_zh: 关闭持续性攻击
buildSpeed: 1
displayType: queueUnit
isGuiBlinking: true
isVisible: if self.tags(includes='持续性攻击')
temporarilyRemoveTags: 持续性攻击


[hiddenAction_持续性攻击]
autoTrigger: if not self.isMoving() and self.tags(includes='持续性攻击')
fireTurretXAtGround: 1


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=30


[effect_迷幻气体]
image: ROOT:\共享文件\1类\迷幻气体.png
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 120
scaleFrom: 1.0
scaleTo: 1.0
#alpha: 0.85
fadeOut: false
fadeInTime: 0
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 850

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/主脑坦克.ini
================================================================================


[core]
name: 主脑坦克
price: 资金=1750
maxHp: 600
mass: 12000
radius: 35

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 碾压, 克生物, 克装甲, 免疫心控, 载具重甲, 免疫迷幻, 免疫心控
displayText: Master Mind
displayText_zh: 主脑坦克
displayDescription: You can control more than 4 ground units, but if you control more than 3 units, you will damage yourself.
displayDescription_zh: 可以控制4个以上的地面单位，但是如果控制超过3个以上的单位就会损坏自身。
techLevel: 2
buildSpeed: 17s
softCollisionOnAll: 5
transportSlotsNeeded: 6
fogOfWarSightRange: 12
selfRegenRate: 0.06
soundOnAttackOrder:  ROOT:\音频\语音+音效\vmasata.wav:2, ROOT:\音频\语音+音效\vmasatb.wav:2, ROOT:\音频\语音+音效\vmasatc.wav:2, ROOT:\音频\语音+音效\vmasatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vmasmoa.wav:2, ROOT:\音频\语音+音效\vmasmob.wav:2, ROOT:\音频\语音+音效\vmasmoc.wav:2, ROOT:\音频\语音+音效\vmasmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vmassea.wav:2, ROOT:\音频\语音+音效\vmasseb.wav:2, ROOT:\音频\语音+音效\vmassec.wav:2, ROOT:\音频\语音+音效\vmassed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vmasstaa.wav:1.2, ROOT:\音频\语音+音效\vmasstab.wav:1.2, ROOT:\音频\语音+音效\vmasstac.wav:1.2


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\主脑坦克图标.png
image:        主脑坦克.png

imageScale:	1
total_frames: 1
image_offsetY: 10
frame_width: 130
frame_height: 130
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 3
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 15
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:  if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false
#isFixedFiring: true
turretSize: 20
turretTurnSpeed: 3
aimOffsetSpread: 0
disablePassiveTargeting: true
shootDelay: 60
#canOnlyAttackUnitsWithTags: 心控
canOnlyAttackUnitsWithoutTags: 免疫心控, 铁幕保护, 免伤, 力场保护, 超时空免伤, 特殊免伤, 建筑, 建筑2


[movement]
movementType: LAND

moveSpeed: 1.00
moveAccelerationSpeed: 0.015
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2.0
turnAcceleration: 0.5


[attachment_1]
x: 5
y: 5

idleDir: 30
#isVisible: false
isUnselectable: true
canBeAttackedAndDamaged: false
keepAliveWhenParentDies: true
prioritizeParentsMainTarget: true
resetRotationWhenNotAttacking:true
onCreateSpawnUnitOf: 主脑坦克控件
showAllActionsFrom: true


[attachment_2]
x: -5
y: 5

idleDir: 80
@copyFromSection: attachment_1



[attachment_3]
x: 5
y: -5

idleDir: -25
@copyFromSection: attachment_1


[attachment_4]
x: -5
y: -5

idleDir: 0
@copyFromSection: attachment_1


[turret_1]
x: 0
y: 0

limitingRange: 240
onShoot_triggerActions: Ai攻击取消


[projectile_1]
directDamage: 0
life: 0


[hiddenAction_Ai自动反击]
requireConditional: if self.isControlledByAI() and eventSource.tags(includes='心控') and numberOfUnitsInEnemyTeam(withTag='心控', greaterThan=0, withinRange=240)
autoTriggerOnEvent: tookDamage
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_maxRange: 240
#addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_fromReference: eventSource
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=240)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 240
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_扣血]
autoTrigger: if attachment(slot='1').readUnitMemory('控制单位', type='unit', default=nullUnit)!=nullUnit and attachment(slot='2').readUnitMemory('控制单位', type='unit', default=nullUnit)!=nullUnit and attachment(slot='3').readUnitMemory('控制单位', type='unit', default=nullUnit)!=nullUnit and attachment(slot='4').readUnitMemory('控制单位', type='unit', default=nullUnit)!=nullUnit
addResources: hp=-40
spawnEffects: CUSTOM:损坏动画


[hiddenAction_初始价值]
addResources: 价值=80


[effect_损坏动画]
image: ROOT:\共享文件\1类\爆炸29.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 28
animateFrameStart: 0
animateFrameEnd: 17
animateFrameSpeed: 0.35
life: 180
xOffsetRelativeRandom:  20
yOffsetRelativeRandom:  20
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 1750

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/变节者.ini
================================================================================


[core]
name: 变节者
price: 资金=1800
maxHp: 400
mass: 8000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\撞击伤害.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具中甲, 碾压, 克装甲, 可空, 空下, 变节者, 可进入坦克碉堡
displayText: Renegade
displayText_zh: 变节者
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: High\nDamage building: Low\nSpecial: Can crush infantry.\n Drivers with a probability of killing the vehicle.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：低\n特殊：碾压步兵\n有概率震死载具的驾驶员。
transportSlotsNeeded: 4
#displayRadius: 20
buildSpeed: 16s
fogOfWarSightRange: 14
soundOnAttackOrder:  ROOT:\音频\语音+音效\vlasata.wav:2, ROOT:\音频\语音+音效\vlasatb.wav:2, ROOT:\音频\语音+音效\vlasatc.wav:2, ROOT:\音频\语音+音效\vlasatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vlasmoa.wav:2, ROOT:\音频\语音+音效\vlasmob.wav:2, ROOT:\音频\语音+音效\vlasmoc.wav:2, ROOT:\音频\语音+音效\vlasmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vlassea.wav:2, ROOT:\音频\语音+音效\vlasseb.wav:2, ROOT:\音频\语音+音效\vlassec.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vlasstaa.wav:1.2, ROOT:\音频\语音+音效\vlasstab.wav:1.2, ROOT:\音频\语音+音效\vlasstac.wav:1.2


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\变节者图标.png
image:        变节者.png

total_frames: 1
imageScale:	1.0
frame_width: 120
frame_height: 120
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 1.40
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 2
turnAcceleration: 1
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 255
limitingMinRange: 20
#150
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 变节者炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=55


[template_zijin]
price: 1800

================================================================================
// FILE_PATH: ./1尤里军团/陆军–装甲/加特林坦克.ini
================================================================================


[core]
name: 加特林坦克
price: 资金=500
maxHp: 280
mass: 6000
radius: 20

copyFrom: ROOT:\共享文件\3类\升级机制.xxhq, ROOT:\共享文件\3类\阵营装甲共同.xxhq
tags: 原始护甲, 装甲, 载具轻甲, 碾压, 克装甲, 可空, 空下, 加特林坦克, 可进入坦克碉堡
displayText: Gattling Tank 
displayText_zh: 加特林坦克
displayDescription: Target: Air unit/Ground unit\nDamage creature: High\nDamage armor: Low\nDamage building: Low\nDamage air: High\nSpecial: The rate of fire gradually increases with the time of continuous firing.
displayDescription_zh: 攻击目标：空中单位/地面单位\n伤害生物：高\n伤害装甲：低\n伤害建筑：低\n伤害空军：高\n特殊：射击速度随着时间逐渐变快。
transportSlotsNeeded: 2
#displayRadius: 20
buildSpeed: 5s
fogOfWarSightRange: 14
soundOnAttackOrder:  ROOT:\音频\语音+音效\vgatata.wav:2, ROOT:\音频\语音+音效\vgatatb.wav:2, ROOT:\音频\语音+音效\vgatatc.wav:2, ROOT:\音频\语音+音效\vgatatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vgatmoa.wav:2, ROOT:\音频\语音+音效\vgatmob.wav:2, ROOT:\音频\语音+音效\vgatmoc.wav:2, ROOT:\音频\语音+音效\vgatmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vgatsea.wav:2, ROOT:\音频\语音+音效\vgatseb.wav:2, ROOT:\音频\语音+音效\vgatsec.wav:2, ROOT:\音频\语音+音效\vgatsed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vgatstaa.wav:1.2, ROOT:\音频\语音+音效\vgatstab.wav:1.2, ROOT:\音频\语音+音效\vgatstac.wav:1.2


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\加特林坦克图标.png
image:        加特林坦克.png

total_frames: 1
imageScale:	1.0
frame_width: 100
frame_height: 100
image_offsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 2.0
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.030
maxTurnSpeed: 3.0
turnAcceleration: 1.5
moveSlidingMode:false
moveIgnoringBody:false
reverseSpeedPercentage: 0.95


[turret_1]
x: 0
y: 0

delay: 999
limitingRange: 330
resourceUsage: ammo=1
canAttackLandUnits: false


[turret_2]
x: 0
y: 0

delay: 999
limitingRange: 180
canAttackFlyingUnits: false
resourceUsage: ammo=1


[projectile_1]
directDamage: 0
life: 0


[attachment_炮塔]
x: 0
y: 0

setDrawLayerOnTop: true
onCreateSpawnUnitOf: 加特林炮塔
resetRotationWhenNotAttacking: true
idleDirReversing: 180


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=100) and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_nearestUnit_tagged: 克生物


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='车厂') and not self.hasUnitInTeam(withTag='车厂', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=165) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=165)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 车厂


[hiddenAction_初始价值]
addResources: 价值=25


[template_zijin]
price: 500

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/心灵控制器2.ini
================================================================================


[core]
name: 心灵控制器2
copyFrom: 心灵控制器.ini
showInEditor: false


[graphics]
image:        心灵控制器.png

default_frame: 0
total_frames: 30
animation_idle_start: 18
animation_idle_end: 23
animation_idle_speed: 6


[attack]
canAttack: true
canAttackLandUnits: if self.isControlledByAI()
turretMultiTargeting: true


[turret_心灵控制]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 心灵控制


[turret_心灵控制-Ai]
x: 0
y: 0

canAttackCondition: if self.queueSize(empty=true) and self.resource(type='心灵控制计时', empty=true) and self.resource(type="电力",greaterThan=0) and not self.hasFlag(id=1)
canOnlyAttackUnitsWithTags: 基地
limitingRange: 9999
resourceUsage: setFlag=1
onShoot_triggerActions: 心灵控制发射-Ai
projectile: 心灵控制-Ai


[turret_心灵控制-Ai2]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='心灵控制计时', empty=true) and self.resource(type="电力",greaterThan=0) and not self.hasFlag(id=1)
canOnlyAttackUnitsWithTags: 车厂, 机场, 兵营, 船坞
limitingRange: 9999
resourceUsage: setFlag=1
onShoot_triggerActions: 心灵控制发射-Ai
projectile: 心灵控制


[turret_心灵控制-Ai3]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='车厂', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='兵营', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='机场', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='船坞', greaterThan=0) and self.queueSize(empty=true) and self.resource(type='心灵控制计时', empty=true) and self.resource(type="电力",greaterThan=0) and not self.hasFlag(id=1)
#canOnlyAttackUnitsWithTags: 
canOnlyAttackUnitsWithoutTags: 基地, 车厂, 机场, 兵营, 船坞
limitingRange: 9999
resourceUsage: setFlag=1
onShoot_triggerActions: 心灵控制发射-Ai
projectile: 心灵控制


[projectile_心灵控制]
directDamage: 0
life: 20

instant: true
#speed: 6
#targetSpeed: 10
targetGround: true
invisible: true
explodeEffect: NONE
spawnUnit: 心灵控制


[projectile_心灵控制-Ai]
directDamage: 0
life: 60

@copyFromSection: projectile_心灵控制
targetGroundSpread: 300


[action_心灵控制]
text: Ready
text_zh: 已就绪
description: Please click where you want to launch.\nBe careful not to click to your position.
description_zh: 设置你的攻击目标
isVisible: if self.queueSize(empty=true) and self.resource(type='心灵控制计时', empty=true) and self.resource(type="电力",greaterThan=0)
buildSpeed: 0s
iconImage: ROOT:\单位图标\尤里\建筑\心灵控制图标.png
displayType: rally
alsoQueueAction: 2
fireTurretXAtGround: 心灵控制
isGuiBlinking: if self.resource(type='心灵控制计时', empty=true) and self.resource(type="电力",greaterThan=0)
showMessageToAllEnemyPlayers: System warning: Psychic Dominator has been released! Player: %{self.playerName}, Team: %{self.teamName}.
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，心灵控制已经释放!


[hiddenAction_心灵控制-Ai]
autoTrigger: if self.isControlledByAI() and self.queueSize(empty=true) and self.hasFlag(id=1)
addResources: unsetFlag=1
#showMessageToAllPlayers: 触发
alsoQueueAction: 2


[hiddenAction_心灵控制发射-Ai]
showMessageToAllEnemyPlayers: System warning: Psychic Dominator has been released! Player: %{self.playerName}, Team: %{self.teamName}.
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，心灵控制已经释放!


[action_卖钱2]
autoTrigger: false
#convertTo: 天气控制器
stopLastAnimation: true
alsoQueueAction: 2


[hiddenAction_停电]
autoTrigger: if not self.resource(type="电力",greaterThan=0) and not self.hasFlag(id=0)
playAnimation: 停电动画
addResources: setFlag=0


[hiddenAction_停电2]
autoTrigger: if self.resource(type="电力",greaterThan=0) and self.hasFlag(id=0)
stopLastAnimation: true
addResources: unsetFlag=0


[hiddenAction_时]
@copyFrom_skipThisSection: true 


#[hiddenAction_倒计时] 
#@copyFrom_skipThisSection: true 


[hiddenAction_1]
@copyFrom_skipThisSection: true 


[hiddenAction_准备音效] 
autoTrigger: if self.queueSize(empty=true) and self.resource(type="电力",greaterThan=0)
playSoundAtUnit: ROOT:\音频\语音+音效\spsylo2a.wav:2, ROOT:\音频\语音+音效\spsylo2b.wav:2, ROOT:\音频\语音+音效\spsylo2c.wav:2


[hiddenAction_2]
buildSpeed: 0.65s
addResources: 心灵控制计时=420
convertTo: 心灵控制器


[animation_开关动画]
body_0s: {frame:24}
body_0.65s: {frame:29}


[animation_停电动画]
body_0s: {frame:19}
body_99999s: {frame:19}


[ai]
upgradedFrom: 心灵控制器

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/尤里墙撇.ini
================================================================================

[core]
name:尤里墙撇
copyFrom: 尤里墙墩.ini
footprint: -2,0,1,0
constructionFootprint: -1,0,0,0
displayText: Yuri Fortress Wall 4
displayText_zh: 尤里墙撇


[graphics]
imageScale: 1.2
image:尤里墙撇.png

image_offsetX:-10
image_offsetY:-10

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/加特林机炮.ini
================================================================================


[core]
name: 加特林机炮
price: 0
maxHp: 800
mass: 50000
radius: 15

#overrideAndReplace: turret_artillery, antiNukeLaucher
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑, 克生物, 克建筑, 防御建筑, 电力, 建筑防甲, 加特林机炮
borrowResourcesWhileAlive: 电力=50
showInEditor: false
displayText: Gatling Cannon
displayText_zh: 加特林机炮
displayDescription: Target: Air unit/Ground unit\nDamage creature: High\nDamage armor: Low\nDamage building: Low\nDamage air: High\n Special: The rate of fire gradually increases with the time of continuous firing.\nPower: -50
displayDescription_zh: 攻击目标：空中单位/地面单位\n伤害生物：高\n伤害装甲：低\n伤害建筑：低\n伤害空军：高\n特殊：射速随着持续开火的时间而逐渐变快\n电力占用：50
isBuilding: true
buildSpeed: 0
selfBuildRate:1s
fogOfWarSightRange: 25
effectOnDeath: CUSTOM:土坑3*3, CUSTOM:土坑4, CUSTOM:炸毁


[hiddenAction_射速加快]
autoTrigger: if self.ammo(greaterThan=30)
playSoundAtUnit: ROOT:\音频\语音+音效\vgatlo4a.wav:2
convertTo: 加特林机炮2
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\加特林机炮图标.png
image:       加特林机炮.png

total_frames: 2
#image_offsetX: -2
image_offsetY: -16
imageScale: 1.05
frame_width: 150
frame_height: 150
#image_wreak:  NONE
#image_turret: NONE
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 0
animation_attack_end: 1
animation_attack_speed: 4
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: if self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击') and self.resource(type='入侵计时', empty=true) 
canAttackLandUnits:  if self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击') and self.resource(type='入侵计时', empty=true) 
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 30
turretTurnSpeed: 20
#maxAttackRange: 450
shootDelay: 12


[movement]
movementType: BUILDING

maxTurnSpeed: 4.0
turnAcceleration: 4.0


[turret_1]
x: 0
y: 0

barrelHeight: 15
limitingRange: 180
#150
limitingMinRange: 20
barrelX: -8
barrelOffsetX_onOddShots: 16
shoot_flame:	CUSTOM:映射
shoot_light:#FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vgatlo2a.wav, ROOT:\音频\语音+音效\vgatlo2b.wav, ROOT:\音频\语音+音效\vgatlo2c.wav
shoot_sound_vol: 2
canAttackFlyingUnits: false
canAttackLandUnits:   if self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击')
resourceUsage: ammo=-1
projectile: 1


[turret_2]
x: 0
y: 0

barrelHeight: 15
limitingRange: 360
#150
#limitingMinRange: 20
barrelX: -8
barrelOffsetX_onOddShots: 16
shoot_flame:	CUSTOM:映射
shoot_light:#FFccCCEE
shoot_sound: ROOT:\音频\语音+音效\vgatlo2a.wav, ROOT:\音频\语音+音效\vgatlo2b.wav, ROOT:\音频\语音+音效\vgatlo2c.wav
shoot_sound_vol: 2
canAttackFlyingUnits: if self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击')
canAttackLandUnits:   false
resourceUsage: ammo=-1
projectile: 2


[projectile_1]
directDamage: 30
life: 6

instant: true
explodeEffect: CUSTOM:弹火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 0.80
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.40
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.20
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.05
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.10
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.05
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 2.00


[projectile_2]
@copyFromSection: projectile_1
directDamage: 30
life: 8

mutator27_ifUnitWithTags: 飞机轻甲
mutator27_directDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_directDamageMultiplier: 0.6
mutator29_ifUnitWithTags: 飞机重甲
mutator29_directDamageMultiplier: 0.4
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_directDamageMultiplier: 0.6


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1.2
scaleTo: 1.2
attachedToUnit: false
alwayStartDirAtZero:true


[effect_映射]
image: ROOT:\共享文件\1类\闪光.png
color: #FFFFFF00
scaleFrom: 0.25
scaleTo: 0.25
alpha: 0.2
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
@copyFromSection: effect_映射
scaleFrom:0.5
scaleTo: 0.5
life: 200
hOffset: -20


[effect_映射3]
@copyFromSection: effect_映射
scaleTo: 0.2
alpha: 0.4
life: 200
fadeOut: true
attachedToUnit: false


[action_卖钱2]
convertTo: 加特林机炮建造
alsoQueueAction: NONE


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:0}


[effect_土坑3]
xOffsetRelativeRandom:  40
yOffsetRelativeRandom:  40
spawnChance: 0.5


[effect_土坑4]
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  0
yOffsetRelativeRandom:  0


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[hiddenAction_初始价值]
addResources: 价值=40


[template_zijin]
price: 1000
@global dianli: -150


[ai]
upgradedFrom: 加特林机炮建造

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/心灵控制增幅器.ini
================================================================================


[core]
name: 心灵控制增幅器
price: 0
maxHp: 2500
mass: 20000
radius: 35

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条4.xxhq
displayText: Psychic Amplifier 
displayText_zh: 心灵控制增幅器
displayDescription: When the time is up, all units in the whole map will be controlled
displayDescription_zh: 时间到将控制全图所有单位
tags: 原始护甲, 建筑, 占领, 心灵控制增幅器, 建筑重甲, 电力, 免疫入侵
#borrowResourcesWhileAlive: 电力=100
footprint: -2,-1,2,0
displayFootprint: -3,-2,3,1
constructionFootprint:-3,-2,3,1
isBuilding: true
buildSpeed: 0
selfBuildRate: 1s
fogOfWarSightRange: 30
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[graphics]
image:        心灵控制增幅器.png

default_frame: 17
total_frames: 32
imageScale: 1.02
image_offsetY: -50
#image_offsetY:-20
animation_idle_start: 18
animation_idle_end: 31
animation_idle_speed: 8
whenBeingBuiltMakeTransparentTill: 0
showTransportBar: false


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

turretSize: 1
turretTurnSpeed: 99
shootDelay: 40


[movement]
movementType: BUILDING


[turret_心灵控制]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 心灵控制


[turret_声音]
x: 0
y: 0

limitingRange: 9999
shoot_sound: ROOT:\音频\语音+音效\gpsyampa.wav, ROOT:\音频\语音+音效\gpsyampb.wav, ROOT:\音频\语音+音效\gpsyampc.wav
shoot_sound_vol: 2
projectile: 声音


[projectile_心灵控制]
life:35
speed:99
areaDamage:-1
areaRadius:9999
targetGround:true
explodeEffect: CUSTOM:冲击波, CUSTOM:冲击飞溅
deflectionPower: -1
explodeOnEndOfLife:true
convertHitToSourceTeam:true
#friendlyFire:true
drawSize:1
largeHitEffect:true
areaHitAirAndLandAtSameTime:true
areaHitUnderwaterAlways:true
#mutator2_ifUnitWithTags:不可控
#mutator2_areaDamageMultiplier:0.01


[projectile_声音]
directDamage: 0
life: 0


[effect_冲击波]
image: ROOT:\共享文件\1类\冲击波.png
life: 60
color:#FF54047D
fadeOut: true
attachedToUnit: false
fadeInTime: 0
scaleFrom: 0
scaleTo: 8
alpha: 0.5
drawUnderUnits: false
alwayStartDirAtZero: true


[effect_冲击飞溅]
image: ROOT:\共享文件\1类\冲击飞溅.png
life: 120
color:#FF54047D
attachedToUnit: false
fadeInTime: 0
fadeOut: true
scaleFrom: 1
scaleTo: 5
alpha: 0.5
drawUnderUnits: false
alwayStartDirAtZero: true


[effect_全图控制]
priority: veryhigh
createWhenOffscreen: true
image: ROOT:\共享文件\1类\地图渲染.png
fadeInTime: 0
fadeOut: false
life: 180
alpha: 0.8
color: #FFFF484B
scaleFrom: 100
scaleTo: 100
showInFog:true
attachedToUnit: false
drawUnderUnits: false


[hiddenAction_时]
autoTriggerOnEvent: created
addResources: 心灵控制增幅器=900
alsoTriggerAction: 额外加时


[hiddenAction_额外加时]
autoTriggerOnEvent: created
addResources: 心灵控制增幅器=900


[hiddenAction_倒计时] 
autoTrigger: if not self.resource(type='心灵控制增幅器', empty=true) and self.resource(type="电力",greaterThan=0)
addResources: 心灵控制增幅器=-1


[hiddenAction_警告] 
autoTrigger: if self.resource(type='心灵控制增幅器', equalTo=300)
showMessageToAllPlayers: System warning: 5 minutes to mind control launch!
showMessageToAllPlayers_zh: 系统警告：距离心灵控制发动还有5分钟！
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_警告2] 
autoTrigger: if self.resource(type='心灵控制增幅器', equalTo=180)
showMessageToAllPlayers: System warning: 3 minutes to mind control launch!
showMessageToAllPlayers_zh: 系统警告：距离心灵控制发动还有3分钟！
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_警告3]
autoTrigger: if self.resource(type='心灵控制增幅器', equalTo=60)
showMessageToAllPlayers: System warning: 1 minutes to mind control launch!
showMessageToAllPlayers_zh: 系统警告：距离心灵控制发动还有1分钟！
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_发生]
autoTrigger: if self.resource(type='心灵控制增幅器', equalTo=1)
showMessageToAllPlayers: System warning: Psychic Amplifier has started!
showMessageToAllPlayers_zh: 系统警告：心灵控制增幅器已发动。
playSoundGlobally: ROOT:\音频\语音+音效\uradarof.wav:2
spawnEffects: CUSTOM:全图控制
alsoQueueAction: 发生2


[hiddenAction_发生2]
buildSpeed: 3s
fireTurretXAtGround: 心灵控制
playSoundGlobally: ROOT:\音频\语音+音效\uradaron.wav:2


[hiddenAction_重置计时] 
requireConditional: if numberOfUnitsInTeam(withTag='心灵控制增幅器', lessThan=1)
autoTriggerOnEvent: destroyed
resourceAmount: 心灵控制增幅器
resourceAmount_setValue: 0


[hiddenAction_重置计时2] 
#autoTrigger: if not self.resource(type='入侵计时', empty=true)
showMessageToAllPlayers: System warning: Team %{self.teamName}’s %{self.playerName} occupied the Doomsday device!
showMessageToAllPlayers_zh: 系统警告：%{self.teamName}队的%{self.playerName}，占领了心灵信标
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2
autoTriggerOnEvent: teamChanged


[hiddenAction_开始动画]
autoTriggerOnEvent: completeAndActive
playSoundAtUnit: ROOT:\音频\语音+音效\uplace.wav:2
playAnimation: jianzao


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:17}


[effect_土坑2]
xOffsetRelativeRandom: 50
yOffsetRelativeRandom: 50


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[global_resource_心灵控制增幅器]
displayName: Psychic Amplifier countdown
displayName_zh: 心灵控制增幅器
displayColor: #FF440056


[template_zijin]
price: 1500
@global dianli: -100


[ai]
noneInBaseExtraPriority: 0.2
maxGlobal: 2

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/尤里墙墩.ini
================================================================================

[core]
name:尤里墙墩
price: 0
maxHp: 400
mass: 1000
radius: 25

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑, 电力, 建筑重甲, 围墙
displayText: Yuri Fortress Wall 1
displayText_zh: 尤里墙墩
displayDescription: Special: Defense, blocking and decoration.
displayDescription_zh: 特殊：防御、阻挡和装饰
buildSpeed: 0
selfBuildRate: 1s
isBuilding:true
footprint: -1,0,1,1
constructionFootprint: -0,0,0,0
fogOfWarSightRange: 4


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[graphics]
image: 尤里墙墩.png

imageScale: 1.5
#scaleImagesTo:90
image_offsetX: 0
image_offsetY: 5
#image_offsetY:-10
image_wreak:NONE
image_shadow:NONE


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[animation_jianzao]
body_0s: {frame:0}
body_1s: {frame:0}


[template_zijin]
price: 50


[ai]
#notPassivelyTargetedByOtherUnits: true
disableUse: true

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/尤里墙墩2.ini
================================================================================

[core]
name:尤里墙墩2
copyFrom: 尤里墙墩.ini
footprint: -1,0,1,0
displayText: Yuri Fortress Wall 2
displayText_zh: 尤里墙墩2


[graphics]
image: 尤里墙墩.png

image_offsetY:-10

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/基因突变.ini
================================================================================


[core]
name: 基因突变
price: 0
maxHp: 1000
mass: 3000
radius: 10

tags: 基因突变, 突变死人
isBuilding: true
canNotBeDirectlyAttacked:true
fogOfWarSightRange:0
disableAllUnitCollisions: true
displayText: Gene Mutation
displayText_zh: 基因突变
displayDescription: Convert all infantry units in the selected area to Brute.
displayDescription_zh: 将选定的区域中的所以步兵单位全部转化为狂兽人。
buildSpeed: 0
selfBuildRate: 0s
#isUnselectable: true
#showInEditor:false
#armour: 10000
#armourMinDamageToKeep:0


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\基因突变图标.png
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 150


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[turret_1]
x: 0
y: 200

projectile:1


[projectile_1]
areaDamage: 1000000
life: 30

areaRadius: 150
beamImage: ROOT:\共享文件\1类\激光源.png 
color: #FF4000BF
moveWithParent: true
instant: true
instantReuseLast: true
friendlyFire: true
explodeEffect: NONE
#spawnUnit: 突变中介3*12(offsetRandomX=100, offsetRandomY=100)
mutator6_ifUnitWithTags: 特殊免伤, 装甲, 建筑, 建筑2
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.00


[hiddenAction_1]
autoTriggerOnEvent: created
#playSoundGlobally: ROOT:\音频\语音+音效\sgenon.wav:2
spawnEffects: CUSTOM:基因突变
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,0


[hiddenAction_2]
autoTrigger:if self.timeAlive(laterThanSeconds=2)
deleteSelf: true


[effect_基因突变]
image: ROOT:\共享文件\1类\心灵清除.png
scaleFrom: 1.35
scaleTo: 1.35
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true




================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/心灵信标.ini
================================================================================


[core]
name: 心灵信标
price: 0
maxHp: 1400
mass: 20000
radius: 25

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\血条4.xxhq
displayText: Psychic Beacon 
displayText_zh: 心灵信标
displayDescription: When the time is up, all units in the whole map will be controlled
displayDescription_zh: 时间到将控制全图所有单位
tags: 原始护甲, 建筑, 占领, 心灵信标, 建筑重甲, 电力, 免疫入侵
#borrowResourcesWhileAlive: 电力=100
footprint: -1,0,2,1
constructionFootprint: -1,0,2,1
isBuilding: true
buildSpeed: 0
selfBuildRate: 1s
fogOfWarSightRange: 30
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[graphics]
image:        心灵信标.png

default_frame: 12
total_frames: 28
imageScale: 1.02
image_offsetX: 12
image_offsetY:-20
animation_idle_start: 13
animation_idle_end: 27
animation_idle_speed: 6
whenBeingBuiltMakeTransparentTill: 0
showTransportBar: false


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

turretSize: 1
turretTurnSpeed: 99
shootDelay: 40


[movement]
movementType: BUILDING


[turret_心灵控制]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 心灵控制


[turret_声音]
x: 0
y: 0

limitingRange: 9999
shoot_sound: ROOT:\音频\语音+音效\gpsyampa.wav, ROOT:\音频\语音+音效\gpsyampb.wav, ROOT:\音频\语音+音效\gpsyampc.wav
shoot_sound_vol: 2
projectile: 声音


[projectile_心灵控制]
life:35
speed:99
areaDamage:-1
areaRadius:9999
targetGround:true
explodeEffect: CUSTOM:冲击波, CUSTOM:冲击飞溅
deflectionPower: -1
explodeOnEndOfLife:true
convertHitToSourceTeam:true
#friendlyFire:true
drawSize:1
largeHitEffect:true
areaHitAirAndLandAtSameTime:true
areaHitUnderwaterAlways:true
#mutator2_ifUnitWithTags:不可控
#mutator2_areaDamageMultiplier:0.01


[projectile_声音]
directDamage: 0
life: 0


[effect_冲击波]
image: ROOT:\共享文件\1类\冲击波.png
life: 60
color:#FF54047D
fadeOut: true
attachedToUnit: false
fadeInTime: 0
scaleFrom: 0
scaleTo: 8
alpha: 0.5
drawUnderUnits: false
alwayStartDirAtZero: true


[effect_冲击飞溅]
image: ROOT:\共享文件\1类\冲击飞溅.png
life: 120
color:#FF54047D
attachedToUnit: false
fadeInTime: 0
fadeOut: true
scaleFrom: 1
scaleTo: 5
alpha: 0.5
drawUnderUnits: false
alwayStartDirAtZero: true


[effect_全图控制]
priority: veryhigh
createWhenOffscreen: true
image: ROOT:\共享文件\1类\地图渲染.png
fadeInTime: 0
fadeOut: false
life: 180
alpha: 0.8
color: #FFFF484B
scaleFrom: 100
scaleTo: 100
showInFog:true
attachedToUnit: false
drawUnderUnits: false


[hiddenAction_时]
autoTriggerOnEvent: created
addResources: 心灵信标控制=600


[hiddenAction_倒计时] 
autoTrigger: if not self.resource(type='心灵信标控制', empty=true) and self.resource(type="电力",greaterThan=0)
addResources: 心灵信标控制=-1


[hiddenAction_警告] 
autoTrigger: if self.resource(type='心灵信标控制', equalTo=300)
showMessageToAllPlayers: System warning: 3 minutes before the end of the world!
showMessageToAllPlayers_zh: 系统警告：距离心灵信标控制发动还有5分钟！
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_警告2] 
autoTrigger: if self.resource(type='心灵信标控制', equalTo=180)
showMessageToAllPlayers: System warning: 2 minutes before the end of the world!
showMessageToAllPlayers_zh: 系统警告：距离心灵信标控制发动还有3分钟！
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_警告3]
autoTrigger: if self.resource(type='心灵信标控制', equalTo=60)
showMessageToAllPlayers: System warning: 1 minute before the end of the world!
showMessageToAllPlayers_zh: 系统警告：距离心灵信标控制发动还有1分钟！
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_发生]
autoTrigger: if self.resource(type='心灵信标控制', equalTo=1)
showMessageToAllPlayers: System warning: the end is coming!
showMessageToAllPlayers_zh: 系统警告：心灵信标已发动
playSoundGlobally: ROOT:\音频\语音+音效\uradarof.wav:2
resourceAmount: 心灵信标控制
resourceAmount_setValue: 0
spawnEffects: CUSTOM:全图控制
alsoQueueAction: 发生2


[hiddenAction_发生2]
buildSpeed: 3s
fireTurretXAtGround: 心灵控制
playSoundGlobally: ROOT:\音频\语音+音效\uradaron.wav:2


[hiddenAction_重置计时] 
requireConditional: if numberOfUnitsInTeam(withTag='心灵信标', lessThan=1)
autoTriggerOnEvent: destroyed
resourceAmount: 心灵信标控制
resourceAmount_setValue: 0


[hiddenAction_重置计时2] 
#autoTrigger: if not self.resource(type='入侵计时', empty=true)
showMessageToAllPlayers: System warning: Team %{self.teamName}’s %{self.playerName} occupied the Doomsday device!
showMessageToAllPlayers_zh: 系统警告：%{self.teamName}队的%{self.playerName}，占领了心灵信标
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2
autoTriggerOnEvent: teamChanged
resourceAmount: 心灵信标控制
resourceAmount_setValue: 600
temporarilyRemoveTags: 心灵信标


[hiddenAction_开始动画]
autoTriggerOnEvent: completeAndActive
playSoundAtUnit: ROOT:\音频\语音+音效\uplace.wav:2
playAnimation: jianzao


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:12}


[effect_土坑2]
xOffsetRelativeRandom: 50
yOffsetRelativeRandom: 50


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[global_resource_心灵信标控制]
displayName: Doomsday Device countdown
displayName_zh: 心灵信标控制
displayColor: #FF440056


[template_zijin]
price: 1500
@global dianli: -100


[ai]
noneInBaseExtraPriority: 0.2
maxGlobal: 2

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/心灵冲击塔.ini
================================================================================


[core]
name: 心灵冲击塔
price: 0
maxHp: 700
mass: 20000
radius: 20

#overrideAndReplace: laserDefence
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑防甲, 建筑, 心灵冲击塔, 克生物, 克装甲, 克建筑, 空下, 打爆死人
displayText: Shock Wave Tower
displayText_zh: 心灵冲击塔
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: Very high\nDamage building: Low\nFunds: -1800\nPower: -250
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：很高\n伤害建筑：Low\n资金花费：1800\n电力占用：250
borrowResourcesWhileAlive: 电力=200
fogOfWarSightRange: 18
buildSpeed: 0
selfBuildRate: 1s
footprint: 0,0,0,0
#displayFootprint: -1,-1,1,1
constructionFootprint: -1,-1,1,0
isBuilding: true
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2, CUSTOM:炸毁


[placementRule_建造规则]
searchTeam: own
searchDistance: 280


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 280


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\心灵冲击塔图标.png
image:        心灵冲击塔.png

default_frame: 36
total_frames: 37
imageScale: 1.02
image_offsetX: 0
image_offsetY: -15
animation_idle_start: 18
animation_idle_end: 36
animation_idle_speed: 6
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:  if self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击') and self.resource(type='入侵计时', empty=true) 
canAttackUnderwaterUnits: false

turretSize: 0
aimOffsetSpread: 0
shootDelay: ${int(86*(1/gameSpeedRate))}


[movement]
movementType: BUILDING


[turret_1]
x: 0
y: 0

#warmup: 180
limitingRange: 480
shoot_sound: ROOT:\音频\语音+音效\iyurat2a.wav:2
projectile: 1


[projectile_1]
areaDamage: 125
life: 5

areaRadius: 100
instant: true
friendlyFire: true
explodeEffect: CUSTOM:清除
areaDamageNoFalloff: true
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 1.00
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.08
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.08
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.08
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.20


[hiddenAction_停电]
autoTrigger: if (not self.resource(type="电力",greaterThan=0) or self.tags(includes='禁止攻击')) and not self.hasFlag(id=0)
playAnimation: 停电动画
addResources: setFlag=0


[hiddenAction_停电2]
autoTrigger: if self.resource(type="电力",greaterThan=0) and self.hasFlag(id=0) and not self.tags(includes='禁止攻击')
stopLastAnimation: true
addResources: unsetFlag=0


[hiddenAction_初始价值]
addResources: 价值=80


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:17}


[animation_停电动画]
body_0s: {frame:16}
body_99999s: {frame:16}


[effect_清除]
image: ROOT:\共享文件\1类\心灵清除.png
scaleFrom: 1
scaleTo: 1
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_电力]
#scaleFrom:2
#scaleTo:2
#xOffsetRelative: 0
yOffsetRelative: 5


[effect_土坑2]
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  0
yOffsetRelativeRandom:  0
spawnChance: 1


[effect_土坑3]
xOffsetRelativeRandom:  25
yOffsetRelativeRandom:  25
spawnChance: 0.5


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 1800
@global dianli: -75


[ai]
buildPriority: 0.04
recommendedInEachBaseNum: 3
recommendedInEachBasePriorityIfUnmet: 0.25
noneInBaseExtraPriority: 0.1
maxEachBase: 6

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/坦克碉堡.ini
================================================================================


[core]
name: 坦克碉堡
price: 0
maxHp: 1400
mass: 30000
radius: 35

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑, 电力, 防清驻, 坦克碉堡, 防御建筑, 建筑重甲, 载具入
displayText: Tank Battle Bunker
displayText_zh: 坦克碉堡
displayDescription: Only loadable vehicles can be loaded \n Volves are immune to damage and can attack in tank bunkers
displayDescription_zh: 只能装载可被装载的载具类\n载具在坦克碉堡里面免疫伤害且可以攻击
isBuilding: true
footprint: -3,-1,0,1
displayFootprint: -3,-2,2,1
constructionFootprint: -3,-2,2,1
buildingToFootprintOffsetX: -2
fogOfWarSightRange: 10
maxTransportingUnits: 1
transportUnitsRequireTag: 可进入坦克碉堡
transportUnitsBlockOtherTransports: false
transportUnitsEachUnitAlwaysUsesSingleSlot: true
transportUnitsCanUnloadUnits: true
transportUnitsAddUnloadOption: true
transportUnitsKillOnDeath: false
buildSpeed: 0
selfBuildRate: 1s
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 360


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 360


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\坦克碉堡图标.png
image:        坦克碉堡.png

default_frame: 9
total_frames: 20
imageScale:	1.25
image_offsetX: 0
image_offsetY: -50
#image_wreak:  NONE
animation_idle_start: 9
animation_idle_end: 9
animation_idle_speed: 1
rotate_with_direction:false
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretMultiTargeting: true
turretSize: 0
turretTurnSpeed: 99
maxAttackRange: 260
shootDelay: 60
stopTargetingAfterFiring:true


[movement]
movementType: BUILDING


[turret_1]
x: 0
y: 0

projectile: 1


[projectile_1]
directDamage: 0
life: 0


[action_卖钱2]
stopLastAnimation: true


[attachment_1]
x: 3
y: 35

idleDir: 135
isUnselectable: false
lockRotation: true
keepAliveWhenParentDies: true
addTransportedUnits: true
canBeAttackedAndDamaged: false
#deattachIfWantingToMove: true
#setDrawLayerOnBottom: true
prioritizeParentsMainTarget:true
onParentTeamChangeKeepCurrentTeam: true
showAllActionsFrom: true


[hiddenAction_1]
autoTrigger: if not self.transportingCount(empty=true)
playSoundAtUnit: ROOT:\音频\语音+音效\btanupa.wav:2
alsoQueueAction: 切换


[hiddenAction_切换]
buildSpeed: 1.0s
whenBuilding_playAnimation: 入驻动画
convertTo: 坦克碉堡2
convertTo_keepCurrentTags: true


[hiddenAction_Ai可入驻]
autoTriggerOnEvent: completeAndActive
temporarilyAddTags: 载具入
playSoundAtUnit: ROOT:\音频\语音+音效\uplace.wav:2
playAnimation: jianzao


[hiddenAction_Ai可入驻2]
autoTrigger: if self.transportingCount(greaterThan=0) and self.tags(includes='载具入')
temporarilyRemoveTags: 载具入
#showMessageToAllPlayers: 清除入驻标签


[hiddenAction_卖钱4]
forceUnloadTransportNow:true


[hiddenAction_初始价值]
addResources: 价值=40


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:9}


[animation_入驻动画]
body_0s: {frame:9}
body_1s: {frame:19}


[animation_卸载动画]
body_0s: {frame:19}
body_1s: {frame:9}


[effect_土坑2]
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  0
yOffsetRelativeRandom:  0
spawnChance: 1


[effect_土坑3]
xOffsetRelativeRandom:  25
yOffsetRelativeRandom:  25
spawnChance: 0.5


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 600


[ai]
buildPriority: 0.02
recommendedInEachBaseNum: 6
recommendedInEachBasePriorityIfUnmet: 0.2
noneInBaseExtraPriority:0.2
#noneGlobalExtraPriority:0.2
maxEachBase: 8

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/坦克碉堡2.ini
================================================================================


[core]
name: 坦克碉堡2
copyFrom: 坦克碉堡.ini
showInEditor: false


[graphics]

animation_idle_start: 19
animation_idle_end: 19
animation_idle_speed: 1


[hiddenAction_1]
autoTrigger: if self.transportingCount(empty=true)
playSoundAtUnit: ROOT:\音频\语音+音效\btandowa.wav:2
alsoQueueAction: 切换


[hiddenAction_切换]
buildSpeed: 1.0s
whenBuilding_playAnimation: 卸载动画
convertTo: 坦克碉堡
convertTo_keepCurrentTags: true




================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/加特林机炮建造.ini
================================================================================


[core]
name: 加特林机炮建造
price: 0
maxHp: 800
mass: 50000
radius: 15

copyFrom: ROOT:\共享文件\3类\单位价值.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑, 克生物, 克建筑, 建筑防甲, 加特林机炮
displayText: Gatling Cannon
displayText_zh: 加特林机炮
displayDescription: Target: Air unit/Ground unit\nDamage creature: High\nDamage armor: Low\nDamage building: Low\nDamage air: High\n Special: The rate of fire gradually increases with the time of continuous firing.\nPower: -50
displayDescription_zh: 攻击目标：空中单位/地面单位\n伤害生物：高\n伤害装甲：低\n伤害建筑：低\n伤害空军：高\n特殊：射速随着持续开火的时间而逐渐变快\n电力占用：50
isBuilding: true
buildSpeed: 0
selfBuildRate: 0s
fogOfWarSightRange: 5
effectOnDeath: CUSTOM:土坑3*3, CUSTOM:土坑4, CUSTOM:炸毁


[placementRule_建造规则]
searchTeam: own
searchDistance: 280


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 280


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\加特林机炮图标.png
image:        加特林机炮建造.png

default_frame: 12
total_frames: 13
#image_offsetX: 0
image_offsetY: -16
imageScale: 1.05
animation_idle_start: 12
animation_idle_end: 12
animation_idle_speed: 1
rotate_with_direction: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_建造声]
autoTriggerOnEvent: created
playAnimation: jianzao
playSoundAtUnit: ROOT:\音频\语音+音效\uplace.wav:2


[hiddenAction_卖声]
playSoundAtUnit: ROOT:\音频\语音+音效\uselbuil.wav:2


[hiddenAction_卖钱]
autoTrigger: if self.hasFlag(id=27)
alsoQueueAction: 卖钱2


[hiddenAction_卖钱2]
buildSpeed: 1s
whenBuilding_playAnimation: 卖钱
whenBuilding_triggerAction: 卖声
addResources: 资金=${int(template_zijin.price*0.75)}
deleteSelf: true


[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=1) and not self.hasFlag(id=27)
setBodyRotation: 315
#showMessageToAllPlayers: 触发
convertTo: 加特林机炮


[hiddenAction_初始价值]
addResources: 价值=40


[animation_jianzao]
body_0s: {frame:0}
body_1s: {frame:12}


[animation_卖钱]
body_0s: {frame:12}
body_1s: {frame:0}


[effect_土坑3]
image: ROOT:\共享文件\1类\土坑02.png
life: 1200
scaleFrom: 1.02
scaleTo: 1.02
alpha: 0.5
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  40
yOffsetRelativeRandom:  40
spawnChance: 0.5
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_土坑4]
@copyFromSection: effect_土坑3
image: ROOT:\共享文件\1类\土坑11.png
xOffsetRelativeRandom:  0
yOffsetRelativeRandom:  0
spawnChance: 0.5


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 800

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/心灵控制塔.ini
================================================================================


[core]
name: 心灵控制塔
price: 0
maxHp: 600
mass: 20000
radius: 15

#overrideAndReplace: laserDefence
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq, ROOT:\共享文件\3类\血条3.xxhq
tags: 原始护甲, 建筑, 心灵控制塔, 克生物, 克装甲, 防御建筑, 建筑防甲, 免疫心控
displayText: Mind Control Tower
displayText_zh: 心灵控制塔
displayDescription: Can control nearby enemies\nspecial: Power: -125
displayDescription_zh: 可以控制临近的敌人\n电力占用：125
borrowResourcesWhileAlive: 电力=125
fogOfWarSightRange: 10
buildSpeed: 0
selfBuildRate: 1s
footprint: 0,0,0,0
#displayFootprint: -1,-1,1,1
constructionFootprint: -1,-1,1,0
isBuilding: true
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2, CUSTOM:炸毁


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\心灵控制塔图标.png
image:        心灵控制塔.png

default_frame: 15
total_frames: 28
imageScale: 1.02
image_offsetX: 0
image_offsetY: -15
animation_idle_start: 17
animation_idle_end: 27
animation_idle_speed: 8
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:  if self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击') and self.resource(type='入侵计时', empty=true) 
canAttackUnderwaterUnits: false

turretSize: 20
aimOffsetSpread: 0
shootDelay: 60
#canOnlyAttackUnitsWithTags: 心控
canOnlyAttackUnitsWithoutTags: 免疫心控, 铁幕保护, 免伤, 力场保护, 超时空免伤, 特殊免伤, 建筑, 建筑2


[movement]
movementType: BUILDING



[attachment_1]
x: 5
y: 5

idleDir: 0
#isVisible: false
isUnselectable: true
canBeAttackedAndDamaged: false
keepAliveWhenParentDies: true
prioritizeParentsMainTarget: true
resetRotationWhenNotAttacking:true
onCreateSpawnUnitOf: 主脑坦克控件
showAllActionsFrom: true


[attachment_2]
x: -5
y: 5

@copyFromSection: attachment_1



[attachment_3]
x: 5
y: -5

@copyFromSection: attachment_1


[turret_1]
x: 0
y: 0

limitingRange: 240
canOnlyAttackUnitsWithoutTags: 免疫心控, 铁幕保护, 免伤, 力场保护, 超时空免伤, 特殊免伤
onShoot_triggerActions: Ai攻击取消


[projectile_1]
directDamage: 0
life: 0
delayedStartTimer: 30


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_停电]
autoTrigger: if (not self.resource(type="电力",greaterThan=0) or self.tags(includes='禁止攻击')) and not self.hasFlag(id=0)
playAnimation: 停电动画
addResources: setFlag=0
temporarilyAddTags: 无电力


[hiddenAction_停电2]
autoTrigger: if self.resource(type="电力",greaterThan=0) and self.hasFlag(id=0) and not self.tags(includes='禁止攻击')
stopLastAnimation: true
addResources: unsetFlag=0
temporarilyRemoveTags: 无电力


[hiddenAction_初始价值]
addResources: 价值=60


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:15}


[animation_停电动画]
body_0s: {frame:18}
body_99999s: {frame:18}


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 1200
@global dianli: -75


[ai]
buildPriority: 0.04
recommendedInEachBaseNum: 3
recommendedInEachBasePriorityIfUnmet: 0.25
noneInBaseExtraPriority: 0.1
maxEachBase: 6

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/加特林机炮3.ini
================================================================================

[core]
name: 加特林机炮3
copyFrom: 加特林机炮.ini
showInEditor:false


[hiddenAction_射速加快]
autoTrigger: false
playSoundAtUnit: ROOT:\音频\语音+音效\vgatlo7a.wav:2
convertTo: 加特林机炮3
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed


[hiddenAction_射击停止]
autoTrigger: if not self.isAttacking() and self.customTimer(laterThanSeconds=5)
playSoundAtUnit: ROOT:\音频\语音+音效\vgatlo9a.wav:2
addResources: ammo=-9999
convertTo: 加特林机炮
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed


[attack]

shootDelay: 4


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\vgatlo8a.wav, ROOT:\音频\语音+音效\vgatlo8b.wav
shoot_sound_vol: 2


[turret_2]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\vgatlo8a.wav, ROOT:\音频\语音+音效\vgatlo8b.wav
shoot_sound_vol: 2


================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/心灵控制.ini
================================================================================


[core]
name: 心灵控制
price: 0
maxHp: 10000
mass: 5000
radius: 10

tags: 打爆死人
#createNeutral: true
#stayNeutral: true
isBuilding: true
disableAllUnitCollisions: true
fogOfWarSightRange: 8
canNotBeDirectlyAttacked: true
isUnselectable: true
#armour: 99999
#armourMinDamageToKeep: 0
displayText: Psychic Dominator
displayText_zh: 心灵控制
displayDescription: Controlling a small range of units also causes very strong damage to buildings.
displayDescription_zh: 控制小范围的单位同时对建筑物造成非常强大的损伤。


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\心灵控制图标.png
image:        ROOT:\共享文件\1类\隐藏.png

imageScale:	1.02
#image_wreak:  辐射.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 220


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[turret_1]
x: 0
y: 0

#shoot_sound: ROOT:\音频\语音+音效\snukintr.wav:2
#shoot_sound_vol:0.02


[projectile_1]
areaDamage: 5000
life: 30

areaRadius: 220
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
explodeOnEndOfLife: true
speed: 0
friendlyFire: true
spawnUnit: 心灵控制中介*2
explodeEffect: CUSTOM:冲击波
#explodeEffect: CUSTOM:核光, CUSTOM:核辐射, CUSTOM:核爆
delayedStartTimer: 90
#buildingDamageMultiplier: 1.4
mutator1_ifUnitWithTags: 1级
mutator1_areaDamageMultiplier: 0.8
mutator2_ifUnitWithTags: 2级
mutator2_areaDamageMultiplier: 0.6
mutator3_ifUnitWithTags: 3级
mutator3_areaDamageMultiplier: 0.4
mutator7_ifUnitWithTags: 核弹井, 天气控制器, 心灵支配仪
mutator7_areaDamageMultiplier: 0.5
mutator4_ifUnitWithTags: 生物, 装甲, 生物2, 空军
mutator4_areaDamageMultiplier: 0
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.80
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.00


[hiddenAction_震爆]
#autoTriggerOnEvent: created
autoTrigger: if not self.hasFlag(id=0)
addResources: setFlag=0
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,0
spawnEffects: CUSTOM:心灵控制, CUSTOM:全图亮
playSoundGlobally: ROOT:\音频\语音+音效\spsydom.wav:2


[hiddenAction_消失]
autoTrigger: if self.timeAlive(laterThanSeconds=3)
deleteSelf: true


[effect_心灵控制]
image: 心灵控制.png
scaleFrom: 1.05
scaleTo: 1.05
total_frames: 30
animateFrameStart: 0
animateFrameEnd: 29
animateFrameSpeed: 0.25
hOffset: 160
#xOffsetRelative	:  -30
#yOffsetRelative: 20
priority: critical
life: 240
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
alwayStartDirAtZero: true
#delayedStartTimer: 30


[effect_冲击波]
image: ROOT:\共享文件\1类\心灵清除.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_全图亮]
priority: veryhigh
createWhenOffscreen: true
#alsoEmitEffectsOnDeath: CUSTOM:天黑2
image: ROOT:\共享文件\1类\地图渲染.png
color: #FFFF484B
scaleFrom: 100
scaleTo: 100
alpha: 0.8
life: 240
#dirOffsetRandom:180
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 120
fadeOut: true
attachedToUnit: false
drawUnderUnits: false

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/加特林机炮2.ini
================================================================================

[core]
name: 加特林机炮2
copyFrom: 加特林机炮.ini
showInEditor:false


[hiddenAction_射速加快]
autoTrigger: if self.ammo(greaterThan=100)
playSoundAtUnit: ROOT:\音频\语音+音效\vgatlo7a.wav:2
convertTo: 加特林机炮3
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed


[hiddenAction_射击停止]
autoTrigger: if not self.isAttacking() and self.customTimer(laterThanSeconds=5)
playSoundAtUnit: ROOT:\音频\语音+音效\vgatlo6a.wav:2
addResources: ammo=-9999
convertTo: 加特林机炮
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed


[attack]

shootDelay: 8


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\vgatlo5a.wav, ROOT:\音频\语音+音效\vgatlo5b.wav
shoot_sound_vol: 2


[turret_2]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\vgatlo5a.wav, ROOT:\音频\语音+音效\vgatlo5b.wav
shoot_sound_vol: 2


================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/尤里墙那.ini
================================================================================

[core]
name: 尤里墙那
copyFrom: 尤里墙墩.ini
footprint: -2,0,1,0
constructionFootprint: -1,0,0,0
displayText: Yuri Fortress Wall 3
displayText_zh: 尤里墙那


[graphics]
imageScale: 1.2
image:尤里墙那.png

image_offsetX:-10
image_offsetY:-10

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/心灵控制中介.ini
================================================================================


[core]
name: 心灵控制中介
price: 0
maxHp: 1000
mass: 1000
radius: 10

tags: 心灵控制中介
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
isUnselectable: true
showInEditor: false


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 99
maxAttackRange: 80
shootDelay: 1


[movement]
movementType: LAND


[turret_1]
x: 0
y: 0

canOnlyAttackUnitsWithoutTags: 英雄, 铁幕保护, 免伤, 力场保护, 超时空免伤, 特殊免伤, 特殊免控, 建筑, 史诗级单位
projectile: 1


[projectile_1]
directDamage: 1
life: 60

instant: true
convertHitToSourceTeam: true
explodeEffect: NONE
mutator7_ifUnitWithoutTags: 无
mutator7_directDamageMultiplier: 0


[hiddenAction_1] 
autoTrigger: if self.timeAlive(laterThanSeconds=3)
deleteSelf: true
#showMessageToAllPlayers: 删除


[hiddenAction_自动攻击]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='心控', greaterThan=0, withinRange=80)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 心控
addWaypoint_target_nearestUnit_maxRange: 80
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/心灵控制器.ini
================================================================================


[core]
name: 心灵控制器
price: 0
maxHp: 1250
mass: 50000
radius: 35

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq
displayText: Psychic Dominator Device
displayText_zh: 心灵控制器
displayDescription: Super weapon \n Countdown 10 minutes \n Concussion can be deployed at the Psychic Dominator\nPower: -400
displayDescription_zh: 超级武器\n倒计时10分钟\n时间结束可部署心灵控制\仅限一座\电力占用：400
borrowResourcesWhileAlive: 电力=400
tags: 原始护甲, 建筑, 心灵控制器, 可入侵, 建筑重甲, 免疫入侵, 带扩展建筑
fogOfWarSightRange: 6
armour: 99999
armourMinDamageToKeep: 600
isBuilding: true
footprint: -2,-1,2,0
displayFootprint: -3,-2,3,1
constructionFootprint:-3,-2,3,1
buildSpeed: 0
selfBuildRate: 1s
#displayLocaleKey: NukeLaucher
#overrideAndReplace: NukeLaucher
isLockedIfGameModeNoNuke: true
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\心灵控制器图标.png
image:        心灵控制器.png

default_frame: 12
total_frames: 30
imageScale: 1.02
#image_offsetX: -10
image_offsetY: -50
#image_wreak:  NONE
animation_idle_start: 12
animation_idle_end: 12
animation_idle_speed: 6
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[action_显示计时]
text: Countdown
text_zh: 倒计时
price: 心灵控制计时=1
displayRemainingStockpile: true
displayType: rally
isActive: false
isAlsoViewableByAllies: true
#isVisible: if not self.resource(type='临时救援计时', empty=true)
#addResources: 超时空计时=-1
showMessageToAllPlayers: 触发


[action_卖钱2]
autoTrigger: if self.hasFlag(id=29) and self.queueSize(empty=true)


[hiddenAction_时]
autoTriggerOnEvent: created
addResources: 心灵控制计时=420
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，心灵控制器已放置完成
showMessageToAllEnemyPlayers: System warning: Psychic Dominator Device has been placed! Player: %{self.playerName}, team: %{self.teamName}.
#playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav


[hiddenAction_倒计时] 
autoTrigger: if not self.resource(type='心灵控制计时', empty=true) and self.resource(type="电力",greaterThan=0)
addResources: 心灵控制计时=-1


[hiddenAction_倒计时2] 
autoTrigger: if self.resource(type='心灵控制计时', equalTo=60) and self.resource(type="电力",greaterThan=0)
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，心灵控制器倒计时还剩60秒启动
showMessageToAllEnemyPlayers: System warning: Psychic Dominator Device countdown with 60 seconds left! Player: %{self.playerName}, team: %{self.teamName}.
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_重置计时] 
requireConditional: if numberOfUnitsInTeam(withTag='心灵控制器', lessThan=1)
autoTriggerOnEvent: destroyed
resourceAmount: 心灵控制计时
resourceAmount_setValue: 0


[hiddenAction_重置计时2] 
autoTrigger: if not self.resource(type='入侵计时', empty=true)
showMessageToPlayer_zh: 系统警告：心灵控制器倒计时被重置
showMessageToPlayer: System warning: Psychic Dominator Device countdown has been reset!
showMessageToAllEnemyPlayers_zh: 系统提示：%{self.teamName}队的%{self.playerName}，心灵控制器倒计时已经被重置
showMessageToAllEnemyPlayers: System hint: Psychic Dominator countdown has been reset. Player: %{self.playerName}, team: %{self.teamName}.
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2
autoTriggerOnEvent: teamChanged
resourceAmount: 心灵控制计时
resourceAmount_setValue: 420
alsoTriggerAction: 重置计时3


[hiddenAction_重置计时3]
resourceAmount: 入侵计时
resourceAmount_setValue: 0


[hiddenAction_1] 
autoTrigger: if self.resource(type='心灵控制计时', lessThan=11) and self.queueSize(empty=true)
showMessageToPlayer_zh: 系统提示：心灵控制器已经启动
showMessageToPlayer: System hint: Psychic Dominator Device is ready.
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，心灵控制器已经启动
showMessageToAllEnemyPlayers: System warning: Psychic Dominator Device is ready! Player: %{self.playerName}, team: %{self.teamName}.
playSoundGlobally: ROOT:\音频\语音+音效\spsyopen.wav:2
alsoQueueAction: 2


[hiddenAction_2]
buildSpeed: 0.65s
whenBuilding_playAnimation: 开关动画
convertTo: 心灵控制器2
convertTo_keepCurrentTags: true


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_初始价值]
addResources: 价值=200


[animation_开关动画]
body_0s: {frame:13}
body_0.70s: {frame:18}


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:12}


[effect_土坑2]
xOffsetRelativeRandom:  50
yOffsetRelativeRandom:  50


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[global_resource_心灵控制计时]
displayName: Psychic Dominator 
displayName_zh: 心灵控制倒计时
displayColor: #FF36006B


[template_zijin]
price: 5000
@global dianli: -400


#[ai]
#noneInBaseExtraPriority:0.10
#noneGlobalExtraPriority:0.10
#maxGlobal: 1

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/基因突变器.ini
================================================================================


[core]
name: 基因突变器
price: 0
maxHp: 1200
mass: 50000
radius: 35

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\阵营防御共同.xxhq
displayText: Genetic Exciter
displayText_zh: 基因突变器
displayDescription: Convert all infantry units in the selected area to Brute.\nspecial: Super weapon.\nLimited to one.\nNeed time to prepare.\nPower: -200
displayDescription_zh: 将选定的区域中的所以步兵单位全部转化为狂兽人。\n电力占用：200\n特殊：超级武器\n限造一台\n需要时间准备
borrowResourcesWhileAlive: 电力=200
tags: 原始护甲, 建筑, 基因突变器, 可入侵, 建筑重甲, 免疫入侵, 带扩展建筑
fogOfWarSightRange: 6
armour: 99999
armourMinDamageToKeep: 600
isBuilding: true
footprint: -2,-1,2,0
displayFootprint: -3,-2,3,1
constructionFootprint:-3,-2,3,1
buildSpeed: 0
selfBuildRate: 1s
#displayLocaleKey: NukeLaucher
#overrideAndReplace: NukeLaucher
isLockedIfGameModeNoNuke: true
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 360


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 360


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\基因突变器图标.png
image:        基因突变器.png

default_frame: 14
total_frames: 45
imageScale: 1.02
#image_offsetX: -10
image_offsetY: -50
#image_wreak:  NONE
animation_idle_start: 14
animation_idle_end: 14
animation_idle_speed: 6
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[action_显示计时]
text: Countdown
text_zh: 倒计时
price: 基因突变计时=1
displayRemainingStockpile: true
displayType: rally
isActive: false
isAlsoViewableByAllies: true
#isVisible: if not self.resource(type='临时救援计时', empty=true)
#addResources: 超时空计时=-1
showMessageToAllPlayers: 触发


[action_卖钱2]
autoTrigger: if self.hasFlag(id=29) and self.queueSize(empty=true)


[hiddenAction_时]
autoTriggerOnEvent: created
addResources: 基因突变计时=300
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，基因突变器已放置完成
showMessageToAllEnemyPlayers: System warning: Frantic Exciter has been placed! Player: %{self.playerName}, team: %{self.teamName}.
#playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav


[hiddenAction_倒计时] 
autoTrigger: if not self.resource(type='基因突变计时', empty=true) and self.resource(type="电力",greaterThan=0)
addResources: 基因突变计时=-1


[hiddenAction_倒计时2] 
autoTrigger: if self.resource(type='基因突变计时', equalTo=60) and self.resource(type="电力",greaterThan=0)
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，基因突变倒计时还剩60秒启动
showMessageToAllEnemyPlayers: System warning: Genetic Exciter countdown with 60 seconds left! Player: %{self.playerName}, team: %{self.teamName}.
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2


[hiddenAction_重置计时] 
requireConditional: if numberOfUnitsInTeam(withTag='基因突变器', lessThan=1)
autoTriggerOnEvent: destroyed
resourceAmount: 基因突变计时
resourceAmount_setValue: 0


[hiddenAction_重置计时2] 
autoTrigger: if not self.resource(type='入侵计时', empty=true)
showMessageToPlayer_zh: 系统警告：基因突变器倒计时被重置
showMessageToPlayer: System warning: Frantic Exciter countdown has been reset!
showMessageToAllEnemyPlayers_zh: 系统提示：%{self.teamName}队的%{self.playerName}，基因突变器倒计时已经被重置
showMessageToAllEnemyPlayers: System hint: Genetic Exciter countdown has been reset. Player: %{self.playerName}, team: %{self.teamName}.
playSoundGlobally: ROOT:\音频\语音+音效\uwarning.wav:2
autoTriggerOnEvent: teamChanged
resourceAmount: 基因突变计时
resourceAmount_setValue: 300
alsoTriggerAction: 重置计时3


[hiddenAction_重置计时3]
resourceAmount: 入侵计时
resourceAmount_setValue: 0


[hiddenAction_1] 
autoTrigger: if self.resource(type='基因突变计时', lessThan=11) and self.queueSize(empty=true)
showMessageToPlayer_zh: 系统提示：基因突变器已经启动
showMessageToPlayer: System hint: Frantic Exciter is ready.
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，基因突变器已经启动
showMessageToAllEnemyPlayers: System warning: Genetic Exciter is ready! Player: %{self.playerName}, team: %{self.teamName}.
playSoundGlobally: ROOT:\音频\语音+音效\sgenopen.wav:2
alsoQueueAction: 2


[hiddenAction_2]
buildSpeed: 1.05s
whenBuilding_playAnimation: 开关动画
convertTo: 基因突变器2
convertTo_keepCurrentTags: true


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_初始价值]
addResources: 价值=150


[animation_开关动画]
body_0s: {frame:15}
body_1.05s: {frame:22}


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:14}


[effect_土坑2]
xOffsetRelativeRandom:  50
yOffsetRelativeRandom:  50


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[global_resource_基因突变计时]
displayName: Genetic Exciter
displayName_zh: 基因突变倒计时
displayColor: #FFEF00DB


[template_zijin]
price: 3000
@global dianli: -400


#[ai]
#noneInBaseExtraPriority:0.10
#noneGlobalExtraPriority:0.10
#maxGlobal: 1

================================================================================
// FILE_PATH: ./1尤里军团/建筑–防御/基因突变器2.ini
================================================================================


[core]
name: 基因突变器2
copyFrom: 基因突变器.ini
showInEditor: false


[graphics]
image:        基因突变器.png

default_frame: 0
total_frames: 45
animation_idle_start: 20
animation_idle_end: 27
animation_idle_speed: 5


[attack]
canAttack: true
canAttackLandUnits: if self.isControlledByAI()
turretMultiTargeting: true


[turret_基因突变]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 基因突变


[projectile_基因突变]
directDamage: 0
life: 60

instant: true
targetGround: true
explodeEffect: NONE
spawnUnit: 基因突变


[action_基因突变]
text: Ready
text_zh: 已就绪
description: Please click where you want to launch.\nBe careful not to click to your position.
description_zh: 设置你的目标
isVisible: if self.queueSize(empty=true) and self.resource(type='基因突变计时', empty=true) and self.resource(type="电力",greaterThan=0)
buildSpeed: 0s
iconImage: ROOT:\单位图标\尤里\建筑\基因突变图标.png
displayType: rally
alsoQueueAction: 2
fireTurretXAtGround: 基因突变
isGuiBlinking: if self.resource(type='基因突变计时', empty=true) and self.resource(type="电力",greaterThan=0)
showMessageToAllEnemyPlayers: System warning: Genetic Exciter has been released! Player: %{self.playerName}, Team: %{self.teamName}.
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，基因突变已经释放!


[hiddenAction_基因突变-Ai]
autoTrigger: if self.isControlledByAI() and self.queueSize(empty=true) and self.hasFlag(id=1)
addResources: unsetFlag=1
#showMessageToAllPlayers: 触发
alsoQueueAction: 2


[hiddenAction_基因突变发射-Ai]
showMessageToAllEnemyPlayers: System warning: Genetic Exciter has been released! Player: %{self.playerName}, Team: %{self.teamName}.
showMessageToAllEnemyPlayers_zh: 系统警告：玩家：%{self.playerName}，队伍：%{self.teamName}，基因突变已经释放!


[action_卖钱2]
autoTrigger: false
#convertTo: 天气控制器
stopLastAnimation: true
alsoQueueAction: 2


[hiddenAction_停电]
autoTrigger: if not self.resource(type="电力",greaterThan=0) and not self.hasFlag(id=0)
playAnimation: 停电动画
addResources: setFlag=0


[hiddenAction_停电2]
autoTrigger: if self.resource(type="电力",greaterThan=0) and self.hasFlag(id=0)
stopLastAnimation: true
addResources: unsetFlag=0


[hiddenAction_时]
@copyFrom_skipThisSection: true 


#[hiddenAction_倒计时] 
#@copyFrom_skipThisSection: true 


[hiddenAction_1]
@copyFrom_skipThisSection: true 


[hiddenAction_准备音效] 
autoTrigger: if self.queueSize(empty=true) and self.resource(type="电力",greaterThan=0)
playSoundAtUnit: ROOT:\音频\语音+音效\sgenlo2a.wav:2, ROOT:\音频\语音+音效\sgenlo2b.wav:2, ROOT:\音频\语音+音效\sgenlo2c.wav:2


[hiddenAction_2]
buildSpeed: 0.9s
addResources: 基因突变计时=300
convertTo: 基因突变器


[animation_开关动画]
body_0s: {frame:28}
body_0.9s: {frame:44}
body_1.05s: {frame:44}


[animation_停电动画]
body_0s: {frame:26}
body_99999s: {frame:26}


[ai]
upgradedFrom: 基因突变器

================================================================================
// FILE_PATH: ./1尤里军团/空军/亚克坠毁.ini
================================================================================


[core]
name: 亚克坠毁
price: 0
maxHp: 360
mass: 6000
radius: 0

copyFrom: ROOT:\共享文件\3类\机毁飞溅.xxhq, ROOT:\共享文件\3类\生命保险.xxhq
showInEditor: false
fogOfWarSightRange: 0
soundOnDeath: ROOT:\音频\语音+音效\vintdiea.wav:2, ROOT:\音频\语音+音效\vintdieb.wav:2


[graphics]
image:        亚克.png

#scaleImagesTo: 90
#imageScale:	0.85
#image_offsetY:-5
frame_width: 120
frame_height: 120
image_wreak: ROOT:\共享文件\1类\死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影4.png
shadowOffsetX:0
shadowOffsetY:0
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffectRate: 1


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 3
moveAccelerationSpeed: 2.0
moveDecelerationSpeed: 0
maxTurnSpeed: 2.5
turnAcceleration: 0.5
targetHeight: 0
targetHeightDrift: 0
startingHeightOffset: 200
heightChangeRate: 1.5


[hiddenAction_1]
autoTriggerOnEvent: created
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_relativeOffsetFromSelf: 0, 100


[template_zijin]
price: 1450

================================================================================
// FILE_PATH: ./1尤里军团/空军/镭射幽浮坠毁.ini
================================================================================


[core]
name: 镭射幽浮坠毁
price: 0
maxHp: 50
mass: 300
radius: 20

copyFrom: ROOT:\共享文件\3类\机毁飞溅.xxhq
#isUnselectable: true
fireTurretXAtSelfOnDeath: 死亡伤害
showInEditor: false
fogOfWarSightRange: 0
soundOnDeath: ROOT:\音频\语音+音效\bconcba.wav:2, ROOT:\音频\语音+音效\bconcbb.wav:2, ROOT:\音频\语音+音效\bconcbc.wav:2


[graphics]
image:        镭射幽浮坠毁.png

image_offsetY: 25
imageScale:	1
#scaleImagesTo: 90
total_frames: 32
image_wreak: ROOT:\共享文件\1类\死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX: 0
shadowOffsetY: 0
animation_moving_start: 0
animation_moving_end: 31
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 31
animation_idle_speed: 6
#animation_attack_start: 0
#animation_attack_end: 11
#animation_attack_speed: 6
rotate_with_direction: false
#movementEffect: CUSTOM:尾焰3, CUSTOM:尾焰2, CUSTOM:尾焰
movementEffectRate: 6


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 0.6
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0
maxTurnSpeed: 0
targetHeight: 0
targetHeightDrift: 0
startingHeightOffset: 100
moveSlidingMode : true
moveSlidingDir:  180
moveIgnoringBody: true
heightChangeRate: 2
#slowDeathFall: true
#landOnGround: true


[turret_死亡伤害]
x: 0
y: 0

canShoot: false
projectile: 死亡伤害


[projectile_死亡伤害]
areaDamage: 60
life: 0

invisible: true
areaRadius: 40
flameWeapon: true
explodeOnEndOfLife: true
hitSound: true
areaHitAirAndLandAtSameTime: true
#friendlyFire: true
buildingDamageMultiplier: 2


[hiddenAction_1]
autoTriggerOnEvent: created
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 0,0


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸24.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_尾焰]
scaleFrom: 0.5
scaleTo: 1.8


[effect_尾焰2]
scaleFrom: 0.5
scaleTo: 3


[effect_尾焰3]
scaleFrom: 0.1

================================================================================
// FILE_PATH: ./1尤里军团/空军/亚克.ini
================================================================================


[core]
name: 亚克
price: 资金=1450
maxHp: 320
#200
mass: 6000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营飞机共同.xxhq
tags: 原始护甲, 中级, 飞机轻甲, 战机, 空军, 克装甲, 克空军, 亚克战机
#overrideAndReplace: amphibiousJet, bomber, fireBee, missileAirship
displayText: Yak
displayText_zh: 亚克战机
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: High\nDamage building: Medium
displayDescription_zh: 攻击目标：地面单位\n伤害生物：高\n伤害装甲：高\n伤害建筑：中
buildSpeed: 14s
softCollisionOnAll: 10
#disableAllUnitCollisions: true
energyMax: 6
energyRegen: 0
energyNeedsToRechargeToFull: false
selfRegenRate: 0.06
soundOnAttackOrder:  ROOT:\音频\语音+音效\vyakata.wav:2, ROOT:\音频\语音+音效\vyakatb.wav:2, ROOT:\音频\语音+音效\vyakatc.wav:2, ROOT:\音频\语音+音效\vyakatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vyakmoa.wav:2, ROOT:\音频\语音+音效\vyakmob.wav:2, ROOT:\音频\语音+音效\vyakmoc.wav:2, ROOT:\音频\语音+音效\vyakmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vyaksea.wav:2, ROOT:\音频\语音+音效\vyakseb.wav:2, ROOT:\音频\语音+音效\vyaksec.wav:2, ROOT:\音频\语音+音效\vyaksed.wav:2
unitsSpawnedOnDeath: 亚克坠毁(addResources=hp:-999, spawnChance=0.5, maxSpawnLimit=1), 亚克坠毁(maxSpawnLimit=1)


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\亚克图标.png
image:        亚克.png

imageScale:	1.0
#image_offsetY: 10
frame_width: 120
frame_height: 120
image_wreak: NONE
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影4.png
shadowOffsetX:0
shadowOffsetY:5
movementEffect: CUSTOM:尾焰, CUSTOM:尾焰3, CUSTOM:尾焰4
movementEffectRate: 1
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

attackMovement: bomber
turretSize: 10
turretTurnSpeed: 10
maxAttackRange: 210
#200
shootDelay: 5
canOnlyAttackUnitsWithoutTags: 伪装, 驾驶


[movement]
movementType: AIR

moveSpeed: 2.7
moveAccelerationSpeed: 1.00
moveDecelerationSpeed: 0.05
maxTurnSpeed: 2.5
turnAcceleration: 0.5
targetHeight: 140
reverseSpeedPercentage: 0


[turret_1]
x: 0
y: 0

barrelHeight: -10
barrelX: -12
barrelOffsetX_onOddShots: 24
shoot_sound: ROOT:\音频\语音+音效\vjabwea2a.wav
shoot_sound_vol: 2
energyUsage: 3
projectile: 1


[projectile_1]
areaDamage: 150
life: 600

areaRadius: 20
speed: 2
targetSpeed: 8
#initialUnguidedSpeedHeight: 2
#gravity: 0.18
frame: 4
drawSize: 0.9
trailEffect: CUSTOM:尾烟*1
trailEffectRate: 2
friendlyFire:true
#targetGround: true
explodeEffect: CUSTOM:爆炸, CUSTOM:映射
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.8
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.8
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.6
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 1.0
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.0
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.8
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.6
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.8


[action_补充弹药]
text: Missiles
text_zh: 弹药
description: 
displayType: none
autoTrigger: if self.hasParent() and not self.energy(full=true)
price: energy=1
displayRemainingStockpile: true
isActive: false
addResources: energy=2


[hiddenAction_补充弹药3]
autoTrigger: if not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.hasParent() and (self.energy(empty=true) or (not self.isControlledByAI() and not self.isAttacking() and not self.hasActiveWaypoint(type='attackMove') and not self.hasActiveWaypoint(type='attack') and self.hasUnitInTeam(withTag='机场')))
clearActiveWaypoint: true
addWaypoint_type: loadInto
addWaypoint_prepend: true
#addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 机场空
addWaypoint_triggerActionIfFailed: 自毁


[hiddenAction_初始入]
autoTriggerOnEvent: created
requireConditional: if self.hasUnitInTeam(withTag='机场')
alsoTriggerAction: 补充弹药3


[hiddenAction_自毁]
addResources: hp=-10000


[hiddenAction_攻击]
autoTrigger: if self.hasParent() and self.hasActiveWaypoint(type='attack')
disconnectFromParent: true


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=255) and not self.energy(empty=true)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 255
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击空军]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=215) and not self.energy(empty=true)
@copyFromSection: hiddenAction_Ai攻击装甲
addWaypoint_target_nearestUnit_tagged: 空军


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=100) and self.hp(lessThan=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克生物
addWaypoint_target_mapMustBeReachable: false
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='机场') and not self.hasUnitInTeam(withTag='机场', withinRange=100) and self.hp(lessThan=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=215) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 机场


[hiddenAction_初始价值]
addResources: 价值=55


[hiddenAction_清除攻击路径]
autoTrigger: if self.hasActiveWaypoint(type='attack') and activeWaypointTarget.hp<=0
clearActiveWaypoint: true
#showMessageToAllPlayers: 测试


[effect_爆炸]
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
image: ROOT:\共享文件\1类\炸毁5.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 1.5
scaleTo: 0.2
alpha: 0.4
life: 35
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟2.png
life: 60
scaleFrom: 0.4
scaleTo: 0.2
attachedToUnit: false
drawUnderUnits: false
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFramePingPong: false
animateFrameSpeed: 0.25
alwayStartDirAtZero: true
atmospheric: true


[effect_尾焰]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #FFFFFF00
fadeInTime: 0
scaleFrom: 0.6
scaleTo: 0.3
alpha: 0.8
life: 20
dirOffsetRandom: 180
yOffsetRelative: -35
#xSpeedAbsoluteRandom:0.4
#ySpeedAbsoluteRandom:0.1
fadeOut: true
attachedToUnit: false
drawUnderUnits:false
#shadow: true


[effect_尾焰3]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
image: ROOT:\共享文件\1类\尾烟.png
life: 45
fadeOut:true
color:#FFFFFF
fadeInTime: 3
scaleFrom: 2.5
scaleTo: 0
alpha: 1
#dirOffsetRandom: 180
xOffsetRelative: 20
yOffsetRelative: -15
atmospheric:true
#xSpeedAbsoluteRandom:0.4
#ySpeedAbsoluteRandom:0.1
attachedToUnit: false
drawUnderUnits:false
#shadow: true


[effect_尾焰4]
@copyFromSection: effect_尾焰3
xOffsetRelative: -20


[template_zijin]
price: 1450

================================================================================
// FILE_PATH: ./1尤里军团/空军/镭射幽浮.ini
================================================================================

[core]
name: 镭射幽浮
price: 资金=1800
maxHp: 700
mass: 12000
radius: 35

tags: 空军, 克生物, 克空军, 镭射幽浮, 飞机中甲, 电死人, 免控
copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营飞机共同.xxhq
displayText: Floating Disk
displayText_zh: 镭射幽浮
displayDescription: Target: Air unit/Ground unit\nDamage creature: High\nDamage armor: Medium\nDamage building: Low\nDamage air: Medium\nspecial: Some buildings can be invaded to suspend their functions
displayDescription_zh: 攻击目标：地面单位/空中单位\n伤害生物：高\n伤害装甲：中\n伤害建筑：低\n伤害空军：中\n特殊：可以入侵部分建筑暂停其功能
buildSpeed: 16s
fogOfWarSightRange: 12
selfRegenRate: 0.06
soundOnAttackOrder:  ROOT:\音频\语音+音效\vfloata.wav:2, ROOT:\音频\语音+音效\vfloatb.wav:2, ROOT:\音频\语音+音效\vfloatc.wav:2, ROOT:\音频\语音+音效\vfloatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vflomoa.wav:2, ROOT:\音频\语音+音效\vflomob.wav:2, ROOT:\音频\语音+音效\vflomoc.wav:2, ROOT:\音频\语音+音效\vflomod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vflosea.wav:2, ROOT:\音频\语音+音效\vfloseb.wav:2, ROOT:\音频\语音+音效\vflosec.wav:2, ROOT:\音频\语音+音效\vflosed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vflodiea.wav:2
unitsSpawnedOnDeath: 镭射幽浮坠毁


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\镭射幽浮图标.png
image:        镭射幽浮.png

total_frames: 32
image_offsetY: 10
imageScale:	1.0
image_shadow: AUTO_ANIMATED
shadowOffsetX: 0
shadowOffsetY: 0
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 7
animation_idle_start: 0
animation_idle_end: 1
animation_idle_speed: 7
animation_attack_start: 0
animation_attack_end: 1
animation_attack_speed: 7
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack:true
canAttackFlyingUnits: if not self.tags(includes='禁止攻击')
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits:false

turretSize: 0
turretTurnSpeed: 6
maxAttackRange: 240
shootDelay: 90
aimOffsetSpread: 0
canOnlyAttackUnitsWithoutTags: 伪装, 驾驶


[movement]
movementType:AIR

moveSpeed: 1.80
moveAccelerationSpeed: 0.06
moveDecelerationSpeed: 0.20
targetHeight: 160
targetHeightDrift: 5
maxTurnSpeed:2
turnAcceleration:1
moveSlidingMode:true
moveIgnoringBody:true
moveSlidingDir:40
#slowDeathFall: true
#slowDeathFallSmoke: false 

[turret_1]
x:0
y:0

size: 35
warmup: 30
warmupStartEffect:CUSTOM:预热
#shoot_flame: CUSTOM:闪光2
canOnlyAttackUnitsWithoutTags: 建筑, 建筑2
shoot_sound: ROOT:\音频\语音+音效\vfloatta.wav
shoot_sound_vol: 2.0


[turret_2]
x: 0
y: 0

limitingRange: 20
shoot_sound: ROOT:\音频\语音+音效\vflolo5a.wav, ROOT:\音频\语音+音效\vflolo5b.wav
shoot_sound_vol: 2
projectile: 2
delay: 35
canOnlyAttackUnitsWithoutTags: 生物, 装甲, 生物2, 矿厂, 免疫入侵, 电厂
onShoot_triggerActions: 入侵


[turret_3]
x: 0
y: 0

limitingRange: 20
shoot_sound: ROOT:\音频\语音+音效\vflolo5a.wav, ROOT:\音频\语音+音效\vflolo5b.wav
shoot_sound_vol: 2
resourceUsage: 资金=-200
canOnlyAttackUnitsWithTags: 矿厂
onShoot_triggerActions: 入侵效果
projectile: 3
delay: 50


[turret_4]
x: 0
y: 0

limitingRange: 20
shoot_sound: ROOT:\音频\语音+音效\vflolo5a.wav, ROOT:\音频\语音+音效\vflolo5b.wav
shoot_sound_vol: 2
canOnlyAttackUnitsWithTags: 电厂
onShoot_triggerActions: 入侵效果
projectile: 3
delay: 50


[projectile_1]
directDamage: 145
life: 25

beamImage: ROOT:\共享文件\1类\激光源.png 
color:#FF00FBFF
lightColor:#FF00FBFF
lightSize: 1
moveWithParent: true
instant: true
instantReuseLast: true
explodeEffect: CUSTOM:爆炸
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.80
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.60
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.40
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.60
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.40
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.00
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_directDamageMultiplier: 1.00
mutator28_ifUnitWithTags: 飞机中甲
mutator28_directDamageMultiplier: 0.80
mutator29_ifUnitWithTags: 飞机重甲
mutator29_directDamageMultiplier: 0.60
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_directDamageMultiplier: 0.40


[projectile_2]
directDamage: 1
life: 5

instant: true
explodeEffect: NONE
mutator7_ifUnitWithoutTags: 无
mutator7_directDamageMultiplier: 0


[projectile_3]
directDamage: 0
life: 5

instant: true
explodeEffect: NONE
spawnUnit: 入侵模块
#mutator7_ifUnitWithoutTags: 无
#mutator7_directDamageMultiplier: 0


[hiddenAction_1]
autoTrigger: if self.isMoving()
playSoundAtUnit: ROOT:\音频\语音+音效\vflolo1a.wav, ROOT:\音频\语音+音效\vflolo2a.wav, ROOT:\音频\语音+音效\vflolo2b.wav, ROOT:\音频\语音+音效\vflolo3a.wav


[hiddenAction_入侵]
takeResources: 入侵计时=-1
takeResources_includeUnitsWithinRange: 20
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy
spawnEffects: CUSTOM:入侵特效


[hiddenAction_入侵效果]
spawnEffects: CUSTOM:入侵特效


[hiddenAction_初始价值]
addResources: 价值=60


[hiddenAction_动画]
autoTrigger: if not self.hasFlag(id=0)
playAnimation: 旋转


[animation_旋转]
#onActions: underConstruction
body_0s: {frame:0}
body_1.5s: {frame:31}


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸28.png
#alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 0.6
scaleTo: 0.6
total_frames: 18
animateFrameStart: 0
animateFrameEnd: 17
animateFrameSpeed: 0.40
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_预热]
image: ROOT:\共享文件\1类\光2.png
alsoPlaySound: ROOT:\音频\语音+音效\vfloat1a.wav:2
color: #FF00FBFF
life: 30
scaleFrom: 1.5
scaleTo: 0.4
#hOffset: -15
fadeInTime: 0
fadeOut: false
dirSpeed: 3
attachedToUnit: true
drawUnderUnits: false


[effect_入侵特效]
image: 镭射幽浮特效.png
hOffset: -20
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 4
animateFrameStart: 0
animateFrameEnd: 3
animateFrameSpeed: 0.20
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
alwayStartDirAtZero: true


[resource_入侵计时]
displayName: Timing
displayName_zh: 入侵计时


[resource_入侵计时2]
displayName: Timing
displayName_zh: 入侵计时2


[template_zijin]
price: 1800

================================================================================
// FILE_PATH: ./1尤里军团/建筑–生产/尤里兵营停电.ini
================================================================================


[core]
name: 尤里兵营停电
copyFrom: 尤里兵营.ini
showInEditor: false

nanoFactorySpeed: 0.75


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 尤里兵营
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1尤里军团/建筑–生产/尤里船坞.ini
================================================================================


[core]
name: 尤里船坞
price: 0
maxHp: 1500
mass: 50000
radius: 40

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\生产控制.xxhq
tags: 原始护甲, 建筑, 船坞, 占领, 尤里船坞, 建筑轻甲
borrowResourcesWhileAlive: 电力=100
displayText: Yuri Naval Shipyard
displayText_zh: 尤里船坞
displayDescription: Produce and repair Yuri naval units\nPower: -100
displayDescription_zh: 生产和维修尤里海军单位\n电力占用：100
isBuilding: true
footprint: -6,-3,0,-1
displayFootprint: -7,-4,1,0
constructionFootprint: -7,-4,1,0
buildSpeed: 0
selfBuildRate: 1s
maxTransportingUnits: 1
transportUnitsRequireTag: 船坞维修
transportUnitsBlockAirAndWaterUnits: false
transportUnitsBlockOtherTransports: false
transportUnitsKillOnDeath: false
transportUnitsHealBy: 0.15
exit_x:0
exit_y:0
exit_dirOffset: 45
exit_moveAwayAmount: 100
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:炸毁


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 尤里船坞停电
convertTo_keepCurrentTags: true


[placementRule_建造规则]
searchTeam: own
searchDistance: 520


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 520


[hiddenAction_建造单位音效]
autoTriggerOnEvent: queueItemAdded
playSoundToPlayer: ROOT:\音频\语音+音效\umenucl1.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[hiddenAction_单位建造完成-盟]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva062.wav:2


[hiddenAction_建造单位完成-苏]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof062.wav:2


[hiddenAction_单位建造完成-尤]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur062.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\尤里船坞图标.png
image:        尤里船坞.png

default_frame: 12
total_frames: 21
imageScale:	1.02
image_offsetX: -70
#-60
image_offsetY: -70
#image_back:   NONE
#image_wreak:  NONE
animation_idle_start: 13
animation_idle_end: 13
animation_idle_speed: 6
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: WATER


[canBuild_集结点]
name: setRally

pos: 1


[canBuild_1]
name: 雷鸣潜艇

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_2]
name: 装甲运输船

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: Be Intruded, locked.
isLockedMessage_zh: 被入侵，已被锁定


[canBuild_3]
name: 海蛇

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="心灵探测器") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and not self.globalTeamTags(includes="二级限制")
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[attachment_1]
x: 0
y: 0

canAttack: false
isUnselectable: false
idleDir: 225
lockRotation: true
keepAliveWhenParentDies: true
canBeAttackedAndDamaged: true
addTransportedUnits: true
deattachIfWantingToMove:true


[action_生产控制5]
isVisible: false


[hiddenAction_维修单位]
autoTrigger: if self.numberOfAttachedUnits(withTag='船坞维修', greaterThan=0) and self.customTimer(laterThanSeconds=2)
resetCustomTimer: true
playAnimationIfNotPlaying: 维修动画
playSoundAtUnit: ROOT:\音频\语音+音效\vifvrepa.wav:2
spawnEffects: CUSTOM:修理, CUSTOM:闪光2, CUSTOM:闪光


[hiddenAction_初始价值]
addResources: 价值=65


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:12}


[animation_维修动画]
body_0s: {frame:13}
body_1s: {frame:20}


[effect_电力]
xOffsetRelative: -85
yOffsetRelative: 85


[effect_修理]
image: ROOT:\共享文件\1类\灰.png
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 6
alpha: 1.2
life: 60
hSpeed: 0.6
hOffsetRandom: 0.2
dirOffsetRandom: 180
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 3
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[effect_闪光]
#priority:critical
image: ROOT:\共享文件\1类\闪光.png
color: #FFFFFF
life: 8
scaleFrom: 0.4
scaleTo: 0.5
alpha: 1.5
fadeOut: true
fadeInTime: 2
drawUnderUnits: false
attachedToUnit: false
alwayStartDirAtZero: true
atmospheric: false
#dirOffset: 90
#xOffsetRelative: 0
xOffsetRelativeRandom: 0.6
yOffsetRelativeRandom: 0.6
xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5


[effect_闪光2]
@copyFromSection: effect_闪光
#priority:veryhigh
color: #FFAA00
life: 10
scaleFrom: 1.1
scaleTo: 1.2
alpha: 1
xOffsetRelativeRandom: 1.2
yOffsetRelativeRandom: 1.2
xSpeedAbsoluteRandom: 0.75
ySpeedAbsoluteRandom: 0.75
showInFog: true


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸24.png
scaleFrom: 1
scaleTo: 1
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
animateFrameSpeedRandom: 0.05
xOffsetRelative	: -50
yOffsetRelative	:  35
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -50
yOffsetRelative	:  -15


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -90
yOffsetRelative	:  -15


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -90
yOffsetRelative	:  35


[effect_炸毁5]
image: ROOT:\共享文件\1类\爆炸3.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelative: -50
yOffsetRelative: 10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[template_zijin]
price: 1500
@global dianli: -100


[ai]
useAsBuilder: true

================================================================================
// FILE_PATH: ./1尤里军团/建筑–生产/尤里兵营.ini
================================================================================


[core]
name: 尤里兵营
price: 0
maxHp: 900
mass: 10000
radius: 25

#overrideAndReplace: landFactory
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\生产控制.xxhq
tags: 原始护甲, 建筑, 占领, 兵营, 尤里兵营, 可入侵, 建筑轻甲, 带扩展建筑
displayText: Yuri Barracks
displayText_zh: 尤里兵营
displayDescription: Training basic and advanced yuri infantry\nPower: -10
displayDescription_zh: 训练尤里士兵\n电力占用：10
borrowResourcesWhileAlive: 电力=10
isBuilding: true
footprint: -3,-2,0,1
displayFootprint: -3,-2,3,1
constructionFootprint: -3,-2,3,1
buildSpeed: 0
selfBuildRate: 1s
exit_x: 0
exit_dirOffset: 25
exit_moveAwayAmount :50
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3, CUSTOM:土坑2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 尤里兵营停电
convertTo_keepCurrentTags: true


[hiddenAction_建造单位音效]
autoTriggerOnEvent: queueItemAdded
playSoundToPlayer: ROOT:\音频\语音+音效\umenucl1.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[hiddenAction_单位建造完成-盟]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva062.wav:2


[hiddenAction_建造单位完成-苏]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof062.wav:2


[hiddenAction_单位建造完成-尤]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur062.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\尤里兵营图标.png
image:        尤里兵营.png

default_frame: 12
total_frames: 13
imageScale:	1.02
image_offsetX: 25
image_offsetY: -40
animation_idle_start: 12
animation_idle_end: 12
animation_idle_speed: 1
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[canBuild_1]
name: setRally, 尤里新兵, 毒刺飞弹兵, 尤里工程师, 尤里军犬, 维修技师

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_2]
name: 狂兽人

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2) and self.hasUnitInTeam(withTag="心灵探测器")
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: Be Intruded, locked.
isLockedMessage_zh: 被入侵，已被锁定


[canBuild_2-2]
name: 心灵专家, 病毒狙击手

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="心灵探测器") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and not self.globalTeamTags(includes="二级限制")
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_3]
name: 入侵者

pos: 3
isVisible:if (self.hasUnitInTeam(withTag="尤里作战实验室") or self.hasFlag(id=4)) and not self.hasFlag(id=1) and not self.globalTeamTags(includes="三级限制")
isLocked: if not self.resource(type='入侵计时', empty=true)
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if self.globalTeamTags(includes="钢铁长城")
isLockedAltMessage: Limitation: Panzer War
isLockedAltMessage_zh: 限制: 钢铁长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产步兵')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_4]
name: 尤里X

pos: 4
isVisible:if (self.hasUnitInTeam(withTag="尤里作战实验室") or self.hasFlag(id=4)) and not self.hasFlag(id=1) and not self.globalTeamTags(includes="三级限制") and numberOfUnitsInTeam(lessThan=1, withTag='禁止英雄')
isLocked: if self.hasUnitInTeam(withTag="尤里X", factoryQueue=true) or (self.globalTeamTags(includes="钢铁长城"))
isLockedMessage: Yuri X can only have one at a time!
isLockedMessage_zh: 尤里X同时只能有一个
isLockedAlt: if not self.resource(type='入侵计时', empty=true)
isLockedAltMessage: Be infiltrated!
isLockedAltMessage_zh: 被入侵
isLockedAlt2: if self.globalTeamTags(includes="钢铁长城")
isLockedAlt2Message: Limitation: Panzer War
isLockedAlt2Message_zh: 限制: 钢铁长城模式


[canBuild_4-2]
name: 涅瓦兰卡

pos: 4
isVisible:if (self.hasUnitInTeam(withTag="尤里作战实验室") or self.hasFlag(id=4)) and not self.hasFlag(id=1) and not self.globalTeamTags(includes="三级限制") and numberOfUnitsInTeam(lessThan=1, withTag='禁止英雄')
isLocked: if self.hasUnitInTeam(withTag="涅瓦兰卡", factoryQueue=true) or (self.globalTeamTags(includes="钢铁长城"))
isLockedMessage: Only have one at a time!
isLockedMessage_zh: 涅瓦兰卡同时只能有一个
isLockedAlt: if not self.resource(type='入侵计时', empty=true)
isLockedAltMessage: Be infiltrated!
isLockedAltMessage_zh: 被入侵
isLockedAlt2: if self.globalTeamTags(includes="钢铁长城")
isLockedAlt2Message: Limitation: Panzer War
isLockedAlt2Message_zh: 限制: 钢铁长城模式


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:12}


[action_生产控制5]
isVisible: false


[hiddenAction_1]
autoTrigger: if not self.hasFlag(id=29)
#if self.customTimer(laterThanSeconds=1) and not self.hasFlag(id=29)
#resetCustomTimer: true
spawnEffects: CUSTOM:尤里兵营效果


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*2(offsetRandomX=40, offsetRandomY=40)


[hiddenAction_初始价值]
addResources: 价值=30


[effect_尤里兵营效果]
image: 尤里兵营效果.png
#delayedStartTimer: 60
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 8
animateFrameStart: 0
animateFrameEnd: 7
animateFrameSpeed: 0.1
xOffsetRelative: 25
yOffsetRelative: 40
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
attachedToUnit: true
liveAfterAttachedDies: false
createWhenZoomedOut:  false
#createWhenOverLand: false


[effect_土坑2]
xOffsetRelativeRandom:  40
yOffsetRelativeRandom:  40


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 500
@global dianli: -10


[ai]
useAsBuilder: true
buildPriority: 0.04
noneInBaseExtraPriority: 0.8
recommendedInEachBaseNum: 3
recommendedInEachBasePriorityIfUnmet: 0.08

================================================================================
// FILE_PATH: ./1尤里军团/建筑–生产/尤里船坞停电.ini
================================================================================


[core]
name: 尤里船坞停电
copyFrom: 尤里船坞.ini
showInEditor: false

nanoFactorySpeed: 0.75


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 尤里船坞
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1尤里军团/建筑–生产/尤里船坞引子-Ai.ini
================================================================================

[core]
name: 尤里船坞引子-Ai
price: 0
maxHp: 1000
mass: 1
radius: 0

#showInEditor: false
tags: 尤里船坞引子
#isUnselectable: true
disableAllUnitCollisions: true
effectOnDeath: NONE
explodeOnDeath:  false
hideScorchMark: true
#canNotBeDirectlyAttacked:true
dieOnConstruct: true
nanoRange: 10
armour: 999999
armourMinDamageToKeep: 0
canOnlyBeAttackedByUnitsWithTags: 无
showOnMinimap: false


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0
moveSpeed: 4
moveAccelerationSpeed: 2
moveDecelerationSpeed: 4
maxTurnSpeed: 6
turnAcceleration: 1
reverseSpeedPercentage: 0.5
moveIgnoringBody: true
moveSlidingMode: true
moveSlidingDir: 0


[canBuild_1]
name: 尤里船坞
#pos: 1
#tech: 1
#forceNano: true/false   
#isVisible: true/false
#isLocked: true/false/逻辑代码
#isLockedMessage: 信息


[turret_1]
x: 0
y: 0


[projectile_1]
directDamage: 0
life: 60

instant: true
#explodeEffect: NONE
spawnUnit: 尤里船坞(addResources=资金:-1500, gridAlign=true, skipIfOverlapping=true)
#


[hiddenAction_1]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='基地') and not self.hasUnitInTeam(withTag='基地', withinRange=800) and not self.hasActiveWaypoint(type='guard')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 基地
#addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 1s
#showMessageToAllPlayers: 触发


[hiddenAction_2]
autoTrigger: if (self.isControlledByAI() and self.isOverwater()) or not self.hasUnitInTeam(withTag='基地')
clearActiveWaypoint: true
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,250
#showMessageToAllPlayers: 触发2
alsoQueueAction: 1


[hiddenAction_1]
buildSpeed: 1s
deleteSelf: true


#[hiddenAction_4]
#autoTrigger: if not self.hasUnitInTeam(withTag='车厂') or not self.hasUnitInTeam(withTag='超时空传送仪') or numberOfUnitsInTeam(withTag='超时空引子', greaterThan=1) or self.hasUnitInTeam(withTag='超时空传送')
#deleteSelf: true

[ai]
useAsBuilder: true

================================================================================
// FILE_PATH: ./1尤里军团/建筑–生产/尤里战争工厂.ini
================================================================================


[core]
name: 尤里战争工厂
price: 0
maxHp: 1200
mass: 30000
radius: 50

#overrideAndReplace: mechFactory, experimentalLandFactory
copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\生产控制.xxhq
tags: 原始护甲, 建筑, 占领, 车厂, 尤里战争工厂, 可入侵, 建筑防甲, 带扩展建筑
displayText: Yuri War Factory
displayText_zh: 尤里战争工厂
displayDescription: Produce Yuri vehicles\nPower: -100
displayDescription_zh: 生产尤里战车\n电力占用：100
borrowResourcesWhileAlive: 电力=100
isBuilding: true
footprint: -4,-1,5,3
constructionFootprint: -4,-2,5,3
buildSpeed: 0
selfBuildRate: 1s
exit_x:61
exit_y:30
exit_dirOffset: 315
exit_moveAwayAmount :100
fogOfWarSightRange: 6
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2*2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 尤里战争工厂停电
convertTo_keepCurrentTags: true


[placementRule_建造规则]
searchTeam: own
searchDistance: 360


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 360


[hiddenAction_建造单位音效]
autoTriggerOnEvent: queueItemAdded
playSoundToPlayer: ROOT:\音频\语音+音效\umenucl1.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[hiddenAction_单位建造完成-盟]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva062.wav:2


[hiddenAction_建造单位完成-苏]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof062.wav:2


[hiddenAction_单位建造完成-尤]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur062.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\尤里战争工厂图标.png
image:        尤里战争工厂.png

default_frame: 12
total_frames: 15
imageScale:	1.02
image_offsetX:-14
image_offsetY:-35
animation_idle_start: 12
animation_idle_end: 12
animation_idle_speed: 1
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[canBuild_集结点]
name: setRally

pos: 1


[canBuild_1]
name: 狂风坦克

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_加特林坦克]
name: 加特林坦克, 突击摩托车

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_2]
name: 幽灵运输车, 迷幻突击车

pos: 2
isVisible:if (self.hasUnitInTeam(withTag="心灵探测器") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and not self.globalTeamTags(includes="二级限制")
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_4]
name: 尤里基地车

pos: 3
isVisible:if (self.hasUnitInTeam(withTag="粉碎机") or self.hasFlag(id=3)) and not self.hasFlag(id=1) and numberOfUnitsInTeam(lessThan=1, withTag='禁止建造基地车')
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
addResources: setFlag=0


[canBuild_5]
name: 高速采矿车

pos: 3
isVisible:if (self.hasUnitInTeam(withTag="尤里矿厂") or self.hasFlag(id=5)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
addResources: setFlag=0


[canBuild_6]
name: 收割者, 主脑坦克, 磁电坦克

pos: 4
isVisible:if (self.hasUnitInTeam(withTag="尤里作战实验室") or self.hasFlag(id=4)) and not self.hasFlag(id=1) and not self.globalTeamTags(includes="三级限制")
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[canBuild_秘密科技实验室]
name: 变节者

pos: 5
isVisible:if (self.hasUnitInTeam(withTag="秘密科技实验室") or self.hasFlag(id=4)) and not self.hasFlag(id=1)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产载具')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响
addResources: setFlag=0


[hiddenAction_Ai生产基地车-不可能的]
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.resource(type='资金', greaterThan=3000) and self.resource(type='Ai智商', equalTo=370) and numberOfUnitsInTeam(lessThan=7, withTag='基地车') and numberOfUnitsInTeam(lessThan=7, withTag='基地') and self.hasUnitInTeam(withTag="粉碎机") and self.isControlledByAI() and self.resource(type='入侵计时', empty=true) and not self.hasFlag(id=1) and not self.globalTeamTags(includes='禁止生产基地车') and not self.tags(includes='禁止攻击') and not self.globalTeamTags(includes='禁止生产载具') and self.customTimer(laterThanSeconds=120)
resetCustomTimer: true
produceUnits: 尤里基地车
addResources: 资金=-3000
playAnimationIfNotPlaying: 开门动画


[hiddenAction_Ai生产基地车-很难]
@copyFromSection: hiddenAction_Ai生产基地车-不可能的
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.resource(type='资金', greaterThan=3000) and self.resource(type='Ai智商', equalTo=179) and numberOfUnitsInTeam(lessThan=5, withTag='基地车') and numberOfUnitsInTeam(lessThan=5, withTag='基地') and self.hasUnitInTeam(withTag="粉碎机") and self.isControlledByAI() and self.resource(type='入侵计时', empty=true) and not self.hasFlag(id=1) and not self.globalTeamTags(includes='禁止生产基地车') and not self.tags(includes='禁止攻击') and not self.globalTeamTags(includes='禁止生产载具') and self.customTimer(laterThanSeconds=120)


[hiddenAction_Ai生产基地车-困难]
@copyFromSection: hiddenAction_Ai生产基地车-不可能的
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.resource(type='资金', greaterThan=3000) and self.resource(type='Ai智商', equalTo=139) and numberOfUnitsInTeam(lessThan=3, withTag='基地车') and numberOfUnitsInTeam(lessThan=3, withTag='基地') and self.hasUnitInTeam(withTag="粉碎机") and self.isControlledByAI() and self.resource(type='入侵计时', empty=true) and not self.hasFlag(id=1) and not self.globalTeamTags(includes='禁止生产基地车') and not self.tags(includes='禁止攻击') and not self.globalTeamTags(includes='禁止生产载具') and self.customTimer(laterThanSeconds=120)


[hiddenAction_Ai生产基地车-普通]
@copyFromSection: hiddenAction_Ai生产基地车-不可能的
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='可扩展矿', greaterThan=0) and self.resource(type='资金', greaterThan=3000) and self.resource(type='Ai智商', equalTo=100) and numberOfUnitsInTeam(lessThan=2, withTag='基地车') and numberOfUnitsInTeam(lessThan=2, withTag='基地') and self.hasUnitInTeam(withTag="粉碎机") and self.isControlledByAI() and self.resource(type='入侵计时', empty=true) and not self.hasFlag(id=1) and not self.globalTeamTags(includes='禁止生产基地车') and not self.tags(includes='禁止攻击') and not self.globalTeamTags(includes='禁止生产载具') and self.customTimer(laterThanSeconds=120)


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*4(offsetRandomX=60, offsetRandomY=60)


[hiddenAction_开门]
autoTrigger: if self.hasFlag(id=0)
addResources: unsetFlag=0
playAnimationIfNotPlaying: 开门动画


[hiddenAction_初始价值]
addResources: 价值=70


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:12}


[animation_开门动画]
body_0s: {frame:13}
body_1s: {frame:13}


[animation_出厂动画]
body_0s: {frame:14}
body_1s: {frame:14}


[effect_电力]
xOffsetRelative: -45
yOffsetRelative: 40


[effect_土坑2]
xOffsetRelativeRandom: 80
yOffsetRelativeRandom: 40


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 2000
@global dianli: -100


[ai]
useAsBuilder: true
buildPriority: 0.50
#useAsBuilder: true
noneInBaseExtraPriority: 0.8
recommendedInEachBaseNum: 2
recommendedInEachBasePriorityIfUnmet: 0.2

================================================================================
// FILE_PATH: ./1尤里军团/建筑–生产/停机坪.ini
================================================================================


[core]
name: 停机坪
price: 0
maxHp: 1000
mass: 50000
radius: 60

copyFrom: ROOT:\共享文件\3类\阵营建筑共同.xxhq, ROOT:\共享文件\3类\生产控制.xxhq
tags: 原始护甲, 建筑轻甲, 建筑, 机场, 占领, 停机坪, 可入侵, 空下, 带扩展建筑
displayText: Yuri Airfield
displayText_zh: 停机坪
displayDescription: Produce and repair and place aircraft\nFunds: -1000\nPower: -150
displayDescription_zh: 生产和放置和维修飞机\n资金花费：1000\n电力占用：150
borrowResourcesWhileAlive: 电力=150
#techLevel: 2
buildSpeed: 0
selfBuildRate: 1s
isBuilding: true
footprint: -4,-2,4,1
displayFootprint: -5,-3,5,2
constructionFootprint: -5,-3,5,2
exit_x: 0
exit_y: 0
exit_dirOffset: 240
exit_moveAwayAmount: 100
maxTransportingUnits: 4
transportUnitsKeepBuiltUnits: true
transportUnitsRequireTag: 飞机轻甲, 飞机中甲, 飞机重甲
transportUnitsHealBy: 0.06
transportUnitsRequireMovementType: AIR
transportUnitsKillOnDeath: false
transportUnitsBlockOtherTransports: false
fogOfWarSightRange: 20
effectOnDeath: CUSTOM:土坑3*2, CUSTOM:土坑2*2, CUSTOM:土坑, CUSTOM:炸毁, CUSTOM:炸毁7


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力", lessThan=0)
convertTo: 停机坪停电
convertTo_keepCurrentTags: true


[placementRule_建造规则]
searchTeam: own
searchDistance: 320


[placementRule_建造规则3]
searchTeam: ally
searchDistance: 320


[hiddenAction_建造单位音效]
autoTriggerOnEvent: queueItemAdded
playSoundToPlayer: ROOT:\音频\语音+音效\umenucl1.wav:2


[hiddenAction_单位建造取消-苏]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof051.wav:2


[hiddenAction_单位建造取消-盟]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva051.wav:2


[hiddenAction_单位建造取消-尤]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur051.wav:2


[hiddenAction_单位建造完成-盟]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva062.wav:2


[hiddenAction_建造单位完成-苏]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof062.wav:2


[hiddenAction_单位建造完成-尤]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur062.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\建筑\停机坪图标.png
image:        停机坪.png

default_frame: 12
imageScale:	1.02
total_frames: 31
image_offsetX: 16
image_offsetY: -69
#image_back:   NONE
#image_wreak:  NONE
animation_idle_start: 12
animation_idle_end: 30
animation_idle_speed: 6
whenBeingBuiltMakeTransparentTill: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[canBuild_1]
name: setRally, 亚克

pos: 1
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2)
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产飞机')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[canBuild_2]
name: 镭射幽浮

pos: 2
isVisible: if not self.hasFlag(id=1) and not self.hasFlag(id=2) and self.hasUnitInTeam(withTag="尤里作战实验室")
isLocked: if not self.resource(type='入侵计时', empty=true) or self.globalTeamTags(includes='工业维护')
isLockedMessage: locked.
isLockedMessage_zh: 已被锁定。
isLockedAlt: if (self.globalTeamTags(includes="血肉长城"))
isLockedAltMessage: Limitation: Infantry War
isLockedAltMessage_zh: 限制: 血肉长城模式
isLockedAlt2: if self.tags(includes='禁止攻击') or self.globalTeamTags(includes='禁止生产飞机')
isLockedAlt2Message: Lock!
isLockedAlt2Message_zh: 受影响


[attachment_1]
x: 65
y: 17

isUnselectable: false
idleDir: 225
lockRotation: true
canBeAttackedAndDamaged: true
addTransportedUnits: true
deattachIfWantingToMove:true


[attachment_2]
x: 10
y: 22

@copyFromSection: attachment_1


[attachment_3]
x: 0
y: -15

@copyFromSection: attachment_1


[attachment_4]
x: -55
#-5
y: -10
#0

@copyFromSection: attachment_1


[action_生产控制3]
isVisible: false


[action_生产控制5]
isVisible: false


[hiddenAction_机场空]
autoTrigger: if self.numberOfAttachedUnits(lessThan=4) and not self.tags(includes='机场空')     
temporarilyAddTags: 机场空
#showMessageToAllPlayers: 有


[hiddenAction_机场空2]
autoTrigger: if self.numberOfAttachedUnits(greaterThan=3) and self.tags(includes='机场空')     
temporarilyRemoveTags: 机场空
#showMessageToAllPlayers: 无


[hiddenAction_内部人员]
requireConditional: if self.globalTeamTags(includes='盟军') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 美国大兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员2]
requireConditional: if self.globalTeamTags(includes='苏联') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 动员兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_内部人员3]
requireConditional: if self.globalTeamTags(includes='尤里') and not self.tags(includes='超时空非正常死亡')
autoTriggerOnEvent: destroyed
spawnUnits: 尤里新兵*3(offsetRandomX=50, offsetRandomY=50)


[hiddenAction_初始价值]
addResources: 价值=60


[hiddenAction_卖钱4]
forceUnloadTransportNow:true


[hiddenAction_心控卸载2]
requireConditional: false


[animation_jianzao]
onActions: underConstruction
body_0s: {frame:0}
body_1s: {frame:11}


[effect_土坑]
#xOffsetRelative: 0
yOffsetRelative: 20


[effect_土坑2]
xOffsetRelativeRandom: 80
yOffsetRelativeRandom: 50


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[template_zijin]
price: 1200
@global dianli: -150


[ai]
useAsBuilder: true
buildPriority: 0.03
noneInBaseExtraPriority:0.3
recommendedInEachBaseNum: 2
recommendedInEachBasePriorityIfUnmet: 0.2

================================================================================
// FILE_PATH: ./1尤里军团/建筑–生产/尤里战争工厂停电.ini
================================================================================


[core]
name: 尤里战争工厂停电
copyFrom: 尤里战争工厂.ini
showInEditor: false
nanoFactorySpeed: 0.75


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 尤里战争工厂
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1尤里军团/建筑–生产/停机坪停电.ini
================================================================================


[core]
name: 停机坪停电
copyFrom: 停机坪.ini
showInEditor: false

nanoFactorySpeed: 0.75


[hiddenAction_生产减缓]
autoTrigger: if self.resource(type="电力",greaterThan=0)
convertTo: 停机坪
convertTo_keepCurrentTags: true

================================================================================
// FILE_PATH: ./1尤里军团/陆军–士兵/涅瓦兰卡.ini
================================================================================


[core]
name: 涅瓦兰卡
price: 资金=1500
maxHp: 360
mass: 500
radius: 10

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 生物, 克生物, 克装甲, 步兵中甲, 免疫心控, 狗无法攻击, 免疫普通碾压, 打爆死人, 免疫迷幻, 英雄, 两栖, 涅瓦兰卡
displayText: Nevaranka
displayText_zh: 涅瓦兰卡
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage building: None \nSpecial: 
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：无\n特殊：近战攻击
isBio: true
buildSpeed: 15s
softCollisionOnAll: 5
fogOfWarSightRange: 15
selfRegenRate: 0.20
effectOnDeath: CUSTOM:涅瓦兰卡死亡
soundOnAttackOrder:  ROOT:\音频\语音+音效\inevaata.wav:2, ROOT:\音频\语音+音效\inevaatb.wav:2, ROOT:\音频\语音+音效\inevaatc.wav:2, ROOT:\音频\语音+音效\inevaatd.wav:2, ROOT:\音频\语音+音效\inevaate.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\inevamoa.wav:2, ROOT:\音频\语音+音效\inevamob.wav:2, ROOT:\音频\语音+音效\inevamoc.wav:2, ROOT:\音频\语音+音效\inevamod.wav:2, ROOT:\音频\语音+音效\inevamoe.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\inevasea.wav:2, ROOT:\音频\语音+音效\inevaseb.wav:2, ROOT:\音频\语音+音效\inevasec.wav:2, ROOT:\音频\语音+音效\inevased.wav:2, ROOT:\音频\语音+音效\inevasee.wav:2
soundOnDeath: ROOT:\音频\语音+音效\inevadia.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\生物\涅瓦兰卡图标.png
image:        涅瓦兰卡.png

imageScale:	0.9
total_frames: 18
frame_width: 90
frame_height: 90
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
#animation_attack_start: 7
#animation_attack_end: 12
#animation_attack_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffect: CUSTOM:尾焰, CUSTOM:尾焰2
movementEffectRate: 1


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isMelee: true
isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
maxAttackRange: 0
shootDelay: 40
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: HOVER

moveSpeed: 2.4
moveAccelerationSpeed: 0.6
moveDecelerationSpeed: 0.6
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\inevaweaa.wav
shoot_sound_vol: 2
canOnlyAttackUnitsWithTags: 生物, 生物2
onShoot_playAnimation: 攻击
projectile: 1


[turret_2]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\inevaweab.wav
shoot_sound_vol: 2
canOnlyAttackUnitsWithoutTags: 生物, 生物2, 建筑, 建筑2
onShoot_playAnimation: 攻击2
projectile: 1


[projectile_1]
directDamage: 300
life: 60

instant: true
explodeEffect: CUSTOM:电星
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.80
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.60
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.40
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.20
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.00


[hiddenAction_跟随-移动]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='move')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 跟随-移动
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: neutral
#addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 跟随


[hiddenAction_跟随-攻击移动]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='attackMove')
@copyFromSection: hiddenAction_跟随-移动
addWaypoint_type: attackMove
addWaypoint_target_nearestUnit_tagged: 跟随-攻击移动
#showMessageToAllPlayers: 跟随2


[hiddenAction_跟随-守卫]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='guard')
@copyFromSection: hiddenAction_跟随-移动
addWaypoint_type: guard
addWaypoint_target_nearestUnit_tagged: 跟随-守卫
#showMessageToAllPlayers: 跟随3


[hiddenAction_初始价值]
addResources: 价值=65


[animation_攻击]
body_0s: {frame:17}
body_0.5s: {frame:9}


[animation_攻击2]
body_0s: {frame:9}
body_0.5s: {frame:17}


[effect_涅瓦兰卡死亡]
image: 涅瓦兰卡死亡.png
scaleFrom: 0.9
scaleTo: 0.9
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[effect_电星]
image: ROOT:\共享文件\1类\灰.png
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 5
alpha: 1.2
life: 60
hSpeed: 0.6
dirOffsetRandom: 180
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[effect_尾焰]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
image: ROOT:\共享文件\1类\尾烟.png
life: 45
fadeOut:true
color: #FF00AFDB
fadeInTime: 3
scaleFrom: 2.5
scaleTo: 0
alpha: 1
#dirOffsetRandom: 180
xOffsetRelative: 8
yOffsetRelative: 5
atmospheric:true
#xSpeedAbsoluteRandom:0.4
#ySpeedAbsoluteRandom:0.1
attachedToUnit: false
drawUnderUnits:false
#shadow: true


[effect_尾焰2]
@copyFromSection: effect_尾焰
xOffsetRelative: -8


[template_zijin]
price: 1500


[ai]
useAsAttacker: true
buildPriority: 0.20
noneGlobalExtraPriority: 0.80
maxGlobal: 1


================================================================================
// FILE_PATH: ./1尤里军团/陆军–士兵/入侵者.ini
================================================================================


[core]
name: 入侵者
price: 资金=1000
maxHp: 125
mass: 115
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压, 入常, 空下, 入侵者
displayText: Intruder
displayText_zh: 入侵者
displayDescription: Target: Ground unit\nSpecial: Invisible and not attacked by default, but exposed by the enemy’s dog.\nCan infiltrate enemy buildings.\nInfiltrating enemy Ore Refinery can steal 5000 funds.\nInfiltrating enemy Power Plant or Nuclear Reactor can power off the enemy for 30 seconds.\nInfiltrating enemy Ore Purifier or Industrial Plant can delay access to funds by 30 seconds.\nInfiltrating enemy Superweapon can reset its countdown.\nInfiltrating enemy building of production can make it locked for 30 seconds and can't produce.
displayDescription_zh: 攻击目标：支持和生产类建筑\n特殊：默认状态下隐形不受攻击，但会被狗子发现而被攻击。\n入侵基地时阻止建造建筑30s\n入侵电厂时停电30s\n入侵矿厂时偷得5000资金\n入侵矿石精炼器或工业工厂阻止资金收入30s\n入侵维修站时阻止维修和回收30s\n入侵生产建筑时阻止生产30s\n入侵高级防御建筑时重置延迟时间\n入侵敌人的兵营时，自己的兵营可以生产1级单位\n入侵敌人的战争工厂时，自己的战争工厂可以生产1级单位
buildSpeed: 14s
isBio: true
fogOfWarSightRange: 10
canOnlyBeAttackedByUnitsWithTags: 反伪装
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 入侵者
soundOnAttackOrder:  ROOT:\音频\语音+音效\iintrinfa.wav:2, ROOT:\音频\语音+音效\iintrinfb.wav:2, ROOT:\音频\语音+音效\iintrinfc.wav:2, ROOT:\音频\语音+音效\iintrinfd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\iintrimoa.wav:2, ROOT:\音频\语音+音效\iintrimob.wav:2, ROOT:\音频\语音+音效\iintrimoc.wav:2, ROOT:\音频\语音+音效\iintrimod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iintrisela.wav:2, ROOT:\音频\语音+音效\iintriselb.wav:2, ROOT:\音频\语音+音效\iintriselc.wav:2, ROOT:\音频\语音+音效\iintriseld.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iintrdiea.wav:2, ROOT:\音频\语音+音效\iintrdieb.wav:2, ROOT:\音频\语音+音效\iintrdiec.wav:2, ROOT:\音频\语音+音效\iintrdied.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\生物\入侵者图标.png
image:        入侵者.png

total_frames: 7
imageScale: 0.85
#image_offsetY:-4
frame_width: 56
frame_height: 62
animation_idle_start: 0
animation_idle_end: 0
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 5
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 1
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 1
shootDelay: 60
maxAttackRange: 50
canOnlyAttackUnitsWithTags: 矿厂, 可入侵


[movement]
movementType: LAND

moveSpeed: 0.9
moveAccelerationSpeed: 0.6
moveDecelerationSpeed: 0.6
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

canOnlyAttackUnitsWithTags: 矿厂, 可入侵
canOnlyAttackUnitsWithoutTags: 生物, 生物2, 装甲
resourceUsage: ammo=1
projectile: 1


[projectile_1]
directDamage: 0
life: 0


[hiddenAction_1]
autoTriggerOnEvent: created
autoTrigger: if self.hasTakenDamage(laterThanSeconds=3) and not numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=150)
convertTo: 入侵者2
convertTo_keepCurrentTags: true


[hiddenAction_偷钱]
autoTrigger: if attacking!=null and attacking.tags(includes='可入侵')==false and distanceBetweenSquared(attacking, self)<=2500
takeResources: 资金=5000
takeResources_includeUnitsWithinRange: 50
takeResources_directTransferStoppingAtZero: true
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy
showMessageToPlayer: The enemy's remaining funds: %{attacking.resource.资金}
showMessageToPlayer_zh: 敌人剩余资金：%{attacking.resource.资金}
temporarilyAddTags: 无尸体
alsoTriggerAction: 偷钱2


[hiddenAction_偷钱2]
takeResources: 入侵计时=-2
takeResources_includeUnitsWithinRange: 50
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy
#showMessageToAllPlayers: 触发
deleteSelf: true


[hiddenAction_入侵]
autoTrigger: if attacking!=null and attacking.tags(includes='可入侵')==true and distanceBetweenSquared(attacking, self)<=2500
takeResources: 入侵计时=-90
takeResources_includeUnitsWithinRange: 50
takeResources_includeReference: attacking
takeResources_includeUnitsWithinRange_team: enemy
showMessageToPlayer: The Saboteur successfully invaded the enemy's %{attacking}! power cut +90s
showMessageToPlayer_zh: 破坏者入侵敌人的%{attacking}成功！%{select(attacking.tags(includes='电力') and attacking.tags(includes='基地')==false, '关闭其电力90s，敌人的电力剩余：'+str(attacking.resource.电力), select(attacking.tags(includes='可重置计时'), '重置其计时', '关闭其功能90s'))}
temporarilyAddTags: 无尸体
alsoTriggerAction: 入侵兵营, 入侵车厂, 入侵删除


[hiddenAction_入侵兵营]
requireConditional: if attacking.tags(includes='兵营')
showMessageToPlayer: In addition, the barracks can produce level 1 unit
showMessageToPlayer_zh: 此外，兵营可生产1级单位
addGlobalTeamTags: 兵营1级


[hiddenAction_入侵车厂]
requireConditional: if attacking.tags(includes='车厂')
showMessageToPlayer: In addition, the war factory can produce level 1 unit
showMessageToPlayer_zh: 此外，车厂可生产1级单位
addGlobalTeamTags: 车厂1级


[hiddenAction_入侵删除]
deleteSelf: true


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and not self.hasActiveWaypoint(type='attack') and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='可入侵', greaterThan=0, withinRange=500)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 可入侵
addWaypoint_target_nearestUnit_maxRange: 500
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击矿厂]
autoTrigger: if self.isControlledByAI() and not self.hasActiveWaypoint(type='attack') and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='矿厂', greaterThan=0, withinRange=500)
#clearActiveWaypoint: true
@copyFromSection: hiddenAction_Ai攻击建筑
addWaypoint_target_nearestUnit_tagged: 矿厂


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack') and not numberOfUnitsInEnemyTeam(withTag='可入侵', greaterThan=0, withinRange=500) and not numberOfUnitsInEnemyTeam(withTag='矿厂', greaterThan=0, withinRange=500)
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=300)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克生物
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=300)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=25


[resource_入侵计时]
displayName: Timing
displayName_zh: 计时


[template_zijin]
price: 1000

================================================================================
// FILE_PATH: ./1尤里军团/陆军–士兵/心灵专家.ini
================================================================================


[core]
name: 心灵专家
price: 资金=800
maxHp: 140
mass: 120
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压, 心控者, 心灵部队, 入炮, 克生物, 克装甲, 空下, 打爆死人, 免疫心控
displayText: Psychic Adept
displayText_zh: 心灵专家
displayDescription: Special: Control a non-construction unit.\nControllable enemies within the range can be controlled in time, and only one enemy can be controlled.\nThe previously controlled unit will be cancelled when switching control.\nThe unit after canceling the control will need to wait 10s before continuing to control.\nWhen you die, the control will be cancelled  Enemies, such as mind controllers, heroes, dogs, mine carts and other special units can’t control.
displayDescription_zh: 特殊：可释放致命脑波\n可及时控制范围内的可控敌人，\n只能控制一个敌人，可能会控制已经被控制的单位\n切换控制时会取消之前控制的单位\n取消控制后的单位需要等待10s后才能继续控制\n当自己死亡时会取消控制的敌人，像心控者、英雄、狗和矿车等一些特殊单位无法控制
buildSpeed: 10s
isBio: true
softCollisionOnAll: 2
selfRegenRate: 0.06
soundOnAttackOrder:  ROOT:\音频\语音+音效\iyurata.wav:2, ROOT:\音频\语音+音效\iyuratb.wav:2, ROOT:\音频\语音+音效\iyuratc.wav:2, ROOT:\音频\语音+音效\iyuratd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\iyurmoa.wav:2, ROOT:\音频\语音+音效\iyurmob.wav:2, ROOT:\音频\语音+音效\iyurmoc.wav:2, ROOT:\音频\语音+音效\iyurmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iyursea.wav:2, ROOT:\音频\语音+音效\iyurseb.wav:2, ROOT:\音频\语音+音效\iyursec.wav:2, ROOT:\音频\语音+音效\iyursed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iyurdia.wav:2, ROOT:\音频\语音+音效\iyurdib.wav:2, ROOT:\音频\语音+音效\iyurdic.wav:2
@memory 控制单位:unit


[graphics]
icon_build: ROOT:\单位图标\尤里\生物\心灵专家图标.png
image:        心灵专家.png

total_frames: 26
imageScale: 0.85
#image_offsetY:-4
frame_width: 46
frame_height: 68
showEnergyBar: false
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretTurnSpeed: 6
shootDelay: 60
disablePassiveTargeting: true
aimOffsetSpread: 0
#canOnlyAttackUnitsWithTags: 心控
canOnlyAttackUnitsWithoutTags: 免疫心控, 铁幕保护, 免伤, 力场保护, 超时空免伤, 特殊免伤, 建筑, 建筑2


[movement]
movementType: LAND

moveSpeed: 0.90
moveAccelerationSpeed: 0.6
moveDecelerationSpeed: 0.6
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

#warmup: 180
limitingRange: 210
onShoot_playAnimation:  攻击
shoot_sound: ROOT:\音频\语音+音效\iyurat1a.wav:2
onShoot_triggerActions: 记录单位
projectile: 1


[turret_2]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 2


[projectile_1]
directDamage: 1
life: 60

instant: true
convertHitToSourceTeam: true
explodeEffect: CUSTOM:击中
mutator7_ifUnitWithoutTags: 无
mutator7_directDamageMultiplier: 0


[projectile_2]
directDamage: 0
life: 120

image: ROOT:\共享文件\1类\心控标.png
drawSize: 1.0
speed: 20
targetSpeed: 100
#initialUnguidedSpeedHeight: 2
#gravity: 0.18
ballistic: true
ballistic_delaymove_height: 100
ballistic_height: 100
#trailEffect: CUSTOM:尾烟*1
#trailEffectRate: 0.5
explodeEffect: CUSTOM:击中


[projectile_3]
areaDamage: 300
areaRadius: 120
life: 0

instant: true
explodeEffect: CUSTOM:清除
mutator0_ifUnitWithoutTags: 生物, 生物2
mutator0_areaDamageMultiplier: 0
areaDamageNoFalloff: true
#delayedStartTimer:  0.3s


[action_清除]
text: Release psychic blast
text_zh: 释放伤害
description: Kill creatures in range immediately
description_zh: 清除周围生物类敌人
buildSpeed: 0.5s
whenBuilding_playAnimation: 清除
whenBuilding_cannotMove: true
alsoQueueAction: 清除2
fireTurretXAtGround: 2
fireTurretXAtGround_withProjectile: 3
fireTurretXAtGround_withOffset: 0,0
allowMultipleInQueue: false
isActive: if not self.tags(includes='禁止攻击')


[hiddenAction_清除2]
buildSpeed: 1
#whenBuilding_playAnimation: 清除2
whenBuilding_cannotMove: true
playSoundAtUnit: ROOT:\音频\语音+音效\iyurat2a.wav:2


[action_取消控制]
text: Cancel %{select(self.teamId!=memory.控制单位.teamId, 'lock', 'control')}
text_zh: 取消%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}
description: Cancel the currently %{select(self.teamId!=memory.控制单位.teamId, 'locked', 'controled')} unit, \nthe currently %{select(self.teamId!=memory.控制单位.teamId, 'locked', 'controled')} unit: %{memory.控制单位}description_zh: 取消当前%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}的单位，\n当前%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}的单位：%{memory.控制单位}displayType: action
description_zh: 取消当前%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}的单位，\n当前%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}的单位：%{memory.控制单位}
autoTrigger: if memory.控制单位!=nullUnit and (memory.控制单位.hp<=0 or memory.控制单位.readUnitMemory('自己id', type='float', default=-3)==self.teamId)
displayType: action
isVisible: if memory.控制单位.hp>0
buildSpeed: 0s
#showMessageToAllPlayers: 已取消
setUnitMemory: 控制单位=nullUnit


[hiddenAction_自动攻击]
autoTrigger: if memory.控制单位.hp<=0 and numberOfUnitsInEnemyTeam(withTag='心控', greaterThan=0, withinRange=300) and not self.hasActiveWaypoint(type='attack') and not self.hasActiveWaypoint(type='move')
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 心控
addWaypoint_target_nearestUnit_maxRange: 300
#addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 自动攻击


[hiddenAction_Ai自动反击]
requireConditional: if self.isControlledByAI() and memory.控制单位.hp>0 and eventSource.tags(includes='心控') and numberOfUnitsInEnemyTeam(withTag='心控', greaterThan=0, withinRange=300)
autoTriggerOnEvent: tookDamage
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_maxRange: 300
#addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_fromReference: eventSource
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发


[hiddenAction_记录单位]
setUnitMemory: 控制单位=thisActionTarget
#showMessageToAllPlayers: 记录单位：%{thisActionTarget}
clearActiveWaypoint: true


[hiddenAction_维持单位]
autoTrigger: if memory.控制单位.hp>0 and memory.控制单位.teamId==self.teamId
fireTurretXAtGround: 2
fireTurretXAtGround_withTarget: memory.控制单位
#showMessageToAllPlayers: 维持单位：%{memory.控制单位}


[hiddenAction_心控目标]
autoTrigger: false


[hiddenAction_心控目标2]
autoTrigger: false


[hiddenAction_保存控制]
autoTrigger: false


[hiddenAction_保存自己ID]
requireConditional: false


[hiddenAction_恢复自己ID]
autoTrigger: false


[hiddenAction_初始价值]
addResources: 价值=35


[animation_攻击]
start: 7
end: 11
speed: 6


[animation_清除]
body_0s: {frame:11}
body_0.5s: {frame:21}


#[animation_清除2]
#body_0s: {frame:22}
#body_0.3s: {frame:25}


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟.png
life:25
fadeOut:true
attachedToUnit:false
color:#FFFFFF
fadeInTime:3
scaleFrom:2
scaleTo:1.5
alpha:0.8
drawUnderUnits:false
atmospheric:true


[effect_击中]
image: ROOT:\共享文件\1类\圈.png
life: 60
#color:#FF0B2096
attachedToUnit: false
fadeInTime: 0
fadeOut: true
scaleFrom: 0
scaleTo: 2
alpha: 1
drawUnderUnits: false
alwayStartDirAtZero: true


[effect_清除]
image: ROOT:\共享文件\1类\心灵清除.png
scaleFrom:1
scaleTo: 1
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[template_zijin]
price: 800

================================================================================
// FILE_PATH: ./1尤里军团/陆军–士兵/狂兽人.ini
================================================================================


[core]
name: 狂兽人
price: 资金=550
maxHp: 345
mass: 10000
radius: 10

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 生物, 克生物, 克装甲, 步兵中甲, 免疫心控, 狗无法攻击, 免疫普通碾压, 打爆死人, 免疫迷幻
displayText: Brute
displayText_zh: 狂兽人
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Very high\nDamage building: Medium\nSpecial: Will return to full blood when resting.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：很高\n伤害建筑：中\n特殊：近战攻击
isBio: true
buildSpeed: 5s
softCollisionOnAll: 5
fogOfWarSightRange: 15
effectOnDeath: CUSTOM:狂兽人亡
soundOnAttackOrder:  ROOT:\音频\语音+音效\ibruata.wav:2, ROOT:\音频\语音+音效\ibruatb.wav:2, ROOT:\音频\语音+音效\ibruatc.wav:2, ROOT:\音频\语音+音效\ibruatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\ibrumoa.wav:2, ROOT:\音频\语音+音效\ibrumob.wav:2, ROOT:\音频\语音+音效\ibrumoc.wav:2, ROOT:\音频\语音+音效\ibrumod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\ibrusea.wav:2, ROOT:\音频\语音+音效\ibruseb.wav:2, ROOT:\音频\语音+音效\ibrusec.wav:2, ROOT:\音频\语音+音效\ibrused.wav:2
soundOnDeath: ROOT:\音频\语音+音效\ibrudia.wav:2, ROOT:\音频\语音+音效\ibrudib.wav:2, ROOT:\音频\语音+音效\ibrudic.wav:2, ROOT:\音频\语音+音效\ibrudid.wav:2, ROOT:\音频\语音+音效\ibrudie.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\生物\狂兽人图标.png
image:        狂兽人.png

imageScale:	1
total_frames: 17
frame_width: 134
frame_height: 96
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
#animation_attack_start: 7
#animation_attack_end: 12
#animation_attack_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isMelee: true
isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
maxAttackRange: 0
shootDelay: 90
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 1.35
moveAccelerationSpeed: 1.0
moveDecelerationSpeed: 1.0
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\ibruatta.wav, ROOT:\音频\语音+音效\ibruattb.wav, ROOT:\音频\语音+音效\ibruattc.wav, ROOT:\音频\语音+音效\ibruattd.wav
shoot_sound_vol: 2
canOnlyAttackUnitsWithTags: 生物, 生物2
onShoot_playAnimation: 攻击
projectile: 1


[turret_2]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\ibrucra.wav, ROOT:\音频\语音+音效\ibrucrb.wav, ROOT:\音频\语音+音效\ibrucrc.wav, ROOT:\音频\语音+音效\ibrucrd.wav
shoot_sound_vol: 2
canOnlyAttackUnitsWithoutTags: 生物, 生物2
onShoot_playAnimation: 攻击2
projectile: 2


[projectile_1]
directDamage: 135
life: 60

instant: true
explodeEffect: CUSTOM:电星
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 1.00
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.20
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.00


[projectile_2]
directDamage: 135
life: 60

instant: true
#spawnUnit: 爆炸碎片3
explodeEffect: CUSTOM:电星
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 1.00
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.28
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.20
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.00


[hiddenAction_跟随-移动]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='move')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 跟随-移动
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: neutral
#addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 跟随


[hiddenAction_跟随-攻击移动]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='attackMove')
@copyFromSection: hiddenAction_跟随-移动
addWaypoint_type: attackMove
addWaypoint_target_nearestUnit_tagged: 跟随-攻击移动
#showMessageToAllPlayers: 跟随2


[hiddenAction_跟随-守卫]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='guard')
@copyFromSection: hiddenAction_跟随-移动
addWaypoint_type: guard
addWaypoint_target_nearestUnit_tagged: 跟随-守卫
#showMessageToAllPlayers: 跟随3


[hiddenAction_初始价值]
addResources: 价值=20


[animation_攻击]
body_0s: {frame:7}
body_0.5s: {frame:11}


[animation_攻击2]
body_0s: {frame:12}
body_0.5s: {frame:16}


[effect_狂兽人亡]
image: 狂兽人亡.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 8
animateFrameStart: 0
animateFrameEnd: 7
animateFrameSpeed: 0.2
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[effect_电星]
image: ROOT:\共享文件\1类\灰.png
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 5
alpha: 1.2
life: 60
hSpeed: 0.6
dirOffsetRandom: 180
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[template_zijin]
price: 550


[ai]
useAsAttacker: true
buildPriority: 0.55
noneGlobalExtraPriority: 0.55
maxGlobal: 12


================================================================================
// FILE_PATH: ./1尤里军团/陆军–士兵/尤里新兵入驻.ini
================================================================================


[core]
name: 尤里新兵入驻
copyFrom: 尤里新兵.ini
showInEditor: false
tags: 原始护甲, 生物, 入枪, 基础兵, 心控, 特殊免伤, 克生物, 克装甲, 克建筑, 尤里新兵, 烧死人
canOnlyBeAttackedByUnitsWithTags: 狙击手, 清除驻军
fogOfWarSightRange: 15


[attack]
turretSize: 0
maxAttackRange: 180
shootDelay: 12


[turret_1]
shoot_light: #FFFFFFFF


[projectile_1]
directDamage: 32


[hiddenAction_1] 
autoTrigger: if not self.hasParent()
#withTag='标签'
convertTo: 尤里新兵


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=195)
addWaypoint_target_nearestUnit_maxRange: 180


[hiddenAction_Ai躲避]
autoTrigger: false


[hiddenAction_Ai躲避2]
autoTrigger: false


[hiddenAction_Ai躲避3]
autoTrigger: false

================================================================================
// FILE_PATH: ./1尤里军团/陆军–士兵/维修技师.ini
================================================================================


[core]
name: 维修技师
price: 资金=350
maxHp: 125
mass: 120
radius: 8

#overrideAndReplace: builderShip
#取代无关的初始单位
copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq, ROOT:\共享文件\3类\驾驶空载具.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压, 维修技师, 空下
displayText: Yuri Mechanic
displayText_zh: 维修技师
displayDescription: Special: Can repair friendly vehicles
displayDescription_zh: 特殊：可以维修友军载具
isBio: true
buildSpeed: 2.5s
fogOfWarSightRange: 10
canRepairBuildings: false
canRepairUnits: true
autoRepair: true
nanoRange: 40
nanoRepairSpeed: 0.3
canRepairUnitsOnlyWithTags: 装甲
soundOnAttackOrder:  ROOT:\音频\语音+音效\ienyata.wav:2, ROOT:\音频\语音+音效\ienyatb.wav:2, ROOT:\音频\语音+音效\ienyatc.wav:2, ROOT:\音频\语音+音效\ienyatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\ienymoa.wav:2, ROOT:\音频\语音+音效\ienymob.wav:2, ROOT:\音频\语音+音效\ienymoc.wav:2, ROOT:\音频\语音+音效\ienymod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\ienysea.wav:2, ROOT:\音频\语音+音效\ienyseb.wav:2, ROOT:\音频\语音+音效\ienysec.wav:2, ROOT:\音频\语音+音效\ienysed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\ienydia.wav:2, ROOT:\音频\语音+音效\ienydib.wav:2, ROOT:\音频\语音+音效\ienydic.wav:2, ROOT:\音频\语音+音效\ienydid.wav:2, ROOT:\音频\语音+音效\ienydie.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\生物\维修技师图标.png
image:       维修技师.png

total_frames: 21
imageScale:	1.00
image_offsetY: 0
frame_width: 50
frame_height: 50
image_shadow: NONE
shadowOffsetX: 0
shadowOffsetY: 0
animation_moving_start: 1
animation_moving_end: 10
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 11
animation_attack_end: 20
animation_attack_speed: 6
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
repairEffectAtTarget: CUSTOM:修理
repairEffectRate: 20


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false
maxAttackRange: 40

[movement]
movementType: LAND

moveSpeed: 1.10
moveAccelerationSpeed: 0.8
moveDecelerationSpeed: 0.8
reverseSpeedPercentage:0
maxTurnSpeed: 6
turnAcceleration: 6


[turret_1]
x: 0
y: 0

projectile: 1
canShoot: false


[projectile_1]
directDamage: 0
life: 60

instant: true
explodeEffect: NONE


[hiddenAction_维修声音]
autoTrigger: if self.hasActiveWaypoint(type='repair') and self.customTimer(laterThanSeconds=3)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\imechfixa.wav:2
playAnimation: 修理动画


[animation_修理动画]
body_0s: {frame:11}
body_1.0s: {frame:20}


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 反潜
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克空军
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避5]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.hasActiveWaypoint(type='move') and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[effect_修理]
image: ROOT:\共享文件\1类\维修.png
priority: high
life: 120
scaleFrom: 0.55
scaleTo: 0.55
total_frames: 7
animateFrameStart: 0
animateFrameEnd: 6
animateFrameSpeed: 0.25
fadeOut: false
drawUnderUnits: false
attachedToUnit: true
alwayStartDirAtZero: true
liveAfterAttachedDies: false


[hiddenAction_初始价值]
addResources: 价值=15


[template_zijin]
price: 350

================================================================================
// FILE_PATH: ./1尤里军团/陆军–士兵/尤里军犬.ini
================================================================================


[core]
name: 尤里军犬
price: 资金=100
maxHp: 75
mass: 60
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\血.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 低级, 步兵轻甲, 生物, 免疫心控, 被碾压, 入枪, 反伪装, 克生物, 空下, 尤里军犬
displayText: Yuri Attack Dog
displayText_zh: 尤里军犬
displayDescription: Target: Ground unit\nDamage creature: Very high\nSpecial: Speeds up when there are enemy infantry nearby.\nCan find disguising units and underwater units.\nUnable to attack heavy infantry
displayDescription_zh: 攻击目标：地面生物\n伤害生物：很高\n特殊：可以发现伪装单位(间谍/破坏者/幻影坦克)，无法攻击重甲步兵
isBio: true
buildSpeed: 1.5s
fogOfWarSightRange: 18
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 尤里军犬
soundOnAttackOrder:  ROOT:\音频\语音+音效\idogatca.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\idogmova.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\idogsela.wav:2, ROOT:\音频\语音+音效\idogselb.wav:2, ROOT:\音频\语音+音效\idogselc.wav:2
soundOnDeath: ROOT:\音频\语音+音效\idogdiea.wav:2
effectOnDeath: CUSTOM:死亡


[graphics]
icon_build: ROOT:\单位图标\尤里\生物\尤里军犬图标.png
image:        尤里军犬.png

total_frames: 13
scaleImagesTo: 70
#image_offsetX:7
#image_offsetY:-2
frame_width: 74
frame_height: 72
#image_wreak:  NONE
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 4
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: true

isMelee: true
isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
maxAttackRange: 0
shootDelay: ${int(45*(1/gameSpeedRate))}


[movement]
movementType: LAND

moveSpeed: 1.55
moveAccelerationSpeed: 1.2
moveDecelerationSpeed: 1.2
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

canOnlyAttackUnitsWithTags: 生物, 生物2
canOnlyAttackUnitsWithoutTags: 步兵重甲, 沃尔科夫, 狂兽人, 狗无法攻击
shoot_sound: ROOT:\音频\语音+音效\idogatta.wav
shoot_sound_vol: 2
canAttackUnderwaterUnits: false
projectile: 1


[turret_2]
x: 0
y: 0

canOnlyAttackUnitsWithTags: 水下
projectile: 2


[projectile_1]
directDamage: 200
life: 60

instant: true
explodeEffect: CUSTOM:血溅
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 5
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 5


[projectile_2]
areaDamage: 1
life: 60

areaRadius: 10
instant: true
explodeEffect: NONE
mutator7_ifUnitWithoutTags: 无
mutator7_areaDamageMultiplier: 0


[hiddenAction_2]
autoTrigger: if self.isInWater()
deleteSelf: true


[hiddenAction_发现水下]
autoTrigger: if attacking.tags(includes='水下')
fireTurretXAtGround: 2
fireTurretXAtGround_withTarget: attacking


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=250) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=10


[effect_死亡]
image: 尤里军犬死亡.png
scaleFrom: 0.95
scaleTo: 0.95
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[template_zijin]
price: 100

================================================================================
// FILE_PATH: ./1尤里军团/陆军–士兵/尤里X.ini
================================================================================


[core]
name: 尤里X
price: 资金=1500
maxHp: 360
mass: 150
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq, ROOT:\共享文件\3类\血.xxhq
tags: 原始护甲, 步兵重甲, 生物, 心控者, 尤里X, 入炮, 克生物, 克装甲, 空下, 打爆死人, 两栖, 免疫心控
displayText: Yuri X
displayText_zh: 尤里X
displayDescription: Special: Control a non-construction unit.\nControllable enemies within the range can be controlled in time, and only one enemy can be controlled.\nThe previously controlled unit will be cancelled when switching control.\nThe unit after canceling the control will need to wait 10s before continuing to control.\nWhen you die, the control will be cancelled  Enemies, such as mind controllers, heroes, dogs, mine carts and other special units can’t control.
displayDescription_zh: 特殊：可释放致命脑波\n可及时控制范围内的可控敌人，\n只能控制一个敌人，可能会控制已经被控制的单位\n切换控制时会取消之前控制的单位\n取消控制后的单位需要等待10s后才能继续控制\n当自己死亡时会取消控制的敌人，像心控者、英雄、狗和矿车等一些特殊单位无法控制
buildSpeed: 15s
isBio: true
softCollisionOnAll: 2
selfRegenRate: 0.06
effectOnDeath: CUSTOM:死亡
soundOnAttackOrder:  ROOT:\音频\语音+音效\iyupata.wav:2, ROOT:\音频\语音+音效\iyupatb.wav:2, ROOT:\音频\语音+音效\iyupatc.wav:2, ROOT:\音频\语音+音效\iyupatd.wav:2, ROOT:\音频\语音+音效\iyupate.wav:2, ROOT:\音频\语音+音效\iyupatf.wav:2, ROOT:\音频\语音+音效\iyupatg.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\iyupmoa.wav:2, ROOT:\音频\语音+音效\iyupmob.wav:2, ROOT:\音频\语音+音效\iyupmoc.wav:2, ROOT:\音频\语音+音效\iyupmod.wav:2, ROOT:\音频\语音+音效\iyupmoe.wav:2, ROOT:\音频\语音+音效\iyupmof.wav:2, ROOT:\音频\语音+音效\iyupmog.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iyupsea.wav:2, ROOT:\音频\语音+音效\iyupseb.wav:2, ROOT:\音频\语音+音效\iyupsec.wav:2, ROOT:\音频\语音+音效\iyupsed.wav:2, ROOT:\音频\语音+音效\iyupsee.wav:2, ROOT:\音频\语音+音效\iyupsef.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iyurdia.wav:2, ROOT:\音频\语音+音效\iyurdib.wav:2, ROOT:\音频\语音+音效\iyurdic.wav:2
@memory 控制单位:unit


[hiddenAction_音效]
autoTriggerOnEvent: completeAndActive
playSoundGlobally: ROOT:\音频\语音+音效\iyupcrd.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() 
playSoundAtUnit: ROOT:\音频\语音+音效\iyuplo2a.wav:1.25, ROOT:\音频\语音+音效\iyuplo2b.wav:1.25


[graphics]
icon_build: ROOT:\单位图标\尤里\生物\尤里X图标.png
image:        尤里X.png

total_frames: 27
imageScale: 0.9
#image_offsetY:-4
frame_width: 110
frame_height: 110
showEnergyBar: false
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretTurnSpeed: 6
shootDelay: 60
disablePassiveTargeting: true
aimOffsetSpread: 0
#canOnlyAttackUnitsWithTags: 心控


[movement]
movementType: HOVER

moveSpeed: 0.90
moveAccelerationSpeed: 0.6
moveDecelerationSpeed: 0.6
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

#warmup: 180
limitingRange: 240
canOnlyAttackUnitsWithoutTags: 免疫心控, 铁幕保护, 免伤, 力场保护, 超时空免伤, 特殊免伤, 建筑2
onShoot_playAnimation: 攻击
shoot_sound: ROOT:\音频\语音+音效\iyurat1a.wav:2
onShoot_triggerActions: 记录单位
projectile: 1


[turret_2]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 2


[projectile_1]
directDamage: 1
life: 60

instant: true
convertHitToSourceTeam: true
explodeEffect: CUSTOM:击中
mutator7_ifUnitWithoutTags: 无
mutator7_directDamageMultiplier: 0


[projectile_2]
directDamage: 0
life: 120

image: ROOT:\共享文件\1类\心控标.png
drawSize: 1.0
speed: 20
targetSpeed: 100
#initialUnguidedSpeedHeight: 2
#gravity: 0.18
ballistic: true
ballistic_delaymove_height: 100
ballistic_height: 100
#trailEffect: CUSTOM:尾烟*1
#trailEffectRate: 0.5
explodeEffect: CUSTOM:击中


[projectile_3]
areaDamage: 300
areaRadius: 140
life: 0

instant: true
explodeEffect: CUSTOM:清除
areaDamageNoFalloff: true
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.00
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 1.00
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.00
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.00
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.00
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.00


[action_清除]
text: Release psychic blast
text_zh: 释放伤害
description: Kill creatures in range immediately
description_zh: 清除周围生物类敌人
buildSpeed: 0.5s
whenBuilding_playAnimation: 清除
whenBuilding_cannotMove: true
alsoQueueAction: 清除2
fireTurretXAtGround: 2
fireTurretXAtGround_withProjectile: 3
fireTurretXAtGround_withOffset: 0,0
allowMultipleInQueue: false
isActive: if not self.tags(includes='禁止攻击')


[hiddenAction_清除2]
buildSpeed: 1
#whenBuilding_playAnimation: 清除2
whenBuilding_cannotMove: true
playSoundAtUnit: ROOT:\音频\语音+音效\iyurat2a.wav:2


[action_取消控制]
text: Cancel %{select(self.teamId!=memory.控制单位.teamId, 'lock', 'control')}
text_zh: 取消%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}
description: Cancel the currently %{select(self.teamId!=memory.控制单位.teamId, 'locked', 'controled')} unit, \nthe currently %{select(self.teamId!=memory.控制单位.teamId, 'locked', 'controled')} unit: %{memory.控制单位}description_zh: 取消当前%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}的单位，\n当前%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}的单位：%{memory.控制单位}displayType: action
description_zh: 取消当前%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}的单位，\n当前%{select(self.teamId!=memory.控制单位.teamId, '锁定', '控制')}的单位：%{memory.控制单位}
autoTrigger: if memory.控制单位!=nullUnit and (memory.控制单位.hp<=0 or memory.控制单位.readUnitMemory('自己id', type='float', default=-3)==self.teamId)
displayType: action
isVisible: if memory.控制单位.hp>0
buildSpeed: 0s
#showMessageToAllPlayers: 已取消
setUnitMemory: 控制单位=nullUnit


[hiddenAction_自动攻击]
autoTrigger: if memory.控制单位.hp<=0 and numberOfUnitsInEnemyTeam(withTag='心控', greaterThan=0, withinRange=300) and not self.hasActiveWaypoint(type='attack') and not self.hasActiveWaypoint(type='move')
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 心控
addWaypoint_target_nearestUnit_maxRange: 300
#addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 自动攻击


[hiddenAction_Ai自动反击]
requireConditional: if self.isControlledByAI() and memory.控制单位.hp>0 and eventSource.tags(includes='心控') and numberOfUnitsInEnemyTeam(withTag='心控', greaterThan=0, withinRange=300)
autoTriggerOnEvent: tookDamage
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_maxRange: 300
#addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_fromReference: eventSource
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发


[hiddenAction_记录单位]
setUnitMemory: 控制单位=thisActionTarget
#showMessageToAllPlayers: 记录单位：%{thisActionTarget}
clearActiveWaypoint: true


[hiddenAction_维持单位]
autoTrigger: if memory.控制单位.hp>0 and memory.控制单位.teamId==self.teamId
fireTurretXAtGround: 2
fireTurretXAtGround_withTarget: memory.控制单位
#showMessageToAllPlayers: 维持单位：%{memory.控制单位}


[hiddenAction_心控目标]
autoTrigger: false


[hiddenAction_心控目标2]
autoTrigger: false


[hiddenAction_保存控制]
autoTrigger: false


[hiddenAction_保存自己ID]
requireConditional: false


[hiddenAction_恢复自己ID]
autoTrigger: false


[hiddenAction_初始价值]
addResources: 价值=50


[animation_攻击]
start: 7
end: 12
speed: 6


[animation_清除]
body_0s: {frame:13}
body_0.5s: {frame:26}


#[animation_清除2]
#body_0s: {frame:22}
#body_0.3s: {frame:25}


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟.png
life:25
fadeOut:true
attachedToUnit:false
color:#FFFFFF
fadeInTime:3
scaleFrom:2
scaleTo:1.5
alpha:0.8
drawUnderUnits:false
atmospheric:true


[effect_击中]
image: ROOT:\共享文件\1类\圈.png
life: 60
#color:#FF0B2096
attachedToUnit: false
fadeInTime: 0
fadeOut: true
scaleFrom: 0
scaleTo: 2
alpha: 1
drawUnderUnits: false
alwayStartDirAtZero: true


[effect_清除]
image: ROOT:\共享文件\1类\心灵清除.png
scaleFrom:1
scaleTo: 1
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_死亡]
image: 尤里X死亡.png
scaleFrom: 0.9
scaleTo: 0.9
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.25
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[template_zijin]
price: 1500

================================================================================
// FILE_PATH: ./1尤里军团/陆军–士兵/尤里工程师.ini
================================================================================


[core]
name: 尤里工程师
price: 资金=300
maxHp: 90
mass: 120
radius: 8

#overrideAndReplace: builderShip
#取代无关的初始单位
copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq, ROOT:\共享文件\3类\驾驶空载具.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压, 工程师, 空下
displayText: Yuri Engineer
displayText_zh: 工程师
displayDescription: Target: Ground unit\nSpecial: Occupy and repair buildings or vehicles
displayDescription_zh: 特殊：占领/维修建筑
isBio: true
buildSpeed: 3.5s
fogOfWarSightRange: 10
canRepairBuildings: true
nanoRange: 50
nanoRepairSpeed: 0
soundOnAttackOrder:  ROOT:\音频\语音+音效\ienyata.wav:2, ROOT:\音频\语音+音效\ienyatb.wav:2, ROOT:\音频\语音+音效\ienyatc.wav:2, ROOT:\音频\语音+音效\ienyatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\ienymoa.wav:2, ROOT:\音频\语音+音效\ienymob.wav:2, ROOT:\音频\语音+音效\ienymoc.wav:2, ROOT:\音频\语音+音效\ienymod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\ienysea.wav:2, ROOT:\音频\语音+音效\ienyseb.wav:2, ROOT:\音频\语音+音效\ienysec.wav:2, ROOT:\音频\语音+音效\ienysed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\ienydia.wav:2, ROOT:\音频\语音+音效\ienydib.wav:2, ROOT:\音频\语音+音效\ienydic.wav:2, ROOT:\音频\语音+音效\ienydid.wav:2, ROOT:\音频\语音+音效\ienydie.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\生物\尤里工程师图标.png
image:       尤里工程师.png

total_frames: 13
imageScale:	0.95
image_offsetY: 0
frame_width: 58
frame_height: 58
image_shadow: NONE
shadowOffsetX: 0
shadowOffsetY: 0
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 4
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.hasParent() and not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

removeOnAttack: true
maxAttackRange: 50
#50
canOnlyAttackUnitsWithTags: 占领, 驾驶


[movement]
movementType: LAND

moveSpeed: 1.00
moveAccelerationSpeed: 0.8
moveDecelerationSpeed: 0.8
reverseSpeedPercentage:0
maxTurnSpeed: 6
turnAcceleration: 6


[turret_1]
x: 0
y: 0

projectile: 1
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[turret_维修]
x: 0
y: 0

canShoot: false
projectile: 维修


[projectile_1]
directDamage: 0
life: 60

instant: true
explodeEffect: NONE
convertHitToSourceTeam: true


[projectile_维修]
areaDamage: -2000
life: 60

areaRadius: 5
instant: true
areaDamageNoFalloff: true
friendlyFire: true
explodeEffect: NONE
mutator1_ifUnitWithoutTags: 建筑
mutator1_areaDamageMultiplier: 0


[hiddenAction_修复]
autoTrigger: if self.hasActiveWaypoint(type='repair') and not self.isMoving() and distanceBetweenSquared(activeWaypointTarget, self)<=2500
fireTurretXAtGround: 维修
fireTurretXAtGround_withProjectile: 维修
fireTurretXAtGround_withTarget: activeWaypointTarget
#showMessageToAllPlayers: 触发
playSoundAtUnit:  ROOT:\音频\语音+音效\urepair.wav:2
deleteSelf: true


[hiddenAction_Ai占领]
autoTrigger: if self.isControlledByAI() and not self.hasActiveWaypoint(type='attack') and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='占领', greaterThan=0, withinRange=500)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 占领
addWaypoint_target_nearestUnit_maxRange: 500
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=100) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 反潜
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克空军
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避5]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.hasActiveWaypoint(type='move') and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=10


[template_zijin]
price: 300

================================================================================
// FILE_PATH: ./1尤里军团/陆军–士兵/毒刺飞弹兵入驻.ini
================================================================================


[core]
name: 毒刺飞弹兵入驻
copyFrom: 毒刺飞弹兵.ini
showInEditor: false
tags: 原始护甲, 步兵中甲, 生物, 入常, 基础兵, 特殊免伤, 克生物, 克装甲, 克建筑, 低级, 毒刺飞弹兵
canOnlyBeAttackedByUnitsWithTags: 狙击手, 烧死人
fogOfWarSightRange: 15


[attack]
turretSize: 0


[turret_1]
canAttackFlyingUnits: false
shoot_light: #FFFFFFFF


[turret_2]
limitingRange: 210
limitingMinRange: 40


#[projectile_2]
#directDamage: 17
#areaDamage: 20


[hiddenAction_1] 
autoTrigger: if not self.hasParent()
#withTag='标签'
convertTo: 毒刺飞弹兵


[hiddenAction_Ai攻击空军]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=210)
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 210


[hiddenAction_Ai躲避]
autoTrigger: false


[hiddenAction_Ai躲避2]
autoTrigger: false

================================================================================
// FILE_PATH: ./1尤里军团/陆军–士兵/毒刺飞弹兵.ini
================================================================================


[core]
name: 毒刺飞弹兵
price: 资金=350
maxHp: 140
mass: 125
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 低级, 步兵中甲, 生物, 被碾压, 入常, 基础兵, 克空军, 空下, 毒刺飞弹兵
displayText: Stinger Missile Troops
displayText_zh: 毒刺飞弹兵
displayDescription: Target: Ground unit/Air unit\nDamage creature: Low\nDamage armor: High\nDamage air: High\nDamage building: Medium\nSpecial: Can enter the building and attack, but cannot attack the air force.\nBelongs to basic infantry.
displayDescription_zh: 攻击目标：地面单位/海面单位/空中单位\n伤害生物：低\n伤害装甲：高\n伤害建筑：中\n伤害空军：高\n特殊：入驻建筑，并提高伤害和射程，但不能对空
isBio: true
buildSpeed: 3.5s
fogOfWarSightRange: 12
soundOnAttackOrder:  ROOT:\音频\语音+音效\istinatta.wav:2, ROOT:\音频\语音+音效\istinattb.wav:2, ROOT:\音频\语音+音效\istinattc.wav:2, ROOT:\音频\语音+音效\istinattd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\istinmova.wav:2, ROOT:\音频\语音+音效\istinmovb.wav:2, ROOT:\音频\语音+音效\istinmovc.wav:2, ROOT:\音频\语音+音效\istinmovd.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\istinsela.wav:2, ROOT:\音频\语音+音效\istinselb.wav:2, ROOT:\音频\语音+音效\istinselc.wav:2, ROOT:\音频\语音+音效\istinseld.wav:2
soundOnDeath: ROOT:\音频\语音+音效\istindiea.wav:2, ROOT:\音频\语音+音效\istindieb.wav:2, ROOT:\音频\语音+音效\istindiec.wav:2, ROOT:\音频\语音+音效\istindied.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\生物\毒刺飞弹兵图标.png
image:        毒刺飞弹兵.png

#total_frames: 13
imageScale:	1.0
frame_width: 70
frame_height: 70
#image_wreak:  NONE
#image_offsetY:-4
showEnergyBar: false
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 5
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: if not self.tags(includes='禁止攻击')
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 5
turretTurnSpeed: 6
#maxAttackRange: 180
shootDelay: 120
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 1.0
moveAccelerationSpeed: 0.7
moveDecelerationSpeed: 0.7
maxTurnSpeed: 6
turnAcceleration: 6


[turret_1]
x: 0
y: 0

barrelHeight: 15
limitingRange: 300
limitingMinRange: 0
shoot_sound: ROOT:\音频\语音+音效\istinweaa.wav, ROOT:\音频\语音+音效\istinweab.wav
shoot_sound_vol: 2.0
canAttackFlyingUnits: if not self.tags(includes='禁止攻击')
canAttackLandUnits:   false
projectile: 1


[turret_2]
x: 0
y: 0

copyFrom: 1
limitingRange: 180
limitingMinRange: 20
#shoot_light:#FFEECCCC
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
projectile: 2


[projectile_1]
directDamage: 45
life: 240

frame: 4
friendlyFire: true
speed: 8
targetSpeed: 14
turnSpeed: 100
wobbleAmplitude: 5
wobbleFrequency: 0.1
tags: 防空导弹
explodeOnEndOfLife:true
autoTargetingOnDeadTarget:true
trailEffect: true
trailEffectRate: 1.2
explodeEffect: CUSTOM:弹火
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_directDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_directDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_directDamageMultiplier: 0.6
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_directDamageMultiplier: 0.4


[projectile_2]
areaDamage: 65
life: 240

areaRadius: 20
frame: 4
speed: 4
targetSpeed: 8
friendlyFire: true
initialUnguidedSpeedHeight: 2
gravity: 0.18
explodeOnEndOfLife:true
autoTargetingOnDeadTarget:true
#trailEffect: true
trailEffect:CUSTOM:尾烟*1
trailEffectRate: 1.2
delayedStartTimer: 0
explodeEffect: CUSTOM:弹火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.5


[hiddenAction_1] 
autoTrigger:  if self.hasParent(withTag='房') or self.hasParent(withTag='入驻部署') or self.hasParent(withTag='苏联战斗碉堡')
convertTo: 毒刺飞弹兵入驻
#convertTo_keepCurrentTags: true


[hiddenAction_ai自动入驻]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInNeutralTeam(withTag='可入驻', greaterThan=0, withinRange=500) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.isAttacking() and not self.hasParent()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: neutral
addWaypoint_target_nearestUnit_tagged: 可入驻


[hiddenAction_ai自动入驻2]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInTeam(withTag='可入驻', withinRange=500, greaterThan=0) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.isAttacking() and not self.hasParent()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 可入驻


[hiddenAction_Ai攻击空军]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 空军
addWaypoint_target_nearestUnit_maxRange: 270
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克生物
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=20


[effect_弹火]
alsoPlaySound: ROOT:\音频\语音+音效\gexpifva.wav:2, ROOT:\音频\语音+音效\gexpifvb.wav:2, ROOT:\音频\语音+音效\gexpifvc.wav:2
image: ROOT:\共享文件\1类\爆炸20.png
scaleFrom: 1.05
scaleTo: 1.05
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟.png
life: 25
fadeOut:true
attachedToUnit:false
color:#FFFFFF
fadeInTime:3
scaleFrom:2.5
scaleTo:2.5
alpha:0.8
drawUnderUnits:false
atmospheric:true


[template_zijin]
price: 350

================================================================================
// FILE_PATH: ./1尤里军团/陆军–士兵/病毒狙击手.ini
================================================================================

[core]
name: 病毒狙击手
price: 资金=800
maxHp: 125
mass: 120
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 生物, 狙击手, 心控, 克生物, 步兵轻甲, 免毒, 毒死人
displayText: Virus Sniper
displayText_zh: 病毒狙击手
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: Low\nDamage building: Low\n Special: killed soldiers leave a cloud of poison
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：低\n特殊：被杀死的士兵会留下一片毒云
fogOfWarSightRange: 14
buildSpeed: 8s
isBio: true
soundOnAttackOrder:  ROOT:\音频\语音+音效\ivirata.wav:2, ROOT:\音频\语音+音效\iviratb.wav:2, ROOT:\音频\语音+音效\iviratc.wav:2, ROOT:\音频\语音+音效\iviratd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\ivirmoa.wav:2, ROOT:\音频\语音+音效\ivirmob.wav:2, ROOT:\音频\语音+音效\ivirmoc.wav:2, ROOT:\音频\语音+音效\ivirmod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\ivirsea.wav:2, ROOT:\音频\语音+音效\ivirseb.wav:2, ROOT:\音频\语音+音效\ivirsec.wav:2, ROOT:\音频\语音+音效\ivirsed.wav:2
soundOnDeath: ROOT:\音频\语音+音效\ivirdia.wav:2, ROOT:\音频\语音+音效\ivirdib.wav:2, ROOT:\音频\语音+音效\ivirdic.wav:2, ROOT:\音频\语音+音效\ivirdid.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\生物\病毒狙击手图标.png
image: 病毒狙击手.png

imageScale:	1
frame_width: 117
frame_height: 75
#image_offsetY: -8
#image_wreak:NONE
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 4
animation_idle_start:0
animation_idle_end:0
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 4
animation_direction_starting: 270
animation_direction_units: 45
animation_direction_strideX:0
animation_direction_strideY:1
rotate_with_direction:false


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring:true
turretSize: 0
turretTurnSpeed: 6
maxAttackRange: 300
shootDelay: 180
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0.95
moveAccelerationSpeed:0.2
moveDecelerationSpeed:0.4
maxTurnSpeed: 6
turnAcceleration: 6
joinsGroupFormations:true
reverseSpeedPercentage: 0


[turret_1]
x: 0
y: 0

barrelHeight: 12
canOnlyAttackUnitsWithoutTags: 装甲, 建筑, 建筑2
shoot_sound: ROOT:\音频\语音+音效\iviratta.wav
shoot_sound_vol: 2


[projectile_1]
directDamage: 200
life: 6

instant: true
#spawnUnit: 中毒
explodeEffect: CUSTOM:弹火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 0.85
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.65
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.01
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.01
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.01
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.01
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.01
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.01
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.25


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=300) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=300) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=300) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=300)) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_初始价值]
addResources: 价值=30


[effect_弹火]
image: ROOT:\共享文件\1类\狙击.png
total_frames:7
animateFrameStart: 0
animateFrameEnd: 6
scaleFrom: 1.05
scaleTo: 1.05
attachedToUnit:true
alwayStartDirAtZero:true


[template_zijin]
price: 800


[ai]
useAsAttacker: true
buildPriority: 0.45
maxGlobal: 10



================================================================================
// FILE_PATH: ./1尤里军团/陆军–士兵/尤里新兵.ini
================================================================================


[core]
name: 尤里新兵
price: 资金=250
maxHp: 125
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq, ROOT:\共享文件\3类\驾驶空载具.xxhq
tags: 原始护甲, 低级, 步兵中甲, 生物, 被碾压, 入枪, 基础兵, 克生物, 空下, 尤里新兵, 烧死人
displayText: Initiate 
displayText_zh: 尤里新兵
displayDescription: Target: Ground unit\nDamage creature: Medium\nDamage armor: Low\nDamage building: Low\nSpecial: Enter buildings and increase damage and range.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：低\n伤害建筑：低\n特殊：入驻建筑，并提高伤害和射程
buildSpeed: 2.5s
fogOfWarSightRange: 14
isBio: true
softCollisionOnAll: 2
soundOnAttackOrder:  ROOT:\音频\语音+音效\iiniata.wav:2, ROOT:\音频\语音+音效\iiniatb.wav:2, ROOT:\音频\语音+音效\iiniatc.wav:2, ROOT:\音频\语音+音效\iiniatd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\iinimoa.wav:2, ROOT:\音频\语音+音效\iinimob.wav:2, ROOT:\音频\语音+音效\iinimoc.wav:2, ROOT:\音频\语音+音效\iinimod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iinisea.wav:2, ROOT:\音频\语音+音效\iiniseb.wav:2, ROOT:\音频\语音+音效\iinisec.wav:2, ROOT:\音频\语音+音效\iinised.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iinidia.wav:2, ROOT:\音频\语音+音效\iinidib.wav:2, ROOT:\音频\语音+音效\iinidic.wav:2, ROOT:\音频\语音+音效\iinidid.wav:2, ROOT:\音频\语音+音效\iinidie.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\生物\尤里新兵图标.png
image:        尤里新兵.png

imageScale: 0.9
total_frames: 13
frame_width: 77
frame_height: 77
image_offsetY: 0
#image_wreak:  NONE
showEnergyBar: false
animation_moving_start: 1
animation_moving_end: 5
animation_moving_speed: 5
animation_idle_start:0
animation_idle_end:0
animation_attack_start: 6
animation_attack_end: 12
animation_attack_speed: 5
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 5
turretTurnSpeed: 6
maxAttackRange: 150
shootDelay: 20
canOnlyAttackUnitsWithoutTags: 伪装, 围墙


[movement]
movementType: LAND

moveSpeed: 1.20
moveAccelerationSpeed: 0.8
moveDecelerationSpeed: 0.8
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0
shoot_sound: ROOT:\音频\语音+音效\iiniatta.wav, ROOT:\音频\语音+音效\iiniattb.wav
shoot_sound_vol: 2


[projectile_1]
directDamage: 25
life: 70

instant: true
explodeEffect: CUSTOM:火焰
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.40
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.20
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.20
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.60
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.40
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.40


[hiddenAction_1] 
autoTrigger:  if self.hasParent(withTag='房') or self.hasParent(withTag='入驻部署')
#withTag='标签'
convertTo: 尤里新兵入驻
#convertTo_keepCurrentTags: true


[hiddenAction_ai自动入驻]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInNeutralTeam(withTag='可入驻', greaterThan=0, withinRange=500) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.isAttacking() and not self.hasParent()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: neutral
addWaypoint_target_nearestUnit_tagged: 可入驻


[hiddenAction_ai自动入驻2]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInTeam(withTag='可入驻', withinRange=500, greaterThan=0) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.isAttacking() and not self.hasParent()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 可入驻


[hiddenAction_Ai攻击生物]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=150)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生物
addWaypoint_target_nearestUnit_maxRange: 150
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=50) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
#addWaypoint_target_mapMustBeReachable: true
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克装甲
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='兵营') and not self.hasUnitInTeam(withTag='兵营', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=150) and self.hasTakenDamage(withinSeconds=1)
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 兵营


[hiddenAction_Ai入生化反应炉]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInTeam(withTag='生化反应炉', withinRange=200, greaterThan=0) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='loadInto') and not self.isAttacking() and not self.hasParent() and not self.isFlying() and not self.isInWater()
addWaypoint_type: loadInto
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 生化反应炉
addWaypoint_maxTime: 2s


[hiddenAction_初始价值]
addResources: 价值=15


[effect_火焰]
image: ROOT:\共享文件\1类\火1.png
total_frames:15
animateFrameStart: 0
animateFrameEnd:14
animateFrameSpeed: 0.25
scaleFrom: 0.8
scaleTo: 0.8
attachedToUnit: false
alwayStartDirAtZero:true


[template_zijin]
price: 250

================================================================================
// FILE_PATH: ./1尤里军团/陆军–士兵/入侵者2.ini
================================================================================


[core]
name: 入侵者2
copyFrom: 入侵者.ini
showOnMinimapToEnemies: false
canOnlyBeAttackedByUnitsWithTags: 反伪装
showInEditor: false


[graphics]
isVisibleToEnemies: false
image_shadow: NONE
#shadowOffsetX: 12
#shadowOffsetY: 5
animation_moving_speed: 8


[movement]
moveSpeed: 1.0
moveAccelerationSpeed: 0.6
moveDecelerationSpeed: 0.6


[hiddenAction_1]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='反伪装', greaterThan=0, withinRange=150)
convertTo: 入侵者

================================================================================
// FILE_PATH: ./1尤里军团/海军/雷鸣潜艇上浮.ini
================================================================================


[core]
name: 雷鸣潜艇上浮
copyFrom: 雷鸣潜艇.ini
showInEditor: false
showOnMinimapToEnemies: true


[graphics]
isVisibleToEnemies: true
image:        雷鸣潜艇.png

image_shadow: AUTO_ANIMATED
shadowOffsetX: 10
shadowOffsetY: 20
movementEffect: CUSTOM:水圈
movementEffectRate: 20


[movement]
#moveSpeed: 1.0
targetHeight: 0
targetHeightDrift: 0


[turret_3]
x: 0
y: 0


barrelX: 0
barrelY: -10
barrelHeight: 10
limitingRange: 570
limitingMinRange: 60
shoot_flame: CUSTOM:开火
shoot_sound: ROOT:\音频\语音+音效\vbooat1a.wav
shoot_sound_vol: 2
canOnlyAttackUnitsWithoutTags: 船舰, 水下
warmup: 180
delay: 180
projectile: 2


[turret_4]
x: 0
y: 0

copyFrom: 3
barrelY: -5
linkDelayWithTurret: 3
attachedTo:  3
slave: true
warmup: 210


[projectile_2]
areaDamage: 165

life: 600
areaRadius: 60
image: 雷鸣飞弹.png
speed: 0
targetSpeed: 4
#initialUnguidedSpeedHeight: 2
#gravity: 0.18
frame: 4
drawSize: 0.8
#teamColorRatio:1
areaRadiusFromEdge: true
areaHitAirAndLandAtSameTime: true
#explodeOnEndOfLife:true
targetGround: true
trailEffect: CUSTOM:尾烟*1
trailEffectRate: 2
friendlyFire:true
ballistic:true
ballistic_delaymove_height: 120
ballistic_height: 200
explodeEffect: CUSTOM:爆炸2, CUSTOM:映射
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.8
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.4
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.0
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.8


[action_转换形态]
text: Close missile permission
text_zh: 关闭导弹权限
description: Close the missile authority and dive to avoid most land damage.
description_zh: 关闭导弹权限，下潜躲避大部分陆上伤害。
isActive: if not self.tags(includes='禁止攻击')
isLocked: if self.tags(includes='禁止攻击')
convertTo: 雷鸣潜艇2
convertTo_keepCurrentTags: true


[hiddenAction_1]
autoTrigger: false



================================================================================
// FILE_PATH: ./1尤里军团/海军/雷鸣潜艇2.ini
================================================================================


[core]
name: 雷鸣潜艇2
copyFrom: 雷鸣潜艇.ini
showInEditor: false
showOnMinimapToEnemies: true


[graphics]
isVisibleToEnemies: true
image:        雷鸣潜艇.png

image_shadow: AUTO_ANIMATED
shadowOffsetX: 10
shadowOffsetY: 20
movementEffect: CUSTOM:水圈
movementEffectRate: 20


[movement]
#moveSpeed: 1.0
targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTrigger: if self.hasTakenDamage(laterThanSeconds=3) and not self.isAttacking() and not numberOfUnitsInEnemyTeam(withTag='反潜', greaterThan=0, withinRange=300) and not self.hasFlag(id=28)
convertTo: 雷鸣潜艇
#setUnitStats: moveSpeed=select(memory.移动速度!=0, memory.移动速度, ${movement.moveSpeed})
playSoundAtUnit: ROOT:\音频\语音+音效\vnavupa.wav:2



================================================================================
// FILE_PATH: ./1尤里军团/海军/装甲运输船.ini
================================================================================


[core]
name: 装甲运输船
price: 资金=1000
maxHp: 1000
mass: 10000
radius: 40

copyFrom: ROOT:\共享文件\3类\阵营船舰共同.xxhq
tags: 原始护甲, 载具中甲, 装甲, 船坞维修, 两栖, 可空, 空下
displayText: Armored Carrier
displayText_zh: 装甲运输艇
displayDescription: Special: No attack ability.\nUsed to transport ground units across the sea.
displayDescription_zh: 特殊：无攻击能力\n运输作战单位过海
buildSpeed: 10s
fogOfWarSightRange: 10
maxTransportingUnits: 14
transportSlotsNeeded: 99
transportUnitsBlockOtherTransports: false
soundOnMoveOrder: ROOT:\音频\语音+音效\vhoymoa.wav:2, ROOT:\音频\语音+音效\vhoymob.wav:2, ROOT:\音频\语音+音效\vhoymoc.wav:2, ROOT:\音频\语音+音效\vhoymod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vhoysea.wav:2, ROOT:\音频\语音+音效\vhoyseb.wav:2, ROOT:\音频\语音+音效\vhoysec.wav:2, ROOT:\音频\语音+音效\vhoysed.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\装甲运输船图标.png
image:        装甲运输船.png

drawLayer: ground
total_frames: 1
imageScale:	1.0
frame_width: 180
frame_height: 180
image_offsetY: 5
#image_wreak:  NONE
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: HOVER

moveSpeed: 1.35
moveAccelerationSpeed:0.06
moveDecelerationSpeed:0.1
maxTurnSpeed: 2
turnAcceleration: 0.5
targetHeight: 3
targetHeightDrift: 1.5
moveSlidingMode: true
moveIgnoringBody: true
moveSlidingDir: 180


[action_1]
@define slotId: 0
isVisible: if self.transportingCount(slot=${slotId}, greaterThan=0)
isActive: if not self.isOverwater() and not self.isMoving()
buildSpeed: 0s
text: unload
text_zh: 卸载
textAddUnitName: unitRef self.transporting(slot=${slotId})
description: Click to unload unit
description_zh: 点击卸载单位
displayType: action
unitShownInUI: unitRef self.transporting(slot=${slotId})
forceUnloadTransportNow:true
forceUnloadTransportNow_onlyOnSlot:${slotId}
#isActive: if self.height(lessThan=3)


[action_2]
@copyFromSection: action_1
@define slotId: 1


[action_3]
@copyFromSection: action_1
@define slotId: 2


[action_4]
@copyFromSection: action_1
@define slotId: 3


[action_5]
@copyFromSection: action_1
@define slotId: 4


[action_6]
@copyFromSection: action_1
@define slotId: 5


[action_7]
@copyFromSection: action_1
@define slotId: 6


[action_8]
@copyFromSection: action_1
@define slotId: 7


[action_9]
@copyFromSection: action_1
@define slotId: 8


[action_10]
@copyFromSection: action_1
@define slotId: 9


[action_11]
@copyFromSection: action_1
@define slotId: 10


[action_12]
@copyFromSection: action_1
@define slotId: 11


[action_13]
@copyFromSection: action_1
@define slotId: 12


[action_14]
@copyFromSection: action_1
@define slotId: 13


[hiddenAction_卸载声]
autoTrigger: if self.isTransportUnloading() and not self.isMoving()
playSoundAtUnit:  ROOT:\音频\语音+音效\gexit1a.wav:2
#showQuickWarLogToAllPlayers: 卸载


[hiddenAction_Ai卸载]
autoTrigger: if self.isControlledByAI() and not self.isOverwater() and self.hasTakenDamage(withinSeconds=1) and not self.transportingCount(empty=true)
forceUnloadTransportNow: true


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=50) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 反潜
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克空军
#showMessageToAllPlayers: 触发4


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避4]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=70) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避5]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='船坞') and not self.hasUnitInTeam(withTag='船坞', withinRange=100) and not self.hasActiveWaypoint(type='move') and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=270) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=250)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 船坞


[hiddenAction_初始价值]
addResources: 价值=30


[hiddenAction_两栖亡]
autoTrigger: false


[template_zijin]
price: 1000

================================================================================
// FILE_PATH: ./1尤里军团/海军/雷鸣潜艇.ini
================================================================================


[core]
name: 雷鸣潜艇
price: 资金=2000
maxHp: 1200
mass: 15000
radius: 35

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营船舰共同.xxhq
tags: 原始护甲, 载具中甲, 低级, 装甲, 船舰, 水下, 船坞维修, 克装甲, 克建筑, 可空, 雷鸣潜艇, 潜水单位, 炸飞人
displayText: Boomer Sub
displayText_zh: 雷鸣潜艇
displayDescription: Target: Underwater unit\nDamage creature: Medium\nDamage armor: High\nDamage building: High\nSpecial: Can spot and attack underwater units.\nNot attacked by enemies while underwater.\nWill float to the surface when found.
displayDescription_zh: 攻击目标：海面单位/海下单位\n伤害装甲：高\n伤害生物：中\n伤害建筑：高\n特殊：可以发现并攻击海下隐藏单位(海雷/台风潜艇/巨型乌贼/海豚)
buildSpeed: 14s
explodeOnDeath: true
showOnMinimapToEnemies: false
fogOfWarSightRange: 20
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 雷鸣潜艇
soundOnAttackOrder:  ROOT:\音频\语音+音效\vbooa2a.wav:2, ROOT:\音频\语音+音效\vbooa2b.wav:2, ROOT:\音频\语音+音效\vbooa2c.wav:2, ROOT:\音频\语音+音效\vbooa2d.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vboomoa.wav:2, ROOT:\音频\语音+音效\vboomob.wav:2, ROOT:\音频\语音+音效\vboomoc.wav:2, ROOT:\音频\语音+音效\vboomod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vboosea.wav:2, ROOT:\音频\语音+音效\vbooseb.wav:2, ROOT:\音频\语音+音效\vboosec.wav:2, ROOT:\音频\语音+音效\vboosed.wav:2


[hiddenAction_移动音效]
autoTrigger: if self.isMoving() and self.customTimer(laterThanSeconds=5)
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vboostaa.wav:1.5, ROOT:\音频\语音+音效\vboostaa.wav:1.5


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\雷鸣潜艇图标.png
image:        雷鸣潜艇.png

isVisibleToEnemies: false
#imageScale: 0.9
frame_width: 150
frame_height: 150
image_wreak:  NONE
image_offsetY: 10
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 3
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffect: NONE


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: if not self.tags(includes='禁止攻击')

canAttackNotTouchingWaterUnits: if not self.tags(includes='禁止攻击')
isFixedFiring: true
turretSize: 10
turretTurnSpeed: 3
#maxAttackRange: 240
shootDelay: ${int(80*(1/gameSpeedRate))}


[movement]
movementType: WATER

moveSpeed: 0.8
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.06
targetHeight: -2
targetHeightDrift: 0.4
maxTurnSpeed: 2
turnAcceleration: 1


[turret_1]
x: 0
y: 25


limitingRange: 270
barrelX: 8
barrelHeight: 10
shoot_sound: ROOT:\音频\语音+音效\vbooat2a.wav
shoot_sound_vol: 2
canOnlyAttackUnitsWithTags: 船舰, 水下
projectile: 1


[turret_2]
x: 0
y: 0

copyFrom: 1
barrelX: -8
linkDelayWithTurret: 1
attachedTo:  1
slave: true
warmup: 20


[projectile_1]
areaDamage: 175
life: 300

areaRadius: 25
image: ROOT:\共享文件\1类\鱼雷.png
trailEffect: CUSTOM:水波
trailEffectRate: 3
drawSize: 1
speed: 0
targetSpeed: 6
#largeHitEffect: true
explodeEffect: CUSTOM:映射, CUSTOM:爆炸
autoTargetingOnDeadTarget: true
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.4
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.4
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.4
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.5
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.6
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.6
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.8
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[hiddenAction_1]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) or numberOfUnitsInEnemyTeam(withTag='反潜', greaterThan=0, withinRange=300) or self.hasFlag(id=28)
convertTo: 雷鸣潜艇2
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: shootDamageMultiplier, shootDelayMultiplier, moveSpeed, maxTurnSpeed
#setUnitStats: moveSpeed=select(memory.移动速度!=0, memory.移动速度, ${movement.moveSpeed})*1.25
playSoundAtUnit: ROOT:\音频\语音+音效\vnavupa2.wav:2


[action_转换形态]
text: Enable missile permission
text_zh: 开启导弹权限
description: After launching missile authority, you can use missiles to attack units on land. \n Unable to dive in this state.
description_zh: 启动导弹权限后可以使用导弹攻击陆地上的单位。\n此状态无法下潜。
displayType: action
buildSpeed: 1s
convertTo: 雷鸣潜艇上浮
convertTo_keepCurrentTags: true
isActive: if not self.tags(includes='禁止攻击')
isLocked: if self.tags(includes='禁止攻击')
playSoundAtUnit: ROOT:\音频\语音+音效\vnavupa2.wav:2


[hiddenAction_1级显示] 
autoTrigger: if self.tags(includes='1级') and self.z==0


[hiddenAction_2级显示] 
autoTrigger: if self.tags(includes='2级') and self.z==0


[hiddenAction_3级显示] 
autoTrigger: if self.tags(includes='3级') and self.z==0


[hiddenAction_Ai攻击装甲]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=270)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 装甲
addWaypoint_target_nearestUnit_maxRange: 270
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy
#showMessageToAllPlayers: 触发
#addWaypoint_maxTime: 1s 


[hiddenAction_Ai攻击建筑]
autoTrigger: if self.isControlledByAI() and (not self.hasActiveWaypoint(type='attack') and self.isAttacking()) and not self.hasActiveWaypoint(type='move') and numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=540)
@copyFromSection: hiddenAction_Ai攻击装甲
addWaypoint_target_nearestUnit_tagged: 建筑


[hiddenAction_Ai攻击取消]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasActiveWaypoint(type='attack')
clearActiveWaypoint: true
#showMessageToAllPlayers: 取消路径


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克空军') and not self.hasUnitInTeam(withTag='克空军', withinRange=70) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=265) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 克空军
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=70) and self.hp(lessThan=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=265) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_type: move
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='船坞') and not self.hasUnitInTeam(withTag='船坞', withinRange=100) and not self.isAttacking() and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='空军', greaterThan=0, withinRange=265) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 船坞


[hiddenAction_初始价值]
addResources: 价值=85


[effect_爆炸]
image: ROOT:\共享文件\1类\炸毁5.png
alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_水波]
stripIndex: effects
life: 60
frameIndex: 13
scaleFrom: 0.9
scaleTo: 1.3
alpha: 0.4
atmospheric:true
fadeInTime: 3
fadeOut:true
dirOffsetRandom:180
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
ySpeedRelative:-0.2
#yOffsetRelative: 0
attachedToUnit: false
drawUnderUnits:true


[effect_开火]
image: ROOT:\共享文件\1类\导弹发射.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_爆炸2]
image: ROOT:\共享文件\1类\爆炸4.png
alsoPlaySound: ROOT:\音频\语音+音效\vapocexpa.wav:2, ROOT:\音频\语音+音效\vapocexpb.wav:2
scaleFrom: 1.6
scaleTo: 1.6
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.4
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 1.5
scaleTo: 0.2
alpha: 0.4
life: 35
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟2.png
life: 60
scaleFrom: 1.0
scaleTo: 0.2
attachedToUnit: false
drawUnderUnits: false
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFramePingPong: false
animateFrameSpeed: 0.25
alwayStartDirAtZero: true
atmospheric: true


[template_zijin]
price: 2000

================================================================================
// FILE_PATH: ./1尤里军团/海军/海蛇.ini
================================================================================


[core]
name: 海蛇
price: 资金=1250
maxHp: 460
mass: 8000
radius: 25

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营船舰共同.xxhq
tags: 原始护甲, 载具中甲, 中级, 装甲, 船舰, 船坞维修, 克空军, 可空, 空下, 海蛇
#overrideAndReplace: heavyMissileShip, missileShip, nautilusSubmarine
displayText: Sea Snake
displayText_zh: 海蛇
displayDescription: Target: Ground unit/Air unit\nDamage creature: Low\nDamage armor: High\nDamage air: High\nDamage building: Medium
displayDescription_zh: 攻击目标：地面单位/海面单位/空中单位\n伤害生物：低\n伤害装甲：中\n伤害建筑：中\n伤害空军：高
buildSpeed: 9.5s
fogOfWarSightRange: 16
soundOnAttackOrder:  ROOT:\音频\语音+音效\vscorata.wav:2, ROOT:\音频\语音+音效\vscoratb.wav:2, ROOT:\音频\语音+音效\vscoratc.wav:2, ROOT:\音频\语音+音效\vscoratd.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\vscormoa.wav:2, ROOT:\音频\语音+音效\vscormob.wav:2, ROOT:\音频\语音+音效\vscormoc.wav:2, ROOT:\音频\语音+音效\vscormod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\vscorsea.wav:2, ROOT:\音频\语音+音效\vscorseb.wav:2, ROOT:\音频\语音+音效\vscorsec.wav:2, ROOT:\音频\语音+音效\vscorsed.wav:2


[graphics]
icon_build: ROOT:\单位图标\尤里\载具\海蛇图标.png
image:       海蛇.png

#imageScale: 0.95
total_frames: 1
frame_width: 130
frame_height: 130
image_offsetX: 0
image_offsetY: 0
#image_wreak:  NONE
#splastEffect: false
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffectRate: 25


[attack]
canAttack: true
canAttackFlyingUnits: if not self.hasFlag(id=28) and not self.tags(includes='禁止攻击')
canAttackLandUnits: if not self.hasFlag(id=28) and not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 20
#maxAttackRange: 360
shootDelay: ${int(28*(1/gameSpeedRate))}


[movement]
movementType: WATER

moveSpeed: 1.50
moveAccelerationSpeed: 0.04
moveDecelerationSpeed: 0.08
maxTurnSpeed: 3
turnAcceleration: 1
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

warmup: 0
limitingRange: 180
barrelHeight: 15
barrelX: -15
shoot_flame: CUSTOM:映射
shoot_sound: ROOT:\音频\语音+音效\vjabwea2a.wav
shoot_sound_vol: 2
shoot_light:#FFFFFFFF
canAttackFlyingUnits: false
canAttackLandUnits:  if not self.hasParent(withTag='禁止攻击')
projectile: 1


[turret_2]
x: 0
y: 0

copyFrom: 1
barrelX: 15
linkDelayWithTurret: 1
attachedTo:  1
slave: true
warmup: 20


[turret_3]
x: 0
y: 0

copyFrom:1
size: 10
limitingRange: 360
canAttackFlyingUnits: if not self.hasParent(withTag='禁止攻击')
canAttackLandUnits:   false
projectile: 2


[turret_4]
x: 0
y: 0

copyFrom: 3
barrelX: 10
linkDelayWithTurret: 3
attachedTo:  3
slave: true
warmup: 15


[projectile_1]
areaDamage: 45
life: 240

areaRadius: 20
targetGround: true
frame: 4
speed: 2
targetSpeed: 8
hitSound: true
initialUnguidedSpeedHeight: 2
gravity: 0.18
explodeOnEndOfLife:true
autoTargetingOnDeadTarget:true
trailEffect: true
trailEffectRate: 1.0
effectOnCreate: CUSTOM:映射2
explodeEffect: CUSTOM:映射3, CUSTOM:弹火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.2
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.2
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.2
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.4
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 20
retargetingInFlightSearchLead: 0
retargetingInFlightSearchOnlyTags: 建筑


[projectile_2]
directDamage: 45
#areaDamage: 0
life: 240

#areaRadius: 30
frame: 4
speed: 8
targetSpeed: 14
trailEffect: true
trailEffectRate: 1
turnSpeed: 100
wobbleAmplitude: 5
wobbleFrequency: 0.1
explodeEffect: CUSTOM:弹火
autoTargetingOnDeadTarget: true
mutator27_ifUnitWithTags: 飞机轻甲
mutator27_directDamageMultiplier: 1.0
mutator28_ifUnitWithTags: 飞机中甲
mutator28_directDamageMultiplier: 0.8
mutator29_ifUnitWithTags: 飞机重甲
mutator29_directDamageMultiplier: 0.6
mutator30_ifUnitWithTags: 火箭飞行兵
mutator30_directDamageMultiplier: 0.4


[hiddenAction_Ai躲避]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='反潜') and not self.hasUnitInTeam(withTag='反潜', withinRange=50) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=350) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 反潜
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: enemy
addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 触发3


[hiddenAction_Ai躲避2]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克生物') and not self.hasUnitInTeam(withTag='克生物', withinRange=70) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=350) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克生物
#showMessageToAllPlayers: 触发5


[hiddenAction_Ai躲避3]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='克装甲') and not self.hasUnitInTeam(withTag='克装甲', withinRange=70) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=350) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 克装甲


[hiddenAction_Ai躲避5]
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and self.hasUnitInTeam(withTag='船坞') and not self.hasUnitInTeam(withTag='船坞', withinRange=100) and not self.hasActiveWaypoint(type='move') and not self.hasActiveWaypoint(type='guard') and (numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=350) or numberOfUnitsInEnemyTeam(withTag='水下', greaterThan=0, withinRange=350) or numberOfUnitsInEnemyTeam(withTag='生物', greaterThan=0, withinRange=350)) and self.hasTakenDamage(withinSeconds=1) and not self.tags(includes='铁幕保护')
@copyFromSection: hiddenAction_Ai躲避
addWaypoint_target_nearestUnit_tagged: 船坞


[hiddenAction_初始价值]
addResources: 价值=40


[effect_弹火]
image: ROOT:\共享文件\1类\弹火2.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpifva.wav:2, ROOT:\音频\语音+音效\gexpifvb.wav:2, ROOT:\音频\语音+音效\gexpifvc.wav:2
scaleFrom: 1.5
scaleTo: 1.5
total_frames:12
animateFrameStart: 0
animateFrameEnd:11
animateFrameSpeed:0.3
alwayStartDirAtZero:true
attachedToUnit:false


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
image: ROOT:\共享文件\1类\映射.png
life: 30
scaleFrom: 0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
#scaleTo: 0.8
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false


[template_zijin]
price: 1250

================================================================================
// FILE_PATH: ./开局设定/开局模式-生产精英单位.ini
================================================================================

[core]
name: 开局模式-生产精英单位
copyFrom: 开局模式-高能矿转.ini

displayText: Initial mode: Production full unit
displayText_zh: 开局模式-生产精英单位
displayDescription: All factorys and bases can produce full-scale units after the start of the game
displayDescription_zh: 开局后所有工厂和基地都能生产满级的单位


[hiddenAction_1]
addGlobalTeamTags: 生产精英单位
spawnUnits: NONE

================================================================================
// FILE_PATH: ./开局设定/开局模式-快速战斗.ini
================================================================================

[core]
name: 开局模式-快速战斗
price: 0
maxHp: 10000
mass: 50000
radius: 10

displayText: Initial mode: Quick Battle
displayText_zh: 开局模式-快速战斗
displayDescription: After destroying all production facilities and base vehicles of the enemy, directly destroy all units of the enemy.
displayDescription_zh: 在摧毁敌人所有的生产设施和基地车后直接消灭该敌人所有单位。
disableAllUnitCollisions: true
canNotBeDamaged: true
canOnlyBeAttackedByUnitsWithTags: 无
fogOfWarSightRange: 0
isBuilding: true
isPickableStartingUnit: true


[graphics]
image:      ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: NONE


[hiddenAction_1]
autoTriggerOnEvent: created
convertTo: 选择阵营
spawnUnits: 胜利判定


[ai]
useAsBuilder: true

================================================================================
// FILE_PATH: ./开局设定/胜利判定.ini
================================================================================


[core]
name: 胜利判定
price: 0
maxHp: 100
mass: 5000
radius: 20


showInEditor: false
isBuilding: true
displayText: Victory Determination
displayText_zh: 胜利判定
canNotBeDirectlyAttacked: true
disableAllUnitCollisions: true
isUnselectable: true


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR


[hiddenAction_1]
autoTrigger: if self.teamVictory()
addGlobalTeamTags: 胜利
deleteSelf: true


[hiddenAction_2]
autoTrigger: if self.teamDefeatedTech()
addGlobalTeamTags: 失败
deleteSelf: true



================================================================================
// FILE_PATH: ./开局设定/技能点-盟军.ini
================================================================================


[core]
name: 国旗-美国
copyFrom: 国旗-中国.ini
displayText: Support point - Allied Forces
displayText_zh: 技能点 - 盟军
displayDescription: It can be moved in the base construction circle,\nbut cannot moved when the skill cooldown is generated.
displayDescription_zh: 在基地建造圈内可移动位置\n但产生技能冷却时无法移动
canRepairUnitsOnlyWithTags: 救援
footprint: 0,0,0,0
displayFootprint: 0,0,0,0
constructionFootprint: 0,0,0,0
showOnMinimapToEnemies: false
tags: 国旗-美国


[graphics]
isVisibleToEnemies: false
image:        ROOT:\共享文件\1类\隐藏.png

rotate_with_direction: false


[arm_1]
x: 0
y: 0

#hidden: 
spinRate: 2
image_end: ROOT:\共享文件\1类\技能点圈.png
image_end_teamColors: true
drawOverBody: false
#drawUnderAllUnits: false
#endDirOffset: 135


[arm_2]
x: 0
y: 0

spinRate: 0
image_end: 技能点-盟军.png
image_end_teamColors: true
drawOverBody: false


[canBuild_1]
name: 救援
isLocked: if not self.hasUnitInTeam(withTag='盟军维修站') and self.noUnitInTeam(withTag='沙盒控制')
isLockedMessage: Require Allied Service Depot
isLockedMessage_zh: 需要: 盟军维修站
isLockedAlt: if self.resource(type="电力",lessThan=0)
isLockedAltMessage: Low Power !
isLockedAltMessage_zh: 没有电力！
isVisible: if self.resource(type='临时救援计时', empty=true)
addResources: 临时救援计时=180
isGuiBlinking: if self.resource(type='临时救援计时', empty=true)


[canBuild_2]
name: 前哨节点
isLocked: if not self.hasUnitInTeam(withTag='控制中心') and self.noUnitInTeam(withTag='沙盒控制')
isLockedMessage: Require Robot Control Center
isLockedMessage_zh: 需要: 控制中心
isLockedAlt: if self.resource(type="电力",lessThan=0)
isLockedAltMessage: Low Power !
isLockedAltMessage_zh: 没有电力！
isVisible: if self.resource(type='前哨节点计时', empty=true) and self.globalTeamTags(includes='法国')
addResources: 前哨节点计时=240
isGuiBlinking: if self.resource(type='前哨节点计时', empty=true)


[canBuild_3]
name: 加速
isLocked: if not self.hasUnitInTeam(withTag='控制中心') and self.noUnitInTeam(withTag='沙盒控制')
isLockedMessage: Require Robot Control Center
isLockedMessage_zh: 需要: 控制中心
isLockedAlt: if self.resource(type="电力",lessThan=0)
isLockedAltMessage: Low Power !
isLockedAltMessage_zh: 没有电力！
isVisible: if self.resource(type='加速计时', empty=true) and self.globalTeamTags(includes='德国')
addResources: 加速计时=240
isGuiBlinking: if self.resource(type='加速计时', empty=true)


[turret_卫星扫描]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 卫星扫描


[turret_力场护盾]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 力场护盾


[turret_空投]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 空投


[turret_空投-Ai]
x: 0
y: 0

canAttackCondition: if self.resource(type='空投计时', empty=true) and self.isControlledByAI() and not self.hasFlag(id=28) and self.globalTeamTags(includes='美国')
canOnlyAttackUnitsWithTags: 基地
limitingRange: 9999
resourceUsage: 空投计时=-180
onShoot_triggerActions: 空投2-Ai
projectile: 空投-Ai


[turret_空投-Ai2]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and self.resource(type='空投计时', empty=true) and self.isControlledByAI() and not self.hasFlag(id=28) and self.globalTeamTags(includes='美国')
canOnlyAttackUnitsWithTags: 车厂, 机场, 兵营
limitingRange: 9999
resourceUsage: 空投计时=-180
onShoot_triggerActions: 空投2-Ai
projectile: 空投


[turret_空投-Ai3]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='车厂', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='兵营', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='机场', greaterThan=0) and self.resource(type='空投计时', empty=true) and self.isControlledByAI() and not self.hasFlag(id=28) and self.globalTeamTags(includes='美国')
#canOnlyAttackUnitsWithTags: 
canOnlyAttackUnitsWithoutTags: 基地, 车厂, 机场, 兵营
limitingRange: 9999
resourceUsage: 空投计时=-180
onShoot_triggerActions: 空投2-Ai
projectile: 空投


[turret_物资箱空投]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 空投


[turret_极端天气]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 极端天气


[turret_极端天气-Ai]
x: 0
y: 0

canAttackCondition: if self.resource(type='极端天气计时', empty=true) and self.isControlledByAI() and not self.hasFlag(id=25) and self.globalTeamTags(includes='西太')
canOnlyAttackUnitsWithTags: 基地
limitingRange: 9999
resourceUsage: 极端天气计时=-300
projectile: 极端天气


[turret_极端天气-Ai2]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and self.resource(type='极端天气计时', empty=true) and self.isControlledByAI() and not self.hasFlag(id=25) and self.globalTeamTags(includes='西太')
canOnlyAttackUnitsWithTags: 车厂, 机场, 兵营
limitingRange: 9999
resourceUsage: 极端天气计时=-300
projectile: 极端天气


[turret_极端天气-Ai3]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='车厂', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='兵营', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='机场', greaterThan=0) and self.resource(type='极端天气计时', empty=true) and self.isControlledByAI() and not self.hasFlag(id=25) and self.globalTeamTags(includes='西太')
#canOnlyAttackUnitsWithTags: 
canOnlyAttackUnitsWithoutTags: 基地, 车厂, 机场, 兵营
limitingRange: 9999
resourceUsage: 极端天气计时=-300
projectile: 极端天气


[projectile_卫星扫描]
directDamage: 0
life: 60

instant: true
targetGround: true
explodeEffect: NONE
spawnUnit: 卫星扫描


[projectile_力场护盾]
directDamage: 0
life: 60

instant: true
targetGround: true
explodeEffect: NONE
spawnUnit: 力场护盾


[projectile_空投]
directDamage: 0
life: 60

instant: true
targetGround: true
explodeEffect: NONE
spawnUnit: 空投点


[projectile_空投-Ai]
directDamage: 0
life: 60

@copyFromSection: projectile_空投
targetGroundSpread: 300


[projectile_极端天气]
directDamage: 0
life: 60

instant: true
targetGround: true
explodeEffect: NONE
spawnUnit: 区域极端天气


[action_介绍]
text: Allied Forces introduction
text_zh: 同盟国联军简介
description: As the winner of the Second World War, the Allied forces are good at using high-tech weapons to attack the enemy. \n Unique technologies: Chrono technology, Weather Control Technology, Laser Technology.
description_zh: 同盟国联军作为第二次世界大战的胜利者，善于使用高科技武器为攻击手段攻击敌人。\n特有技术：超时空技术，天气控制技术，激光技术
pos: 0
displayType: rally
isActive: false
showMessageToAllPlayers:


[action_临时救援]
text: Temporary Rescue countdown
text_zh: 紧急维修倒计时
price: 临时救援计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
isVisible: if not self.resource(type='临时救援计时', empty=true)
autoTrigger: if not self.resource(type='临时救援计时', empty=true)
addResources: 临时救援计时=-1
#showMessageToAllPlayers: 触发2


[hiddenAction_临时救援-Ai]
autoTrigger: if self.isControlledByAI() and not self.hasFlag(id=31) and self.resource(type='临时救援计时', empty=true) and not self.tags(includes='临时救援Ai')
temporarilyAddTags: 临时救援Ai
spawnUnits: 救援引子-Ai
#showMessageToAllPlayers: 触发


[hiddenAction_临时救援-Ai2]
autoTrigger: if self.tags(includes='临时救援Ai') and self.noUnitInTeam(withTag='救援引子')
addResources: 临时救援计时=180
temporarilyRemoveTags: 临时救援Ai
#showMessageToAllPlayers: 触发2


[action_前哨节点]
text: Outpost Node countdown
text_zh: 前哨节点倒计时
price: 前哨节点计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
isVisible: if not self.resource(type='前哨节点计时', empty=true) and self.globalTeamTags(includes='法国')
autoTrigger: if not self.resource(type='前哨节点计时', empty=true)
addResources: 前哨节点计时=-1


[action_闪电战]
text: Blitzkrieg countdown
text_zh: 闪电战倒计时
price: 加速计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
isVisible: if not self.resource(type='加速计时', empty=true) and self.globalTeamTags(includes='德国')
autoTrigger: if not self.resource(type='加速计时', empty=true)
addResources: 加速计时=-1


[action_卫星扫描]
text: Satellite scan countdown
text_zh: 卫星扫描倒计时
price: 卫星扫描计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
#isLocked: true
isVisible: if not self.resource(type='卫星扫描计时', empty=true)
autoTrigger: if not self.resource(type='卫星扫描计时', empty=true)
addResources: 卫星扫描计时=-1
#showMessageToAllPlayers: 触发3


[action_卫星扫描2]
textAddUnitName: 卫星扫描
descriptionAddFromUnit: 卫星扫描
buildSpeed: 0s
displayType: queueUnit
isGuiBlinking: true
fireTurretXAtGround: 卫星扫描
addResources: 卫星扫描计时=120
isActive: if (self.resource(type="电力",greaterThan=20) and self.hasUnitInTeam(withTag='卫星中心')) or self.hasUnitInTeam(withTag='沙盒控制')
isVisible: if self.resource(type='卫星扫描计时', empty=true) and self.timeAlive(laterThanSeconds=2)
isLocked: if self.resource(type="电力",lessThan=0)
isLockedMessage: Low Power !
isLockedMessage_zh: 没有电力！


[action_力场护盾]
text: Force Field Shield countdown
text_zh: 力场护盾倒计时
price: 力场护盾计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
#isLocked: true
isVisible: if not self.resource(type='力场护盾计时', empty=true)
autoTrigger: if not self.resource(type='力场护盾计时', empty=true)
addResources: 力场护盾计时=-1
#showMessageToAllPlayers: 触发3


[action_力场护盾2]
textAddUnitName: 力场护盾
descriptionAddFromUnit: 力场护盾
buildSpeed: 0s
displayType: queueUnit
isGuiBlinking: true
fireTurretXAtGround: 力场护盾
addResources: 力场护盾计时=180
isActive: if self.resource(type="电力",greaterThan=100) or self.hasUnitInTeam(withTag='沙盒控制')
isVisible: if self.resource(type='力场护盾计时', empty=true) and self.timeAlive(laterThanSeconds=2)
isLocked: if self.resource(type="电力",lessThan=0)
isLockedMessage: Low Power !
isLockedMessage_zh: 没有电力！


[hiddenAction_力场护盾2-Ai]
autoTrigger: if self.isControlledByAI() and not self.hasFlag(id=29) and self.resource(type='力场护盾计时', empty=true) and not self.tags(includes='力场护盾2Ai')
temporarilyAddTags: 力场护盾2Ai
addGlobalTeamTags: 力场护盾2Ai2
#showMessageToAllPlayers: 触发


[hiddenAction_力场护盾2-Ai2]
autoTrigger: if self.resource(type="电力",greaterThan=100) and self.tags(includes='力场护盾2Ai') and not self.globalTeamTags(includes='力场护盾2Ai2')
addResources: 力场护盾计时=180
temporarilyRemoveTags: 力场护盾2Ai
#showMessageToAllPlayers: 触发2


[action_空投]
text: Airdrop countdown
text_zh: 空投倒计时
price: 空投计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
#isLocked: true
isVisible: if not self.resource(type='空投计时', empty=true) and self.globalTeamTags(includes='美国')
autoTrigger: if not self.resource(type='空投计时', empty=true)
addResources: 空投计时=-1
#showMessageToAllPlayers: 触发3


[action_空投2]
text: Airdrop team
text_zh: 空投小队
description: Call an airdrop plane to the designated location and drop 5 G.I. and 5 Guardian G.I.\nUnlock required: Airdrop
description_zh: 派遣一架空投飞机到指定位置空投5个防卫大兵和飞弹防御兵\n需要: 盟军机场
buildSpeed: 0s
displayType: queueUnit
isGuiBlinking: true
fireTurretXAtGround: 空投
addResources: 空投计时=180
isVisible: if self.resource(type='空投计时', empty=true) and (self.hasUnitInTeam(withTag='盟军机场') or self.hasUnitInTeam(withTag='沙盒控制')) and self.globalTeamTags(includes='美国')
isLocked: if self.resource(type="电力",lessThan=0) and self.timeAlive(laterThanSeconds=2)
isLockedMessage: Low Power !
isLockedMessage_zh: 没有电力！
addGlobalTeamTags: 有空投飞机


[hiddenAction_空投2-Ai]
requireConditional: if self.noUnitInTeam(withTag='沙盒控制')
addGlobalTeamTags: 有空投飞机


[action_物资箱空投]
text: Airdrop Material box countdown
text_zh: 物资箱空投倒计时
price: 物资箱空投计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
#isLocked: true
isVisible: if not self.resource(type='物资箱空投计时', empty=true) and self.globalTeamTags(includes='英国')
autoTrigger: if not self.resource(type='物资箱空投计时', empty=true)
addResources: 物资箱空投计时=-1
#showMessageToAllPlayers: 触发3


[action_物资箱空投2]
text: Airdrop Material box
text_zh: 物资箱空投
description: Call an airdrop plane to the designated location and drop 5 Material box.\nUnlock required: Airdrop
description_zh: 派遣一架空投飞机到指定位置空投6箱物资箱。\n需要: 盟军机场
buildSpeed: 0s
displayType: queueUnit
isGuiBlinking: true
fireTurretXAtGround: 物资箱空投
addResources: 物资箱空投计时=120
isVisible: if self.resource(type='物资箱空投计时', empty=true) and (self.hasUnitInTeam(withTag='盟军机场') or self.hasUnitInTeam(withTag='沙盒控制')) and self.globalTeamTags(includes='英国')
isLocked: if self.resource(type="电力",lessThan=0) and self.timeAlive(laterThanSeconds=2)
isLockedMessage: Low Power !
isLockedMessage_zh: 没有电力！
addGlobalTeamTags: 有空投物资箱飞机


[action_极端天气]
text: Regional Extreme Weather countdown
text_zh: 区域极端天气倒计时
price: 极端天气计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
#isLocked: true
isVisible: if not self.resource(type='极端天气计时', empty=true) and self.globalTeamTags(includes='西太')
autoTrigger: if not self.resource(type='极端天气计时', empty=true)
addResources: 极端天气计时=-1
#showMessageToAllPlayers: 触发3


[action_极端天气2]
text: Regional Extreme Weather
text_zh: 区域性极端天气
description: Launch a Regional Extreme Weather Catalytic Missile at a designated location, causing a wide range of extreme weather disasters.
description_zh: 在指定位置发射一枚区域性极端天气催化飞弹，引发范围性的极端气候灾难。
buildSpeed: 0s
displayType: queueUnit
isGuiBlinking: true
fireTurretXAtGround: 极端天气
addResources: 极端天气计时=300
isVisible: if self.resource(type='极端天气计时', empty=true) and (self.hasUnitInTeam(withTag='科技中心') or self.hasUnitInTeam(withTag='沙盒控制')) and self.globalTeamTags(includes='西太')
isLocked: if self.resource(type="电力",lessThan=0) and self.timeAlive(laterThanSeconds=2)
isLockedMessage: Low Power !
isLockedMessage_zh: 没有电力！


[hiddenAction_初时-配]
autoTriggerOnEvent: created
addResources: setFlag=27-31, setFlag=24-25


[hiddenAction_初时-临时救援]
autoTrigger: if self.hasUnitInTeam(withTag='盟军维修站') and self.hasFlag(id=31)
addResources: 临时救援计时=90, unsetFlag=31


[hiddenAction_初时-卫星扫描]
autoTrigger: if self.hasUnitInTeam(withTag='卫星终端') and self.hasFlag(id=30)
addResources: 卫星扫描计时=60, unsetFlag=30


[hiddenAction_初时-力场护盾]
autoTrigger: if self.resource(type="电力",greaterThan=100) and self.hasFlag(id=29)
addResources: 力场护盾计时=120, unsetFlag=29


[hiddenAction_初时-空投]
autoTrigger: if self.hasUnitInTeam(withTag='盟军机场') and self.hasFlag(id=28)
addResources: 空投计时=180, unsetFlag=28, 物资箱空投计时=240


[hiddenAction_初时-机器人控制中心]
autoTrigger: if self.hasUnitInTeam(withTag='控制中心') and self.hasFlag(id=27)
addResources: 前哨节点计时=240, unsetFlag=27, 加速计时=180


[hiddenAction_初时-极端天气]
autoTrigger: if self.hasUnitInTeam(withTag='科技中心') and self.hasFlag(id=25)
addResources:  极端天气计时=300, unsetFlag=25


#[hiddenAction_初时-投资]
#autoTrigger: if self.hasFlag(id=24)
#addResources:  投资计时=90, unsetFlag=24


[hiddenAction_移位消除]
autoTrigger: if numberOfUnitsInTeam(withTag='国旗-美国', greaterThan=1, incompleteBuildings=true) and self.noUnitInTeam(withTag='沙盒控制')
deleteSelf: true
#showMessageToAllPlayers: 触发


[hiddenAction_沙盒重置计时]
autoTrigger: if self.resource(type='临时救援计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 临时救援计时
resourceAmount_setValue: 0
#showMessageToPlayer: 触发


[hiddenAction_沙盒重置计时2]
autoTrigger: if self.resource(type='卫星扫描计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 卫星扫描计时
resourceAmount_setValue: 0
#showMessageToPlayer: 触发2


[hiddenAction_沙盒重置计时3]
autoTrigger: if self.resource(type='力场护盾计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 力场护盾计时
resourceAmount_setValue: 0
#showMessageToPlayer: 触发3


[hiddenAction_沙盒重置计时4]
autoTrigger: if self.resource(type='空投计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 空投计时
resourceAmount_setValue: 0
#showMessageToPlayer: 触发4


[hiddenAction_沙盒重置计时5]
autoTrigger: if self.resource(type='物资箱空投计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 物资箱空投计时
resourceAmount_setValue: 0
#showMessageToPlayer: 触发4


[hiddenAction_沙盒重置计时6]
autoTrigger: if self.resource(type='前哨节点计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 前哨节点计时
resourceAmount_setValue: 0
#showMessageToPlayer: 触发4


[hiddenAction_沙盒重置计时7]
autoTrigger: if self.resource(type='加速计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 加速计时
resourceAmount_setValue: 0
#showMessageToPlayer: 触发4


[hiddenAction_沙盒重置计时8]
autoTrigger: if self.resource(type='极端天气计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 极端天气计时
resourceAmount_setValue: 0
#showMessageToPlayer: 触发4


[resource_临时救援计时]
displayName: Timing-a1
displayName_zh: 计时-a1


[resource_卫星扫描计时]
displayName: Timing-a2
displayName_zh: 计时-a2


[resource_力场护盾计时]
displayName: Timing-a3
displayName_zh: 计时-a3


[resource_空投计时]
displayName: Timing-a4
displayName_zh: 计时-a4


[resource_物资箱空投计时]
displayName: Timing-a5
displayName_zh: 计时-a5


[resource_前哨节点计时]
displayName: Timing-a6
displayName_zh: 计时-a6


[resource_加速计时]
displayName: Timing-a7
displayName_zh: 计时-a7


[resource_极端天气计时]
displayName: Timing-a8
displayName_zh: 计时-a8



================================================================================
// FILE_PATH: ./开局设定/开局模式-所有阵营基地车.ini
================================================================================

[core]
name: 开局模式-所有阵营基地车
copyFrom: 开局模式-高能矿转.ini

displayText: Initial mode: All camp base
displayText_zh: 开局模式-所有阵营基地车
displayDescription: After the start, directly own a base vehicle of all camps
displayDescription_zh: 开局后直接拥有所有阵营的一个基地车


[hiddenAction_1]
addGlobalTeamTags: 苏联, 盟军, 苏俄, 美国, 尤里, 心灵部队, 美革, 伊朗, 北非, 英国, 法国, 德国, 西太, 盟军副官
convertTo: NONE
spawnUnits: 国旗-美国(offsetX=-30), 国旗-苏联(offsetX=30), 国旗-尤里(offsetY=30)
produceUnits: 苏联基地车, 盟军基地车, 尤里基地车
addResourcesScaledByAIHandicaps: Ai智商=100
alsoTriggerAction: 初始资金, 初始资金2, 初始资金3
deleteSelf: true


[hiddenAction_初始资金]
requireConditional: if (self.hasResources(credits=1000) or self.hasResources(credits=2000) or self.hasResources(credits=4000) or self.hasResources(credits=5000)) and not self.hasResources(credits=10000) and not self.hasResources(credits=50000) and not self.hasResources(credits=100000) and not self.hasResources(credits=200000)
addResourcesScaledByAIHandicaps: 资金=5100
#showMessageToAllPlayers: 触发1


[hiddenAction_初始资金2]
requireConditional: if (self.hasResources(credits=10000) or self.hasResources(credits=50000)) and not self.hasResources(credits=100000) and not self.hasResources(credits=200000)
addResourcesScaledByAIHandicaps: 资金=51000
#showMessageToAllPlayers: 触发2
alsoTriggerAction: 人机资金


[hiddenAction_初始资金3]
requireConditional: if self.hasResources(credits=100000) or self.hasResources(credits=200000)
addResourcesScaledByAIHandicaps: 资金=510000
#showMessageToAllPlayers: 触发3
alsoTriggerAction: 人机资金


[hiddenAction_人机资金]
requireConditional: if self.isControlledByAI() and self.playerName!='AI - Very Hard' and self.playerName!='AI - Impossible'
setResourcesWithLogic: 资金=0
#showMessageToAllPlayers: 触发
alsoTriggerAction: 人机资金2


[hiddenAction_人机资金2]
addResourcesScaledByAIHandicaps: 资金=5100

================================================================================
// FILE_PATH: ./开局设定/技能点-苏联.ini
================================================================================


[core]
name: 国旗-苏联
copyFrom: 国旗-中国.ini
displayText: Support point -  Soviet Union 
displayText_zh: 技能点 - 苏联
displayDescription: It can be moved in the base construction circle,\nbut cannot moved when the skill cooldown is generated.
displayDescription_zh: 在基地建造圈内可移动位置\n但产生技能冷却时无法移动
canRepairUnitsOnlyWithTags: 救援
tags: 国旗-苏联
footprint: 0,0,0,0
displayFootprint: 0,0,0,0
constructionFootprint: 0,0,0,0
showOnMinimapToEnemies: false


[graphics]
isVisibleToEnemies: false
image:        ROOT:\共享文件\1类\隐藏.png

rotate_with_direction: false


[arm_1]
x: 0
y: 0

#hidden: 
spinRate: 2
image_end: ROOT:\共享文件\1类\技能点圈.png
image_end_teamColors: true
drawOverBody: false
#drawUnderAllUnits: false
#endDirOffset: 135


[arm_2]
x: 0
y: 0

spinRate: 0
image_end: 技能点-苏联.png
image_end_teamColors: true
drawOverBody: false


[canBuild_1]
name: 救援
isLocked: if not self.hasUnitInTeam(withTag='苏联维修站') and self.noUnitInTeam(withTag='沙盒控制')
isLockedMessage: Require Soviet Service Depot
isLockedMessage_zh: 需要: 苏联维修站
isLockedAlt: if self.resource(type="电力",lessThan=0)
isLockedAltMessage: Low Power !
isLockedAltMessage_zh: 没有电力！
isVisible: if self.resource(type='紧急修复计时', empty=true)
addResources: 紧急修复计时=180
isGuiBlinking: if self.resource(type='紧急修复计时', empty=true)


[canBuild_2]
name: 游击改组
isLockedAlt: if self.resource(type="电力",lessThan=0)
isLockedAltMessage: Low Power !
isLockedAltMessage_zh: 没有电力！
isVisible: if self.resource(type='游击改组计时', empty=true) and (self.hasUnitInTeam(withTag='雷达') or self.hasUnitInTeam(withTag='沙盒控制')) and self.globalTeamTags(includes='美革')
addResources: 游击改组计时=240
isGuiBlinking: if self.resource(type='游击改组计时', empty=true)


[turret_侦察点]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 侦察点


[turret_空投]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 空投


[turret_空投-Ai]
x: 0
y: 0

canAttackCondition: if self.resource(type='空投计时', empty=true) and self.isControlledByAI() and not self.hasFlag(id=30) and self.globalTeamTags(includes='苏俄')
canOnlyAttackUnitsWithTags: 基地
limitingRange: 9999
resourceUsage: 空投计时=-180
onShoot_triggerActions: 空投2-Ai
projectile: 空投-Ai


[turret_空投-Ai2]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and self.resource(type='空投计时', empty=true) and self.isControlledByAI() and not self.hasFlag(id=30) and self.globalTeamTags(includes='苏俄')
canOnlyAttackUnitsWithTags: 车厂, 机场, 兵营
limitingRange: 9999
resourceUsage: 空投计时=-180
onShoot_triggerActions: 空投2-Ai
projectile: 空投


[turret_空投-Ai3]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='车厂', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='兵营', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='机场', greaterThan=0) and self.resource(type='空投计时', empty=true) and self.isControlledByAI() and not self.hasFlag(id=30) and self.globalTeamTags(includes='苏俄')
#canOnlyAttackUnitsWithTags: 
canOnlyAttackUnitsWithoutTags: 基地, 车厂, 机场, 兵营
limitingRange: 9999
resourceUsage: 空投计时=-180
onShoot_triggerActions: 空投2-Ai
projectile: 空投


[turret_致命空袭]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 空投


[turret_致命空袭-Ai]
x: 0
y: 0

canAttackCondition: if self.resource(type='致命空袭计时', empty=true) and self.isControlledByAI() and not self.hasFlag(id=27) and self.hasUnitInTeam(withTag='雷达') and self.resource(type="电力",greaterThan=0) and self.globalTeamTags(includes='北非')
canOnlyAttackUnitsWithTags: 生物, 装甲, 生物2
limitingRange: 9999
resourceUsage: 致命空袭计时=-300
onShoot_triggerActions: 致命空袭2-Ai
projectile: 空投


[projectile_侦察点]
directDamage: 0
life: 60

instant: true
targetGround: true
explodeEffect: NONE
spawnUnit: 侦察点


[projectile_空投]
directDamage: 0
life: 60

instant: true
targetGround: true
explodeEffect: NONE
spawnUnit: 空投点


[projectile_空投-Ai]
directDamage: 0
life: 60

@copyFromSection: projectile_空投
targetGroundSpread: 300


[action_介绍]
text: Soviet Union introduction
text_zh: 苏维埃联盟简介
description: The Soviet Union is a military alliance composed of most of the world's socialist countries headed by Romanov Soviet Russia. \n Good at technology: Nuclear Technology, Iron Curtain Technology, Magnetic Energy Technology, Electromagnetic Pulse Technology.
description_zh: 苏维埃联盟是以罗曼诺夫苏俄为首的世界大部分社会主义国家组成的军事联盟。\n擅长技术：核子技术，铁幕技术，磁能技术，电磁脉冲技术
pos: 0
displayType: rally
isActive: false
showMessageToAllPlayers:


[action_紧急修复]
text: Temporary Rescue countdown
text_zh: 紧急修复倒计时
price: 紧急修复计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
isVisible: if not self.resource(type='紧急修复计时', empty=true)
autoTrigger: if not self.resource(type='紧急修复计时', empty=true)
addResources: 紧急修复计时=-1
#showMessageToAllPlayers: 触发2


[hiddenAction_紧急修复-Ai]
autoTrigger: if self.isControlledByAI() and not self.hasFlag(id=31) and self.resource(type='紧急修复计时', empty=true) and not self.tags(includes='临时救援Ai')
temporarilyAddTags: 临时救援Ai
spawnUnits: 救援引子-Ai
#showMessageToAllPlayers: 触发


[hiddenAction_紧急修复-Ai2]
autoTrigger: if self.tags(includes='临时救援Ai') and self.noUnitInTeam(withTag='救援引子')
addResources: 紧急修复计时=180
temporarilyRemoveTags: 临时救援Ai
#showMessageToAllPlayers: 触发2


[action_游击改组]
text: Guerrilla Reorganization countdown
text_zh: 游击改组倒计时
price: 游击改组计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
isVisible: if not self.resource(type='游击改组计时', empty=true) and self.globalTeamTags(includes='美革')
autoTrigger: if not self.resource(type='游击改组计时', empty=true)
addResources: 游击改组计时=-1
#showMessageToAllPlayers: 触发2


[action_侦察机]
text: Reconnaissance aircraft countdown
text_zh: 侦察机倒计时
price: 侦察机计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
#isLocked: true
isVisible: if not self.resource(type='侦察机计时', empty=true)
autoTrigger: if not self.resource(type='侦察机计时', empty=true)
addResources: 侦察机计时=-1
#showMessageToAllPlayers: 触发3


[action_侦察机2]
text: Reconnaissance
text_zh: 侦察
buildSpeed: 0s
displayType: queueUnit
isGuiBlinking: true
fireTurretXAtGround: 侦察点
addResources: 侦察机计时=120
isVisible: if self.resource(type='侦察机计时', empty=true) and self.hasUnitInTeam(withTag='苏联机场')
isLocked: if self.resource(type="电力",lessThan=0)
isLockedMessage: Low Power !
isLockedMessage_zh: 没有电力！
removeGlobalTeamTags: 无侦察机


[action_工业爆发]
text: Production Improvement
text_zh: 工业爆发
price: 工业爆发计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
#iconImage: 贷款.png
isVisible: if not self.resource(type='工业爆发计时', empty=true)
autoTrigger: if not self.resource(type='工业爆发计时', empty=true)
addResources: 工业爆发计时=-1


[action_工业爆发计时2]
text: Production Improvement
text_zh: 工业爆发
description: Increase the construction speed of war factory and dock and ignore the impact of power failure.\n For 120 seconds
description_zh: 将战争工厂和船坞的建造速度提高并且无视停电影响。\n持续120秒
buildSpeed: 0s
displayType: queueUnit
isGuiBlinking: true
#iconImage: 贷款.png
addResources: 工业爆发计时=300, 资金=2000, 工业爆发结束计时=120
addGlobalTeamTags: 工业爆发
playSoundGlobally: ROOT:\音频\语音+音效\bProductionImprovement.wav:1.2
autoTrigger: if self.resource(type='工业爆发计时', empty=true) and self.hasUnitInTeam(withTag='工业工厂') and self.isControlledByAI() and self.timeAlive(laterThanSeconds=2)
isVisible: if self.resource(type='工业爆发计时', empty=true) and self.hasUnitInTeam(withTag='工业工厂') and self.timeAlive(laterThanSeconds=2)
isLocked: if self.resource(type="电力",lessThan=0)
isLockedMessage: Low Power !
isLockedMessage_zh: 没有电力！


[hiddenAction_工业爆发结束计时]
#buildSpeed: 9s
autoTrigger: if not self.resource(type='工业爆发结束计时', empty=true)
addResources: 工业爆发结束计时=-1


[hiddenAction_工业爆发结束计时2]
autoTrigger: if self.resource(type='工业爆发结束计时', empty=true)
removeGlobalTeamTags: 工业爆发


[action_空投]
text: Airborne Tank countdown
text_zh: 空降坦克倒计时
price: 空投计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
#isLocked: true
isVisible: if not self.resource(type='空投计时', empty=true) and self.globalTeamTags(includes='苏俄')
autoTrigger: if not self.resource(type='空投计时', empty=true)
addResources: 空投计时=-1
#showMessageToAllPlayers: 触发3


[action_空投2]
text: Airborne Tank
text_zh: 空降坦克
buildSpeed: 0s
displayType: queueUnit
isGuiBlinking: true
fireTurretXAtGround: 空投
addResources: 空投计时=180
isVisible: if self.resource(type='空投计时', empty=true) and (self.hasUnitInTeam(withTag='苏联机场') or self.hasUnitInTeam(withTag='沙盒控制')) and self.globalTeamTags(includes='苏俄') and self.timeAlive(laterThanSeconds=2)
isLocked: if self.resource(type="电力",lessThan=0)
isLockedMessage: Low Power !
isLockedMessage_zh: 没有电力！
addGlobalTeamTags: 有空降坦克


[hiddenAction_空投2-Ai]
requireConditional: if self.noUnitInTeam(withTag='沙盒控制')
addGlobalTeamTags: 有空降坦克


[action_能源过载]
text: Energy Overload
text_zh: 能源过载
price: 能源过载计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
#iconImage: 贷款.png
isVisible: if not self.resource(type='能源过载计时', empty=true) and self.globalTeamTags(includes='伊朗')
autoTrigger: if not self.resource(type='能源过载计时', empty=true)
addResources: 能源过载计时=-1


[action_能源过载2]
text: Energy Overload
text_zh: 能源过载
description: After opening, the nuclear reactor will provide funds, but it will also damage the nuclear reactor itself.
description_zh: 开启后，核子反应炉将提供资金，但是也会损坏核子反应炉自身。
buildSpeed: 0s
displayType: queueUnit
isGuiBlinking: true
#iconImage: 贷款.png
addResources: 能源过载结束计时=10
addGlobalTeamTags: 能源过载开启
playSoundGlobally: ROOT:\音频\语音+音效\gpowon.wav:2
autoTrigger: if self.resource(type='能源过载计时', empty=true) and self.hasUnitInTeam(withTag='核子反应炉') and self.isControlledByAI() and not self.resource(type="资金", greaterThan=5000) and self.globalTeamTags(includes='伊朗') and not self.globalTeamTags(includes='能源过载开启')
isVisible: if self.resource(type='能源过载计时', empty=true) and self.hasUnitInTeam(withTag='核子反应炉') and self.globalTeamTags(includes='伊朗') and not self.globalTeamTags(includes='能源过载开启') and self.timeAlive(laterThanSeconds=2)
isLocked: if self.resource(type="电力",lessThan=0)
isLockedMessage: Low Power !
isLockedMessage_zh: 没有电力！


[action_能源过载3]
text: Stop Overload
text_zh: 停止过载
description: Stop the energy overload and re time.
description_zh: 终止能源过载，重新计时。
buildSpeed: 0s
displayType: queueUnit
isGuiBlinking: true
#iconImage: 贷款.png
addResources: 能源过载计时=300
playSoundGlobally: ROOT:\音频\语音+音效\gpowof.wav:2
autoTrigger: if self.hasUnitInTeam(withTag='核子反应炉', lessThan=1) and not self.isControlledByAI() and self.globalTeamTags(includes='能源过载开启')
isVisible: if self.resource(type='能源过载计时', empty=true) and self.globalTeamTags(includes='能源过载开启')
isLocked: if self.resource(type="电力",lessThan=0)
isLockedMessage: Low Power !
isLockedMessage_zh: 没有电力！
removeGlobalTeamTags: 能源过载开启


[hiddenAction_AI能源过载结束计时]
#buildSpeed: 9s
autoTrigger: if not self.resource(type='能源过载结束计时', empty=true)
addResources: 能源过载结束计时=-1


[hiddenAction_AI能源过载结束计时2]
autoTrigger: if (self.resource(type='能源过载结束计时', empty=true) or self.hasUnitInTeam(withTag='核子反应炉', lessThan=1)) and self.isControlledByAI() and self.globalTeamTags(includes='能源过载开启')
playSoundGlobally: ROOT:\音频\语音+音效\gpowof.wav:2
addResources: 能源过载计时=300
removeGlobalTeamTags: 能源过载开启


[action_致命空袭]
text: Mortal Skies countdown
text_zh: 致命空袭倒计时
price: 致命空袭计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
#isLocked: true
isVisible: if not self.resource(type='致命空袭计时', empty=true) and self.globalTeamTags(includes='北非')
autoTrigger: if not self.resource(type='致命空袭计时', empty=true)
addResources: 致命空袭计时=-1
#showMessageToAllPlayers: 触发3


[action_致命空袭2]
text: Mortal Skies
text_zh: 致命空袭
buildSpeed: 0s
displayType: queueUnit
isGuiBlinking: true
fireTurretXAtGround: 致命空袭
addResources: 致命空袭计时=300
isVisible: if self.resource(type='致命空袭计时', empty=true) and (self.hasUnitInTeam(withTag='雷达') or self.hasUnitInTeam(withTag='沙盒控制')) and self.globalTeamTags(includes='北非') and self.timeAlive(laterThanSeconds=2)
isLocked: if self.resource(type="电力",lessThan=0)
isLockedMessage: Low Power !
isLockedMessage_zh: 没有电力！
addGlobalTeamTags: 有致命空袭


[hiddenAction_致命空袭2-Ai]
requireConditional: if self.noUnitInTeam(withTag='沙盒控制')
addGlobalTeamTags: 有致命空袭


[hiddenAction_初时-配]
autoTriggerOnEvent: created
addResources: setFlag=27-31, setFlag=24-25


[hiddenAction_初时-紧急修复]
autoTrigger: if self.hasUnitInTeam(withTag='苏联维修站') and self.hasFlag(id=31)
addResources: 紧急修复计时=180, unsetFlag=31


[hiddenAction_初时-机场]
autoTrigger: if self.hasUnitInTeam(withTag='苏联机场') and self.hasFlag(id=30)
addResources: 侦察机计时=60, unsetFlag=30, 空投计时=180


[hiddenAction_初时-工业工厂]
autoTrigger: if self.hasUnitInTeam(withTag='工业工厂') and self.hasFlag(id=29)
addResources: 工业爆发计时=300, unsetFlag=29


[hiddenAction_初时-能源过载]
autoTrigger: if self.hasUnitInTeam(withTag='核子反应炉') and self.hasFlag(id=28)
addResources: 能源过载计时=300, unsetFlag=28


[hiddenAction_初时-雷达技能]
autoTrigger: if self.hasUnitInTeam(withTag='雷达') and self.hasFlag(id=27)
addResources: 致命空袭计时=300, unsetFlag=27, 游击改组计时=240


#[hiddenAction_初时-电磁脉冲]
#autoTrigger: if self.resource(type="电力", greaterThan=100) and self.hasUnitInTeam(withTag='宫殿') and self.hasFlag(id=25)
#addResources:  电磁脉冲计时=60, unsetFlag=25


#[hiddenAction_初时-空投]
#autoTrigger: if self.hasUnitInTeam(withTag='苏联机场') and self.hasFlag(id=24)
#addResources: 空投计时=180, unsetFlag=24


[hiddenAction_空降坦克飞机]
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0) and self.globalTeamTags(includes='有空降坦克')
produceUnits: 苏联运输机2
removeGlobalTeamTags: 有空降坦克


[hiddenAction_致命空袭飞机]
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0) and self.globalTeamTags(includes='有致命空袭')
produceUnits: 苏联运输机3
removeGlobalTeamTags: 有致命空袭


[hiddenAction_移位消除]
autoTrigger: if numberOfUnitsInTeam(withTag='国旗-苏联', greaterThan=1, incompleteBuildings=true) and self.noUnitInTeam(withTag='沙盒控制')
deleteSelf: true


[hiddenAction_沙盒重置计时]
autoTrigger: if self.resource(type='紧急修复计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 紧急修复计时
resourceAmount_setValue: 0


[hiddenAction_沙盒重置计时2]
autoTrigger: if self.resource(type='侦察机计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 侦察机计时
resourceAmount_setValue: 0
#showMessageToPlayer: 触发2


[hiddenAction_沙盒重置计时3]
autoTrigger: if self.resource(type='工业爆发计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 工业爆发计时
resourceAmount_setValue: 0


[hiddenAction_沙盒重置计时4]
autoTrigger: if self.resource(type='空投计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 空投计时
resourceAmount_setValue: 0
#showMessageToPlayer: 触发4


[hiddenAction_沙盒重置计时5]
autoTrigger: if self.resource(type='能源过载计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 能源过载计时
resourceAmount_setValue: 0


[hiddenAction_沙盒重置计时6]
autoTrigger: if self.resource(type='致命空袭计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 致命空袭计时
resourceAmount_setValue: 0


[hiddenAction_沙盒重置计时7]
autoTrigger: if self.resource(type='游击改组计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 游击改组计时
resourceAmount_setValue: 0


[resource_紧急修复计时]
displayName: Timing-a1
displayName_zh: 计时-a1


[resource_侦察机计时]
displayName: Timing-b2
displayName_zh: 计时-b2


[resource_工业爆发计时]
displayName: Timing-b3
displayName_zh: 工业爆发


[global_resource_工业爆发结束计时]
displayName: Timing-s1
displayName_zh: 工业爆发结束计时
displayColor: #FFCA9B00


[resource_空投计时]
displayName: Timing-b4
displayName_zh: 计时-b4


[resource_能源过载计时]
displayName: Timing-b5
displayName_zh: 能源过载计时


[resource_能源过载结束计时]
displayName: Timing-s2
displayName_zh: 能源过载结束计时


[resource_致命空袭计时]
displayName: Timing-b6
displayName_zh: 计时-b6


[resource_游击改组计时]
displayName: Timing-b7
displayName_zh: 计时-b7



================================================================================
// FILE_PATH: ./开局设定/开局模式-禁止生产基地车.ini
================================================================================

[core]
name: 开局模式-禁止生产基地车
copyFrom: 开局模式-高能矿转.ini

displayText: Initial mode: Ban production base car
displayText_zh: 开局模式-禁止生产基地车
displayDescription: After the start, all factories will not be able to produce base cars
displayDescription_zh: 开局后所有工厂都无法生产基地车


[hiddenAction_1]
addGlobalTeamTags: 禁止生产基地车
spawnUnits: NONE

================================================================================
// FILE_PATH: ./开局设定/开局模式-禁止基地收起.ini
================================================================================

[core]
name: 开局模式-禁止基地收起
copyFrom: 开局模式-高能矿转.ini

displayText: Initial mode: Prohibition of the base
displayText_zh: 开局模式-禁止基地收起
displayDescription: All the bases after the start of the game cannot be unsitiated
displayDescription_zh: 开局后所有展开的基地无法取消部署


[hiddenAction_1]
addGlobalTeamTags: 禁止基地取消部署
spawnUnits: NONE

================================================================================
// FILE_PATH: ./开局设定/初始化.ini
================================================================================


[core]
name: 初始化
price: 5000
maxHp: 100
mass: 5000
radius: 20

overrideAndReplace: builder
showInEditor: false
displayText: Initialization
displayText_zh: 初始化
displayDescription: Replace the original builder
displayDescription_zh: 取代原版生产者


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: NONE


[hiddenAction_1]
autoTriggerOnEvent: created
deleteSelf: true

================================================================================
// FILE_PATH: ./开局设定/选择阵营.ini
================================================================================


[core]
name: 选择阵营
price: 0
maxHp: 10000
mass: 10000
radius: 100

overrideAndReplace: commandCenter
isBuilding: true
footprint: -1,-1,1,1
constructionFootprint: -1,-1,1,1
displayText: Choose camp
displayText_zh: 选择阵营
canOnlyBeAttackedByUnitsWithTags: 无


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png

imageScale:	0.35
rotate_with_direction: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: NONE


[arm_1]
x: 0
y: 0

#hidden: 
spinRate: 2
image_end: 选择圈3.png
image_end_teamColors: true
drawOverBody: false
#drawUnderAllUnits: false
#endDirOffset: 135


[arm_2]
x: 0
y: 0

spinRate: -2
image_end: 选择圈2.png
drawOverBody: false


[arm_3]
x: 0
y: 0

spinRate: 4
image_end: 选择圈.png
drawOverBody: false


[arm_4]
x: 0
y: 0

hidden: if self.hasFlag(id=1) or self.hasFlag(id=2) or self.hasFlag(id=3)
image_end: 选择图-苏.png
drawOverBody: true
drawUnderAllUnits: false


[arm_5]
x: 0
y: 0

hidden: if self.hasFlag(id=1) or self.hasFlag(id=2) or self.hasFlag(id=3)
spinRate: -2
image_end: 选择圈-苏.png
drawOverBody: true
drawUnderAllUnits: false


[arm_6]
x: 0
y: 0

hidden: if self.hasFlag(id=1) or self.hasFlag(id=2) or self.hasFlag(id=3)
spinRate: 2
image_end: 选择圈-苏2.png
drawOverBody: true
drawUnderAllUnits: false


[arm_7]
x: 0
y: 0

hidden: if self.hasFlag(id=1) or self.hasFlag(id=2) or self.hasFlag(id=3)
image_end: 选择图-苏2.png
drawOverBody: true
drawUnderAllUnits: false


[arm_8]
x: 0
y: 0

hidden: if self.hasFlag(id=0) or self.hasFlag(id=2) or self.hasFlag(id=3)
image_end: 选择图-盟.png
drawOverBody: true
drawUnderAllUnits: false


[arm_9]
x: 0
y: 0

hidden: if self.hasFlag(id=0) or self.hasFlag(id=2) or self.hasFlag(id=3)
spinRate: -2
image_end: 选择圈-盟.png
drawOverBody: true
drawUnderAllUnits: false


[arm_10]
x: 0
y: 0

hidden: if self.hasFlag(id=0) or self.hasFlag(id=2) or self.hasFlag(id=3)
spinRate: 2
image_end: 选择圈-盟2.png
drawOverBody: true
drawUnderAllUnits: false


[arm_11]
x: 0
y: 0

hidden: if self.hasFlag(id=0) or self.hasFlag(id=2) or self.hasFlag(id=3)
image_end: 选择图-盟2.png
drawOverBody: true
drawUnderAllUnits: false


[arm_12]
x: 0
y: 0

hidden: if self.hasFlag(id=0) or self.hasFlag(id=1) or self.hasFlag(id=3)
image_end: 选择图-尤.png
drawOverBody: true
drawUnderAllUnits: false


[arm_13]
x: 0
y: 0

hidden: if self.hasFlag(id=0) or self.hasFlag(id=1) or self.hasFlag(id=3)
spinRate: -2
image_end: 选择圈-尤.png
drawOverBody: true
drawUnderAllUnits: false


[arm_14]
x: 0
y: 0

hidden: if self.hasFlag(id=0) or self.hasFlag(id=1) or self.hasFlag(id=3)
spinRate: 2
image_end: 选择圈-尤2.png
drawOverBody: true
drawUnderAllUnits: false


[arm_15]
x: 0
y: 0

hidden: if self.hasFlag(id=0) or self.hasFlag(id=1) or self.hasFlag(id=3)
image_end: 选择图-尤2.png
drawOverBody: true
drawUnderAllUnits: false


[action_1]
text: United States
text_zh: 美利坚合众国
description: The troops of the United States of America can be rapidly deployed around the world. \n Special arms: Comanche, Peacekeeper. \n Special skills of the camp: Parachute troops  \n Camp features: G.I, Harriers, Humvees and Aegis cruisers are all veterans.
description_zh: 美利坚合众国的部队能够快速部署到全世界。\n特殊兵种：科曼奇直升机，压制步兵。\n阵营特殊技能：伞降部队。\n阵营特色：美国大兵，鹞式战机，悍马车，神盾巡洋舰皆为老兵级别。
displayType: upgrade
buildSpeed: 4s
isVisible: if self.timeAlive(laterThanSeconds=2)
isActive: if not self.globalTeamTags(includes='禁止选择盟军')
convertTo: 盟军基地车
addResources: unsetFlag=0, unsetFlag=1, unsetFlag=3
spawnUnits: 国旗-美国(offsetX=100, offsetY=40, gridAlign=true, skipIfOverlapping=true), 盟军基地防御(offsetY=100, gridAlign=true, skipIfOverlapping=true)
iconImage: 图标-美国.png
addGlobalTeamTags: 盟军, 美国
whenBuilding_triggerAction: 盟效果, 盟军初始副官
whenBuilding_playAnimation: 3
setBodyRotation: 135
spawnEffects: CUSTOM:选择圈, CUSTOM:选择圈2, CUSTOM:选择圈3
alsoTriggerAction: 初始资金, 初始资金2, 初始资金3, 初始资金4, 初始资金5, 初始资金6, 初始资金7, 初始资金8
addResourcesScaledByAIHandicaps: Ai智商=100
canPlayerCancel: false


[action_1-2]
text: United Kingdom
text_zh: 联合王国
description: The United Kingdom's special forces are among the best in the world. \n Special arms: Grenadiers, snipers. \n Special skills of the camp: Airdrop of Material Boxes  \n Camp features: Navy SEAL, Rocketeer, Destroyers, and Battle Fortresses are all veterans.
description_zh: 联合王国的特种部队是世界上一流的。\n特殊兵种：掷弹兵，狙击手。\n阵营特殊技能：物资箱空投。\n阵营特色：海豹部队，火箭飞行兵，驱逐舰，战斗要塞皆为老兵级别。
displayType: upgrade
buildSpeed: 4s
isVisible: if self.timeAlive(laterThanSeconds=2)
isActive: if not self.globalTeamTags(includes='禁止选择盟军')
convertTo: 英国基地车
addResources: unsetFlag=0, unsetFlag=1, unsetFlag=3
spawnUnits: 国旗-美国(offsetX=100, offsetY=40, gridAlign=true, skipIfOverlapping=true), 盟军基地防御(offsetY=100, gridAlign=true, skipIfOverlapping=true)
iconImage: 图标-英国.png
addGlobalTeamTags: 盟军, 英国
whenBuilding_triggerAction: 盟效果, 盟军初始副官
whenBuilding_playAnimation: 3
setBodyRotation: 135
spawnEffects: CUSTOM:选择圈, CUSTOM:选择圈2, CUSTOM:选择圈3
alsoTriggerAction: 初始资金, 初始资金2, 初始资金3, 初始资金4, 初始资金5, 初始资金6, 初始资金7, 初始资金8
addResourcesScaledByAIHandicaps: Ai智商=100
canPlayerCancel: false


[action_1-3]
text: French Republic
text_zh: 法国
description: France is good at static defense line operations and mobile defense line operations. \n Special arms: Howitzer, Grand Cannon. \n Special skill of the camp: Outpost Node. \n Camp features: G.G.I are veterans.
description_zh: 法国擅长静态防线作战和机动防线作战。\n特殊兵种：自行火炮，巨炮。\n阵营特殊技能：前哨节点。\n阵营特色：重装大兵为老兵级别。
displayType: upgrade
buildSpeed: 4s
isVisible: if self.timeAlive(laterThanSeconds=2)
isActive: if not self.globalTeamTags(includes='禁止选择盟军')
convertTo: 法国基地车
addResources: unsetFlag=0, unsetFlag=1, unsetFlag=3
spawnUnits: 国旗-美国(offsetX=100, offsetY=40, gridAlign=true, skipIfOverlapping=true), 盟军基地防御(offsetY=100, gridAlign=true, skipIfOverlapping=true)
iconImage: 图标-法国.png
addGlobalTeamTags: 盟军, 法国
whenBuilding_triggerAction: 盟效果, 盟军初始副官
whenBuilding_playAnimation: 3
setBodyRotation: 135
spawnEffects: CUSTOM:选择圈, CUSTOM:选择圈2, CUSTOM:选择圈3
alsoTriggerAction: 初始资金, 初始资金2, 初始资金3, 初始资金4, 初始资金5, 初始资金6, 初始资金7, 初始资金8
addResourcesScaledByAIHandicaps: Ai智商=100
canPlayerCancel: false


[action_1-4]
text: Deutschland
text_zh: 德国
description: Deutschland has excellent armor technology, advanced chrono technology and advanced prism technology. \n Special arms: Tank destroyer, Prism Trooper. \n Special skill of the camp: Blitzkrieg. \n Camp features: Grizzly Tanks are veterans.
description_zh: 德国拥有精良的装甲工艺以及先进的超时空技术和先进的光棱技术。\n特殊兵种：坦克杀手，光棱兵。\n阵营特殊技能：闪电战。\n阵营特色：灰熊坦克为老兵级别。
displayType: upgrade
buildSpeed: 4s
isVisible: if self.timeAlive(laterThanSeconds=2)
isActive: if not self.globalTeamTags(includes='禁止选择盟军')
convertTo: 德国基地车
addResources: unsetFlag=0, unsetFlag=1, unsetFlag=3
spawnUnits: 国旗-美国(offsetX=100, offsetY=40, gridAlign=true, skipIfOverlapping=true), 盟军基地防御(offsetY=100, gridAlign=true, skipIfOverlapping=true)
iconImage: 图标-德国.png
addGlobalTeamTags: 盟军, 德国
whenBuilding_triggerAction: 盟效果, 盟军初始副官
whenBuilding_playAnimation: 3
setBodyRotation: 135
spawnEffects: CUSTOM:选择圈, CUSTOM:选择圈2, CUSTOM:选择圈3
alsoTriggerAction: 初始资金, 初始资金2, 初始资金3, 初始资金4, 初始资金5, 初始资金6, 初始资金7, 初始资金8
addResourcesScaledByAIHandicaps: Ai智商=100
canPlayerCancel: false


[action_1-5]
text: Western Pacific Treaty Organization
text_zh: 西太平洋公约
description: The Western Pacific Treaty Organization has made little progress in electronic industry, refrigeration technology and weather control technology. \n Special arms: Black Eagle, Cryocopter. \n Special skills of the camp: Regional Extreme Weather. \n Camp features: I.F.V and Robot Tank are all veterans.
description_zh: 西太平洋公约在电子工业和冷冻科技以及天气控制技术上小有成就。\n特殊兵种：黑鹰战机，冷冻直升机。\n阵营特殊技能：区域极端天气。\n阵营特色：多功能步兵战车，遥控坦克皆为老兵级别。
displayType: upgrade
buildSpeed: 4s
isVisible: if self.timeAlive(laterThanSeconds=2)
isActive: if not self.globalTeamTags(includes='禁止选择盟军')
convertTo: 西太基地车
addResources: unsetFlag=0, unsetFlag=1, unsetFlag=3
spawnUnits: 国旗-美国(offsetX=100, offsetY=40, gridAlign=true, skipIfOverlapping=true), 盟军基地防御(offsetY=100, gridAlign=true, skipIfOverlapping=true)
iconImage: 图标-西太平洋公约.png
addGlobalTeamTags: 盟军, 西太
whenBuilding_triggerAction: 盟效果, 盟军初始副官
whenBuilding_playAnimation: 3
setBodyRotation: 135
spawnEffects: CUSTOM:选择圈, CUSTOM:选择圈2, CUSTOM:选择圈3
alsoTriggerAction: 初始资金, 初始资金2, 初始资金3, 初始资金4, 初始资金5, 初始资金6, 初始资金7, 初始资金8
addResourcesScaledByAIHandicaps: Ai智商=100
canPlayerCancel: false


[action_2]
text: Russia
text_zh: 俄罗斯
description: Russia has advanced tesla technology and large-scale armor mass production technology. \n Special arms: Tesla tank, Otter APC. \n Battalion special skill: Airborne Tank. \n Camp features: The Dreadnought, Kirov airship and Typhoon submarine are all veterans, Reduce the construction time of all vehicles by 25%, Improve the energy output of the magnetic energy reaction furnace.
description_zh: 俄罗斯拥有先进的磁能技术以及大规模装甲量产技术。\n特殊兵种：磁能坦克，水濑步兵战车。\n阵营特殊技能：空降坦克。\n阵营特色：无畏导弹舰，基洛夫空艇，台风潜艇，猛虎装甲车皆为老兵级别，降低所有载具25%的建造时间，提高磁能反应炉的能源输出。
displayType: upgrade
buildSpeed: 4s
isVisible: if self.timeAlive(laterThanSeconds=2)
isActive: if not self.globalTeamTags(includes='禁止选择苏联')
convertTo: 苏联基地车
addResources: unsetFlag=0, unsetFlag=1, unsetFlag=2
spawnUnits: 国旗-苏联(offsetX=100, offsetY=40, gridAlign=true, skipIfOverlapping=true), 苏联基地防御(offsetY=100, gridAlign=true, skipIfOverlapping=true)
iconImage: 图标-俄罗斯.png
addGlobalTeamTags: 苏联, 苏俄
whenBuilding_triggerAction: 苏效果, 苏联初始副官
whenBuilding_playAnimation: 2
setBodyRotation: 135
spawnEffects: CUSTOM:选择圈, CUSTOM:选择圈2, CUSTOM:选择圈3
alsoTriggerAction: 初始资金, 初始资金2, 初始资金3, 初始资金4, 初始资金5, 初始资金6, 初始资金7, 初始资金8
addResourcesScaledByAIHandicaps: Ai智商=100
canPlayerCancel: false


[action_2-2]
text: Iran
text_zh: 伊朗
description: Iran's nuclear industry is very developed. \n Special arms: Scorpio tank, Desolator. \n Battalion special skill: Energy Overload. \n Camp features: increase the energy output of nuclear reactor, and reduce the construction time and cost of nuclear silo.
description_zh: 伊朗的核子工业非常发达。\n特殊兵种：天蝎坦克，辐射工兵。\n阵营特殊技能：能源过载。\n阵营特色：提高核子反应炉的产出的能源，提高核弹的伤害以及降低核弹发射井的建造时间和造价。
displayType: upgrade
buildSpeed: 4s
isVisible: if self.timeAlive(laterThanSeconds=2)
isActive: if not self.globalTeamTags(includes='禁止选择苏联')
convertTo: 伊朗基地车
addResources: unsetFlag=0, unsetFlag=1, unsetFlag=2
spawnUnits: 国旗-苏联(offsetX=100, offsetY=40, gridAlign=true, skipIfOverlapping=true), 苏联基地防御(offsetY=100, gridAlign=true, skipIfOverlapping=true)
iconImage: 图标-伊朗.png
addGlobalTeamTags: 苏联, 伊朗
whenBuilding_triggerAction: 苏效果, 苏联初始副官
whenBuilding_playAnimation: 2
setBodyRotation: 135
spawnEffects: CUSTOM:选择圈, CUSTOM:选择圈2, CUSTOM:选择圈3
alsoTriggerAction: 初始资金, 初始资金2, 初始资金3, 初始资金4, 初始资金5, 初始资金6, 初始资金7, 初始资金8
addResourcesScaledByAIHandicaps: Ai智商=100
canPlayerCancel: false


[action_2-3]
text: Soviet North Africa
text_zh: 苏维埃北非
description: Soviet North Africa has the best explosive technology and chemical industry in the world. \n Special arms: Demolition Truck, Chemical Troops. \n Special skill of the camp: Mortal Skies. \n Camp features: Demolisher, V3 rocket launchers are veterans.
description_zh: 苏维埃北非拥有世界上最好的炸药工艺和化学工业。\n特殊兵种：自爆卡车，化学部队。\n阵营特殊技能：致命空袭。\n阵营特色：爆破专家，V3火箭发射车皆为老兵级别。
displayType: upgrade
buildSpeed: 4s
isVisible: if self.timeAlive(laterThanSeconds=2)
isActive: if not self.globalTeamTags(includes='禁止选择苏联')
convertTo: 北非基地车
addResources: unsetFlag=0, unsetFlag=1, unsetFlag=2
spawnUnits: 国旗-苏联(offsetX=100, offsetY=40, gridAlign=true, skipIfOverlapping=true), 苏联基地防御(offsetY=100, gridAlign=true, skipIfOverlapping=true)
iconImage: 图标-苏维埃北非.png
addGlobalTeamTags: 苏联, 北非
whenBuilding_triggerAction: 苏效果, 苏联初始副官
whenBuilding_playAnimation: 2
setBodyRotation: 135
spawnEffects: CUSTOM:选择圈, CUSTOM:选择圈2, CUSTOM:选择圈3
alsoTriggerAction: 初始资金, 初始资金2, 初始资金3, 初始资金4, 初始资金5, 初始资金6, 初始资金7, 初始资金8
addResourcesScaledByAIHandicaps: Ai智商=100
canPlayerCancel: false


[action_2-4]
text: Revolutionary Front
text_zh: 革命阵线
description: The infantry theory and tactical theory of the Revolutionary Front are very advanced. \n Special arms: Pyro, Hijackers. \n Special skill of the camp: Guerrilla Reorganization. \n Camp features: Conscript and Flak Trooper are veterans.
description_zh: 革命阵线的步兵学说以及战术理论非常先进。\n特殊兵种：喷火兵，劫持者。\n阵营特殊技能：游击改组。\n阵营特色：动员兵，防空部队皆为老兵级别。
displayType: upgrade
buildSpeed: 4s
isVisible: if self.timeAlive(laterThanSeconds=2)
isActive: if not self.globalTeamTags(includes='禁止选择苏联')
convertTo: 美革基地车
addResources: unsetFlag=0, unsetFlag=1, unsetFlag=2
spawnUnits: 国旗-苏联(offsetX=100, offsetY=40, gridAlign=true, skipIfOverlapping=true), 苏联基地防御(offsetY=100, gridAlign=true, skipIfOverlapping=true)
iconImage: 图标-美洲革命阵线.png
addGlobalTeamTags: 苏联, 美革
whenBuilding_triggerAction: 苏效果, 苏联初始副官
whenBuilding_playAnimation: 2
setBodyRotation: 135
spawnEffects: CUSTOM:选择圈, CUSTOM:选择圈2, CUSTOM:选择圈3
alsoTriggerAction: 初始资金, 初始资金2, 初始资金3, 初始资金4, 初始资金5, 初始资金6, 初始资金7, 初始资金8
addResourcesScaledByAIHandicaps: Ai智商=100
canPlayerCancel: false


[action_3]
text: Yuri Legion
text_zh: 尤里军团
description: The Yuri Legion is a unique presence in all camps.
description_zh: 尤里军团是所有阵营中独一无二的存在。
displayType: upgrade
buildSpeed: 4s
isVisible: if self.timeAlive(laterThanSeconds=2)
isActive: if not self.globalTeamTags(includes='禁止选择尤里')
convertTo: 尤里基地车
addResources: unsetFlag=0, unsetFlag=1, unsetFlag=2
spawnUnits: 国旗-尤里(offsetX=100, offsetY=40, gridAlign=true, skipIfOverlapping=true), 尤里基地防御(offsetY=100, gridAlign=true, skipIfOverlapping=true)
iconImage: 图标-心灵.png
addGlobalTeamTags: 尤里, 心灵部队
whenBuilding_triggerAction: 尤效果, 尤里初始副官
whenBuilding_playAnimation: 4
setBodyRotation: 135
spawnEffects: CUSTOM:选择圈, CUSTOM:选择圈2, CUSTOM:选择圈3
alsoTriggerAction: 初始资金, 初始资金2, 初始资金3, 初始资金4, 初始资金5, 初始资金6, 初始资金7, 初始资金8
addResourcesScaledByAIHandicaps: Ai智商=100
canPlayerCancel: false


[hiddenAction_开始]    
autoTriggerOnEvent: created
autoTrigger: if self.lastConverted(withinSeconds=1)
addResources: setFlag=3
#playAnimation: 1


[hiddenAction_尤效果]
requireConditional: if self.timeAlive(laterThanSeconds=2)
spawnEffects: CUSTOM:尤效果
#showMessageToAllPlayers: 触发
addResources: setFlag=2, unsetFlag=3


[hiddenAction_盟效果]
requireConditional: if self.timeAlive(laterThanSeconds=2)
spawnEffects: CUSTOM:盟效果
#showMessageToAllPlayers: 触发
addResources: setFlag=1, unsetFlag=3


[hiddenAction_苏联初始副官]
requireConditional: if not self.globalTeamTags(includes='盟军') and not self.globalTeamTags(includes='尤里')
addGlobalTeamTags: 苏联副官


[hiddenAction_盟军初始副官]
requireConditional: if not self.globalTeamTags(includes='苏联') and not self.globalTeamTags(includes='尤里')
addGlobalTeamTags: 盟军副官


[hiddenAction_尤里初始副官]
requireConditional: if not self.globalTeamTags(includes='盟军') and not self.globalTeamTags(includes='苏联')
addGlobalTeamTags: 尤里副官


[hiddenAction_苏效果]
requireConditional: if self.timeAlive(laterThanSeconds=2)
spawnEffects: CUSTOM:苏效果
#showMessageToAllPlayers: 触发2
addResources: setFlag=0, unsetFlag=3


[hiddenAction_初始资金]
requireConditional: if self.resource.credits==1000
addResourcesScaledByAIHandicaps: 资金=5000
#showMessageToAllPlayers: 触发1


[hiddenAction_初始资金2]
requireConditional: if self.resource.credits==2000
addResourcesScaledByAIHandicaps: 资金=7500
#showMessageToAllPlayers: 触发2


[hiddenAction_初始资金3]
requireConditional: if self.resource.credits==4000
addResourcesScaledByAIHandicaps: 资金=10000
#showMessageToAllPlayers: 触发3


[hiddenAction_初始资金4]
requireConditional: if self.resource.credits==5000
addResourcesScaledByAIHandicaps: 资金=20000
#showMessageToAllPlayers: 触发4


[hiddenAction_初始资金5]
requireConditional: if self.resource.credits==10000
addResourcesScaledByAIHandicaps: 资金=30000
#showMessageToAllPlayers: 触发5


[hiddenAction_初始资金6]
requireConditional: if self.resource.credits==50000
addResourcesScaledByAIHandicaps: 资金=40000
#showMessageToAllPlayers: 触发6
alsoTriggerAction: 人机资金


[hiddenAction_初始资金7]
requireConditional: if self.resource.credits==100000
addResourcesScaledByAIHandicaps: 资金=50000
#showMessageToAllPlayers: 触发7
alsoTriggerAction: 人机资金


[hiddenAction_初始资金8]
requireConditional: if self.resource.credits==200000
addResourcesScaledByAIHandicaps: 资金=100000000
#showMessageToAllPlayers: 触发8
alsoTriggerAction: 人机资金


[hiddenAction_人机资金]
requireConditional: if self.isControlledByAI() and self.playerName!='AI - Very Hard' and self.playerName!='AI - Impossible'
setResourcesWithLogic: 资金=0
#showMessageToAllPlayers: 触发
alsoTriggerAction: 人机资金2


[hiddenAction_人机资金2]
addResourcesScaledByAIHandicaps: 资金=10000


[animation_1]
blendIn: 0
blendOut: 0
arm4_0s: {x: -200, y: 0, dir: 0}
arm5_0s: {x: -200, y: 0, dir: 0}
arm6_0s: {x: -200, y: 0, dir: 0}
arm7_0s: {x: -200, y: 0, dir: 0}
arm8_0s: {x: 200, y: 0, dir: 0}
arm9_0s: {x: 200, y: 0, dir: 0}
arm10_0s: {x: 200, y: 0, dir: 0}
arm11_0s: {x: 200, y: 0, dir: 0}

arm4_1s: {x: 0, y: 0, dir: 0}
arm5_1s: {x: 0, y: 0, dir: 0}
arm6_1s: {x: 0, y: 0, dir: 0}
arm7_1s: {x: 0, y: 0, dir: 0}
arm8_1s: {x: 0, y: 0, dir: 0}
arm9_1s: {x: 0, y: 0, dir: 0}
arm10_1s: {x: 0, y: 0, dir: 0}
arm11_1s: {x: 0, y: 0, dir: 0}
#height


[animation_2]
blendIn: 0
blendOut: 0
arm4_0s: {x: 0, y: 0, dir: 0}
arm5_0s: {x: 0, y: 0, dir: 0}
arm6_0s: {x: 0, y: 0, dir: 0}
arm7_0s: {x: 0, y: 0, dir: 0}

arm4_1s: {x: 0, y: 0, dir: 0}
arm5_1s: {x: 0, y: 0, dir: 0}
arm6_1s: {x: 0, y: 0, dir: 0}
arm7_1s: {x: 0, y: 0, dir: 0}

arm4_4s: {x: 0, y: 0, dir: 0}
arm5_4s: {x: 0, y: 0, dir: -360}
arm6_4s: {x: 0, y: 0, dir: 360}
arm7_4s: {x: 0, y: 0, dir: 0}

#body_0s: {frame: 0, scale: 1}
#body_1s: {frame: 0, scale: 1}
#body_4s: {frame: 0, scale: 2}


[animation_3]
blendIn: 0
blendOut: 0
arm8_0s: {x: 0, y: 0, dir: 0}
arm9_0s: {x: 0, y: 0, dir: 0}
arm10_0s: {x: 0, y: 0, dir: 0}
arm11_0s: {x: 0, y: 0, dir: 0}

arm8_1s: {x: 0, y: 0, dir: 0}
arm9_1s: {x: 0, y: 0, dir: 0}
arm10_1s: {x: 0, y: 0, dir: 0}
arm11_1s: {x: 0, y: 0, dir: 0}

arm8_4s: {x: 0, y: 0, dir: 0}
arm9_4s: {x: 0, y: 0, dir: -360}
arm10_4s: {x: 0, y: 0, dir: 360}
arm11_4s: {x: 0, y: 0, dir: 0}

#body_0s: {frame: 0, scale: 1}
#body_1s: {frame: 0, scale: 1}
#body_4s: {frame: 0, scale: 2}


[animation_4]
blendIn: 0
blendOut: 0
arm12_0s: {x: 0, y: 0, dir: 0}
arm13_0s: {x: 0, y: 0, dir: 0}
arm14_0s: {x: 0, y: 0, dir: 0}
arm15_0s: {x: 0, y: 0, dir: 0}

arm12_1s: {x: 0, y: 0, dir: 0}
arm13_1s: {x: 0, y: 0, dir: 0}
arm14_1s: {x: 0, y: 0, dir: 0}
arm15_1s: {x: 0, y: 0, dir: 0}

arm12_4s: {x: 0, y: 0, dir: 0}
arm13_4s: {x: 0, y: 0, dir: -360}
arm14_4s: {x: 0, y: 0, dir: 360}
arm15_4s: {x: 0, y: 0, dir: 0}


[effect_盟效果]
image: 选择图-盟2.png
#color: #20FFFFFF
life: 120
fadeInTime: 0
fadeOut: true
scaleFrom: 0.35
scaleTo: 1.5
#alpha: 0.8
xOffsetRelative: 0
drawUnderUnits: false
attachedToUnit: false
alwayStartDirAtZero: true


[effect_苏效果]
@copyFromSection: effect_盟效果
image: 选择图-苏2.png
xOffsetRelative: 0


[effect_尤效果]
@copyFromSection: effect_盟效果
image: 选择图-尤2.png
xOffsetRelative: 0


[effect_选择圈]
@copyFromSection: effect_盟效果
image: 选择圈.png
scaleFrom: 0.7
scaleTo: 1
dirSpeed: 2
xOffsetRelative: 0
alwayStartDirAtZero: false


[effect_选择圈2]
@copyFromSection: effect_选择圈
image: 选择圈2.png
dirSpeed: -2


[effect_选择圈3]
@copyFromSection: effect_选择圈
image: 选择圈4.png
dirSpeed: 2
teamColorRatio: 1


[ai]
useAsBuilder: true


[resource_经验值]
displayName: Experience
displayName_zh: 经验值

================================================================================
// FILE_PATH: ./开局设定/开局中介-高能矿转.ini
================================================================================

[core]
name: 开局中介-高能矿转
price: 0
maxHp: 200
mass: 1000
radius:10

showOnMinimap: false
createNeutral: true
stayNeutral: true
showInEditor: false


[graphics]
image: ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: none


[hiddenAction_1]
autoTriggerOnEvent: created
addGlobalTeamTags: 高能矿转
deleteSelf: true

================================================================================
// FILE_PATH: ./开局设定/开局模式-高能矿转.ini
================================================================================

[core]
name: 开局模式-高能矿转
price: 0
maxHp: 10000
mass: 50000
radius: 10

displayText: Initial mode: Mine3
displayText_zh: 开局模式-高能矿转
displayDescription: At the beginning, all ore is converted to high-energy ore, and you are converted to the choose camp
displayDescription_zh: 开局使所有矿石转转换为高能矿石转，并把自己转换为选择阵营
disableAllUnitCollisions: true
canNotBeDamaged: true
canOnlyBeAttackedByUnitsWithTags: 无
fogOfWarSightRange: 0
isBuilding: true
isPickableStartingUnit: true


[graphics]
image:      ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: NONE


[hiddenAction_1]
autoTriggerOnEvent: created
convertTo: 选择阵营
spawnUnits: 开局中介-高能矿转


[ai]
useAsBuilder: true

================================================================================
// FILE_PATH: ./开局设定/国旗-中国.ini
================================================================================


[core]
name: 国旗-中国
price: 0
maxHp: 100
mass: 5000
radius: 20

#tags: 军旗
displayText: Chinese flag
displayText_zh: 中国国旗
displayDescription: Great!
displayDescription_zh: i的归宿
borrowResourcesWhileAlive: 电力=-20
fogOfWarSightRange: 6
isBuilding: true
#isBuilder: true
footprint: 0,0,0,0
displayFootprint: -1,0,1,0
constructionFootprint: -1,0,1,0
canNotBeDirectlyAttacked:true
buildSpeed: 0
selfBuildRate: 1s
canRepairBuildings: true
nanoRange: 9999
canRepairUnitsOnlyWithTags: 无
#autoRepair: true
#nanoRepairSpeed: 16
#nanoBuildSpeed: 16
#nanoFactorySpeed: 16
#uiTargetRadius: 20
@memory 修正值:float


[graphics]
image:        国旗-中国.png

#drawLayer: ground2
total_frames: 8
image_offsetX: 2
image_offsetY: -15
#scaleImagesTo:80
#image_wreak:  NONE
animation_idle_start: 0
animation_idle_end: 7
animation_idle_speed: 6


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:  if self.isControlledByAI()
canAttackUnderwaterUnits: false

turretMultiTargeting: true


[movement]
movementType: BUILDING


[turret_1]
x: 0
y: 0

canShoot: false


[turret_资金援助]
x: 0
y: 0

showRangeUIGuide: true
limitingRange: 100
canShoot: false


[hiddenAction_资金获取]
autoTrigger: if self.resource(type="电力",greaterThan=0) and not self.tags(includes='禁止攻击') and self.hasUnitInTeam(withTag='高科资金')
addResources: 资金=50
#spawnEffects: CUSTOM:资金


[hiddenAction_Ai额外资金-困难]
autoTrigger: if self.resource(type='Ai智商', greaterThan=100) and self.isControlledByAI() and not self.tags(includes='禁止攻击')
addResources: 资金=200


[hiddenAction_Ai额外资金-很难]
@copyFromSection: hiddenAction_Ai额外资金-困难
autoTrigger: if self.resource(type='Ai智商', greaterThan=139) and self.isControlledByAI() and not self.tags(includes='禁止攻击')


[hiddenAction_Ai额外资金-不可能的]
@copyFromSection: hiddenAction_Ai额外资金-困难
autoTrigger: if self.resource(type='Ai智商', greaterThan=179) and self.isControlledByAI() and not self.tags(includes='禁止攻击')


[action_自动维修]
text: Automatic maintenance
text_zh: 自动维修
description: Turn on the automatic repair of all damaged buildings, which will continue to consume funds during repairs
description_zh: 开启自动维修所有的受损建筑，维修时会持续消耗资金
displayType: action
buildSpeed: 0s
pos: 0
isVisible: if not self.tags(includes='自动维修建筑')
temporarilyAddTags: 自动维修建筑


[action_自动维修2]
text: Cancel automatic maintenance
text_zh: 取消自动维修
description: Cancel automatic maintenance
description_zh: 关闭自动维修
displayType: action
buildSpeed: 0s
pos: 0
isVisible: if self.tags(includes='自动维修建筑')
temporarilyRemoveTags: 自动维修建筑


[action_资金援助]
text: Financial aid
text_zh: 资金援助
description: Give 1000 funds to allies within 100. \nOwn funds-1000.
description_zh: 给100范围内的友军1000资金，自己的资金-1000
isLocked: if not self.numberOfUnitsInAllyNotOwnTeam(greaterThan=0, withinRange=100)
isLockedMessage: No allies within 100 range
isLockedMessage_zh: 100范围内无友军
isLockedAlt: if self.resource.资金<1000
isLockedAltMessage: Current funds are less than 1000
isLockedAltMessage_zh: 当前资金小于1000
pos: 0
buildSpeed: 0s
displayType: action
takeResources: 资金=-1000
takeResources_includeUnitsWithinRange: 100
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources_triggerActionIfAnyCollected: 资金援助2
takeResources_triggerActionIfNoneCollected: 资金援助3


[hiddenAction_资金援助2]
showMessageToPlayer: System hint: Funds-1000
showMessageToPlayer_zh: 系统提示: 资金-1000


[hiddenAction_资金援助3]
showMessageToPlayer: System hint: Aid failure
showMessageToPlayer_zh: 系统提示: 援助失败


[action_设置队伍]
text: Open transfer
text_zh: 开启转让
description: After it is turned on, it will automatically identify allies of the same faction within 100.\n Then all of your own transferable units will have an extra button.\nClick that button to transfer that unit to an allied army.\nNon-transferable, restricted construction and production units, \nsuch as super weapons, super auxiliary, hero units, high-level economic buildings, etc.
description_zh: 开启后，会自动识别100范围内的同阵营友军\n然后自己的所有可转让的单位都会多出按钮\n点击那个按钮就可以把那个单位转让给友军了\n不可转让限制建造和生产的单位，如超级武器，超级辅助，英雄单位，高级经济建筑等。
isLocked: if self.globalTeamTags(includes='盟军')!=nearestUnit(withinRange=100, relation='allyNotOwn').globalTeamTags(includes='盟军') or self.globalTeamTags(includes='苏联')!=nearestUnit(withinRange=100, relation='allyNotOwn').globalTeamTags(includes='苏联')
isLockedMessage: No allies of the same faction within 100 radius
isLockedMessage_zh: 在100范围内无同阵营友军
#isLockedAlt: if self.resource.credits<=1000
#isLockedAltMessage: 
#isLockedAltMessage_zh: 当前资金小于1000
isVisible: if not self.tags(includes='设置队伍')
displayType: action
buildSpeed: 0s
pos: 0
temporarilyAddTags: 设置队伍
#showMessageToAllPlayers: 已操作


[action_设置队伍2]
text: Close transfer
text_zh: 关闭转让
description: Automatically shut down when the identified unit leaves the range.
description_zh: 识别的单位离开范围时会自动关闭
displayType: action
buildSpeed: 0s
pos: 0
isVisible: if self.tags(includes='设置队伍')
autoTrigger: if self.tags(includes='设置队伍') and (not self.numberOfUnitsInAllyNotOwnTeam(greaterThan=0, withinRange=100) or self.globalTeamTags(includes='盟军')!=nearestUnit(withinRange=100, relation='allyNotOwn').globalTeamTags(includes='盟军') or self.globalTeamTags(includes='苏联')!=nearestUnit(withinRange=100, relation='allyNotOwn').globalTeamTags(includes='苏联'))
temporarilyRemoveTags: 设置队伍, 转换队伍0, 转换队伍1, 转换队伍2, 转换队伍3, 转换队伍4, 转换队伍5, 转换队伍6, 转换队伍7, 转换队伍8, 转换队伍9
#showMessageToAllPlayers: 已关闭


[hiddenAction_设置队伍3]
@define number: 0
autoTrigger: if self.tags(includes='设置队伍') and not self.tags(includes='转换队伍${number}') and nearestUnit(withinRange=100, relation='allyNotOwn').self.teamId!=self.teamId and nearestUnit(withinRange=100, relation='allyNotOwn').self.teamId==${number}
temporarilyAddTags: 转换队伍${number}
#showMessageToAllPlayers: 已设置队伍${number}


[hiddenAction_设置队伍4]
@copyFromSection: hiddenAction_设置队伍3
@define number: 1


[hiddenAction_设置队伍5]
@copyFromSection: hiddenAction_设置队伍3
@define number: 2


[hiddenAction_设置队伍6]
@copyFromSection: hiddenAction_设置队伍3
@define number: 3


[hiddenAction_设置队伍7]
@copyFromSection: hiddenAction_设置队伍3
@define number: 4


[hiddenAction_设置队伍8]
@copyFromSection: hiddenAction_设置队伍3
@define number: 5


[hiddenAction_设置队伍9]
@copyFromSection: hiddenAction_设置队伍3
@define number: 6


[hiddenAction_设置队伍10]
@copyFromSection: hiddenAction_设置队伍3
@define number: 7


[hiddenAction_设置队伍11]
@copyFromSection: hiddenAction_设置队伍3
@define number: 8


[hiddenAction_设置队伍12]
@copyFromSection: hiddenAction_设置队伍3
@define number: 9


[hiddenAction_自毁]
autoTrigger: if self.noUnitInTeam() and self.noUnitInTeam(withTag='沙盒控制')
addResources: hp=-100


[hiddenAction_1]
autoTrigger: if not self.hasFlag(id=0) and not self.resource(type='电力', greaterThan=0)
addResources: setFlag=0
playSoundToPlayer: ROOT:\音频\语音+音效\gpowof.wav:2
alsoTriggerAction: 缺电副官音效, 缺电副官音效2, 缺电副官音效3


[hiddenAction_2]
autoTrigger: if self.hasFlag(id=0) and self.resource(type='电力', greaterThan=0)
addResources: unsetFlag=0
playSoundToPlayer: ROOT:\音频\语音+音效\gpowon.wav:2


[hiddenAction_Ai智商显示-玩家]
autoTriggerOnEvent: created
requireConditional: if not self.isControlledByAI()
setUnitMemory: 修正值=select(globalSearchForFirstUnit(relation='enemy').playerName=='AI - Very Easy', 40, select(globalSearchForFirstUnit(relation='enemy').playerName=='AI - Easy', 70, select(globalSearchForFirstUnit(relation='enemy').playerName=='AI - Hard', 140, select(globalSearchForFirstUnit(relation='enemy').playerName=='AI - Very Hard', 180, select(globalSearchForFirstUnit(relation='enemy').playerName=='AI - Impossible', 370, 100)))))
#showMessageToAllPlayers: 触发名称
alsoTriggerAction: Ai智商显示-玩家2


[hiddenAction_Ai智商显示-玩家2]
setResourcesWithLogic: Ai智商=memory.修正值


[hiddenAction_重置原阵营计时]
autoTrigger: if self.resource(type='超时空计时', greaterThan=0) and self.noUnitInTeam(withTag='超时空传送仪', incompleteBuildings=true)
#showMessageToPlayer: 触发
resourceAmount: 超时空计时
resourceAmount_setValue: 0


[hiddenAction_重置原阵营计时2]
autoTrigger: if self.resource(type='天气计时', greaterThan=0) and self.noUnitInTeam(withTag='天气控制器', incompleteBuildings=true)
#showMessageToPlayer: 触发2
resourceAmount: 天气计时
resourceAmount_setValue: 0


[hiddenAction_重置原阵营计时3]
autoTrigger: if self.resource(type='铁幕计时', greaterThan=0) and self.noUnitInTeam(withTag='铁幕装置', incompleteBuildings=true)
#showMessageToPlayer: 触发3
resourceAmount: 铁幕计时
resourceAmount_setValue: 0


[hiddenAction_重置原阵营计时4]
autoTrigger: if self.resource(type='核弹计时', greaterThan=0) and self.noUnitInTeam(withTag='核弹井', incompleteBuildings=true)
#showMessageToPlayer: 触发4
resourceAmount: 核弹计时
resourceAmount_setValue: 0


[hiddenAction_重置原阵营计时5]
autoTrigger: if self.resource(type='世界末日', greaterThan=0) and self.noUnitInTeam(withTag='末日装置')
#showMessageToPlayer: 触发5
resourceAmount: 世界末日
resourceAmount_setValue: 0


[hiddenAction_紧急来电-友军]   
autoTrigger: if self.numberOfUnitsInAllyNotOwnTeam(withTag='紧急来电', greaterThan=0) and not self.hasFlag(id=26)
addResources: 电力=1000000, setFlag=26


[hiddenAction_紧急来电-友军2]   
autoTrigger: if not self.numberOfUnitsInAllyNotOwnTeam(withTag='紧急来电', greaterThan=0) and self.hasFlag(id=26)
addResources: 电力=-1000000, unsetFlag=26


[hiddenAction_入侵停电]
autoTrigger: if not self.resource(type='停电计时', empty=true)
addResources: 停电计时=-1


[hiddenAction_入侵停电2]
autoTrigger: if self.globalTeamTags(includes='入侵停电') and self.resource(type='停电计时', empty=true)
addResources: 电力=1000000
removeGlobalTeamTags: 入侵停电
showMessageToPlayer: System tip: Electricity has recovered
showMessageToPlayer_zh: 系统提示：电力已恢复


[hiddenAction_ai资金]
autoTrigger: if self.isControlledByAI() and (self.hasUnitInTeam(withTag='矿厂') or self.hasUnitInTeam(withTag='加资金')) and not self.resource(type='资金', greaterThan=20000) and self.resource(type='Ai智商', equalTo=70)
addResources: 资金=15
#0很容易
#50容易
#100中等
#150难
#200很难
#250不可能
#showMessageToAllPlayers: 1


[hiddenAction_ai资金2]
autoTrigger: if self.isControlledByAI() and (self.hasUnitInTeam(withTag='矿厂') or self.hasUnitInTeam(withTag='加资金')) and not self.resource(type='资金', greaterThan=20000) and self.resource(type='Ai智商', equalTo=100)
addResources: 资金=30
#showMessageToAllPlayers: 2


[hiddenAction_ai资金3]
autoTrigger: if self.isControlledByAI() and (self.hasUnitInTeam(withTag='矿厂') or self.hasUnitInTeam(withTag='加资金')) and not self.resource(type='资金', greaterThan=20000) and self.resource(type='Ai智商', equalTo=140)
addResources: 资金=50
#showMessageToAllPlayers: 3


[hiddenAction_ai资金4]
autoTrigger: if self.isControlledByAI() and (self.hasUnitInTeam(withTag='矿厂') or self.hasUnitInTeam(withTag='加资金')) and not self.resource(type='资金', greaterThan=20000) and self.resource(type='Ai智商', equalTo=180)
addResources: 资金=100
#showMessageToAllPlayers: 4


[hiddenAction_ai资金5]
autoTrigger: if self.isControlledByAI() and (self.hasUnitInTeam(withTag='矿厂') or self.hasUnitInTeam(withTag='加资金')) and not self.resource(type='资金', greaterThan=20000) and self.resource(type='Ai智商', greaterThan=180)
addResources: 资金=150
#showMessageToAllPlayers: 5


[hiddenAction_开局模式控制]
autoTrigger: if self.globalTeamTags(includes='无基地')
deleteSelf: true


[hiddenAction_矿车受击]
autoTrigger: if hasUnitInTeam(withTag='矿车受击', greaterThan=0) and self.customTimer(laterThanSeconds=15)
resetCustomTimer: true
alsoTriggerAction: 矿车受击副官音效, 矿车受击副官音效2, 矿车受击副官音效3


[hiddenAction_矿车受击副官音效]
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof037.wav:2


[hiddenAction_矿车受击副官音效2]
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva037.wav:2


[hiddenAction_矿车受击副官音效3]
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur037.wav:2


[hiddenAction_基地受击]
autoTrigger: if hasUnitInTeam(withTag='基地受击', greaterThan=0) and self.customTimer(laterThanSeconds=15)
resetCustomTimer: true
playSoundToPlayer: ROOT:\音频\语音+音效\ubase.wav:2
alsoTriggerAction: 基地受击副官音效, 基地受击副官音效2, 基地受击副官音效3


[hiddenAction_基地受击副官音效]
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof054.wav:2


[hiddenAction_基地受击副官音效2]
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva054.wav:2


[hiddenAction_基地受击副官音效3]
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur054.wav:2


[hiddenAction_缺电副官音效]
requireConditional: if self.globalTeamTags(includes='苏联副官')
playSoundToPlayer: ROOT:\音频\苏联副官\csof053.wav:2


[hiddenAction_缺电副官音效2]
requireConditional: if self.globalTeamTags(includes='盟军副官')
playSoundToPlayer: ROOT:\音频\盟军副官\ceva053.wav:2


[hiddenAction_缺电副官音效3]
requireConditional: if self.globalTeamTags(includes='尤里副官')
playSoundToPlayer: ROOT:\音频\尤里副官\cyur053.wav:2


[global_resource_超时空计时]
displayName: Chronosphere countdown
displayName_zh: 超时空传送倒计时
displayColor: #FFFFFFFF


[global_resource_天气计时]
displayName: Lightning storm countdown
displayName_zh: 闪电风暴倒计时
displayColor: #FF007FFF


[global_resource_铁幕计时]
displayName: Iron Curtain countdown
displayName_zh: 铁幕倒计时
displayColor: #FFFF00FF


[global_resource_核弹计时]
displayName: Nuke Silo countdown
displayName_zh: 核弹发射倒计时
displayColor: #FFFF0000


[global_resource_世界末日]
displayName: Doomsday Device countdown
displayName_zh: 末日毁灭装置
displayColor: #FF007FFF

================================================================================
// FILE_PATH: ./开局设定/技能点-尤里.ini
================================================================================


[core]
name: 国旗-尤里
copyFrom: 国旗-中国.ini
displayText: Support point - Yuri 
displayText_zh: 技能点 - 尤里
displayDescription: It can be moved in the base construction circle,\nbut cannot moved when the skill cooldown is generated.
displayDescription_zh: 在基地建造圈内可移动位置\n但产生技能冷却时无法移动
canRepairUnitsOnlyWithTags: 救援
footprint: 0,0,0,0
displayFootprint: 0,0,0,0
constructionFootprint: 0,0,0,0
showOnMinimapToEnemies: false
tags: 国旗-尤里


[graphics]
isVisibleToEnemies: false
image:        ROOT:\共享文件\1类\隐藏.png

rotate_with_direction: false


[arm_1]
x: 0
y: 0

#hidden: 
spinRate: 2
image_end: ROOT:\共享文件\1类\技能点圈.png
image_end_teamColors: true
drawOverBody: false
#drawUnderAllUnits: false
#endDirOffset: 135


[arm_2]
x: 0
y: 0

spinRate: 0
image_end: 技能点-尤里.png
image_end_teamColors: true
drawOverBody: false


[canBuild_1]
name: 救援
isLocked: if not self.hasUnitInTeam(withTag='粉碎机') and self.noUnitInTeam(withTag='沙盒控制')
isLockedMessage: Require Grinder
isLockedMessage_zh: 需要: 粉碎机
isLockedAlt: if self.resource(type="电力",lessThan=0)
isLockedAltMessage: Low Power !
isLockedAltMessage_zh: 没有电力！
isVisible: if self.resource(type='紧急修复计时', empty=true)
addResources: 紧急修复计时=180
isGuiBlinking: if self.resource(type='紧急修复计时', empty=true)


[turret_心灵探测]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 心灵探测


[turret_狂暴]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 狂暴


[turret_死雨飞弹]
x: 0
y: 0

canShoot: false
limitingRange: 9999
projectile: 死雨飞弹


[turret_死雨飞弹-Ai]
x: 0
y: 0

canAttackCondition: if self.resource(type='死雨飞弹计时', empty=true) and self.isControlledByAI() and not self.hasFlag(id=28)
canOnlyAttackUnitsWithTags: 基地
limitingRange: 9999
resourceUsage: 死雨飞弹计时=-180
projectile: 死雨飞弹-Ai


[turret_死雨飞弹-Ai2]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and self.resource(type='死雨飞弹计时', empty=true) and self.isControlledByAI() and not self.hasFlag(id=28)
canOnlyAttackUnitsWithTags: 车厂, 机场, 兵营
limitingRange: 9999
resourceUsage: 死雨飞弹计时=-180
projectile: 死雨飞弹


[turret_死雨飞弹-Ai3]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='车厂', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='兵营', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='机场', greaterThan=0) and self.resource(type='死雨飞弹计时', empty=true) and self.isControlledByAI() and not self.hasFlag(id=28)
#canOnlyAttackUnitsWithTags: 
canOnlyAttackUnitsWithoutTags: 基地, 车厂, 机场, 兵营
limitingRange: 9999
resourceUsage: 死雨飞弹计时=-180
projectile: 死雨飞弹


[projectile_心灵探测]
directDamage: 0
life: 60

instant: true
targetGround: true
explodeEffect: NONE
spawnUnit: 心灵探测


[projectile_狂暴]
directDamage: 0
life: 60

instant: true
targetGround: true
explodeEffect: NONE
spawnUnit: 狂暴


[projectile_死雨飞弹]
directDamage: 0
life: 60

instant: true
targetGround: true
explodeEffect: NONE
spawnUnit: 死雨飞弹


[projectile_死雨飞弹-Ai]
directDamage: 0
life: 60

@copyFromSection: projectile_死雨飞弹
targetGroundSpread: 200


[action_介绍]
text: Yuri Legion introduction
text_zh: 尤里军团简介
description: Yuri's army is good at integrating all aspects of technology. \n Unique technologies: Mind Control, Spirit Gas weapons, Gene Weapons.
description_zh: 尤里的军队善于融合各方面的技术。\n特有技术：心灵控制，精神气体武器，基因武器
pos: 0
displayType: rally
isActive: false
showMessageToAllPlayers:


[action_紧急修复]
text: Temporary Rescue countdown
text_zh: 紧急修复倒计时
price: 紧急修复计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
isVisible: if not self.resource(type='紧急修复计时', empty=true)
autoTrigger: if not self.resource(type='紧急修复计时', empty=true)
addResources: 紧急修复计时=-1
#showMessageToAllPlayers: 触发2


[hiddenAction_紧急修复-Ai]
autoTrigger: if self.isControlledByAI() and not self.hasFlag(id=31) and self.resource(type='紧急修复计时', empty=true) and not self.tags(includes='临时救援Ai')
temporarilyAddTags: 临时救援Ai
spawnUnits: 救援引子-Ai
#showMessageToAllPlayers: 触发


[hiddenAction_紧急修复-Ai2]
autoTrigger: if self.tags(includes='临时救援Ai') and self.noUnitInTeam(withTag='救援引子')
addResources: 紧急修复计时=180
temporarilyRemoveTags: 临时救援Ai
#showMessageToAllPlayers: 触发2


[action_心灵探测]
text: Psychic Exploration countdown
text_zh: 心灵探测倒计时
price: 心灵探测计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
#isLocked: true
isVisible: if not self.resource(type='心灵探测计时', empty=true)
autoTrigger: if not self.resource(type='心灵探测计时', empty=true)
addResources: 心灵探测计时=-1
#showMessageToAllPlayers: 触发3


[action_心灵探测2]
textAddUnitName: 心灵探测
descriptionAddFromUnit: 心灵探测
buildSpeed: 0s
displayType: queueUnit
isGuiBlinking: true
fireTurretXAtGround: 心灵探测
addResources: 心灵探测计时=120
isActive: if self.hasUnitInTeam(withTag='心灵探测器') or self.hasUnitInTeam(withTag='沙盒控制') and self.timeAlive(laterThanSeconds=2)
isVisible: if self.resource(type='心灵探测计时', empty=true)
isLocked: if self.resource(type="电力",lessThan=0)
isLockedMessage: Low Power !
isLockedMessage_zh: 没有电力！


[action_狂暴]
text: Furious Countdown
text_zh: 狂暴倒计时
price: 狂暴计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
#isLocked: true
isVisible: if not self.resource(type='狂暴计时', empty=true)
autoTrigger: if not self.resource(type='狂暴计时', empty=true)
addResources: 狂暴计时=-1
#showMessageToAllPlayers: 触发3


[action_狂暴2]
textAddUnitName: 狂暴
descriptionAddFromUnit: 狂暴
buildSpeed: 0s
displayType: queueUnit
isGuiBlinking: true
fireTurretXAtGround: 狂暴
addResources: 狂暴计时=180
isActive: if self.hasUnitInTeam(withTag='心灵探测器') or self.hasUnitInTeam(withTag='沙盒控制')
isVisible: if self.resource(type='狂暴计时', empty=true) and self.hasUnitInTeam(withTag='心灵探测器') and self.timeAlive(laterThanSeconds=2)
isLocked: if self.resource(type="电力",lessThan=0)
isLockedMessage: Low Power !
isLockedMessage_zh: 没有电力！


[action_死雨飞弹]
text: Dead Rain Missiles countdown
text_zh: 死雨飞弹倒计时
price: 死雨飞弹计时=1
displayRemainingStockpile: true
displayType: queueUnit
isActive: false
#isLocked: true
isVisible: if not self.resource(type='死雨飞弹计时', empty=true)
autoTrigger: if not self.resource(type='死雨飞弹计时', empty=true)
addResources: 死雨飞弹计时=-1
#showMessageToAllPlayers: 触发3


[action_死雨飞弹2]
textAddUnitName: 死雨飞弹
descriptionAddFromUnit: 死雨飞弹
buildSpeed: 0s
displayType: queueUnit
isGuiBlinking: true
fireTurretXAtGround: 死雨飞弹
addResources: 死雨飞弹计时=180
isVisible: if self.resource(type='死雨飞弹计时', empty=true) and (self.hasUnitInTeam(withTag='尤里作战实验室') or self.hasUnitInTeam(withTag='沙盒控制')) and self.timeAlive(laterThanSeconds=2)
isLocked: if self.resource(type="电力",lessThan=0)
isLockedMessage: Low Power !
isLockedMessage_zh: 没有电力！


[hiddenAction_初时-配]
autoTriggerOnEvent: created
addResources: setFlag=27-31, setFlag=24-25


[hiddenAction_初时-紧急修复]
autoTrigger: if self.hasUnitInTeam(withTag='粉碎机') and self.hasFlag(id=31)
addResources: 紧急修复计时=180, unsetFlag=31


[hiddenAction_初时-心灵探测]
autoTrigger: if self.hasUnitInTeam(withTag='心灵探测器') and self.hasFlag(id=30)
addResources: 心灵探测计时=120, unsetFlag=30


[hiddenAction_初时-狂暴]
autoTrigger: if self.hasUnitInTeam(withTag='心灵探测器') and self.hasFlag(id=29)
addResources: 狂暴计时=180, unsetFlag=29


[hiddenAction_初时-死雨飞弹]
autoTrigger: if self.hasUnitInTeam(withTag='尤里作战实验室') and self.hasFlag(id=28)
addResources: 死雨飞弹计时=180, unsetFlag=28


[hiddenAction_移位消除]
autoTrigger: if numberOfUnitsInTeam(withTag='国旗-尤里', greaterThan=1, incompleteBuildings=true) and self.noUnitInTeam(withTag='沙盒控制')
deleteSelf: true
#showMessageToAllPlayers: 触发


[hiddenAction_沙盒重置计时]
autoTrigger: if self.resource(type='紧急修复计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 紧急修复计时
resourceAmount_setValue: 0
#showMessageToPlayer: 触发


[hiddenAction_沙盒重置计时2]
autoTrigger: if self.resource(type='心灵探测计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 心灵探测计时
resourceAmount_setValue: 0
#showMessageToPlayer: 触发2


[hiddenAction_沙盒重置计时3]
autoTrigger: if self.resource(type='狂暴计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 狂暴计时
resourceAmount_setValue: 0
#showMessageToPlayer: 触发3


[hiddenAction_沙盒重置计时4]
autoTrigger: if self.resource(type='死雨飞弹计时', greaterThan=0) and self.hasUnitInTeam(withTag='沙盒控制')
resourceAmount: 死雨飞弹计时
resourceAmount_setValue: 0
#showMessageToPlayer: 触发4


[resource_紧急修复计时]
displayName: Timing-a1
displayName_zh: 计时-a1


[resource_心灵探测计时]
displayName: Timing-a2
displayName_zh: 计时-a2


[resource_狂暴计时]
displayName: Timing-a3
displayName_zh: 计时-a3


[resource_死雨飞弹计时]
displayName: Timing-a4
displayName_zh: 计时-a4



================================================================================
// FILE_PATH: ./共享文件/2类/空投飞机.ini
================================================================================

[core]
name: 空投飞机
price: 3000
maxHp: 1000
mass: 20000
radius: 25

copyFrom: ROOT:\共享文件\3类\单位价值.xxhq
tags: 原始护甲, 飞机中甲, 空投飞机, 空军
displayText: Airdrop plane: Airborne console
displayText_zh: 空投飞机-空降控制台
displayDescription: You need to select a camp and an airdrop point to drop infantry.\nWait for the airdrop plane to fly to the airdrop point and drop the infantry
displayDescription_zh: 需要选择阵营和有空投点才能空投士兵\n等待空投飞机飞到空投点空投士兵
buildSpeed: 0.01
softCollisionOnAll: 20
canNotBeGivenOrdersByPlayer: true
autoTriggerCooldownTime: 0.2s
unitsSpawnedOnDeath: 空投飞机坠毁
fogOfWarSightRange: 6


[hiddenAction_移动音效]
autoTrigger: if self.isMoving()
playSoundAtUnit: ROOT:\音频\语音+音效\sparlo2a.wav:1.2, ROOT:\音频\语音+音效\sparlo2b.wav:1.2, ROOT:\音频\语音+音效\sparlo2c.wav:1.2


[graphics]
isVisible: if self.timeAlive(laterThanSeconds=2)
image:        空投飞机.png

total_frames: 1
frame_width: 130
frame_height: 130
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 4
#image_wreak:  死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX:0
shadowOffsetY:0
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 3.8
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.008
#0.01
maxTurnSpeed: 2.0
turnAcceleration: 0.5
targetHeight: 200
targetHeightDrift: 0
moveIgnoringBody: false
moveSlidingMode: true
moveSlidingDir: 30
#slowDeathFall: true


[action_1]
text: airdrop
text_zh: 空投
description:  Airdrop 10 G.I.
description_zh: 空投10个美国大兵
#price: credits=3000
displayType: action
buildSpeed: 0s
#isVisible: if self.globalTeamTags(includes='盟军')
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0, withinRange=100) and not self.ammo(empty=true) and not self.globalTeamTags(includes='苏联') and not self.globalTeamTags(includes='尤里')
#fireTurretXAtGround: 1
#fireTurretXAtGround_withProjectile: 1
#fireTurretXAtGround_withOffset: 0,0
spawnUnits: 降落伞(alwayStartDirAtZero=true, offsetRandomX=80, offsetRandomY=80)
addResources: ammo=-1


[action_2]
@copyFromSection: action_1
#isVisible: if self.globalTeamTags(includes='苏联')
description:  Airdrop 10 Soviet Conscript
description_zh:  空投10个动员兵
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0, withinRange=100) and not self.ammo(empty=true) and self.globalTeamTags(includes='苏联')
#fireTurretXAtGround_withProjectile: 2
spawnUnits: 降落伞2(alwayStartDirAtZero=true, offsetRandomX=80, offsetRandomY=80)


[action_尤里新兵]
text: airdrop
text_zh: 空投
description:  Airdrop 10 G.I.
description_zh: 空投10名尤里新兵
#price: credits=3000
displayType: action
buildSpeed: 0s
#isVisible: if self.globalTeamTags(includes='盟军')
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0, withinRange=100) and not self.ammo(empty=true) and self.globalTeamTags(includes='尤里')
#fireTurretXAtGround: 1
#fireTurretXAtGround_withProjectile: 1
#fireTurretXAtGround_withOffset: 0,0
spawnUnits: 降落伞8(alwayStartDirAtZero=true, offsetRandomX=80, offsetRandomY=80)
addResources: ammo=-1


[hiddenAction_3]
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0) and not self.hasActiveWaypoint(type='follow') and not self.ammo(empty=true)
addWaypoint_type: follow
addWaypoint_prepend: true
#addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 空投点


[hiddenAction_4]
autoTrigger: if self.ammo(empty=true) and self.hasActiveWaypoint(type='follow')
clearAllWaypoints: true
addWaypoint_type: follow
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 空降控制台
addWaypoint_triggerActionIfFailed: 5
#alsoQueueAction: 4


[hiddenAction_5]
autoTrigger: if numberOfUnitsInTeam(withTag='空降控制台', greaterThan=0, withinRange=50) and self.ammo(empty=true)
buildSpeed: 5s
deleteSelf: true


[hiddenAction_6]
autoTriggerOnEvent: created
addResources:  ammo=10


[hiddenAction_重置方向]
autoTriggerOnEvent: created
setBodyRotation: 45


[hiddenAction_初始价值]
addResources: 价值=60

================================================================================
// FILE_PATH: ./共享文件/2类/催泪瓦斯.ini
================================================================================

[core]
name: 催泪瓦斯
price: 0
maxHp: 100
mass: 200
radius:10

tags: 催泪瓦斯
displayText: Tear Gas
displayText_zh: 催泪瓦斯
#createOnAggressiveTeam: true
explodeOnDeath: false
canNotBeDirectlyAttacked: true
disableAllUnitCollisions: true
isUnselectable: true
isBuilding: true


[graphics]
image: ROOT:\共享文件\1类\隐藏.png
disableLowHpFire: true
disableLowHpSmoke: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[turret_1]
x: 0
y: 0

projectile: 1


[turret_催泪瓦斯]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 催泪瓦斯


[projectile_1]
areaDamage: 5
life: 6

areaRadius: 80
explodeEffect: NONE
instant: true
friendlyFire: true
mutator1_ifUnitWithTags: 1级
mutator1_areaDamageMultiplier: 0.8
mutator2_ifUnitWithTags: 2级
mutator2_areaDamageMultiplier: 0.6
mutator3_ifUnitWithTags: 3级, 减毒
mutator3_areaDamageMultiplier: 0.4
mutator6_ifUnitWithTags: 特殊免伤, 免毒
mutator6_areaDamageMultiplier: 0
mutator14_ifUnitWithTags: 步兵轻甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵中甲
mutator15_areaDamageMultiplier: 1.00
mutator16_ifUnitWithTags: 步兵重甲
mutator16_areaDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具轻甲
mutator17_areaDamageMultiplier: 0.40
mutator18_ifUnitWithTags: 载具中甲
mutator18_areaDamageMultiplier: 0.40
mutator19_ifUnitWithTags: 载具重甲
mutator19_areaDamageMultiplier: 0.40
mutator20_ifUnitWithTags: 建筑轻甲
mutator20_areaDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑防甲
mutator21_areaDamageMultiplier: 0.20
mutator22_ifUnitWithTags: 建筑重甲
mutator22_areaDamageMultiplier: 0.20


[projectile_催泪瓦斯]
directDamage: 0
life: 60

invisible: true
trailEffect: CUSTOM:催泪瓦斯
trailEffectRate: 14
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog:true


[effect_催泪瓦斯]
life: 120
image: ROOT:\共享文件\1类\瓦斯气体.png
scaleFrom: 0.4
scaleTo: 1.5
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.10
fadeInTime: 12
fadeOut: true
hOffset: 0
hSpeed: 0.4
xSpeedAbsolute: -0.2
dirOffsetRandom:180
#xOffsetRelative: -60
#yOffsetRelative: 30
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 2
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.1
atmospheric:true
attachedToUnit: false
drawUnderUnits:false


[hiddenAction_催泪瓦斯]
autoTrigger: true
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,0


[hiddenAction_催泪瓦斯2]
autoTrigger: true
fireTurretXAtGround: 催泪瓦斯
fireTurretXAtGround_withOffset: 0,100


[hiddenAction_2] 
autoTrigger: if self.timeAlive(laterThanSeconds=20)
deleteSelf: true



================================================================================
// FILE_PATH: ./共享文件/2类/毒气.ini
================================================================================

[core]
name: 毒气
price: 0
maxHp: 100
mass: 200
radius:10

tags: 毒死人
displayText: Toxic Gas
displayText_zh: 毒气
createOnAggressiveTeam: true
explodeOnDeath: false
canNotBeDirectlyAttacked: true
disableAllUnitCollisions: true
isUnselectable: true
isBuilding: true


[graphics]
image: ROOT:\共享文件\1类\隐藏.png
disableLowHpFire: true
disableLowHpSmoke: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[turret_1]
x: 0
y: 0

projectile: 1


[turret_烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 烟


[projectile_1]
areaDamage: 45
life: 6

areaRadius: 60
explodeEffect: NONE
instant: true
friendlyFire: true
mutator0_ifUnitWithTags: 毒回血
mutator0_areaDamageMultiplier: -1.0
mutator1_ifUnitWithTags: 1级
mutator1_areaDamageMultiplier: 0.8
mutator2_ifUnitWithTags: 2级
mutator2_areaDamageMultiplier: 0.6
mutator3_ifUnitWithTags: 3级, 减毒
mutator3_areaDamageMultiplier: 0.4
mutator6_ifUnitWithTags: 特殊免伤, 免毒
mutator6_areaDamageMultiplier: 0
mutator14_ifUnitWithTags: 步兵轻甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵中甲
mutator15_areaDamageMultiplier: 1.00
mutator16_ifUnitWithTags: 步兵重甲
mutator16_areaDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具轻甲
mutator17_areaDamageMultiplier: 0.40
mutator18_ifUnitWithTags: 载具中甲
mutator18_areaDamageMultiplier: 0.40
mutator19_ifUnitWithTags: 载具重甲
mutator19_areaDamageMultiplier: 0.40
mutator20_ifUnitWithTags: 建筑轻甲
mutator20_areaDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑防甲
mutator21_areaDamageMultiplier: 0.20
mutator22_ifUnitWithTags: 建筑重甲
mutator22_areaDamageMultiplier: 0.20


[projectile_烟]
directDamage: 0
life: 60

invisible: true
trailEffect: CUSTOM:毒气
trailEffectRate: 14
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog:true


[effect_毒气]
life: 90
image: ROOT:\共享文件\1类\毒素云.png
scaleFrom: 0.4
scaleTo: 1.5
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.15
fadeInTime: 12
fadeOut: true
hOffset: 0
hSpeed: 0.3
xSpeedAbsolute: -0.2
dirOffsetRandom: 180
#xOffsetRelative: -15
#yOffsetRelative: 50
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 2
#xSpeedAbsoluteRandom:0.05
#ySpeedAbsoluteRandom:0.1
atmospheric:true
attachedToUnit: false
drawUnderUnits:false


[hiddenAction_毒气]
autoTrigger: true
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,0


[hiddenAction_毒烟]
autoTrigger: true
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100


[hiddenAction_2] 
autoTrigger: if self.timeAlive(laterThanSeconds=15)
deleteSelf: true



================================================================================
// FILE_PATH: ./共享文件/2类/变成空载具.ini
================================================================================


[core]
name: 变成空载具
copyFrom: 变成中立.ini
tags: 变成空载具

displayText: Switch To Empty Vehicle
displayText_zh: 变成空载具
displayDescription: Units switches to empty vehicle without a driver within range.\nEmpty Vehicle can only be driven by infantry.\nNote that it may be invalid for some units.
displayDescription_zh: 将范围内的载具变成空载具\n只能被步兵驾驶\n注意可能对某些单位无效

================================================================================
// FILE_PATH: ./共享文件/2类/降落伞.ini
================================================================================


[core]
name: 降落伞
price: 0
maxHp: 125
mass: 500
radius: 25

copyFrom: ROOT:\共享文件\3类\血.xxhq, ROOT:\共享文件\3类\单位价值.xxhq
tags: 原始护甲, 飞机重甲, 降落伞, 空军
displayText: Parachuting: G.I.
displayText_zh: 跳伞-美国大兵
isBio: true
#disableAllUnitCollisions: true
fogOfWarSightRange: 11
#softCollisionOnAll: 10
#isUnselectable: true
#canNotBeGivenOrdersByPlayer: true
#numBitsOnDeath: 0
effectOnDeath: NONE
effectOnDeathGroundCollosion: CUSTOM:血
explodeOnDeathGroundCollision: false


[graphics]
image:        降落伞.png

imageScale: 1.05
total_frames: 15
default_frame: 1
#image_offsetX: 10
image_offsetY: -10
animation_idle_start: 9
animation_idle_end: 14
animation_idle_speed: 8
animation_moving_start: 9
animation_moving_end: 14
animation_moving_speed: 8
rotate_with_direction: false
image_shadow: 降落伞阴影.png
shadowOffsetX: 0
shadowOffsetY: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 1
moveAccelerationSpeed: 1
moveDecelerationSpeed: 1
maxTurnSpeed: 0
turnAcceleration: 0
startingHeightOffset: 200
targetHeight: 0
targetHeightDrift: 0
slowDeathFall: true
slowDeathFallSmoke: false 
#landOnGround: true
moveIgnoringBody: true
heightChangeRate: 0.6


[arm_1]
x: 0
y: 10

#hidden: if 
drawOverBody: true
image_end: 降-美国大兵.png
image_end_teamColors: true


[hiddenAction_1]
autoTriggerOnEvent: created
setBodyRotation: 270
playAnimation: 开伞


[hiddenAction_2]
autoTrigger: if not self.isFlying()
convertTo:  美国大兵
spawnUnits: 降落伞落


[hiddenAction_初始价值]
addResources: 价值=15


[animation_开伞]
start: 1
end: 8
speed: 6

================================================================================
// FILE_PATH: ./共享文件/2类/刷兵跟随3.ini
================================================================================

[core]
name: 刷兵跟随3
price: 0
maxHp: 10000
mass: 50000
radius: 10

displayText: Follow point: Aggressive
displayText_zh: 跟随点：敌对(移动攻击)
displayDescription: Effective against Aggressive, such as mummies .\nInvalid to other units.
displayDescription_zh: 对敌对单位才有效，比如木乃伊，当产生跟随标志时，\n敌对单位会跟随这个跟随点直到跟随点被删除。\n对其他单位无效
createOnAggressiveTeam: true
tags: 跟随-攻击移动
canNotBeDirectlyAttacked: true
disableAllUnitCollisions: true
isBuilding: true
showOnMinimap: false


[graphics]
image:      ROOT:\共享文件\1类\图标-定位.png

isVisible: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0



================================================================================
// FILE_PATH: ./共享文件/2类/空投飞机2.ini
================================================================================

[core]
name: 空投飞机2
price: 3000
maxHp: 1200
mass: 20000
radius: 25

copyFrom: ROOT:\共享文件\3类\单位价值.xxhq
tags: 原始护甲, 飞机中甲, 空投飞机, 空军
displayText: Airdrop plane: Airborne Squad
displayText_zh: 空投飞机-盟军伞兵小队
displayDescription: You need to select a camp and an airdrop point to drop infantry.\nWait for the airdrop plane to fly to the airdrop point and drop the infantry
displayDescription_zh: 需要选择阵营和有空投点才能空投士兵\n等待空投飞机飞到空投点空投士兵
buildSpeed: 0.01
softCollisionOnAll: 20
canNotBeGivenOrdersByPlayer: true
autoTriggerCooldownTime: 0.2s
unitsSpawnedOnDeath: 空投飞机2坠毁
fogOfWarSightRange: 6


[hiddenAction_移动音效]
autoTrigger: if self.isMoving()
playSoundAtUnit: ROOT:\音频\语音+音效\sparlo2a.wav:1.2, ROOT:\音频\语音+音效\sparlo2b.wav:1.2, ROOT:\音频\语音+音效\sparlo2c.wav:1.2


[graphics]
isVisible: if self.timeAlive(laterThanSeconds=2)
image:        空投飞机2.png

total_frames: 1
frame_width: 140
frame_height: 140
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 4
#image_wreak:  死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX:0
shadowOffsetY:0
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 3.6
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.005
#0.01
maxTurnSpeed: 2.0
turnAcceleration: 0.5
targetHeight: 200
targetHeightDrift: 0
moveIgnoringBody: false
moveSlidingMode: true
moveSlidingDir: 30
#slowDeathFall: true


[action_1]
text: airdrop
text_zh: 空投
displayType: action
buildSpeed: 0s
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0, withinRange=100) and not self.ammo(empty=true)
spawnUnits: 降落伞(alwayStartDirAtZero=true, offsetRandomX=100, offsetRandomY=100), 降落伞3(alwayStartDirAtZero=true, offsetRandomX=100, offsetRandomY=100)
addResources: ammo=-1


[action_2]
text: airdrop
text_zh: 空投2
displayType: action
buildSpeed: 0s
autoTrigger: if self.ammo(empty=true) and not self.hasFlag(id=0)
spawnUnits: 降落伞5(alwayStartDirAtZero=true, offsetRandomX=100, offsetRandomY=100), 降落伞6(alwayStartDirAtZero=true, offsetRandomX=100, offsetRandomY=100)
addResources: setFlag=0


[hiddenAction_3]
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0) and not self.hasActiveWaypoint(type='follow') and not self.ammo(empty=true)
addWaypoint_type: follow
addWaypoint_prepend: true
#addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 空投点


[hiddenAction_4]
autoTrigger: if self.ammo(empty=true) and self.hasActiveWaypoint(type='follow')
clearAllWaypoints: true
addWaypoint_type: follow
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 国旗-美国
addWaypoint_triggerActionIfFailed: 5
#alsoQueueAction: 4


[hiddenAction_5]
autoTrigger: if numberOfUnitsInTeam(withTag='国旗-美国', greaterThan=0, withinRange=60) and self.ammo(empty=true)
buildSpeed: 5s
deleteSelf: true


[hiddenAction_6]
autoTriggerOnEvent: created
addResources:  ammo=5


[hiddenAction_重置方向]
autoTriggerOnEvent: created
setBodyRotation: 45


[hiddenAction_初始价值]
addResources: 价值=75

================================================================================
// FILE_PATH: ./共享文件/2类/突变中介.ini
================================================================================


[core]
name: 突变中介
price: 0
maxHp: 1000
mass: 1000
radius: 10

tags: 突变中介
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
isUnselectable: true
showInEditor: false


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 99
maxAttackRange: 40
shootDelay: 1


[movement]
movementType: LAND


[turret_1]
x: 0
y: 0

canOnlyAttackUnitsWithTags: 人突变
projectile: 1


[projectile_1]
directDamage: 1
life: 60

instant: true
convertHitToSourceTeam: true
explodeEffect: NONE
mutator7_ifUnitWithoutTags: 无
mutator7_directDamageMultiplier: 0


[hiddenAction_1] 
autoTrigger: if self.timeAlive(laterThanSeconds=2)
deleteSelf: true
#showMessageToAllPlayers: 删除


[hiddenAction_自动攻击]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='人突变', greaterThan=0, withinRange=40)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 人突变
addWaypoint_target_nearestUnit_maxRange: 40
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy

================================================================================
// FILE_PATH: ./共享文件/2类/空投飞机3.ini
================================================================================

[core]
name: 空投飞机3
price: 3000
maxHp: 1200
mass: 20000
radius: 25

copyFrom: ROOT:\共享文件\3类\单位价值.xxhq
tags: 原始护甲, 飞机中甲, 空投飞机, 空军
displayText: Airdrop plane: Material box
displayText_zh: 空投飞机-物资箱
displayDescription: You need to select a camp and an airdrop point to drop infantry.\nWait for the airdrop plane to fly to the airdrop point and drop the infantry
displayDescription_zh: 需要选择阵营和有空投点才能空投士兵\n等待空投飞机飞到空投点空投士兵
buildSpeed: 0.01
softCollisionOnAll: 20
canNotBeGivenOrdersByPlayer: true
autoTriggerCooldownTime: 0.2s
unitsSpawnedOnDeath: 空投飞机2坠毁
fogOfWarSightRange: 6


[hiddenAction_移动音效]
autoTrigger: if self.isMoving()
playSoundAtUnit: ROOT:\音频\语音+音效\sparlo2a.wav:1.2, ROOT:\音频\语音+音效\sparlo2b.wav:1.2, ROOT:\音频\语音+音效\sparlo2c.wav:1.2


[graphics]
isVisible: if self.timeAlive(laterThanSeconds=2)
image:        空投飞机2.png

total_frames: 1
frame_width: 140
frame_height: 140
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 4
#image_wreak:  死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX:0
shadowOffsetY:0
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 3.6
moveAccelerationSpeed: 0.020
moveDecelerationSpeed: 0.005
#0.01
maxTurnSpeed: 2.0
turnAcceleration: 0.5
targetHeight: 200
targetHeightDrift: 0
moveIgnoringBody: false
moveSlidingMode: true
moveSlidingDir: 30
#slowDeathFall: true


[action_1]
text: airdrop
text_zh: 空投
displayType: action
buildSpeed: 0s
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0, withinRange=100) and not self.ammo(empty=true)
spawnUnits: 降落伞7(alwayStartDirAtZero=true, offsetRandomX=100, offsetRandomY=100)
addResources: ammo=-1


[hiddenAction_3]
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0) and not self.hasActiveWaypoint(type='follow') and not self.ammo(empty=true)
addWaypoint_type: follow
addWaypoint_prepend: true
#addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 空投点


[hiddenAction_4]
autoTrigger: if self.ammo(empty=true) and self.hasActiveWaypoint(type='follow')
clearAllWaypoints: true
addWaypoint_type: follow
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 国旗-美国
addWaypoint_triggerActionIfFailed: 5
#alsoQueueAction: 4


[hiddenAction_5]
autoTrigger: if numberOfUnitsInTeam(withTag='国旗-美国', greaterThan=0, withinRange=60) and self.ammo(empty=true)
buildSpeed: 5s
deleteSelf: true


[hiddenAction_6]
autoTriggerOnEvent: created
addResources:  ammo=4


[hiddenAction_重置方向]
autoTriggerOnEvent: created
setBodyRotation: 45


[hiddenAction_初始价值]
addResources: 价值=75

================================================================================
// FILE_PATH: ./共享文件/2类/刷兵跟随.ini
================================================================================


[core]
name: 刷兵跟随
price: 0
maxHp: 10000
mass: 50000
radius: 10

displayText: Follow point: camp
displayText_zh: 跟随点：阵营
displayDescription: The camp unit will follow this unit until it is deleted. \nInvalid for some units
displayDescription_zh: 阵营单位会跟随这个跟随点直到跟随点被删除。对某些单位无效
#tags: 刷兵点
canNotBeDirectlyAttacked: true
disableAllUnitCollisions: true
#canNotBeDamaged: true
#canOnlyBeAttackedByUnitsWithTags: 无
isBuilding: true
showOnMinimap: false


[graphics]
image:      ROOT:\共享文件\1类\图标-定位.png

isVisible: if not self.hasFlag(id=0)


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[action_0]
text: Start
text_zh: 开始
description: Start timing, units will follow only after start
description_zh: 开始计时，只有开始后兵才会跟随
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if not self.hasFlag(id=0)
autoTrigger: if (numberOfUnitsInTeam(withTag='刷兵开始', greaterThan=0) or numberOfUnitsInNeutralTeam(withTag='刷兵开始', greaterThan=0) or numberOfUnitsInAggressiveTeam(withTag='刷兵开始', greaterThan=0) or numberOfUnitsInEnemyTeam(withTag='刷兵开始', greaterThan=0)) and not self.tags(includes='刷兵开始')
temporarilyAddTags: 刷兵开始
#showMessageToAllPlayers: 触发
addResources: setFlag=0


[action_0-1]
text: Delayed start
text_zh: 延迟开始
description: Increase the time before the start
description_zh: 增加开始兵跟随前延迟的时间
pos: 0
buildSpeed: 0s
price: 延迟时间=1
displayRemainingStockpile: true
displayType: rally
isActive: if not self.hasFlag(id=0)
isVisible: if not self.resource(type='延迟时间', empty=true)
addResources: 延迟时间=2
autoTriggerOnEvent: created


[action_0-2]
text: Delayed start +
text_zh: 延迟开始＋
description: Increased by 60 times, convenient and quick setting
description_zh: 以60倍增加，方便快速设置
pos: 0
buildSpeed: 0s
displayType: upgrade
isVisible: if not self.hasFlag(id=0)
addResources: 延迟时间=60


[action_1]
text: End
text_zh: 结束时间
description: Set end time.
description_zh: 设置结束时间
pos: 0
buildSpeed: 0s
price: ammo=1
displayRemainingStockpile: true
displayType: rally
#isActive: if not self.hasFlag(id=1)
isVisible: if not self.hasFlag(id=1)
addResources: ammo=2
autoTriggerOnEvent: created


[action_1-1]
text: End +
text_zh: 结束时间＋
description: Increased by 60 times, convenient and quick setting
description_zh: 以60倍增加，方便快速设置
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if not self.hasFlag(id=1)
addResources: ammo=60


[action_1-2]
text: No end
text_zh: 不结束
description: After setting, the point will not disappear automatically
description_zh: 设置后刷兵跟随不会自动消失
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if not self.hasFlag(id=1)
addResources: setFlag=1


[action_2]
text: Delete
text_zh: 删除
description: Delete directly
description_zh: 直接删除
pos: 0
displayType: infoOnly
buildSpeed: 0s
autoTrigger: if self.ammo(empty=true) and not self.hasFlag(id=1) and self.hasFlag(id=0)
deleteSelf: true
#showMessageToAllPlayers: 删除


[action_3]
text: Follow: Move
text_zh: 跟随-移动
description: After setting, the unit will generate moving path points to here
description_zh: 设置后单位会产生移动的路径点到这里
pos: 0
displayType: none
buildSpeed: 0s
isActive: if not self.hasFlag(id=2)
#showMessageToAllPlayers: 触发
addResources: setFlag=2, unsetFlag=3, unsetFlag=4


[action_3-1]
text: Follow: Attack move
text_zh: 跟随-攻击移动
description: After setting, the unit will generate attack moving path point to here
description_zh: 设置后单位会产生攻击移动的路径点到这里
pos: 0
displayType: none
buildSpeed: 0s
isActive: if not self.hasFlag(id=3)
#showMessageToAllPlayers: 触发
addResources: setFlag=3, unsetFlag=2, unsetFlag=4
autoTriggerOnEvent: created


[action_3-2]
text: Follow: Guard
text_zh: 跟随-守卫
description: After setting, the unit will generate guarding path point to here
description_zh: 设置后单位会产生守卫的路径点到这里
pos: 0
displayType: none
buildSpeed: 0s
isActive: if not self.hasFlag(id=4)
#showMessageToAllPlayers: 触发
addResources: setFlag=4, unsetFlag=3, unsetFlag=2


[hiddenAction_4]
autoTrigger: if not self.resource(type='延迟时间', empty=true) and self.hasFlag(id=0)
addResources: 延迟时间=-1


[hiddenAction_5]
autoTrigger: if not self.ammo(empty=true) and self.resource(type='延迟时间', empty=true) and self.hasFlag(id=0) and not self.hasFlag(id=1)
addResources: ammo=-1


[hiddenAction_6]
autoTrigger: if self.resource(type='延迟时间', empty=true) and self.hasFlag(id=0) and self.hasFlag(id=2) and not self.tags(includes='跟随-移动')
resetToDefaultTags: true
temporarilyAddTags: 跟随-移动
#showMessageToAllPlayers: 触发1


[hiddenAction_7]
autoTrigger: if self.resource(type='延迟时间', empty=true) and self.hasFlag(id=0) and self.hasFlag(id=3) and not self.tags(includes='跟随-攻击移动')
resetToDefaultTags: true
temporarilyAddTags: 跟随-攻击移动
#showMessageToAllPlayers: 触发2


[hiddenAction_8]
autoTrigger: if self.resource(type='延迟时间', empty=true) and self.hasFlag(id=0) and self.hasFlag(id=4) and not self.tags(includes='跟随-守卫')
resetToDefaultTags: true
temporarilyAddTags: 跟随-守卫
#showMessageToAllPlayers: 触发3


[resource_延迟时间]
displayName: 延迟时间


#[ai]
#useAsBuilder: true

================================================================================
// FILE_PATH: ./共享文件/2类/变成中立.ini
================================================================================


[core]
name: 变成中立
price: 0
maxHp: 1000
mass: 3000
radius: 10

tags: 捕获中立
displayText: Switch To Neutral Team
displayText_zh: 变成中立
displayDescription: Units switches to neutral team within range.\nNote that it may be invalid for some units.
displayDescription_zh: 将范围内的单位变成可被玩家捕获的中立单位\n注意可能对某些单位无效
isBuilding: true
canNotBeDirectlyAttacked:true
fogOfWarSightRange:0
disableAllUnitCollisions: true
createNeutral: true
stayNeutral: true
showOnMinimap: false
#isUnselectable: true
#showInEditor:false


[graphics]
image:        ROOT:\共享文件\1类\图标-三角形.png

isVisible: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 100


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTrigger:if self.timeAlive(laterThanSeconds=0.5)
deleteSelf: true


[hiddenAction_变成捕获性中立]
autoTrigger: false

================================================================================
// FILE_PATH: ./共享文件/2类/人尸.ini
================================================================================


[core]
name: 人尸
price: 0
maxHp: 1000
mass: 100
radius: 10

tags: 人尸
showInEditor: false
showOnMinimap: false 
fogOfWarSightRange: 0
hideScorchMark: true
explodeOnDeath: false
effectOnDeath: NONE
isUnrepairableUnit: true
isUnselectable: true
disableAllUnitCollisions: true
canOnlyBeAttackedByUnitsWithTags: 无
createOnAggressiveTeam: true
#canNotBeDirectlyAttacked: true
#stayNeutral: true
#createNeutral: true


[graphics]
image:        人尸.png

drawLayer: bottom
#wreaks/bottom/ground/ground2
default_frame: 24
imageScale:	1
total_frames: 4
frame_width: 90
frame_height: 70
showHealthBar: false
animation_direction_units: 60
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 225
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
icon_zoomed_out_neverShow: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND


[action_消失]
autoTrigger: if not self.timeAlive(withinSeconds=20) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=5) or not self.isOverPassableTile(type='LAND')
buildSpeed: 0s
deleteSelf: true


[hiddenAction_静止]
autoTrigger: if not self.hasFlag(id=0)
#addResources: setFlag=0
playAnimationIfNotPlaying: 静止2


[hiddenAction_静止2]
autoTrigger: if self.hasFlag(id=0) and self.timeAlive(laterThanSeconds=0.8)
playAnimationIfNotPlaying: 静止2


[animation_静止]
onActions: idle
body_0s: {frame:16}


[animation_静止2]
body_0s: {frame:0}
body_20.1s: {frame:3}



================================================================================
// FILE_PATH: ./共享文件/2类/狂暴.ini
================================================================================


[core]
name: 狂暴
price: 0
maxHp: 1000
mass: 3000
radius: 10

tags: 狂暴引子
isBuilding: true
canNotBeDirectlyAttacked:true
fogOfWarSightRange:0
disableAllUnitCollisions: true
displayText: Furious
displayText_zh: 狂暴
displayDescription: Increase the attack power of units within their use range by 50%.\nInvalid for semi mechanical and unmanned units.
displayDescription_zh: 使其使用范围内单位的攻击力提升25%。\n对于一些无人单位和半机械单位无效。
buildSpeed: 0
selfBuildRate: 0s
#isUnselectable: true
#showInEditor:false
#armour: 10000
#armourMinDamageToKeep:0


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 140


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTriggerOnEvent: created
playSoundGlobally: ROOT:\音频\语音+音效\sfrenzya.wav:2
spawnEffects: CUSTOM:狂暴


[hiddenAction_2]
autoTrigger:if self.timeAlive(laterThanSeconds=2)
deleteSelf: true


[effect_狂暴]
image: 狂暴.png
life: 180
scaleFrom:1
scaleTo: 1
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true




================================================================================
// FILE_PATH: ./共享文件/2类/救援.ini
================================================================================


[core]
name: 救援
price: 0
maxHp: 1000
mass: 3000
radius: 10

tags: 救援
displayText: Temporary Rescue
displayText_zh: 紧急修复
isBuilding: true
canNotBeDirectlyAttacked:true
fogOfWarSightRange:0
disableAllUnitCollisions: true
buildSpeed: 0
selfBuildRate: 0s
#isUnselectable: true
#showInEditor:false
#armour: 10000
#armourMinDamageToKeep:0


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 160


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[hiddenAction_声效]
autoTriggerOnEvent: created
playSoundAtUnit: ROOT:\音频\语音+音效\srepaira.wav:2


[hiddenAction_1]
autoTrigger: true
spawnEffects: CUSTOM:圈


[hiddenAction_2]
autoTrigger:if self.timeAlive(laterThanSeconds=10)
deleteSelf: true


[effect_圈]
image: ROOT:\共享文件\1类\修复圈.png
scaleFrom: 1.0
scaleTo: 0.0
alpha: 1.2
life: 30
#hOffset: -10
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero: true



================================================================================
// FILE_PATH: ./共享文件/2类/降落伞4.ini
================================================================================


[core]
name: 降落伞4
copyFrom: 降落伞.ini
displayText: Parachuting: Soviet Flak Trooper
displayText_zh: 跳伞-防空步兵


[graphics]
image:        降落伞4.png


[arm_1]
image_end: 降-防空步兵.png


[hiddenAction_2]
convertTo:  防空步兵


[hiddenAction_初始价值]
addResources: 价值=10

================================================================================
// FILE_PATH: ./共享文件/2类/降落伞5.ini
================================================================================


[core]
name: 降落伞5
copyFrom: 降落伞.ini
displayText: Parachuting: Allied Engineer.
displayText_zh: 跳伞-盟军工程师
maxHp: 150


[graphics]
image:        降落伞5.png


[arm_1]
image_end: 降-盟军工程师.png


[hiddenAction_2]
convertTo:  盟军工程师


[hiddenAction_初始价值]
addResources: 价值=15

================================================================================
// FILE_PATH: ./共享文件/2类/沙盒控制.ini
================================================================================


[core]
name: 沙盒控制
price: 0
maxHp: 1000
mass: 3000
radius: 10

tags: 沙盒控制
displayText: Sandbox control
displayText_zh: 沙盒控制
displayDescription: Control the faction’s funds, electricity, super weapons, \nas well as Ai and other special functions.
displayDescription_zh: 控制阵营资金，电力，超武，超辅，人机，其他特殊功能\n放置好沙盒控制后可以建造多个美国国旗和苏联国旗
isBuilding: true
canNotBeDirectlyAttacked:true
fogOfWarSightRange: 0
disableAllUnitCollisions: true
#isUnselectable: true
#showInEditor:false
#armour: 10000
#armourMinDamageToKeep:0


[graphics]
image:        ROOT:\共享文件\1类\图标-齿轮.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

#showRangeUIGuide: true
#maxAttackRange: 150


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[action_1-1]
text: Delete all units
text_zh: 删除所有单位
description: Delete all units
description_zh: 删除所有单位，包括自己
pos: 0
displayType: infoOnly
buildSpeed: 0s
switchToAggressiveTeam: true
temporarilyAddTags: 沙盒清除
alsoQueueAction: 沙盒清除


[action_1-1-1]
text: Delete
text_zh: 删除
description: Delete itself
description_zh: 删除自己
pos: 0
displayType: infoOnly
buildSpeed: 0s
deleteSelf: true


[action_1-1-2]
text: Neutral
text_zh: 中立
description: Converting to a neutral team
description_zh: 转换成中立队伍
pos: 0
displayType: infoOnly
buildSpeed: 0s
isActive: if self.teamId!=-1
switchToTeam: -1


[action_1-1-3]
text: Aggressive
text_zh: 敌对
description: Converting to an aggressive team
description_zh: 转换成敌对队伍
pos: 0
displayType: infoOnly
buildSpeed: 0s
isActive: if self.teamId!=-2
switchToTeam: -2


[action_1-2]
text: Funds +
text_zh: 资金＋
description: Direct increase of 5000 funds.
description_zh: 直接增加5000资金
pos: 0
displayType: upgrade
buildSpeed: 0s
#isVisible: if not self.hasFlag(id=0)
#autoTrigger: if (numberOfUnitsInTeam(withTag='刷兵开始', greaterThan=0) or numberOfUnitsInNeutralTeam(withTag='刷兵开始', greaterThan=0) or numberOfUnitsInAggressiveTeam(withTag='刷兵开始', greaterThan=0) or numberOfUnitsInEnemyTeam(withTag='刷兵开始', greaterThan=0)) and not self.tags(includes='刷兵开始')
#temporarilyAddTags: 刷兵开始
#showMessageToAllPlayers: 触发
addResources: 资金=5000


[action_1-3]
text: Zero funds
text_zh: 资金归零
description: Zero funds directly.
description_zh: 直接使资金归零
pos: 0
displayType: upgrade
buildSpeed: 0s
isActive: if not self.resource(type='资金', equalTo=0)
resourceAmount: 资金
resourceAmount_setValue: 0


[action_1-4]
text: power +
text_zh: 电力＋
description: Direct increase of 10 power.
description_zh: 直接增加10电力
pos: 0
displayType: upgrade
buildSpeed: 0s
addResources: 电力=10


[action_1-5]
text: Zero power
text_zh: 电力归零
description: Zero power directly.
description_zh: 直接使电力归零
pos: 0
displayType: upgrade
buildSpeed: 0s
isActive: if not self.resource(type='电力', equalTo=0)
resourceAmount: 电力
resourceAmount_setValue: 0


[action_1-6]
text: Ai: 70
text_zh: Ai智商70
description: Ai level is reset to 70
description_zh: 直接重置这个阵营的Ai智商为70
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.isControlledByAI()
resourceAmount: Ai智商
resourceAmount_setValue: 0
alsoQueueAction: 1-6-1


[hiddenAction_1-6-1]
buildSpeed: 0.2s
addResources: Ai智商=70


[action_1-7]
text: Ai: 100
text_zh: Ai智商100
description: Ai level is reset to 100
description_zh: 直接重置这个阵营的Ai智商为100
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.isControlledByAI()
resourceAmount: Ai智商
resourceAmount_setValue: 0
alsoQueueAction: 1-7-1


[hiddenAction_1-7-1]
buildSpeed: 0.2s
addResources: Ai智商=100


[action_1-8]
text: Ai: 140
text_zh: Ai智商140
description: Ai level is reset to 140
description_zh: 直接重置这个阵营的Ai智商为140
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.isControlledByAI()
resourceAmount: Ai智商
resourceAmount_setValue: 0
alsoQueueAction: 1-8-1


[hiddenAction_1-8-1]
buildSpeed: 0.2s
addResources: Ai智商=140


[action_1-9]
text: Ai: 180
text_zh: Ai智商180
description: Ai level is reset to 180
description_zh: 直接重置这个阵营的Ai智商为180
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.isControlledByAI()
resourceAmount: Ai智商
resourceAmount_setValue: 0
alsoQueueAction: 1-9-1


[hiddenAction_1-9-1]
buildSpeed: 0.2s
addResources: Ai智商=180


[action_1-10]
text: Ai: 370
text_zh: Ai智商370
description: Ai level is reset to 370
description_zh: 直接重置这个阵营的Ai智商为370
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.isControlledByAI()
resourceAmount: Ai智商
resourceAmount_setValue: 0
alsoQueueAction: 1-10-1


[hiddenAction_1-10-1]
buildSpeed: 0.2s
addResources: Ai智商=370


[action_2-1]
text: Start Allied Chronosphere
text_zh: 启动超时空传送仪
description: Start Allied Chronosphere directly.
description_zh: 直接启动超时空传送仪
pos: 0
displayType: upgrade
buildSpeed: 0s
isActive: if self.hasUnitInTeam(withTag='超时空传送仪')
resourceAmount: 超时空计时
resourceAmount_setValue: 0


[action_2-2]
text: Reset Allied Chronosphere
text_zh: 重置超时空传送仪
description: Reset Allied Chronosphere directly.
description_zh: 直接重置超时空传送仪
pos: 0
displayType: upgrade
buildSpeed: 0s
isActive: if self.hasUnitInTeam(withTag='超时空传送仪')
resourceAmount: 超时空计时
resourceAmount_setValue: 300


[action_2-3]
text: Start Allied Weather Controller
text_zh: 启动天气控制器
description: Start Allied Weather Controller directly.
description_zh: 直接启动天气控制器
pos: 0
displayType: upgrade
buildSpeed: 0s
isActive: if self.hasUnitInTeam(withTag='天气控制器')
resourceAmount: 天气计时
resourceAmount_setValue: 0


[action_2-4]
text: Reset Allied Weather Controller
text_zh: 重置天气控制器
description: Reset Allied Weather Controller directly.
description_zh: 直接重置天气控制器
pos: 0
displayType: upgrade
buildSpeed: 0s
isActive: if self.hasUnitInTeam(withTag='天气控制器')
resourceAmount: 天气计时
resourceAmount_setValue: 420


[action_2-5]
text: Start Soviet Iron Curtain Device
text_zh: 启动铁幕装置
description: Start Soviet Iron Curtain Device directly.
description_zh: 直接启动铁幕装置
pos: 0
displayType: upgrade
buildSpeed: 0s
isActive: if self.hasUnitInTeam(withTag='铁幕装置')
resourceAmount: 铁幕计时
resourceAmount_setValue: 0


[action_2-6]
text: Reset Soviet Iron Curtain Device
text_zh: 重置铁幕装置
description: Reset Soviet Iron Curtain Device directly.
description_zh: 直接重置铁幕装置
pos: 0
displayType: upgrade
buildSpeed: 0s
isActive: if self.hasUnitInTeam(withTag='铁幕装置')
resourceAmount: 铁幕计时
resourceAmount_setValue: 300


[action_2-7]
text: Start Soviet Tactical Nuke Silo
text_zh: 启动核弹井
description: Start Soviet Tactical Nuke Silo directly.
description_zh: 直接启动核弹井
pos: 0
displayType: upgrade
buildSpeed: 0s
isActive: if self.hasUnitInTeam(withTag='核弹井')
resourceAmount: 核弹计时
resourceAmount_setValue: 0


[action_2-8]
text: Reset Soviet Tactical Nuke Silo
text_zh: 重置核弹井
description: Reset Soviet Tactical Nuke Silo directly.
description_zh: 直接重置核弹井
pos: 0
displayType: upgrade
buildSpeed: 0s
isActive: if self.hasUnitInTeam(withTag='核弹井')
resourceAmount: 核弹计时
resourceAmount_setValue: 420


[action_2-11]
text: Start Genetic Exciter
text_zh: 启动基因突变器
description: Start Genetic Exciter directly.
description_zh: 直接启动基因突变器
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.hasUnitInTeam(withTag='基因突变器')
resourceAmount: 基因突变计时
resourceAmount_setValue: 0


[action_2-12]
text: Reset Genetic Exciter
text_zh: 重置基因突变器
description: Reset Genetic Exciter directly.
description_zh: 直接重置基因突变器
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.hasUnitInTeam(withTag='基因突变器')
resourceAmount: 基因突变计时
resourceAmount_setValue: 300


[action_2-13]
text: Start Psychic Dominator
text_zh: 启动心灵控制器
description: Start Psychic Dominator directly.
description_zh: 直接启动控制器
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.hasUnitInTeam(withTag='心灵控制器')
resourceAmount: 心灵控制计时
resourceAmount_setValue: 0


[action_2-14]
text: Reset Psychic Dominator
text_zh: 重置心灵控制器
description: Reset Psychic Dominator directly.
description_zh: 直接重置心灵控制器
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.hasUnitInTeam(withTag='心灵控制器')
resourceAmount: 心灵控制计时
resourceAmount_setValue: 420


[action_2-15]
text: Start EMI Device
text_zh: 启动电磁干扰装置
description: Start EMI Device.
description_zh: 直接启动电磁干扰装置
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.hasUnitInTeam(withTag='电磁干扰装置')
resourceAmount: 电磁干扰计时
resourceAmount_setValue: 0


[action_2-16]
text: Reset EMI Device
text_zh: 重置电磁干扰装置
description: Reset Psychic EMI Device.
description_zh: 直接重置电磁干扰装置
pos: 0
displayType: upgrade
buildSpeed: 0s
isVisible: if self.hasUnitInTeam(withTag='电磁干扰装置')
resourceAmount: 电磁干扰计时
resourceAmount_setValue: 360


[action_3-1]
text: Recovery power
text_zh: 恢复电力
description: Restore the power loss caused by saving the map.\nPlease Zero power first and pause the game, then click here.\nThen save the game.\nDelete itself.
description_zh: 恢复保存地图时造成的电力缺失\n请先把电力归零，然后暂停(pause)游戏再点这里\n然后保存游戏即可\n同时会删除自己
pos: 0
displayType: none
buildSpeed: 0s
switchToAggressiveTeam: true
temporarilyAddTags: 恢复保存电力
alsoQueueAction: 沙盒清除


[action_3-2]
text: Forbid bases to cancel deployment
text_zh: 禁止基地取消部署
description: After opening, all camp bases cannot be undeployed
description_zh: 开启后所有本阵营基地无法取消部署
pos: 0
displayType: none
buildSpeed: 0s
isActive: if not self.globalTeamTags(includes='禁止基地取消部署')
addGlobalTeamTags: 禁止基地取消部署
#alsoQueueAction: 沙盒清除


[action_3-3]
text: Prohibition of production Mobile Construction Vehicles
text_zh: 禁止生产基地车
description: After opening, all war factories of the camp cannot produce Mobile Construction Vehicles
description_zh: 开启后所有本阵营战争工厂无法生产基地车
pos: 0
displayType: none
buildSpeed: 0s
isActive: if not self.globalTeamTags(includes='禁止生产基地车')
addGlobalTeamTags: 禁止生产基地车


[action_3-4]
text: Prohibit the sale of buildings
text_zh: 禁止卖建筑
description: After opening, all the buildings in the camp cannot be sold
description_zh: 开启后本阵营的所有建筑都无法变卖
pos: 0
displayType: none
buildSpeed: 0s
isActive: if not self.globalTeamTags(includes='禁止卖建筑')
addGlobalTeamTags: 禁止卖建筑


[hiddenAction_沙盒清除]
autoTrigger: false
buildSpeed: 1s


[global_resource_超时空计时]
displayName: Chronosphere countdown
displayName_zh: 超时空传送倒计时
displayColor: #FFFFFFFF


[global_resource_天气计时]
displayName: Lightning storm countdown
displayName_zh: 闪电风暴倒计时
displayColor: #FF007FFF


[global_resource_铁幕计时]
displayName: Iron Curtain countdown
displayName_zh: 铁幕倒计时
displayColor: #FFFF00FF


[global_resource_核弹计时]
displayName: Nuke Silo countdown
displayName_zh: 核弹发射倒计时
displayColor: #FFFF0000


[global_resource_基因突变计时]
displayName: Gene Mutation
displayName_zh: 基因突变倒计时
displayColor: #FFEF00DB


[global_resource_心灵控制计时]
displayName: Psychic Dominator
displayName_zh: 心灵控制倒计时
displayColor: #FF36006B


[global_resource_世界末日]
displayName: Doomsday Device countdown
displayName_zh: 末日毁灭装置
displayColor: #FF007FFF


[global_resource_电磁干扰计时]
displayName: EMI countdown
displayName_zh: 电磁干扰倒计时
displayColor: #FF9591FA

================================================================================
// FILE_PATH: ./共享文件/2类/救援引子-Ai.ini
================================================================================

[core]
name: 救援引子-Ai
price: 0
maxHp: 1000
mass: 1
radius: 0

showInEditor: false
tags: 救援引子
isUnselectable: true
disableAllUnitCollisions: true
effectOnDeath: NONE
explodeOnDeath:  false
hideScorchMark: true
canNotBeDirectlyAttacked:true


[graphics]
image:       ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 10
moveAccelerationSpeed: 10
moveDecelerationSpeed: 10
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage: 0.5
targetHeight: 0
targetHeightDrift: 0
moveIgnoringBody: true
moveSlidingMode: true
moveSlidingDir: 0


[hiddenAction_1]
autoTrigger: if self.hasUnitInTeam(withTag='救援Ai') and not self.hasActiveWaypoint(type='follow')
addWaypoint_type: follow
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 救援Ai
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_mapMustBeReachable: false
#showMessageToAllPlayers: 追踪


[hiddenAction_2]
autoTrigger: if numberOfUnitsInTeam(withinRange=50, greaterThan=0, withTag='救援Ai')
convertTo: 救援
#showMessageToAllPlayers: 产生救援
#spawnEffects: CUSTOM:铁幕


[hiddenAction_3]
autoTrigger: if self.noUnitInTeam()
# or not self.hasUnitInTeam(withTag='铁幕装置') or numberOfUnitsInTeam(withTag='救援引子', greaterThan=1)
deleteSelf: true
#showMessageToAllPlayers: 删除

================================================================================
// FILE_PATH: ./共享文件/2类/空投飞机坠毁.ini
================================================================================


[core]
name: 空投飞机坠毁
price: 0
maxHp: 700
mass: 20000
radius: 25

copyFrom: ROOT:\共享文件\3类\机毁飞溅.xxhq
#isUnselectable: true
disableAllUnitCollisions: true
autoTriggerCooldownTime: 0.2s
showInEditor: false


[graphics]
image:        空投飞机.png

total_frames: 1
frame_width: 130
frame_height: 130
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 4
image_wreak:  ROOT:\共享文件\1类\死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX:0
shadowOffsetY:0
#-20
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffect: CUSTOM:2尾焰3, CUSTOM:2尾焰2, CUSTOM:2尾焰, CUSTOM:尾焰3, CUSTOM:尾焰2, CUSTOM:尾焰
movementEffectRate: 1.5


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 3.0
moveAccelerationSpeed: 5
moveDecelerationSpeed: 0
maxTurnSpeed: 1.5
turnAcceleration: 0.5
targetHeight: 0
targetHeightDrift: 0
startingHeightOffset: 200
moveIgnoringBody: false
moveSlidingMode: true
moveSlidingDir: 30
#slowDeathFall: true
#landOnGround: true
heightChangeRate: 2


[projectile_机毁肢]
targetSpeedAcceleration: 0.02
initialUnguidedSpeedHeight: 0.4
trailEffectRate: 3


[projectile_机毁肢3]
@copyFromSection: projectile_机毁肢
areaDamage: 0
life: 600

effectOnCreate: CUSTOM:机毁肢3


#[hiddenAction_机毁肢]
#autoTrigger: if not self.isFlying()


[hiddenAction_机毁肢3]
autoTriggerOnEvent: destroyed
fireTurretXAtGround: 机毁肢
fireTurretXAtGround_withProjectile: 机毁肢3
fireTurretXAtGround_withOffset:0,0


[hiddenAction_1]
autoTriggerOnEvent: created
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_relativeOffsetFromSelf: 0, 1000


[effect_炸毁]
image: ROOT:\共享文件\1类\炸毁3.png
scaleFrom: 2.5
scaleTo: 2.5
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.2
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_机毁肢]
image: 空碎.png
scaleFrom: 0.8
scaleTo: 0.8
life: 90


[effect_机毁肢2]
image: 空碎2.png


[effect_机毁肢3]
@copyFromSection: effect_机毁肢
image: 空碎3.png


[effect_尾焰]
scaleFrom: 0.6
scaleTo: 2.16
xOffsetRelative: -20
xSpeedAbsoluteRandom:0.1
ySpeedAbsoluteRandom:0.2


[effect_尾焰2]
scaleFrom: 0.6
scaleTo: 3.6
xOffsetRelative: -20
xSpeedAbsoluteRandom:0.15
ySpeedAbsoluteRandom:0.4


[effect_尾焰3]
scaleFrom: 0.12
xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.6


[effect_2尾焰]
@copyFromSection: effect_尾焰
xOffsetRelative: 20


[effect_2尾焰2]
@copyFromSection: effect_尾焰2
xOffsetRelative: 20


[effect_2尾焰3]
@copyFromSection: effect_尾焰3
xOffsetRelative: 20

================================================================================
// FILE_PATH: ./共享文件/2类/人突变2.ini
================================================================================

[core]
name: 人突变2
price: 0
maxHp: 9999
mass: 100
radius: 10

tags: 人突变2
fogOfWarSightRange: 0
armour: 9999
disableAllUnitCollisions: true
isBuilding: true
hideScorchMark: true
showInEditor: false
isUnselectable: true
explodeOnDeath: false
#fireTurretXAtSelfOnDeath: 1
canOnlyBeAttackedByUnitsWithTags: 无


[graphics]
image: 人突变.png

imageScale: 1.0
total_frames: 30
animation_idle_start: 0
animation_idle_end: 29
animation_idle_speed: 4
rotate_with_direction: false


[attack]
canAttack: false
canAttackFlyingUnits:false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=1.2)
spawnUnits: 感染者
deleteSelf: true



================================================================================
// FILE_PATH: ./共享文件/2类/降落伞7.ini
================================================================================


[core]
name: 降落伞7
copyFrom: 降落伞.ini
displayText: Parachuting: Material box
displayText_zh: 跳伞-物资箱
maxHp: 500


[graphics]
image:        降落伞7.png


[arm_1]
image_end: 降-物资箱.png


[hiddenAction_2]
convertTo:  物资箱3


[hiddenAction_初始价值]
addResources: 价值=35

================================================================================
// FILE_PATH: ./共享文件/2类/降落伞6.ini
================================================================================


[core]
name: 降落伞6
copyFrom: 降落伞.ini
displayText: Parachuting: Navy SEAL
displayText_zh: 跳伞-海豹部队


[graphics]
image:        降落伞6.png


[arm_1]
image_end: 降-海豹部队.png


[hiddenAction_2]
convertTo:  海豹部队


[hiddenAction_初始价值]
addResources: 价值=25

================================================================================
// FILE_PATH: ./共享文件/2类/降落伞落.ini
================================================================================


[core]
name: 降落伞落
price:0
maxHp: 100
mass: 1200
radius:10

showOnMinimap: false
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
isBuilding: true
showInEditor: false
isUnselectable: true
fogOfWarSightRange: 0


[graphics]
image: 降落伞落.png

drawLayer: bottom
imageScale: 1.05
default_frame: 1
total_frames: 10
#image_offsetX: 10
image_offsetY: -10
rotate_with_direction: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: NONE


[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=1.5)
deleteSelf: true


[animation_1]
onActions: idle
body_0s: {frame:1}
body_1.6s: {frame:9}

================================================================================
// FILE_PATH: ./共享文件/2类/苏联运输机3.ini
================================================================================

[core]
name: 苏联运输机3
price: 3000
maxHp: 1000
mass: 20000
radius: 25

tags: 原始护甲, 空投飞机, 飞机重甲, 空投飞机4, 辐射死人
displayText: Soviet Airdrop Plane: Deadly Air Strike
displayText_zh: 苏联运输机(致命空袭)
displayDescription: You need to select a camp and an airdrop point to drop infantry.\nWait for the airdrop plane to fly to the airdrop point and drop the infantry
displayDescription_zh: 需要选择阵营和有空投点才能空投\n等待空投飞机飞到空投点空投
buildSpeed: 0.01
softCollisionOnAll: 20
canNotBeGivenOrdersByPlayer: true
autoTriggerCooldownTime: 0.3s
unitsSpawnedOnDeath: 苏联运输机坠毁
fogOfWarSightRange: 6


[hiddenAction_移动音效]
autoTrigger: if self.isMoving()
playSoundAtUnit: ROOT:\音频\语音+音效\sparlo2a.wav:1.2, ROOT:\音频\语音+音效\sparlo2b.wav:1.2, ROOT:\音频\语音+音效\sparlo2c.wav:1.2


[graphics]
isVisible: if self.timeAlive(laterThanSeconds=2)
image:        苏联运输机.png

total_frames: 2
#scaleImagesTo: 140
frame_width: 150
frame_height: 150
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 4
#image_wreak:  死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX:0
shadowOffsetY:0
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 3.8
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.008
#0.01
maxTurnSpeed: 1.0
turnAcceleration: 0.5
targetHeight: 100
targetHeightDrift: 0
moveIgnoringBody: false
moveSlidingMode: true
moveSlidingDir: 30
#slowDeathFall: true


[turret_2]
x: 0
y: 0

canShoot: false
projectile: 2


[projectile_2]
areaDamage: 150
life: 120

areaRadius: 100
frame: 10
speed: 2
targetSpeed: 4
image: 化学桶.png
drawSize: 0.9
targetGround: true
#targetGroundSpread: 20
friendlyFire: true
spawnUnit: 辐射
explodeEffect: CUSTOM:爆炸
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.4
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.2


[hiddenAction_炸弹]
playSoundAtUnit: ROOT:\音频\语音+音效\sparadra.wav:2
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0, withinRange=120) and not self.ammo(empty=true)
addResources: ammo=-1
fireTurretXAtGround: 2
fireTurretXAtGround_withOffset: 0,-100


[hiddenAction_3]
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0) and not self.hasActiveWaypoint(type='follow') and not self.ammo(empty=true)
addWaypoint_type: follow
addWaypoint_prepend: true
#addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 空投点


[hiddenAction_4]
autoTrigger: if self.ammo(empty=true) and self.hasActiveWaypoint(type='follow')
clearAllWaypoints: true
addWaypoint_type: follow
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 国旗-苏联
addWaypoint_triggerActionIfFailed: 5
#alsoQueueAction: 4


[hiddenAction_5]
autoTrigger: if numberOfUnitsInTeam(withTag='国旗-苏联', greaterThan=0, withinRange=60) and self.ammo(empty=true)
buildSpeed: 5s
deleteSelf: true


[hiddenAction_6]
autoTriggerOnEvent: created
addResources:  ammo=4


[hiddenAction_重置方向]
autoTriggerOnEvent: created
setBodyRotation: 45


[effect_爆炸]
alsoPlaySound: ROOT:\音频\语音+音效\sdesolatorairstrikea.wav:2, ROOT:\音频\语音+音效\sdesolatorairstrikeb.wav:2
image: ROOT:\共享文件\1类\爆炸23.png
scaleFrom: 1.2
scaleTo: 1.2
total_frames: 24
animateFrameStart: 0
animateFrameEnd: 23
animateFrameSpeed: 0.35
yOffsetRelative: 0
delayedStartTimer: 0
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
alwayStartDirAtZero: true
attachedToUnit: false



================================================================================
// FILE_PATH: ./共享文件/2类/死雨飞弹.ini
================================================================================


[core]
name: 死雨飞弹
price:0
maxHp: 100
mass: 1200
radius: 0

tags: 毒死人
showOnMinimapToEnemies: false 
displayText: Death Rain Missile
displayText_zh: 死雨飞弹
displayDescription: Launched 10 Dead Rain Missiles in the selected area to kill biological units in a large area. \n Also deals considerable damage to armored units.\nThe poison gas left by the warhead explosion will continue to damage biological units.
displayDescription_zh: 在选定区域内发射10枚死雨飞弹，大面积杀伤生物单位。\n对装甲单位也有可观的伤害。\n弹头爆炸留下的毒气将持续对生物单位照成伤害。
isBuilding: true
isUnselectable: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0


[graphics]
image: ROOT:\共享文件\1类\隐藏.png

#imageScale:	0.56
total_frames: 1
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
isVisibleToEnemies: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 10
turretTurnSpeed: 3
maxAttackRange: 200
shootDelay: 600


[turret_1]
#
x: -4096
y: 3072

#canShoot: false
warmup: 18

projectile: 1
turnSpeedAcceleration: 1.0
canShoot: true
recoilOffset: -2


[projectile_1]
areaDamage: 300

life: 999
areaRadius: 100
speed: 20
largeHitEffect: true
targetGround: true
targetGroundSpread: 200
image: 死雨飞弹.png
drawSize: 1.0
deflectionPower:-1
#areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
friendlyFire: true
alwaysVisibleInFog: true
#shouldRevealFog:true
trailEffect: CUSTOM:尾烟*1
trailEffectRate: 2
spawnUnit: 毒气, 毒素云*4
explodeEffect: CUSTOM:爆炸, CUSTOM:映射, CUSTOM:土坑
mutator1_ifUnitWithTags: 1级
mutator1_areaDamageMultiplier: 0.8
mutator2_ifUnitWithTags: 2级
mutator2_areaDamageMultiplier: 0.6
mutator3_ifUnitWithTags: 3级
mutator3_areaDamageMultiplier: 0.4
mutator6_ifUnitWithTags: 特殊免伤
mutator6_areaDamageMultiplier: 0
mutator14_ifUnitWithTags: 步兵轻甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵中甲
mutator15_areaDamageMultiplier: 1.00
mutator16_ifUnitWithTags: 步兵重甲
mutator16_areaDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具轻甲
mutator17_areaDamageMultiplier: 1.00
mutator18_ifUnitWithTags: 载具中甲
mutator18_areaDamageMultiplier: 0.80
mutator19_ifUnitWithTags: 载具重甲
mutator19_areaDamageMultiplier: 0.60
mutator20_ifUnitWithTags: 建筑轻甲
mutator20_areaDamageMultiplier: 0.60
mutator21_ifUnitWithTags: 建筑防甲
mutator21_areaDamageMultiplier: 0.40
mutator22_ifUnitWithTags: 建筑重甲
mutator22_areaDamageMultiplier: 0.60


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸30.png
alsoPlaySound: ROOT:\音频\语音+音效\gexpdeathraina.wav:2, ROOT:\音频\语音+音效\gexpdeathrainb.wav:2, ROOT:\音频\语音+音效\gexpdeathrainc.wav:2
scaleFrom: 1.15
scaleTo: 1.15
total_frames: 16
animateFrameStart: 0
animateFrameEnd: 15
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 0.0
scaleTo: 1.2
alpha: 0.7
life: 30
hOffset: -10
fadeOut: true
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_尾烟]
image: ROOT:\共享文件\1类\尾烟2.png
life: 60
scaleFrom: 0.6
scaleTo: 0.4
attachedToUnit: false
drawUnderUnits: false
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFramePingPong: false
animateFrameSpeed: 0.25
alwayStartDirAtZero: true
atmospheric: true


[effect_土坑]
image: ROOT:\共享文件\1类\土坑12.png
createWhenOverLiquid: false
createWhenOverLand: true
life: 1800
scaleFrom: 1.02
scaleTo: 1.02
alpha: 1.0
xOffsetRelative: 0
yOffsetRelative: -15
spawnChance: 0.3
ifSpawnFailsEmitEffects: CUSTOM:土坑2
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_土坑2]
@copyFromSection: effect_土坑
image: ROOT:\共享文件\1类\土坑10.png
xOffsetRelativeRandom:  30
yOffsetRelativeRandom:  30
spawnChance: 1
ifSpawnFailsEmitEffects: NONE


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=2)
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,0
playSoundAtUnit: ROOT:\音频\语音+音效\bhammfaa.wav:2, ROOT:\音频\语音+音效\bhammfab.wav:2, ROOT:\音频\语音+音效\bhammfac.wav:2


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=12)
deleteSelf: true



================================================================================
// FILE_PATH: ./共享文件/2类/空气墙.ini
================================================================================


[core]
name: 空气墙
price: 0
maxHp: 1000
mass: 1000
radius: 10

#tags: 揭开迷雾
displayText: Air wall
displayText_zh: 空气墙
displayDescription: Can block building placement and terrestrial unit
displayDescription_zh: 可以阻挡建筑放置和陆地单位通过
isBuilding: true
canNotBeDirectlyAttacked:true
fogOfWarSightRange: 0
#disableAllUnitCollisions: true
isUnselectable: true
showOnMinimap: false


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTrigger: if self.ammo(greaterThan=0)
addResources: ammo=-1


[hiddenAction_2]
autoTrigger: if self.ammo(equalTo=1) and self.hasFlag(id=0)
deleteSelf: true
#showMessageToAllPlayers: 删除

================================================================================
// FILE_PATH: ./共享文件/2类/降落伞2.ini
================================================================================


[core]
name: 降落伞2
copyFrom: 降落伞.ini
displayText: Parachuting: Soviet Conscript
displayText_zh: 跳伞-动员兵


[graphics]
image:        降落伞2.png


[arm_1]
image_end: 降-动员兵.png


[hiddenAction_2]
convertTo:  动员兵


[hiddenAction_初始价值]
addResources: 价值=6

================================================================================
// FILE_PATH: ./共享文件/2类/苏联运输机坠毁.ini
================================================================================


[core]
name: 苏联运输机坠毁
price: 0
maxHp: 1000
mass: 20000
radius: 25

copyFrom: ROOT:\共享文件\3类\机毁飞溅.xxhq
#isUnselectable: true
disableAllUnitCollisions: true
autoTriggerCooldownTime: 0.2s
showInEditor: false


[graphics]
image:        苏联运输机.png

total_frames: 2
#scaleImagesTo: 140
frame_width: 150
frame_height: 150
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 4
#image_wreak:  死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX:0
shadowOffsetY:0
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffect: CUSTOM:2尾焰3, CUSTOM:2尾焰2, CUSTOM:2尾焰, CUSTOM:尾焰3, CUSTOM:尾焰2, CUSTOM:尾焰
movementEffectRate: 1.5


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 5
moveAccelerationSpeed: 5
moveDecelerationSpeed: 0
maxTurnSpeed: 3
turnAcceleration:1
targetHeight: 0
targetHeightDrift: 0
startingHeightOffset: 200
moveIgnoringBody: false
moveSlidingMode: true
moveSlidingDir: 30
#slowDeathFall: true
#landOnGround: true
heightChangeRate: 2


[projectile_机毁肢]
targetSpeedAcceleration: 0.02
initialUnguidedSpeedHeight: 0.4
trailEffectRate: 3


[projectile_机毁肢3]
@copyFromSection: projectile_机毁肢
areaDamage: 100
life: 600

effectOnCreate: CUSTOM:机毁肢3


#[hiddenAction_机毁肢]
#autoTrigger: if not self.isFlying()


[hiddenAction_机毁肢3]
autoTriggerOnEvent: destroyed
fireTurretXAtGround: 机毁肢
fireTurretXAtGround_withProjectile: 机毁肢3
fireTurretXAtGround_withOffset:0,0


[hiddenAction_1]
autoTriggerOnEvent: created
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_relativeOffsetFromSelf: 0, 1000


[effect_炸毁]
image: ROOT:\共享文件\1类\炸毁3.png
scaleFrom: 2.5
scaleTo: 2.5
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.2
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_机毁肢]
image: 空碎.png
scaleFrom: 0.8
scaleTo: 0.8
life: 90


[effect_机毁肢2]
image: 空碎2.png


[effect_机毁肢3]
@copyFromSection: effect_机毁肢
image: 空碎3.png


[effect_尾焰]
scaleFrom: 0.6
scaleTo: 2.16
xOffsetRelative: -20
xSpeedAbsoluteRandom:0.1
ySpeedAbsoluteRandom:0.2


[effect_尾焰2]
scaleFrom: 0.6
scaleTo: 3.6
xOffsetRelative: -20
xSpeedAbsoluteRandom:0.15
ySpeedAbsoluteRandom:0.4


[effect_尾焰3]
scaleFrom: 0.12
xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.6


[effect_2尾焰]
@copyFromSection: effect_尾焰
xOffsetRelative: 20


[effect_2尾焰2]
@copyFromSection: effect_尾焰2
xOffsetRelative: 20


[effect_2尾焰3]
@copyFromSection: effect_尾焰3
xOffsetRelative: 20

================================================================================
// FILE_PATH: ./共享文件/2类/降落伞3.ini
================================================================================


[core]
name: 降落伞3
copyFrom: 降落伞.ini
displayText: Parachuting: Guardian G.I.
displayText_zh: 跳伞-重装大兵
maxHp: 150


[graphics]
image:        降落伞3.png


[arm_1]
image_end: 降-重装大兵.png


[hiddenAction_2]
convertTo:  重装大兵


[hiddenAction_初始价值]
addResources: 价值=15

================================================================================
// FILE_PATH: ./共享文件/2类/引火.ini
================================================================================


[core]
name: 引火
price: 0
maxHp: 1000
mass: 1000
radius: 10

tags: 引火
createNeutral: true
stayNeutral: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
isUnselectable: true
showInEditor: false


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND


[hiddenAction_1] 
autoTrigger: if self.timeAlive(laterThanSeconds=1)
deleteSelf: true
#showMessageToAllPlayers: 删除

================================================================================
// FILE_PATH: ./共享文件/2类/毒素云.ini
================================================================================

[core]
name: 毒素云
price: 0
maxHp: 100
mass: 200
radius: 1


tags: 中毒, 毒素云, 毒死人
displayText: Poison cloud
displayText_zh: 毒素云
displayDescription: Creatures that continue to damage and are killed by the poison cloud will generate a poison cloud
displayDescription_zh: 持续伤害且被毒素云杀死的生物会生成毒素云
createOnAggressiveTeam: true
explodeOnDeath: false
canNotBeDirectlyAttacked: true
disableAllUnitCollisions: true
isUnselectable: true
#isBuilding: true


[graphics]
image:        ROOT:\共享文件\1类\毒素云.png

image_offsetY:0
imageScale:	1.25
total_frames: 20
image_wreak: NONE
animation_moving_start: 0
animation_moving_end: 19
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 19
animation_idle_speed: 6
#animation_attack_start: 0
#animation_attack_end: 11
#animation_attack_speed: 6
rotate_with_direction: false
disableLowHpFire: true
disableLowHpSmoke: true
teamColoringMode: disabled


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 0.4
moveAccelerationSpeed: 0.4
moveDecelerationSpeed: 0.8
reverseSpeedPercentage: 0.5
maxTurnSpeed: 2
turnAcceleration: 1
targetHeight: 0
targetHeightDrift: 0


[turret_1]
x: 0
y: 0


[projectile_1]
areaDamage: 10
life: 60

areaRadius: 30
areaDamageNoFalloff: true
explodeOnEndOfLife: true
invisible: true
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog: true
#explodeEffect: CUSTOM:着火
explodeEffect: NONE
friendlyFire: true
mutator0_ifUnitWithTags: 毒回血
mutator0_areaDamageMultiplier: -1.0
mutator1_ifUnitWithTags: 1级
mutator1_areaDamageMultiplier: 0.8
mutator2_ifUnitWithTags: 2级
mutator2_areaDamageMultiplier: 0.6
mutator3_ifUnitWithTags: 3级
mutator3_areaDamageMultiplier: 0.4
mutator6_ifUnitWithTags: 特殊免伤, 免毒
mutator6_areaDamageMultiplier: 0
mutator14_ifUnitWithTags: 步兵轻甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵中甲
mutator15_areaDamageMultiplier: 1.00
mutator16_ifUnitWithTags: 步兵重甲
mutator16_areaDamageMultiplier: 1.00
mutator17_ifUnitWithTags: 载具轻甲
mutator17_areaDamageMultiplier: 0.20
mutator18_ifUnitWithTags: 载具中甲
mutator18_areaDamageMultiplier: 0.10
mutator19_ifUnitWithTags: 载具重甲
mutator19_areaDamageMultiplier: 0.10
mutator20_ifUnitWithTags: 建筑轻甲
mutator20_areaDamageMultiplier: 0.10
mutator21_ifUnitWithTags: 建筑防甲
mutator21_areaDamageMultiplier: 0.10
mutator22_ifUnitWithTags: 建筑重甲
mutator22_areaDamageMultiplier: 0.10


[effect_着火]
image: ROOT:\共享文件\1类\火3.png
scaleFrom:0.8
scaleTo: 0.8
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.25
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[hiddenAction_1]
autoTrigger: true
fireTurretXAtGround: 1
#spawnUnits: 中毒(offsetX=35), 中毒(offsetX=-35), 中毒(offsetY=35), 中毒(offsetY=-35)
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 150,100
addWaypoint_maxTime: 2s


[hiddenAction_2] 
autoTrigger: if self.timeAlive(laterThanSeconds=10)
deleteSelf: true



================================================================================
// FILE_PATH: ./共享文件/2类/变成友军.ini
================================================================================


[core]
name: 变成友军
copyFrom: 变成中立.ini
#tags: 
createNeutral: false
stayNeutral: false
displayText: Switch To Same Team
displayText_zh: 变成同类
displayDescription: Units switches to Same team within range.\nNote that it may be invalid for some units.
displayDescription_zh: 将范围内的单位变成同阵营单位\n注意可能对某些单位无效


[turret_1]
x:0
y:0


[projectile_1]
areaDamage: -1
life: 0

areaRadius: 100
explodeOnEndOfLife: true
areaHitUnderwaterAlways: true
areaHitAirAndLandAtSameTime: true
areaDamageNoFalloff: true
convertHitToSourceTeam: true
friendlyFire: true
explodeEffect: NONE


[hiddenAction_1]
fireTurretXAtGround: 1
#fireTurretXAtGround_withProjectile: 1
fireTurretXAtGround_withOffset: 0,0

================================================================================
// FILE_PATH: ./共享文件/2类/C4炸弹.ini
================================================================================

[core]
name: C4炸弹
price: 0
maxHp: 100
mass: 100
radius: 10

tags: 定时炸弹
displayText: C4 charges
displayText_zh: C4炸弹
fogOfWarSightRange: 0
disableAllUnitCollisions: true
isBuilding: true
hideScorchMark: true
showInEditor: false
isUnselectable: true
explodeOnDeath: false
#fireTurretXAtSelfOnDeath: 1
canOnlyBeAttackedByUnitsWithTags: 海豹突击队, 疯狂伊文


[graphics]
image: ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits:false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING

#targetHeight: 4
#targetHeightDrift:0


[turret_1]
x:0
y:0


[projectile_1]
areaDamage: 3000
life: 0

areaRadius: 60
targetGround: true
explodeOnEndOfLife: true
areaHitUnderwaterAlways: true
#friendlyFire: true
#largeHitEffect: true
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 1.0
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.0
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.0
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0
explodeEffect: CUSTOM:映射, CUSTOM:爆炸


[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=2.1) or not numberOfUnitsInEnemyTeam(withinRange=20, greaterThan=0)
fireTurretXAtGround: 1
deleteSelf: true


[hiddenAction_1级]
autoTrigger: if self.hasFlag(id=1)
setUnitStats: shootDamageMultiplier=1.2
addResources: unsetFlag=1


[hiddenAction_2级]
autoTrigger: if self.hasFlag(id=2)
setUnitStats: shootDamageMultiplier=1.4
addResources: unsetFlag=2


[hiddenAction_3级]
autoTrigger: if self.hasFlag(id=3)
setUnitStats: shootDamageMultiplier=1.6
addResources: unsetFlag=3


[hiddenAction_炸弹显示]
autoTriggerOnEvent: created
playSoundAtUnit: ROOT:\音频\语音+音效\iseawe2a.wav:2
spawnEffects: CUSTOM:C4炸弹


[hiddenAction_升级1]
requireConditional: if customTarget1!=nullUnit and customTarget1.tags(includes='海豹突击队')
autoTriggerOnEvent: killedAnyUnit
takeResources: 经验值=-20
takeResources_includeUnitsWithinRange: 9999
takeResources_includeReference: customTarget1
takeResources_discardCollected: true


[hiddenAction_升级2]
requireConditional: if customTarget1!=nullUnit and customTarget1.tags(includes='谭雅')
@copyFromSection: hiddenAction_升级1
takeResources: 经验值=-50


[effect_C4炸弹]
image: C4炸弹.png
scaleFrom: 1
scaleTo: 1
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 12
animateFrameSpeed: 0.1
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false


[effect_爆炸]
alsoPlaySound: ROOT:\音频\语音+音效\gexpifva.wav:2, ROOT:\音频\语音+音效\gexpifvb.wav:2, ROOT:\音频\语音+音效\gexpifvc.wav:2
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.05
scaleTo: 1.05
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:1.2
scaleTo: 1
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[resource_经验值]
displayName: experience
displayName_zh: 经验值

================================================================================
// FILE_PATH: ./共享文件/2类/苏联运输机2.ini
================================================================================

[core]
name: 苏联运输机2
price: 3000
maxHp: 1600
mass: 20000
radius: 25

tags: 原始护甲, 空投飞机, 飞机重甲, 空投飞机4
displayText: Soviet Airdrop Plane: Mobile Force Airborne
displayText_zh: 苏联运输机(机动部队空降)
displayDescription: You need to select a camp and an airdrop point to drop infantry.\nWait for the airdrop plane to fly to the airdrop point and drop the infantry
displayDescription_zh: 需要选择阵营和有空投点才能空投\n等待空投飞机飞到空投点空投
buildSpeed: 0.01
softCollisionOnAll: 20
canNotBeGivenOrdersByPlayer: true
autoTriggerCooldownTime: 0.3s
unitsSpawnedOnDeath: 苏联运输机坠毁
fogOfWarSightRange: 6


[hiddenAction_移动音效]
autoTrigger: if self.isMoving()
playSoundAtUnit: ROOT:\音频\语音+音效\sparlo2a.wav:1.2, ROOT:\音频\语音+音效\sparlo2b.wav:1.2, ROOT:\音频\语音+音效\sparlo2c.wav:1.2


[graphics]
isVisible: if self.timeAlive(laterThanSeconds=2)
image:        苏联运输机.png

total_frames: 2
#scaleImagesTo: 140
frame_width: 150
frame_height: 150
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 4
#image_wreak:  死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX:0
shadowOffsetY:0
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 3.8
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.008
#0.01
maxTurnSpeed: 1.0
turnAcceleration: 0.5
targetHeight: 200
targetHeightDrift: 0
moveIgnoringBody: false
moveSlidingMode: true
moveSlidingDir: 30
#slowDeathFall: true


[action_1]
text: airdrop
text_zh: 空降小队
description:  Airdrop Sweeper Tank
description_zh: 空降
displayType: action
buildSpeed: 0s
playSoundAtUnit: ROOT:\音频\语音+音效\sparadra.wav:2
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0, withinRange=100) and not self.ammo(empty=true)
spawnUnits: 降落伞9(alwayStartDirAtZero=true, offsetRandomX=80, offsetRandomY=80)
addResources: ammo=-1


[hiddenAction_3]
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0) and not self.hasActiveWaypoint(type='follow') and not self.ammo(empty=true)
addWaypoint_type: follow
addWaypoint_prepend: true
#addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 空投点


[hiddenAction_4]
autoTrigger: if self.ammo(empty=true) and self.hasActiveWaypoint(type='follow')
clearAllWaypoints: true
addWaypoint_type: follow
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 国旗-苏联
addWaypoint_triggerActionIfFailed: 5
#alsoQueueAction: 4


[hiddenAction_5]
autoTrigger: if numberOfUnitsInTeam(withTag='国旗-苏联', greaterThan=0, withinRange=60) and self.ammo(empty=true)
buildSpeed: 5s
deleteSelf: true


[hiddenAction_6]
autoTriggerOnEvent: created
addResources:  ammo=2


[hiddenAction_重置方向]
autoTriggerOnEvent: created
setBodyRotation: 45



================================================================================
// FILE_PATH: ./共享文件/2类/人突变.ini
================================================================================

[core]
name: 人突变
price: 0
maxHp: 9999
mass: 100
radius: 10

tags: 人突变
fogOfWarSightRange: 0
armour: 9999
disableAllUnitCollisions: true
isBuilding: true
hideScorchMark: true
showInEditor: false
isUnselectable: true
explodeOnDeath: false
#fireTurretXAtSelfOnDeath: 1
canOnlyBeAttackedByUnitsWithTags: 突变中介


[graphics]
image: 人突变.png

imageScale: 1.0
total_frames: 30
animation_idle_start: 0
animation_idle_end: 29
animation_idle_speed: 4
rotate_with_direction: false


[attack]
canAttack: false
canAttackFlyingUnits:false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=2)
spawnUnits: 狂兽人
deleteSelf: true



================================================================================
// FILE_PATH: ./共享文件/2类/恢复.ini
================================================================================


[core]
name: 恢复
price: 0
maxHp: 1000
mass: 3000
radius: 10

tags: 恢复
canOnlyBeAttackedByUnitsWithTags: 心灵专家
maxShield: 1
shieldRegen: -0.05
shieldDisplayOnlyDeflection: true
shieldDeflectionDisplayRate: 8
selfRegenRate: 16
showInEditor: false
isUnselectable: true
fogOfWarSightRange: 0
#startShieldAtZero: true
#armour: 100
#armourMinDamageToKeep:0


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretTurnSpeed: 10
maxAttackRange: 1
shootDelay: 30


[movement]
movementType: LAND


[turret_1]
x: 0
y: 0

#resourceUsage: setFlag=0
canOnlyAttackUnitsWithTags: 心控
canAttackLandUnits: if self.shield(empty=true)


[projectile_1]
directDamage: 0
life: 60

explodeEffect: NONE
instant: true
convertHitToSourceTeam: true


[hiddenAction_测试]
autoTrigger: if self.hasTakenDamage(withinSeconds=1)
addResources: shield=1


[hiddenAction_测试2]
autoTrigger: if not numberOfUnitsInEnemyTeam(withTag='心灵专家', greaterThan=0, withinRange=350) and self.shield(empty=true)
#(self.hasFlag(id=0) and not numberOfUnitsInEnemyTeam(withTag='心灵专家', greaterThan=1, withinRange=350)) or (not numberOfUnitsInEnemyTeam(withTag='心灵专家', greaterThan=0, withinRange=350) and self.shield(empty=true))
deleteSelf: true
#showMessageToAllPlayers: 删除

================================================================================
// FILE_PATH: ./共享文件/2类/空投飞机2坠毁.ini
================================================================================


[core]
name: 空投飞机2坠毁
price: 0
maxHp: 1000
mass: 20000
radius: 25

copyFrom: ROOT:\共享文件\3类\机毁飞溅.xxhq
#isUnselectable: true
disableAllUnitCollisions: true
autoTriggerCooldownTime: 0.2s
showInEditor: false


[graphics]
image:        空投飞机2.png

total_frames: 1
frame_width: 140
frame_height: 140
image_wreak:  ROOT:\共享文件\1类\死亡.png
image_shadow: AUTO_ANIMATED
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 4
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX:0
shadowOffsetY:0
#-20
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffect: CUSTOM:2尾焰3, CUSTOM:2尾焰2, CUSTOM:2尾焰, CUSTOM:尾焰3, CUSTOM:尾焰2, CUSTOM:尾焰
movementEffectRate: 1.5


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 5
moveAccelerationSpeed: 5
moveDecelerationSpeed: 0
maxTurnSpeed: 3
turnAcceleration:1
targetHeight: 0
targetHeightDrift: 0
startingHeightOffset: 200
moveIgnoringBody: false
moveSlidingMode: true
moveSlidingDir: 30
#slowDeathFall: true
#landOnGround: true
heightChangeRate: 2


[projectile_机毁肢]
targetSpeedAcceleration: 0.02
initialUnguidedSpeedHeight: 0.4
trailEffectRate: 3


[projectile_机毁肢3]
@copyFromSection: projectile_机毁肢
areaDamage: 0
life: 600

effectOnCreate: CUSTOM:机毁肢3


#[hiddenAction_机毁肢]
#autoTrigger: if not self.isFlying()


[hiddenAction_机毁肢3]
autoTriggerOnEvent: destroyed
fireTurretXAtGround: 机毁肢
fireTurretXAtGround_withProjectile: 机毁肢3
fireTurretXAtGround_withOffset:0,0


[hiddenAction_1]
autoTriggerOnEvent: created
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_relativeOffsetFromSelf: 0, 1000


[effect_炸毁]
image: ROOT:\共享文件\1类\炸毁3.png
scaleFrom: 2.5
scaleTo: 2.5
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.2
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_机毁肢]
image: 空碎.png
scaleFrom: 0.8
scaleTo: 0.8
life: 90


[effect_机毁肢2]
image: 空碎2.png


[effect_机毁肢3]
@copyFromSection: effect_机毁肢
image: 空碎3.png


[effect_尾焰]
scaleFrom: 0.6
scaleTo: 2.16
xOffsetRelative: -20
xSpeedAbsoluteRandom:0.1
ySpeedAbsoluteRandom:0.2


[effect_尾焰2]
scaleFrom: 0.6
scaleTo: 3.6
xOffsetRelative: -20
xSpeedAbsoluteRandom:0.15
ySpeedAbsoluteRandom:0.4


[effect_尾焰3]
scaleFrom: 0.12
xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.6


[effect_2尾焰]
@copyFromSection: effect_尾焰
xOffsetRelative: 20


[effect_2尾焰2]
@copyFromSection: effect_尾焰2
xOffsetRelative: 20


[effect_2尾焰3]
@copyFromSection: effect_尾焰3
xOffsetRelative: 20

================================================================================
// FILE_PATH: ./共享文件/2类/箱子效果-火力.ini
================================================================================


[core]
name: 箱子效果-火力
price: 0
maxHp: 1000
mass: 3000
radius: 10

tags: 箱子效果-火力
isBuilding: true
canNotBeDirectlyAttacked:true
fogOfWarSightRange:0
disableAllUnitCollisions: true
displayText: Box effect - Firepower Increased
displayText_zh: 箱子效果-火力提升
displayDescription: Increase the firepower increased of the units within its use range by 25%.
displayDescription_zh: 使其使用范围内单位的火力提升25%。
buildSpeed: 0
selfBuildRate: 0s
#isUnselectable: true
#showInEditor:false
#armour: 10000
#armourMinDamageToKeep:0


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 100


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTriggerOnEvent: created
playSoundGlobally: ROOT:\音频\语音+音效\gcrafire.wav:2
spawnEffects: CUSTOM:箱子效果


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=2)
deleteSelf: true


[effect_箱子效果]
image: 箱子效果-火力.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 22
animateFrameStart: 0
animateFrameEnd: 21
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true



================================================================================
// FILE_PATH: ./共享文件/2类/力场护盾.ini
================================================================================

[core]
name: 力场护盾
price:0
maxHp: 100
mass: 1200
radius: 0

tags: 力场护盾
showOnMinimap: false
displayText: Force Field Shield
displayText_zh: 力场护盾
displayDescription: Temporarily occupy 200 power to protect our buildings or friendly buildings from harm.\nLasts 15 seconds.\nUnlock required: Power greater than 200
displayDescription_zh: 临时占用200电力用于保护我方建筑或者友军建筑不受伤害\n效果持续15秒\n需要: 电力大于200
borrowResourcesWhileAlive: 电力=200
isBuilding: true
#isUnselectable: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0


[graphics]
image:      ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

maxAttackRange: 200
showRangeUIGuide: true


[movement]
movementType:BUILDING


[hiddenAction_1]
autoTriggerOnEvent: created
playSoundAtUnit: ROOT:\音频\语音+音效\sforceon.wav:2
spawnEffects: CUSTOM:力场盾


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=15)
deleteSelf: true
playSoundAtUnit: ROOT:\音频\语音+音效\sforceof.wav:2


[effect_力场盾]
image: 力场护盾.png
life: 600
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true
scaleFrom: 1.5
scaleTo: 1.5
total_frames: 32
animateFrameStart: 0
animateFrameEnd: 31
animateFramePingPong: true
animateFrameSpeed: 0.25



================================================================================
// FILE_PATH: ./共享文件/2类/心灵探测.ini
================================================================================


[core]
name: 心灵探测
price:0
maxHp: 100
mass: 1200
radius:10

tags: 反潜, 空军, 反伪装
showOnMinimap: false
displayText: Psychic Detection
displayText_zh: 心灵探测
displayDescription: Uncover a certain range of black fog.
displayDescription_zh: 揭开范围黑雾\n发现隐藏单位(海军/空军/陆军)
isBuilding: true
isUnselectable: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 15


[graphics]
image: ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTriggerOnEvent: created
playSoundGlobally: ROOT:\音频\语音+音效\spsyreve.wav:2


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=5)
deleteSelf: true


================================================================================
// FILE_PATH: ./共享文件/2类/突变中介3.ini
================================================================================


[core]
name: 突变中介3
price: 0
maxHp: 1000
mass: 1000
radius: 10

tags: 突变中介
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
isUnselectable: true
showInEditor: false


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 99
maxAttackRange: 200
shootDelay: 1


[movement]
movementType: LAND


[turret_1]
x: 0
y: 0

canOnlyAttackUnitsWithTags: 人突变
projectile: 1


[projectile_1]
directDamage: 1
life: 60

instant: true
convertHitToSourceTeam: true
explodeEffect: NONE
mutator7_ifUnitWithoutTags: 无
mutator7_directDamageMultiplier: 0


[hiddenAction_1] 
autoTrigger: if self.timeAlive(laterThanSeconds=4)
deleteSelf: true
#showMessageToAllPlayers: 删除


[hiddenAction_自动攻击]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='人突变', greaterThan=0, withinRange=200)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 人突变
addWaypoint_target_nearestUnit_maxRange: 200
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy

================================================================================
// FILE_PATH: ./共享文件/2类/苏联运输机.ini
================================================================================

[core]
name: 苏联运输机
price: 3000
maxHp: 1600
mass: 20000
radius: 25

tags: 原始护甲, 空投飞机, 飞机重甲, 空投飞机4
displayText: Soviet Airdrop Plane: Airborne Team 
displayText_zh: 苏联运输机(苏俄空降兵)
displayDescription: You need to select a camp and an airdrop point to drop infantry.\nWait for the airdrop plane to fly to the airdrop point and drop the infantry
displayDescription_zh: 需要选择阵营和有空投点才能空投\n等待空投飞机飞到空投点空投
buildSpeed: 0.01
softCollisionOnAll: 20
canNotBeGivenOrdersByPlayer: true
autoTriggerCooldownTime: 0.3s
unitsSpawnedOnDeath: 苏联运输机坠毁
fogOfWarSightRange: 6


[hiddenAction_移动音效]
autoTrigger: if self.isMoving()
playSoundAtUnit: ROOT:\音频\语音+音效\sparlo2a.wav:1.2, ROOT:\音频\语音+音效\sparlo2b.wav:1.2, ROOT:\音频\语音+音效\sparlo2c.wav:1.2


[graphics]
image:        苏联运输机.png

total_frames: 2
#scaleImagesTo: 140
frame_width: 150
frame_height: 150
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 4
#image_wreak:  死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX:0
shadowOffsetY:0
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 3.8
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.008
#0.01
maxTurnSpeed: 1.0
turnAcceleration: 0.5
targetHeight: 200
targetHeightDrift: 0
moveIgnoringBody: false
moveSlidingMode: true
moveSlidingDir: 30
#slowDeathFall: true


[action_1]
text: airdrop
text_zh: 空降小队
description:  Airdrop VDV
description_zh: 空降
displayType: action
buildSpeed: 0s
playSoundAtUnit: ROOT:\音频\语音+音效\sparadra.wav:2
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0, withinRange=100) and not self.ammo(empty=true)
spawnUnits: 降落伞2(alwayStartDirAtZero=true, offsetRandomX=80, offsetRandomY=80), 降落伞4(alwayStartDirAtZero=true, offsetRandomX=80, offsetRandomY=80)
addResources: ammo=-1


[hiddenAction_3]
autoTrigger: if numberOfUnitsInTeam(withTag='空投点', greaterThan=0) and not self.hasActiveWaypoint(type='follow') and not self.ammo(empty=true)
addWaypoint_type: follow
addWaypoint_prepend: true
#addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: 空投点


[hiddenAction_4]
autoTrigger: if self.ammo(empty=true) and self.hasActiveWaypoint(type='follow')
clearAllWaypoints: true
addWaypoint_type: follow
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 国旗-苏联
addWaypoint_triggerActionIfFailed: 5
#alsoQueueAction: 4


[hiddenAction_5]
autoTrigger: if numberOfUnitsInTeam(withTag='国旗-苏联', greaterThan=0, withinRange=60) and self.ammo(empty=true)
buildSpeed: 5s
deleteSelf: true


[hiddenAction_6]
autoTriggerOnEvent: created
addResources:  ammo=5


[hiddenAction_重置方向]
autoTriggerOnEvent: created
setBodyRotation: 45



================================================================================
// FILE_PATH: ./共享文件/2类/突变中介2.ini
================================================================================


[core]
name: 突变中介2
price: 0
maxHp: 1000
mass: 1000
radius: 10

tags: 突变中介
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
isUnselectable: true
showInEditor: false


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 99
maxAttackRange: 80
shootDelay: 1


[movement]
movementType: LAND


[turret_1]
x: 0
y: 0

canOnlyAttackUnitsWithTags: 人突变
projectile: 1


[projectile_1]
directDamage: 1
life: 60

instant: true
convertHitToSourceTeam: true
explodeEffect: NONE
mutator7_ifUnitWithoutTags: 无
mutator7_directDamageMultiplier: 0


[hiddenAction_1] 
autoTrigger: if self.timeAlive(laterThanSeconds=2)
deleteSelf: true
#showMessageToAllPlayers: 删除


[hiddenAction_自动攻击]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='人突变', greaterThan=0, withinRange=80)
#clearActiveWaypoint: true
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 人突变
addWaypoint_target_nearestUnit_maxRange: 80
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_team: enemy

================================================================================
// FILE_PATH: ./共享文件/2类/游击改组.ini
================================================================================


[core]
name: 游击改组
price: 0
maxHp: 1000
mass: 3000
radius: 10

tags: 游击改组
isBuilding: true
canNotBeDirectlyAttacked:true
fogOfWarSightRange:0
disableAllUnitCollisions: true
displayText: Guerrilla Reorganization
displayText_zh: 游击改组
displayDescription: The Conscript within the range will be reorganized into Guerrillas.
displayDescription_zh: 将范围内的动员兵改组成游击队。
buildSpeed: 0
selfBuildRate: 0s
#isUnselectable: true
#showInEditor:false
#armour: 10000
#armourMinDamageToKeep:0


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 60


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTriggerOnEvent: created
playSoundGlobally: ROOT:\音频\语音+音效\sReorganization.wav:2
spawnEffects: CUSTOM:加速


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=1)
deleteSelf: true


[effect_加速]
image: ROOT:\共享文件\1类\心灵清除.png
scaleFrom: 0.7
scaleTo: 0.7
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true




================================================================================
// FILE_PATH: ./共享文件/2类/光散射.ini
================================================================================

[core]
name: 光散射
price:0
maxHp:99999
mass:0
radius:0

tags: 电死人
showInEditor:false
hideScorchMark:true
explodeOnDeath: false
explodeOnDeathGroundCollosion: false
#numBitsOnDeath:0
fogOfWarSightRange:0
#armour:99999
energyMax:3
energyRegen:0
dieOnZeroEnergy: true
canNotBeDirectlyAttacked:true
canNotBeDamaged: true
isUnrepairableUnit: true
disableAllUnitCollisions: true
isUnselectable:true
isBuilding: true
#footprint:1,1,-1,-1


[graphics]
image: ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack:true
canAttackFlyingUnits: false
canAttackLandUnits:  if not numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=10)
canAttackUnderwaterUnits: false

turretMultiTargeting:true
aimOffsetSpread: 0
turretSize: 0
turretTurnSpeed: 99
shootDelay:120


[movement]
movementType: NONE


[turret_1]
x:0
y:0

energyUsage:1
limitingMinRange:10
limitingRange: 20


[turret_2]
x:0
y:0

energyUsage:1
limitingMinRange:20
limitingRange:30


[turret_3]
x:0
y:0

energyUsage:1
limitingMinRange:30
limitingRange:40


[turret_4]
x:0
y:0

energyUsage:1
limitingMinRange:40
limitingRange:50


[turret_5]
x:0
y:0

energyUsage:1
limitingMinRange:50
limitingRange:60


[turret_6]
x:0
y:0

energyUsage:1
limitingMinRange:60
limitingRange:70


[turret_7]
x:0
y:0

energyUsage:1
limitingMinRange:70
limitingRange:80


[projectile_1]
areaDamage: 100
life: 10

areaRadius: 20
color: #7FFFFFFF
beamImage: ROOT:\共享文件\1类\激光源.png 
moveWithParent: true
instant: true
instantReuseLast: true
lightColor: #FFFAA5D8
lightSize:1.5
explodeEffect: CUSTOM:映射, CUSTOM:爆炸
#laserEffect: true
areaDamageNoFalloff: true
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.35
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.25
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.15
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 2.0
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.8
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.8
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.6


[projectile_2]
@copyFromSection: projectile_1
areaDamage: 100
life: 35

targetGroundSpread: 100


[hiddenAction_1]
autoTrigger: if not numberOfUnitsInEnemyTeam(withTag='建筑', greaterThan=0, withinRange=10)
fireTurretXAtGround:1
fireTurretXAtGround_withProjectile:2
fireTurretXAtGround_withOffset:0,0
addResources:energy=-1


[hiddenAction_2]
@copyFromSection: hiddenAction_1


[hiddenAction_3]
@copyFromSection: hiddenAction_1


[hiddenAction_删除]
autoTrigger:if self.timeAlive(laterThanSeconds=1)
deleteSelf:true


[hiddenAction_升级]
requireConditional: if customTarget1!=nullUnit
autoTriggerOnEvent: killedAnyUnit
takeResources: 经验值=-5
takeResources_includeUnitsWithinRange: 9999
takeResources_includeReference: customTarget1
takeResources_discardCollected: true


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
scaleFrom:0.4
scaleTo: 0.1
alpha: 1
fadeOut: true
attachedToUnit: true
drawUnderUnits: false
alwayStartDirAtZero: true
priority: low


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸31.png
#alsoPlaySound: ROOT:\音频\语音+音效\gexp14a.wav:2, ROOT:\音频\语音+音效\gexp14b.wav:2, ROOT:\音频\语音+音效\gexp14c.wav:2, ROOT:\音频\语音+音效\gexp14d.wav:2
scaleFrom: 0.6
scaleTo: 0.6
total_frames: 18
animateFrameStart: 0
animateFrameEnd: 17
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[resource_经验值]
displayName: experience
displayName_zh: 经验值

================================================================================
// FILE_PATH: ./共享文件/2类/入侵模块.ini
================================================================================


[core]
name: 入侵模块
price: 0
maxHp: 1000
mass: 1000
radius: 10

tags: 入侵模块
#createNeutral: true
#stayNeutral: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
isUnselectable: true
showInEditor: false


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND


[hiddenAction_1] 
autoTrigger: if self.timeAlive(laterThanSeconds=1)
deleteSelf: true
#showMessageToAllPlayers: 删除

================================================================================
// FILE_PATH: ./共享文件/2类/箱子效果-护甲.ini
================================================================================


[core]
name: 箱子效果-护甲
price: 0
maxHp: 1000
mass: 3000
radius: 10

tags: 箱子效果-护甲
isBuilding: true
canNotBeDirectlyAttacked:true
fogOfWarSightRange:0
disableAllUnitCollisions: true
displayText: Box effect - Armor Increased
displayText_zh: 箱子效果-护甲提升
displayDescription: Increase the armor increased of the units within its use range by 25%.
displayDescription_zh: 使其使用范围内单位的护甲提升25%。
buildSpeed: 0
selfBuildRate: 0s
#isUnselectable: true
#showInEditor:false
#armour: 10000
#armourMinDamageToKeep:0


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 100


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTriggerOnEvent: created
playSoundGlobally: ROOT:\音频\语音+音效\gcraarmo.wav:2
spawnEffects: CUSTOM:箱子效果


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=2)
deleteSelf: true


[effect_箱子效果]
image: 箱子效果-护甲.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 22
animateFrameStart: 0
animateFrameEnd: 21
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true



================================================================================
// FILE_PATH: ./共享文件/2类/空投点.ini
================================================================================


[core]
name: 空投点
price:0
maxHp: 100
mass: 1200
radius: 0

tags: 空投点
#showOnMinimap: false
showOnMinimapToEnemies: false 
displayText: Airdrop point
displayText_zh: 空投点
displayDescription: When there is an airdrop plane, it will fly here.
displayDescription_zh: 当有空投飞机时，它会飞来这里
isBuilding: true
isUnselectable: true
#showInEditor: false
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0
#footprint: 0,0,1,0
#constructionFootprint: 0,0,1,0


[graphics]
image: 空投点.png

#imageScale:	0.56
total_frames: 8
animation_idle_start: 0
animation_idle_end: 7
animation_idle_speed: 8
isVisibleToEnemies: false



[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[hiddenAction_1]
autoTrigger: if (numberOfUnitsInTeam(withTag='空投飞机', greaterThan=0, withinRange=20) or not numberOfUnitsInTeam(withTag='空投飞机', greaterThan=0)) and self.timeAlive(laterThanSeconds=1)
#self.timeAlive(laterThanSeconds=10) or  
alsoQueueAction: 2
#showMessageToAllPlayers: 触发


[hiddenAction_2]
buildSpeed: 10s
deleteSelf: true

================================================================================
// FILE_PATH: ./共享文件/2类/光散射4-兵.ini
================================================================================

[core]
name: 光散射4-兵
copyFrom: 光散射4.ini


[turret_1]
limitingRange: 70
limitingMinRange: 60


[turret_2]
limitingRange: 60
limitingMinRange: 50


[turret_3]
limitingRange: 50
limitingMinRange: 40


[turret_4]
limitingRange: 40
limitingMinRange: 30


[turret_5]
limitingRange: 30
limitingMinRange: 20


[turret_6]
limitingRange: 20
limitingMinRange: 10


[turret_7]
limitingRange: 10
limitingMinRange: 0


[projectile_1]
areaDamage: 45
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 0.7
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 0.55
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.45
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.3
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.15
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.15
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 1.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 1.15
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.8
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.5


[projectile_2]
areaDamage: 45
targetGroundSpread: 70


[projectile_红]
areaDamage: 45
#mutator4_areaDamageMultiplier: 2.2
#mutator5_areaDamageMultiplier: 10


[projectile_红2]
areaDamage: 45


[projectile_橙]
areaDamage: 45


[projectile_黄]
areaDamage: 45


[projectile_绿]
areaDamage: 45


[projectile_绿2]
areaDamage: 45


[projectile_青]
areaDamage: 45


[projectile_蓝]
areaDamage: 45


[projectile_蓝2]
areaDamage: 45


[projectile_紫]
areaDamage: 45

================================================================================
// FILE_PATH: ./共享文件/2类/变成敌对.ini
================================================================================


[core]
name: 变成敌对
copyFrom: 变成友军.ini

createOnAggressiveTeam: true
displayText: Switch To Aggressive Team
displayText_zh: 变成敌对
displayDescription: Units switches to aggressive team within range.\nNote that it may be invalid for some units.
displayDescription_zh: 将范围内的单位变成攻击任何阵营的敌对单位\n注意可能对某些单位无效

================================================================================
// FILE_PATH: ./共享文件/2类/降落伞8.ini
================================================================================


[core]
name: 降落伞8
copyFrom: 降落伞.ini
displayText: Parachuting: Initiate 
displayText_zh: 跳伞-尤里新兵


[graphics]
image:        降落伞8.png


[arm_1]
image_end: 降-尤里新兵.png


[hiddenAction_2]
convertTo:  尤里新兵

================================================================================
// FILE_PATH: ./共享文件/2类/降落伞9.ini
================================================================================


[core]
name: 降落伞9
copyFrom: 降落伞.ini
displayText: Parachuting: Otter IFV
displayText_zh: 空降-水濑
maxHp: 900


[graphics]
image:        降落伞9.png


[arm_1]
image_end: 降-水濑.png


[hiddenAction_2]
autoTrigger: if not self.isFlying()
#convertTo:  防卫大兵
deleteSelf: true
spawnUnits: 水濑, 降落伞落

================================================================================
// FILE_PATH: ./共享文件/2类/光散射4.ini
================================================================================

[core]
name: 光散射4
copyFrom: 光散射.ini


[attack]
shootDamageMultiplier: 1.8


[turret_1]
x:0
y:0

limitingRange: 100
limitingMinRange: 90
projectile: 红


[turret_2]
x:0
y:0

limitingRange: 90
limitingMinRange: 80
projectile: 橙


[turret_3]
x:0
y:0

limitingRange: 80
limitingMinRange: 70
projectile: 黄


[turret_4]
x:0
y:0

limitingRange: 70
limitingMinRange: 60
projectile: 绿


[turret_5]
x:0
y:0

limitingRange: 60
limitingMinRange: 50
projectile: 青


[turret_6]
x:0
y:0

limitingRange: 50
limitingMinRange: 40
projectile: 蓝


[turret_7]
x:0
y:0

limitingRange: 40
limitingMinRange: 30
projectile: 紫


[projectile_红]
@copyFromSection: projectile_1
areaDamage: 100
life: 35

color: #7FFF0000
explodeEffect: CUSTOM:红


[projectile_红2]
@copyFromSection: projectile_2
areaDamage: 100
life: 35

color: #7FFF0000
explodeEffect: CUSTOM:红


[projectile_橙]
@copyFromSection: projectile_红
areaDamage: 100
life: 35

color: #7FFF7F00
explodeEffect: CUSTOM:橙


[projectile_黄]
@copyFromSection: projectile_红
areaDamage: 100
life: 35

color: #7FFFFF00
explodeEffect: CUSTOM:黄


[projectile_绿]
@copyFromSection: projectile_红
areaDamage: 100
life: 35

color: #7F00FF00
explodeEffect: CUSTOM:绿


[projectile_绿2]
@copyFromSection: projectile_2
areaDamage: 100
life: 35

color: #7F00FF00
explodeEffect: CUSTOM:绿


[projectile_青]
@copyFromSection: projectile_红
areaDamage: 100
life: 35

color: #7F00FFFF
explodeEffect: CUSTOM:青


[projectile_蓝]
@copyFromSection: projectile_红
areaDamage: 100
life: 35

color: #7F0000FF
explodeEffect: CUSTOM:蓝


[projectile_蓝2]
@copyFromSection: projectile_2
areaDamage: 100
life: 35

color: #7F0000FF
explodeEffect: CUSTOM:蓝


[projectile_紫]
@copyFromSection: projectile_红
areaDamage: 100
life: 35

color: #7FFF00FF
explodeEffect: CUSTOM:紫


[hiddenAction_1]
fireTurretXAtGround_withProjectile: 红2


[hiddenAction_2]
fireTurretXAtGround_withProjectile: 绿2


[hiddenAction_3]
fireTurretXAtGround_withProjectile: 蓝2


[effect_红]
@copyFromSection: effect_映射
color: #FFFF0000


[effect_橙]
@copyFromSection: effect_映射
color: #FFFF7F00


[effect_黄]
@copyFromSection: effect_映射
color: #FFFFFF00


[effect_绿]
@copyFromSection: effect_映射
color: #FF00FF00


[effect_青]
@copyFromSection: effect_映射
color: #FF00FFFF


[effect_蓝]
@copyFromSection: effect_映射
color: #FF0000FF


[effect_紫]
@copyFromSection: effect_映射
color: #FFFF00FF

================================================================================
// FILE_PATH: ./共享文件/2类/火焰4.ini
================================================================================

[core]
name: 火焰4
price: 0
maxHp: 100
mass: 200
radius: 1

tags: 烧死人
displayText: Big flame
displayText_zh: 流动火焰
displayDescription: Easy to burn infantry and buildings
displayDescription_zh: 特殊：燃烧源\n让火度化一切
createOnAggressiveTeam: true
explodeOnDeath: false
canNotBeDirectlyAttacked: true
disableAllUnitCollisions: true
isUnselectable: true
#isBuilding: true


[graphics]
image:        ROOT:\共享文件\1类\火2.png

image_offsetY:0
imageScale:	1
total_frames: 31
image_wreak: NONE
animation_moving_start: 0
animation_moving_end: 30
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 30
animation_idle_speed: 6
#animation_attack_start: 0
#animation_attack_end: 11
#animation_attack_speed: 6
rotate_with_direction: false
disableLowHpFire: true
disableLowHpSmoke: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 0.6
moveAccelerationSpeed: 0.4
moveDecelerationSpeed: 0.8
reverseSpeedPercentage: 0.5
maxTurnSpeed: 2
turnAcceleration: 1
targetHeight: 0
targetHeightDrift: 0


[turret_1]
x: 0
y: 0


[projectile_1]
areaDamage: 10
life: 60

areaRadius: 40
areaDamageNoFalloff: true
explodeOnEndOfLife: true
invisible: true
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog: true
#explodeEffect: CUSTOM:着火
explodeEffect: NONE
friendlyFire: true
mutator0_ifUnitWithTags: 减火
mutator0_areaDamageMultiplier: 0.5
mutator1_ifUnitWithTags: 1级
mutator1_areaDamageMultiplier: 0.8
mutator2_ifUnitWithTags: 2级
mutator2_areaDamageMultiplier: 0.6
mutator3_ifUnitWithTags: 3级
mutator3_areaDamageMultiplier: 0.4
mutator6_ifUnitWithTags: 特殊免伤, 免火
mutator6_areaDamageMultiplier: 0
mutator14_ifUnitWithTags: 步兵轻甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵中甲
mutator15_areaDamageMultiplier: 0.85
mutator16_ifUnitWithTags: 步兵重甲
mutator16_areaDamageMultiplier: 0.65
mutator17_ifUnitWithTags: 载具轻甲
mutator17_areaDamageMultiplier: 0.45
mutator18_ifUnitWithTags: 载具中甲
mutator18_areaDamageMultiplier: 0.25
mutator19_ifUnitWithTags: 载具重甲
mutator19_areaDamageMultiplier: 0.05
mutator20_ifUnitWithTags: 建筑轻甲
mutator20_areaDamageMultiplier: 1.00
mutator21_ifUnitWithTags: 建筑防甲
mutator21_areaDamageMultiplier: 0.85
mutator22_ifUnitWithTags: 建筑重甲
mutator22_areaDamageMultiplier: 0.65


[hiddenAction_地面映射]
autoTrigger: true
spawnEffects: CUSTOM:映射


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 0.35
scaleTo: 0.35
alpha: 1.0
life: 65
hOffset: -15
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false


[effect_着火]
image: ROOT:\共享文件\1类\火3.png
scaleFrom:0.8
scaleTo: 0.8
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.25
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[hiddenAction_1]
autoTrigger: true
fireTurretXAtGround: 1
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 150,100
addWaypoint_maxTime: 2s


[hiddenAction_2] 
autoTrigger: if self.timeAlive(laterThanSeconds=12)
deleteSelf: true



================================================================================
// FILE_PATH: ./共享文件/2类/卫星扫描.ini
================================================================================


[core]
name: 卫星扫描
price:0
maxHp: 100
mass: 1200
radius:10

tags: 反潜, 空军, 反伪装
showOnMinimap: false
displayText: Satellite scan
displayText_zh: 卫星扫描
displayDescription: Uncover a certain range of black fog.\nLasts 20 seconds.\nIt can find hidden units.\nUnlock required: Power is greater than 20
displayDescription_zh: 揭开范围黑雾\n发现隐藏单位(海军/空军/陆军)\n持续20秒\n需要: 电力大于20
isBuilding: true
isUnselectable: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 40


[graphics]
image: ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTriggerOnEvent: created
spawnEffects: CUSTOM:卫星扫描


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=20)
deleteSelf: true


[effect_卫星扫描]
image: 卫星扫描.png
alsoPlaySound: ROOT:\音频\语音+音效\sspysate.wav:2
scaleFrom: 1.25
scaleTo: 1.25
createWhenOffscreen: true
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits:false



================================================================================
// FILE_PATH: ./共享文件/2类/迷幻.ini
================================================================================


[core]
name: 迷幻
price: 0
maxHp: 1000
mass: 1000
radius: 10

tags: 迷幻
#createNeutral: true
#stayNeutral: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
isUnselectable: true
showInEditor: false


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND


[hiddenAction_1] 
autoTrigger: if self.timeAlive(laterThanSeconds=1)
deleteSelf: true
#showMessageToAllPlayers: 删除

================================================================================
// FILE_PATH: ./共享文件/2类/运输机.ini
================================================================================

[core]
name: 运输机
price: 0
maxHp: 700
mass: 20000
radius: 25

copyFrom: ROOT:\共享文件\3类\单位价值.xxhq, ROOT:\共享文件\3类\中立单位共同.xxhq
tags: 原始护甲, 飞机中甲, 空投飞机, 空军
displayText: Transporter
displayText_zh: 运输机
displayDescription: Neutral transport machine, you can enter land units and transport them on any land
displayDescription_zh: 中立运输机，可以进入陆地单位并运输到任何陆地上
maxTransportingUnits:12
transportUnitsBlockOtherTransports: false
transportUnitsCanUnloadUnits: if not self.isOverLiquid() and not self.isMoving() and not self.isFlying()
softCollisionOnAll: 20
#disableAllUnitCollisions: true
#transportUnitsKillOnDeath:  false
#isUnselectable: true
fogOfWarSightRange: 6
createNeutral: true
stayNeutral: true
whileNeutralTransportAnyTeam: true
whileNeutralConvertToTransportedTeam:true
convertToNeutralIfNotTransporting:true
unitsSpawnedOnDeath: 空投飞机坠毁


[hiddenAction_移动音效]
autoTrigger: if self.isMoving()
playSoundAtUnit: ROOT:\音频\语音+音效\sparlo2a.wav:1.2, ROOT:\音频\语音+音效\sparlo2b.wav:1.2, ROOT:\音频\语音+音效\sparlo2c.wav:1.2


[graphics]
image:        空投飞机.png

total_frames: 1
frame_width: 130
frame_height: 130
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 4
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 4
#image_wreak:  死亡.png
image_shadow: AUTO_ANIMATED
#ROOT:\共享文件\1类\阴影2.png
shadowOffsetX: 0
shadowOffsetY: 10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

moveSpeed: 3.8
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.008
maxTurnSpeed: 1.5
turnAcceleration: 0.5
targetHeight: 200
targetHeightDrift: 0
moveIgnoringBody: false
moveSlidingMode: true
moveSlidingDir: 30
#slowDeathFall: true
landOnGround: true


[hiddenAction_重置方向]
autoTriggerOnEvent: created
setBodyRotation: 45


[hiddenAction_初始价值]
addResources: 价值=30

================================================================================
// FILE_PATH: ./共享文件/2类/火焰3.ini
================================================================================

[core]
name: 火焰3
price: 0
maxHp: 100
mass: 200
radius:10

tags: 烧死人
displayText: Big flame
displayText_zh: 普通火焰
displayDescription: Easy to burn infantry and buildings
displayDescription_zh: 特殊：燃烧源\n让火度化一切
createOnAggressiveTeam: true
explodeOnDeath: false
canNotBeDirectlyAttacked: true
disableAllUnitCollisions: true
isUnselectable: true
isBuilding: true


[graphics]
image:        ROOT:\共享文件\1类\火2.png

image_offsetY:0
imageScale:	1
total_frames: 31
image_wreak: NONE
animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 3
animation_idle_start: 0
animation_idle_end: 30
animation_idle_speed: 6
#animation_attack_start: 0
#animation_attack_end: 11
#animation_attack_speed: 6
rotate_with_direction: false
disableLowHpFire: true
disableLowHpSmoke: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[turret_1]
x: 0
y: 0


[projectile_1]
areaDamage: 25
life: 60

areaRadius: 40
areaDamageNoFalloff: true
explodeOnEndOfLife: true
invisible: true
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog: true
#explodeEffect: CUSTOM:着火
explodeEffect: NONE
friendlyFire: true
mutator0_ifUnitWithTags: 减火
mutator0_areaDamageMultiplier: 0.5
mutator1_ifUnitWithTags: 1级
mutator1_areaDamageMultiplier: 0.8
mutator2_ifUnitWithTags: 2级
mutator2_areaDamageMultiplier: 0.6
mutator3_ifUnitWithTags: 3级
mutator3_areaDamageMultiplier: 0.4
mutator6_ifUnitWithTags: 特殊免伤, 免火
mutator6_areaDamageMultiplier: 0
mutator14_ifUnitWithTags: 步兵轻甲
mutator14_areaDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵中甲
mutator15_areaDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 步兵重甲
mutator16_areaDamageMultiplier: 0.60
mutator17_ifUnitWithTags: 载具轻甲
mutator17_areaDamageMultiplier: 0.40
mutator18_ifUnitWithTags: 载具中甲
mutator18_areaDamageMultiplier: 0.20
mutator19_ifUnitWithTags: 载具重甲
mutator19_areaDamageMultiplier: 0.08
mutator20_ifUnitWithTags: 建筑轻甲
mutator20_areaDamageMultiplier: 0.80
mutator21_ifUnitWithTags: 建筑防甲
mutator21_areaDamageMultiplier: 0.60
mutator22_ifUnitWithTags: 建筑重甲
mutator22_areaDamageMultiplier: 0.40


[hiddenAction_地面映射]
autoTrigger: true
spawnEffects: CUSTOM:映射


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom: 0.35
scaleTo: 0.35
alpha: 1.0
life: 65
hOffset: -15
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false


[effect_着火]
image: ROOT:\共享文件\1类\火3.png
scaleFrom:0.8
scaleTo: 0.8
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.25
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits:false
alwayStartDirAtZero: true


[hiddenAction_2] 
autoTrigger: if self.timeAlive(laterThanSeconds=10)
deleteSelf: true



================================================================================
// FILE_PATH: ./共享文件/2类/电磁脉冲2.ini
================================================================================


[core]
name: 电磁脉冲2
copyFrom: 电磁脉冲.ini

tags: EMP2
displayText: EMP2
displayText_zh: 电磁脉冲中
displayDescription: Paralyze vehicles for 5 seconds
displayDescription_zh: 让载具瘫痪5秒
isUnselectable: false
showInEditor: true

[attack]
maxAttackRange: 50

================================================================================
// FILE_PATH: ./共享文件/2类/光散射2.ini
================================================================================

[core]
name: 光散射2
copyFrom: 光散射.ini


[attack]
shootDamageMultiplier: 1.2

================================================================================
// FILE_PATH: ./共享文件/2类/电磁脉冲.ini
================================================================================


[core]
name: 电磁脉冲
price: 0
maxHp: 1000
mass: 1000
radius: 10

tags: EMP
displayText: EMP
displayText_zh: 电磁脉冲小
displayDescription: Paralyze vehicles for 2 seconds
displayDescription_zh: 让载具瘫痪2秒
canNotBeDirectlyAttacked: true
isBuilding: true
isUnselectable: true
showInEditor: false


[graphics]
image:      ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

maxAttackRange: 10
showRangeUIGuide: true


[movement]
movementType: BUILDING


[hiddenAction_删除]
autoTrigger: if self.timeAlive(laterThanSeconds=2)
deleteSelf: true

================================================================================
// FILE_PATH: ./共享文件/2类/光散射3.ini
================================================================================

[core]
name: 光散射3
copyFrom: 光散射.ini


[attack]
shootDamageMultiplier: 1.4

================================================================================
// FILE_PATH: ./共享文件/2类/电磁脉冲3.ini
================================================================================


[core]
name: 电磁脉冲3
copyFrom: 电磁脉冲2.ini

tags: EMP3, 电死人
displayText: EMP3
displayText_zh: 电磁脉冲
displayDescription: Paralyze vehicles for 15 seconds
displayDescription_zh: 让载具瘫痪15秒


[attack]
canAttack:false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

maxAttackRange: 200


[turret_1]
x: 0
y: 200


[projectile_1]
areaDamage: 250
life: 0

areaRadius: 60
instant: true
areaRadiusFromEdge: true
explodeEffect: CUSTOM:电磁脉冲
#lightingEffect: true
friendlyFire: true
#areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 0.4
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.2
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 0.4
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.2


[hiddenAction_特效]
autoTriggerOnEvent: completeAndActive
fireTurretXAtGround: 1
playSoundGlobally: ROOT:\音频\语音+音效\bemplaua.wav:2
spawnEffects: CUSTOM:全图效果


[effect_电磁脉冲]
image: 电磁脉冲3.png
life: 120
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
attachedToUnit: true
drawUnderUnits: false
alwayStartDirAtZero:true


[effect_全图效果]
priority: veryhigh
createWhenOffscreen: true
#alsoEmitEffectsOnDeath: CUSTOM:天黑2
image: ROOT:\共享文件\1类\地图渲染.png
color: #FF9591FA
scaleFrom: 100
scaleTo: 100
alpha: 0.6
life: 90
#dirOffsetRandom:180
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false

================================================================================
// FILE_PATH: ./共享文件/2类/人烧死.ini
================================================================================


[core]
name: 人烧死
price: 0
maxHp: 125
mass: 1000
radius: 10

copyFrom: ROOT:\共享文件\3类\血.xxhq
tags: 人烧死
isBio: true
softCollisionOnAll: 5
fogOfWarSightRange: 0
canNotBeDirectlyAttacked: true
isUnselectable: true
showInEditor: false
effectOnDeath: CUSTOM:血, CUSTOM:人烧死2


[graphics]
image:        人烧死.png

imageScale:	0.9
total_frames: 6
frame_width: 52
frame_height: 102
#image_wreak:  NONE
animation_moving_start: 0
animation_moving_end: 5
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 5
animation_idle_speed: 5
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
showHealthBar: false 
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 1.2
moveAccelerationSpeed: 1.0
moveDecelerationSpeed: 1.0
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[hiddenAction_1] 
autoTrigger: if self.timeAlive(laterThanSeconds=10)
addResources: hp=-125


[hiddenAction_2] 
autoTrigger: if self.isOverwater()
deleteSelf: true
spawnEffects: CUSTOM:小水花


[hiddenAction_3]
autoTrigger: if self.hasParent()
disconnectFromParent: true


[hiddenAction_跑]
autoTrigger: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 150,100
addWaypoint_maxTime: 2s
resetCustomTimer:true


[effect_人烧死2]
image: 人烧死2.png
scaleFrom: 0.9
scaleTo: 0.9
total_frames: 30
animateFrameStart: 0
animateFrameEnd: 29
animateFrameSpeed: 0.25
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_小水花]
image: ROOT:\共享文件\1类\灰.png
createWhenOverLiquid: true
createWhenOverLand: false
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 6
alpha: 1.2
life: 60
hSpeed: 0.6
hOffsetRandom: 0.2
dirOffsetRandom: 180
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
#xOffsetRelative: 0
#yOffsetRelative: 0
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


#[effect_死亡音效]
#life: 0
#spawnChance:0.45
#fadeInTime: 0
#fadeOut: false
#alsoPlaySound: 死亡音效.ogg


#[ai]
#buildPriority: 20

================================================================================
// FILE_PATH: ./共享文件/2类/加速.ini
================================================================================


[core]
name: 加速
price: 0
maxHp: 1000
mass: 3000
radius: 10

tags: 加速
isBuilding: true
canNotBeDirectlyAttacked:true
fogOfWarSightRange:0
disableAllUnitCollisions: true
displayText: Blitzkrieg
displayText_zh: 闪电战
displayDescription: Increase the speed of the units within its use range by 35%. \n Not valid for infantry.
displayDescription_zh: 使其使用范围内单位的速度提升35%。\n对于步兵无效。
buildSpeed: 0
selfBuildRate: 0s
#isUnselectable: true
#showInEditor:false
#armour: 10000
#armourMinDamageToKeep:0


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 140


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTriggerOnEvent: created
playSoundGlobally: ROOT:\音频\语音+音效\sblitzkrieg.wav:2
spawnEffects: CUSTOM:加速


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=1)
deleteSelf: true


[effect_加速]
image: ROOT:\共享文件\1类\心灵清除.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 15
animateFrameStart: 0
animateFrameEnd: 14
animateFrameSpeed: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true




================================================================================
// FILE_PATH: ./2中立/车002a.ini
================================================================================


[core]
name: 车002a
copyFrom: 车002.ini

displayText: vehicle2a
displayText_zh: 车2a


[graphics]
image:        车002a.png

frame_width: 150
frame_height: 150

================================================================================
// FILE_PATH: ./2中立/摆设-警戒哨岗.ini
================================================================================

[core]
name: 警戒哨岗
copyFrom: 摆设-大灯.ini

displayText: Guard Post
displayText_zh: 警戒哨岗
tags: 原始护甲, 建筑, 建筑轻甲


[graphics]
image: 摆设-警戒哨岗.png
image_offsetY: -10

[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/石01-雪.ini
================================================================================


[core]
name: 石01-雪
maxHp: 200
price: 0
mass: 500
radius: 10

#tags: 
#onNewMapSpawn: emptyResourcePools_asNeutral
isBuilding: true
stayNeutral: true
createNeutral: true
displayText: Stone1:snow
displayText_zh: 石01-雪
displayDescription: Get in the way and decorate.
displayDescription_zh: 特殊：挡路和装饰
showOnMinimap: false
explodeOnDeath: false
isUnselectable: true
#disableAllUnitCollisions: true
#hideScorchMark: true
#canNotBeDirectlyAttacked: false
#selfRegenRate:0.1
#dont_load: true


[graphics]
image:        石01-雪.png

imageScale:	1.02
showHealthBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: NONE

================================================================================
// FILE_PATH: ./2中立/国旗-英国.ini
================================================================================


[core]
name: 国旗-英国
copyFrom: 国旗-德国.ini
displayText: British flag
displayText_zh: 英国国旗


[graphics]
image:        国旗-英国.png

================================================================================
// FILE_PATH: ./2中立/物资箱3.ini
================================================================================


[core]
name: 物资箱3
price: 0
maxHp: 100
mass: 1000
radius: 10

#showInEditor: false
tags: 物资箱
displayText: Crate
displayText_zh: 战略物资箱
displayDescription: Requires unit entry to open.\nGuess what you will get?
displayDescription_zh: 特殊：派一个移动地面单位去打开\n猜猜会获得什么?
isBuilding: true
canNotBeDirectlyAttacked: true
hideScorchMark: true
fogOfWarSightRange:0
stayNeutral: true
createNeutral: true
disableAllUnitCollisions: true
maxTransportingUnits: 1
whileNeutralTransportAnyTeam: true
whileNeutralConvertToTransportedTeam: true
convertToNeutralIfNotTransporting: true
transportUnitsEachUnitAlwaysUsesSingleSlot: true
transportUnitsBlockOtherTransports: false
exit_moveAwayAmount: 0


[graphics]
total_frames: 2
image:        物资箱3.png

imageScale:	1.02
image_offsetX: 0
image_offsetY: -15
#image_wreak:  NONE
showTransportBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: HOVER

moveSpeed: 0
targetHeight: 0
targetHeightDrift: 0


[attachment_1]
x:0
y:0

height:0
canAttack: true
keepAliveWhenParentDies: true
canBeAttackedAndDamaged: true
addTransportedUnits: true
unloadInCurrentPosition: true
lockRotation: false
isUnselectable: false
rotateWithParent: false
alwaysAllowedToAttackParentsMainTarget: true
onParentTeamChangeKeepCurrentTeam: true


[hiddenAction_水中动画]
autoTrigger: if self.isInWater()
playAnimation: 水中动画


[animation_水中动画]
start: 1
end: 1
speed: 65


[hiddenAction_1]
autoTrigger: if self.transportingCount(greaterThan=0)
#forceUnloadTransportNow: true
spawnUnits: 钱+5000(spawnChance=0.10, maxSpawnLimit=1), 箱子效果-火力(spawnChance=0.50, maxSpawnLimit=1), 升级+1(spawnChance=0.30, maxSpawnLimit=1), 箱子效果-护甲(maxSpawnLimit=1)
deleteSelf: true

================================================================================
// FILE_PATH: ./2中立/居民楼32.ini
================================================================================

[core]
name: 居民楼32
copyFrom: 工厂.ini
radius: 40


displayText: Louvre
displayText_zh: 卢浮宫
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼32.png

image_offsetX: 0
image_offsetY: -10


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/居民楼26.ini
================================================================================

[core]
name: 居民楼26
copyFrom: 工厂.ini
radius: 20
footprint: 0,0,0,0
displayFootprint: 0,0,0,0

maxTransportingUnits: 4
displayText: Rostrum
displayText_zh: 讲台
exit_x:  25
exit_y:  15


[graphics]
imageScale:	1.00
image:       居民楼26.png

image_offsetX: 0
image_offsetY: -10


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/车001.ini
================================================================================


[core]
name: 车001
price: 0
maxHp: 100
mass: 2000
radius: 15

copyFrom: ROOT:\共享文件\3类\飞轮.xxhq, ROOT:\共享文件\3类\禁入.xxhq, ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\单位停留.xxhq, ROOT:\共享文件\3类\电磁脉冲.xxhq, ROOT:\共享文件\3类\心控卸载.xxhq, ROOT:\共享文件\3类\冷冻机制.xxhq, ROOT:\共享文件\3类\血条.xxhq
#overrideAndReplace: tank, scout, mechGun
tags: 原始护甲, 载具轻甲, 装甲, 小型
#displayText: 悍马
displayText: vehicle1
displayText_zh: 车1
displayDescription: Special: Performance, Decoration.\nCan transport infantry.\nBelonging to a small vehicle.
displayDescription_zh: 特殊：装饰和表演\n若想控制可在沙盒模式里放置另一个单位：捕获中立/变成同类，来捕获控制单位
#buildSpeed: 0.05
fogOfWarSightRange: 5
softCollisionOnAll: 5
maxTransportingUnits: 4
transportSlotsNeeded: 2
transportUnitsOnTeamChangeKeepCurrentTeam: true
transportUnitsBlockOtherTransports: false
transportUnitsRequireTag: 生物
transportUnitsKillOnDeath: false
createOnAggressiveTeam: true
soundOnMoveOrder: ROOT:\音频\语音+音效\atra01f.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\atra01c.wav:2
soundOnDeath: ROOT:\音频\语音+音效\vgendiea.wav:2, ROOT:\音频\语音+音效\vgendieb.wav:2, ROOT:\音频\语音+音效\vgendiec.wav:2, ROOT:\音频\语音+音效\vgendied.wav:2, ROOT:\音频\语音+音效\vgendiee.wav:2, ROOT:\音频\语音+音效\vgendief.wav:2


[graphics]
image:        车001.png

#total_frames: 1
drawLayer: ground
imageScale:	1.0
frame_width: 70
frame_height: 70
image_offsetX: 5
#image_offsetY: -10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
showTransportBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 1.6
moveAccelerationSpeed: 0.80
moveDecelerationSpeed: 0.08
maxTurnSpeed: 2
turnAcceleration: 2


[action_位置1]
@define slotId: 0
isVisible: if self.transportingCount(slot=${slotId}, greaterThan=0)
buildSpeed: 0s
text: unload
text_zh: 卸载
textAddUnitName: unitRef self.transporting(slot=${slotId})
description: Click to unload unit
description_zh: 点击卸载单位
displayType: action
unitShownInUI: unitRef self.transporting(slot=${slotId})
forceUnloadTransportNow:true
forceUnloadTransportNow_onlyOnSlot:${slotId}
#isActive: if self.height(lessThan=3)


[action_位置2]
@copyFromSection: action_位置1
@define slotId: 1


[action_位置3]
@copyFromSection: action_位置1
@define slotId: 2


[action_位置4]
@copyFromSection: action_位置1
@define slotId: 3


[action_位置5]
@copyFromSection: action_位置1
@define slotId: 4


[action_位置6]
@copyFromSection: action_位置1
@define slotId: 5


[action_位置7]
@copyFromSection: action_位置1
@define slotId: 6


[action_位置8]
@copyFromSection: action_位置1
@define slotId: 7


[hiddenAction_重置方向]
autoTriggerOnEvent: created
setBodyRotation: 45


[hiddenAction_被黏杀]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='撞击2', greaterThan=0, withinRange=45)
addResources: hp=-9999


[hiddenAction_修复]
autoTrigger: if self.transportingUnitWithTags(includes='工程师') and self.hp(lessThan=100)
deleteNumUnitsFromTransport_onlyWithTags: 工程师
deleteNumUnitsFromTransport: 1
playSoundAtUnit:  ROOT:\音频\语音+音效\urepair.wav:2
addResources: hp=9999


[hiddenAction_卸载声]
autoTrigger: if self.isTransportUnloading()
playSoundAtUnit:  ROOT:\音频\语音+音效\gexit1a.wav:2
#showQuickWarLogToAllPlayers: 卸载


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/秘密科技实验室.ini
================================================================================

[core]
name: 秘密科技实验室
price:0
maxHp: 2000
mass: 9000
radius: 35

copyFrom: ROOT:\共享文件\3类\维修2.xxhq, ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\临时救援.xxhq, ROOT:\共享文件\3类\力场护盾.xxhq, ROOT:\共享文件\3类\血条5.xxhq
tags: 原始护甲, 房, 占领, 建筑, 建筑重甲, 秘密科技实验室, 带扩展建筑
displayText: Secret Technology Lab
displayText_zh: 秘密科技实验室
displayDescription: After being occupied by an engineer, you will get a special unit according to the different camps.
displayDescription_zh: 特殊：使用工程师占领后会根据阵营的不同获取一个的特殊单位。
isBuilding:true
footprint: -2,0,2,1
displayFootprint: -3,-1,3,1
fogOfWarSightRange: 8
numBitsOnDeath: 50
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 工程师, 攻击中性
effectOnDeath: CUSTOM:炸毁, CUSTOM:炸毁7
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image:        秘密科技实验室.png

total_frames: 2
imageScale:	1.02
#default_frame: 0
image_offsetX: 0
image_offsetY: -40
#rotate_with_direction: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true

[movement]
movementType:BUILDING


[turret_烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 烟


[turret_2烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 2烟


[projectile_烟]
directDamage: 0
life: 60

invisible: true
trailEffect: CUSTOM:烟, CUSTOM:火2, CUSTOM:火
trailEffectRate: 14
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog:true


[projectile_2烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:2烟, CUSTOM:2火2, CUSTOM:2火


[hiddenAction_1]
requireConditional: if self.hp(greaterThan=49)
autoTriggerOnEvent: teamChanged
playSoundAtUnit:  ROOT:\音频\语音+音效\ugarris.wav:2
#stopLastAnimation: true
addResources: setFlag=1


[hiddenAction_2]
autoTrigger: if not self.hp(greaterThan=100) and not self.hasFlag(id=0)
playSoundAtUnit:  ROOT:\音频\语音+音效\gdamag1a.wav:2, ROOT:\音频\语音+音效\gdamag1b.wav:2, ROOT:\音频\语音+音效\gdamag1c.wav:2, ROOT:\音频\语音+音效\gdamag1d.wav:2, ROOT:\音频\语音+音效\gdamag1e.wav:2
#showMessageToAllPlayers: 损
addResources: setFlag=0
stopLastAnimation: true
playAnimation: 损
spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:碎片*10, CUSTOM:碎片2*10


[hiddenAction_3]
autoTrigger: if self.hp(greaterThan=50) and self.hasFlag(id=0)
stopLastAnimation: true
addResources: unsetFlag=0


[hiddenAction_4]
autoTrigger: if self.hasFlag(id=1)
spawnEffects: CUSTOM:圈


[hiddenAction_冒]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100
playSoundAtUnit:  ROOT:\音频\语音+音效\gfirlo1b.wav, ROOT:\音频\语音+音效\gfirlo1e.wav, ROOT:\音频\语音+音效\gfirlo1f.wav


[hiddenAction_冒2]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 2烟
fireTurretXAtGround_withOffset: 0,100


[animation_损]
body_0s: {frame:1}
body_999999s: {frame:1}


[effect_圈]
image: ROOT:\共享文件\1类\冲击波.png
color: #FF00FF7F
scaleFrom: 4
scaleTo: 4
alpha: 1.2
life: 180
#hOffset: -10
fadeInTime: 20
fadeOut: true
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_烟]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #FF000000
fadeInTime: 11
scaleFrom: 0.5
scaleTo: 2
alpha: 0.75
life: 240
hOffset: 0
hSpeed:0.3
xSpeedAbsolute: -0.2
dirOffsetRandom:180
xOffsetRelative: -5
yOffsetRelative: 0
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 2
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.1
atmospheric:true
shadow:true
fadeOut: true
attachedToUnit: false
drawUnderUnits:false


[effect_火]
@copyFromSection: effect_烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_火2]
@copyFromSection: effect_烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_2烟]
@copyFromSection: effect_烟
hOffset: 15
xOffsetRelative: 40
yOffsetRelative: -45


[effect_2火]
@copyFromSection: effect_2烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_2火2]
@copyFromSection: effect_2烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸8.png
scaleFrom: 2
scaleTo: 2
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.2
hOffset: 72
xOffsetRelative: -5
yOffsetRelative: 0
xOffsetRelativeRandom: 5
yOffsetRelativeRandom: 5
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false


[effect_爆炸2]
@copyFromSection: effect_爆炸
hOffset: 15
xOffsetRelative: 40
yOffsetRelative: -45


[effect_碎片]
image: ROOT:\共享文件\1类\碎片.png
scaleFrom: 1.02
scaleTo: 1.02
life: 600
hOffset: 72
xOffsetRelative: -5
yOffsetRelative: 0
hSpeed: 2
hSpeedRandom: 3
dirSpeedRandom: 20
xSpeedAbsoluteRandom: 2
ySpeedAbsoluteRandom: 1
physics: true
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false


[effect_碎片2]
@copyFromSection: effect_碎片
hOffset: 15
xOffsetRelative: 40
yOffsetRelative: -45


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/房10.ini
================================================================================


[core]
name:房10
copyFrom: 房01.ini
radius: 60

displayText: Civilian house10
displayText_zh: 房10
footprint: -2,-1,4,0
displayFootprint: -3,-2,5,1
exit_x:  -5
exit_y:  15
effectOnDeath: CUSTOM:废墟, CUSTOM:炸毁, CUSTOM:炸毁2, CUSTOM:炸毁3, CUSTOM:炸毁4, CUSTOM:炸毁加


[graphics]
image:        房10.png

image_offsetX: 20
image_offsetY: -55


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 13
y: 6
#x13
#y6
#isVisible: true


[attachment_2]
x: 0
y: 12


[attachment_3]
x: 13
y: 22


[attachment_4]
x: 0
y: 28


[attachment_5]
x: 27
y: 6


[attachment_6]
x: 40
y: 12


[attachment_7]
x: -13
y: 18


[attachment_8]
x: 27
y: 22


[attachment_9]
x: 40
y: 28


[attachment_10]
x: -13
y: 34


[effect_烟]
hOffset: 80
xOffsetRelative: 5
yOffsetRelative: 0


[effect_2烟]
hOffset: 40
xOffsetRelative: 70
yOffsetRelative: 0


[effect_爆炸]
hOffset: 80
xOffsetRelative: 5
yOffsetRelative: 0


[effect_爆炸2]
hOffset: 40
xOffsetRelative: 70
yOffsetRelative: 0


[effect_损碎片]
hOffset: 80
xOffsetRelative: 5
yOffsetRelative: 0


[effect_损碎片2]
hOffset: 40
xOffsetRelative: 70
yOffsetRelative: 0


[effect_废墟]
image: 房10毁.png
xOffsetRelative: 20
yOffsetRelative: 55


[effect_炸毁]
#scaleFrom: 3.5
#scaleTo: 3.5
xOffsetRelative: 25
yOffsetRelative: 65


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative: 80
yOffsetRelative: 35


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative: -30
yOffsetRelative: 35


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative: 25
yOffsetRelative: 5

================================================================================
// FILE_PATH: ./2中立/房04.ini
================================================================================


[core]
name:房04
copyFrom: 房01.ini
radius: 40

displayText: Civilian house4
displayText_zh: 房04
footprint: -2,-1,2,0
#displayFootprint: -3,-2,3,1
exit_x:  15
exit_y:  15


[graphics]
image:        房04.png

image_offsetX: 20
image_offsetY: -40


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 2
y: 6
#x13
#y6
#isVisible: true


[attachment_2]
x: 15
y: 12


[attachment_3]
x: 28
y: 18


[attachment_4]
x: 2
y: -8


[attachment_5]
x: 15
y: -2


[attachment_6]
x: 28
y: 4


[attachment_7]
x: -22
y: 6


[attachment_8]
x: -35
y: 12


[attachment_9]
x: -22
y: -8


[attachment_10]
x: -35
y: -2


[effect_烟]
hOffset: 35
xOffsetRelative: -45
yOffsetRelative: 0


[effect_2烟]
hOffset: 30
xOffsetRelative: 45
yOffsetRelative: 0


[effect_爆炸]
hOffset: 35
xOffsetRelative: -45
yOffsetRelative: 0


[effect_爆炸2]
hOffset: 30
xOffsetRelative: 45
yOffsetRelative: 0


[effect_损碎片]
hOffset: 35
xOffsetRelative: -45
yOffsetRelative: 0


[effect_损碎片2]
hOffset: 30
xOffsetRelative: 45
yOffsetRelative: 0


[effect_废墟]
image: 房04毁.png
xOffsetRelative: 20
yOffsetRelative: 40


[effect_炸毁]
scaleFrom: 1.2
scaleTo: 1.2
xOffsetRelative: 30
yOffsetRelative: 20


[effect_炸毁2]
xOffsetRelative: -10
yOffsetRelative: 5


[effect_炸毁加]
scaleFrom: 1
scaleTo: 1

================================================================================
// FILE_PATH: ./2中立/房05.ini
================================================================================


[core]
name:房05
copyFrom: 房01.ini
radius: 60

displayText: Civilian house5
displayText_zh: 房05
footprint: -2,-1,4,0
displayFootprint: -3,-2,5,1
exit_x:  -5
exit_y:  15
effectOnDeath: CUSTOM:废墟, CUSTOM:炸毁, CUSTOM:炸毁2, CUSTOM:炸毁3, CUSTOM:炸毁4, CUSTOM:炸毁加


[graphics]
image:        房05.png

image_offsetX: 20
image_offsetY: -55


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 13
y: 6
#x13
#y6
#isVisible: true


[attachment_2]
x: 0
y: 12


[attachment_3]
x: 13
y: 22


[attachment_4]
x: 0
y: 28


[attachment_5]
x: 27
y: 6


[attachment_6]
x: 40
y: 12


[attachment_7]
x: 53
y: 18


[attachment_8]
x: 27
y: 22


[attachment_9]
x: 40
y: 28


[attachment_10]
x: 53
y: 34


[effect_烟]
hOffset: 50
xOffsetRelative: 0
yOffsetRelative: 0


[effect_2烟]
hOffset: 75
xOffsetRelative: 50
yOffsetRelative: 0


[effect_爆炸]
hOffset: 50
xOffsetRelative: 0
yOffsetRelative: 0


[effect_爆炸2]
hOffset: 75
xOffsetRelative: 50
yOffsetRelative: 0


[effect_损碎片]
hOffset: 50
xOffsetRelative: 0
yOffsetRelative: 0


[effect_损碎片2]
hOffset: 75
xOffsetRelative: 50
yOffsetRelative: 0


[effect_废墟]
image: 房05毁.png
xOffsetRelative: 20
yOffsetRelative: 55


[effect_炸毁]
#scaleFrom: 3.5
#scaleTo: 3.5
xOffsetRelative: 25
yOffsetRelative: 65


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative: 80
yOffsetRelative: 35


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative: -30
yOffsetRelative: 35


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative: 25
yOffsetRelative: 5

================================================================================
// FILE_PATH: ./2中立/墙墩2.ini
================================================================================

[core]
name:墙墩2
copyFrom: 墙墩.ini
displayText: Wall 2
displayText_zh: 墙墩2


[graphics]
image_offsetY:-10

================================================================================
// FILE_PATH: ./2中立/居民楼27.ini
================================================================================

[core]
name: 居民楼27
copyFrom: 工厂.ini
radius: 45
footprint: -1,0,0,1
displayFootprint: -1,0,1,1

displayText: Lighthouse
displayText_zh: 灯塔
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼27.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/居民楼33.ini
================================================================================

[core]
name: 居民楼33
copyFrom: 工厂.ini
radius: 40


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼33.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=100)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/树12-雪.ini
================================================================================


[core]
name: 树12-雪
copyFrom: 树01.ini
displayText: Tree12:snow
displayText_zh: 树12-雪


[graphics]
image:        树12-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/物资箱2.ini
================================================================================


[core]
name: 物资箱2
copyFrom: 物资箱.ini
displayText: Crate-sea
displayText_zh: 物资箱2
transportUnitsBlockAirAndWaterUnits: false
transportUnitsRequireMovementType: WATER, HOVER


[graphics]
image:        物资箱2.png


[movement]
movementType: WATER


#[hiddenAction_1]
#autoTrigger: if self.transportingCount(greaterThan=0)
#forceUnloadTransportNow: true
#spawnUnits: 钱+1000(spawnChance=0.5, maxSpawnLimit=1), 生命+满(maxSpawnLimit=1)
#deleteSelf: true

================================================================================
// FILE_PATH: ./2中立/平民2跑.ini
================================================================================

[core]
name: 平民2跑
copyFrom: 平民2爬.ini


[graphics]
image:        平民2跑.png

animation_idle_start: 1
animation_idle_end: 5


[movement]
moveSpeed: 0.6
moveAccelerationSpeed: 0.6
moveDecelerationSpeed: 0.6


[hiddenAction_2]
addWaypoint_position_randomOffsetFromSelf: 200,200

================================================================================
// FILE_PATH: ./2中立/国旗-波兰.ini
================================================================================


[core]
name: 国旗-波兰
copyFrom: 国旗-德国.ini
displayText: Poland flag
displayText_zh: 波兰国旗

[graphics]
image:        国旗-波兰.png

================================================================================
// FILE_PATH: ./2中立/广告牌2左4.ini
================================================================================


[core]
name: 广告牌2左4
copyFrom: 广告牌2右.ini
displayText: Billboard
displayText_zh: 广告牌2左


[graphics]
image: 广告牌2左4.png

image_offsetX: -35
#image_offsetY: 0

================================================================================
// FILE_PATH: ./2中立/科技机械商店.ini
================================================================================

[core]
name: 科技机械商店
price:0
maxHp: 1000
mass: 9000
radius: 35

copyFrom: ROOT:\共享文件\3类\维修2.xxhq, ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\临时救援.xxhq, ROOT:\共享文件\3类\力场护盾.xxhq, ROOT:\共享文件\3类\血条5.xxhq
tags: 原始护甲, 房, 占领, 建筑, 建筑重甲, 全局维修, 科技机械商店, 带扩展建筑
displayText: Machine Shop
displayText_zh: 科技机械商店
displayDescription: Engineers can obtain real-time armor repair after occupying armored units.
displayDescription_zh: 特殊：工程师占领后装甲类单位可获得实时装甲补修。
isBuilding:true
footprint: -2,0,2,1
displayFootprint: -3,-1,3,1
fogOfWarSightRange: 8
numBitsOnDeath: 50
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 工程师, 攻击中性
effectOnDeath: CUSTOM:炸毁, CUSTOM:炸毁7
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image:        科技机械商店.png

total_frames: 2
imageScale:	1.02
#default_frame: 0
image_offsetX: 0
image_offsetY: -10
#rotate_with_direction: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 200


[movement]
movementType:BUILDING


[turret_烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 烟


[turret_2烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 2烟


[projectile_烟]
directDamage: 0
life: 60

invisible: true
trailEffect: CUSTOM:烟, CUSTOM:火2, CUSTOM:火
trailEffectRate: 14
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog:true


[projectile_2烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:2烟, CUSTOM:2火2, CUSTOM:2火


[hiddenAction_1]
requireConditional: if self.hp(greaterThan=49)
autoTriggerOnEvent: teamChanged
playSoundAtUnit:  ROOT:\音频\语音+音效\ugarris.wav:2
#stopLastAnimation: true
addResources: setFlag=1


[hiddenAction_2]
autoTrigger: if not self.hp(greaterThan=50) and not self.hasFlag(id=0)
playSoundAtUnit:  ROOT:\音频\语音+音效\gdamag1a.wav:2, ROOT:\音频\语音+音效\gdamag1b.wav:2, ROOT:\音频\语音+音效\gdamag1c.wav:2, ROOT:\音频\语音+音效\gdamag1d.wav:2, ROOT:\音频\语音+音效\gdamag1e.wav:2
#showMessageToAllPlayers: 损
addResources: setFlag=0
stopLastAnimation: true
playAnimation: 损
spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:碎片*10, CUSTOM:碎片2*10


[hiddenAction_3]
autoTrigger: if self.hp(greaterThan=50) and self.hasFlag(id=0)
stopLastAnimation: true
addResources: unsetFlag=0


[hiddenAction_冒]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100
playSoundAtUnit:  ROOT:\音频\语音+音效\gfirlo1b.wav, ROOT:\音频\语音+音效\gfirlo1e.wav, ROOT:\音频\语音+音效\gfirlo1f.wav


[hiddenAction_冒2]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 2烟
fireTurretXAtGround_withOffset: 0,100


[animation_损]
body_0s: {frame:1}
body_999999s: {frame:1}


[effect_烟]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #FF000000
fadeInTime: 11
scaleFrom: 0.5
scaleTo: 2
alpha: 0.75
life: 240
hOffset: 0
hSpeed:0.3
xSpeedAbsolute: -0.2
dirOffsetRandom:180
xOffsetRelative: -5
yOffsetRelative: 0
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 2
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.1
atmospheric:true
shadow:true
fadeOut: true
attachedToUnit: false
drawUnderUnits:false


[effect_火]
@copyFromSection: effect_烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_火2]
@copyFromSection: effect_烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_2烟]
@copyFromSection: effect_烟
hOffset: 15
xOffsetRelative: 40
yOffsetRelative: -45


[effect_2火]
@copyFromSection: effect_2烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_2火2]
@copyFromSection: effect_2烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸8.png
scaleFrom: 2
scaleTo: 2
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.2
hOffset: 72
xOffsetRelative: -5
yOffsetRelative: 0
xOffsetRelativeRandom: 5
yOffsetRelativeRandom: 5
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false


[effect_爆炸2]
@copyFromSection: effect_爆炸
hOffset: 15
xOffsetRelative: 40
yOffsetRelative: -45


[effect_碎片]
image: ROOT:\共享文件\1类\碎片.png
scaleFrom: 1.02
scaleTo: 1.02
life: 600
hOffset: 72
xOffsetRelative: -5
yOffsetRelative: 0
hSpeed: 2
hSpeedRandom: 3
dirSpeedRandom: 20
xSpeedAbsoluteRandom: 2
ySpeedAbsoluteRandom: 1
physics: true
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false


[effect_碎片2]
@copyFromSection: effect_碎片
hOffset: 15
xOffsetRelative: 40
yOffsetRelative: -45


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/车002b.ini
================================================================================


[core]
name: 车002b
copyFrom: 车002a.ini

displayText: vehicle2b
displayText_zh: 车2b


[graphics]
image:        车002b.png

frame_width: 150
frame_height: 150

================================================================================
// FILE_PATH: ./2中立/堡垒右.ini
================================================================================

[core]
name: 堡垒右
copyFrom: 房01.ini
maxHp: 1000
radius: 35

displayText: fortress1
displayText_zh: 堡垒右
displayDescription: Basic infantry can enter.\nStronger than civilian buildings
displayDescription_zh: 特殊：比平民建筑更牢固
footprint: -1,-1,2,0
displayFootprint: -2,-1,2,0
exit_x:  -45
exit_y:  10
effectOnDeath: CUSTOM:废墟, CUSTOM:炸毁, CUSTOM:炸毁加


[graphics]
image:        堡垒右.png

image_offsetX: 0
image_offsetY: -35


[attachment_1]
x: 10
y: 10
#x13
#y6
#isVisible: true


[attachment_2]
x: 0
y: 10


[attachment_3]
x: -5
y: 13


[attachment_4]
x: 15
y: 13


[attachment_5]
x: -10
y: 16


[attachment_6]
x: 20
y: 16


[attachment_7]
x: -15
y: 19


[attachment_8]
x: 25
y: 19


[attachment_9]
x: -20
y: 22


[attachment_10]
x: 30
y: 22


[action_直接坏]
addResources: hp=-960


[hiddenAction_修复]
autoTrigger: if self.transportingUnitWithTags(includes='工程师') and self.hp(lessThan=1000)


[effect_烟]
hOffset: 10
xOffsetRelative: -35
yOffsetRelative: -5


[effect_2烟]
hOffset: 40
xOffsetRelative: 5
yOffsetRelative: -20


[effect_爆炸]
hOffset: 10
xOffsetRelative: -35
yOffsetRelative: -5


[effect_爆炸2]
hOffset: 40
xOffsetRelative: 5
yOffsetRelative: -20


[effect_损碎片]
hOffset: 10
xOffsetRelative: -35
yOffsetRelative: -5


[effect_损碎片2]
hOffset: 40
xOffsetRelative: 5
yOffsetRelative: -20


[effect_废墟]
image: 堡垒右毁.png
xOffsetRelative: 0
yOffsetRelative: 35


[effect_炸毁]
scaleFrom: 1
scaleTo: 1
xOffsetRelative: 0
yOffsetRelative: 10
xOffsetRelativeRandom: 0
yOffsetRelativeRandom: 0


[effect_炸毁加]
scaleFrom: 0.8
scaleTo: 0.8
yOffsetRelative: 10

================================================================================
// FILE_PATH: ./2中立/居民楼19.ini
================================================================================

[core]
name: 居民楼19
copyFrom: 工厂.ini
radius: 45


displayText: Saint Basil's Cathedral
displayText_zh: 瓦西里升天大教堂
#showInEditor: false
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼19.png

image_offsetX: 0
image_offsetY: -60


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/广告牌.ini
================================================================================


[core]
name: 广告牌
price:0
maxHp: 500
mass: 2000
radius: 50

copyFrom: ROOT:\共享文件\3类\碎片2.xxhq, ROOT:\共享文件\3类\血条5.xxhq
displayRadius: 20
showOnMinimap: false
tags: 原始护甲, 建筑轻甲, 建筑2
displayText: Billboard
displayText_zh: 广告牌
displayDescription: There are surprises!
displayDescription_zh: 特殊：有惊喜o
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 攻击中性
isBuilding: true
footprint: -2,0,2,1
constructionFootprint: -2,0,2,1
numBitsOnDeath: 10
explodeOnDeath: false
effectOnDeath: CUSTOM:土坑*3


[graphics]
image: ROOT:\共享文件\1类\隐藏.png

#drawLayer: ground2
#imageScale:	0.56
total_frames: 1
image_offsetX: 5
image_offsetY: 0
#animation_idle_start: 0
#animation_idle_end: 0
#animation_idle_speed: 8


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[arm_1]
x: 40
y: 30

hidden: if self.hp(lessThan=151)
image_end: 广告牌.png


[arm_2]
x: 40
y: 30

hidden: if not self.hp(lessThan=151)
image_end: 广告牌损.png


[arm_3]
x: 40
y: 30

hidden: if not numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=350) or self.hp(lessThan=151) or not self.hasFlag(id=1)
image_end: 广告臭.png


[arm_4]
x: 40
y: 30

hidden: if not numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=350) or not self.hp(lessThan=151) or not self.hasFlag(id=1)
image_end: 广告臭2.png


[arm_5]
x: 40
y: 30

hidden: if not numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=350) or self.hp(lessThan=151) or not self.hasFlag(id=2)
image_end: 广告蕉.png


[arm_6]
x: 40
y: 30

hidden: if not numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=250) or self.hp(lessThan=151) or not self.hasFlag(id=2)
image_end: 广告蕉2.png


[arm_7]
x: 40
y: 30

hidden: if not numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=200) or self.hp(lessThan=151) or not self.hasFlag(id=2)
image_end: 广告蕉3.png


[action_1]
text: ?
text_zh: 奥利给
description:  What if our unit is close to it?
description_zh: 看看吧
displayType: upgrade
isVisible: if not self.hasFlag(id=1)
buildSpeed: 0s
addResources: setFlag=1, unsetFlag=2


[action_2]
text: Free?
text_zh: 香蕉君
description: Let your unit come and feel the freedom.
description_zh: 看看吧
displayType: upgrade
isVisible: if not self.hasFlag(id=2)
buildSpeed: 0s
addResources: setFlag=2, unsetFlag=1


[hiddenAction_3]
autoTrigger: if numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=150) and not self.hp(lessThan=151) and self.hasFlag(id=1)
spawnEffects: CUSTOM:奥利给
#showMessageToAllPlayers: 奥利给！


[hiddenAction_4]
autoTrigger: if numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=150) and not self.hp(lessThan=151) and self.customTimer(laterThanSeconds=2.8) and self.hasFlag(id=2)
spawnEffects: CUSTOM:香蕉君
resetCustomTimer: true


[hiddenAction_5]
autoTrigger: if not numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=350) and not self.hp(lessThan=151) and self.customTimer(laterThanSeconds=15) and self.hasFlag(id=2)
spawnEffects: CUSTOM:广告校
resetCustomTimer: true


[hiddenAction_碎片]
fireTurretXAtGround_count: 4


[effect_奥利给]
image: 广告给.png
scaleFrom: 1
scaleTo: 1
total_frames: 10
animateFrameStart: 0
animateFrameEnd: 9
animateFrameSpeed: 0.1
xOffsetRelative	:  40
yOffsetRelative	:  30
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
attachedToUnit: true
liveAfterAttachedDies: false


[effect_香蕉君]
@copyFromSection: effect_奥利给
image: 广告蕉4.png
total_frames: 18
animateFrameStart: 0
animateFrameEnd: 17
animateFrameSpeed: 0.1


[effect_广告校]
@copyFromSection: effect_奥利给
image: 广告校.png
life: 1000
total_frames: 9
animateFrameStart: 0
animateFrameEnd: 8
animateFrameSpeed: 0.01


[effect_土坑]
image: ROOT:\共享文件\1类\土坑02.png
life: 1200
scaleFrom: 1.02
scaleTo: 1.02
alpha: 0.5
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  30
yOffsetRelativeRandom:  30
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/居民楼25.ini
================================================================================

[core]
name: 居民楼25
copyFrom: 工厂.ini
radius: 45


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼25.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/居民楼31.ini
================================================================================

[core]
name: 居民楼31
copyFrom: 工厂.ini
radius: 40


displayText: Notre Dame de Paris
displayText_zh: 巴黎圣母院
exit_x:  20
exit_y:  -5


[graphics]
image:       居民楼31.png

image_offsetX: 0
image_offsetY: -20


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/车002.ini
================================================================================


[core]
name: 车002
copyFrom: 车001.ini

displayText: vehicle2
displayText_zh: 车2
maxTransportingUnits: 2
soundOnNewSelection: ROOT:\音频\语音+音效\atra01a.wav


[graphics]
image:        车002.png

frame_width: 100
frame_height: 100


[movement]
moveSpeed: 1.4
#moveAccelerationSpeed: 1.4
#moveDecelerationSpeed: 0.5
#maxTurnSpeed: 4
#turnAcceleration: 2

================================================================================
// FILE_PATH: ./2中立/墙那.ini
================================================================================


[core]
name:墙那
copyFrom: 墙墩.ini
footprint: -1,0,0,0
constructionFootprint: -1,0,0,0
displayText: Wall 3
displayText_zh: 墙那


[graphics]
image:墙那.png

image_offsetX:-10
image_offsetY:-15

================================================================================
// FILE_PATH: ./2中立/房07.ini
================================================================================


[core]
name:房07
copyFrom: 房01.ini
radius: 60

displayText: Civilian house7
displayText_zh: 房07
footprint: -2,-1,4,0
displayFootprint: -3,-2,5,1
exit_x:  -5
exit_y:  15
effectOnDeath: CUSTOM:废墟, CUSTOM:炸毁, CUSTOM:炸毁2, CUSTOM:炸毁3, CUSTOM:炸毁4, CUSTOM:炸毁加


[graphics]
image:        房07.png

image_offsetX: 20
image_offsetY: -55


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 13
y: 6
#x13
#y6
#isVisible: true


[attachment_2]
x: 0
y: 12


[attachment_3]
x: 13
y: 22


[attachment_4]
x: 0
y: 28


[attachment_5]
x: 27
y: 6


[attachment_6]
x: 40
y: 12


[attachment_7]
x: 53
y: 18


[attachment_8]
x: 27
y: 22


[attachment_9]
x: 40
y: 28


[attachment_10]
x: 53
y: 34


[effect_烟]
hOffset: 17
xOffsetRelative: 27
yOffsetRelative: 0


[effect_2烟]
hOffset: 73
xOffsetRelative: 90
yOffsetRelative: 0


[effect_爆炸]
hOffset: 17
xOffsetRelative: 27
yOffsetRelative: 0


[effect_爆炸2]
hOffset: 73
xOffsetRelative: 90
yOffsetRelative: 0


[effect_损碎片]
hOffset: 17
xOffsetRelative: 27
yOffsetRelative: 0


[effect_损碎片2]
hOffset: 73
xOffsetRelative: 90
yOffsetRelative: 0


[effect_废墟]
image: 房07毁.png
xOffsetRelative: 20
yOffsetRelative: 55


[effect_炸毁]
#scaleFrom: 3.5
#scaleTo: 3.5
xOffsetRelative: 25
yOffsetRelative: 65


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative: 80
yOffsetRelative: 35


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative: -30
yOffsetRelative: 35


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative: 25
yOffsetRelative: 5

================================================================================
// FILE_PATH: ./2中立/树10-雪.ini
================================================================================


[core]
name: 树10-雪
copyFrom: 树01.ini
displayText: Tree10:snow
displayText_zh: 树10-雪


[graphics]
image:        树10-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/国旗-美国2.ini
================================================================================


[core]
name: 国旗-美国2
copyFrom: 国旗-德国.ini
displayText: American flag
displayText_zh: 美国国旗


[graphics]
image:  国旗-美国2.png

================================================================================
// FILE_PATH: ./2中立/房06.ini
================================================================================

[core]
name:房06
copyFrom: 房01.ini
radius: 50

displayText: Civilian house6
displayText_zh: 房06
#footprint: -3,-1,3,0
#displayFootprint: -4,-2,4,1
exit_x:  40
exit_y:  5


[graphics]
image:        房06.png

image_offsetX: 0
image_offsetY: -65


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 35
y: 10
#x13
#y6
#isVisible: true


[attachment_2]
x: 48
y: 16


[attachment_3]
x: 35
y: 24


[attachment_4]
x: 48
y: 30


[attachment_5]
x: -13
y: 12


[attachment_6]
x: -26
y: 18


[attachment_7]
x: -39
y: 24


[attachment_8]
x: -13
y: 26


[attachment_9]
x: -26
y: 32


[attachment_10]
x: -39
y: 38


[hiddenAction_2]
spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:爆炸3, CUSTOM:损碎片*10, CUSTOM:损碎片2*10, CUSTOM:损碎片3*10


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 7
xOffsetRelative: 57
yOffsetRelative: 0


[effect_2烟]
hOffset: 75
xOffsetRelative: -58
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 90
xOffsetRelative: 10
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_爆炸]
hOffset: 7
xOffsetRelative: 57
yOffsetRelative: 0


[effect_爆炸2]
hOffset: 75
xOffsetRelative: -58
yOffsetRelative: 0


[effect_爆炸3]
@copyFromSection: effect_爆炸
hOffset: 90
xOffsetRelative: 10
yOffsetRelative: 0


[effect_损碎片]
hOffset: 7
xOffsetRelative: 57
yOffsetRelative: 0


[effect_损碎片2]
hOffset: 75
xOffsetRelative: -58
yOffsetRelative: 0


[effect_损碎片3]
@copyFromSection: effect_损碎片
hOffset: 90
xOffsetRelative: 10
yOffsetRelative: 0


[effect_废墟]
image: 房06毁.png
xOffsetRelative: 0
yOffsetRelative: 65

================================================================================
// FILE_PATH: ./2中立/抗议者2.ini
================================================================================


[core]
name: 抗议者2
price: 0
maxHp: 50
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\血溅.xxhq, ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\单位停留.xxhq, ROOT:\共享文件\3类\冷冻机制.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压
displayText: Protesters
displayText_zh: 抗议者
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 攻击中性, 反伪装, 生物2
buildSpeed: 0.01
isBio: true
softCollisionOnAll: 10
fogOfWarSightRange: 8
soundOnMoveOrder: ROOT:\音频\语音+音效\iciamoa.wav:2, ROOT:\音频\语音+音效\iciamob.wav:2, ROOT:\音频\语音+音效\iciamoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iciasea.wav:2, ROOT:\音频\语音+音效\iciaseb.wav:2, ROOT:\音频\语音+音效\iciasec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iciadia.wav:2, ROOT:\音频\语音+音效\iciadib.wav:2, ROOT:\音频\语音+音效\iciadic.wav:2


[graphics]
image:        抗议者2.png

total_frames: 13
imageScale: 0.9
#image_offsetY:-4
frame_width: 50
frame_height: 66
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 8
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
showQueueBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false

isFixedFiring: true

[movement]
movementType: LAND

moveSpeed: 0.7
moveAccelerationSpeed: 0.4
moveDecelerationSpeed: 0.4
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[action_散步]
text: Walk
text_zh: 散步
description: Free walk
description_zh: 自动散步
buildSpeed: 0s
autoTrigger: if self.customTimer(laterThanSeconds=16) and not self.hasFlag(id=0) and not self.hasFlag(id=1)
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 100,100
addWaypoint_maxTime: 30s
resetCustomTimer:true


[hiddenAction_被黏杀]
autoTrigger: if (numberOfUnitsInEnemyTeam(withTag='撞击', greaterThan=0, withinRange=30) or numberOfUnitsInEnemyTeam(withTag='撞击2', greaterThan=0, withinRange=40) or numberOfUnitsInEnemyTeam(withTag='撞击3', greaterThan=0, withinRange=40)) and not self.isInWater() and not self.isFlying() and not self.hasParent()
playSoundAtUnit: ROOT:\音频\语音+音效\igensqua.wav:2
deleteSelf: true


[hiddenAction_跑]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) and not self.isAttacking() and not self.tags(includes='禁止攻击')
#showMessageToAllPlayers: 女平民1:救命啊！
convertTo: 抗议者2跑
convertTo_keepCurrentTags: true


[hiddenAction_重置方向]
autoTriggerOnEvent: created
setBodyRotation: 45


[hiddenAction_坠亡]
autoTrigger: if not self.hasParent() and not self.tags(includes='坠亡') and self.isFlying()
temporarilyAddTags: 坠亡


[hiddenAction_坠亡2]
autoTrigger: if self.tags(includes='坠亡') and not self.isFlying()
addResources: hp=-99999


[ai]
notPassivelyTargetedByOtherUnits: true
#upgradedFrom: 间谍
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/木乃伊.ini
================================================================================


[core]
name: 木乃伊
price: 0
maxHp: 400
mass: 10000
radius: 8

copyFrom: ROOT:\共享文件\3类\血.xxhq, ROOT:\共享文件\3类\血溅.xxhq, ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\单位停留.xxhq, ROOT:\共享文件\3类\单位价值.xxhq, ROOT:\共享文件\3类\冷冻机制.xxhq, ROOT:\共享文件\3类\血条2.xxhq
tags: 原始护甲, 步兵轻甲, 生物2, 被碾压, 克生物, 空下
displayText: Mummy
displayText_zh: 木乃伊
displayDescription: Target: Ground unit\nDamage creature: Very high\nDamage armor: Medium\nDamage building: Medium\nSpecial: Will return to full blood when resting.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：很高\n伤害装甲：中\n伤害建筑：中\n特殊：它是谁已经不重要\n但肯定不是活人了
isBio: true
softCollisionOnAll: 10
fogOfWarSightRange: 10
createOnAggressiveTeam: true
effectOnDeath: CUSTOM:血, CUSTOM:木乃伊亡


[graphics]
image:        木乃伊.png

imageScale:	0.9
#total_frames: 13
#image_offsetX:0
#image_offsetY:0
frame_width: 50
frame_height: 70
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 12
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isMelee: true
isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
maxAttackRange: 0
shootDelay: ${int(60*(1/gameSpeedRate))}


[movement]
movementType: LAND

moveSpeed: 0.6
moveAccelerationSpeed: 0.6
moveDecelerationSpeed: 0.6
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0


[projectile_1]
directDamage: 100
life: 60

instant: true
explodeEffect: CUSTOM:电星
mutator5_ifUnitWithTags: 生物
mutator5_directDamageMultiplier: 1
mutator5_changedExplodeEffect: CUSTOM:血溅
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 0.75
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 0.75
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.65
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.25
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.2
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.3
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.3
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.2
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 2
delayedStartTimer:  0.5s
#75%,75%,65%,0%,0%,0%,30%,30%,20%,200%,100%


[action_禁止休闲]
text: No rest
text_zh: 禁止休闲
description: Can avoid getting out of player control
description_zh: 禁止木乃伊在闲静时动作，可以避免脱离玩家控制
isVisible: if not self.hasFlag(id=1)
displayType: upgrade
buildSpeed: 0s
addResources: setFlag=1


[action_禁止休闲2]
text: Rest allowed
text_zh: 取消禁止
description: May be out of the player's control.
description_zh: 取消禁止效果，但不能避免脱离玩家控制
#autoTriggerOnEvent: newWaypointGivenByPlayer
isVisible: if self.hasFlag(id=1)
displayType: upgrade
buildSpeed: 0s
addResources: unsetFlag=1


[hiddenAction_1]
autoTrigger: if not self.isMoving()	and not self.isAttacking() and self.timeAlive(laterThanSeconds=10) and self.lastConverted(laterThanSeconds=10) and not self.hasFlag(id=1) and not self.tags(includes='禁止攻击')
spawnUnits: 木乃伊休闲(spawnChance=0.5, maxSpawnLimit=1), 木乃伊休闲2(maxSpawnLimit=1)
deleteSelf: true


[hiddenAction_被黏杀]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='撞击', greaterThan=0, withinRange=30) or numberOfUnitsInEnemyTeam(withTag='撞击2', greaterThan=0, withinRange=40) or numberOfUnitsInEnemyTeam(withTag='撞击3', greaterThan=0, withinRange=40)
addResources: hp=-9999
spawnEffects: CUSTOM:血溅


[hiddenAction_重置方向]
autoTriggerOnEvent: created
setBodyRotation: 45


[hiddenAction_Ai原地守卫]
autoTrigger: if self.hasUnitInTeam(withTag='Ai守卫点', withinRange=50) and not self.hasActiveWaypoint(type='guard') and not self.hasParent()
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: Ai守卫点


[hiddenAction_跟随-移动]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='move')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 跟随-移动
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: neutral
#addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 跟随


[hiddenAction_跟随-攻击移动]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='attackMove')
@copyFromSection: hiddenAction_跟随-移动
addWaypoint_type: attackMove
addWaypoint_target_nearestUnit_tagged: 跟随-攻击移动
#showMessageToAllPlayers: 跟随2


[hiddenAction_跟随-守卫]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='guard')
@copyFromSection: hiddenAction_跟随-移动
addWaypoint_type: guard
addWaypoint_target_nearestUnit_tagged: 跟随-守卫
#showMessageToAllPlayers: 跟随3


[hiddenAction_初始价值]
addResources: 价值=5


[effect_木乃伊亡]
image: 木乃伊亡.png
scaleFrom: 0.9
scaleTo: 0.9
total_frames: 16
animateFrameStart: 0
animateFrameEnd: 7
animateFrameSpeed: 0.2
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true
spawnChance: 0.5
ifSpawnFailsEmitEffects: CUSTOM:木乃伊亡2


[effect_木乃伊亡2]
@copyFromSection: effect_木乃伊亡
animateFrameStart: 8
animateFrameEnd: 15
spawnChance: 1
ifSpawnFailsEmitEffects: NONE


[effect_电星]
image: ROOT:\共享文件\1类\灰.png
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 4
alpha: 1.2
life: 60
hSpeed: 0.6
dirOffsetRandom: 180
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true

================================================================================
// FILE_PATH: ./2中立/居民楼30.ini
================================================================================

[core]
name: 居民楼30
copyFrom: 工厂.ini
radius: 45
footprint: -4,-1,3,0
displayFootprint: -6,-3,3,1


displayText: Russian National History Museum
displayText_zh: 俄罗斯国家历史博物馆
exit_x:  25
exit_y:  15


[graphics]
imageScale:	1.02
image:       居民楼30.png

image_offsetX: 0
image_offsetY: -50


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/居民楼24.ini
================================================================================

[core]
name: 居民楼24
copyFrom: 工厂.ini
radius: 40


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼24.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/居民楼18.ini
================================================================================

[core]
name: 居民楼18
copyFrom: 工厂.ini
radius: 45
footprint: -1,0,0,1
displayFootprint: -1,0,1,1

displayText: Moscow Bell Tower
displayText_zh: 钟塔
exit_x:  25
exit_y:  15


[graphics]
imageScale:	1.20
image:       居民楼18.png

image_offsetX: 0
image_offsetY: -5


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/平民2爬.ini
================================================================================


[core]
name: 平民2爬
copyFrom: 平民1爬.ini


[graphics]
image:        平民2爬.png

frame_width: 66
frame_height: 72


[hiddenAction_1]
convertTo: 平民2


[effect_平民亡]
image: 平民2亡.png

================================================================================
// FILE_PATH: ./2中立/树09-雪.ini
================================================================================


[core]
name: 树09-雪
copyFrom: 树01.ini
displayText: Tree9:snow
displayText_zh: 树09-雪


[graphics]
image:        树09-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/车002c.ini
================================================================================


[core]
name: 车002c
copyFrom: 车002a.ini

displayText: vehicle2c
displayText_zh: 车2c


[graphics]
image:        车002c.png

frame_width: 80
frame_height: 80

================================================================================
// FILE_PATH: ./2中立/石03-雪.ini
================================================================================


[core]
name: 石03-雪
copyFrom: 石01-雪.ini
displayText: Stone3:snow
displayText_zh: 石03-雪


[graphics]
image:        石03-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/国旗-乌克兰2.ini
================================================================================


[core]
name: 国旗-乌克兰2
copyFrom: 国旗-德国.ini
displayText: Ukraine flag
displayText_zh: 乌克兰国旗


[graphics]
image:        国旗-乌克兰2.png

================================================================================
// FILE_PATH: ./2中立/广告牌2左3.ini
================================================================================


[core]
name: 广告牌2左3
copyFrom: 广告牌2右.ini
displayText: Billboard
displayText_zh: 广告牌2左


[graphics]
image: 广告牌2左3.png

image_offsetX: -35
#image_offsetY: 0

================================================================================
// FILE_PATH: ./2中立/国旗-奥地利.ini
================================================================================


[core]
name: 国旗-奥地利
copyFrom: 国旗-德国.ini
displayText: Austria flag
displayText_zh: 奥地利国旗

[graphics]
image:        国旗-奥地利.png

================================================================================
// FILE_PATH: ./2中立/墙撇2.ini
================================================================================


[core]
name:墙撇2
copyFrom: 墙撇.ini
displayText: Wall 5
displayText_zh: 墙撇2


[graphics]
#image_offsetX:-10
image_offsetY:-25

================================================================================
// FILE_PATH: ./2中立/居民楼20.ini
================================================================================

[core]
name: 居民楼20
copyFrom: 工厂.ini
radius: 45


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼20.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/居民楼34.ini
================================================================================

[core]
name: 居民楼34
copyFrom: 工厂.ini
radius: 45


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼34.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=100)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/国旗-法国.ini
================================================================================


[core]
name: 国旗-法国
copyFrom: 国旗-德国.ini
displayText: France flag
displayText_zh: 法国国旗

[graphics]
image:        国旗-法国.png

================================================================================
// FILE_PATH: ./2中立/平民3爬.ini
================================================================================


[core]
name: 平民3爬
price: 0
maxHp: 50
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\血溅.xxhq, ROOT:\共享文件\3类\单位停留.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压
showInEditor: false
isBio: true
softCollisionOnAll: 10
fogOfWarSightRange: 8
effectOnDeath: CUSTOM:死亡
soundOnMoveOrder: ROOT:\音频\语音+音效\iciamoa.wav:2, ROOT:\音频\语音+音效\iciamob.wav:2, ROOT:\音频\语音+音效\iciamoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iciasea.wav:2, ROOT:\音频\语音+音效\iciaseb.wav:2, ROOT:\音频\语音+音效\iciasec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iciadia.wav:2, ROOT:\音频\语音+音效\iciadib.wav:2, ROOT:\音频\语音+音效\iciadic.wav:2


[graphics]
image:        平民3.png

#total_frames: 13
imageScale: 0.9
#image_offsetY:-4
frame_width: 60
frame_height: 60
animation_moving_start: 7
animation_moving_end: 12
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 0.5
moveAccelerationSpeed: 0.2
moveDecelerationSpeed: 0.2
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[hiddenAction_1]
autoTrigger: if not self.hasTakenDamage(withinSeconds=1) and self.lastConverted(laterThanSeconds=10)
convertTo: 平民3
clearAllWaypoints: true


[hiddenAction_2]
autoTrigger: if not self.isMoving()
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 100,100


[hiddenAction_被黏杀]
autoTrigger: if (numberOfUnitsInEnemyTeam(withTag='撞击', greaterThan=0, withinRange=30) or numberOfUnitsInEnemyTeam(withTag='撞击2', greaterThan=0, withinRange=40) or numberOfUnitsInEnemyTeam(withTag='撞击3', greaterThan=0, withinRange=40)) and not self.isInWater() and not self.isFlying() and not self.hasParent()
playSoundAtUnit: ROOT:\音频\语音+音效\igensqua.wav:2
deleteSelf: true


[effect_死亡]
image: 平民3死亡.png
scaleFrom: 0.9
scaleTo: 0.9
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/摆设-大灯.ini
================================================================================


[core]
name: 大灯
price:0
maxHp: 100
mass: 1200
radius: 10

showOnMinimap: false
copyFrom: ROOT:\共享文件\3类\血条3.xxhq
displayText: Lamp
displayText_zh: 大灯
displayDescription: Decoration
displayDescription_zh: 特殊：装饰
tags: 建筑轻甲, 建筑, 大灯
#createNeutral: true
#stayNeutral: true
isBuilding: true
footprint: 0,0,0,0
constructionFootprint: 0,0,0,0
explodeOnDeath: false
createOnAggressiveTeam: true
effectOnDeath: CUSTOM:炸毁


[graphics]
image: 摆设-大灯.png

#drawLayer: ground2
total_frames: 1
imageScale:	1.02
#image_offsetX: 22
image_offsetY: -15
teamColoringMode: disabled


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 90
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/房02.ini
================================================================================

[core]
name:房02
copyFrom: 房01.ini
radius: 50

#footprint:-2,-4,3,0
#displayFootprint: -3,-4,4,0
displayText: Civilian house2
displayText_zh: 房02
exit_x:  -30
exit_y:  5


[graphics]
image:        房02.png

image_offsetX: 0
image_offsetY: -70


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 15
y: 12
#x13
#y6
#isVisible: true


[attachment_2]
x: 28
y: 18


[attachment_3]
x: 41
y: 24


[attachment_4]
x: 54
y: 30


[attachment_5]
x: 67
y: 36


[attachment_6]
x: -37
y: 18


[attachment_7]
x: -50
y: 24


[attachment_8]
x: -63
y: 30


[attachment_9]
x: -37
y: 30


[attachment_10]
x: -63
y: 42


[effect_烟]
hOffset: 70
xOffsetRelative: -60
yOffsetRelative: 0


[effect_2烟]
hOffset: 25
xOffsetRelative: -5
yOffsetRelative: 0


[effect_爆炸]
hOffset: 70
xOffsetRelative: -60
yOffsetRelative: 0


[effect_爆炸2]
hOffset: 25
xOffsetRelative: -5
yOffsetRelative: 0


[effect_损碎片]
hOffset: 70
xOffsetRelative: -60
yOffsetRelative: 0


[effect_损碎片2]
hOffset: 25
xOffsetRelative: -5
yOffsetRelative: 0


[effect_废墟]
image: 房02毁.png
xOffsetRelative: -13
yOffsetRelative: 75


[effect_炸毁]
xOffsetRelative: 30
yOffsetRelative: 20
#xOffsetRelativeRandom: 10
#yOffsetRelativeRandom: 5


[effect_炸毁2]
xOffsetRelative: -10
yOffsetRelative: 5

================================================================================
// FILE_PATH: ./2中立/房03.ini
================================================================================

[core]
name:房03
copyFrom: 房01.ini
radius: 50

#footprint: -3,-1,3,0
displayText: Civilian house3
displayText_zh: 房03
displayFootprint: -4,-2,4,1
exit_x:  25
exit_y:  15
effectOnDeath: CUSTOM:废墟, CUSTOM:炸毁, CUSTOM:炸毁2, CUSTOM:炸毁3, CUSTOM:炸毁加


[graphics]
image:        房03.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_2]
spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:爆炸3, CUSTOM:损碎片*10, CUSTOM:损碎片2*10, CUSTOM:损碎片3*10


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_爆炸]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_爆炸2]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_爆炸3]
@copyFromSection: effect_爆炸
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_损碎片]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_损碎片2]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_损碎片3]
@copyFromSection: effect_损碎片
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_废墟]
image: 房03毁.png
xOffsetRelative: 0
yOffsetRelative: 40


[effect_炸毁]
scaleFrom: 1.2
scaleTo: 1.2
xOffsetRelative: 0
yOffsetRelative: 35
#xOffsetRelativeRandom: 10
#yOffsetRelativeRandom: 5


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative: 35
yOffsetRelative: 5


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative: -35
yOffsetRelative: 5


[effect_炸毁加]
scaleFrom: 1
scaleTo: 1

================================================================================
// FILE_PATH: ./2中立/科技炮塔-迫击炮.ini
================================================================================


[core]
name: 科技炮塔-迫击炮
price: 0
maxHp: 1400
mass: 50000
radius: 40

#overrideAndReplace: turret_artillery, antiNukeLaucher
copyFrom: ROOT:\共享文件\3类\中立建筑共同.xxhq
tags: 原始护甲, 建筑防甲, 建筑, 空下, 科技迫击炮阵地, 解锁武器, 占领
#showInEditor: false
displayText: Tech Mortar Position
displayText_zh: 科技迫击炮阵地
displayDescription: Target: Ground unit\nDamage creature: Medium\nDamage armor: High\nDamage building: Low\nSpecial: An infantry can enter and use it.\nHas a minimum attack range.\nCan only be repaired by engineers.\nCannot be used when severely damaged.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：中\n伤害装甲：高\n伤害建筑：低\n可被入驻的生物类单位使用\n炮台附近无法攻击\n只能被工程师维修
#borrowResourcesWhileAlive: 电力=50
isBuilding: true
footprint: -1,0,1,0
displayFootprint: -2,-1,2,1
constructionFootprint: -2,-1,2,1
buildSpeed: 0
fogOfWarSightRange: 14
createOnAggressiveTeam: true
effectOnDeath: CUSTOM:炸毁, CUSTOM:炸毁7
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image:       科技炮塔-迫击炮.png

total_frames: 1
#image_offsetX: 0
image_offsetY: -20
imageScale: 1.02
frame_width: 160
frame_height: 160
#image_wreak:  NONE
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击') and not self.tags(includes='解锁武器')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 0
turretTurnSpeed: 2.5
#maxAttackRange: 150
aimOffsetSpread: 0
shootDelay: 300
#canOnlyAttackUnitsWithoutTags: 伪装, 驾驶


[movement]
movementType: BUILDING

maxTurnSpeed: 1
turnAcceleration: 1


[turret_1]
x: 0
y: 0

barrelY: 10
barrelHeight: 50
limitingRange: 720
limitingMinRange: 180
shoot_flame: CUSTOM:开火
shoot_sound: ROOT:\音频\语音+音效\vhammweaa.wav
shoot_sound_vol: 2
projectile: 1
onShoot_triggerActions: 开火冲击波
recoilOffset: -1
recoilOutTime: 5
recoilReturnTime: 10


[projectile_1]
areaDamage: 185
life: 180

areaRadius: 60
frame: 5
speed: 6
drawSize: 0.95
image: ROOT:\共享文件\1类\炮弹2.png
explodeEffect: CUSTOM:映射3, CUSTOM:爆炸, CUSTOM:开火冲击波, CUSTOM:水花
effectOnCreate: CUSTOM:映射2
largeHitEffect: true
hitSound: true
initialUnguidedSpeedHeight: 2.2
gravity: 0.2
friendlyFire: true
targetGround: true
targetGroundSpread: 20
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.8
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.8
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.4
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.4
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0


[hiddenAction_1]
autoTriggerOnEvent: teamChanged
temporarilyRemoveTags: 解锁武器


[hiddenAction_初始价值]
addResources: 价值=50


[hiddenAction_开火冲击波]
spawnEffects: CUSTOM:开火冲击波


[effect_开火]
image: ROOT:\共享文件\1类\爆炸24.png
scaleFrom: 0.80
scaleTo: 0.80
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
attachedToUnit:false
hOffset: 0


[effect_开火冲击波]
image: ROOT:\共享文件\1类\冲击波2.png
scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.8
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.60
alwayStartDirAtZero: true
attachedToUnit: false
drawUnderUnits: true
hOffset: -12


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸3.png
alsoPlaySound: ROOT:\音频\语音+音效\vhammgexa.wav:2
life: 240
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
scaleFrom: 1.05
scaleTo: 1.05
#alpha: 0.85
fadeOut: false
fadeInTime: 0
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_水花]
image: ROOT:\共享文件\1类\水花.png
alsoPlaySound: ROOT:\音频\语音+音效\gnavsina.wav:2
createWhenOverLiquid: true
createWhenOverLand: false
scaleFrom: 1.5
scaleTo: 1.5
total_frames: 6
animateFrameStart: 0
animateFrameEnd: 5
animateFrameSpeed: 0.35
life: 180
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
color: #FFFFFF00
scaleFrom:1
scaleTo: 0.8
alpha: 0.3
life: 30
hOffset: -10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射2]
@copyFromSection: effect_映射
scaleFrom:0.5
scaleTo: 0.2
alpha: 0.2
hOffset: -20
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_映射3]
@copyFromSection: effect_映射
alpha: 0.3
life: 20
fadeOut: true
attachedToUnit: false


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[ai]
#notPassivelyTargetedByOtherUnits: true
lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/居民楼21.ini
================================================================================

[core]
name: 居民楼21
copyFrom: 工厂.ini
radius: 45


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼21.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/树14-雪.ini
================================================================================


[core]
name: 树14-雪
copyFrom: 树01.ini
displayText: Tree14:snow
displayText_zh: 树14-雪


[graphics]
image:        树14-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/导弹架.ini
================================================================================


[core]
name: 导弹架
price:0
maxHp: 100
mass: 2000
radius: 15

#displayRadius: 8
tags: 原始护甲, 建筑, 导弹架, 建筑轻甲
showOnMinimap: false
displayText: Missile Rack
displayText_zh: 导弹架
createOnAggressiveTeam: true
isBuilding: true
footprint: -1,0,1,1
displayFootprint: -1,0,1,1
#constructionFootprint: -7,-3,8,4
numBitsOnDeath: 20
explodeOnDeath: false
fireTurretXAtSelfOnDeath: 1
effectOnDeath: CUSTOM:炸毁
soundOnDeath: ROOT:\音频\语音+音效\gexpbara.wav:2, ROOT:\音频\语音+音效\gexpbarb.wav:2, ROOT:\音频\语音+音效\gexpbarc.wav:2


[graphics]
image: 导弹架.png

#drawLayer: ground2
total_frames: 1
imageScale:	1.02
image_offsetY: -25


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
buildSpeed: 0s
addResources: hp=-50


[turret_1]
x: 0
y: 0


[projectile_1]
areaDamage: 200
life: 0

areaRadius: 150
targetGround:true
explodeOnEndOfLife:true
#instant: true
friendlyFire: true
largeHitEffect: true
explodeEffect: NONE
spawnUnit: 引火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.8
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.8
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.8
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.0
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 1.0
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 1.0


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸27.png
life: 120
scaleFrom: 0.6
scaleTo: 0.6
total_frames: 38
animateFrameStart: 0
animateFrameEnd: 37
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/广告牌2左2.ini
================================================================================


[core]
name: 广告牌2左2
copyFrom: 广告牌2右.ini
displayText: Billboard-3
displayText_zh: 广告牌2左


[graphics]
image: 广告牌2左2.png

image_offsetX: -35
#image_offsetY: 0

================================================================================
// FILE_PATH: ./2中立/树16-雪.ini
================================================================================


[core]
name: 树16-雪
copyFrom: 树01.ini
displayText: Tree16:snow
displayText_zh: 树16-雪


[graphics]
image:        树16-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/摆设-铁栅栏2.ini
================================================================================

[core]
name: 铁栅栏2
copyFrom: 摆设-铁栅栏.ini


[graphics]
image: 摆设-铁栅栏2.png

================================================================================
// FILE_PATH: ./2中立/车002d.ini
================================================================================


[core]
name: 车002d
copyFrom: 车002a.ini

displayText: vehicle2d
displayText_zh: 车2d


[graphics]
image:        车002d.png

frame_width: 100
frame_height: 100

================================================================================
// FILE_PATH: ./2中立/木乃伊休闲.ini
================================================================================


[core]
name: 木乃伊休闲
copyFrom: 木乃伊.ini

showInEditor: false


[graphics]
image:        木乃伊休闲.png

total_frames: 8
default_frame: 7
#frame_width: 0
#frame_height: 0
animation_moving_start: 0
animation_moving_end: 7
animation_moving_speed: 10
animation_idle_start: 7
animation_idle_end: 7
animation_idle_speed: 8
animation_attack_start: 0
animation_attack_end: 7
animation_attack_speed: 8
animation_direction_units: 0
animation_direction_strideX: 0
animation_direction_strideY: 0
animation_direction_starting: 0
#rotate_with_direction: false
lock_body_rotation_with_main_turret: false


[movement]
moveSpeed: 0


[hiddenAction_1]
@copyFrom_skipThisSection: true


[hiddenAction_2]
autoTrigger: if self.isMoving()	or self.isAttacking() or self.timeAlive(laterThanSeconds=30)
convertTo: 木乃伊
convertTo_keepCurrentTags: true


[hiddenAction_休闲]
autoTrigger: if self.customTimer(laterThanSeconds=10)
resetCustomTimer: true
playAnimation: 休闲


[animation_休闲]
start: 0
end: 7
speed: 8

================================================================================
// FILE_PATH: ./2中立/居民楼23.ini
================================================================================

[core]
name: 居民楼23
copyFrom: 工厂.ini
radius: 40


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼23.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/房01.ini
================================================================================


[core]
name:房01
#copyFrom:
price:0
maxHp: 500
mass: 9000
buildSpeed:30s
radius: 60

copyFrom: ROOT:\共享文件\3类\中立建筑共同.xxhq, ROOT:\共享文件\3类\血条5.xxhq
tags: 原始护甲, 建筑防甲, 建筑, 房, 空下
displayText: Civilian house1
displayText_zh: 房01
displayDescription: Basic infantry can enter.
displayDescription_zh: 特殊：胆小鬼的避硕
isBuilding:true
footprint: -3,-1,3,0
displayFootprint: -3,-2,3,1
fogOfWarSightRange: 17
maxTransportingUnits: 10
transportUnitsRequireTag: 基础兵, 工程师
transportUnitsKillOnDeath: false
createNeutral: true
stayNeutral:true
whileNeutralTransportAnyTeam:true
whileNeutralConvertToTransportedTeam:true
convertToNeutralIfNotTransporting:true
#numBitsOnDeath: 50
exit_x:  25
exit_y:  -5
exit_dirOffset: 180
#exit_moveAwayAmount: 80
effectOnDeath: CUSTOM:废墟, CUSTOM:炸毁, CUSTOM:炸毁2, CUSTOM:炸毁加
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image:        房01.png

#drawLayer: ground2
total_frames: 3
imageScale:	1.02
#frame_width: 416
#frame_height: 332
#default_frame: 0
image_offsetX: -20
image_offsetY: -50
#rotate_with_direction: false
#lock_body_rotation_with_main_turret: false


[attack]
canAttack:true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize:0
turretTurnSpeed:99
maxAttackRange: 300
shootDelay: 60
stopTargetingAfterFiring:true
#turretMultiTargeting: true


[movement]
movementType:BUILDING


[turret_1]
x: 0
y: 0

projectile: 1


[turret_烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 烟


[turret_2烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 2烟


[projectile_1]
directDamage: 0
life: 0


[projectile_烟]
directDamage: 0
life: 60

invisible: true
trailEffect: CUSTOM:烟, CUSTOM:火2, CUSTOM:火
trailEffectRate: 14
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog:true


[projectile_2烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:2烟, CUSTOM:2火2, CUSTOM:2火


[attachment_1]
x: 15
y: 12

isVisible: false
isUnselectable: true
keepAliveWhenParentDies: true
addTransportedUnits: true
canBeAttackedAndDamaged: true
#deattachIfWantingToMove: true
prioritizeParentsMainTarget:true
onParentTeamChangeKeepCurrentTeam: true
showAllActionsFrom: true


[attachment_2]
x: 2
y: 18
@copyFromSection: attachment_1


[attachment_3]
x: -11
y: 24
@copyFromSection: attachment_1


[attachment_4]
x: -24
y: 30
@copyFromSection: attachment_1


[attachment_5]
x: -37
y: 36
@copyFromSection: attachment_1


[attachment_6]
x: -50
y: 42
@copyFromSection: attachment_1


[attachment_7]
x: -63
y: 48
@copyFromSection: attachment_1


[attachment_8]
x: 52
y: -7
@copyFromSection: attachment_1


[attachment_9]
x: 52
y: 5
@copyFromSection: attachment_1


[attachment_10]
x: 52
y: 17
@copyFromSection: attachment_1


[action_位置1]
@define slotId: 0
isVisible: if self.transportingCount(slot=${slotId}, greaterThan=0)
buildSpeed: 0s
text: unload
text_zh: 卸载
textAddUnitName: unitRef self.transporting(slot=${slotId})
description: Click to unload unit
description_zh: 点击卸载单位
displayType: action
unitShownInUI: unitRef self.transporting(slot=${slotId})
forceUnloadTransportNow:true
forceUnloadTransportNow_onlyOnSlot:${slotId}
#isActive: if self.height(lessThan=3)


[action_位置2]
@copyFromSection: action_位置1
@define slotId: 1


[action_位置3]
@copyFromSection: action_位置1
@define slotId: 2


[action_位置4]
@copyFromSection: action_位置1
@define slotId: 3


[action_位置5]
@copyFromSection: action_位置1
@define slotId: 4


[action_位置6]
@copyFromSection: action_位置1
@define slotId: 5


[action_位置7]
@copyFromSection: action_位置1
@define slotId: 6


[action_位置8]
@copyFromSection: action_位置1
@define slotId: 7


[action_位置9]
@copyFromSection: action_位置1
@define slotId: 8


[action_位置10]
@copyFromSection: action_位置1
@define slotId: 9


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
isVisible: if self.isOnNeutralTeam()
buildSpeed: 0s
addResources: hp=-460
#spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:碎片*10, CUSTOM:碎片2*10


#[hiddenAction_卸载声]
#autoTrigger: if self.isTransportUnloading()
#playSoundAtUnit:  ROOT:\音频\语音+音效\gexit1a.wav
#showQuickWarLogToAllPlayers: 卸载


[hiddenAction_1]
autoTrigger: if self.hp(greaterThan=50) and not self.transportingCount(empty=true) and not self.hasFlag(id=0)
stopLastAnimation: true
playSoundAtUnit:  ROOT:\音频\语音+音效\ugarris.wav:2
playAnimation: 驻
#showMessageToAllPlayers: 驻
addResources: setFlag=0, unsetFlag=1, unsetFlag=2


[hiddenAction_2]
autoTrigger: if self.hp(lessThan=50) and not self.hasFlag(id=1)
stopLastAnimation: true
playAnimation: 损
playSoundAtUnit:  ROOT:\音频\语音+音效\gdamag1a.wav:2, ROOT:\音频\语音+音效\gdamag1b.wav:2, ROOT:\音频\语音+音效\gdamag1c.wav:2, ROOT:\音频\语音+音效\gdamag1d.wav:2, ROOT:\音频\语音+音效\gdamag1e.wav:2
#showMessageToAllPlayers: 损
addResources: setFlag=1, unsetFlag=0, unsetFlag=2
spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:损碎片*10, CUSTOM:损碎片2*10
temporarilyRemoveTags: 可入驻


[hiddenAction_3]
autoTrigger: if self.hp(greaterThan=50) and self.transportingCount(empty=true) and not self.hasFlag(id=2)
stopLastAnimation: true
#showMessageToAllPlayers: 无
addResources: setFlag=2, unsetFlag=0, unsetFlag=1


[hiddenAction_ai满人止驻]
autoTrigger: if self.transportingCount(greaterThan=9) and self.tags(includes='可入驻')
temporarilyRemoveTags: 可入驻
#showMessageToAllPlayers: 清除入驻标签


[hiddenAction_低生命卸载]
autoTrigger: if self.hp(lessThan=50) and self.numberOfAttachedUnits(withTag='基础兵', greaterThan=0)
forceUnloadTransportNow: true


[hiddenAction_修复]
autoTrigger: if self.transportingUnitWithTags(includes='工程师') and self.hp(lessThan=500)
deleteNumUnitsFromTransport_onlyWithTags: 工程师
deleteNumUnitsFromTransport: 1
playSoundAtUnit:  ROOT:\音频\语音+音效\urepair.wav:2
addResources: hp=9999
temporarilyAddTags: 可入驻


[hiddenAction_冒]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100
playSoundAtUnit:  ROOT:\音频\语音+音效\gfirlo1b.wav, ROOT:\音频\语音+音效\gfirlo1e.wav, ROOT:\音频\语音+音效\gfirlo1f.wav


[hiddenAction_冒2]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 2烟
fireTurretXAtGround_withOffset: 0,100


[hiddenAction_可入驻]
autoTriggerOnEvent: created
temporarilyAddTags: 可入驻


[hiddenAction_减伤]
autoTrigger: if not self.transportingCount(empty=true) and not self.tags(includes='减伤')
#showMessageToAllPlayers: 1


[hiddenAction_减伤2]
autoTrigger: if self.tags(includes='减伤') and self.transportingCount(empty=true)
#showMessageToAllPlayers: 2


[hiddenAction_初始价值]
addResources: 价值=5


[animation_驻]
body_0s: {frame:1}
body_999999s: {frame:1}


[animation_损]
body_0s: {frame:2}
body_999999s: {frame:2}


[effect_烟]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #FF000000
fadeInTime: 11
scaleFrom: 0.5
scaleTo: 2
alpha: 0.75
life: 240
hOffset: 95
hSpeed:0.3
xSpeedAbsolute: -0.2
dirOffsetRandom:180
xOffsetRelative: -60
yOffsetRelative: 30
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 2
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.1
atmospheric:true
shadow:true
fadeOut: true
attachedToUnit: false
drawUnderUnits:false


[effect_火]
@copyFromSection: effect_烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_火2]
@copyFromSection: effect_烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_2烟]
@copyFromSection: effect_烟
hOffset: 60
xOffsetRelative: 70
yOffsetRelative: 0


[effect_2火]
@copyFromSection: effect_2烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_2火2]
@copyFromSection: effect_2烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_废墟]
image: 房01毁.png
scaleFrom: 1.02
scaleTo: 1.02
life: 3600
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true
attachedToUnit: false
xOffsetRelative: -20
yOffsetRelative: 50


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸8.png
scaleFrom: 2
scaleTo: 2
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.2
hOffset: 95
xOffsetRelative: -60
yOffsetRelative: 30
xOffsetRelativeRandom: 5
yOffsetRelativeRandom: 5
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false


[effect_爆炸2]
@copyFromSection: effect_爆炸
hOffset: 60
xOffsetRelative: 70
yOffsetRelative: 0


[effect_损碎片]
image: ROOT:\共享文件\1类\碎片.png
scaleFrom: 1.02
scaleTo: 1.02
life: 600
hOffset: 95
xOffsetRelative: -60
yOffsetRelative: 30
hSpeed: 2
hSpeedRandom: 3
dirSpeedRandom: 20
xSpeedAbsoluteRandom: 2
ySpeedAbsoluteRandom: 1
physics: true
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false


[effect_损碎片2]
@copyFromSection: effect_损碎片
hOffset: 60
xOffsetRelative: 70
yOffsetRelative: 0


[effect_炸毁]
image: ROOT:\共享文件\1类\炸毁5.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
animateFrameSpeedRandom: 0.05
xOffsetRelative: -30
yOffsetRelative: 35
xOffsetRelativeRandom: 5
yOffsetRelativeRandom: 5
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative: 25
yOffsetRelative: 5


[effect_炸毁加]
image: ROOT:\共享文件\1类\爆炸3.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelative: 20
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


#[ai]
#buildPriority: 0.35
#maxEachBase:4
#noneInBaseExtraPriority: 0.1
#noneGlobalExtraPriority: 0.05

================================================================================
// FILE_PATH: ./2中立/生命+满.ini
================================================================================


[core]
name: 生命+满
price: 0
maxHp: 100
mass: 1000
radius: 10

#showInEditor: false
tags: 生命+满
displayText: Fill hp
displayText_zh: 加满血
displayDescription: Non-construction units in the range is filled Hp.\nNote that it is invalid for some units.
displayDescription_zh: 特殊：给范围内的移动单位加满血\n满血后又是一条好汉
isBuilding: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0
disableAllUnitCollisions: true
isUnselectable: true


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

maxAttackRange: 50


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[turret_1]
x: 0
y: 0


[projectile_1]
areaDamage: -9999
life: 60

areaRadius: 9999
instant: true
areaDamageNoFalloff: true
friendlyFire: true
explodeEffect: NONE
mutator0_ifUnitWithoutTags: 生物, 装甲
mutator0_areaDamageMultiplier: 0


[hiddenAction_1]
#autoTrigger: 
autoTriggerOnEvent: created
fireTurretXAtGround: 1
fireTurretXAtGround_withProjectile: 1
fireTurretXAtGround_withOffset:0,0
spawnEffects: CUSTOM:加血
playSoundToPlayer:  ROOT:\音频\语音+音效\gcraheal.wav
deleteSelf: true


[effect_加血]
image: 生命+满.png
priority: high
life: 300
scaleFrom: 1.05
scaleTo: 1.05
total_frames: 23
animateFrameStart: 0
animateFrameEnd: 22
animateFrameSpeed: 0.2
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./2中立/石05-雪.ini
================================================================================


[core]
name: 石05-雪
copyFrom: 石01-雪.ini
displayText: Stone5:snow
displayText_zh: 石05-雪


[graphics]
image:        石05-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/摆设-大凯旋门.ini
================================================================================

[core]
name: 大凯旋门
price:0
maxHp: 2500
mass: 20000
radius: 80

#displayRadius: 8
tags: 原始护甲, 建筑, 大凯旋门, 建筑重甲
copyFrom: ROOT:\共享文件\3类\血条5.xxhq
showOnMinimap: false
#displayText: 建筑
displayText: Triumphal Arch
displayText_zh: 大凯旋门
createOnAggressiveTeam: true
isBuilding: true
footprint: -3,0,3,2
displayFootprint: -4,-1,4,2
numBitsOnDeath: 20
explodeOnDeath: false
#showInEditor: true
effectOnDeath: CUSTOM:炸毁, CUSTOM:炸毁7
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image: 摆设-大凯旋门.png

#drawLayer: ground2
total_frames: 1
imageScale:	1.02
#image_offsetX: 30
image_offsetY: -40


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
buildSpeed: 0s
addResources: hp=-2410


[hiddenAction_1]
autoTrigger: if self.hp(lessThan=100) and not self.hasFlag(id=1)
#stopLastAnimation: true
playAnimation: 损
playSoundAtUnit:  ROOT:\音频\语音+音效\gdamag1a.wav, ROOT:\音频\语音+音效\gdamag1b.wav, ROOT:\音频\语音+音效\gdamag1c.wav, ROOT:\音频\语音+音效\gdamag1d.wav, ROOT:\音频\语音+音效\gdamag1e.wav
addResources: setFlag=1


[animation_损]
body_0s: {frame:0}
body_999999s: {frame:0}


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/摆设-停机坪.ini
================================================================================

[core]
name: 摆设-停机坪
copyFrom: 摆设-列宁墓.ini
maxHp: 1200

tags: 原始护甲, 建筑, 建筑重甲
displayText: Parking Apron
displayText_zh: 停机坪
showInEditor: true


[graphics]
image: 摆设-停机坪.png
image_offsetY: -5


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
buildSpeed: 0s
addResources: hp=-1020


[hiddenAction_1]
autoTrigger: if self.hp(lessThan=200) and not self.hasFlag(id=1)


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/国旗-德国.ini
================================================================================


[core]
name: 国旗-德国
price: 0
maxHp: 300
mass: 5000
radius: 15

#tags: 军旗
displayText: Germany flag
displayText_zh: 德国国旗
displayDescription: Hello!
displayDescription_zh: 摆设物品
fogOfWarSightRange: 4
isBuilding: true
createOnAggressiveTeam: true
footprint: 0,0,0,0
displayFootprint: -1,0,1,0
constructionFootprint: -1,0,1,0
buildSpeed: 1s


[graphics]
image:        国旗-德国.png

#drawLayer: ground2
total_frames: 8
image_offsetX: 2
image_offsetY: -15
#scaleImagesTo:80
#image_wreak:  NONE
animation_idle_start: 0
animation_idle_end: 7
animation_idle_speed: 6


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:  false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[ai]
notPassivelyTargetedByOtherUnits: true



================================================================================
// FILE_PATH: ./2中立/居民楼22.ini
================================================================================

[core]
name: 居民楼22
copyFrom: 工厂.ini
radius: 30


displayText: Residential building
displayText_zh: 居民楼
exit_x:  20
exit_y:  -5


[graphics]
image:       居民楼22.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/升级+1.ini
================================================================================


[core]
name: 升级+1
price: 0
maxHp: 100
mass: 1000
radius: 10


#showInEditor: false
tags: 升级+1
displayText: Level +1
displayText_zh: 升级+1
displayDescription: Units in the range are upgraded by one level.\nNote that it is invalid for some units.
displayDescription_zh: 特殊：给范围内的单位升一级\n可以累加升级\n白给的经验不香吗
isBuilding: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0
disableAllUnitCollisions: true
isUnselectable: true


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

maxAttackRange: 70


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
autoTrigger:if self.timeAlive(laterThanSeconds=1)
#autoTriggerOnEvent: created
spawnEffects: CUSTOM:升级
playSoundToPlayer:  ROOT:\音频\语音+音效\gcraprom.wav:2
deleteSelf: true


[effect_升级]
image: 升级.png
priority: high
life: 300
scaleFrom: 1.05
scaleTo: 1.05
total_frames: 23
animateFrameStart: 0
animateFrameEnd: 8
animateFrameSpeed: 0.1
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./2中立/树11-雪.ini
================================================================================


[core]
name: 树11-雪
copyFrom: 树01.ini
displayText: Tree11:snow
displayText_zh: 树11-雪


[graphics]
image:        树11-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/居民楼9.ini
================================================================================

[core]
name: 居民楼9
copyFrom: 工厂.ini
radius: 45


displayText: Residential building
displayText_zh: 法院
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼9.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/树09.ini
================================================================================


[core]
name: 树09
copyFrom: 树01.ini
displayText: Tree9
displayText_zh: 树09


[graphics]
image:        树09.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树21.ini
================================================================================


[core]
name: 树21
copyFrom: 树01.ini
displayText: Tree21
displayText_zh: 树21


[graphics]
image:        树21.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/红场墙.ini
================================================================================


[core]
name: 红场墙
price:0
maxHp: 300
mass: 20000
radius: 40

#displayRadius: 8
tags: 原始护甲, 建筑, 建筑防甲
showOnMinimap: false
#displayText: 建筑
displayText: Building-a2
displayText_zh: 红场墙
displayDescription: Only for decoration
displayDescription_zh: 特殊：红场墙
#createNeutral: true
#stayNeutral: true
createOnAggressiveTeam: true
isBuilding: true
footprint: -1,0,0,1
displayFootprint: -1,0,1,1
numBitsOnDeath: 20
explodeOnDeath: false
effectOnDeath: CUSTOM:灰, CUSTOM:灰2, CUSTOM:灰3, CUSTOM:飞块, CUSTOM:飞块2, CUSTOM:飞块3
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav, ROOT:\音频\语音+音效\bgendieb.wav, ROOT:\音频\语音+音效\bgendiec.wav, ROOT:\音频\语音+音效\bgendied.wav, ROOT:\音频\语音+音效\bgendiee.wav, ROOT:\音频\语音+音效\bgendief.wav


[graphics]
image: 红场墙.png

#drawLayer: ground2
total_frames: 2
imageScale:	1.02
image_offsetX: -5
image_offsetY: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
buildSpeed: 0s
addResources: hp=-210


[hiddenAction_1]
autoTrigger: if self.hp(lessThan=100) and not self.hasFlag(id=1)
#stopLastAnimation: true
playAnimation: 损
playSoundAtUnit:  ROOT:\音频\语音+音效\gdamag1a.wav, ROOT:\音频\语音+音效\gdamag1b.wav, ROOT:\音频\语音+音效\gdamag1c.wav, ROOT:\音频\语音+音效\gdamag1d.wav, ROOT:\音频\语音+音效\gdamag1e.wav
#showMessageToAllPlayers: 损
addResources: setFlag=1
#spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:碎片*10, CUSTOM:碎片2*10


[animation_损]
body_0s: {frame:1}
body_999999s: {frame:1}


[effect_飞块]
image: ROOT:\共享文件\1类\灰.png
color: #FF000000
scaleFrom: 4
scaleTo: 10
alpha: 1.2
life: 60
lifeRandom: 30
hSpeed: 1
#hOffset: 0
dirOffsetRandom: 180
xOffsetRelative: -60
yOffsetRelative: 30
xOffsetRelativeRandom: 10
yOffsetRelativeRandom: 10
xSpeedAbsoluteRandom: 0.05
ySpeedAbsoluteRandom: 0.05
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
physics: true
physicsGravity: 0.6
#atmospheric: true


[effect_飞块2]
@copyFromSection: effect_飞块
xOffsetRelative: -10
yOffsetRelative: 10


[effect_飞块3]
@copyFromSection: effect_飞块
xOffsetRelative: 30
yOffsetRelative: -10


[effect_灰]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #FF3C3C3C
fadeInTime: 0
scaleFrom: 7
scaleTo: 8
alpha: 1.2
life: 300
#hOffset: 95
hSpeed: 0.15
dirSpeedRandom: 1
xOffsetRelative: -60
yOffsetRelative: 30
xOffsetRelativeRandom: 10
yOffsetRelativeRandom: 10
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.05
atmospheric:true
#shadow:true
fadeOut: true
attachedToUnit: false
drawUnderUnits: false


[effect_灰2]
@copyFromSection: effect_灰
xOffsetRelative: -10
yOffsetRelative: 10


[effect_灰3]
@copyFromSection: effect_灰
xOffsetRelative: 30
yOffsetRelative: -10


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/摆设-路灯2.ini
================================================================================

[core]
name: 路灯2
copyFrom: 摆设-大灯.ini

tags: 原始护甲, 建筑, 建筑轻甲
displayText: Lamp
displayText_zh: 路灯


[graphics]
image: 摆设-路灯2.png
image_offsetY: -15


[hiddenAction_地面映射]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='夜间', greaterThan=0)
spawnEffects: CUSTOM:映射


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
#color: #FFFFFF00
scaleFrom: 0.8
scaleTo: 0.8
alpha: 2.0
life: 61
#hOffset: 10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/摆设-雕像.ini
================================================================================

[core]
name: 摆设-雕像
copyFrom: 摆设-列宁墓.ini
maxHp: 1200

tags: 原始护甲, 建筑, 建筑重甲
displayText: Statue
displayText_zh: 雕像
showInEditor: true


[graphics]
image: 摆设-雕像.png
image_offsetY: 0


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
buildSpeed: 0s
addResources: hp=-1020


[hiddenAction_1]
autoTrigger: if self.hp(lessThan=200) and not self.hasFlag(id=1)


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/靶子2.ini
================================================================================


[core]
name: 靶子2
price:0
maxHp: 100
mass: 200
radius: 6

copyFrom: ROOT:\共享文件\3类\炸弹限制.xxhq
showOnMinimap: false
tags: 原始护甲, 建筑轻甲, 建筑
displayText: Invincible target
displayText_zh: 无敌靶子
displayDescription: Special: Cannot be destroyed.\nDisappear after 15 seconds.
displayDescription_zh: 特殊：打是打不死的\n但可以耗死\n靶子很硬，你靶握不住
disableAllUnitCollisions: true
armour: 999999
armourMinDamageToKeep: 0
explodeOnDeath:false
isBuilding: true
effectOnDeath: CUSTOM:土坑


[graphics]
image:  ROOT:\共享文件\1类\隐藏.png

#drawLayer: ground2
#imageScale:	0.56
#image_offsetY: -60
#image_wreak: 靶子2.png
total_frames: 1
disableLowHpFire: true
disableLowHpSmoke: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[arm_1]
x: 0
y: 10

hidden: if self.hp(lessThan=50)
image_end: 靶子.png


[arm_2]
x: 0
y: 10

hidden: if not self.hp(lessThan=50)
image_end: 靶子2.png


[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=15)
deleteSelf: true


[effect_土坑]
image: ROOT:\共享文件\1类\土坑02.png
life: 1200
scaleFrom: 1.02
scaleTo: 1.02
alpha: 0.5
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./2中立/石02-雪.ini
================================================================================


[core]
name: 石02-雪
copyFrom: 石01-雪.ini
displayText: Stone2:snow
displayText_zh: 石02-雪


[graphics]
image:        石02-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/摆设-路灯3.ini
================================================================================

[core]
name: 路灯3
copyFrom: 摆设-大灯.ini

tags: 原始护甲, 建筑, 建筑轻甲
displayText: Lamp
displayText_zh: 路灯


[graphics]
image: 摆设-路灯3.png
image_offsetY: -15


[hiddenAction_地面映射]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='夜间', greaterThan=0)
spawnEffects: CUSTOM:映射


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
#color: #FFFFFF00
scaleFrom: 0.8
scaleTo: 0.8
alpha: 2.0
life: 61
#hOffset: 10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/树08-雪.ini
================================================================================


[core]
name: 树08-雪
copyFrom: 树01.ini
displayText: Tree8:snow
displayText_zh: 树08-雪


[graphics]
image:        树08-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/平民4爬.ini
================================================================================


[core]
name: 平民4爬
price: 0
maxHp: 100
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\血溅.xxhq, ROOT:\共享文件\3类\单位停留.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压, 军官
displayText: Officer
displayText_zh: 军官
showInEditor: false
isBio: true
softCollisionOnAll: 10
fogOfWarSightRange: 8
effectOnDeath: CUSTOM:死亡
soundOnMoveOrder: ROOT:\音频\语音+音效\iciamoa.wav:2, ROOT:\音频\语音+音效\iciamob.wav:2, ROOT:\音频\语音+音效\iciamoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iciasea.wav:2, ROOT:\音频\语音+音效\iciaseb.wav:2, ROOT:\音频\语音+音效\iciasec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iciadia.wav:2, ROOT:\音频\语音+音效\iciadib.wav:2, ROOT:\音频\语音+音效\iciadic.wav:2


[graphics]
image:        平民4.png

#total_frames: 13
imageScale: 0.9
#image_offsetY:-4
frame_width: 60
frame_height: 60
animation_moving_start: 7
animation_moving_end: 12
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 0.5
moveAccelerationSpeed: 0.2
moveDecelerationSpeed: 0.2
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[hiddenAction_1]
autoTrigger: if not self.hasTakenDamage(withinSeconds=1) and self.lastConverted(laterThanSeconds=10)
convertTo: 平民4
clearAllWaypoints: true


[hiddenAction_2]
autoTrigger: if not self.isMoving()
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 100,100


[hiddenAction_被黏杀]
autoTrigger: if (numberOfUnitsInEnemyTeam(withTag='撞击', greaterThan=0, withinRange=30) or numberOfUnitsInEnemyTeam(withTag='撞击2', greaterThan=0, withinRange=40) or numberOfUnitsInEnemyTeam(withTag='撞击3', greaterThan=0, withinRange=40)) and not self.isInWater() and not self.isFlying() and not self.hasParent()
playSoundAtUnit: ROOT:\音频\语音+音效\igensqua.wav:2
deleteSelf: true


[effect_死亡]
image: 平民4死亡.png
scaleFrom: 0.9
scaleTo: 0.9
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.25
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/红场墙2.ini
================================================================================


[core]
name: 红场墙2
price:0
maxHp: 1000
mass: 20000
radius: 40

#displayRadius: 8
tags: 原始护甲, 建筑, 建筑防甲
showOnMinimap: false
#displayText: 建筑
displayText: Building-a2
displayText_zh: 红场墙2
displayDescription: Only for decoration
displayDescription_zh: 特殊：红场墙
#createNeutral: true
#stayNeutral: true
createOnAggressiveTeam: true
isBuilding: true
footprint: -1,0,0,1
displayFootprint: -1,0,1,1
numBitsOnDeath: 20
explodeOnDeath: false
effectOnDeath: CUSTOM:灰, CUSTOM:灰2, CUSTOM:灰3, CUSTOM:飞块, CUSTOM:飞块2, CUSTOM:飞块3
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav, ROOT:\音频\语音+音效\bgendieb.wav, ROOT:\音频\语音+音效\bgendiec.wav, ROOT:\音频\语音+音效\bgendied.wav, ROOT:\音频\语音+音效\bgendiee.wav, ROOT:\音频\语音+音效\bgendief.wav


[graphics]
image: 红场墙2.png

#drawLayer: ground2
total_frames: 2
imageScale:	1.02
image_offsetX: -5
image_offsetY: 0


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
buildSpeed: 0s
addResources: hp=-910


[hiddenAction_1]
autoTrigger: if self.hp(lessThan=100) and not self.hasFlag(id=1)
#stopLastAnimation: true
playAnimation: 损
playSoundAtUnit:  ROOT:\音频\语音+音效\gdamag1a.wav, ROOT:\音频\语音+音效\gdamag1b.wav, ROOT:\音频\语音+音效\gdamag1c.wav, ROOT:\音频\语音+音效\gdamag1d.wav, ROOT:\音频\语音+音效\gdamag1e.wav
#showMessageToAllPlayers: 损
addResources: setFlag=1
#spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:碎片*10, CUSTOM:碎片2*10


[animation_损]
body_0s: {frame:1}
body_999999s: {frame:1}


[effect_飞块]
image: ROOT:\共享文件\1类\灰.png
color: #FF000000
scaleFrom: 4
scaleTo: 10
alpha: 1.2
life: 60
lifeRandom: 30
hSpeed: 1
#hOffset: 0
dirOffsetRandom: 180
xOffsetRelative: -60
yOffsetRelative: 30
xOffsetRelativeRandom: 10
yOffsetRelativeRandom: 10
xSpeedAbsoluteRandom: 0.05
ySpeedAbsoluteRandom: 0.05
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
physics: true
physicsGravity: 0.6
#atmospheric: true


[effect_飞块2]
@copyFromSection: effect_飞块
xOffsetRelative: -10
yOffsetRelative: 10


[effect_飞块3]
@copyFromSection: effect_飞块
xOffsetRelative: 30
yOffsetRelative: -10


[effect_灰]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #FF3C3C3C
fadeInTime: 0
scaleFrom: 7
scaleTo: 8
alpha: 1.2
life: 300
#hOffset: 95
hSpeed: 0.15
dirSpeedRandom: 1
xOffsetRelative: -60
yOffsetRelative: 30
xOffsetRelativeRandom: 10
yOffsetRelativeRandom: 10
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.05
atmospheric:true
#shadow:true
fadeOut: true
attachedToUnit: false
drawUnderUnits: false


[effect_灰2]
@copyFromSection: effect_灰
xOffsetRelative: -10
yOffsetRelative: 10


[effect_灰3]
@copyFromSection: effect_灰
xOffsetRelative: 30
yOffsetRelative: -10


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/树20.ini
================================================================================


[core]
name: 树20
copyFrom: 树01.ini
displayText: Tree20
displayText_zh: 树20


[graphics]
image:        树20.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树08.ini
================================================================================


[core]
name: 树08
copyFrom: 树01.ini
displayText: Tree8
displayText_zh: 树08


[graphics]
image:        树08.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/居民楼8.ini
================================================================================

[core]
name: 居民楼8
copyFrom: 工厂.ini
radius: 30


displayText: Residential building
displayText_zh: 居民楼
exit_x:  20
exit_y:  -5


[graphics]
image:       居民楼8.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/树22.ini
================================================================================


[core]
name: 树22
copyFrom: 树01.ini
displayText: Tree22
displayText_zh: 树22


[graphics]
image:        树22.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/抗议者.ini
================================================================================


[core]
name: 抗议者
price: 0
maxHp: 50
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\血溅.xxhq, ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\单位停留.xxhq, ROOT:\共享文件\3类\冷冻机制.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压
displayText: Protesters
displayText_zh: 抗议者
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 攻击中性, 反伪装, 生物2
buildSpeed: 0.01
isBio: true
softCollisionOnAll: 10
fogOfWarSightRange: 8
soundOnMoveOrder: ROOT:\音频\语音+音效\iciamoa.wav:2, ROOT:\音频\语音+音效\iciamob.wav:2, ROOT:\音频\语音+音效\iciamoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iciasea.wav:2, ROOT:\音频\语音+音效\iciaseb.wav:2, ROOT:\音频\语音+音效\iciasec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iciadia.wav:2, ROOT:\音频\语音+音效\iciadib.wav:2, ROOT:\音频\语音+音效\iciadic.wav:2


[graphics]
image:        抗议者.png

total_frames: 13
imageScale: 0.9
#image_offsetY:-4
frame_width: 66
frame_height: 70
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 8
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
showQueueBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false

isFixedFiring: true

[movement]
movementType: LAND

moveSpeed: 0.7
moveAccelerationSpeed: 0.4
moveDecelerationSpeed: 0.4
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[action_散步]
text: Walk
text_zh: 散步
description: Free walk
description_zh: 自动散步
buildSpeed: 0s
autoTrigger: if self.customTimer(laterThanSeconds=16) and not self.hasFlag(id=0) and not self.hasFlag(id=1)
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 100,100
addWaypoint_maxTime: 30s
resetCustomTimer:true


[hiddenAction_被黏杀]
autoTrigger: if (numberOfUnitsInEnemyTeam(withTag='撞击', greaterThan=0, withinRange=30) or numberOfUnitsInEnemyTeam(withTag='撞击2', greaterThan=0, withinRange=40) or numberOfUnitsInEnemyTeam(withTag='撞击3', greaterThan=0, withinRange=40)) and not self.isInWater() and not self.isFlying() and not self.hasParent()
playSoundAtUnit: ROOT:\音频\语音+音效\igensqua.wav:2
deleteSelf: true


[hiddenAction_跑]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) and not self.isAttacking() and not self.tags(includes='禁止攻击')
#showMessageToAllPlayers: 女平民1:救命啊！
convertTo: 抗议者跑
convertTo_keepCurrentTags: true


[hiddenAction_重置方向]
autoTriggerOnEvent: created
setBodyRotation: 45


[hiddenAction_坠亡]
autoTrigger: if not self.hasParent() and not self.tags(includes='坠亡') and self.isFlying()
temporarilyAddTags: 坠亡


[hiddenAction_坠亡2]
autoTrigger: if self.tags(includes='坠亡') and not self.isFlying()
addResources: hp=-99999


[ai]
notPassivelyTargetedByOtherUnits: true
#upgradedFrom: 间谍
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/铁拒马.ini
================================================================================


[core]
name: 铁拒马
price: 0
maxHp: 600
mass: 150000
radius: 10

copyFrom: ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\冷冻机制.xxhq, ROOT:\共享文件\3类\血条5.xxhq
showOnMinimap: false
tags: 原始护甲, 建筑防甲, 建筑2
displayText: Roadblock
displayText_zh: 铁拒马
displayDescription: Special: Blocking vehicle, decoration.
displayDescription_zh: 特殊：阻挡载具，装饰
isBuilding: true
effectOnDeath: CUSTOM:土坑
createOnAggressiveTeam: true


[graphics]
image:  铁拒马.png

#drawLayer: ground2
imageScale:	1.02
image_offsetX: 7
image_offsetY: -5
#image_wreak: 靶子2.png
#total_frames: 1
rotate_with_direction: false
disableLowHpFire: true
disableLowHpSmoke: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 0
maxTurnSpeed: 0


[hiddenAction_1]
autoTrigger: if self.isMoving()
clearAllWaypoints: true


[effect_土坑]
image: ROOT:\共享文件\1类\土坑02.png
life: 1200
scaleFrom: 1.02
scaleTo: 1.02
alpha: 0.5
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/大使馆.ini
================================================================================


[core]
name: 大使馆
price:0
maxHp: 1200
mass: 2000
radius: 50

#displayRadius: 8
copyFrom: ROOT:\共享文件\3类\血条5.xxhq
tags: 原始护甲, 建筑, 大使馆, 建筑轻甲
showOnMinimap: false
#displayText: 建筑
displayText: Embassy
displayText_zh: 大使馆
createOnAggressiveTeam: true
isBuilding: true
footprint: -4,-3,1,3
displayFootprint: -4,-3,4,3
#constructionFootprint: -7,-3,8,4
numBitsOnDeath: 20
explodeOnDeath: false
effectOnDeath: CUSTOM:炸毁, CUSTOM:炸毁7
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image: 大使馆.png

#drawLayer: ground2
total_frames: 2
imageScale:	1.02
#image_offsetX: 30
image_offsetY: -30


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
buildSpeed: 0s
addResources: hp=-1020


[hiddenAction_1]
autoTrigger: if self.hp(lessThan=200) and not self.hasFlag(id=1)
#stopLastAnimation: true
playAnimation: 损
playSoundAtUnit:  ROOT:\音频\语音+音效\gdamag1a.wav:2, ROOT:\音频\语音+音效\gdamag1b.wav:2, ROOT:\音频\语音+音效\gdamag1c.wav:2, ROOT:\音频\语音+音效\gdamag1d.wav:2, ROOT:\音频\语音+音效\gdamag1e.wav:2
#showMessageToAllPlayers: 损
addResources: setFlag=1
#spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:碎片*10, CUSTOM:碎片2*10


[animation_损]
body_0s: {frame:1}
body_999999s: {frame:1}


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/国旗-苏俄.ini
================================================================================


[core]
name: 国旗-苏俄
copyFrom: 国旗-德国.ini
displayText: Soviet Russia flag
displayText_zh: 苏俄国旗


[graphics]
image:  国旗-苏俄.png

================================================================================
// FILE_PATH: ./2中立/居民楼.ini
================================================================================

[core]
name: 居民楼
copyFrom: 工厂.ini
radius: 45

#footprint: -3,-1,3,0
displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/抗议者2跑.ini
================================================================================


[core]
name: 抗议者2跑
price: 0
maxHp: 50
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\血溅.xxhq, ROOT:\共享文件\3类\单位停留.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压
showInEditor: false
isBio: true
softCollisionOnAll: 10
fogOfWarSightRange: 8
soundOnMoveOrder: ROOT:\音频\语音+音效\iciamoa.wav:2, ROOT:\音频\语音+音效\iciamob.wav:2, ROOT:\音频\语音+音效\iciamoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iciasea.wav:2, ROOT:\音频\语音+音效\iciaseb.wav:2, ROOT:\音频\语音+音效\iciasec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iciadia.wav:2, ROOT:\音频\语音+音效\iciadib.wav:2, ROOT:\音频\语音+音效\iciadic.wav:2


[graphics]
image:        抗议者2.png

total_frames: 13
imageScale: 0.9
#image_offsetY:-4
frame_width: 50
frame_height: 66
animation_moving_start: 7
animation_moving_end: 12
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 0.8
moveAccelerationSpeed: 0.2
moveDecelerationSpeed: 0.2
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[hiddenAction_1]
autoTrigger: if not self.hasTakenDamage(withinSeconds=1) and self.lastConverted(laterThanSeconds=10)
convertTo: 抗议者2
clearAllWaypoints: true


[hiddenAction_2]
autoTrigger: if not self.isMoving()
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 100,100


[hiddenAction_被黏杀]
autoTrigger: if (numberOfUnitsInEnemyTeam(withTag='撞击', greaterThan=0, withinRange=30) or numberOfUnitsInEnemyTeam(withTag='撞击2', greaterThan=0, withinRange=40) or numberOfUnitsInEnemyTeam(withTag='撞击3', greaterThan=0, withinRange=40)) and not self.isInWater() and not self.isFlying() and not self.hasParent()
playSoundAtUnit: ROOT:\音频\语音+音效\igensqua.wav:2
deleteSelf: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/猩猩.ini
================================================================================


[core]
name: 猩猩
price: 资金=10
maxHp: 100
mass: 10000
radius: 8

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压, 克生物, 空下
displayText: Chimpanzee
displayText_zh: 猩猩
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: Low\nDamage building: Low
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：低\n伤害建筑：低
isBio: true
softCollisionOnAll: 10
fogOfWarSightRange: 10
createOnAggressiveTeam: true
effectOnDeath: CUSTOM:猩猩亡
soundOnAttackOrder:  ROOT:\音频\语音+音效\gchiatta.wav:2, ROOT:\音频\语音+音效\gchiattb.wav:2, ROOT:\音频\语音+音效\gchiattc.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\gchimova.wav:2, ROOT:\音频\语音+音效\gchimovb.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\gchisela.wav:2, ROOT:\音频\语音+音效\gchiselb.wav:2
soundOnDeath: ROOT:\音频\语音+音效\gchidiea.wav:2, ROOT:\音频\语音+音效\gchidieb.wav:2


[graphics]
image:        猩猩.png

imageScale:	1.0
#total_frames: 13
#image_offsetX:0
#image_offsetY:0
frame_width: 60
frame_height: 60
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
animation_attack_start: 7
animation_attack_end: 12
animation_attack_speed: 5
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isMelee: true
isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
maxAttackRange: 10
shootDelay: ${int(14*(1/gameSpeedRate))}


[movement]
movementType: LAND

moveSpeed: 1.20
moveAccelerationSpeed: 0.6
moveDecelerationSpeed: 0.6
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\gchiatta.wav, ROOT:\音频\语音+音效\gchiattb.wav, ROOT:\音频\语音+音效\gchiattc.wav
shoot_sound_vol: 2


[projectile_1]
directDamage: 35
life: 60

instant: true
explodeEffect: NONE
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.40
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.20
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.20
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.20
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.20
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 2.00
#delayedStartTimer:  0.5s
#75%,75%,65%,0%,0%,0%,30%,30%,20%,200%,100%


[action_禁止休闲]
text: No rest
text_zh: 禁止休闲
description: Can avoid getting out of player control
description_zh: 禁止在闲静时动作，可以避免脱离玩家控制
isVisible: if not self.hasFlag(id=1)
displayType: upgrade
buildSpeed: 0s
addResources: setFlag=1


[action_禁止休闲2]
text: Rest allowed
text_zh: 取消禁止
description: May be out of the player's control.
description_zh: 取消禁止效果，但不能避免脱离玩家控制
#autoTriggerOnEvent: newWaypointGivenByPlayer
isVisible: if self.hasFlag(id=1)
displayType: upgrade
buildSpeed: 0s
addResources: unsetFlag=1


[hiddenAction_1]
autoTrigger: if not self.isMoving()	and not self.isAttacking() and self.timeAlive(laterThanSeconds=10) and self.lastConverted(laterThanSeconds=10) and not self.hasFlag(id=1) and not self.tags(includes='禁止攻击')
spawnUnits: 猩猩休闲
playSoundAtUnit: ROOT:\音频\语音+音效\gchiamba.wav:2, ROOT:\音频\语音+音效\gchiambb.wav:2, ROOT:\音频\语音+音效\gchiambc.wav:2
deleteSelf: true


[hiddenAction_Ai原地守卫]
autoTrigger: if self.hasUnitInTeam(withTag='Ai守卫点', withinRange=50) and not self.hasActiveWaypoint(type='guard') and not self.hasParent()
clearActiveWaypoint: true
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: Ai守卫点


[hiddenAction_跟随-移动]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='move')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 跟随-移动
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: neutral
#addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 跟随


[hiddenAction_跟随-攻击移动]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='attackMove')
@copyFromSection: hiddenAction_跟随-移动
addWaypoint_type: attackMove
addWaypoint_target_nearestUnit_tagged: 跟随-攻击移动
#showMessageToAllPlayers: 跟随2


[hiddenAction_跟随-守卫]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='guard')
@copyFromSection: hiddenAction_跟随-移动
addWaypoint_type: guard
addWaypoint_target_nearestUnit_tagged: 跟随-守卫
#showMessageToAllPlayers: 跟随3


[hiddenAction_初始价值]
addResources: 价值=5


[effect_猩猩亡]
image: 猩猩死亡.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[template_zijin]
price: 10

================================================================================
// FILE_PATH: ./2中立/树13-雪.ini
================================================================================


[core]
name: 树13-雪
copyFrom: 树01.ini
displayText: Tree13:snow
displayText_zh: 树13-雪


[graphics]
image:        树13-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树23.ini
================================================================================


[core]
name: 树23
copyFrom: 树01.ini
displayText: Tree23
displayText_zh: 树23


[graphics]
image:        树23.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/前哨站.ini
================================================================================

[core]
name:前哨站
price:0
maxHp: 1200
mass: 9000
radius: 50

copyFrom: ROOT:\共享文件\3类\中立建筑共同2.xxhq, ROOT:\共享文件\3类\血条5.xxhq
tags: 原始护甲, 建筑重甲, 建筑2, 房, 占领, 带扩展建筑
displayText: Outpost
displayText_zh: 前哨站
displayDescription: Special: Occupy to get a wide range of vision
displayDescription_zh: 特殊：工程师占领后获得大范围视野
isBuilding:true
footprint: -3,0,3,1
displayFootprint: -4,-1,4,2
fogOfWarSightRange: 60
#numBitsOnDeath: 50
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 工程师, 攻击中性
effectOnDeath: CUSTOM:废墟, CUSTOM:炸毁, CUSTOM:炸毁2, CUSTOM:炸毁3, CUSTOM:炸毁4, CUSTOM:炸毁5
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image:        前哨站.png

total_frames: 3
imageScale:	1.02
#default_frame: 0
#image_offsetX: 0
image_offsetY: -35
#-40
#rotate_with_direction: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[turret_烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 烟


[turret_2烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 2烟


[projectile_烟]
directDamage: 0
life: 60

invisible: true
trailEffect: CUSTOM:烟, CUSTOM:火2, CUSTOM:火
trailEffectRate: 14
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog:true


[projectile_2烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:2烟, CUSTOM:2火2, CUSTOM:2火


[hiddenAction_1]
requireConditional: if self.hp(greaterThan=49)
autoTriggerOnEvent: teamChanged
playSoundAtUnit:  ROOT:\音频\语音+音效\ugarris.wav:2
#stopLastAnimation: true
playAnimation: 驻


[hiddenAction_2]
autoTrigger: if not self.hp(greaterThan=50) and not self.hasFlag(id=0)
playSoundAtUnit:  ROOT:\音频\语音+音效\gdamag1a.wav:2, ROOT:\音频\语音+音效\gdamag1b.wav:2, ROOT:\音频\语音+音效\gdamag1c.wav:2, ROOT:\音频\语音+音效\gdamag1d.wav:2, ROOT:\音频\语音+音效\gdamag1e.wav:2
#showMessageToAllPlayers: 损
addResources: setFlag=0
stopLastAnimation: true
playAnimation: 损
spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:损碎片*10, CUSTOM:损碎片2*10


[hiddenAction_3]
autoTrigger: if self.hp(greaterThan=50) and self.hasFlag(id=0)
stopLastAnimation: true
playAnimation: 驻
addResources: unsetFlag=0


[hiddenAction_冒]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100
playSoundAtUnit:  ROOT:\音频\语音+音效\gfirlo1b.wav, ROOT:\音频\语音+音效\gfirlo1e.wav, ROOT:\音频\语音+音效\gfirlo1f.wav


[hiddenAction_冒2]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 2烟
fireTurretXAtGround_withOffset: 0,100


[hiddenAction_初始价值]
addResources: 价值=25


#[animation_静止]
#onActions:  idle
#body_0s: {frame:0}


[animation_驻]
body_0s: {frame:1}
body_999999s: {frame:1}


[animation_损]
body_0s: {frame:2}
body_999999s: {frame:2}


[effect_烟]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #FF000000
fadeInTime: 11
scaleFrom: 0.5
scaleTo: 2
alpha: 0.75
life: 240
hOffset: 25
hSpeed:0.3
xSpeedAbsolute: -0.2
dirOffsetRandom:180
xOffsetRelative: -45
yOffsetRelative: 0
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 2
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.1
atmospheric:true
shadow:true
fadeOut: true
attachedToUnit: false
drawUnderUnits:false


[effect_火]
@copyFromSection: effect_烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_火2]
@copyFromSection: effect_烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_2烟]
@copyFromSection: effect_烟
hOffset: 15
xOffsetRelative: 12
yOffsetRelative: 0


[effect_2火]
@copyFromSection: effect_2烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_2火2]
@copyFromSection: effect_2烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_废墟]
image: 前哨站毁.png
scaleFrom: 1.02
scaleTo: 1.02
life: 3600
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true
attachedToUnit: false
#xOffsetRelative: 0
yOffsetRelative: 35


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸8.png
scaleFrom: 2
scaleTo: 2
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.2
hOffset: 25
xOffsetRelative: -45
yOffsetRelative: 0
xOffsetRelativeRandom: 5
yOffsetRelativeRandom: 5
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false


[effect_爆炸2]
@copyFromSection: effect_爆炸
hOffset: 15
xOffsetRelative: 12
yOffsetRelative: 0


[effect_损碎片]
image: ROOT:\共享文件\1类\碎片.png
scaleFrom: 1.02
scaleTo: 1.02
life: 600
hOffset: 25
xOffsetRelative: -45
yOffsetRelative: 0
hSpeed: 2
hSpeedRandom: 3
dirSpeedRandom: 20
xSpeedAbsoluteRandom: 2
ySpeedAbsoluteRandom: 1
physics: true
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false


[effect_损碎片2]
@copyFromSection: effect_损碎片
hOffset: 15
xOffsetRelative: 12
yOffsetRelative: 0


[effect_炸毁]
image: ROOT:\共享文件\1类\炸毁5.png
scaleFrom: 1
scaleTo: 1
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
animateFrameSpeedRandom: 0.05
xOffsetRelative: -5
yOffsetRelative: 35
xOffsetRelativeRandom:  5
yOffsetRelativeRandom:  5
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative: 50
yOffsetRelative: 5


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative: -60
yOffsetRelative: 5


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative: -5
yOffsetRelative: -25


[effect_炸毁5]
image: ROOT:\共享文件\1类\爆炸3.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelative: 20
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/工人与集体农村女庄员雕像.ini
================================================================================


[core]
name: 工人与集体农村女庄员雕像
price:0
maxHp: 900
mass: 2000
radius: 35

#displayRadius: 8
tags: 原始护甲, 建筑, 工人与集体农村女庄员雕像, 建筑轻甲
showOnMinimap: false
#displayText: 建筑
copyFrom: ROOT:\共享文件\3类\血条5.xxhq
displayText: Statue Of Workers And Collective Rural Women
displayText_zh: 工人与集体农村女庄员雕像
createOnAggressiveTeam: true
isBuilding: true
footprint: -3,-2,1,2
displayFootprint: -3,-2,3,2
#constructionFootprint: -7,-3,8,4
numBitsOnDeath: 20
explodeOnDeath: false
effectOnDeath: CUSTOM:炸毁, CUSTOM:炸毁7
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image: 工人与集体农村女庄员雕像.png

#drawLayer: ground2
total_frames: 2
imageScale:	1.02
#image_offsetX: 30
image_offsetY: -30


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
buildSpeed: 0s
addResources: hp=-810


[hiddenAction_1]
autoTrigger: if self.hp(lessThan=200) and not self.hasFlag(id=1)
stopLastAnimation: true
playAnimation: 损
playSoundAtUnit:  ROOT:\音频\语音+音效\gdamag1a.wav:2, ROOT:\音频\语音+音效\gdamag1b.wav:2, ROOT:\音频\语音+音效\gdamag1c.wav:2, ROOT:\音频\语音+音效\gdamag1d.wav:2, ROOT:\音频\语音+音效\gdamag1e.wav:2
addResources: setFlag=1, unsetFlag=0, unsetFlag=2
#spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:碎片*10, CUSTOM:碎片2*10


[hiddenAction_2]
autoTrigger: if self.hp(greaterThan=200) and self.transportingCount(empty=true) and not self.hasFlag(id=2)
stopLastAnimation: true
#showMessageToAllPlayers: 无
addResources: setFlag=2, unsetFlag=0, unsetFlag=1


[animation_损]
body_0s: {frame:1}
body_999999s: {frame:1}


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/树27.ini
================================================================================


[core]
name: 树27
copyFrom: 树01.ini
displayText: Tree27
displayText_zh: 树27


[graphics]
image:        树27.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/国旗-罗马尼亚.ini
================================================================================


[core]
name: 国旗-罗马尼亚
copyFrom: 国旗-德国.ini
displayText: Romania flag
displayText_zh: 罗马尼亚国旗

[graphics]
image:        国旗-罗马尼亚.png

================================================================================
// FILE_PATH: ./2中立/沙袋2.ini
================================================================================


[core]
name: 沙袋2
copyFrom: 沙袋.ini
footprint: -1,0,0,0
constructionFootprint: -1,0,0,0
displayText: Sandbag 2
displayText_zh: 沙袋 2


[graphics]
image: 沙袋2.png

image_offsetX:-10
image_offsetY:-15

================================================================================
// FILE_PATH: ./2中立/树17-雪.ini
================================================================================


[core]
name: 树17-雪
copyFrom: 树01.ini
displayText: Tree17:snow
displayText_zh: 树17-雪


[graphics]
image:        树17-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/摆设-路灯4.ini
================================================================================

[core]
name: 路灯4
copyFrom: 摆设-大灯.ini

tags: 原始护甲, 建筑, 建筑轻甲
displayText: Lamp
displayText_zh: 路灯


[graphics]
image: 摆设-路灯4.png
image_offsetY: -15


[hiddenAction_地面映射]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='夜间', greaterThan=0)
spawnEffects: CUSTOM:映射


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
#color: #FFFFFF00
scaleFrom: 0.8
scaleTo: 0.8
alpha: 2.0
life: 61
#hOffset: 10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/摆设-路灯5.ini
================================================================================

[core]
name: 路灯5
copyFrom: 摆设-大灯.ini

tags: 原始护甲, 建筑, 建筑轻甲
displayText: Lamp
displayText_zh: 路灯


[graphics]
image: 摆设-路灯5.png
image_offsetY: -15


[hiddenAction_地面映射]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='夜间', greaterThan=0)
spawnEffects: CUSTOM:映射


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
#color: #FFFFFF00
scaleFrom: 0.8
scaleTo: 0.8
alpha: 2.0
life: 61
#hOffset: 10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/矿石转.ini
================================================================================


[core]
name: 矿石转
price: 100
maxHp: 100
mass: 1000
radius: 20

#onNewMapSpawn: emptyResourcePools_asNeutral
tags: 矿石转, 可扩展矿
isBuilding: true
displayText: Mine
displayText_zh: 矿石转
displayDescription: Special: Can automatically dig out ore.
displayDescription_zh: 特殊：给它一片土壤它就给你变出金子
#disableAllUnitCollisions: true
#nanoRange: 12
#stayNeutral: true
#createNeutral: true
#isUnselectable: true
#placeOnlyOnResPool: true
createOnAggressiveTeam: true
canNotBeDirectlyAttacked: true
showOnMinimap: false
explodeOnDeath: false
effectOnDeath: CUSTOM:土坑


[graphics]
image:        矿石转.png

image_offsetY: -15
total_frames: 6
imageScale: 1.02



[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 240


[movement]
movementType: NONE


[hiddenAction_开局阵营配置]
autoTriggerOnEvent: created
#autoTrigger: if self.timeAlive(laterThanSeconds=2) and not self.hasFlag(id=0)
#addResources: setFlag=0
switchToTeam: -2


[hiddenAction_侦测基地车] 
autoTrigger: if not self.tags(includes='可扩展矿') and (not numberOfUnitsInEnemyTeam(withTag='基地', withinRange=300, greaterThan=0) or not numberOfUnitsInEnemyTeam(withTag='矿厂', withinRange=260, greaterThan=0))
temporarilyAddTags: 可扩展矿


[hiddenAction_侦测基地车2] 
autoTrigger: if self.tags(includes='可扩展矿') and (numberOfUnitsInEnemyTeam(withTag='基地', withinRange=300, greaterThan=0) or numberOfUnitsInEnemyTeam(withTag='矿厂', withinRange=260, greaterThan=0))
temporarilyRemoveTags: 可扩展矿


[action_1]
text: Mining
text_zh: 生成矿
buildSpeed:0
autoTriggerOnEvent: created
spawnUnits: 矿石*50(offsetX=-40, offsetRandomX=200, offsetRandomY=100, gridAlign=true, skipIfOverlapping=true)
playAnimation: 1
isVisible: if not self.tags(includes='高能矿转')


[hiddenAction_2]
autoTrigger: if not self.tags(includes='高能矿转') and self.customTimer(laterThanSeconds=20) and self.numberOfUnitsInTeam(withTag='矿石', withinRange=240, lessThan=60)
resetCustomTimer: true
spawnUnits: 矿石(addResources=hp:-50, offsetX=-40, offsetRandomX=200, offsetRandomY=100, gridAlign=true, skipIfOverlapping=true)
playAnimation: 1


[action_高能矿]
text: Mining3
text_zh: 生成高能矿
buildSpeed:0
spawnUnits: 矿石-高能*50(offsetX=-40, offsetRandomX=200, offsetRandomY=100, gridAlign=true, skipIfOverlapping=true)
playAnimation: 1
isVisible: if self.tags(includes='高能矿转')


[hiddenAction_高能矿2]
autoTrigger: if self.tags(includes='高能矿转') and self.customTimer(laterThanSeconds=20) and self.numberOfUnitsInTeam(withTag='矿石', withinRange=240, lessThan=60)
resetCustomTimer: true
spawnUnits: 矿石-高能(addResources=hp:-50, offsetX=-40, offsetRandomX=200, offsetRandomY=100, gridAlign=true, skipIfOverlapping=true)
playAnimation: 1


[action_高能矿转]
text: Mine3
text_zh: 改为高能矿转
buildSpeed: 0
displayType: action
#allowMultipleInQueue: false
autoTrigger: if self.globalTeamTags(includes='高能矿转') and not self.tags(includes='高能矿转') and self.queueSize(empty=true)
isActive: if not self.tags(includes='高能矿转') and self.queueSize(empty=true)
temporarilyAddTags: 变高能矿石, 高能矿转
alsoQueueAction: 高能矿转2


[hiddenAction_高能矿转2]
buildSpeed: 1
temporarilyRemoveTags: 变高能矿石


[animation_1]
body_0s: {frame:0}
body_1s: {frame:5}


[effect_土坑]
image: ROOT:\共享文件\1类\土坑10.png
life: 1200
scaleFrom: 1.02
scaleTo: 1.02
alpha: 0.5
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./2中立/大使馆2.ini
================================================================================


[core]
name: 大使馆2
price:0
maxHp: 1200
mass: 2000
radius: 50

#displayRadius: 8
copyFrom: ROOT:\共享文件\3类\血条5.xxhq
tags: 原始护甲, 建筑, 大使馆2, 建筑轻甲
showOnMinimap: false
#displayText: 建筑
displayText: Embassy 2
displayText_zh: 大使馆2
createOnAggressiveTeam: true
isBuilding: true
footprint: -5,-3,1,3
displayFootprint: -5,-3,6,3
#constructionFootprint: -7,-3,8,4
numBitsOnDeath: 20
explodeOnDeath: false
effectOnDeath: CUSTOM:炸毁, CUSTOM:炸毁7
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image: 大使馆2.png

#drawLayer: ground2
total_frames: 2
imageScale:	1.02
#image_offsetX: 30
image_offsetY: -30


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
buildSpeed: 0s
addResources: hp=-1020


[hiddenAction_1]
autoTrigger: if self.hp(lessThan=200) and not self.hasFlag(id=1)
#stopLastAnimation: true
playAnimation: 损
playSoundAtUnit:  ROOT:\音频\语音+音效\gdamag1a.wav:2, ROOT:\音频\语音+音效\gdamag1b.wav:2, ROOT:\音频\语音+音效\gdamag1c.wav:2, ROOT:\音频\语音+音效\gdamag1d.wav:2, ROOT:\音频\语音+音效\gdamag1e.wav:2
#showMessageToAllPlayers: 损
addResources: setFlag=1
#spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:碎片*10, CUSTOM:碎片2*10


[animation_损]
body_0s: {frame:1}
body_999999s: {frame:1}


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/沙袋3.ini
================================================================================


[core]
name: 沙袋3
copyFrom: 沙袋2.ini
displayText: Sandbag 3
displayText_zh: 沙袋 3


[graphics]
image: 沙袋3.png

================================================================================
// FILE_PATH: ./2中立/交通灯.ini
================================================================================


[core]
name: 交通灯
price:0
maxHp: 200
mass: 1200
radius:10

#displayRadius: 8
showOnMinimap: false
displayText: Traffic light1
displayText_zh: 交通灯
displayDescription: Do you obey the traffic rules?
displayDescription_zh: 特殊：你遵守交通了么
createNeutral: true
stayNeutral: true
isBuilding: true
explodeOnDeath: false
effectOnDeath: CUSTOM:土坑


[graphics]
image: 交通灯.png

imageScale:	1.02
image_offsetX: -10
image_offsetY: -10


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[effect_土坑]
image: ROOT:\共享文件\1类\土坑02.png
life: 1200
scaleFrom: 1.02
scaleTo: 1.02
alpha: 0.5
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./2中立/树26.ini
================================================================================


[core]
name: 树26
copyFrom: 树01.ini
displayText: Tree26
displayText_zh: 树26


[graphics]
image:        树26.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/石04-雪.ini
================================================================================


[core]
name: 石04-雪
copyFrom: 石01-雪.ini
displayText: Stone4:snow
displayText_zh: 石04-雪


[graphics]
image:        石04-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/矿石-高能.ini
================================================================================


[core]
name: 矿石-高能
price: 矿石=0.05, 矿石2=0.025

copyFrom: 矿石.ini
displayText: Ore
displayText_zh: 矿石-高能
displayDescription: Can exchange more funds.
displayDescription_zh: 特殊：它的价值是普通矿石的1.5倍


[arm_1]
image_end: 矿石-高能.png


[arm_2]
image_end: 矿石-高能2.png


[arm_3]
image_end: 矿石-高能3.png


[arm_4]
image_end: 矿石-高能4.png


[arm_5]
image_end: 矿石-高能5.png


[arm_6]
image_end: 矿石-高能6.png


[hiddenAction_转为高能矿石]
autoTrigger: false


[resource_矿石2]
displayName: 矿石2

================================================================================
// FILE_PATH: ./2中立/猩猩休闲.ini
================================================================================


[core]
name: 猩猩休闲
copyFrom: 猩猩.ini

showInEditor: false


[graphics]
image:        猩猩休闲.png

total_frames: 15
default_frame: 7
#frame_width: 0
#frame_height: 0
animation_moving_start: 0
animation_moving_end: 7
animation_moving_speed: 10
animation_idle_start: 7
animation_idle_end: 7
animation_idle_speed: 8
animation_attack_start: 0
animation_attack_end: 7
animation_attack_speed: 8
animation_direction_units: 0
animation_direction_strideX: 0
animation_direction_strideY: 0
animation_direction_starting: 0
#rotate_with_direction: false
lock_body_rotation_with_main_turret: false


[movement]
moveSpeed: 0


[hiddenAction_1]
@copyFrom_skipThisSection: true


[hiddenAction_2]
autoTrigger: if self.isMoving()	or self.isAttacking() or self.timeAlive(laterThanSeconds=30)
convertTo: 猩猩
convertTo_keepCurrentTags: true


[hiddenAction_休闲]
autoTrigger: if self.customTimer(laterThanSeconds=10)
resetCustomTimer: true
playAnimation: 休闲


[animation_休闲]
start: 0
end: 14
speed: 6

================================================================================
// FILE_PATH: ./2中立/喷泉.ini
================================================================================


[core]
name: 喷泉
price:0
maxHp: 100
mass: 1200
radius: 25

displayRadius: 8
showOnMinimap: false
copyFrom: ROOT:\共享文件\3类\血条3.xxhq
displayText: Fountain
displayText_zh: 喷泉
displayDescription: Decoration
displayDescription_zh: 特殊：你见过它没水的时候么
createNeutral: true
stayNeutral: true
isBuilding: true
footprint: 0,0,1,0
constructionFootprint: 0,0,1,0
explodeOnDeath: false
effectOnDeath: CUSTOM:土坑


[graphics]
image: 喷泉.png

#drawLayer: ground2
#imageScale:	0.56
total_frames: 10
image_offsetX: 10
image_offsetY: -30
animation_idle_start: 0
animation_idle_end: 7
animation_idle_speed: 8


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[effect_土坑]
image: ROOT:\共享文件\1类\土坑10.png
life: 1200
scaleFrom: 1.02
scaleTo: 1.02
alpha: 0.5
xOffsetRelative: 0
yOffsetRelative: 0
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./2中立/树24.ini
================================================================================


[core]
name: 树24
copyFrom: 树01.ini
displayText: Tree24
displayText_zh: 树24


[graphics]
image:        树24.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树18.ini
================================================================================


[core]
name: 树18
copyFrom: 树01.ini
displayText: Tree18
displayText_zh: 树18


[graphics]
image:        树18.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/摆设-小凯旋门.ini
================================================================================

[core]
name: 小凯旋门
copyFrom: 摆设-列宁墓.ini
maxHp: 1500

tags: 原始护甲, 建筑, 建筑重甲, 小凯旋门
displayText: Little Triumphal Arch
displayText_zh: 小凯旋门


[graphics]
image: 摆设-小凯旋门.png
image_offsetY: -40


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
buildSpeed: 0s
addResources: hp=-1350


[hiddenAction_1]
autoTrigger: if self.hp(lessThan=200) and not self.hasFlag(id=1)


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/物资箱.ini
================================================================================


[core]
name: 物资箱
price: 0
maxHp: 100
mass: 1000
radius: 10

#showInEditor: false
tags: 物资箱
displayText: Crate
displayText_zh: 物资箱
displayDescription: Requires unit entry to open.\nGuess what you will get?
displayDescription_zh: 特殊：派一个移动地面单位去打开\n猜猜会获得什么?
isBuilding: true
canNotBeDirectlyAttacked: true
hideScorchMark: true
fogOfWarSightRange:0
stayNeutral: true
createNeutral: true
disableAllUnitCollisions: true
maxTransportingUnits: 1
whileNeutralTransportAnyTeam: true
whileNeutralConvertToTransportedTeam: true
convertToNeutralIfNotTransporting: true
transportUnitsEachUnitAlwaysUsesSingleSlot: true
transportUnitsBlockOtherTransports: false
exit_moveAwayAmount: 0


[graphics]
image:        物资箱.png

imageScale:	1.02
image_offsetX: 0
image_offsetY: -15
#image_wreak:  NONE
showTransportBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[attachment_1]
x:0
y:0

height:0
canAttack: true
keepAliveWhenParentDies: true
canBeAttackedAndDamaged: true
addTransportedUnits: true
unloadInCurrentPosition: true
lockRotation: false
isUnselectable: false
rotateWithParent: false
alwaysAllowedToAttackParentsMainTarget: true
onParentTeamChangeKeepCurrentTeam: true


[hiddenAction_1]
autoTrigger: if self.transportingCount(greaterThan=0)
#forceUnloadTransportNow: true
spawnUnits: 钱+5000(spawnChance=0.25, maxSpawnLimit=1), 升级+满(spawnChance=0.25, maxSpawnLimit=1), 升级+1(spawnChance=0.25, maxSpawnLimit=1), 箱子效果-护甲(spawnChance=0.25, maxSpawnLimit=1), 箱子效果-火力(spawnChance=0.25, maxSpawnLimit=1), 生命+满(maxSpawnLimit=1)
deleteSelf: true

================================================================================
// FILE_PATH: ./2中立/空降控制台.ini
================================================================================


[core]
name:空降控制台
price:0
maxHp: 1000
mass: 9000
radius: 50

showInEditor: false
copyFrom: ROOT:\共享文件\3类\中立建筑共同2.xxhq, ROOT:\共享文件\3类\血条5.xxhq
tags: 原始护甲, 建筑重甲, 建筑, 房, 占领, 空降控制台, 带扩展建筑
displayText: Airborne console
displayText_zh: 空降控制台
displayDescription: Special: After occupation, you can get the ability to airdrop basic infantry.\nNeed time to prepare.
displayDescription_zh: 特殊：工程师占领后可获得空投步兵权限\n不过需要时间准备
isBuilding:true
footprint: -3,0,3,1
displayFootprint: -4,-1,4,2
fogOfWarSightRange: 10
#buildSpeed: 10s
#numBitsOnDeath: 50
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 工程师, 攻击中性
effectOnDeath: CUSTOM:废墟, CUSTOM:炸毁, CUSTOM:炸毁2, CUSTOM:炸毁3, CUSTOM:炸毁4, CUSTOM:炸毁5
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image:        空降控制台.png

total_frames: 20
imageScale:	1.02
#frame_width: 416
#frame_height: 332
#default_frame: 0
image_offsetX: 0
image_offsetY: -40
#rotate_with_direction: false
#lock_body_rotation_with_main_turret: false


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

turretMultiTargeting: true


[movement]
movementType:BUILDING


[turret_1]
x: 0
y: 0

canShoot: false


[turret_空投]
x: 0
y: 0

canShoot: false
limitingRange: 9999
#shoot_sound: nuke_launch
#shoot_sound_vol:0.08
projectile: 空投


[turret_空投-Ai]
x: 0
y: 0

canAttackCondition: if self.queueSize(empty=true) and self.isControlledByAI() and self.teamId!=-2
canOnlyAttackUnitsWithTags: 基地
limitingRange: 9999
onShoot_triggerActions: 空投2-Ai
projectile: 空投-Ai


[turret_空投-Ai2]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and self.queueSize(empty=true) and self.isControlledByAI() and self.teamId!=-2
canOnlyAttackUnitsWithTags: 车厂, 机场, 兵营
limitingRange: 9999
onShoot_triggerActions: 空投2-Ai
projectile: 空投


[turret_空投-Ai3]
x: 0
y: 0

canAttackCondition: if not numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='车厂', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='兵营', greaterThan=0) and not numberOfUnitsInEnemyTeam(withTag='机场', greaterThan=0) and self.queueSize(empty=true) and self.isControlledByAI() and self.teamId!=-2
#canOnlyAttackUnitsWithTags: 
canOnlyAttackUnitsWithoutTags: 基地, 车厂, 机场, 兵营
limitingRange: 9999
onShoot_triggerActions: 空投2-Ai
projectile: 空投


[turret_烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 烟


[turret_2烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 2烟


[projectile_空投]
directDamage: 0
life: 60

instant: true
targetGround: true
explodeEffect: NONE
spawnUnit: 空投点


[projectile_空投-Ai]
directDamage: 0
life: 60

@copyFromSection: projectile_空投
targetGroundSpread: 300


[projectile_烟]
directDamage: 0
life: 60

invisible: true
trailEffect: CUSTOM:烟, CUSTOM:火2, CUSTOM:火
trailEffectRate: 14
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog:true


[projectile_2烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:2烟, CUSTOM:2火2, CUSTOM:2火


[action_空投]
text: Ready
text_zh: 已就绪
description: Set your airdrop location and wait for the airdrop plane to arrive.
description_zh: 设置你的空投位置，然后等待飞机的到来
isVisible: if self.queueSize(empty=true)
isActive: if not self.tags(includes='禁止攻击')
buildSpeed: 0s
displayType: rally
fireTurretXAtGround: 空投
produceUnits: 空投飞机
alsoQueueAction: 空投2
isGuiBlinking: if self.queueSize(empty=true)


[hiddenAction_空投2]
buildSpeed: 120s


[hiddenAction_空投2-Ai]
produceUnits: 空投飞机
alsoQueueAction: 空投2
#showMessageToAllPlayers: 触发


[hiddenAction_空投3]
autoTriggerOnEvent: teamChanged
alsoQueueAction: 空投2


[hiddenAction_1]
autoTrigger: if not self.hp(greaterThan=50) and not self.hasFlag(id=0)
playSoundAtUnit:  ROOT:\音频\语音+音效\gdamag1a.wav:2, ROOT:\音频\语音+音效\gdamag1b.wav:2, ROOT:\音频\语音+音效\gdamag1c.wav:2, ROOT:\音频\语音+音效\gdamag1d.wav:2, ROOT:\音频\语音+音效\gdamag1e.wav:2
#showMessageToAllPlayers: 损
addResources: setFlag=0
spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:损碎片*10, CUSTOM:损碎片2*10


[hiddenAction_2]
autoTrigger:if self.hasFlag(id=0)
playAnimation: 损


[hiddenAction_3]
autoTrigger: if self.hp(greaterThan=50) and self.hasFlag(id=0)
stopLastAnimation: true
#showMessageToAllPlayers: 无
addResources: unsetFlag=0


[hiddenAction_冒]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100
playSoundAtUnit:  ROOT:\音频\语音+音效\gfirlo1b.wav, ROOT:\音频\语音+音效\gfirlo1e.wav, ROOT:\音频\语音+音效\gfirlo1f.wav


[hiddenAction_冒2]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 2烟
fireTurretXAtGround_withOffset: 0,100


[hiddenAction_初始价值]
addResources: 价值=35


[animation_静止]
onActions:  idle
body_0s: {frame:0}
body_1s: {frame:9}


[animation_损]
body_0s: {frame:11}
body_1.1s: {frame:19}


[effect_烟]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #FF000000
fadeInTime: 11
scaleFrom: 0.5
scaleTo: 2
alpha: 0.75
life: 240
hOffset: 10
hSpeed:0.3
xSpeedAbsolute: -0.2
dirOffsetRandom:180
xOffsetRelative: -65
yOffsetRelative: 0
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 2
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.1
atmospheric:true
shadow:true
fadeOut: true
attachedToUnit: false
drawUnderUnits:false


[effect_火]
@copyFromSection: effect_烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_火2]
@copyFromSection: effect_烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_2烟]
@copyFromSection: effect_烟
hOffset: 35
xOffsetRelative: -10
yOffsetRelative: 0


[effect_2火]
@copyFromSection: effect_2烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_2火2]
@copyFromSection: effect_2烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_废墟]
image: 空降控制台毁.png
scaleFrom: 1.02
scaleTo: 1.02
life: 3600
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true
attachedToUnit: false
xOffsetRelative: 0
yOffsetRelative: 40


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸8.png
scaleFrom: 2
scaleTo: 2
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.2
hOffset: 10
xOffsetRelative: -65
yOffsetRelative: 0
xOffsetRelativeRandom: 5
yOffsetRelativeRandom: 5
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false


[effect_爆炸2]
@copyFromSection: effect_爆炸
hOffset: 35
xOffsetRelative: -10
yOffsetRelative: 0


[effect_损碎片]
image: ROOT:\共享文件\1类\碎片.png
scaleFrom: 1.02
scaleTo: 1.02
life: 600
hOffset: 10
xOffsetRelative: -65
yOffsetRelative: 0
hSpeed: 2
hSpeedRandom: 3
dirSpeedRandom: 20
xSpeedAbsoluteRandom: 2
ySpeedAbsoluteRandom: 1
physics: true
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false


[effect_损碎片2]
@copyFromSection: effect_损碎片
hOffset: 35
xOffsetRelative: -10
yOffsetRelative: 0


[effect_炸毁]
image: ROOT:\共享文件\1类\炸毁5.png
scaleFrom: 1
scaleTo: 1
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
animateFrameSpeedRandom: 0.05
xOffsetRelative: -5
yOffsetRelative: 35
xOffsetRelativeRandom:  5
yOffsetRelativeRandom:  5
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative: 50
yOffsetRelative: 5


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative: -60
yOffsetRelative: 5


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative: -5
yOffsetRelative: -25


[effect_炸毁5]
image: ROOT:\共享文件\1类\爆炸3.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelative: 20
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[ai]
#notPassivelyTargetedByOtherUnits: true
lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/摆设-路灯6.ini
================================================================================

[core]
name: 路灯6
copyFrom: 摆设-大灯.ini

tags: 原始护甲, 建筑, 建筑轻甲
displayText: Lamp
displayText_zh: 路灯


[graphics]
image: 摆设-路灯6.png
image_offsetY: -15


[hiddenAction_地面映射]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='夜间', greaterThan=0)
spawnEffects: CUSTOM:映射


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
#color: #FFFFFF00
scaleFrom: 0.8
scaleTo: 0.8
alpha: 2.0
life: 61
#hOffset: 10
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/树15-雪.ini
================================================================================


[core]
name: 树15-雪
copyFrom: 树01.ini
displayText: Tree15:snow
displayText_zh: 树15-雪


[graphics]
image:        树15-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/摆设-铁栅栏.ini
================================================================================

[core]
name: 铁栅栏
price: 0
maxHp: 50
mass: 1000
radius: 20

copyFrom: ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\冷冻机制.xxhq
tags: 原始护甲, 建筑轻甲, 建筑, 铁栅栏
displayText: Iron Fence
displayText_zh: 铁栅栏
displayDescription: Special: Defense, blocking and decoration.
displayDescription_zh: 特殊：防御、阻挡和装饰
buildSpeed: 0
selfBuildRate: 0s
isBuilding:true
footprint: 0,0,0,0
constructionFootprint: 0,0,0,0
fogOfWarSightRange: 4
numBitsOnDeath: 10
createOnAggressiveTeam: true
explodeOnDeath: false
soundOnDeath: ROOT:\音频\语音+音效\gblacrua.wav:2, ROOT:\音频\语音+音效\gblacrub.wav:2


[graphics]
image: 摆设-铁栅栏.png

total_frames: 1
imageScale: 1.4
image_offsetX: 0
image_offsetY: -4
image_wreak:NONE
image_shadow:NONE


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[hiddenAction_被创到]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='碾压', greaterThan=0, withinRange=20)
addResources: hp=-60
#playSoundAtUnit: ROOT:\音频\语音+音效\gblacrua.wav:2, ROOT:\音频\语音+音效\gblacrub.wav:2


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/树28-雪.ini
================================================================================


[core]
name: 树28-雪
copyFrom: 树01.ini
displayText: Tree28:snow
displayText_zh: 树28-雪


[graphics]
image:        树28-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树19.ini
================================================================================


[core]
name: 树19
copyFrom: 树01.ini
displayText: Tree19
displayText_zh: 树19


[graphics]
image:        树19.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/广告牌2右.ini
================================================================================


[core]
name: 广告牌2右
price:0
maxHp: 500
mass: 2000
radius: 50

copyFrom: ROOT:\共享文件\3类\碎片2.xxhq
#displayRadius: 20
showOnMinimap: false
tags: 原始护甲, 建筑轻甲, 建筑2
displayText: Billboard-1
displayText_zh: 广告牌2右
displayDescription: Interesting
displayDescription_zh: 特殊：有意思
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 攻击中性
isBuilding: true
footprint: -2,0,1,1
constructionFootprint: -2,0,1,1
numBitsOnDeath: 10
explodeOnDeath: false
effectOnDeath: CUSTOM:土坑*3


[graphics]
image: 广告牌2右.png

#drawLayer: ground2
imageScale:	1.02
total_frames: 1
image_offsetX: 25
image_offsetY: -20
#animation_idle_start: 0
#animation_idle_end: 0
#animation_idle_speed: 8


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[hiddenAction_碎片]
fireTurretXAtGround_count: 4


[effect_土坑]
image: ROOT:\共享文件\1类\土坑02.png
life: 1200
scaleFrom: 1.02
scaleTo: 1.02
alpha: 0.5
xOffsetRelative: 0
yOffsetRelative: 0
xOffsetRelativeRandom:  30
yOffsetRelativeRandom:  30
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/树25.ini
================================================================================


[core]
name: 树25
copyFrom: 树01.ini
displayText: Tree25
displayText_zh: 树25


[graphics]
image:        树25.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树24-雪.ini
================================================================================


[core]
name: 树24-雪
copyFrom: 树01.ini
displayText: Tree24:snow
displayText_zh: 树24-雪


[graphics]
image:        树24-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/矿石转2.ini
================================================================================


[core]
name: 矿石转2
copyFrom: 矿石转.ini
price: 矿石=1

tags: 矿石转
displayText: Mine2
displayText_zh: 矿石转2
displayDescription: A combination of ore and mine, but provides less ore than mine.
displayDescription_zh: 特殊：矿石＋矿石转的结合体，但提供的资源比矿石转少
resourceRate: 0.01
#resourceMaxConcurrentReclaimingThis: 2
#disableAllUnitCollisions: true
disableDeathOnZeroHp: true
onNewMapSpawn: emptyOrOccupiedResourcePools_asNeutral
#放置在资源坑的单位无法被吸取者触发自动吸取，但可以被手动吸取


[graphics]
#showHealthBar: false
disableLowHpFire: true
disableLowHpSmoke: true


[attack]
showRangeUIGuide: false


[action_1]
@copyFrom_skipThisSection: true


[hiddenAction_2]
@copyFrom_skipThisSection: true


[hiddenAction_3]
autoTrigger: if self.customTimer(laterThanSeconds=120) and self.hp(lessThan=100)
resetCustomTimer: true
addResources: hp=20
playAnimation: 1
#showMessageToAllPlayers: 触发＋


[hiddenAction_4]
autoTrigger: if self.hp(lessThan=20) and self.tags(includes='矿石')   
#showMessageToAllPlayers: 去掉标签
temporarilyRemoveTags: 矿石


[hiddenAction_5]
autoTrigger: if not self.hp(lessThan=20) and not self.tags(includes='矿石')
temporarilyAddTags: 矿石
#showMessageToAllPlayers: 增加标签


[action_高能矿]
@copyFrom_skipThisSection: true


[hiddenAction_高能矿2]
@copyFrom_skipThisSection: true


[action_高能矿转]
#isActive: if not self.tags(includes='高能矿转')
alsoQueueAction: none
#deleteSelf: true
#spawnUnits: 矿石转3
convertTo: 矿石转3
autoTrigger: if self.globalTeamTags(includes='高能矿转')


[hiddenAction_高能矿转2]
@copyFrom_skipThisSection: true


[hiddenAction_矿转位移]
autoTriggerOnEvent: created
offsetSelfAbsolute: 0, -20, 0 
temporarilyAddTags: 矿石
#showMessageToAllPlayers: 测试


[resource_矿石]
displayName: 矿石

================================================================================
// FILE_PATH: ./2中立/树28.ini
================================================================================


[core]
name: 树28
copyFrom: 树01.ini
displayText: Tree28
displayText_zh: 树28


[graphics]
image:        树28.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树14.ini
================================================================================


[core]
name: 树14
copyFrom: 树01.ini
displayText: Tree14
displayText_zh: 树14


[graphics]
image:        树14.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/摆设-路灯.ini
================================================================================

[core]
name: 路灯
copyFrom: 摆设-大灯.ini

tags: 原始护甲, 建筑, 建筑轻甲
displayText: Lamp
displayText_zh: 路灯


[graphics]
image: 摆设-路灯.png
image_offsetY: -15


[hiddenAction_地面映射]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='夜间', greaterThan=0)
spawnEffects: CUSTOM:映射


[effect_映射]
image: ROOT:\共享文件\1类\映射.png
#color: #FFFFFF00
scaleFrom: 0.8
scaleTo: 0.8
alpha: 2.0
life: 61
hOffset: 0
attachedToUnit: true
drawUnderUnits: true
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/树19-雪.ini
================================================================================


[core]
name: 树19-雪
copyFrom: 树01.ini
displayText: Tree19:snow
displayText_zh: 树19-雪


[graphics]
image:        树19-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/油桶2.ini
================================================================================

[core]
name: 油桶2
price:0
maxHp:10
mass: 800
radius: 10

tags: 原始护甲, 建筑防甲, 烧死人
displayText: Oil drum2
displayText_zh: 油桶2
displayDescription: Be careful not to get bombed!
displayDescription_zh: 特殊：靠近它然后打爆它来证明你有多厚
displayRadius: 12
fogOfWarSightRange: 0
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 攻击中性
isBuilding: true
fireTurretXAtSelfOnDeath:1
explodeOnDeath: false
effectOnDeath: CUSTOM:土坑
soundOnDeath: ROOT:\音频\语音+音效\gexpbara.wav:2, ROOT:\音频\语音+音效\gexpbarb.wav:2, ROOT:\音频\语音+音效\gexpbarc.wav:2


[graphics]
image: 油桶2.png

#drawLayer: ground2
imageScale:	1.02
image_offsetX: 0
image_offsetY: -10


[attack]
canAttack: false
canAttackFlyingUnits:false
canAttackLandUnits:false
canAttackUnderwaterUnits:false

maxAttackRange: 140


[movement]
movementType:BUILDING


[turret_1]
x:0
y:0


[projectile_1]
areaDamage: 500
life:100

areaRadius: 140
explodeEffect: CUSTOM:爆炸效果
speed:0
targetGround:true
friendlyFire:true
spawnUnit: 引火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 1.0
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 2.0
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 2.0
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 2.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.8


[effect_爆炸效果]
image: 油桶爆炸2.png
scaleTo:1.02
scaleFrom:1.02
#total_frames: 23
frame_width: 133
frame_height: 124
animateFrameStart: 0
animateFrameEnd: 22
animateFrameSpeed: 0.35
alwayStartDirAtZero:true
#alsoPlaySound:巨炮.ogg


[effect_土坑]
image: ROOT:\共享文件\1类\土坑12.png
life: 1200
scaleFrom: 1.02
scaleTo: 1.02
alpha: 1.0
xOffsetRelative: 0
yOffsetRelative: -15
spawnChance: 0.5
ifSpawnFailsEmitEffects: CUSTOM:土坑2
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_土坑2]
@copyFromSection: effect_土坑
image: ROOT:\共享文件\1类\土坑11.png
spawnChance: 1
ifSpawnFailsEmitEffects: NONE


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/树01.ini
================================================================================


[core]
name: 树01
maxHp: 150
price: 0
mass: 500
radius: 10

tags: 树
#onNewMapSpawn: emptyResourcePools_asNeutral
isBuilding: true
#stayNeutral: true
#createNeutral: true
displayText: Tree1
displayText_zh: 树01
displayDescription: Get in the way and decorate.
displayDescription_zh: 特殊：挡路和装饰\n幻影坦克的庇护所
showOnMinimap: false
explodeOnDeath: false
createOnAggressiveTeam: true
canOnlyBeAttackedByUnitsWithTags: 无
isUnselectable: true
#disableAllUnitCollisions: true
#hideScorchMark: true
#canNotBeDirectlyAttacked: false
#selfRegenRate:0.1
#dont_load: true


[graphics]
image:        树01.png

imageScale:	1.02
#image_offsetY:0
#image_offsetX:0
teamColoringMode: disabled
showHealthBar: false
#whenBeingBuiltMakeTransparentTill:0
#image_wreak:  NONE


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: NONE


[hiddenAction_1]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='碾压', greaterThan=0, withinRange=20)
addResources: hp=-200
#showMessageToAllPlayers: 触发

================================================================================
// FILE_PATH: ./2中立/树15.ini
================================================================================


[core]
name: 树15
copyFrom: 树01.ini
displayText: Tree15
displayText_zh: 树15


[graphics]
image:        树15.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/墙墩.ini
================================================================================

[core]
name:墙墩
price: 0
maxHp: 1200
mass: 1000
radius: 20

copyFrom: ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\冷冻机制.xxhq
tags: 原始护甲, 建筑重甲, 建筑2, 墙中
displayText: Wall 1
displayText_zh: 墙墩
displayDescription: Special: Defense, blocking and decoration.
displayDescription_zh: 特殊：防御、阻挡和装饰
buildSpeed: 0
selfBuildRate: 0s
isBuilding:true
footprint: 0,0,0,0
constructionFootprint: 0,0,0,0
fogOfWarSightRange: 4
numBitsOnDeath: 10
createOnAggressiveTeam: true
explodeTypeOnDeath: small
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2



[graphics]
image: 墙墩.png

total_frames: 3
imageScale: 1.4
image_offsetX: 0
image_offsetY: -20
image_wreak:NONE
image_shadow:NONE


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[action_1]
text: Damaged
text_zh: 损坏
displayType: upgrade
#isVisible: if numberOfUnitsInAggressiveTeam(withTag='墙中', greaterThan=0, withinRange=20)
buildSpeed: 0s
addResources: hp=-400


[hiddenAction_2]
autoTrigger: if self.hp(greaterThan=400, lessThan=801)
#stopLastAnimation: true
playAnimation: 损
#showMessageToAllPlayers: 损


[hiddenAction_3]
autoTrigger: if not self.hp(greaterThan=400)
#stopLastAnimation: true
playAnimation: 损2
#showMessageToAllPlayers: 损2


[animation_损]
body_0s: {frame:1}
body_1.1s: {frame:1}


[animation_损2]
body_0s: {frame:2}
body_1.1s: {frame:2}


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/矿石转3.ini
================================================================================


[core]
name: 矿石转3
copyFrom: 矿石转.ini
price: 矿石=1, 矿石2=0.5

tags: 矿石转
displayText: Mine3
displayText_zh: 矿石转3
displayDescription: A combination of ore and mine, but high energy ore provided.
displayDescription_zh: 特殊：高能矿石＋矿石转的结合体，提供的资源比矿石转2多
resourceRate: 0.01
disableDeathOnZeroHp: true


[graphics]
#showHealthBar: false
disableLowHpFire: true
disableLowHpSmoke: true


[attack]
showRangeUIGuide: false


[action_1]
@copyFrom_skipThisSection: true


[hiddenAction_2]
@copyFrom_skipThisSection: true


[hiddenAction_3]
autoTrigger: if self.customTimer(laterThanSeconds=120) and self.hp(lessThan=100)
resetCustomTimer: true
addResources: hp=20
playAnimation: 1
#showMessageToAllPlayers: 触发＋


[hiddenAction_4]
autoTrigger: if self.hp(lessThan=20) and self.tags(includes='矿石')   
#showMessageToAllPlayers: 去掉标签
temporarilyRemoveTags: 矿石


[hiddenAction_5]
autoTrigger: if not self.hp(lessThan=20) and not self.tags(includes='矿石')
temporarilyAddTags: 矿石
#showMessageToAllPlayers: 触发


[action_高能矿]
@copyFrom_skipThisSection: true


[hiddenAction_高能矿2]
@copyFrom_skipThisSection: true


[action_高能矿转]
@copyFrom_skipThisSection: true


[hiddenAction_高能矿转2]
@copyFrom_skipThisSection: true


[hiddenAction_矿转位移]
autoTriggerOnEvent: created
#offsetSelfAbsolute: 0, -20, 0
temporarilyAddTags: 矿石
#showMessageToAllPlayers: 测试


[resource_矿石]
displayName: 矿石


[resource_矿石2]
displayName: 矿石2

================================================================================
// FILE_PATH: ./2中立/树02-雪.ini
================================================================================


[core]
name: 树02-雪
copyFrom: 树01.ini
displayText: Tree2:snow
displayText_zh: 树02-雪


[graphics]
image:        树02-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/居民楼3.ini
================================================================================

[core]
name: 居民楼3
copyFrom: 工厂.ini
radius: 30


displayText: Residential building
displayText_zh: 居民楼
exit_x:  20
exit_y:  -5


[graphics]
image:       居民楼3.png

image_offsetX: -10
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/树03.ini
================================================================================


[core]
name: 树03
copyFrom: 树01.ini
displayText: Tree3
displayText_zh: 树03


[graphics]
image:        树03.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树17.ini
================================================================================


[core]
name: 树17
copyFrom: 树01.ini
displayText: Tree17
displayText_zh: 树17


[graphics]
image:        树17.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/感染者.ini
================================================================================


[core]
name: 感染者
price: 资金=10
maxHp: 320
mass: 300
radius: 10

copyFrom: ROOT:\共享文件\3类\升级机制2.xxhq, ROOT:\共享文件\3类\阵营生物共同.xxhq
tags: 原始护甲, 生物, 克生物, 步兵中甲, 免疫心控, 免疫迷幻, 免疫普通碾压, 突变死人2
displayText: Zombie
displayText_zh: 感染者
displayDescription: Target: Ground unit\nDamage creature: High\nDamage armor: Low\nDamage building: Low\nSpecial: There is a 75% probability that death will revive, and a 50% probability that resurrection will change the form.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：高\n伤害装甲：低\n伤害建筑：低\n特殊：近战攻击\n死亡有50%概率会复活，复活有50%的概率会变换形态。
isBio: true
buildSpeed: 2s
softCollisionOnAll: 5
fogOfWarSightRange: 15
effectOnDeath: CUSTOM:感染者死亡
createOnAggressiveTeam: true
soundOnAttackOrder:  ROOT:\音频\语音+音效\gmumatta.wav:2, ROOT:\音频\语音+音效\gmumattb.wav:2, ROOT:\音频\语音+音效\gmumattc.wav:2
soundOnMoveOrder: ROOT:\音频\语音+音效\gmummova.wav:2, ROOT:\音频\语音+音效\gmummovb.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\gmumsela.wav:2, ROOT:\音频\语音+音效\gmumselb.wav:2, ROOT:\音频\语音+音效\gmumselc.wav:2
soundOnDeath: ROOT:\音频\语音+音效\gmumdiea.wav:2, ROOT:\音频\语音+音效\gmumdieb.wav:2, ROOT:\音频\语音+音效\gmumdiec.wav:2, ROOT:\音频\语音+音效\gmumdied.wav:2


[graphics]
#icon_build: ROOT:\单位图标\尤里\生物\狂兽人图标.png
image:        感染者.png

imageScale:	0.9
total_frames: 18
frame_width: 60
frame_height: 60
image_offsetY: -6
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
animation_attack_start: 7
animation_attack_end: 17
animation_attack_speed: 5
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isMelee: true
isFixedFiring: true
turretSize: 0
turretTurnSpeed: 3
maxAttackRange: 0
shootDelay: 90
canOnlyAttackUnitsWithoutTags: 驾驶, 伪装


[movement]
movementType: LAND

moveSpeed: 0.8
moveAccelerationSpeed: 1.0
moveDecelerationSpeed: 1.0
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

shoot_sound: ROOT:\音频\语音+音效\gmumatta.wav
shoot_sound_vol: 2
projectile: 1


[projectile_1]
directDamage: 80
life: 60

instant: true
explodeEffect: CUSTOM:电星
delayedStartTimer: 15
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1.00
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 1.00
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.80
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.40
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.30
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.20
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.20
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.20
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.20
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 1.00


[hiddenAction_跟随-移动]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='move')
clearActiveWaypoint: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 跟随-移动
addWaypoint_target_mapMustBeReachable: false
#addWaypoint_target_nearestUnit_team: neutral
#addWaypoint_maxTime: 5s
#showMessageToAllPlayers: 跟随


[hiddenAction_跟随-攻击移动]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='attackMove')
@copyFromSection: hiddenAction_跟随-移动
addWaypoint_type: attackMove
addWaypoint_target_nearestUnit_tagged: 跟随-攻击移动
#showMessageToAllPlayers: 跟随2


[hiddenAction_跟随-守卫]
autoTrigger: if numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0) and not numberOfUnitsInTeam(withTag='跟随-移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-攻击移动', greaterThan=0, withinRange=150) and not numberOfUnitsInTeam(withTag='跟随-守卫', greaterThan=0, withinRange=150) and not self.hasActiveWaypoint(type='guard')
@copyFromSection: hiddenAction_跟随-移动
addWaypoint_type: guard
addWaypoint_target_nearestUnit_tagged: 跟随-守卫
#showMessageToAllPlayers: 跟随3


[hiddenAction_初始价值]
addResources: 价值=10


[effect_感染者死亡]
image: 感染者死亡.png
scaleFrom: 0.9
scaleTo: 0.9
total_frames: 8
animateFrameStart: 0
animateFrameEnd: 7
animateFrameSpeed: 0.25
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[effect_电星]
image: ROOT:\共享文件\1类\灰.png
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 5
alpha: 1.2
life: 60
hSpeed: 0.6
dirOffsetRandom: 180
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[template_zijin]
price: 10


[ai]
useAsAttacker: true
buildPriority: 0.55
noneGlobalExtraPriority: 0.55
maxGlobal: 12


================================================================================
// FILE_PATH: ./2中立/摆设-椅子3.ini
================================================================================

[core]
name: 椅子3
copyFrom: 摆设-大灯.ini

tags: 原始护甲, 建筑, 建筑轻甲
displayText: Chair
displayText_zh: 椅子


[graphics]
image: 摆设-椅子3.png
image_offsetY: 0

[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/摆设-椅子2.ini
================================================================================

[core]
name: 椅子2
copyFrom: 摆设-大灯.ini

tags: 原始护甲, 建筑, 建筑轻甲
displayText: Chair
displayText_zh: 椅子


[graphics]
image: 摆设-椅子2.png
image_offsetY: 0

[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/交通灯4.ini
================================================================================


[core]
name: 交通灯4
copyFrom: 交通灯.ini

displayText: Traffic light4
displayText_zh: 交通灯4


[graphics]
image: 交通灯4.png

image_offsetX: 0
image_offsetY: -15

================================================================================
// FILE_PATH: ./2中立/车002b1.ini
================================================================================


[core]
name: 车002b1
copyFrom: 车002a.ini

displayText: vehicle2b1
displayText_zh: 车2b1


[hiddenAction_宣传]
autoTrigger: if self.customTimer(laterThanSeconds=10) and not self.tags(includes='禁止攻击')
resetCustomTimer: true
playSoundAtUnit: ROOT:\音频\语音+音效\vproloa.wav:2, ROOT:\音频\语音+音效\vprolob.wav:2, ROOT:\音频\语音+音效\vproloc.wav:2, ROOT:\音频\语音+音效\vprolod.wav:2, ROOT:\音频\语音+音效\vproloe.wav:2


[graphics]
image:        车002b1.png

frame_width: 70
frame_height: 70
image_offsetX: 5
#image_offsetY: -10
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270

================================================================================
// FILE_PATH: ./2中立/拖船.ini
================================================================================


[core]
name: 拖船
price: 资金=100
maxHp: 200
mass: 12000
radius: 35

copyFrom: ROOT:\共享文件\3类\阵营船舰共同.xxhq
tags: 原始护甲, 载具轻甲, 中级, 装甲, 船舰, 船坞维修, 可空, 空下, 游轮
#overrideAndReplace: heavyMissileShip, missileShip, nautilusSubmarine
displayText: Tug
displayText_zh: 拖船
buildSpeed: 2s
fogOfWarSightRange: 16
createOnAggressiveTeam: true


[graphics]
#icon_build: ROOT:\单位图标\盟军\载具\神盾巡洋舰图标.png
image:        拖船.png

#imageScale: 0.95
total_frames: 1
frame_width: 100
frame_height: 100
image_offsetX: 0
image_offsetY: 10
#image_wreak:  NONE
#splastEffect: false
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffectRate: 25


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: WATER

moveSpeed: 1.6
moveAccelerationSpeed: 0.04
moveDecelerationSpeed: 0.08
maxTurnSpeed: 1.5
turnAcceleration: 0.5
reverseSpeedPercentage:0


[hiddenAction_初始价值]
addResources: 价值=5


[template_zijin]
price: 100


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/树16.ini
================================================================================


[core]
name: 树16
copyFrom: 树01.ini
displayText: Tree16
displayText_zh: 树16


[graphics]
image:        树16.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树02.ini
================================================================================


[core]
name: 树02
copyFrom: 树01.ini
displayText: Tree2
displayText_zh: 树02


[graphics]
image:        树02.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树26-雪.ini
================================================================================


[core]
name: 树26-雪
copyFrom: 树01.ini
displayText: Tree26:snow
displayText_zh: 树26-雪


[graphics]
image:        树26-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/油桶.ini
================================================================================


[core]
name: 油桶
price:0
maxHp:10
mass: 800
radius: 6

tags: 原始护甲, 建筑防甲, 烧死人
copyFrom: ROOT:\共享文件\3类\血条3.xxhq
displayText: Oil drum
displayText_zh: 油桶
displayDescription: Be careful not to get bombed!
displayDescription_zh: 特殊：靠近它然后打爆它来证明你有多厚
displayRadius:8
fogOfWarSightRange: 0
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 攻击中性
isBuilding: true
fireTurretXAtSelfOnDeath:1
explodeOnDeath: false
effectOnDeath: CUSTOM:土坑
soundOnDeath: ROOT:\音频\语音+音效\gexpbara.wav:2, ROOT:\音频\语音+音效\gexpbarb.wav:2, ROOT:\音频\语音+音效\gexpbarc.wav:2


[graphics]
image: 油桶.png

#drawLayer: ground2
imageScale:	1.02
image_offsetX: 0
image_offsetY: -15


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

maxAttackRange:100


[movement]
movementType:BUILDING


[turret_1]
x:0
y:0


[projectile_1]
areaDamage: 250
life:100

areaRadius: 100
explodeEffect: CUSTOM:爆炸效果
speed:0
targetGround:true
friendlyFire:true
spawnUnit: 引火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 1.0
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 1.0
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 1.0
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 1.0
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 1.0
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 1.0
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 2.0
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 2.0
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 2.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.8


[effect_爆炸效果]
image: 油桶爆炸.png
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 26
animateFrameStart: 0
animateFrameEnd: 25
animateFrameSpeed: 0.25
alwayStartDirAtZero:true
#alsoPlaySound:巨炮.ogg


[effect_土坑]
image: ROOT:\共享文件\1类\土坑12.png
life: 1200
scaleFrom: 1.02
scaleTo: 1.02
alpha: 1.0
xOffsetRelative: 0
yOffsetRelative: -15
spawnChance: 0.5
ifSpawnFailsEmitEffects: CUSTOM:土坑2
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true


[effect_土坑2]
@copyFromSection: effect_土坑
image: ROOT:\共享文件\1类\土坑11.png
spawnChance: 1
ifSpawnFailsEmitEffects: NONE


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/居民楼2.ini
================================================================================

[core]
name: 居民楼2
copyFrom: 工厂.ini
radius: 45


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼2.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/摆设-椅子.ini
================================================================================

[core]
name: 椅子
copyFrom: 摆设-大灯.ini

tags: 原始护甲, 建筑, 建筑轻甲
displayText: Chair
displayText_zh: 椅子


[graphics]
image: 摆设-椅子.png
image_offsetY: 0

[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/钱+5000.ini
================================================================================


[core]
name: 钱+5000
price: 0
maxHp: 100
mass: 1000
radius: 10

#showInEditor: false
#tags: 
displayText: Funds +5000
displayText_zh: 资金+5000
displayDescription: Get 5000 funds immediately.
displayDescription_zh: 特殊：直接获得5000块大洋\n钱不是万能的但没有钱的你很狼狈
isBuilding: true
canNotBeDirectlyAttacked: true
fogOfWarSightRange: 0
disableAllUnitCollisions: true
isUnselectable: true


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: AIR

targetHeight: 0
targetHeightDrift: 0


[hiddenAction_1]
#autoTrigger: 
autoTriggerOnEvent: created
addResources: 资金=5000
spawnEffects: CUSTOM:钱2, CUSTOM:钱
playSoundToPlayer: ROOT:\音频\语音+音效\gcrafree.wav
deleteSelf: true


[effect_钱]
image: 钱+5000.png
color: #FFFFFF00
priority: high
life: 90
scaleFrom: 0.8
scaleTo: 0.8
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true
ySpeedAbsolute: -0.5


[effect_钱2]
image: ROOT:\共享文件\1类\钱.png
priority: high
life: 300
scaleFrom: 1.05
scaleTo: 1.05
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.2
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true

================================================================================
// FILE_PATH: ./2中立/居民楼6.ini
================================================================================

[core]
name: 居民楼6
copyFrom: 工厂.ini
radius: 45


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼6.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/树06.ini
================================================================================


[core]
name: 树06
copyFrom: 树01.ini
displayText: Tree6
displayText_zh: 树06


[graphics]
image:        树06.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树12.ini
================================================================================


[core]
name: 树12
copyFrom: 树01.ini
displayText: Tree12
displayText_zh: 树12


[graphics]
image:        树12.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/沙袋.ini
================================================================================

[core]
name: 沙袋
price: 0
maxHp: 200
mass: 1000
radius: 20

copyFrom: ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\冷冻机制.xxhq
tags: 原始护甲, 建筑轻甲, 建筑2, 沙袋
displayText: Sandbag
displayText_zh: 沙袋
displayDescription: Special: Defense, blocking and decoration.
displayDescription_zh: 特殊：防御、阻挡和装饰
buildSpeed: 0
selfBuildRate: 0s
isBuilding:true
footprint: 0,0,0,0
constructionFootprint: 0,0,0,0
fogOfWarSightRange: 4
numBitsOnDeath: 10
createOnAggressiveTeam: true
explodeTypeOnDeath: small
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image: 沙袋.png

total_frames: 2
imageScale: 1.2
image_offsetX: 0
image_offsetY: -15
image_wreak:NONE
image_shadow:NONE


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[action_1]
text: Damaged
text_zh: 损坏
displayType: upgrade
#isVisible: if numberOfUnitsInAggressiveTeam(withTag='墙中', greaterThan=0, withinRange=20)
buildSpeed: 0s
addResources: hp=-100


[hiddenAction_2]
autoTrigger: if not self.hp(greaterThan=100)
#stopLastAnimation: true
playAnimation: 损
#showMessageToAllPlayers: 损2


[animation_损]
body_0s: {frame:1}
body_1.1s: {frame:1}



[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/摆设-自由女神像.ini
================================================================================

[core]
name: 摆设-自由女神像
copyFrom: 摆设-列宁墓.ini
maxHp: 2500

tags: 原始护甲, 建筑, 建筑重甲
displayText: Statue of Liberty
displayText_zh: 自由女神像
effectOnDeath: CUSTOM:炸毁, CUSTOM:炸毁7, CUSTOM:废墟


[graphics]
image: 摆设-自由女神像.png

image_offsetX: 10
image_offsetY: -40


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
buildSpeed: 0s
addResources: hp=-2320


[hiddenAction_1]
autoTrigger: if self.hp(lessThan=200) and not self.hasFlag(id=1)


[effect_废墟]
image: 摆设-自由女神像废墟.png
scaleFrom: 1.02
scaleTo: 1.02
life: 3600
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true
attachedToUnit: false
xOffsetRelative: 10
yOffsetRelative: 40


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/木乃伊休闲2.ini
================================================================================


[core]
name: 木乃伊休闲2
copyFrom: 木乃伊休闲.ini


[graphics]
image:        木乃伊休闲2.png

================================================================================
// FILE_PATH: ./2中立/摆设-列宁墓.ini
================================================================================

[core]
name: 列宁墓
price:0
maxHp: 600
mass: 20000
radius: 80

#displayRadius: 8
tags: 原始护甲, 建筑, 列宁墓, 建筑轻甲
copyFrom: ROOT:\共享文件\3类\血条5.xxhq
showOnMinimap: false
#displayText: 建筑
displayText: Lenin's Tomb
displayText_zh: 列宁墓
createOnAggressiveTeam: true
isBuilding: true
footprint: -3,0,3,2
displayFootprint: -4,-1,4,2
numBitsOnDeath: 20
explodeOnDeath: false
#showInEditor: false
effectOnDeath: CUSTOM:炸毁, CUSTOM:炸毁7
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image: 摆设-列宁墓.png

#drawLayer: ground2
total_frames: 2
imageScale:	1.02
#image_offsetX: 30
image_offsetY: -5


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType:BUILDING


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
buildSpeed: 0s
addResources: hp=-510


[hiddenAction_1]
autoTrigger: if self.hp(lessThan=100) and not self.hasFlag(id=1)
#stopLastAnimation: true
playAnimation: 损
playSoundAtUnit:  ROOT:\音频\语音+音效\gdamag1a.wav, ROOT:\音频\语音+音效\gdamag1b.wav, ROOT:\音频\语音+音效\gdamag1c.wav, ROOT:\音频\语音+音效\gdamag1d.wav, ROOT:\音频\语音+音效\gdamag1e.wav
addResources: setFlag=1


[animation_损]
body_0s: {frame:1}
body_999999s: {frame:1}


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/树22-雪.ini
================================================================================


[core]
name: 树22-雪
copyFrom: 树01.ini
displayText: Tree22:snow
displayText_zh: 树22-雪


[graphics]
image:        树22-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/靶子.ini
================================================================================

[core]
name: 靶子
copyFrom: 靶子2.ini

tags: 原始护甲, 建筑
#displayRadius: 8
displayText: Target
displayText_zh: 靶子
displayDescription: Training unit.
displayDescription_zh: 特殊：打得准不如打得伤
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 攻击中性
armour: 0


[hiddenAction_1]
autoTrigger: false


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/空降控制台2.ini
================================================================================


[core]
name: 空降控制台2
copyFrom: 空降控制台.ini
showInEditor: true
tags: 原始护甲, 建筑重甲, 建筑2, 房, 占领, 空降控制台, 带扩展建筑


[attack]
canAttack: false
#canAttackFlyingUnits: false
#canAttackLandUnits:   false
#canAttackUnderwaterUnits: false

#turretMultiTargeting: false


[hiddenAction_4]
autoTrigger: if self.isControlledByAI() and self.teamId!=-2
convertTo: 空降控制台


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/国旗-加拿大.ini
================================================================================


[core]
name: 国旗-加拿大
copyFrom: 国旗-德国.ini
displayText: Canada flag
displayText_zh: 加拿大国旗

[graphics]
image:        国旗-加拿大.png

================================================================================
// FILE_PATH: ./2中立/树06-雪.ini
================================================================================


[core]
name: 树06-雪
copyFrom: 树01.ini
displayText: Tree6:snow
displayText_zh: 树06-雪


[graphics]
image:        树06-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树13.ini
================================================================================


[core]
name: 树13
copyFrom: 树01.ini
displayText: Tree13
displayText_zh: 树13


[graphics]
image:        树13.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树07.ini
================================================================================


[core]
name: 树07
copyFrom: 树01.ini
displayText: Tree7
displayText_zh: 树07


[graphics]
image:        树07.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/居民楼7.ini
================================================================================

[core]
name: 居民楼7
copyFrom: 工厂.ini
radius: 40


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼7.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/堡垒左.ini
================================================================================

[core]
name: 堡垒左
copyFrom: 堡垒右.ini

displayText: fortress2
displayText_zh: 堡垒左
footprint: -2,-1,1,0
exit_x:  45


[graphics]
image:        堡垒左.png


[attachment_1]
x: -10


[attachment_2]
x: 0


[attachment_3]
x: 5


[attachment_4]
x: -15


[attachment_5]
x: 10


[attachment_6]
x: -20


[attachment_7]
x: 15


[attachment_8]
x: -25


[attachment_9]
x: 20


[attachment_10]
x: -30


[effect_烟]
xOffsetRelative: 35


[effect_2烟]
xOffsetRelative: 0


[effect_爆炸]
xOffsetRelative: 35


[effect_爆炸2]
xOffsetRelative: 0


[effect_损碎片]
xOffsetRelative: 35


[effect_损碎片2]
xOffsetRelative: 0

================================================================================
// FILE_PATH: ./2中立/摆设-埃菲尔铁塔.ini
================================================================================

[core]
name: 埃菲尔铁塔
copyFrom: 摆设-大凯旋门.ini
maxHp: 3000

tags: 原始护甲, 建筑, 建筑重甲, 埃菲尔铁塔
displayText: Eiffel Tower
displayText_zh: 埃菲尔铁塔


[graphics]
image: 摆设-埃菲尔铁塔.png
image_offsetY: -40
image_shadow: NONE
shadowOffsetX: 0
shadowOffsetY: 0


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
buildSpeed: 0s
addResources: hp=-2820


[hiddenAction_1]
autoTrigger: if self.hp(lessThan=200) and not self.hasFlag(id=1)


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/居民楼5.ini
================================================================================

[core]
name: 居民楼5
copyFrom: 工厂.ini
radius: 30


displayText: Residential building
displayText_zh: 居民楼
exit_x:  20
exit_y:  -5


[graphics]
image:       居民楼5.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/树11.ini
================================================================================


[core]
name: 树11
copyFrom: 树01.ini
displayText: Tree11
displayText_zh: 树11


[graphics]
image:        树11.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树05.ini
================================================================================


[core]
name: 树05
copyFrom: 树01.ini
displayText: Tree5
displayText_zh: 树05


[graphics]
image:        树05.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树04-雪.ini
================================================================================


[core]
name: 树04-雪
copyFrom: 树01.ini
displayText: Tree4:snow
displayText_zh: 树04-雪


[graphics]
image:        树04-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/国旗-乌克兰.ini
================================================================================


[core]
name: 国旗-乌克兰
copyFrom: 国旗-德国.ini
displayText: Soviet Ukraine flag
displayText_zh: 苏维埃乌克兰国旗


[graphics]
image:        国旗-乌克兰.png

================================================================================
// FILE_PATH: ./2中立/交通灯3.ini
================================================================================


[core]
name: 交通灯3
copyFrom: 交通灯.ini

displayText: Traffic light3
displayText_zh: 交通灯3


[graphics]
image: 交通灯3.png

image_offsetX: 0
image_offsetY: -15

================================================================================
// FILE_PATH: ./2中立/交通灯2.ini
================================================================================


[core]
name: 交通灯2
copyFrom: 交通灯.ini

displayText: Traffic light2
displayText_zh: 交通灯2


[graphics]
image: 交通灯2.png

image_offsetX: 0
image_offsetY: -15

================================================================================
// FILE_PATH: ./2中立/摆设-椅子4.ini
================================================================================

[core]
name: 椅子4
copyFrom: 摆设-大灯.ini

tags: 原始护甲, 建筑, 建筑轻甲
displayText: Chair
displayText_zh: 椅子


[graphics]
image: 摆设-椅子4.png
image_offsetY: 0

[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/树20-雪.ini
================================================================================


[core]
name: 树20-雪
copyFrom: 树01.ini
displayText: Tree20:snow
displayText_zh: 树20-雪


[graphics]
image:        树20-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/国旗-荷兰.ini
================================================================================


[core]
name: 国旗-荷兰
copyFrom: 国旗-德国.ini
displayText: Netherlands flag
displayText_zh: 荷兰国旗

[graphics]
image:        国旗-荷兰.png

================================================================================
// FILE_PATH: ./2中立/树04.ini
================================================================================


[core]
name: 树04
copyFrom: 树01.ini
displayText: Tree4
displayText_zh: 树04


[graphics]
image:        树04.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/树10.ini
================================================================================


[core]
name: 树10
copyFrom: 树01.ini
displayText: Tree10
displayText_zh: 树10


[graphics]
image:        树10.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/居民楼4.ini
================================================================================

[core]
name: 居民楼4
copyFrom: 工厂.ini
radius: 45


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼4.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/车001d.ini
================================================================================


[core]
name: 车001d
copyFrom: 车001b.ini

displayText: vehicle1d
displayText_zh: 车1d


[graphics]
image:        车001d.png

imageScale:	1.0
frame_width: 70
frame_height: 70

================================================================================
// FILE_PATH: ./2中立/广告牌2左.ini
================================================================================


[core]
name: 广告牌2左
copyFrom: 广告牌2右.ini
displayText: Billboard-2
displayText_zh: 广告牌2左


[graphics]
image: 广告牌2左.png

image_offsetX: -35
#image_offsetY: 0

================================================================================
// FILE_PATH: ./2中立/居民楼13.ini
================================================================================

[core]
name: 居民楼13
copyFrom: 工厂.ini
radius: 45


displayText: Seattle Space Needle
displayText_zh: 西雅图太空针
exit_x:  25
exit_y:  15


[graphics]
imageScale:	1.50
image:       居民楼13.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/树03-雪.ini
================================================================================


[core]
name: 树03-雪
copyFrom: 树01.ini
displayText: Tree3:snow
displayText_zh: 树03-雪


[graphics]
image:        树03-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/钻油井.ini
================================================================================


[core]
name: 钻油井
price: 0
maxHp: 1300
mass: 1000
radius: 40

copyFrom: ROOT:\共享文件\3类\中立建筑共同2.xxhq, ROOT:\共享文件\3类\血条5.xxhq
displayText: Oil Derrick
displayText_zh: 钻油井
displayDescription: Get 25 funds every seconds after capturing.
displayDescription_zh: 特殊：工程师占领后每秒获取25资金
tags: 原始护甲, 建筑重甲, 建筑2, 占领, 钻油井, 加资金, 带扩展建筑
isBuilding: true
footprint: -1,0,0,1
displayFootprint: -2,-1,2,1
constructionFootprint: -2,-1,2,1
fogOfWarSightRange: 6
numBitsOnDeath: 50
createOnAggressiveTeam: true
fireTurretXAtSelfOnDeath: 1
effectOnDeath: CUSTOM:废墟, CUSTOM:炸毁, CUSTOM:炸毁2
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image:   钻油井.png

imageScale:	1.02
total_frames: 16
#image_offsetX: 0
image_offsetY: -25
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 1


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[turret_1]
x: 0
y: 0


[projectile_1]
areaDamage: 2500
life: 0

areaRadius: 260
targetGround:true
explodeOnEndOfLife:true
#instant: true
friendlyFire: true
largeHitEffect: true
explodeEffect: NONE
spawnUnit: 引火
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_areaDamageMultiplier: 0.4
mutator14_ifUnitWithTags: 步兵中甲
mutator14_areaDamageMultiplier: 0.4
mutator15_ifUnitWithTags: 步兵重甲
mutator15_areaDamageMultiplier: 0.4
mutator16_ifUnitWithTags: 载具轻甲
mutator16_areaDamageMultiplier: 0.6
mutator17_ifUnitWithTags: 载具中甲
mutator17_areaDamageMultiplier: 0.6
mutator18_ifUnitWithTags: 载具重甲
mutator18_areaDamageMultiplier: 0.6
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_areaDamageMultiplier: 1.0
mutator20_ifUnitWithTags: 建筑防甲
mutator20_areaDamageMultiplier: 0.8
mutator21_ifUnitWithTags: 建筑重甲
mutator21_areaDamageMultiplier: 1.0
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_areaDamageMultiplier: 0.2


[hiddenAction_1]
autoTrigger: true
spawnEffects: CUSTOM:钻油井旗


[hiddenAction_2]
autoTriggerOnEvent: teamChanged
requireConditional: if not self.hasFlag(id=0)
addResources: setFlag=0, 资金=1000


[hiddenAction_3]
autoTrigger: if self.hasFlag(id=0) and not self.tags(includes='禁止攻击')
resetCustomTimer: true
addResources: 资金=15
playAnimation: 占领后


[hiddenAction_初始价值]
addResources: 价值=40


[animation_占领后]
body_0s: {frame:0}
body_1s: {frame:15}


[effect_钻油井旗]
image: 钻油井旗.png
#delayedStartTimer: 60
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 8
animateFrameStart: 0
animateFrameEnd: 7
animateFrameSpeed: 0.1
#xOffsetRelative: 0
yOffsetRelative: 25
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
attachedToUnit: true
liveAfterAttachedDies: false
createWhenZoomedOut:  false


[effect_废墟]
image: 钻油井毁.png
scaleFrom: 1.02
scaleTo: 1.02
life: 3600
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true
attachedToUnit: false
#xOffsetRelative: 0
yOffsetRelative: 25


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸3.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
#xOffsetRelative: 0
yOffsetRelative: 5
#xOffsetRelativeRandom: 0
#yOffsetRelativeRandom: 0
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_炸毁2]
image: ROOT:\共享文件\1类\炸毁5.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 11
animateFrameEnd: 10
animateFrameSpeed: 0.35
xOffsetRelative: 20
yOffsetRelative: 5
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/居民楼12.ini
================================================================================

[core]
name: 居民楼12
copyFrom: 工厂.ini
radius: 30


displayText: Residential building
displayText_zh: 巨软园区
exit_x:  20
exit_y:  -5


[graphics]
image:       居民楼12.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[hiddenAction_石碑动画]
autoTrigger: if not self.hasFlag(id=29)
spawnEffects: CUSTOM:石碑


[effect_石碑]
image: 居民楼12装饰.png
#delayedStartTimer: 60
scaleFrom: 1.02
scaleTo: 1.02
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.28
xOffsetRelative: 0
yOffsetRelative: 40
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false
attachedToUnit: true
liveAfterAttachedDies: false
createWhenZoomedOut:  false
#createWhenOverLand: false



================================================================================
// FILE_PATH: ./2中立/树27-雪.ini
================================================================================


[core]
name: 树27-雪
copyFrom: 树01.ini
displayText: Tree27:snow
displayText_zh: 树27-雪


[graphics]
image:        树27-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/铁拒马2.ini
================================================================================


[core]
name: 铁拒马2
copyFrom: 铁拒马.ini
displayText: 
displayText_zh: 铁拒马2


[graphics]
image:  铁拒马2.png
#image_offsetY: -60

================================================================================
// FILE_PATH: ./2中立/车001e.ini
================================================================================


[core]
name: 车001e
copyFrom: 车001b.ini

displayText: vehicle1e
displayText_zh: 车1e


[graphics]
image:        车001e.png

imageScale:	1.0
frame_width: 100
frame_height: 100

================================================================================
// FILE_PATH: ./2中立/工厂.ini
================================================================================


[core]
name: 工厂
#copyFrom:
price:0
maxHp: 1000
mass: 80000
buildSpeed: 10s
radius: 45

copyFrom: ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\临时救援.xxhq, ROOT:\共享文件\3类\力场护盾.xxhq, ROOT:\共享文件\3类\血条5.xxhq
tags: 原始护甲, 建筑, 房, 建筑轻甲
displayText: Factory
displayText_zh: 工厂
displayDescription: Basic infantry can enter.
displayDescription_zh: 特殊：胆小鬼的避硕
isBuilding:true
footprint: -4,-1,4,0
displayFootprint: -4,-3,4,1
fogOfWarSightRange: 17
maxTransportingUnits: 10
transportUnitsRequireTag: 基础兵, 工程师
transportUnitsKillOnDeath: false
stayNeutral:true
whileNeutralTransportAnyTeam:true
whileNeutralConvertToTransportedTeam:true
convertToNeutralIfNotTransporting:true
numBitsOnDeath: 50
exit_x:  25
exit_y:  -5
exit_dirOffset: 180
#exit_moveAwayAmount: 80
effectOnDeath: CUSTOM:炸毁, CUSTOM:炸毁7
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image:      工厂.png

#drawLayer: ground2
total_frames: 3
imageScale:	1.02
#frame_width: 416
#frame_height: 332
#default_frame: 0
#image_offsetX: -20
image_offsetY: -50
#rotate_with_direction: false
#lock_body_rotation_with_main_turret: false


[attack]
canAttack:true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize:0
turretTurnSpeed:99
maxAttackRange: 300
shootDelay: 60
stopTargetingAfterFiring:true
#turretMultiTargeting: true


[movement]
movementType:BUILDING


[turret_1]
x: 0
y: 0

projectile: 1


[turret_烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 烟


[turret_2烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 2烟


[projectile_1]
directDamage: 0
life: 0


[projectile_烟]
directDamage: 0
life: 60

invisible: true
trailEffect: CUSTOM:烟, CUSTOM:火2, CUSTOM:火
trailEffectRate: 14
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog:true


[projectile_2烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:2烟, CUSTOM:2火2, CUSTOM:2火


[attachment_1]
x: 15
y: 12

isVisible: false
isUnselectable: true
keepAliveWhenParentDies: true
addTransportedUnits: true
canBeAttackedAndDamaged: true
#deattachIfWantingToMove: true
prioritizeParentsMainTarget:true
onParentTeamChangeKeepCurrentTeam: true
showAllActionsFrom: true


[attachment_2]
x: 2
y: 18
@copyFromSection: attachment_1


[attachment_3]
x: -11
y: 24
@copyFromSection: attachment_1


[attachment_4]
x: -24
y: 30
@copyFromSection: attachment_1


[attachment_5]
x: -37
y: 36
@copyFromSection: attachment_1


[attachment_6]
x: -50
y: 42
@copyFromSection: attachment_1


[attachment_7]
x: -63
y: 48
@copyFromSection: attachment_1


[attachment_8]
x: 52
y: -7
@copyFromSection: attachment_1


[attachment_9]
x: 52
y: 5
@copyFromSection: attachment_1


[attachment_10]
x: 52
y: 17
@copyFromSection: attachment_1


[action_位置1]
@define slotId: 0
isVisible: if self.transportingCount(slot=${slotId}, greaterThan=0)
buildSpeed: 0s
text: unload
text_zh: 卸载
textAddUnitName: unitRef self.transporting(slot=${slotId})
description: Click to unload unit
description_zh: 点击卸载单位
displayType: action
unitShownInUI: unitRef self.transporting(slot=${slotId})
forceUnloadTransportNow:true
forceUnloadTransportNow_onlyOnSlot:${slotId}
#isActive: if self.height(lessThan=3)


[action_位置2]
@copyFromSection: action_位置1
@define slotId: 1


[action_位置3]
@copyFromSection: action_位置1
@define slotId: 2


[action_位置4]
@copyFromSection: action_位置1
@define slotId: 3


[action_位置5]
@copyFromSection: action_位置1
@define slotId: 4


[action_位置6]
@copyFromSection: action_位置1
@define slotId: 5


[action_位置7]
@copyFromSection: action_位置1
@define slotId: 6


[action_位置8]
@copyFromSection: action_位置1
@define slotId: 7


[action_位置9]
@copyFromSection: action_位置1
@define slotId: 8


[action_位置10]
@copyFromSection: action_位置1
@define slotId: 9


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
isVisible: if self.isOnNeutralTeam()
buildSpeed: 0s
addResources: hp=-920

[hiddenAction_1]
autoTrigger: if self.hp(greaterThan=100) and not self.transportingCount(empty=true) and not self.hasFlag(id=0)
stopLastAnimation: true
playSoundAtUnit:  ROOT:\音频\语音+音效\ugarris.wav:2
playAnimation: 驻
#showMessageToAllPlayers: 驻
addResources: setFlag=0, unsetFlag=1, unsetFlag=2


[hiddenAction_2]
autoTrigger: if self.hp(lessThan=100) and not self.hasFlag(id=1)
stopLastAnimation: true
playAnimation: 损
playSoundAtUnit:  ROOT:\音频\语音+音效\gdamag1a.wav:2, ROOT:\音频\语音+音效\gdamag1b.wav:2, ROOT:\音频\语音+音效\gdamag1c.wav:2, ROOT:\音频\语音+音效\gdamag1d.wav:2, ROOT:\音频\语音+音效\gdamag1e.wav:2
#showMessageToAllPlayers: 损
addResources: setFlag=1, unsetFlag=0, unsetFlag=2
#spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:碎片*10, CUSTOM:碎片2*10
temporarilyRemoveTags: 可入驻


[hiddenAction_3]
autoTrigger: if self.hp(greaterThan=100) and self.transportingCount(empty=true) and not self.hasFlag(id=2)
stopLastAnimation: true
#showMessageToAllPlayers: 无
addResources: setFlag=2, unsetFlag=0, unsetFlag=1


[hiddenAction_ai满人止驻]
autoTrigger: if self.transportingCount(greaterThan=9) and self.tags(includes='可入驻')
temporarilyRemoveTags: 可入驻
#showMessageToAllPlayers: 清除入驻标签


[hiddenAction_低生命卸载]
autoTrigger: if self.hp(lessThan=50) and self.numberOfAttachedUnits(withTag='基础兵', greaterThan=0)
forceUnloadTransportNow: true


[hiddenAction_修复]
autoTrigger: if self.transportingUnitWithTags(includes='工程师') and self.hp(lessThan=500)
deleteNumUnitsFromTransport_onlyWithTags: 工程师
deleteNumUnitsFromTransport: 1
playSoundAtUnit:  ROOT:\音频\语音+音效\urepair.wav:2
addResources: hp=9999
temporarilyAddTags: 可入驻


[hiddenAction_冒]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100
playSoundAtUnit:  ROOT:\音频\语音+音效\gfirlo1b.wav, ROOT:\音频\语音+音效\gfirlo1e.wav, ROOT:\音频\语音+音效\gfirlo1f.wav


[hiddenAction_冒2]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 2烟
fireTurretXAtGround_withOffset: 0,100


[hiddenAction_可入驻]
autoTriggerOnEvent: created
temporarilyAddTags: 可入驻


[animation_驻]
body_0s: {frame:2}
body_999999s: {frame:2}


[animation_损]
body_0s: {frame:1}
body_999999s: {frame:1}


[effect_烟]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #FF000000
fadeInTime: 11
scaleFrom: 0.5
scaleTo: 2
alpha: 0.75
life: 240
hOffset: 95
hSpeed:0.3
xSpeedAbsolute: -0.2
dirOffsetRandom:180
xOffsetRelative: -60
yOffsetRelative: 30
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 2
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.1
atmospheric:true
shadow:true
fadeOut: true
attachedToUnit: false
drawUnderUnits:false


[effect_火]
@copyFromSection: effect_烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_火2]
@copyFromSection: effect_烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_2烟]
@copyFromSection: effect_烟
hOffset: 60
xOffsetRelative: 70
yOffsetRelative: 0


[effect_2火]
@copyFromSection: effect_2烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_2火2]
@copyFromSection: effect_2烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_炸毁]
image: ROOT:\共享文件\1类\爆炸21.png
scaleFrom: 1.25
scaleTo: 1.25
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
life: 180
xOffsetRelative	:  0
yOffsetRelative	:  -10
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  10
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alsoEmitEffects: CUSTOM:炸毁2


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁3


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁4


[effect_炸毁4]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  -40
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁5


[effect_炸毁5]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -40
yOffsetRelative	:  20
xOffsetRelativeRandom:  20
alsoEmitEffects: CUSTOM:炸毁6


[effect_炸毁6]
image: ROOT:\共享文件\1类\爆炸4.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.35
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_炸毁7]
image: ROOT:\共享文件\1类\爆炸3.png
life: 90
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameStart: 0
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelativeRandom:  60
yOffsetRelativeRandom:  60
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


#[ai]
#buildPriority: 0.35
#maxEachBase:4
#noneInBaseExtraPriority: 0.1
#noneGlobalExtraPriority: 0.05

================================================================================
// FILE_PATH: ./2中立/国旗-意大利.ini
================================================================================


[core]
name: 国旗-意大利
copyFrom: 国旗-德国.ini
displayText: Italy flag
displayText_zh: 意大利国旗

[graphics]
image:        国旗-意大利.png

================================================================================
// FILE_PATH: ./2中立/树18-雪.ini
================================================================================


[core]
name: 树18-雪
copyFrom: 树01.ini
displayText: Tree18:snow
displayText_zh: 树18-雪


[graphics]
image:        树18-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/游轮.ini
================================================================================


[core]
name: 游轮
price: 资金=1200
maxHp: 600
mass: 12000
radius: 35

copyFrom: ROOT:\共享文件\3类\阵营船舰共同.xxhq
tags: 原始护甲, 载具重甲, 中级, 装甲, 船舰, 船坞维修, 可空, 空下, 游轮
#overrideAndReplace: heavyMissileShip, missileShip, nautilusSubmarine
displayText: Cruise
displayText_zh: 游轮
buildSpeed: 6s
fogOfWarSightRange: 16
createOnAggressiveTeam: true


[graphics]
#icon_build: ROOT:\单位图标\盟军\载具\神盾巡洋舰图标.png
image:        游轮.png

#imageScale: 0.95
total_frames: 1
frame_width: 210
frame_height: 210
image_offsetX: 0
image_offsetY: 10
#image_wreak:  NONE
#splastEffect: false
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
movementEffectRate: 25


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: WATER

moveSpeed: 0.75
moveAccelerationSpeed: 0.04
moveDecelerationSpeed: 0.08
maxTurnSpeed: 1.5
turnAcceleration: 0.5
reverseSpeedPercentage:0


[hiddenAction_初始价值]
addResources: 价值=20


[template_zijin]
price: 1200


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/居民楼10.ini
================================================================================

[core]
name: 居民楼10
copyFrom: 工厂.ini
radius: 45


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼10.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/矿石.ini
================================================================================


[core]
name: 矿石
price: 矿石=0.05
maxHp: 60
mass: 10000
radius: 15

#overrideAndReplace: tree
#showInEditor: false
showOnMinimap: false
tags: 矿石
displayText: Ore
displayText_zh: 矿石
displayDescription: Can be exchanged for funds.
displayDescription_zh: 特殊：它的价值只有使用的人知道
resourceRate: 0.08
resourceMaxConcurrentReclaimingThis: 1
explodeOnDeath: false
hideScorchMark: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
stayNeutral: true
createNeutral: true
isBuilding: true
footprint: 0,0,1,0
constructionFootprint: 0,0,1,0
#similarResourcesHaveTag: 矿石
#armour:99999
#armourMinDamageToKeep:0
#isUnselectable: true


[graphics]
image:        ROOT:\共享文件\1类\隐藏.png

#total_frames: 1
imageScale: 1.02
#image_offsetX: 10
#image_offsetY: 0
showHealthBar: false
icon_zoomed_out_neverShow: true
disableLowHpFire: true
disableLowHpSmoke: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[movement]
movementType: BUILDING


[arm_1]
x: 10
y: 15

hidden: if self.hp(greaterThan=10)
image_end: 矿石.png
drawUnderAllUnits: true


[arm_2]
x: 10
y: 15

hidden: if not self.hp(greaterThan=10, lessThan=21)
image_end: 矿石2.png
drawUnderAllUnits: true


[arm_3]
x: 10
y: 15

hidden: if not self.hp(greaterThan=20, lessThan=31)
image_end: 矿石3.png
drawUnderAllUnits: true


[arm_4]
x: 10
y: 15

hidden: if not self.hp(greaterThan=30, lessThan=41)
image_end: 矿石4.png
drawUnderAllUnits: true


[arm_5]
x: 10
y: 15

hidden: if not self.hp(greaterThan=40, lessThan=51)
image_end: 矿石5.png
drawUnderAllUnits: true


[arm_6]
x: 10
y: 15

hidden: if not self.hp(greaterThan=50)
image_end: 矿石6.png
drawUnderAllUnits: true


[action_1]
text: Delete
text_zh: 删除
buildSpeed:0
deleteSelf: true


[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=12) and self.timeAlive(withinSeconds=60) and self.customTimer(laterThanSeconds=12) and self.hp(lessThan=60)
resetCustomTimer: true
addResources: hp=11
#showMessageToAllPlayers: +1


[hiddenAction_转为高能矿石]
autoTrigger: if numberOfUnitsInNeutralTeam(withTag='高能矿转', greaterThan=0, withinRange=250)
#deleteSelf: true
convertTo: 矿石-高能


[resource_矿石]
displayName: 矿石
#displayColor:#FFFFFF00

================================================================================
// FILE_PATH: ./2中立/树25-雪.ini
================================================================================


[core]
name: 树25-雪
copyFrom: 树01.ini
displayText: Tree25:snow
displayText_zh: 树25-雪


[graphics]
image:        树25-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/墙撇.ini
================================================================================


[core]
name:墙撇
copyFrom: 墙那.ini
displayText: Wall 4
displayText_zh: 墙撇


[graphics]
image:墙撇.png

================================================================================
// FILE_PATH: ./2中立/抗议者跑.ini
================================================================================


[core]
name: 抗议者跑
price: 0
maxHp: 50
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\血溅.xxhq, ROOT:\共享文件\3类\单位停留.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压
showInEditor: false
isBio: true
softCollisionOnAll: 10
fogOfWarSightRange: 8
soundOnMoveOrder: ROOT:\音频\语音+音效\iciamoa.wav:2, ROOT:\音频\语音+音效\iciamob.wav:2, ROOT:\音频\语音+音效\iciamoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iciasea.wav:2, ROOT:\音频\语音+音效\iciaseb.wav:2, ROOT:\音频\语音+音效\iciasec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iciadia.wav:2, ROOT:\音频\语音+音效\iciadib.wav:2, ROOT:\音频\语音+音效\iciadic.wav:2


[graphics]
image:        抗议者.png

total_frames: 13
imageScale: 0.9
#image_offsetY:-4
frame_width: 66
frame_height: 70
animation_moving_start: 7
animation_moving_end: 12
animation_moving_speed: 6
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 0.8
moveAccelerationSpeed: 0.2
moveDecelerationSpeed: 0.2
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[hiddenAction_1]
autoTrigger: if not self.hasTakenDamage(withinSeconds=1) and self.lastConverted(laterThanSeconds=10)
convertTo: 抗议者
clearAllWaypoints: true


[hiddenAction_2]
autoTrigger: if not self.isMoving()
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 100,100


[hiddenAction_被黏杀]
autoTrigger: if (numberOfUnitsInEnemyTeam(withTag='撞击', greaterThan=0, withinRange=30) or numberOfUnitsInEnemyTeam(withTag='撞击2', greaterThan=0, withinRange=40) or numberOfUnitsInEnemyTeam(withTag='撞击3', greaterThan=0, withinRange=40)) and not self.isInWater() and not self.isFlying() and not self.hasParent()
playSoundAtUnit: ROOT:\音频\语音+音效\igensqua.wav:2
deleteSelf: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/墙那2.ini
================================================================================


[core]
name:墙那2
copyFrom: 墙那.ini
displayText: Wall 4
displayText_zh: 墙那2


[graphics]
#image_offsetX:-10
image_offsetY:-25

================================================================================
// FILE_PATH: ./2中立/平民4.ini
================================================================================


[core]
name: 平民4
price: 0
maxHp: 100
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\血溅.xxhq, ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\单位停留.xxhq, ROOT:\共享文件\3类\冷冻机制.xxhq, ROOT:\共享文件\3类\血条2.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压, 军官
displayText: Officer
displayText_zh: 军官
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 攻击中性, 反伪装, 生物2
buildSpeed: 0.01
isBio: true
softCollisionOnAll: 10
fogOfWarSightRange: 8
effectOnDeath: CUSTOM:死亡
soundOnMoveOrder: ROOT:\音频\语音+音效\iciamoa.wav:2, ROOT:\音频\语音+音效\iciamob.wav:2, ROOT:\音频\语音+音效\iciamoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iciasea.wav:2, ROOT:\音频\语音+音效\iciaseb.wav:2, ROOT:\音频\语音+音效\iciasec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iciadia.wav:2, ROOT:\音频\语音+音效\iciadib.wav:2, ROOT:\音频\语音+音效\iciadic.wav:2


[graphics]
image:        平民4.png

#total_frames: 13
imageScale: 0.9
#image_offsetY:-4
frame_width: 60
frame_height: 60
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 8
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
showQueueBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false

isFixedFiring: true

[movement]
movementType: LAND

moveSpeed: 0.7
moveAccelerationSpeed: 0.4
moveDecelerationSpeed: 0.4
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[action_散步]
text: Walk
text_zh: 散步
description: Free walk
description_zh: 自动散步
buildSpeed: 0s
autoTrigger: if self.customTimer(laterThanSeconds=16) and not self.hasFlag(id=0) and not self.hasFlag(id=1)
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 100,100
addWaypoint_maxTime: 30s
resetCustomTimer:true


[hiddenAction_被黏杀]
autoTrigger: if (numberOfUnitsInEnemyTeam(withTag='撞击', greaterThan=0, withinRange=30) or numberOfUnitsInEnemyTeam(withTag='撞击2', greaterThan=0, withinRange=40) or numberOfUnitsInEnemyTeam(withTag='撞击3', greaterThan=0, withinRange=40)) and not self.isInWater() and not self.isFlying() and not self.hasParent()
playSoundAtUnit: ROOT:\音频\语音+音效\igensqua.wav:2
deleteSelf: true


[hiddenAction_跑]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) and not self.isAttacking() and not self.tags(includes='禁止攻击')
convertTo: 平民4爬
convertTo_keepCurrentTags: true


[hiddenAction_重置方向]
autoTriggerOnEvent: created
setBodyRotation: 45


[hiddenAction_坠亡]
autoTrigger: if not self.hasParent() and not self.tags(includes='坠亡') and self.isFlying()
temporarilyAddTags: 坠亡


[hiddenAction_坠亡2]
autoTrigger: if self.tags(includes='坠亡') and not self.isFlying()
addResources: hp=-99999


[effect_死亡]
image: 平民4死亡.png
scaleFrom: 0.9
scaleTo: 0.9
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.25
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/居民楼11.ini
================================================================================

[core]
name: 居民楼11
copyFrom: 工厂.ini
radius: 40


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼11.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/树01-雪.ini
================================================================================


[core]
name: 树01-雪
copyFrom: 树01.ini
displayText: Tree1:snow
displayText_zh: 树01-雪


[graphics]
image:        树01-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/车001f.ini
================================================================================


[core]
name: 车001f
copyFrom: 车001b.ini

displayText: vehicle1f
displayText_zh: 车1f


[graphics]
image:        车001f.png

imageScale:	1.0
frame_width: 120
frame_height: 120

================================================================================
// FILE_PATH: ./2中立/升级+满.ini
================================================================================


[core]
name: 升级+满
copyFrom: 升级+1.ini

tags: 升级+满
displayText: Full level
displayText_zh: 升级+满
displayDescription: Units in the range are directly upgraded to full level.\nNote that it is invalid for some units.
displayDescription_zh: 特殊：给范围内的单位升满级\n白给的经验不香吗


[effect_升级]
animateFrameStart: 9
animateFrameEnd: 22
#animateFrameSpeed: 0.2

================================================================================
// FILE_PATH: ./2中立/树05-雪.ini
================================================================================


[core]
name: 树05-雪
copyFrom: 树01.ini
displayText: Tree5:snow
displayText_zh: 树05-雪


[graphics]
image:        树05-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/车001b.ini
================================================================================


[core]
name: 车001b
copyFrom: 车001.ini

displayText: vehicle1b
displayText_zh: 车1b


[graphics]
image:        车001b.png

imageScale:	1.0
frame_width: 80
frame_height: 80


#[movement]
#moveSpeed: 1.6
#moveAccelerationSpeed: 1.4
#moveDecelerationSpeed: 1.4
#maxTurnSpeed: 4
#turnAcceleration: 2

================================================================================
// FILE_PATH: ./2中立/国旗-印度.ini
================================================================================


[core]
name: 国旗-印度
copyFrom: 国旗-德国.ini
displayText: India flag
displayText_zh: 印度国旗

[graphics]
image:        国旗-印度.png

================================================================================
// FILE_PATH: ./2中立/居民楼15.ini
================================================================================

[core]
name: 居民楼15
copyFrom: 工厂.ini
radius: 45


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼15.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/居民楼29.ini
================================================================================

[core]
name: 居民楼29
copyFrom: 工厂.ini
radius: 45


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼29.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/平民1.ini
================================================================================


[core]
name: 平民1
price: 0
maxHp: 50
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\血溅.xxhq, ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\单位停留.xxhq, ROOT:\共享文件\3类\冷冻机制.xxhq, ROOT:\共享文件\3类\血条2.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压
displayText: Female civilian 1
displayText_zh: 女平民1
displayDescription: Target: Ground unit\nDamage creature: Low\nDamage armor: Very low\nDamage building: Very low\nSpecial: Not actively attack.\nWill run away when attacked.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：中\n伤害装甲：很低\n伤害建筑：很低\n特殊：不会主动攻击\n被攻击会逃跑
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 攻击中性, 反伪装, 生物2
buildSpeed: 0.01
isBio: true
softCollisionOnAll: 10
fogOfWarSightRange: 8
effectOnDeath: CUSTOM:平民亡
#autoTriggerCooldownTime: 2s
soundOnMoveOrder: ROOT:\音频\语音+音效\icfamoa.wav:2, ROOT:\音频\语音+音效\icfamob.wav:2, ROOT:\音频\语音+音效\icfamoc.wav:2, ROOT:\音频\语音+音效\icfamod.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\icfasea.wav:2, ROOT:\音频\语音+音效\icfaseb.wav:2, ROOT:\音频\语音+音效\icfasec.wav:2, ROOT:\音频\语音+音效\icfased.wav:2
soundOnDeath: ROOT:\音频\语音+音效\icfadia.wav:2, ROOT:\音频\语音+音效\icfadib.wav:2, ROOT:\音频\语音+音效\icfadic.wav:2
unitsSpawnedOnDeath: 人尸(addResources=setFlag:0)


[graphics]
image:        平民1.png

total_frames: 18
imageScale: 0.9
#image_offsetY:-4
frame_width: 64
frame_height: 70
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 8
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
animation_attack_start: 7
animation_attack_end: 9
animation_attack_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
showQueueBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: if not self.tags(includes='禁止攻击')
canAttackUnderwaterUnits: false

isFixedFiring: true
turretSize: 5
turretTurnSpeed: 6
#maxAttackRange: 100
shootDelay: 120
disablePassiveTargeting: true


[movement]
movementType: LAND

moveSpeed: 0.4
moveAccelerationSpeed: 0.4
moveDecelerationSpeed: 0.4
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[turret_1]
x: 0
y: 0

limitingRange: 100
shoot_sound: ROOT:\音频\语音+音效\icivatta.wav, ROOT:\音频\语音+音效\icivattb.wav


[projectile_1]
directDamage: 5
life: 60

instant: true
#buildingDamageMultiplier: 0.5
explodeEffect: CUSTOM:弹火
mutator5_ifUnitWithTags: 生物
mutator5_directDamageMultiplier: 1
mutator5_changedExplodeEffect: CUSTOM:血溅
mutator13_ifUnitWithTags: 步兵轻甲
mutator13_directDamageMultiplier: 1
mutator14_ifUnitWithTags: 步兵中甲
mutator14_directDamageMultiplier: 0.8
mutator15_ifUnitWithTags: 步兵重甲
mutator15_directDamageMultiplier: 0.6
mutator16_ifUnitWithTags: 载具轻甲
mutator16_directDamageMultiplier: 0.4
mutator17_ifUnitWithTags: 载具中甲
mutator17_directDamageMultiplier: 0.2
mutator18_ifUnitWithTags: 载具重甲
mutator18_directDamageMultiplier: 0.2
mutator19_ifUnitWithTags: 建筑轻甲
mutator19_directDamageMultiplier: 0.2
mutator20_ifUnitWithTags: 建筑防甲
mutator20_directDamageMultiplier: 0.1
mutator21_ifUnitWithTags: 建筑重甲
mutator21_directDamageMultiplier: 0.1
mutator22_ifUnitWithTags: 恐怖机器人
mutator22_directDamageMultiplier: 0.7


[action_1]
text: Crawl
text_zh: 开启爬
description: Attacked will only crawl
description_zh: 设置后被攻击会爬
displayType: action
buildSpeed: 0s
isVisible: if not self.hasFlag(id=0) and not self.hasFlag(id=1)
addResources: setFlag=0
#showMessageToAllPlayers: 0标志


[action_2]
text: Cancel
text_zh: 关闭爬
description: Only run when attacked
description_zh: 设置后被攻击不会会爬
displayType: action
buildSpeed: 0s
isVisible: if self.hasFlag(id=0)
addResources: unsetFlag=0
#showMessageToAllPlayers: 取消0标志


[action_欢呼]
text: Cheer
text_zh: 欢呼
description: Excited
description_zh: 激动了
displayType: action
buildSpeed: 0s
playSoundAtUnit:  ROOT:\音频\语音+音效\ucheer.wav
alsoQueueAction: 欢呼2


[hiddenAction_欢呼2]
buildSpeed: 1.05s
whenBuilding_cannotMove: true
whenBuilding_playAnimation: 欢呼
#showMessageToAllPlayers: 噢耶！
#playSoundToPlayerOnQueue: 


[action_散步]
text: Walk
text_zh: 散步
description: Free walk
description_zh: 自动散步
buildSpeed: 0s
autoTrigger: if self.customTimer(laterThanSeconds=16) and not self.hasFlag(id=0) and not self.hasFlag(id=1)
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 100,100
addWaypoint_maxTime: 30s
resetCustomTimer:true


[hiddenAction_跑]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) and not self.hasFlag(id=0) and not self.hasFlag(id=1) and not self.isAttacking() and not self.tags(includes='禁止攻击')
#showMessageToAllPlayers: 女平民1:救命啊！
convertTo: 平民1跑
convertTo_keepCurrentTags: true


[hiddenAction_爬]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) and self.hasFlag(id=0) and not self.isAttacking() and not self.tags(includes='禁止攻击')
#showMessageToAllPlayers: 女平民1:饶命啊！
convertTo: 平民1爬
convertTo_keepCurrentTags: true


[hiddenAction_被黏杀]
autoTrigger: if (numberOfUnitsInEnemyTeam(withTag='撞击', greaterThan=0, withinRange=30) or numberOfUnitsInEnemyTeam(withTag='撞击2', greaterThan=0, withinRange=40) or numberOfUnitsInEnemyTeam(withTag='撞击3', greaterThan=0, withinRange=40)) and not self.isInWater() and not self.isFlying() and not self.hasParent()
playSoundAtUnit: ROOT:\音频\语音+音效\igensqua.wav:2
deleteSelf: true


[hiddenAction_重置方向]
autoTriggerOnEvent: created
setBodyRotation: 45


[hiddenAction_坠亡]
autoTrigger: if not self.hasParent() and not self.tags(includes='坠亡') and self.isFlying()
temporarilyAddTags: 坠亡


[hiddenAction_坠亡2]
autoTrigger: if self.tags(includes='坠亡') and not self.isFlying()
addResources: hp=-99999


[animation_欢呼]
body_0s: {frame:80}
body_1.04s: {frame:87}
direction_units: 45
direction_strideX:0
direction_strideY:0
direction_starting: 270


[effect_平民亡]
image: 平民1亡.png
scaleFrom:0.9
scaleTo: 0.9
total_frames: 8
animateFrameStart: 0
animateFrameEnd: 7
animateFrameSpeed: 0.15
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[effect_弹火]
image: ROOT:\共享文件\1类\弹火.png
total_frames:10
animateFrameStart: 0
animateFrameEnd:9
scaleFrom: 1
scaleTo: 1
attachedToUnit: false
alwayStartDirAtZero:true


[ai]
notPassivelyTargetedByOtherUnits: true
#upgradedFrom: 间谍
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/居民楼28.ini
================================================================================

[core]
name: 居民楼28
copyFrom: 工厂.ini
radius: 40

displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
imageScale:	1.00
image:       居民楼28.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/平民1爬.ini
================================================================================


[core]
name: 平民1爬
price: 0
maxHp: 50
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\血溅.xxhq, ROOT:\共享文件\3类\单位停留.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压
showInEditor: false
isBio: true
softCollisionOnAll: 10
fogOfWarSightRange: 8
effectOnDeath: CUSTOM:平民亡
unitsSpawnedOnDeath: 人尸(addResources=setFlag:0)


[graphics]
image:        平民1爬.png

total_frames: 6
imageScale: 0.9
#image_offsetY:-4
frame_width: 64
frame_height: 70
animation_moving_start: 1
animation_moving_end: 5
animation_moving_speed: 8
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND

moveSpeed: 0.2
moveAccelerationSpeed: 0.2
moveDecelerationSpeed: 0.2
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[hiddenAction_1]
autoTrigger: if not self.hasTakenDamage(withinSeconds=1) and self.lastConverted(laterThanSeconds=10)
convertTo: 平民1
clearAllWaypoints: true


[hiddenAction_2]
autoTrigger: if not self.isMoving()
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 100,100


[hiddenAction_被黏杀]
autoTrigger: if (numberOfUnitsInEnemyTeam(withTag='撞击', greaterThan=0, withinRange=30) or numberOfUnitsInEnemyTeam(withTag='撞击2', greaterThan=0, withinRange=40) or numberOfUnitsInEnemyTeam(withTag='撞击3', greaterThan=0, withinRange=40)) and not self.hasParent()
addResources: hp=-9999
spawnEffects: CUSTOM:血溅


[effect_平民亡]
image: 平民1亡.png
scaleFrom:0.9
scaleTo: 0.9
total_frames: 8
animateFrameStart: 0
animateFrameEnd: 7
animateFrameSpeed: 0.13
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/居民楼14.ini
================================================================================

[core]
name: 居民楼14
copyFrom: 工厂.ini
radius: 40


displayText: City Hall
displayText_zh: 市政厅
exit_x:  25
exit_y:  15


[graphics]
imageScale:	1.25
image:       居民楼14.png

image_offsetX: 0
image_offsetY: -50


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/树21-雪.ini
================================================================================


[core]
name: 树21-雪
copyFrom: 树01.ini
displayText: Tree21:snow
displayText_zh: 树21-雪


[graphics]
image:        树21-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/车001c.ini
================================================================================


[core]
name: 车001c
copyFrom: 车001b.ini

displayText: vehicle1c
displayText_zh: 车1c


[graphics]
image:        车001c.png

imageScale:	1.0
frame_width: 150
frame_height: 150

================================================================================
// FILE_PATH: ./2中立/树23-雪.ini
================================================================================


[core]
name: 树23-雪
copyFrom: 树01.ini
displayText: Tree23:snow
displayText_zh: 树23-雪


[graphics]
image:        树23-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/车001a.ini
================================================================================


[core]
name: 车001a
copyFrom: 车001.ini

displayText: vehicle1a
displayText_zh: 车1a


[graphics]
image:        车001a.png

image_offsetX: -1
#image_offsetY: -10


#[movement]
#moveSpeed: 1.6
#moveAccelerationSpeed: 1.4
#moveDecelerationSpeed: 1.4
#maxTurnSpeed: 4
#turnAcceleration: 2

================================================================================
// FILE_PATH: ./2中立/飞机.ini
================================================================================


[core]
name: 飞机
copyFrom: 车001.ini

displayText: airplane1
displayText_zh: 飞机1
maxTransportingUnits: 10
transportSlotsNeeded: 99
soundOnNewSelection: ROOT:\音频\语音+音效\atra01a.wav:2


[graphics]
image:        ROOT:\共享文件\2类\空投飞机.png

imageScale:	1.0
frame_width: 130
frame_height: 130
#image_offsetX: 0
#image_offsetY: -10
animation_direction_units: 11.25
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
showTransportBar: false
image_shadow: AUTO_ANIMATED
shadowOffsetX:0
shadowOffsetY:10


[movement]
moveSpeed: 1.2
moveAccelerationSpeed: 0.04
moveDecelerationSpeed: 0.01
maxTurnSpeed: 2.0
turnAcceleration: 0.5

================================================================================
// FILE_PATH: ./2中立/居民楼16.ini
================================================================================

[core]
name: 居民楼16
copyFrom: 工厂.ini
radius: 40
footprint: -4,-1,4,0
displayFootprint: -5,-3,4,1


displayText: Residential building
displayText_zh: 居民楼
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼16.png

image_offsetX: 0
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/房08.ini
================================================================================

[core]
name:房08
copyFrom: 房01.ini
radius: 40

displayText: Civilian house8
displayText_zh: 房08
effectOnDeath: CUSTOM:废墟, CUSTOM:炸毁, CUSTOM:炸毁2, CUSTOM:炸毁3, CUSTOM:炸毁加


[graphics]
image:        房08.png

image_offsetX: 15
image_offsetY: -50


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 19
y: -7
#x13
#y6
#isVisible: true


[attachment_2]
x: 32
y: -1


[attachment_3]
x: 19
y: -14


[attachment_4]
x: 32
y: -8


[attachment_5]
x: 10
y: -7


[attachment_6]
x: -3
y: -1


[attachment_7]
x: -16
y: 5


[attachment_8]
x: 10
y: -14


[attachment_9]
x: -3
y: -8


[attachment_10]
x: -16
y: -2


[hiddenAction_2]
spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:爆炸3, CUSTOM:损碎片*10, CUSTOM:损碎片2*10, CUSTOM:损碎片3*10


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[effect_烟]
hOffset: 45
xOffsetRelative: 50
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: -10
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 57
xOffsetRelative: -23
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_爆炸]
hOffset: 45
xOffsetRelative: 50
yOffsetRelative: 0


[effect_爆炸2]
hOffset: 15
xOffsetRelative: -10
yOffsetRelative: 0


[effect_爆炸3]
@copyFromSection: effect_爆炸
hOffset: 57
xOffsetRelative: -23
yOffsetRelative: 0


[effect_损碎片]
hOffset: 45
xOffsetRelative: 50
yOffsetRelative: 0


[effect_损碎片2]
hOffset: 15
xOffsetRelative: -10
yOffsetRelative: 0


[effect_损碎片3]
@copyFromSection: effect_损碎片
hOffset: 57
xOffsetRelative: -23
yOffsetRelative: 0


[effect_废墟]
image: 房08毁.png
xOffsetRelative: 15
yOffsetRelative: 50


[effect_炸毁]
scaleFrom: 1.2
scaleTo: 1.2
xOffsetRelative: 20
yOffsetRelative: 35


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative: -40
yOffsetRelative: 25


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative: 0
yOffsetRelative: 0


[effect_炸毁加]
scaleFrom: 1
scaleTo: 1

================================================================================
// FILE_PATH: ./2中立/平民3.ini
================================================================================


[core]
name: 平民3
price: 0
maxHp: 100
mass: 110
radius: 8

copyFrom: ROOT:\共享文件\3类\人死.xxhq, ROOT:\共享文件\3类\血溅.xxhq, ROOT:\共享文件\3类\炸弹限制.xxhq, ROOT:\共享文件\3类\单位停留.xxhq, ROOT:\共享文件\3类\冷冻机制.xxhq, ROOT:\共享文件\3类\血条2.xxhq
tags: 原始护甲, 步兵轻甲, 生物, 被碾压
displayText: Protesters
displayText_zh: 平民3
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 攻击中性, 反伪装, 生物2
buildSpeed: 0.01
isBio: true
softCollisionOnAll: 10
fogOfWarSightRange: 8
effectOnDeath: CUSTOM:死亡
soundOnMoveOrder: ROOT:\音频\语音+音效\iciamoa.wav:2, ROOT:\音频\语音+音效\iciamob.wav:2, ROOT:\音频\语音+音效\iciamoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iciasea.wav:2, ROOT:\音频\语音+音效\iciaseb.wav:2, ROOT:\音频\语音+音效\iciasec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iciadia.wav:2, ROOT:\音频\语音+音效\iciadib.wav:2, ROOT:\音频\语音+音效\iciadic.wav:2


[graphics]
image:        平民3.png

#total_frames: 13
imageScale: 0.9
#image_offsetY:-4
frame_width: 60
frame_height: 60
animation_moving_start: 1
animation_moving_end: 6
animation_moving_speed: 8
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 8
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 8
animation_direction_units: 45
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 270
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
showQueueBar: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false

isFixedFiring: true

[movement]
movementType: LAND

moveSpeed: 0.7
moveAccelerationSpeed: 0.4
moveDecelerationSpeed: 0.4
maxTurnSpeed: 6
turnAcceleration: 6
reverseSpeedPercentage:0


[action_散步]
text: Walk
text_zh: 散步
description: Free walk
description_zh: 自动散步
buildSpeed: 0s
autoTrigger: if self.customTimer(laterThanSeconds=16) and not self.hasFlag(id=0) and not self.hasFlag(id=1)
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_randomOffsetFromSelf: 100,100
addWaypoint_maxTime: 30s
resetCustomTimer:true


[hiddenAction_被黏杀]
autoTrigger: if (numberOfUnitsInEnemyTeam(withTag='撞击', greaterThan=0, withinRange=30) or numberOfUnitsInEnemyTeam(withTag='撞击2', greaterThan=0, withinRange=40) or numberOfUnitsInEnemyTeam(withTag='撞击3', greaterThan=0, withinRange=40)) and not self.isInWater() and not self.isFlying() and not self.hasParent()
playSoundAtUnit: ROOT:\音频\语音+音效\igensqua.wav:2
deleteSelf: true


[hiddenAction_跑]
autoTrigger: if self.hasTakenDamage(withinSeconds=1) and not self.isAttacking() and not self.tags(includes='禁止攻击')
convertTo: 平民3爬
convertTo_keepCurrentTags: true


[hiddenAction_重置方向]
autoTriggerOnEvent: created
setBodyRotation: 45


[hiddenAction_坠亡]
autoTrigger: if not self.hasParent() and not self.tags(includes='坠亡') and self.isFlying()
temporarilyAddTags: 坠亡


[hiddenAction_坠亡2]
autoTrigger: if self.tags(includes='坠亡') and not self.isFlying()
addResources: hp=-99999


[effect_死亡]
image: 平民3死亡.png
scaleFrom: 0.9
scaleTo: 0.9
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.35
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: false
alwayStartDirAtZero: true


[ai]
notPassivelyTargetedByOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/医院.ini
================================================================================

[core]
name: 医院
price:0
maxHp: 1000
mass: 9000
radius: 40

copyFrom: ROOT:\共享文件\3类\中立建筑共同2.xxhq, ROOT:\共享文件\3类\血条5.xxhq
tags: 原始护甲, 建筑重甲, 建筑2, 房, 占领, 医疗, 带扩展建筑
displayText: Hospital
displayText_zh: 医院
displayDescription: After occupying, infantry can get real-time healing.\nInfantry within range can get quick healing.
displayDescription_zh: 特殊：工程师占领后生物类单位可获得实时治疗\n范围内的己方生物可获得快速治疗
isBuilding:true
footprint: -5,-1,4,2
displayFootprint: -6,-3,5,3
fogOfWarSightRange: 8
#numBitsOnDeath: 50
createOnAggressiveTeam: true
#canOnlyBeAttackedByUnitsWithTags: 工程师, 攻击中性
effectOnDeath: CUSTOM:废墟, CUSTOM:炸毁, CUSTOM:炸毁2, CUSTOM:炸毁3, CUSTOM:炸毁4
soundOnDeath: ROOT:\音频\语音+音效\bgendiea.wav:2, ROOT:\音频\语音+音效\bgendieb.wav:2, ROOT:\音频\语音+音效\bgendiec.wav:2, ROOT:\音频\语音+音效\bgendied.wav:2, ROOT:\音频\语音+音效\bgendiee.wav:2, ROOT:\音频\语音+音效\bgendief.wav:2


[graphics]
image:        医院.png

total_frames: 2
imageScale:	1.02
#default_frame: 0
image_offsetX: 15
image_offsetY: -25
#rotate_with_direction: false


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

showRangeUIGuide: true
maxAttackRange: 200


[movement]
movementType:BUILDING


[turret_烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 烟


[turret_2烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 2烟


[projectile_烟]
directDamage: 0
life: 60

invisible: true
trailEffect: CUSTOM:烟, CUSTOM:火2, CUSTOM:火
trailEffectRate: 14
speed: 0.01
targetSpeed: 0.01
targetGround: true
shouldRevealFog:true


[projectile_2烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:2烟, CUSTOM:2火2, CUSTOM:2火


[hiddenAction_1]
requireConditional: if self.hp(greaterThan=49)
autoTriggerOnEvent: teamChanged
#stopLastAnimation: true
addResources: setFlag=1


[hiddenAction_2]
autoTrigger: if not self.hp(greaterThan=50) and not self.hasFlag(id=0)
playSoundAtUnit:  ROOT:\音频\语音+音效\gdamag1a.wav:2, ROOT:\音频\语音+音效\gdamag1b.wav:2, ROOT:\音频\语音+音效\gdamag1c.wav:2, ROOT:\音频\语音+音效\gdamag1d.wav:2, ROOT:\音频\语音+音效\gdamag1e.wav:2
#showMessageToAllPlayers: 损
addResources: setFlag=0
stopLastAnimation: true
playAnimation: 损
spawnEffects: CUSTOM:爆炸, CUSTOM:爆炸2, CUSTOM:损碎片*10, CUSTOM:损碎片2*10


[hiddenAction_3]
autoTrigger: if self.hp(greaterThan=50) and self.hasFlag(id=0)
stopLastAnimation: true
addResources: unsetFlag=0


[hiddenAction_冒]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 烟
fireTurretXAtGround_withOffset: 0,100
playSoundAtUnit:  ROOT:\音频\语音+音效\gfirlo1b.wav, ROOT:\音频\语音+音效\gfirlo1e.wav, ROOT:\音频\语音+音效\gfirlo1f.wav


[hiddenAction_冒2]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 2烟
fireTurretXAtGround_withOffset: 0,100


[hiddenAction_初始价值]
addResources: 价值=25


[animation_损]
body_0s: {frame:1}
body_999999s: {frame:1}


[effect_烟]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
color: #FF000000
fadeInTime: 11
scaleFrom: 0.5
scaleTo: 2
alpha: 0.75
life: 240
hOffset: 72
hSpeed:0.3
xSpeedAbsolute: -0.2
dirOffsetRandom:180
xOffsetRelative: -5
yOffsetRelative: 0
xOffsetRelativeRandom: 2
yOffsetRelativeRandom: 2
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.1
atmospheric:true
shadow:true
fadeOut: true
attachedToUnit: false
drawUnderUnits:false


[effect_火]
@copyFromSection: effect_烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_火2]
@copyFromSection: effect_烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_2烟]
@copyFromSection: effect_烟
hOffset: 15
xOffsetRelative: 40
yOffsetRelative: -45


[effect_2火]
@copyFromSection: effect_2烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_2火2]
@copyFromSection: effect_2烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false


[effect_废墟]
image: 医院毁.png
scaleFrom: 1.02
scaleTo: 1.02
life: 3600
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true
attachedToUnit: false
#xOffsetRelative: 0
yOffsetRelative: 35


[effect_爆炸]
image: ROOT:\共享文件\1类\爆炸8.png
scaleFrom: 2
scaleTo: 2
total_frames: 20
animateFrameStart: 0
animateFrameEnd: 19
animateFrameSpeed: 0.35
hOffset: 72
xOffsetRelative: -5
yOffsetRelative: 0
xOffsetRelativeRandom: 5
yOffsetRelativeRandom: 5
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits: false


[effect_爆炸2]
@copyFromSection: effect_爆炸
hOffset: 15
xOffsetRelative: 40
yOffsetRelative: -45


[effect_损碎片]
image: ROOT:\共享文件\1类\碎片.png
scaleFrom: 1.02
scaleTo: 1.02
life: 600
hOffset: 72
xOffsetRelative: -5
yOffsetRelative: 0
hSpeed: 2
hSpeedRandom: 3
dirSpeedRandom: 20
xSpeedAbsoluteRandom: 2
ySpeedAbsoluteRandom: 1
physics: true
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false


[effect_损碎片2]
@copyFromSection: effect_损碎片
hOffset: 15
xOffsetRelative: 40
yOffsetRelative: -45


[effect_炸毁]
image: ROOT:\共享文件\1类\炸毁5.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 11
animateFrameStart: 0
animateFrameEnd: 10
animateFrameSpeed: 0.35
animateFrameSpeedRandom: 0.05
xOffsetRelative	:  -75
yOffsetRelative	:  40
xOffsetRelativeRandom:  10
yOffsetRelativeRandom:  5
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[effect_炸毁2]
@copyFromSection: effect_炸毁
xOffsetRelative	:  -20
yOffsetRelative	:  10


[effect_炸毁3]
@copyFromSection: effect_炸毁
xOffsetRelative	:  35
yOffsetRelative	:  -20


[effect_炸毁4]
image: ROOT:\共享文件\1类\爆炸3.png
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 21
animateFrameEnd: 20
animateFrameSpeed: 0.35
xOffsetRelative: 20
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: false
drawUnderUnits:false


[ai]
notPassivelyTargetedByOtherUnits: true
#lowPriorityTargetForOtherUnits: true

================================================================================
// FILE_PATH: ./2中立/平民2.ini
================================================================================


[core]
name: 平民2
copyFrom: 平民1.ini
displayText: Male civilian 1
displayText_zh: 男平民1
displayDescription: Target: Ground unit\nDamage creature: Low\nDamage armor: Very low\nDamage building: Very low\nSpecial: Not actively attack.\nWill run away when attacked.
displayDescription_zh: 攻击目标：地面单位/海面单位\n伤害生物：中\n伤害装甲：很低\n伤害建筑：很低\n特殊：不会主动攻击\n被攻击会逃跑
soundOnMoveOrder: ROOT:\音频\语音+音效\iciamoa.wav:2, ROOT:\音频\语音+音效\iciamob.wav:2, ROOT:\音频\语音+音效\iciamoc.wav:2
soundOnNewSelection: ROOT:\音频\语音+音效\iciasea.wav:2, ROOT:\音频\语音+音效\iciaseb.wav:2, ROOT:\音频\语音+音效\iciasec.wav:2
soundOnDeath: ROOT:\音频\语音+音效\iciadia.wav:2, ROOT:\音频\语音+音效\iciadib.wav:2, ROOT:\音频\语音+音效\iciadic.wav:2


[graphics]
image:        平民2.png

frame_width: 66
frame_height: 72


[hiddenAction_跑]
playSoundAtUnit:  ROOT:\音频\语音+音效\iciafea.wav:2, ROOT:\音频\语音+音效\iciafeb.wav:2, ROOT:\音频\语音+音效\iciafec.wav:2
convertTo: 平民2跑


[hiddenAction_爬]
playSoundAtUnit:  ROOT:\音频\语音+音效\iciafec.wav:2, ROOT:\音频\语音+音效\iciafea.wav:2, ROOT:\音频\语音+音效\iciafeb.wav:2
convertTo: 平民2爬


[effect_平民亡]
image: 平民2亡.png

================================================================================
// FILE_PATH: ./2中立/房09.ini
================================================================================

[core]
name:房09
copyFrom: 房01.ini
radius: 50

displayText: Civilian house9
displayText_zh: 房09
#footprint: -3,-1,3,0
#displayFootprint: -4,-2,4,1
exit_x:  20
exit_y:  -5


[graphics]
image:        房09.png

image_offsetX: -10
image_offsetY: -40


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 35
y: 10
#x13
#y6
#isVisible: true


[attachment_2]
x: 48
y: 16


[attachment_3]
x: 35
y: 24


[attachment_4]
x: 48
y: 30


[attachment_5]
x: -13
y: 12


[attachment_6]
x: -26
y: 18


[attachment_7]
x: -39
y: 24


[attachment_8]
x: -13
y: 26


[attachment_9]
x: -26
y: 32


[attachment_10]
x: -39
y: 38


[effect_烟]
hOffset: 15
xOffsetRelative: -55
yOffsetRelative: 5


[effect_2烟]
hOffset: 85
xOffsetRelative: 60
yOffsetRelative: 0


[effect_爆炸]
hOffset: 15
xOffsetRelative: -55
yOffsetRelative: 5


[effect_爆炸2]
hOffset: 85
xOffsetRelative: 60
yOffsetRelative: 0


[effect_损碎片]
hOffset: 15
xOffsetRelative: -55
yOffsetRelative: 5


[effect_损碎片2]
hOffset: 85
xOffsetRelative: 60
yOffsetRelative: 0


[effect_废墟]
image: 房09毁.png
xOffsetRelative: -10
yOffsetRelative: 40

================================================================================
// FILE_PATH: ./2中立/居民楼17.ini
================================================================================

[core]
name: 居民楼17
copyFrom: 工厂.ini
radius: 40
footprint: -4,-1,3,0
displayFootprint: -6,-3,3,1


displayText: Kremlin
displayText_zh: 克里姆林宫
exit_x:  25
exit_y:  15


[graphics]
image:       居民楼17.png

image_offsetX: -30
image_offsetY: -40


[turret_3烟]
x: 0
y: 0

canShoot: false
warmup: 20
projectile: 3烟


[projectile_3烟]
@copyFromSection: projectile_烟
directDamage: 0
life: 60

trailEffect: CUSTOM:3烟, CUSTOM:3火2, CUSTOM:3火


#[hiddenAction_1]
#autoTrigger: false


[attachment_1]
x: 22
y: 5
#x13
#y6
#isVisible: true


[attachment_2]
x: 9
y: 11


[attachment_3]
x: -4
y: 17


[attachment_4]
x: -9
y: 10


[attachment_5]
x: -22
y: 4


[attachment_6]
x: -35
y: -2


[attachment_7]
x: 2
y: 30


[attachment_8]
x: -11
y: 36


[attachment_9]
x: 12
y: 30


[attachment_10]
x: 25
y: 36


[hiddenAction_冒3]
autoTrigger: if self.hp(lessThan=50)
fireTurretXAtGround: 3烟
fireTurretXAtGround_withOffset: 0,100


[animation_驻]
body_0s: {frame:2}
body_999999s: {frame:2}


[effect_烟]
hOffset: 0
xOffsetRelative: 30
yOffsetRelative: 0


[effect_2烟]
hOffset: 15
xOffsetRelative: 0
yOffsetRelative: 0


[effect_3烟]
@copyFromSection: effect_烟
hOffset: 55
xOffsetRelative: 20
yOffsetRelative: 0


[effect_3火]
@copyFromSection: effect_3烟
color: #FFFFFF00
scaleFrom: 0.4
scaleTo: 1
life: 60
shadow: false


[effect_3火2]
@copyFromSection: effect_3烟
color: #FFFF0000
scaleFrom: 0.4
scaleTo: 1.5
life: 90
shadow: false



================================================================================
// FILE_PATH: ./2中立/树07-雪.ini
================================================================================


[core]
name: 树07-雪
copyFrom: 树01.ini
displayText: Tree7:snow
displayText_zh: 树07-雪


[graphics]
image:        树07-雪.png

#image_offsetY:-13
#image_offsetX:13

================================================================================
// FILE_PATH: ./2中立/平民1跑.ini
================================================================================


[core]
name: 平民1跑
copyFrom: 平民1爬.ini


[graphics]
image:        平民1跑.png

animation_idle_start: 1
animation_idle_end: 5


[movement]
moveSpeed: 0.6
moveAccelerationSpeed: 0.6
moveDecelerationSpeed: 0.6


[hiddenAction_2]
addWaypoint_position_randomOffsetFromSelf: 200,200

================================================================================
// FILE_PATH: ./2中立/摆设-雕像2.ini
================================================================================

[core]
name: 摆设-雕像2
copyFrom: 摆设-列宁墓.ini
maxHp: 800

tags: 原始护甲, 建筑, 建筑轻甲
displayText: Statue
displayText_zh: 雕像2
footprint: -1,0,1,1
displayFootprint: -1,-1,1,1


[graphics]
image: 摆设-雕像2.png
image_offsetY: -30


[action_直接坏]
text: Damaged
text_zh: 损坏
displayType: upgrade
buildSpeed: 0s
addResources: hp=-620


[hiddenAction_1]
autoTrigger: if self.hp(lessThan=200) and not self.hasFlag(id=1)


[ai]
notPassivelyTargetedByOtherUnits: true