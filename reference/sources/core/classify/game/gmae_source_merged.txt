

================================================================================
// FILE_PATH: ./game/b.java
================================================================================

package com.corrodinggames.rts.game;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/b.class */
public class b extends a {
}


================================================================================
// FILE_PATH: ./game/n.java
================================================================================

package com.corrodinggames.rts.game;

import android.graphics.Color;
import android.graphics.Paint;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.game.units.y;
import com.corrodinggames.rts.gameFramework.bq;
import com.corrodinggames.rts.gameFramework.br;
import com.corrodinggames.rts.gameFramework.bs;
import com.corrodinggames.rts.gameFramework.j.ad;
import com.corrodinggames.rts.gameFramework.j.as;
import com.corrodinggames.rts.gameFramework.m.aa;
import com.corrodinggames.rts.gameFramework.m.ag;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/n.class */
public abstract class n extends bq implements Comparable {
    public int k;
    public final String l = "Note to modifiers: Changing credits will not allow you to cheat in multiplayer games, but it will only break sync";
    public boolean m;
    public boolean n;
    public double o;
    public double p;
    public int q;
    public int r;
    public y s;
    public y t;
    public boolean u;
    public String v;
    public boolean w;
    public int x;
    public boolean y;
    public Integer z;
    public Integer A;
    public Integer B;
    public Integer C;
    public int D;
    private boolean at;
    private int au;
    public boolean E;
    private int av;
    public boolean F;
    public boolean G;
    public boolean H;
    public boolean I;
    public boolean J;
    public final Object K;
    public int L;
    public int M;
    public byte[][] N;
    public String O;
    public String P;
    public int Q;
    public int R;
    public boolean S;
    public s T;
    public boolean U;
    public byte V;
    public int W;
    public long X;
    public long Y;
    public int Z;
    public boolean aa;
    public boolean ab;
    public int ac;
    int ad;
    public Paint ae;
    public Paint af;
    int ai;
    com.corrodinggames.rts.game.units.custom.h ak;
    com.corrodinggames.rts.game.units.custom.e.f al;
    public com.corrodinggames.rts.game.units.custom.e.c am;
    public float an;
    long aq;
    double ar;

    /* renamed from: a, reason: collision with root package name */
    static com.corrodinggames.rts.gameFramework.utility.m f166a = new com.corrodinggames.rts.gameFramework.utility.m();
    static n[] b = new n[0];
    public static int c = 10;
    public static int d = 0;
    public static int e = 100;
    public static int f = c + d;
    public static final n g = new e(-1, false, "<blank>");
    public static final n h = new d(-2);
    public static final n i = new d(-1);
    private static n[] as = new n[f];
    public static n j = new u(-99);
    static int[] ag = new int[10];
    static String[] ah = new String[10];
    static int aj = -99;
    public static float ao = 40.0f;
    public static float ap = 10.0f;

    @Override // java.lang.Comparable
    /* renamed from: a, reason: merged with bridge method [inline-methods] */
    public int compareTo(n nVar) {
        int i2 = this.ac - nVar.ac;
        if (i2 != 0) {
            return i2;
        }
        int i3 = this.k - nVar.k;
        if (i3 != 0) {
            return i3;
        }
        if (this.v != null && nVar.v != null) {
            return this.v.compareTo(nVar.v);
        }
        return 0;
    }

    public void b(as asVar) throws IOException {
        asVar.c(this.k);
        asVar.a((int) this.o);
        asVar.a(this.r);
        asVar.b(this.v);
        asVar.a(this.U);
        if (asVar.g() > 26) {
            asVar.a(A());
            asVar.d("lastPingTimeReceivedAt");
            asVar.a(this.X);
        }
        if (asVar.g() >= 55) {
            asVar.a(this.w);
            asVar.a(this.x);
        }
        if (asVar.g() >= 91) {
            asVar.a(this.ac);
            asVar.c(0);
        }
        if (asVar.g() >= 97) {
            asVar.a(this.I);
            asVar.a(this.J);
        }
        if (asVar.g() >= 125) {
            asVar.a(this.E);
            asVar.a(this.at);
            asVar.a(this.au);
        }
        if (asVar.g() >= 149) {
            asVar.b(this.P);
            asVar.a(this.Q);
        }
        if (asVar.g() >= 156) {
            asVar.a(this.z);
            asVar.a(this.A);
            asVar.a(this.B);
            asVar.a(this.C);
            asVar.a(this.D);
        }
    }

    public void c(as asVar) throws IOException {
        asVar.c(0);
        asVar.a(A());
        asVar.a(this.I);
        asVar.a(this.J);
    }

    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        kVar.d();
        this.W = kVar.f();
        this.X = System.currentTimeMillis();
        this.I = kVar.e();
        this.J = kVar.e();
    }

    public void b(com.corrodinggames.rts.gameFramework.j.k kVar) {
        a(kVar, false);
    }

    public void a(com.corrodinggames.rts.gameFramework.j.k kVar, boolean z) {
        if (!z) {
            f((int) kVar.d());
            this.o = kVar.f();
            this.p = 0.0d;
            this.q = 0;
            this.r = kVar.f();
            this.v = kVar.j();
            this.U = kVar.e();
        } else {
            kVar.d();
            kVar.f();
            kVar.f();
            kVar.j();
            kVar.e();
        }
        if (kVar.b() >= 14) {
            this.W = kVar.f();
            kVar.i();
            this.X = System.currentTimeMillis();
        }
        if (kVar.b() >= 34 && kVar.c() >= 55) {
            boolean zE = kVar.e();
            int iF = kVar.f();
            if (!z) {
                this.w = zE;
                this.x = iF;
            }
        } else if (com.corrodinggames.rts.gameFramework.l.B().bX.B) {
            ad.g("AI was skipping in networked game, steam version:" + kVar.c());
        }
        if (kVar.b() >= 50 && kVar.c() >= 91) {
            this.ac = kVar.f();
            kVar.d();
        }
        if (kVar.b() >= 52 && kVar.c() >= 97) {
            this.I = kVar.e();
            this.J = kVar.e();
        }
        if (kVar.b() >= 70 && kVar.c() >= 125) {
            boolean zE2 = kVar.e();
            boolean zE3 = kVar.e();
            int iF2 = kVar.f();
            if (!z) {
                this.E = zE2;
                this.at = zE3;
                this.au = iF2;
            }
        }
        if (kVar.b() >= 90 && kVar.c() >= 149) {
            String strJ = kVar.j();
            int iF3 = kVar.f();
            if (!z) {
                this.P = strJ;
                this.Q = iF3;
            }
        }
        if (kVar.b() >= 93 && kVar.c() >= 156) {
            Integer numK = kVar.k();
            Integer numK2 = kVar.k();
            Integer numK3 = kVar.k();
            Integer numK4 = kVar.k();
            int iF4 = kVar.f();
            if (!z) {
                if (this.z != numK) {
                    c("readIn aiDifficultyOverride was:" + this.z + " now:  " + numK);
                }
                this.z = numK;
                this.A = numK2;
                this.B = numK3;
                this.C = numK4;
                this.D = iF4;
            }
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.bq
    public void a(as asVar) throws IOException {
        asVar.d("Writing team: " + this.v);
        b(asVar);
        if (asVar.g() >= 44) {
            asVar.c(4);
            asVar.a(this.G);
            asVar.a(this.F);
            asVar.a(true);
            if (1 != 0) {
                d(asVar);
            }
            this.al.a(asVar);
            com.corrodinggames.rts.game.units.custom.g.a(this.ak, asVar);
            asVar.a(this.y);
        }
    }

    public void c(com.corrodinggames.rts.gameFramework.j.k kVar) {
        b(kVar);
        if (kVar.b() >= 26) {
            byte bD = kVar.d();
            this.G = kVar.e();
            if (bD >= 1) {
                this.F = kVar.e();
            }
            if (kVar.e()) {
                d(kVar);
            }
            if (bD >= 2) {
                this.al.a(kVar);
            }
            if (bD >= 3) {
                a(com.corrodinggames.rts.game.units.custom.g.a(kVar));
            }
            if (bD >= 4) {
                this.y = kVar.e();
            }
        }
    }

    public void d(as asVar) throws IOException {
        com.corrodinggames.rts.gameFramework.l.B();
        asVar.d("-- Saving fog --");
        asVar.a(this.N != null);
        if (this.N != null) {
            asVar.a(this.L);
            asVar.a(this.M);
            for (int i2 = 0; i2 < this.L; i2++) {
                for (int i3 = 0; i3 < this.M; i3++) {
                    asVar.c(this.N[i2][i3]);
                }
            }
        }
        asVar.d("--End fog--");
    }

    public void d(com.corrodinggames.rts.gameFramework.j.k kVar) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (kVar.e()) {
            this.L = kVar.f();
            this.M = kVar.f();
            int i2 = this.L;
            int i3 = this.M;
            if (lVarB.bL != null) {
                i2 = lVarB.bL.C;
                i3 = lVarB.bL.D;
                if (this.L != i2 || this.M != i3) {
                    com.corrodinggames.rts.gameFramework.l.b("Map size does not match fog size: " + this.L + "!=" + i2 + "|" + this.M + "!=" + i3);
                }
            }
            if (1 != 0) {
                this.N = new byte[i2][i3];
            } else {
                this.N = (byte[][]) null;
            }
            for (int i4 = 0; i4 < this.L; i4++) {
                for (int i5 = 0; i5 < this.M; i5++) {
                    if (1 != 0) {
                        this.N[i4][i5] = kVar.d();
                    } else {
                        kVar.d();
                    }
                }
            }
            return;
        }
        this.N = (byte[][]) null;
    }

    public void a() {
        if (this.N != null) {
            for (int i2 = 0; i2 < this.L; i2++) {
                for (int i3 = 0; i3 < this.M; i3++) {
                    this.N[i2][i3] = 0;
                }
            }
        }
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (lVarB.bs == this) {
            lVarB.bW.O = true;
            if (lVarB.bL != null) {
                lVarB.bL.k();
                lVarB.bL.g();
            }
        }
    }

    public boolean b() {
        return this.r == -3;
    }

    public static ArrayList a(boolean z) {
        ArrayList arrayList = new ArrayList();
        for (int i2 = 0; i2 < f; i2++) {
            n nVar = as[i2];
            if (nVar != null && (z || nVar.b())) {
                arrayList.add(nVar);
            }
        }
        Collections.sort(arrayList);
        return arrayList;
    }

    public static ArrayList c() {
        return b(false);
    }

    public static ArrayList b(boolean z) {
        ArrayList arrayList = new ArrayList();
        for (int i2 = 0; i2 < f; i2++) {
            n nVar = as[i2];
            if (nVar != null && (z || !nVar.b())) {
                arrayList.add(nVar);
            }
        }
        return arrayList;
    }

    public static n[] d() {
        return b;
    }

    public static void e() {
        com.corrodinggames.rts.gameFramework.utility.m mVar = f166a;
        mVar.clear();
        mVar.add(i);
        mVar.add(h);
        for (int i2 = 0; i2 < c; i2++) {
            n nVar = as[i2];
            if (nVar != null) {
                mVar.add(nVar);
            }
        }
        if (b.length != mVar.f694a) {
            b = new n[mVar.f694a];
        }
        int i3 = mVar.f694a;
        Object[] objArrA = mVar.a();
        for (int i4 = 0; i4 < i3; i4++) {
            b[i4] = (n) objArrA[i4];
        }
    }

    public static ArrayList f() {
        ArrayList arrayList = new ArrayList();
        for (int i2 = 0; i2 < c; i2++) {
            n nVar = as[i2];
            if (nVar != null && !nVar.b() && !arrayList.contains(Integer.valueOf(nVar.r))) {
                arrayList.add(Integer.valueOf(nVar.r));
            }
        }
        Collections.sort(arrayList);
        return arrayList;
    }

    public static int a(int i2, boolean z) {
        int i3 = 0;
        for (int i4 = 0; i4 < c; i4++) {
            n nVar = as[i4];
            if (nVar != null && nVar.r == i2 && !nVar.b() && (!z || !nVar.w)) {
                i3++;
            }
        }
        return i3;
    }

    public static int g() {
        int i2 = 0;
        for (int i3 = 0; i3 < c; i3++) {
            n nVar = as[i3];
            if (nVar != null && !nVar.b() && !nVar.F && !nVar.G) {
                i2++;
            }
        }
        return i2;
    }

    public static void b(int i2, boolean z) throws IOException {
        if (i2 < 10 || i2 == c) {
            return;
        }
        if (i2 > e) {
            throw new IOException("setMaxTeamId: " + i2 + " is over limit of:" + e);
        }
        if (!z && i2 <= c) {
            return;
        }
        int i3 = i2 + d;
        n[] nVarArr = new n[i3];
        for (int i4 = 0; i4 < as.length; i4++) {
            n nVar = as[i4];
            if (i4 < nVarArr.length) {
                nVarArr[i4] = nVar;
            }
        }
        as = nVarArr;
        c = i2;
        f = i3;
    }

    public static String a(int i2) {
        return i2 == 0 ? "A" : i2 == 1 ? "B" : i2 == 2 ? "C" : i2 == 3 ? "D" : i2 == 4 ? "E" : i2 == 5 ? "F" : i2 == 6 ? "G" : i2 == 7 ? "H" : i2 == 8 ? "I" : i2 == 9 ? "J" : i2 == 10 ? "K" : i2 == -3 ? "S" : VariableScope.nullOrMissingString + i2;
    }

    public String h() {
        return a(this.r);
    }

    public void i() {
        this.E = false;
        this.at = false;
        this.au = -9999;
    }

    public boolean j() {
        return this.E;
    }

    public boolean k() {
        return this.au >= 0;
    }

    public void l() {
        this.au = com.corrodinggames.rts.gameFramework.l.B().by;
    }

    public boolean m() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (((this.F || this.G) && !lVarB.bX.ay.l) || this.w || B()) {
            return false;
        }
        if (this.ab && !k()) {
            return false;
        }
        return true;
    }

    public static int b(int i2) {
        int i3 = 0;
        for (int i4 = 0; i4 < c; i4++) {
            n nVar = as[i4];
            if (nVar != null && nVar.r == i2 && nVar.k() && nVar.m()) {
                i3++;
            }
        }
        return i3;
    }

    public static int c(int i2) {
        int i3 = 0;
        for (int i4 = 0; i4 < c; i4++) {
            n nVar = as[i4];
            if (nVar != null && nVar.r == i2 && nVar.m()) {
                i3++;
            }
        }
        return i3;
    }

    public static void n() {
        for (int i2 = 0; i2 < c; i2++) {
            n nVar = as[i2];
            if (nVar != null) {
                nVar.Z();
            }
        }
        Y();
    }

    public static void o() {
        for (int i2 = 0; i2 < c; i2++) {
            n nVar = as[i2];
            if (nVar != null) {
                nVar.au = -9999;
            }
        }
    }

    public static void d(int i2) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (!lVarB.bX.C || lVarB.cb.j()) {
            return;
        }
        for (int i3 = 0; i3 < c; i3++) {
            n nVar = as[i3];
            if (nVar != null && nVar.r == i2 && !nVar.at) {
                nVar.at = true;
                com.corrodinggames.rts.gameFramework.e eVarB = lVarB.cf.b();
                eVarB.i = nVar;
                eVarB.r = true;
                eVarB.u = 100;
                lVarB.bX.a(eVarB);
            }
        }
    }

    public static void e(int i2) {
        int i3 = -9999;
        for (int i4 = 0; i4 < c; i4++) {
            n nVar = as[i4];
            if (nVar != null && nVar.r == i2 && nVar.k() && nVar.m() && nVar.au > i3) {
                i3 = nVar.au;
            }
        }
        if (i3 >= 0 && com.corrodinggames.rts.gameFramework.utility.y.a(i3, 120000)) {
            for (n nVar2 : as) {
                if (nVar2 != null && nVar2.r == i2) {
                    nVar2.au = -9999;
                }
            }
        }
    }

    public boolean b(n nVar) {
        if (p() && nVar != null && d(nVar)) {
            return true;
        }
        return false;
    }

    public boolean p() {
        if (this.I || this.J) {
            return true;
        }
        return false;
    }

    public boolean q() {
        if (com.corrodinggames.rts.gameFramework.l.B().bs == this) {
            return true;
        }
        return false;
    }

    public void c(boolean z) {
        if (z) {
            this.Q = 1;
        } else {
            this.Q = 0;
        }
    }

    public boolean r() {
        return this.Q == 1;
    }

    public final int a(boolean z, boolean z2) {
        s sVar = this.T;
        int i2 = sVar.c;
        if (z) {
            i2 += sVar.f;
        }
        if (z2) {
            i2 += sVar.e;
        }
        return i2;
    }

    public final int s() {
        return this.T.c + this.T.f + this.T.e;
    }

    public final int a(com.corrodinggames.rts.game.units.custom.g gVar, boolean z, boolean z2) {
        s sVar = this.T;
        if (sVar.d == 0) {
            return 0;
        }
        p pVarA = null;
        t tVar = sVar.p;
        p[] pVarArr = tVar.b;
        int i2 = 0;
        int i3 = tVar.c;
        while (true) {
            if (i2 >= i3) {
                break;
            }
            p pVar = pVarArr[i2];
            if (pVar.f168a != gVar) {
                i2++;
            } else {
                pVarA = pVar;
                break;
            }
        }
        if (pVarA == null) {
            pVarA = sVar.a(gVar);
            if (pVarA.e > 50) {
                tVar.a(pVarA);
            }
            pVarA.e = (short) (pVarA.e + 1);
        }
        int i4 = pVarA.b;
        if (z) {
            i4 += pVarA.c;
        }
        if (z2) {
            i4 += pVarA.d;
        }
        return i4;
    }

    public boolean t() {
        boolean z = false;
        s sVarE = e(false);
        if (this.T.b != sVarE.b) {
            com.corrodinggames.rts.gameFramework.l.b("unitCountExcludingBuildingsIncludingQueued: " + this.T.b + "!=" + sVarE.b + " (team:" + this.k + " fails: " + this.ad + ")");
            this.ad++;
            z = true;
        }
        if (this.T.f171a != sVarE.f171a) {
            com.corrodinggames.rts.gameFramework.l.b("unitsMax: " + this.T.f171a + "!=" + sVarE.f171a + " (team:" + this.k + " fails: " + this.ad + ")");
            this.ad++;
            z = true;
        }
        if (this.T.g != sVarE.g) {
            com.corrodinggames.rts.gameFramework.l.b("incomeRate: " + this.T.g + "!=" + sVarE.g + " (team:" + this.k + " fails: " + this.ad + ")");
            this.ad++;
            z = true;
        }
        if (this.T.f != sVarE.f) {
            com.corrodinggames.rts.gameFramework.l.b("incompleteUnitCountOfAllTypes: " + this.T.f + "!=" + sVarE.f + " (team:" + this.k + " fails: " + this.ad + ")");
            this.ad++;
            z = true;
        }
        if (this.T.e != sVarE.e) {
            com.corrodinggames.rts.gameFramework.l.b("queuedCountOfAllTypes: " + this.T.e + "!=" + sVarE.e + " (team:" + this.k + " fails: " + this.ad + ")");
            this.ad++;
            z = true;
        }
        if (this.T.c != sVarE.c) {
            com.corrodinggames.rts.gameFramework.l.b("unitCountOfAllTypesOnlyCompleted: " + this.T.c + "!=" + sVarE.c + " (team:" + this.k + " fails: " + this.ad + ")");
            this.ad++;
            z = true;
        }
        if (!this.T.h.e(sVarE.h)) {
            com.corrodinggames.rts.gameFramework.l.b("customIncomeRate: " + this.T.h + "!=" + sVarE.h + " (team:" + this.k + " fails: " + this.ad + ")");
            com.corrodinggames.rts.gameFramework.l.b("currentCaches:" + this.T.h.a(false, true, 30, true, true));
            com.corrodinggames.rts.gameFramework.l.b("targetUnitCache:" + sVarE.h.a(false, true, 30, true, true));
            this.ad++;
            z = true;
        }
        if (!this.T.l.e(sVarE.l)) {
            com.corrodinggames.rts.gameFramework.l.b("streamingRateNegative (team:" + this.k + " fails: " + this.ad + ")");
            com.corrodinggames.rts.gameFramework.l.b("currentCaches:" + this.T.l.a(false, true, 30, true, true));
            com.corrodinggames.rts.gameFramework.l.b("targetUnitCache:" + sVarE.l.a(false, true, 30, true, true));
            this.ad++;
            z = true;
        }
        if (!this.T.k.e(sVarE.k)) {
            com.corrodinggames.rts.gameFramework.l.b("streamingRatePositive (team:" + this.k + " fails: " + this.ad + ")");
            com.corrodinggames.rts.gameFramework.l.b("currentCaches:" + this.T.k.a(false, true, 30, true, true));
            com.corrodinggames.rts.gameFramework.l.b("targetUnitCache:" + sVarE.k.a(false, true, 30, true, true));
            this.ad++;
            z = true;
        }
        if (z) {
        }
        return z;
    }

    private s e(boolean z) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        s sVar = new s();
        sVar.f171a = lVarB.bB;
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i2 = 0; i2 < size; i2++) {
            am amVar = amVarArrA[i2];
            if (amVar.bX == this) {
                sVar.a(amVar);
                if (z) {
                    amVar.bY = true;
                }
            }
        }
        if (sVar.f171a > lVarB.bC) {
            sVar.f171a = lVarB.bC;
        }
        return sVar;
    }

    public void d(boolean z) {
        if (!z && !this.S) {
            return;
        }
        this.T = e(true);
        this.S = false;
        if (this.R < this.T.b) {
            this.R = this.T.b;
        }
        if (!this.n && this.T.m) {
            this.n = true;
        }
        if (!this.m && s() > 0) {
            this.m = true;
        }
        T();
    }

    public int u() {
        return (int) (this.T.g * D());
    }

    public int v() {
        return (int) ((u() * E()) + 0.5f);
    }

    public int a(com.corrodinggames.rts.game.units.custom.e.a aVar) {
        return 0 - ((int) this.T.l.a(aVar));
    }

    public int b(com.corrodinggames.rts.game.units.custom.e.a aVar) {
        int iA;
        if (aVar == com.corrodinggames.rts.game.units.custom.e.a.D) {
            iA = this.T.g;
        } else {
            iA = (int) this.T.h.a(aVar);
        }
        int iA2 = iA + ((int) this.T.k.a(aVar));
        com.corrodinggames.rts.gameFramework.l.B();
        boolean z = false;
        if (aVar == com.corrodinggames.rts.game.units.custom.e.a.D) {
            z = true;
        }
        if (z) {
            iA2 = (int) (iA2 * D());
        }
        return iA2;
    }

    public int w() {
        return this.T.b;
    }

    public int x() {
        return this.T.f171a;
    }

    public String y() {
        int iA = A();
        if (iA == -99 || this.w) {
            return VariableScope.nullOrMissingString;
        }
        if (iA == -2 || iA == -1) {
            return "(disconnected)";
        }
        return "(" + iA + ")";
    }

    public String z() {
        int iA = A();
        if (iA == -99) {
            return "HOST";
        }
        if (this.w) {
            return "-";
        }
        if (iA == -1) {
            return "N/A";
        }
        if (iA == -2) {
            return "-";
        }
        if (r()) {
            return iA + " (HOST)";
        }
        return VariableScope.nullOrMissingString + iA;
    }

    public int A() {
        if (this.X == -1) {
            return -2;
        }
        if (this.X < System.currentTimeMillis() - 5000) {
            return -1;
        }
        return this.W;
    }

    public boolean B() {
        if (this.X != -99 && this.X != -1 && this.X < System.currentTimeMillis() - 15000) {
            return true;
        }
        return false;
    }

    public void a(float f2) {
        this.an += f2;
        if (this.an > 90.0f) {
            this.an = 0.0f;
            this.am.a();
        }
        this.q++;
        if (this.q > 1000 && this.p != 0.0d) {
            com.corrodinggames.rts.gameFramework.l.e("Warning: anti-lag credits is still: " + this.p + " (force clearing)");
            this.p = 0.0d;
        }
    }

    public final int C() {
        if (this.y) {
            return this.x;
        }
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if ((lVarB.bX.B || lVarB.cb.i()) && !lVarB.bX.F) {
            if (this.z != null && this.z.intValue() != this.x) {
                c("aiDifficultyOverride:  " + this.z + "!=" + this.x);
            }
            return this.x;
        }
        if (this.z != null) {
            return this.z.intValue();
        }
        return com.corrodinggames.rts.gameFramework.l.B().bQ.aiDifficulty;
    }

    public final float D() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (lVarB.O()) {
            return lVarB.bX.ay.h;
        }
        return 1.0f;
    }

    public final float E() {
        float f2;
        if (!this.w) {
            return 1.0f;
        }
        int iC = C();
        if (iC > 0) {
            f2 = 1.0f + (iC * 0.4f);
        } else {
            f2 = 1.0f + (iC * 0.3f);
        }
        if (iC == 3) {
            f2 += 1.5f;
        }
        if (f2 < 0.1f) {
            f2 = 0.1f;
        }
        return f2;
    }

    public final void b(float f2) {
        if (!this.w) {
            c(f2);
        } else {
            c(E() * f2);
        }
    }

    public final void c(float f2) {
        d(f2 * D());
    }

    public final void d(float f2) {
        this.o += f2;
        if (this.o > 9.99999999E8d) {
            this.o = 9.99999999E8d;
        }
    }

    public static void F() {
        try {
            b(10, true);
            for (int i2 = 0; i2 < as.length; i2++) {
                as[i2] = null;
            }
        } catch (IOException e2) {
            throw new RuntimeException(e2);
        }
    }

    public static e a(String str) {
        if (str == null || str.equals(VariableScope.nullOrMissingString)) {
            com.corrodinggames.rts.gameFramework.l.b("findExistingPlayer: No clientId id");
            return null;
        }
        for (int i2 = 0; i2 < as.length; i2++) {
            n nVar = as[i2];
            if (nVar != null && str.equals(nVar.O)) {
                if (nVar instanceof e) {
                    return (e) nVar;
                }
                com.corrodinggames.rts.gameFramework.l.b("Player:" + i2 + " with matching clientId is not an instanceof player");
            }
        }
        return null;
    }

    public static e b(String str) {
        if (str == null || str.equals(VariableScope.nullOrMissingString)) {
            com.corrodinggames.rts.gameFramework.l.b("No id");
            return null;
        }
        for (int i2 = 0; i2 < as.length; i2++) {
            n nVar = as[i2];
            if (nVar != null && str.equals(nVar.P)) {
                if (nVar instanceof e) {
                    return (e) nVar;
                }
                com.corrodinggames.rts.gameFramework.l.b("Player:" + i2 + " with matching clientId is not an instanceof player");
            }
        }
        return null;
    }

    public static int G() {
        for (int i2 = 0; i2 < c; i2++) {
            if (as[i2] == null) {
                return i2;
            }
        }
        return -1;
    }

    public static int H() {
        for (int i2 = c; i2 < f; i2++) {
            if (as[i2] == null) {
                return i2;
            }
        }
        for (int i3 = c - 1; i3 >= 0; i3--) {
            if (as[i3] == null) {
                return i3;
            }
        }
        return -1;
    }

    public void I() {
        for (int i2 = 0; i2 < as.length; i2++) {
            if (as[i2] == this) {
                as[i2] = null;
            }
        }
    }

    public n() {
        this.k = -1;
        this.l = "Note to modifiers: Changing credits will not allow you to cheat in multiplayer games, but it will only break sync";
        this.o = 4000.0d;
        this.p = 0.0d;
        this.q = 0;
        this.s = com.corrodinggames.rts.game.units.t.a(this);
        this.t = com.corrodinggames.rts.game.units.t.a(this);
        this.u = false;
        this.D = -1;
        this.au = -9999;
        this.av = -9999;
        this.K = new Object();
        this.S = true;
        this.T = new s();
        this.W = -1;
        this.X = -1L;
        this.Y = -1L;
        this.Z = -1;
        this.ac = 0;
        this.ae = new ag();
        this.af = new ag();
        this.ai = -2;
        this.ak = com.corrodinggames.rts.game.units.custom.g.d;
        this.al = new com.corrodinggames.rts.game.units.custom.e.f();
        this.am = new com.corrodinggames.rts.game.units.custom.e.c();
        this.aq = -9999L;
        this.w = this instanceof com.corrodinggames.rts.game.a.a;
    }

    public n(int i2) {
        this(i2, true);
    }

    public n(int i2, boolean z) {
        this();
        c(i2, z);
    }

    public void f(int i2) {
        c(i2, true);
    }

    public void c(int i2, boolean z) {
        if (this.k != i2) {
            if (z) {
                I();
            }
            this.k = i2;
            this.r = i2;
            if (z && i2 != -3) {
                n nVar = as[i2];
                if (nVar != null) {
                    nVar.c("Being replaced");
                }
                as[i2] = this;
            }
            J();
        }
    }

    public void J() {
        int iK = K();
        this.ae.b(iK);
        this.af.b(Color.a(Color.a(iK), (int) (Color.b(iK) * 0.5f), (int) (Color.c(iK) * 0.5f), (int) (Color.d(iK) * 0.5f)));
    }

    public boolean a(double d2) {
        if (this.o >= d2 || d2 == 0.0d) {
            return true;
        }
        return false;
    }

    public boolean g(int i2) {
        if (this.o + this.p >= i2 || i2 == 0) {
            return true;
        }
        return false;
    }

    public final boolean c(n nVar) {
        return (nVar == i || this == i || this.r == nVar.r) ? false : true;
    }

    public final boolean d(n nVar) {
        if (nVar == i && this == i) {
            return true;
        }
        return (nVar == i || this == i || this.r != nVar.r) ? false : true;
    }

    public int K() {
        return i(R());
    }

    public static void L() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        try {
            d(lVarB.bQ.teamColors);
        } catch (IllegalArgumentException e2) {
            com.corrodinggames.rts.gameFramework.l.a("initColors: Failed to read setting: '" + lVarB.bQ.teamColors + "': " + e2.getMessage(), (Throwable) e2);
            d("#00ff00,#d02013,#0463f3,#ffff40,#00ffff,#d0f8f7,#000000,#ff00ea,#ff7f18,#9368c4");
        }
        try {
            e(lVarB.bQ.teamColorsNames);
        } catch (IllegalArgumentException e3) {
            com.corrodinggames.rts.gameFramework.l.a("initColors: Failed to read setting: '" + lVarB.bQ.teamColorsNames + "': " + e3.getMessage(), (Throwable) e3);
            e("GREEN,RED,BLUE,YELLOW,CYAN,WHITE,BLACK,PINK,ORANGE,PURPLE");
        }
    }

    private static void d(String str) {
        String[] strArrSplit = str.split(",");
        if (strArrSplit.length != 10) {
            throw new IllegalArgumentException("Expected 10 hex colors");
        }
        for (int i2 = 0; i2 < 10; i2++) {
            ag[i2] = Color.a(strArrSplit[i2]);
        }
    }

    private static void e(String str) {
        String[] strArrSplit = str.split(",");
        if (strArrSplit.length != 10) {
            throw new IllegalArgumentException("Expected 10 team color names");
        }
        for (int i2 = 0; i2 < 10; i2++) {
            ah[i2] = strArrSplit[i2];
        }
    }

    public int M() {
        if (this.r == -3) {
            return i(-3);
        }
        return h(this.k);
    }

    public static int h(int i2) {
        if (i2 >= c) {
            return i(-3);
        }
        return i(i2 % 2);
    }

    public static int i(int i2) {
        if (i2 >= 0 && i2 < 10) {
            return ag[i2];
        }
        if (i2 == -3) {
            return Color.a(SlickToAndroidKeycodes.AndroidCodes.KEYCODE_PROG_YELLOW, 90, 90, 90);
        }
        return -7829368;
    }

    public String N() {
        if (this.k == -1 || this.k == -2) {
            return "GRAY";
        }
        return j(R());
    }

    public static String j(int i2) {
        if (i2 >= 0 && i2 < 10) {
            return ah[i2];
        }
        return "GRAY";
    }

    public static com.corrodinggames.rts.gameFramework.m.e[] a(com.corrodinggames.rts.gameFramework.m.e eVar) {
        return a(eVar, o.pureGreen, false);
    }

    public static com.corrodinggames.rts.gameFramework.m.e[] a(com.corrodinggames.rts.gameFramework.m.e eVar, o oVar, boolean z) {
        if (!z || eVar.A()) {
            return b(eVar, oVar);
        }
        return a(eVar, oVar);
    }

    public static com.corrodinggames.rts.gameFramework.m.e[] a(com.corrodinggames.rts.gameFramework.m.e eVar, o oVar) {
        com.corrodinggames.rts.gameFramework.m.e[] eVarArr = new com.corrodinggames.rts.gameFramework.m.e[10];
        if ((com.corrodinggames.rts.gameFramework.l.aU && !com.corrodinggames.rts.gameFramework.l.aW) || oVar == o.disabled) {
            for (int i2 = 0; i2 < eVarArr.length; i2++) {
                eVarArr[i2] = eVar;
            }
            return eVarArr;
        }
        com.corrodinggames.rts.gameFramework.m.e[] eVarArrA = eVar.a(oVar);
        if (eVarArrA != null) {
            return eVarArrA;
        }
        br brVar = com.corrodinggames.rts.gameFramework.l.B().cd;
        brVar.a(bs.init_unitcolour);
        for (int i3 = 0; i3 < eVarArr.length; i3++) {
            int i4 = i(i3);
            if (i3 == 0) {
                eVarArr[i3] = eVar;
            } else {
                eVarArr[i3] = new com.corrodinggames.rts.gameFramework.m.h(eVar, i4, oVar, i3);
            }
        }
        brVar.b(bs.init_unitcolour);
        eVar.a(oVar, eVarArr);
        return eVarArr;
    }

    public static com.corrodinggames.rts.gameFramework.m.e[] b(com.corrodinggames.rts.gameFramework.m.e eVar, o oVar) {
        com.corrodinggames.rts.gameFramework.m.e[] eVarArr = new com.corrodinggames.rts.gameFramework.m.e[10];
        if ((com.corrodinggames.rts.gameFramework.l.aU && !com.corrodinggames.rts.gameFramework.l.aW) || oVar == o.disabled || eVar.A()) {
            for (int i2 = 0; i2 < eVarArr.length; i2++) {
                eVarArr[i2] = eVar;
            }
            return eVarArr;
        }
        com.corrodinggames.rts.gameFramework.m.e[] eVarArrA = eVar.a(oVar);
        if (eVarArrA != null) {
            return eVarArrA;
        }
        br brVar = com.corrodinggames.rts.gameFramework.l.B().cd;
        brVar.a(bs.init_unitcolour);
        int[] iArr = new int[10];
        int[] iArr2 = new int[10];
        for (int i3 = 0; i3 < iArr.length; i3++) {
            iArr[i3] = i(i3);
            iArr2[i3] = i3;
        }
        for (int i4 = 0; i4 < eVarArr.length; i4++) {
            if (i4 != 0) {
                eVarArr[i4] = eVar.clone();
                eVarArr[i4].a("color(" + i4 + "):" + eVar.a());
                eVarArr[i4].j();
            }
        }
        eVar.j();
        if (oVar == o.hueAdd) {
            b(eVar, eVarArr, iArr);
        } else if (oVar == o.hueShift) {
            a(eVar, eVarArr, iArr, iArr2);
        } else {
            a(eVar, eVarArr, iArr);
        }
        for (int i5 = 0; i5 < eVarArr.length; i5++) {
            if (eVarArr[i5] != null) {
                eVarArr[i5].p();
                eVarArr[i5].s();
            }
        }
        eVar.r();
        eVarArr[0] = eVar;
        brVar.b(bs.init_unitcolour);
        eVar.a(oVar, eVarArr);
        return eVarArr;
    }

    public static void a(com.corrodinggames.rts.gameFramework.m.e eVar, com.corrodinggames.rts.gameFramework.m.e[] eVarArr, int[] iArr) {
        int iB;
        int iM = eVar.m();
        int iL = eVar.l();
        int[] iArr2 = new int[iArr.length];
        int[] iArr3 = new int[iArr.length];
        int[] iArr4 = new int[iArr.length];
        for (int i2 = 0; i2 < iArr.length; i2++) {
            iArr2[i2] = Color.b(iArr[i2]);
            iArr3[i2] = Color.c(iArr[i2]);
            iArr4[i2] = Color.d(iArr[i2]);
        }
        for (int i3 = 0; i3 < iL; i3++) {
            for (int i4 = 0; i4 < iM; i4++) {
                int iA = eVar.a(i4, i3);
                int iA2 = aa.a(iA);
                if (iA2 == 0) {
                    if (iA != 0) {
                        for (int i5 = 0; i5 < eVarArr.length; i5++) {
                            if (eVarArr[i5] != null) {
                                eVarArr[i5].a(i4, i3, 0);
                            }
                        }
                    }
                } else {
                    int iC = aa.c(iA);
                    if (iC > 0 && (iB = aa.b(iA)) == aa.d(iA)) {
                        if (iB == 0) {
                            for (int i6 = 0; i6 < eVarArr.length; i6++) {
                                if (eVarArr[i6] != null) {
                                    eVarArr[i6].a(i4, i3, Color.a(iA2, (iArr2[i6] * iC) >> 8, (iArr3[i6] * iC) >> 8, (iArr4[i6] * iC) >> 8));
                                }
                            }
                        } else if (iC != iB) {
                            float f2 = (iC * 0.003921569f) - (iB * 0.003921569f);
                            for (int i7 = 0; i7 < eVarArr.length; i7++) {
                                if (eVarArr[i7] != null) {
                                    eVarArr[i7].a(i4, i3, Color.a(iA2, com.corrodinggames.rts.gameFramework.f.b((int) (iB + (iArr2[i7] * f2)), 0, 255), com.corrodinggames.rts.gameFramework.f.b((int) (iB + (iArr3[i7] * f2)), 0, 255), com.corrodinggames.rts.gameFramework.f.b((int) (iB + (iArr4[i7] * f2)), 0, 255)));
                                }
                            }
                        }
                    }
                }
            }
        }
    }

    public static void a(com.corrodinggames.rts.gameFramework.m.e eVar, com.corrodinggames.rts.gameFramework.m.e[] eVarArr, int[] iArr, int[] iArr2) {
        int iM = eVar.m();
        int iL = eVar.l();
        int[] iArr3 = new int[iArr.length];
        int[] iArr4 = new int[iArr.length];
        int[] iArr5 = new int[iArr.length];
        for (int i2 = 0; i2 < iArr.length; i2++) {
            iArr3[i2] = Color.b(iArr[i2]);
            iArr4[i2] = Color.c(iArr[i2]);
            iArr5[i2] = Color.d(iArr[i2]);
        }
        for (int i3 = 0; i3 < iL; i3++) {
            for (int i4 = 0; i4 < iM; i4++) {
                int iA = eVar.a(i4, i3);
                int iA2 = Color.a(iA);
                if (iA2 == 0) {
                    if (Color.b(iA) > 0 || Color.c(iA) > 0 || Color.d(iA) > 0) {
                        for (int i5 = 0; i5 < eVarArr.length; i5++) {
                            if (eVarArr[i5] != null) {
                                eVarArr[i5].a(i4, i3, Color.a(0, 0, 0, 0));
                            }
                        }
                    }
                } else {
                    int iC = Color.c(iA);
                    int iB = Color.b(iA);
                    float fC = com.corrodinggames.rts.gameFramework.f.c(com.corrodinggames.rts.gameFramework.f.c(iB, iC), Color.d(iA));
                    float f2 = com.corrodinggames.rts.gameFramework.f.f(com.corrodinggames.rts.gameFramework.f.f(com.corrodinggames.rts.gameFramework.f.d(iB - iC), com.corrodinggames.rts.gameFramework.f.d(iC - r0)), com.corrodinggames.rts.gameFramework.f.d(r0 - iB));
                    if (f2 > 15.0f) {
                        for (int i6 = 0; i6 < eVarArr.length; i6++) {
                            if (eVarArr[i6] != null) {
                                float f3 = f2 / 255.0f;
                                eVarArr[i6].a(i4, i3, Color.a(iA2, com.corrodinggames.rts.gameFramework.f.b((int) (fC + (iArr3[i6] * f3)), 0, 255), com.corrodinggames.rts.gameFramework.f.b((int) (fC + (iArr4[i6] * f3)), 0, 255), com.corrodinggames.rts.gameFramework.f.b((int) (fC + (iArr5[i6] * f3)), 0, 255)));
                            }
                        }
                    }
                }
            }
        }
    }

    public static void b(com.corrodinggames.rts.gameFramework.m.e eVar, com.corrodinggames.rts.gameFramework.m.e[] eVarArr, int[] iArr) {
        int iM = eVar.m();
        int iL = eVar.l();
        int[] iArr2 = new int[iArr.length];
        int[] iArr3 = new int[iArr.length];
        int[] iArr4 = new int[iArr.length];
        for (int i2 = 0; i2 < iArr.length; i2++) {
            iArr2[i2] = Color.b(iArr[i2]);
            iArr3[i2] = Color.c(iArr[i2]);
            iArr4[i2] = Color.d(iArr[i2]);
        }
        for (int i3 = 0; i3 < iM; i3++) {
            for (int i4 = 0; i4 < iL; i4++) {
                int iA = eVar.a(i3, i4);
                int iA2 = Color.a(iA);
                if (iA2 > 0) {
                    int iB = Color.b(iA);
                    int iC = Color.c(iA);
                    int iD = Color.d(iA);
                    for (int i5 = 0; i5 < eVarArr.length; i5++) {
                        int i6 = (int) (iB + (iArr2[i5] * 0.15f));
                        int i7 = (int) (iC + (iArr3[i5] * 0.15f));
                        int i8 = (int) (iD + (iArr4[i5] * 0.15f));
                        int iB2 = com.corrodinggames.rts.gameFramework.f.b(i6, 0, 255);
                        int iB3 = com.corrodinggames.rts.gameFramework.f.b(i7, 0, 255);
                        int iB4 = com.corrodinggames.rts.gameFramework.f.b(i8, 0, 255);
                        if (eVarArr[i5] != null) {
                            eVarArr[i5].a(i3, i4, Color.a(iA2, iB2, iB3, iB4));
                        }
                    }
                }
            }
        }
    }

    public static n k(int i2) {
        if (i2 == -1) {
            return i;
        }
        if (i2 == -2) {
            return h;
        }
        if (i2 >= f) {
            com.corrodinggames.rts.gameFramework.l.g("team index too high: " + i2);
            return null;
        }
        if (i2 < 0) {
            com.corrodinggames.rts.gameFramework.l.g("team index too low: " + i2);
            return null;
        }
        return as[i2];
    }

    public void e(float f2) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (this.ai > 0) {
            this.ai--;
            return;
        }
        if (this.ai == -2) {
            this.ai = this.k;
        } else {
            this.ai = 10;
        }
        if (!this.G && !lVarB.cb.j()) {
            boolean z = false;
            boolean z2 = false;
            boolean z3 = false;
            boolean z4 = lVarB.bX.ay.l;
            boolean z5 = false;
            am[] amVarArrA = am.bE.a();
            int size = am.bE.size();
            for (int i2 = 0; i2 < size; i2++) {
                am amVar = amVarArrA[i2];
                if (amVar.bX == this) {
                    if (!amVar.cT()) {
                        z = true;
                        if (!this.F && (amVar.bJ() || amVar.ak())) {
                            z2 = true;
                            break;
                        }
                    } else {
                        z5 = true;
                    }
                } else if (z4 && amVar.bX != null && amVar.bX.d(this) && !amVar.cT()) {
                    z3 = true;
                }
            }
            if (!z && !z3) {
                boolean z6 = false;
                if (z5 && lVarB.bx < 100 && lVarB.bv) {
                    z6 = true;
                }
                this.G = true;
                a();
                Iterator it = am.bE.iterator();
                while (it.hasNext()) {
                    am amVar2 = (am) it.next();
                    if (amVar2.bX == this && !amVar2.u()) {
                        if (z6 && !amVar2.bV && amVar2.cT()) {
                            com.corrodinggames.rts.game.units.as asVarR = amVar2.r();
                            String str = amVar2.c() + " Warning: This unit got ignored in defeated check and now being removed";
                            if ((asVarR instanceof com.corrodinggames.rts.game.units.custom.l) && ((com.corrodinggames.rts.game.units.custom.l) asVarR).aO) {
                                str = str + " (Likely due to canNotBeDirectlyAttacked:true)";
                            }
                            ad.a((String) null, str);
                        }
                        amVar2.cj();
                    }
                }
                lVarB.bX.i(this);
            }
            if (!z2 && !this.F && !this.G) {
                this.F = true;
                lVarB.bX.h(this);
            }
        }
    }

    public void a(y yVar) {
    }

    public static void b(y yVar) {
        for (int i2 = 0; i2 < c; i2++) {
            n nVar = as[i2];
            if (nVar != null) {
                nVar.a(yVar);
            }
        }
    }

    public static void a(am amVar) {
        if (amVar.bX != null && amVar.bY && amVar.bL) {
            n nVar = amVar.bX;
            amVar.bY = false;
            nVar.T.b(amVar);
            amVar.dj();
        }
    }

    public static void b(am amVar) {
        a(amVar);
    }

    public static void c(am amVar) {
        if (amVar.bX != null && !amVar.bY && amVar.bL && !amVar.bV) {
            amVar.bY = true;
            n nVar = amVar.bX;
            nVar.T.a(amVar);
            amVar.di();
            if (!nVar.n && nVar.T.m) {
                nVar.n = true;
            }
            if (!nVar.m) {
                nVar.m = true;
            }
            nVar.T();
        }
    }

    public static void O() {
        i.S = true;
        h.S = true;
        Iterator it = c().iterator();
        while (it.hasNext()) {
            ((n) it.next()).S = true;
        }
    }

    public static void P() {
        if (com.corrodinggames.rts.gameFramework.l.B().M()) {
            com.corrodinggames.rts.gameFramework.l.e("Skipping updateAllCachesFromChangedMetadata due to desync risk");
            return;
        }
        for (int i2 = 0; i2 < c; i2++) {
            n nVar = as[i2];
            if (nVar != null) {
                nVar.S = true;
            }
        }
    }

    public static void f(float f2) {
        int iB;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        i.a(f2);
        h.a(f2);
        for (int i2 = 0; i2 < c; i2++) {
            n nVar = as[i2];
            if (nVar != null) {
                nVar.a(f2);
                nVar.e(f2);
                if (!nVar.at && (iB = b(nVar.r)) > 0) {
                    if (iB >= c(nVar.r)) {
                        d(nVar.r);
                        o();
                    } else {
                        e(nVar.r);
                    }
                }
                if (nVar.E) {
                    if (nVar.av < 0) {
                        nVar.av = lVarB.by;
                    }
                    if (!nVar.G) {
                        int i3 = 0;
                        Iterator it = am.bE.iterator();
                        while (it.hasNext()) {
                            am amVar = (am) it.next();
                            if (amVar.bX == nVar && !amVar.u()) {
                                boolean z = false;
                                int i4 = 1;
                                if (com.corrodinggames.rts.gameFramework.utility.y.a(nVar.av, 10000)) {
                                    z = true;
                                    i4 = 50;
                                } else if (com.corrodinggames.rts.gameFramework.utility.y.a(nVar.av, 6000)) {
                                    z = com.corrodinggames.rts.gameFramework.f.a(amVar, 0, 100) > 90;
                                    i4 = 20;
                                } else if (com.corrodinggames.rts.gameFramework.utility.y.a(nVar.av, 2000)) {
                                    z = com.corrodinggames.rts.gameFramework.f.a(amVar, 0, 100) > 98;
                                    i4 = 2;
                                }
                                if (amVar instanceof com.corrodinggames.rts.game.units.d.e) {
                                    z = true;
                                }
                                if (z) {
                                    amVar.cu = -1.0f;
                                    i3++;
                                    if (i3 > i4) {
                                        break;
                                    }
                                } else {
                                    continue;
                                }
                            }
                        }
                    }
                }
            }
        }
        if (lVarB.P() && lVarB.bQ.aiDifficulty != aj) {
            lVarB.bX.aq();
            aj = lVarB.bQ.aiDifficulty;
        }
    }

    public static void g(float f2) {
        e();
        for (n nVar : d()) {
            nVar.d(false);
        }
    }

    public static void Q() {
        i.d(false);
        for (int i2 = 0; i2 < c; i2++) {
            n nVar = as[i2];
            if (nVar != null && !nVar.b() && !nVar.G && !nVar.F && !nVar.E) {
                com.corrodinggames.rts.gameFramework.l.B().bX.g(nVar);
            }
        }
    }

    public static void h(float f2) {
        for (int i2 = 0; i2 < c; i2++) {
            n nVar = as[i2];
            if (nVar != null && (nVar instanceof com.corrodinggames.rts.game.a.a)) {
                ((com.corrodinggames.rts.game.a.a) nVar).i(f2);
            }
        }
    }

    public int R() {
        if (this.D == -1) {
            return S();
        }
        return this.D;
    }

    public int S() {
        n nVar;
        if (this.k == -1 || this.k == -2) {
            return 5;
        }
        int i2 = this.k;
        if (i2 >= 10) {
            i2 %= 10;
        }
        if (c > 10 && (nVar = com.corrodinggames.rts.gameFramework.l.B().bX.z) != null && nVar != this && nVar.R() == i2) {
            if (i2 != 5) {
                i2 = 5;
            } else {
                i2 = 4;
            }
        }
        return i2;
    }

    public void T() {
    }

    public void a(com.corrodinggames.rts.game.units.custom.h hVar) {
        this.ak = hVar;
    }

    public com.corrodinggames.rts.game.units.custom.h U() {
        return this.ak;
    }

    public void b(com.corrodinggames.rts.game.units.custom.h hVar) {
        com.corrodinggames.rts.game.units.custom.h hVarU = U();
        if (hVarU == null || hVarU.b() == 0) {
            a(hVar);
        } else {
            if (com.corrodinggames.rts.game.units.custom.g.b(hVarU, hVar)) {
                return;
            }
            com.corrodinggames.rts.game.units.custom.i iVar = new com.corrodinggames.rts.game.units.custom.i(hVarU);
            if (iVar.a(hVar)) {
                a(iVar.a());
            }
        }
    }

    public void c(com.corrodinggames.rts.game.units.custom.h hVar) {
        com.corrodinggames.rts.game.units.custom.h hVarU = U();
        if (hVarU == null || hVarU.b() == 0 || !com.corrodinggames.rts.game.units.custom.g.a(hVar, hVarU)) {
            return;
        }
        com.corrodinggames.rts.game.units.custom.i iVar = new com.corrodinggames.rts.game.units.custom.i(hVarU);
        if (iVar.b(hVar)) {
            a(iVar.a());
        }
    }

    public com.corrodinggames.rts.game.units.custom.e.f V() {
        return this.al;
    }

    public double c(com.corrodinggames.rts.game.units.custom.e.a aVar) {
        return this.al.a(aVar);
    }

    public boolean a(q qVar, n nVar) {
        if (qVar == q.own) {
            return nVar == this;
        }
        if (qVar == q.any) {
            return true;
        }
        if (qVar == q.ally) {
            return d(nVar);
        }
        if (qVar == q.allyNotOwn) {
            return nVar != this && d(nVar);
        }
        if (qVar == q.enemy) {
            return c(nVar);
        }
        if (qVar == q.neutral) {
            return nVar == i;
        }
        if (qVar == q.notOwn) {
            return nVar != this;
        }
        throw new RuntimeException("Unsupported type: " + qVar);
    }

    public void d(am amVar) {
    }

    public void W() {
        com.corrodinggames.rts.gameFramework.l.e("debugUnitCountByType for team:" + this.k);
        com.corrodinggames.rts.gameFramework.utility.m mVar = new com.corrodinggames.rts.gameFramework.utility.m();
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i2 = 0; i2 < size; i2++) {
            am amVar = amVarArrA[i2];
            if (amVar.bX == this && !amVar.bV) {
                com.corrodinggames.rts.game.units.as asVar = amVar.dz;
                boolean z = false;
                Iterator it = mVar.iterator();
                while (true) {
                    if (!it.hasNext()) {
                        break;
                    }
                    r rVar = (r) it.next();
                    if (rVar.f170a == asVar) {
                        rVar.b++;
                        z = true;
                        break;
                    }
                }
                if (!z) {
                    r rVar2 = new r();
                    rVar2.f170a = asVar;
                    rVar2.b = 1;
                    mVar.add(rVar2);
                }
            }
        }
        com.corrodinggames.rts.gameFramework.l.e("--- Units ---");
        int i3 = 0;
        Iterator it2 = mVar.iterator();
        while (it2.hasNext()) {
            r rVar3 = (r) it2.next();
            if (!rVar3.f170a.k()) {
                com.corrodinggames.rts.gameFramework.l.e(rVar3.f170a.i() + " - count:" + rVar3.b);
                i3 += rVar3.b;
            }
        }
        com.corrodinggames.rts.gameFramework.l.e("total:" + i3);
        com.corrodinggames.rts.gameFramework.l.e("--- Buildings/Ignored in count ---");
        int i4 = 0;
        Iterator it3 = mVar.iterator();
        while (it3.hasNext()) {
            r rVar4 = (r) it3.next();
            if (rVar4.f170a.k()) {
                com.corrodinggames.rts.gameFramework.l.e(rVar4.f170a.i() + " - count:" + rVar4.b);
                i4 += rVar4.b;
            }
        }
        com.corrodinggames.rts.gameFramework.l.e("total:" + i4);
    }

    public void c(String str) {
        com.corrodinggames.rts.gameFramework.l.e("Team(id: " + this.k + ", name:" + this.v + "):" + str);
    }

    public int b(com.corrodinggames.rts.game.units.custom.g gVar, boolean z, boolean z2) {
        int iA = 0;
        if (this == i) {
            return 0;
        }
        n[] nVarArr = as;
        int i2 = c;
        for (int i3 = 0; i3 < i2; i3++) {
            n nVar = nVarArr[i3];
            if (nVar != null && this != nVar && this.r != nVar.r) {
                if (gVar == null) {
                    iA += nVar.a(z, z2);
                } else {
                    iA += nVar.a(gVar, z, z2);
                }
            }
        }
        return iA;
    }

    public int c(com.corrodinggames.rts.game.units.custom.g gVar, boolean z, boolean z2) {
        int iA = 0;
        n[] nVarArr = as;
        int i2 = c;
        for (int i3 = 0; i3 < i2; i3++) {
            n nVar = nVarArr[i3];
            if (nVar != null && this != nVar && d(nVar)) {
                if (gVar == null) {
                    iA += nVar.a(z, z2);
                } else {
                    iA += nVar.a(gVar, z, z2);
                }
            }
        }
        return iA;
    }

    public static void X() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        i.T.f171a = lVarB.bB;
        h.T.f171a = lVarB.bB;
        for (int i2 = 0; i2 < c; i2++) {
            n nVar = as[i2];
            if (nVar != null) {
                nVar.T.f171a = lVarB.bB;
            }
        }
    }

    public static void Y() {
        i.Z();
        h.Z();
    }

    public void Z() {
        this.m = false;
        this.n = false;
        this.o = 4000.0d;
        this.p = 0.0d;
        this.q = 0;
        this.ai = -2;
        this.at = false;
        this.au = -9999;
        this.E = false;
        this.av = -9999;
        this.F = false;
        this.G = false;
        this.H = false;
        this.I = false;
        this.J = false;
        this.am.a();
        this.an = 0.0f;
        this.ad = 0;
        this.R = 0;
        this.S = true;
        this.T = new s();
        this.T.f171a = com.corrodinggames.rts.gameFramework.l.B().bB;
        this.ak = com.corrodinggames.rts.game.units.custom.g.d;
        this.al = new com.corrodinggames.rts.game.units.custom.e.f();
    }

    public double aa() {
        long jCurrentTimeMillis = System.currentTimeMillis();
        if (com.corrodinggames.rts.gameFramework.f.c(this.aq - jCurrentTimeMillis) > 166.66666f) {
            this.aq = jCurrentTimeMillis;
            this.ar = this.o + this.p;
        }
        return this.ar;
    }

    public com.corrodinggames.rts.game.units.custom.e.f ab() {
        return V();
    }
}


================================================================================
// FILE_PATH: ./game/o.java
================================================================================

package com.corrodinggames.rts.game;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/o.class */
public enum o {
    pureGreen,
    hueAdd,
    hueNew,
    hueShift,
    disabled
}


================================================================================
// FILE_PATH: ./game/c.java
================================================================================

package com.corrodinggames.rts.game;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/c.class */
public class c extends n {
    public c(int i) {
        super(i);
    }

    @Override // com.corrodinggames.rts.game.n
    public void a(float f) {
        super.a(f);
    }
}


================================================================================
// FILE_PATH: ./game/h.java
================================================================================

package com.corrodinggames.rts.game;

import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.custom.z;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/h.class */
public class h {

    /* renamed from: a, reason: collision with root package name */
    public com.corrodinggames.rts.game.units.custom.h f159a;
    public com.corrodinggames.rts.game.units.custom.h b;
    public float c;
    public float d;
    public com.corrodinggames.rts.game.units.custom.d.b e;
    public com.corrodinggames.rts.game.units.custom.d.b f;
    public z g;

    public boolean a(am amVar) {
        if (this.b != null && com.corrodinggames.rts.game.units.custom.g.a(this.b, amVar.de())) {
            return false;
        }
        if (this.f159a != null && !com.corrodinggames.rts.game.units.custom.g.a(this.f159a, amVar.de())) {
            return false;
        }
        return true;
    }
}


================================================================================
// FILE_PATH: ./game/d.java
================================================================================

package com.corrodinggames.rts.game;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/d.class */
public class d extends n {
    public d(int i) {
        this.k = i;
        this.r = -2;
    }

    @Override // com.corrodinggames.rts.game.n
    public void a(float f) {
        super.a(f);
    }
}


================================================================================
// FILE_PATH: ./game/q.java
================================================================================

package com.corrodinggames.rts.game;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/q.class */
public enum q {
    own,
    ally,
    allyNotOwn,
    enemy,
    neutral,
    any,
    notOwn
}


================================================================================
// FILE_PATH: ./game/p.java
================================================================================

package com.corrodinggames.rts.game;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/p.class */
public final class p {

    /* renamed from: a, reason: collision with root package name */
    public com.corrodinggames.rts.game.units.custom.g f168a;
    public int b;
    public int c;
    public int d;
    public short e;
}


================================================================================
// FILE_PATH: ./game/e.java
================================================================================

package com.corrodinggames.rts.game;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/e.class */
public class e extends n {
    public e(int i) {
        super(i);
    }

    public e(int i, boolean z) {
        super(i, z);
    }

    public e(int i, boolean z, String str) {
        super(i, z);
        this.v = str;
    }

    @Override // com.corrodinggames.rts.game.n
    public void a(float f) {
        super.a(f);
    }
}


================================================================================
// FILE_PATH: ./game/i.java
================================================================================

package com.corrodinggames.rts.game;

import android.app.Activity;
import android.content.Context;
import android.content.pm.PackageManager;
import android.content.pm.Signature;
import android.graphics.Color;
import android.graphics.Matrix;
import android.graphics.Paint;
import android.graphics.Rect;
import android.graphics.RectF;
import android.graphics.Typeface;
import android.os.Debug;
import android.util.DisplayMetrics;
import android.util.Log;
import com.corrodinggames.rts.game.units.al;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ar;
import com.corrodinggames.rts.game.units.as;
import com.corrodinggames.rts.game.units.custom.ag;
import com.corrodinggames.rts.game.units.custom.bo;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.SettingsEngine;
import com.corrodinggames.rts.gameFramework.aa;
import com.corrodinggames.rts.gameFramework.ac;
import com.corrodinggames.rts.gameFramework.ba;
import com.corrodinggames.rts.gameFramework.be;
import com.corrodinggames.rts.gameFramework.bf;
import com.corrodinggames.rts.gameFramework.bg;
import com.corrodinggames.rts.gameFramework.br;
import com.corrodinggames.rts.gameFramework.bs;
import com.corrodinggames.rts.gameFramework.j.ad;
import com.corrodinggames.rts.gameFramework.m.x;
import com.corrodinggames.rts.gameFramework.m.y;
import com.corrodinggames.rts.gameFramework.m.z;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import com.corrodinggames.rts.gameFramework.w;
import java.io.IOException;
import java.io.InputStream;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.Timer;
import java.util.concurrent.ConcurrentLinkedQueue;
import javax.xml.parsers.ParserConfigurationException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/i.class */
public class i extends com.corrodinggames.rts.gameFramework.l {

    /* renamed from: a, reason: collision with root package name */
    public static String f160a;
    public static boolean b;
    public static boolean c;
    int d;
    public float e;
    public static String f = null;
    k[] g;
    String h;
    public boolean i;
    public int j;
    public ConcurrentLinkedQueue k;
    Paint l;
    Paint m;
    Paint n;
    Paint o;
    Paint p;
    int q;
    int r;
    int s;
    float t;
    public String u;
    Rect v;
    public ArrayList w;
    Paint x;
    Paint y;
    Paint z;
    public Paint A;
    public bf B;
    public be C;
    public com.corrodinggames.rts.gameFramework.d.b D;
    com.corrodinggames.rts.game.a E;
    boolean F;
    float G;
    public float H;
    public float I;
    public float J;
    j K;
    j L;
    boolean M;
    y N;
    com.corrodinggames.rts.gameFramework.m.e O;
    com.corrodinggames.rts.gameFramework.m.e P;
    com.corrodinggames.rts.gameFramework.m.e Q;
    float R;
    Rect S;
    RectF T;
    public com.corrodinggames.rts.gameFramework.m.e U;
    public com.corrodinggames.rts.gameFramework.m.e V;
    com.corrodinggames.rts.gameFramework.utility.s W;
    com.corrodinggames.rts.gameFramework.utility.s X;
    Matrix Y;
    public ArrayList Z;
    public ArrayList aa;
    Timer ab;
    boolean ac;
    Object ad;
    int ae;
    am af;
    am ag;
    float ah;
    boolean ai;

    public i(Context context) {
        super(context);
        this.e = 1.0f;
        this.g = new k[6];
        this.i = false;
        this.j = 0;
        this.k = new ConcurrentLinkedQueue();
        this.q = 0;
        this.r = 0;
        this.s = 0;
        this.t = 16.0f;
        this.u = "0fps";
        this.v = new Rect();
        this.w = new ArrayList();
        this.A = new Paint();
        this.D = new com.corrodinggames.rts.gameFramework.d.b();
        this.G = 0.0f;
        this.H = 1.0f;
        this.R = 0.0f;
        this.S = new Rect();
        this.T = new RectF();
        this.U = null;
        this.V = null;
        this.W = new com.corrodinggames.rts.gameFramework.utility.s("allOnScreenObjects");
        this.X = new com.corrodinggames.rts.gameFramework.utility.s("allOnScreenObjectsDirty");
        this.Y = new Matrix();
        this.Z = new ArrayList();
        this.aa = new ArrayList();
        this.ad = new Object();
        this.ae = 0;
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public boolean a() {
        if (this.bS.u) {
            return true;
        }
        if (this.dH != null && this.dH.b()) {
            return true;
        }
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public boolean a(boolean z) {
        if (!z || this.cb.j()) {
            if (this.bS.u || this.bp) {
                return true;
            }
            if (this.aq && !this.bH) {
                return true;
            }
            if (this.bF && this.dH != null && this.dH.b()) {
                return true;
            }
        }
        if ((z && !this.bX.aW) || this.bX.I()) {
            return true;
        }
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public int b() {
        return this.s;
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public boolean c() {
        return this.eh;
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public boolean d() {
        return this.ei;
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public synchronized void a(Context context) throws bo, InterruptedException, ParserConfigurationException, IOException, NumberFormatException {
        Log.d("RustedWarfare", "--- ----------------- ----");
        Log.d("RustedWarfare", "--- GameEngine:init() ----");
        Log.d("RustedWarfare", "--- ----------------- ----");
        if (this.bi) {
            Log.d("RustedWarfare", "GameEngine init has already been called");
            return;
        }
        com.corrodinggames.rts.gameFramework.l.e("Version:" + r());
        if (C() && getClass().equals(i.class)) {
            throw new RuntimeException("inSpace but class is:" + getClass());
        }
        System.gc();
        h("Asset Index");
        this.bK = new com.corrodinggames.rts.gameFramework.utility.i(context);
        long jA = br.a();
        this.cd = new br(this);
        this.cd.a(bs.init_total);
        if (aU) {
            this.ci = 1.0f;
        } else {
            DisplayMetrics displayMetrics = context.e().getDisplayMetrics();
            this.ci = context.e().getDisplayMetrics().density;
            com.corrodinggames.rts.gameFramework.l.e("densityScaleRaw: " + this.ci);
            a(displayMetrics.widthPixels, displayMetrics.heightPixels);
        }
        this.ci *= this.e;
        com.corrodinggames.rts.gameFramework.l.e("densityScaleRaw*densityScaleMultiplier: " + this.ci);
        if (com.corrodinggames.rts.gameFramework.l.b(context)) {
            this.ar = true;
        }
        this.E = new b();
        this.bo = false;
        h("InputController");
        this.bT = new ac();
        this.bT.a();
        h("SettingsEngine");
        this.bQ = SettingsEngine.getInstance(context);
        this.bQ.loadMainExternalFolder(true);
        com.corrodinggames.rts.gameFramework.e.a.b();
        int i = 3;
        if (aZ) {
            i = 1;
        }
        if (this.bQ.numIncompleteLoadAttempts > 1 || this.bQ.numLoadsSinceRunningGameOrNormalExit > i) {
            this.ee = true;
            if (this.bQ.numIncompleteLoadAttempts > 2 || this.bQ.numLoadsSinceRunningGameOrNormalExit > 4) {
                this.bQ.forceEnglish = true;
                this.ef = true;
            }
            if (this.bQ.numIncompleteLoadAttempts > 3) {
                this.bQ.newRender = false;
            }
            if (this.bQ.numIncompleteLoadAttempts > 4 || this.bQ.numLoadsSinceRunningGameOrNormalExit > 5) {
                com.corrodinggames.rts.gameFramework.l.e("Extra safe mode");
                this.eh = true;
            }
            if (this.bQ.numIncompleteLoadAttempts > 5) {
                com.corrodinggames.rts.gameFramework.l.e("Extra safe mode x2");
                this.ei = true;
            }
            if (this.bQ.numIncompleteLoadAttempts > 6) {
                com.corrodinggames.rts.gameFramework.l.e("Extra safe mode x3");
                this.bQ.newRender = false;
                this.bQ.shaderEffects = false;
                this.bQ.teamShaders = false;
            }
            if (this.bQ.newRender && this.bQ.numLoadsSinceRunningGameOrNormalExit > 15) {
                com.corrodinggames.rts.gameFramework.l.e("Disabling opengl mode");
                this.bQ.newRender = false;
            }
            com.corrodinggames.rts.gameFramework.l.e("starting game in safe mode, numIncompleteLoadAttempts:" + this.bQ.numIncompleteLoadAttempts + " numLoadsSinceRunningGameOrNormalExit:" + this.bQ.numLoadsSinceRunningGameOrNormalExit);
        }
        if (aO) {
            this.ee = true;
            this.eg = "<forced by command line>";
        }
        if (aP) {
            this.ee = true;
            this.eh = true;
            this.ei = true;
            this.eg = "<forced by command line>";
        }
        this.bQ.numLoadsSinceRunningGameOrNormalExit++;
        this.bQ.numIncompleteLoadAttempts++;
        if (!this.bQ.save() && aZ) {
            com.corrodinggames.rts.gameFramework.l.e("starting game in safe mode, failed to save settings");
            this.eg = "failing to write preferences data";
            this.ee = true;
        }
        com.corrodinggames.rts.gameFramework.c.a.a();
        this.cj = W();
        com.corrodinggames.rts.gameFramework.l.e("densityScale(): " + this.cj);
        long jA2 = br.a();
        com.corrodinggames.rts.gameFramework.h.a.a();
        br.a("Locale.init took:", jA2);
        n.L();
        this.l = new Paint();
        this.m = new Paint();
        this.m.a(255, 255, 255, 255);
        this.m.a(true);
        a(this.m, 16.0f);
        this.n = new Paint();
        this.n.a(255, 255, 255, 255);
        this.n.a(true);
        a(this.n, 16.0f);
        this.o = new Paint();
        this.o.a(100, 255, 0, 0);
        a(this.o, 16.0f);
        this.p = new Paint();
        this.p.a(100, 0, 255, 0);
        a(this.p, 16.0f);
        this.dn = new Paint();
        this.f2do = new Paint();
        this.f2do.a(Paint.Align.CENTER);
        this.f2do.a(true);
        this.f2do.a(Typeface.a(Typeface.c, 0));
        a(this.f2do, 16.0f);
        this.dp = new Paint();
        this.dp.a(255, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_DATA_SERVICE, 255, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_DATA_SERVICE);
        this.dp.a(true);
        this.dp.a(Paint.Align.CENTER);
        a(this.dp, 18.0f);
        this.x = new Paint();
        this.x.b(-1);
        this.x.c(100);
        this.y = new Paint();
        this.y.b(-7829368);
        this.y.c(SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_SATELLITE_SERVICE);
        this.y.a(Paint.Style.STROKE);
        this.y.a(1.0f);
        long jA3 = br.a();
        h("AudioEngine");
        com.corrodinggames.rts.gameFramework.a.e.b();
        this.bM = new com.corrodinggames.rts.gameFramework.a.e();
        this.bM.a(context);
        br.a("AudioEngine took:", jA3);
        h("MusicController");
        this.bN = new com.corrodinggames.rts.gameFramework.am();
        this.bN.a(context);
        if (bh != null) {
            e("init(): using Graphics instance");
            this.bO = bh;
        } else if (bg != null) {
            e("init(): using GraphicsSlick2d");
            try {
                this.bO = (y) bg.newInstance();
            } catch (IllegalAccessException e) {
                throw new RuntimeException(e);
            } catch (InstantiationException e2) {
                throw new RuntimeException(e2);
            }
        } else if (aU) {
            this.bO = new z();
        } else {
            this.bO = new x();
        }
        h("graphics.init");
        this.bO.a(context);
        this.bO.b();
        com.corrodinggames.rts.gameFramework.j.a();
        h("Fonts");
        Y();
        h("effects.init");
        this.bR = new com.corrodinggames.rts.gameFramework.d.c();
        this.bR.a(context);
        h("minimapHandler");
        this.bW = new com.corrodinggames.rts.gameFramework.f.o();
        this.bW.a(context);
        if (ck != null) {
            com.corrodinggames.rts.gameFramework.l.e("We have an initial screen size, can do early setup of image buffers");
            h("Map Buffers");
            b(ck.f44a, ck.b);
            k();
            com.corrodinggames.rts.game.b.b.d();
            com.corrodinggames.rts.game.b.b.f();
            this.bW.e();
            if (com.corrodinggames.rts.gameFramework.l.aA()) {
                h("Setting up postprocessing");
                if (!i()) {
                    com.corrodinggames.rts.gameFramework.l.e("Failed to setup postprocessing");
                }
            }
        }
        h("PathEngine");
        this.bU = new com.corrodinggames.rts.gameFramework.k.l();
        h("GroupController");
        this.bV = new aa();
        h("CollisionEngine");
        this.bP = new com.corrodinggames.rts.gameFramework.a();
        h("InterfaceEngine");
        this.bS = new com.corrodinggames.rts.gameFramework.f.g();
        this.bS.a(context);
        this.C = be.c(context);
        h("NetworkEngine");
        this.bX = new ad();
        this.bX.F();
        h("StatsHandler");
        this.bY = new bg();
        h("ModEngine");
        this.bZ = new com.corrodinggames.rts.gameFramework.i.a();
        this.bZ.a();
        if (this.ee) {
            this.bZ.g();
        }
        h("CommandController");
        this.cf = new com.corrodinggames.rts.gameFramework.c();
        h("GameSaver");
        this.ca = new com.corrodinggames.rts.gameFramework.y();
        h("ReplayEngine");
        this.cb = new ba();
        this.cb.a(context);
        h("UnitGeoIndex");
        this.cc = new com.corrodinggames.rts.game.units.f.c();
        h("Precalculating map fog");
        com.corrodinggames.rts.game.b.b.c();
        h("ScorchMark.load");
        l.b();
        h("Projectile.load");
        f.c();
        h("Emitter.load");
        com.corrodinggames.rts.gameFramework.d.f.b();
        h("Unit.loadAllUnits");
        long jA4 = br.a();
        am.bH();
        br.a("loadAllUnits took:", jA4);
        h("Loading custom unit data");
        long jA5 = br.a();
        ag.h();
        h("getAllUnitsChecksum");
        br.a("CustomUnits took:", jA5);
        long jA6 = br.a();
        this.d = am.bM();
        br.a("allUnitsChecksum took:", jA6);
        this.z = new Paint();
        this.z.a(50, 255, 255, 255);
        F();
        System.gc();
        this.bi = true;
        com.corrodinggames.rts.gameFramework.l.e("Init completed");
        br.a("Loading took:", jA);
        this.cd.b(bs.init_total);
        this.cd.a(true, true);
        long jA7 = br.a();
        h("Loading map data");
        if (!com.corrodinggames.rts.gameFramework.l.ay) {
            x();
        }
        br.a("loadAMenuMap took:", jA7);
        h("Last setup");
        ap();
        this.bX.m();
        h("init complete");
        if (aE) {
            ar.s();
            System.exit(0);
        }
        if (aF) {
            ar.r();
            System.exit(0);
        }
        this.bj = true;
    }

    public void a(int i, int i2) {
        float fB = com.corrodinggames.rts.gameFramework.f.b(0.0f, 0.0f, i, i2) / 1131.0f;
        com.corrodinggames.rts.gameFramework.l.e("defaultViewpointZoomDensity: " + fB);
        if (fB < 0.5f) {
            fB = 0.5f;
        }
        if (fB > 3.0f) {
            fB = 3.0f;
        }
        com.corrodinggames.rts.gameFramework.l.e("defaultViewpointZoomDensity after limit: " + fB);
        this.cY = 1.0f;
        if (com.corrodinggames.rts.gameFramework.f.c(fB - 1.0f) > 0.1d) {
            this.cY = fB;
            if (this.cY > 2.0f) {
                this.cY = 2.0f;
            }
            if (this.cY < 0.5f) {
                this.cY = 0.5f;
            }
            this.cX = this.cV * this.cY;
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public void e() {
        K();
        f();
    }

    public void f() {
        b(false);
        this.bG = false;
        this.bH = false;
        this.bF = false;
        this.bp = false;
        this.bS.u = false;
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public synchronized void a(boolean z, com.corrodinggames.rts.gameFramework.s sVar) throws ParserConfigurationException, IOException, NumberFormatException {
        K();
        a(z, false, sVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public void a(boolean z, boolean z2, com.corrodinggames.rts.gameFramework.s sVar) throws ParserConfigurationException, IOException, NumberFormatException {
        com.corrodinggames.rts.appFramework.g gVarI;
        this.bC = this.bQ.teamUnitCapSinglePlayer;
        if (this.bC < 1) {
            this.bC = 1;
        }
        this.bB = this.bC;
        b(z2);
        n.X();
        this.bo = false;
        System.gc();
        this.bI = true;
        this.bG = false;
        this.bp = false;
        this.bF = false;
        this.by = 0;
        this.ch = false;
        this.bX.a(1L);
        this.bx = 0;
        this.bJ = 0;
        com.corrodinggames.rts.gameFramework.f.a();
        this.bX.t();
        if (!z2) {
            this.dq = false;
            this.dr = false;
            this.ds = 0.0f;
            this.du = false;
            this.dt = false;
        }
        this.j = 0;
        if (!z2) {
            this.cV = 1.0f;
        }
        this.dx = 0.0f;
        if (!this.cb.j()) {
            if (!this.bX.B) {
                ag.b(true);
            } else {
                ag.d();
            }
        }
        if (!this.bX.B) {
            if (!this.cb.j() && z) {
                this.bs = new e(0);
                this.bs.v = "Player";
                for (int i = 1; i < 8; i++) {
                    new com.corrodinggames.rts.game.a.a(i);
                }
                this.bX.aq();
            }
        } else {
            this.bs = this.bX.z;
            if (this.bs == null) {
                throw new RuntimeException("cannot find player's team");
            }
            if (this.bs != n.k(this.bs.k)) {
                com.corrodinggames.rts.gameFramework.l.g("Stale playerTeam");
            }
        }
        this.ce = null;
        this.bL = new com.corrodinggames.rts.game.b.b();
        try {
            if (this.dm != null) {
                InputStream inputStreamW = this.dm.w();
                try {
                    inputStreamW.reset();
                } catch (IOException e) {
                    e.printStackTrace();
                }
                this.bL.a(inputStreamW, z2);
            } else {
                this.bL.a(ak(), z2);
            }
            if (!this.bL.W) {
                e("map did not load, returning");
                this.bI = false;
                return;
            }
            this.bL.G = false;
            n.e();
            for (int i2 = 0; i2 < n.c; i2++) {
                n nVarK = n.k(i2);
                if (nVarK != null) {
                    nVarK.J();
                }
            }
            if (!z2) {
                com.corrodinggames.rts.game.units.custom.l.F();
            }
            if (!this.bX.B && !this.cb.j()) {
                this.bX.ay.h = 1.0f;
                this.bX.ay.q = com.corrodinggames.rts.gameFramework.f.a(1, 1000000000);
            }
            this.bJ = this.bX.ay.q;
            e("global Seed: " + this.bJ);
            if (this.bX.B || this.cb.j()) {
                if (!this.bX.F) {
                    this.bB = this.bX.aw;
                    this.bC = this.bX.ax;
                }
                com.corrodinggames.rts.gameFramework.l.e("Unit cap is now: " + this.bC);
                if (this.bX.ay.d == 0) {
                    this.bL.E = false;
                    this.bL.F = false;
                } else if (this.bX.ay.d == 1) {
                    this.bL.E = true;
                    this.bL.F = false;
                } else if (this.bX.ay.d == 2) {
                    this.bL.E = true;
                    this.bL.F = true;
                }
                this.bL.G = this.bX.ay.e;
                byte b2 = 10;
                if (this.bX.ay.e) {
                    b2 = 10;
                }
                for (int i3 = 0; i3 < n.c; i3++) {
                    n nVarK2 = n.k(i3);
                    if (nVarK2 != null) {
                        if (nVarK2.N == null) {
                            com.corrodinggames.rts.gameFramework.l.e("Fog null for team: " + nVarK2.k);
                        } else {
                            for (int i4 = 0; i4 < this.bL.C; i4++) {
                                for (int i5 = 0; i5 < this.bL.D; i5++) {
                                    nVarK2.N[i4][i5] = b2;
                                }
                            }
                        }
                    }
                }
                int iK = this.bX.k();
                for (int i6 = 0; i6 < n.c; i6++) {
                    n nVarK3 = n.k(i6);
                    if (nVarK3 != null) {
                        nVarK3.o = iK;
                        if (nVarK3.w) {
                            if (!nVarK3.y) {
                                if (nVarK3.z != null) {
                                    nVarK3.x = nVarK3.z.intValue();
                                } else {
                                    nVarK3.x = this.bX.ay.f;
                                }
                            } else {
                                nVarK3.c("aiDifficulty is locked");
                            }
                        }
                        nVarK3.I = this.bX.ay.l;
                        boolean z3 = false;
                        boolean z4 = false;
                        int iIntValue = this.bX.ay.g;
                        if (nVarK3.A != null) {
                            iIntValue = nVarK3.A.intValue();
                        }
                        if (iIntValue != 1) {
                            boolean z5 = true;
                            boolean z6 = true;
                            Float fValueOf = null;
                            Float fValueOf2 = null;
                            Float fValueOf3 = null;
                            Float fValueOf4 = null;
                            if (iIntValue == 5 || iIntValue == 4 || iIntValue > 10) {
                                z6 = false;
                            }
                            if (iIntValue == 5 || iIntValue == 4 || iIntValue == 3 || iIntValue > 10) {
                                z5 = false;
                            }
                            if (iIntValue == 9) {
                                z6 = false;
                                z5 = false;
                            }
                            Iterator it = am.bF().iterator();
                            while (it.hasNext()) {
                                am amVar = (am) it.next();
                                if ((amVar instanceof am) && !amVar.bV && amVar.bX == nVarK3) {
                                    if (amVar.bO && !z3) {
                                        z3 = true;
                                        fValueOf = Float.valueOf(amVar.eo);
                                        fValueOf2 = Float.valueOf(amVar.ep);
                                        if (!z5) {
                                            amVar.ci();
                                        }
                                    }
                                    if (amVar.bP && !z4) {
                                        z4 = true;
                                        fValueOf3 = Float.valueOf(amVar.eo);
                                        fValueOf4 = Float.valueOf(amVar.ep);
                                        if (!z6) {
                                            amVar.ci();
                                        }
                                    }
                                }
                            }
                            if (fValueOf == null) {
                                fValueOf = fValueOf3;
                                fValueOf2 = fValueOf4;
                            }
                            if (fValueOf == null) {
                                com.corrodinggames.rts.gameFramework.l.e("placementLocation==null for team:" + nVarK3.k);
                            } else {
                                float fFloatValue = fValueOf.floatValue();
                                float fFloatValue2 = fValueOf2.floatValue();
                                if (iIntValue == 2) {
                                    for (int i7 = 0; i7 <= 2; i7++) {
                                        if (i7 != 1) {
                                            am amVarA = ar.builder.a();
                                            amVarA.b(nVarK3);
                                            amVarA.eo = (fFloatValue - 50.0f) + (i7 * 50);
                                            amVarA.ep = fFloatValue2;
                                            n.c(amVarA);
                                        }
                                    }
                                    for (int i8 = 0; i8 <= 2; i8++) {
                                        am amVarA2 = ar.heavyTank.a();
                                        amVarA2.b(nVarK3);
                                        amVarA2.eo = (fFloatValue - 50.0f) + (i8 * 50);
                                        amVarA2.ep = fFloatValue2 + 50.0f;
                                        n.c(amVarA2);
                                    }
                                } else if (iIntValue == 3 || iIntValue == 4) {
                                    for (int i9 = 0; i9 <= 2; i9++) {
                                        as asVarA = ar.a("combatEngineer");
                                        if (asVarA == null) {
                                            ad.g("Could not find: combatEngineer on network.setup.startingUnits==3");
                                        } else {
                                            am amVarA3 = asVarA.a();
                                            amVarA3.b(nVarK3);
                                            amVarA3.eo = (fFloatValue - 50.0f) + (i9 * 50);
                                            amVarA3.ep = fFloatValue2 + 50.0f;
                                            n.c(amVarA3);
                                        }
                                    }
                                } else if (iIntValue == 5) {
                                    as asVarA2 = ar.a("experimentalSpider");
                                    if (asVarA2 == null) {
                                        ad.g("Could not find: experimentalSpider on network.setup.startingUnits==5");
                                    } else {
                                        am amVarA4 = asVarA2.a();
                                        amVarA4.b(nVarK3);
                                        amVarA4.eo = fFloatValue;
                                        amVarA4.ep = fFloatValue2;
                                        amVarA4.cg = 90.0f;
                                        amVarA4.eq = 2.0f;
                                        amVarA4.dc();
                                        n.c(amVarA4);
                                    }
                                } else if (iIntValue != 9 && iIntValue > 10) {
                                    com.corrodinggames.rts.game.units.custom.l lVarC = com.corrodinggames.rts.game.units.custom.l.c(iIntValue);
                                    if (lVarC == null) {
                                        ad.g("Could not find starting unit on startingUnits==" + iIntValue);
                                    } else {
                                        am amVarA5 = lVarC.a();
                                        amVarA5.b(nVarK3);
                                        amVarA5.eo = fFloatValue;
                                        amVarA5.ep = fFloatValue2;
                                        if (!amVarA5.bI()) {
                                            amVarA5.cg = 90.0f;
                                        }
                                        if (lVarC.eI) {
                                            amVarA5.dc();
                                            if (amVarA5 instanceof com.corrodinggames.rts.game.units.custom.j) {
                                                ((com.corrodinggames.rts.game.units.custom.j) amVarA5).dB();
                                            }
                                        }
                                        n.c(amVarA5);
                                    }
                                }
                            }
                        }
                    }
                }
            }
            if (!z2 && (this.ce == null || !this.ce.q)) {
                a(0.0f, 0.0f);
                int i10 = 0;
                int i11 = 0;
                boolean z7 = false;
                Iterator it2 = am.bE.iterator();
                while (it2.hasNext()) {
                    am amVar2 = (am) it2.next();
                    if (amVar2 instanceof al) {
                        i11++;
                    } else {
                        i10++;
                    }
                    if (amVar2.bX == this.bs && amVar2.bP) {
                        b(amVar2.eo, amVar2.ep);
                        z7 = true;
                    }
                }
                if (!z7) {
                    Iterator it3 = am.bE.iterator();
                    while (it3.hasNext()) {
                        am amVar3 = (am) it3.next();
                        if (amVar3.bX == this.bs && !amVar3.t() && !amVar3.u()) {
                            b(amVar3.eo, amVar3.ep);
                        }
                    }
                }
                e("there are " + i10 + " units on this map and " + i11 + " trees");
            }
            this.B = be.c(this.am).b(ak());
            this.bU.a(this.bL, z2);
            this.bW.a(this.bL, z2);
            this.cf.a();
            this.bV.a();
            if (!z2) {
                com.corrodinggames.rts.gameFramework.d.a.a();
            }
            this.ca.a(z2);
            this.bS.a(z2);
            if (!z2) {
                this.bS.y();
                aG();
                if (this.bv) {
                    this.bS.y();
                }
            } else {
                this.bS.y();
            }
            this.cc.a(this.bL);
            if (!z2) {
                this.bN.c();
            }
            this.bY.a();
            Iterator it4 = am.bE.iterator();
            while (it4.hasNext()) {
                am amVar4 = (am) it4.next();
                if (amVar4 instanceof com.corrodinggames.rts.game.units.y) {
                    ((com.corrodinggames.rts.game.units.y) amVar4).c(false);
                }
            }
            this.B.e = true;
            this.C.a(this.am);
            this.bG = true;
            this.bH = false;
            this.bI = false;
            if (sVar != com.corrodinggames.rts.gameFramework.s.menu && !this.bQ.hasPlayedGameOrSeenHelp) {
                this.bQ.hasPlayedGameOrSeenHelp = true;
                this.bQ.save();
            }
            for (int i12 = 0; i12 < 5; i12++) {
                System.gc();
            }
            if (!com.corrodinggames.rts.gameFramework.l.aU) {
                Log.a("RustedWarfare", "getNativeHeapSize" + String.valueOf(Debug.getNativeHeapSize()));
                Log.a("RustedWarfare", "getNativeHeapAllocatedSize" + String.valueOf(Debug.getNativeHeapAllocatedSize()));
                Log.a("RustedWarfare", "getNativeHeapFreeSize" + String.valueOf(Debug.getNativeHeapFreeSize()));
                Log.a("RustedWarfare", "Runtime.getRuntime().maxMemory()" + String.valueOf(Runtime.getRuntime().maxMemory()));
            }
            if (this.dk != null) {
                this.dk.a();
            }
            this.G = 0.0f;
            if (this.bX.F && this.bX.B) {
                com.corrodinggames.rts.gameFramework.l.e("Disabling network for singleplayer");
                this.bX.B = false;
            }
            if (!ax()) {
                if (sVar == com.corrodinggames.rts.gameFramework.s.normalSave) {
                    com.corrodinggames.rts.gameFramework.l.e("Not starting replay recording as we are loading a save");
                } else {
                    this.cb.a(z2);
                }
            }
            if (com.corrodinggames.rts.gameFramework.k.l.m) {
            }
        } catch (com.corrodinggames.rts.game.b.f e2) {
            e2.printStackTrace();
            a("Error loading map: " + e2.getMessage(), 1);
            if (aT) {
                com.corrodinggames.rts.gameFramework.l.e("Crashing on allowed map error because automated testing is active");
                throw new RuntimeException(e2);
            }
            if (!this.bX.B && this.ao != null && (gVarI = this.ao.i()) != null) {
                gVarI.m();
            }
            e("Map Load Warning", a(e2));
            this.bI = false;
        }
    }

    private void aG() {
        this.bS.y();
        Iterator it = am.bE.iterator();
        while (it.hasNext()) {
            am amVar = (am) it.next();
            if (amVar.bX == this.bs && (amVar instanceof com.corrodinggames.rts.game.units.y) && amVar.ak() && amVar.s_() && amVar.bT() && !amVar.u() && !amVar.t()) {
                com.corrodinggames.rts.gameFramework.l.e("selectAnyOnScreenBuilder: found builder");
                this.bS.j(amVar);
                return;
            }
        }
        com.corrodinggames.rts.gameFramework.l.e("selectAnyOnScreenBuilder: no builder found");
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public void g() {
        com.corrodinggames.rts.gameFramework.utility.o oVarDK = w.dK();
        Iterator it = oVarDK.iterator();
        while (it.hasNext()) {
            ((w) it.next()).a();
        }
        am.bF();
        w.dK();
        int size = oVarDK.size();
        if (size != 0) {
            com.corrodinggames.rts.gameFramework.l.a("SHOULD_NOT_HAPPEN: we still had " + size + " objects in gameObjectListForLogic after removeAll");
            Iterator it2 = oVarDK.iterator();
            while (it2.hasNext()) {
                w wVar = (w) it2.next();
                String strC = "Object: " + wVar.eh;
                if (wVar instanceof am) {
                    strC = ((am) wVar).c();
                }
                com.corrodinggames.rts.gameFramework.l.a("Remaining object: " + strC);
            }
            if (com.corrodinggames.rts.gameFramework.l.B().aa()) {
                throw new RuntimeException("We still had " + size + " objects in gameObjectListForLogic after removeAll");
            }
        }
        am.bF().clear();
        w.dK().clear();
        com.corrodinggames.rts.game.units.custom.j.dD();
        this.W.clear();
    }

    public void b(boolean z) {
        synchronized (this.aj) {
            if (this.ao != null) {
                this.ao.l();
            }
            this.bq = false;
            if (!z) {
                this.cb.g();
            }
            this.bU.c();
            g();
            if (!av()) {
                this.bN.f();
            }
            this.bR.a(z);
            if (this.bL != null) {
                this.bL.h();
                this.bL = null;
            }
            if (this.ce != null) {
                this.ce = null;
            }
            if (this.cc != null) {
                this.cc.b();
            }
            this.af = null;
            this.ag = null;
            this.j = 0;
            n.Y();
            a(com.corrodinggames.rts.gameFramework.g.f.none, com.corrodinggames.rts.gameFramework.g.c.player);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public void a(float f2, int i) {
        synchronized (this.aj) {
            b(f2, i);
        }
    }

    /* JADX WARN: Finally extract failed */
    /* JADX WARN: Removed duplicated region for block: B:314:0x0948 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public void b(float r7, int r8) throws com.corrodinggames.rts.game.units.custom.bo, java.lang.InterruptedException, javax.xml.parsers.ParserConfigurationException, java.io.IOException, java.lang.NumberFormatException {
        /*
            Method dump skipped, instructions count: 2965
            To view this dump change 'Code comments level' option to 'DEBUG'
        */
        throw new UnsupportedOperationException("Method not decompiled: com.corrodinggames.rts.game.i.b(float, int):void");
    }

    /* loaded from: game-lib.jar:com/corrodinggames/rts/game/i$a.class */
    class a extends Thread {
        a() {
        }

        @Override // java.lang.Thread, java.lang.Runnable
        public void run() throws InterruptedException {
            i.this.bX.b("gotoNextLevel");
        }
    }

    public void h() {
        com.corrodinggames.rts.appFramework.g gVarI = this.ao.i();
        if (gVarI != null) {
            if (!gVarI.c()) {
                gVarI.b();
                return;
            } else {
                com.corrodinggames.rts.gameFramework.l.b("stopAndClose: inGameActivity is isFinishing");
                return;
            }
        }
        com.corrodinggames.rts.gameFramework.l.b("stopAndClose: Error getInGameActivity==null");
    }

    public void a(float f2) throws IOException {
        if (ay() && f2 < 0.1f) {
            ad.g("updateAllGame1: deltaSpeed:" + f2 + " frame:" + this.bx + " network.currentStepRate:" + this.bX.c());
        }
        if (this.bt != 1.0f && !this.bX.B && !this.cb.i()) {
            f2 *= this.bt;
        }
        float f3 = f2 * this.H;
        this.I = f3 + 2.0f;
        this.J = f3;
        this.bX.c(f3);
        this.by = (int) (this.by + (f3 * 16.666666f));
        this.cf.c();
        this.cb.a(f3);
        this.bx++;
        n.g(f3);
        if (this.bL != null) {
            this.bL.e(f3);
        }
        if (ay() && f3 < 0.1f) {
            ad.g("updateAllGame2: deltaSpeed:" + f3 + " frame:" + this.bx);
        }
        am.bF();
        com.corrodinggames.rts.gameFramework.utility.o oVarDK = w.dK();
        Object[] objArrB = oVarDK.b();
        int size = oVarDK.size();
        boolean zAy = ay();
        for (int i = 0; i < size; i++) {
            w wVar = (w) objArrB[i];
            if (zAy && f3 != this.J) {
                ad.h("JIT bug detected, attempting to correct. before object:" + wVar.eh + " frame:" + this.bx + " deltaSpeed:" + f3);
                f3 = this.J;
            }
            wVar.a(f3);
        }
        if (ay() && f3 < 0.1f) {
            ad.g("updateAllGame3: deltaSpeed:" + f3 + " frame:" + this.bx);
        }
        int size2 = oVarDK.f696a.size();
        for (int i2 = 0; i2 < size2; i2++) {
            com.corrodinggames.rts.gameFramework.utility.r rVar = (com.corrodinggames.rts.gameFramework.utility.r) oVarDK.f696a.get(i2);
            if (rVar.f699a == com.corrodinggames.rts.gameFramework.utility.q.add) {
                w wVar2 = (w) rVar.b;
                if (!wVar2.ej) {
                    wVar2.a(f3);
                }
            }
        }
        this.cd.a(bs.update_geo_indexes);
        this.cc.a();
        this.cd.b(bs.update_geo_indexes);
        com.corrodinggames.rts.game.units.y.g(f3);
        com.corrodinggames.rts.game.units.custom.j.s(f3);
        com.corrodinggames.rts.game.units.custom.j.a(f3, 0);
        this.j++;
        if (this.j >= 1000) {
            this.j = 0;
            int i3 = 0;
            Iterator it = am.bF().iterator();
            while (it.hasNext()) {
                am amVar = (am) it.next();
                if (amVar.bV && !(amVar instanceof al)) {
                    i3++;
                }
            }
            if (i3 > 70) {
                Iterator it2 = am.bF().iterator();
                while (it2.hasNext()) {
                    am amVar2 = (am) it2.next();
                    if ((amVar2 instanceof am) && amVar2.bV && !(amVar2 instanceof al) && amVar2.bW < this.by - 30000 && i3 > 70) {
                        amVar2.a();
                        i3--;
                    }
                }
            }
        }
        this.cd.a(bs.update_all_team_and_ai);
        n.f(f3);
        this.cd.b(bs.update_all_team_and_ai);
        com.corrodinggames.rts.gameFramework.d.a.a(f3);
        this.bR.a(f3);
        this.D.a(f3);
        com.corrodinggames.rts.gameFramework.utility.y.a(f3);
        if (this.ce != null) {
            this.ce.c(f3);
        }
        this.cd.a(bs.update_groupcontroller);
        this.bV.a(f3);
        this.cd.b(bs.update_groupcontroller);
        this.cd.a(bs.update_minimap);
        this.bW.a(f3);
        this.cd.b(bs.update_minimap);
        this.bU.b(f3);
        if (this.cg != null) {
            this.cg.b();
        }
        this.bY.b();
    }

    public void a(com.corrodinggames.rts.gameFramework.m.l lVar, float f2) {
        synchronized (this.ak) {
            b(lVar, f2);
        }
    }

    public boolean i() {
        if (this.K == null) {
            this.K = new j("assets/shaders/post_base.frag");
        }
        if (this.L == null) {
            this.L = new j("assets/shaders/post_displacement.frag");
        }
        this.K.a(this.bO);
        this.L.a(this.bO);
        if (this.K.g || this.L.g) {
            if (!this.M) {
                this.M = true;
                com.corrodinggames.rts.gameFramework.l.e("setupPostprocessing: failed");
                return false;
            }
            return false;
        }
        return true;
    }

    public void a(j jVar) {
        if (this.N != null) {
            throw new RuntimeException("Layer already enabled");
        }
        this.N = this.bO;
        this.bO = jVar.b;
        this.bO.i();
        this.bO.a(new Rect(0, 0, this.bO.m(), this.bO.n()));
        this.bO.b(jVar.f, jVar.e);
    }

    public void b(j jVar) {
        if (this.N == null) {
            throw new RuntimeException("Layer not enabled");
        }
        this.bO.j();
        this.bO.p();
        this.bO = this.N;
        this.N = null;
        this.bO.b(jVar.f, jVar.e);
    }

    public void b(com.corrodinggames.rts.gameFramework.m.l lVar, float f2) {
        if (lVar == null) {
            b("drawAll", "canvas is null, not may not be available yet");
            return;
        }
        if (aB) {
            return;
        }
        this.bO.a(lVar);
        this.bO.a(this.ao.d());
        this.bO.g();
        this.bz++;
        com.corrodinggames.rts.gameFramework.m.h.G = 0.0f;
        if (this.du) {
            this.bO.b(Color.a(0, 0, 0));
            this.bO.a("Loading..", this.co, this.cp, this.dp);
            return;
        }
        float f3 = this.cn;
        if (f3 != 1.0f) {
            this.bO.i();
            this.bO.a(f3, f3);
        }
        boolean zAA = com.corrodinggames.rts.gameFramework.l.aA();
        if (zAA && h(113) && h(44)) {
            zAA = false;
        }
        if (zAA && !i()) {
            zAA = false;
        }
        if (zAA) {
            a(this.K);
            try {
                this.bO.b(Color.a(0, 0, 0));
                this.cd.a(bs.draw_game);
                c((com.corrodinggames.rts.gameFramework.m.l) null, f2);
                this.cd.b(bs.draw_game);
                b(this.K);
                this.K.b();
                if (!this.L.a()) {
                    a(this.L);
                    try {
                        this.bO.b(Color.a(128, 128, 255));
                        R();
                        int iA = this.bR.a(f2, 3);
                        this.bR.l = null;
                        b(this.L);
                        if (iA > 0) {
                            float fS = this.bO.s();
                            this.L.d.a("screenBase", this.K.f162a);
                            this.L.d.b("screenBaseSize", this.K.f162a);
                            this.L.d.a("u_resolution", this.cl, this.cm);
                            this.L.d.a("u_offsetBy", 0.2f * this.cX);
                            this.L.d.a("u_uiScaling", fS);
                            this.L.b();
                        }
                    } catch (Throwable th) {
                        b(this.L);
                        throw th;
                    }
                }
            } catch (Throwable th2) {
                b(this.K);
                throw th2;
            }
        } else {
            this.cd.a(bs.draw_game);
            c(lVar, f2);
            this.cd.b(bs.draw_game);
        }
        if (!A()) {
            this.cd.a(bs.draw_gui);
            d(lVar, f2);
            this.cd.b(bs.draw_gui);
        }
        if (this.bQ.showFps && this.cT == 0.0f && !this.cU && !this.cS) {
            this.bO.a(this.u, 100.0f, 35.0f, this.m);
        }
        if (f != null) {
            this.bO.a(f, 100.0f, 85.0f, this.m);
        }
        if (!this.aq && (this.bO.d() != null || com.corrodinggames.rts.gameFramework.l.aW)) {
            this.bS.c(f2);
        }
        if (!A()) {
            this.bR.a(f2, 4);
        }
        com.corrodinggames.rts.game.units.custom.j.dE();
        this.bO.h();
        if (f3 != 1.0f) {
            lVar.a();
        }
    }

    public boolean j() {
        if (!this.bQ.showUnitIcons) {
            return false;
        }
        if (this.cX >= 0.7d || this.cE < this.bL.i() - 5.0f || this.cB < this.bL.j() - 5.0f) {
            return C() ? ((double) this.cX) < 0.1d : av() ? ((double) this.cX) < 0.27d : ((double) this.cX) < 0.4d;
        }
        return true;
    }

    public void b(float f2) {
        boolean z = false;
        if (this.cQ.f47a < 0 || this.cQ.b < 0 || this.cQ.c > this.bL.i() || this.cQ.d > this.bL.j()) {
            z = true;
        }
        if (z) {
            this.bO.b(Color.a(0, 0, 0));
        }
    }

    public void c(float f2) {
    }

    /* JADX WARN: Removed duplicated region for block: B:96:0x044a  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public void c(com.corrodinggames.rts.gameFramework.m.l r10, float r11) {
        /*
            Method dump skipped, instructions count: 1372
            To view this dump change 'Code comments level' option to 'DEBUG'
        */
        throw new UnsupportedOperationException("Method not decompiled: com.corrodinggames.rts.game.i.c(com.corrodinggames.rts.gameFramework.m.l, float):void");
    }

    public void d(com.corrodinggames.rts.gameFramework.m.l lVar, float f2) {
        this.bS.b(f2);
        if (this.ce != null) {
            this.ce.b(f2);
        }
        this.bW.e(f2);
        if (this.bQ.showFps && this.cT == 0.0f) {
            this.cd.c();
        }
        if (this.ch) {
            this.bO.a("Look Mode", this.co, this.cp, this.dp);
        }
        if (this.bm) {
            int i = 20;
            for (int i2 = 0; i2 < n.c; i2++) {
                n nVarK = n.k(i2);
                if (nVarK != null && (nVarK instanceof com.corrodinggames.rts.game.a.a)) {
                    com.corrodinggames.rts.game.a.a aVar = (com.corrodinggames.rts.game.a.a) nVarK;
                    this.bO.a(aVar.k + "| c:" + aVar.o, 20.0f, i, this.dn);
                    i += 20;
                }
            }
        }
    }

    public void k() {
        this.cj = W();
        X();
        this.co = this.cl / 2.0f;
        this.cp = this.cm / 2.0f;
        this.cq = (int) (this.cm / 3.0f);
        if (av()) {
            this.cq = (int) (this.cm / 2.5f);
        }
        float f2 = (int) (this.cl / 3.0f);
        if (this.cq > f2) {
            this.cq = f2;
        }
        this.cq = com.corrodinggames.rts.gameFramework.f.b(this.cq, 60.0f, (int) (250.0f * this.cj));
        float f3 = this.cy + this.cI;
        float f4 = this.cz + this.cJ;
        if (this.cS) {
            this.cF = this.cl;
            this.cG = this.cl;
        } else {
            this.cG = (this.cl - this.cq) + 1.0f;
            if (com.corrodinggames.rts.gameFramework.f.g.bO) {
                this.cF = this.cl;
            } else {
                this.cF = this.cG;
            }
        }
        if (this.cF < 1.0f) {
            this.cF = 1.0f;
        }
        if (this.cG < 1.0f) {
            this.cG = 1.0f;
        }
        if (this.cR != this.cS) {
            if (!this.cS) {
                f3 -= (this.cq / 2.0f) / this.cX;
            } else {
                f3 += (this.cq / 2.0f) / this.cX;
            }
        }
        this.cR = this.cS;
        this.cH = this.cm;
        this.cA = this.cF / this.cX;
        this.cB = this.cH / this.cX;
        this.cE = this.cG / this.cX;
        this.cI = this.cA / 2.0f;
        this.cJ = this.cB / 2.0f;
        this.cK.a(0, 0, (int) this.cF, (int) this.cH);
        this.cL.a(0, 0, ((int) this.cA) + 1, ((int) this.cB) + 1);
        this.cM.a(0.0f, 0.0f, this.cA + 1.0f, this.cB + 1.0f);
        a(f3 - this.cI, f4 - this.cJ);
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public void b(int i, int i2) {
        a(i, i2, 1.0f);
    }

    public void a(int i, int i2, float f2) {
        this.cl = i;
        this.cm = i2;
        this.cn = f2;
        k();
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public String l() {
        if (com.corrodinggames.rts.gameFramework.l.aX) {
            return "com.corrodinggames.rts.java";
        }
        if (com.corrodinggames.rts.gameFramework.l.aY) {
            return "com.corrodinggames.rts.gdx";
        }
        if (aU) {
            return "com.corrodinggames.rts.server";
        }
        if (this.am == null) {
            return "<null context>";
        }
        return this.am.h();
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public String m() {
        if (com.corrodinggames.rts.gameFramework.l.aX) {
            return "java";
        }
        if (com.corrodinggames.rts.gameFramework.l.aY) {
            return "java-gdx";
        }
        if (aU) {
            return "dedicatedServer";
        }
        if (this.am == null) {
            return "<null context>";
        }
        try {
            return this.am.f().getInstallerPackageName(l());
        } catch (IllegalArgumentException e) {
            return "IllegalArgumentException: " + e.getMessage();
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public boolean n() {
        if (v().contains("p")) {
            return true;
        }
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public int c(boolean z) {
        if (aU || z) {
            return 176;
        }
        try {
            return this.am.f().getPackageInfo(this.am.h(), 0).versionCode;
        } catch (PackageManager.NameNotFoundException e) {
            throw new RuntimeException(e);
        }
    }

    public String o() {
        if (!at()) {
            return null;
        }
        try {
            Signature[] signatureArr = this.am.f().getPackageInfo(this.am.h(), 64).signatures;
            if (0 < signatureArr.length) {
                return com.corrodinggames.rts.gameFramework.f.b(signatureArr[0].toByteArray());
            }
            return null;
        } catch (PackageManager.NameNotFoundException e) {
            throw new RuntimeException(e);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public boolean p() {
        if (!com.corrodinggames.rts.gameFramework.l.aZ) {
            if (q() || aV) {
                return true;
            }
            return false;
        }
        return false;
    }

    public boolean q() {
        if (com.corrodinggames.rts.game.units.y.class.getSimpleName().equals("OrderableUnit")) {
            return true;
        }
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public String r() {
        String strT = t();
        if (VariableScope.nullOrMissingString != 0 && !VariableScope.nullOrMissingString.equals(VariableScope.nullOrMissingString)) {
            strT = strT + "-";
        }
        return strT;
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public void s() {
        f160a = null;
        t();
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public String t() {
        if (f160a != null) {
            return f160a;
        }
        String str = "v" + u();
        if (!com.corrodinggames.rts.gameFramework.l.as || aV) {
            str = "DEBUG BUILD - " + str;
        } else if (com.corrodinggames.rts.gameFramework.l.at) {
            str = "TESTING BUILD - " + str;
        } else if (str.contains("p")) {
            str = "BETA VERSION - " + str;
        }
        if (!com.corrodinggames.rts.gameFramework.l.aZ && q()) {
            str = "RAW - " + str;
        }
        f160a = str;
        return f160a;
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public String u() {
        return "1.15";
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public String v() {
        return "1.15";
    }

    public synchronized void w() {
        this.ac = false;
        if (this.ab != null) {
            this.ab.cancel();
            this.ab = null;
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public synchronized void a(Activity activity, com.corrodinggames.rts.appFramework.f fVar, boolean z) {
        synchronized (this.ad) {
            if (!aU) {
                fVar.a();
            }
            this.an = activity;
            this.aq = z;
            this.cS = this.aq;
            if (z && !this.bG && !this.bI && !com.corrodinggames.rts.gameFramework.l.ay && !this.bX.B) {
                x();
            }
            com.corrodinggames.rts.appFramework.f fVar2 = this.ap;
            if (this.ao == null) {
                this.ao = fVar;
            }
            this.ap = fVar;
            if (fVar2 != null && fVar2 != fVar) {
                fVar2.j();
            }
            if (fVar != null) {
                fVar.m();
            }
            if (this.bS != null) {
                this.bS.e();
            }
            w();
            J();
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public synchronized void x() throws ParserConfigurationException, IOException, NumberFormatException {
        if (this.ae > 20) {
            return;
        }
        int i = this.bQ.nextBackgroundMap;
        this.bQ.nextBackgroundMap++;
        if (this.bQ.nextBackgroundMap > 3) {
            this.bQ.nextBackgroundMap = 1;
        }
        this.bQ.save();
        int iB = com.corrodinggames.rts.gameFramework.f.b(i, 1, 3);
        this.dm = null;
        this.dl = "maps/menu_background/menu" + iB + ".tmx";
        try {
            n.b(10, true);
            for (int i2 = 0; i2 < n.c; i2++) {
                com.corrodinggames.rts.game.a.a aVar = new com.corrodinggames.rts.game.a.a(i2);
                if (i2 == 0) {
                    this.bs = aVar;
                }
            }
            a(false, com.corrodinggames.rts.gameFramework.s.menu);
            this.bH = true;
            this.bS.y();
            if (!this.bG) {
                com.corrodinggames.rts.gameFramework.l.g("Menu load failed");
                this.ae++;
            }
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    void d(float f2) {
        if (this.aq && !this.bH) {
            if (this.ag == null) {
                this.ag = y();
                if (this.af == this.ag) {
                    this.ag = null;
                }
            }
            if (this.af == null) {
                this.af = this.ag;
                this.ag = null;
            }
            if (this.ah != 0.0f && this.ag != null) {
                a(f2, this.ag.eo, this.ag.ep, this.ah * 0.5f);
            }
            if (this.af != null) {
                boolean zA = a(f2, this.af.eo, this.af.ep, (1.0f - this.ah) * 0.5f);
                if (com.corrodinggames.rts.gameFramework.f.a(this.cy + this.cI, this.cz + this.cJ, this.af.eo, this.af.ep) < 6400.0f) {
                    zA = true;
                }
                if (zA) {
                    this.ai = true;
                }
            }
            if (this.ai) {
                this.ah += 0.01f * f2;
                if (this.ah >= 1.0f) {
                    this.ah = 0.0f;
                    this.af = null;
                    this.ai = false;
                }
            }
        }
    }

    am a(n nVar) {
        int i = 0;
        Iterator it = am.bE.iterator();
        while (it.hasNext()) {
            am amVar = (am) it.next();
            if (!amVar.u() && (amVar.bX == nVar || nVar == null)) {
                i++;
            }
        }
        if (i > 0) {
            int iA = com.corrodinggames.rts.gameFramework.f.a(0, i - 1);
            int i2 = 0;
            Iterator it2 = am.bE.iterator();
            while (it2.hasNext()) {
                am amVar2 = (am) it2.next();
                if (!amVar2.u() && (amVar2.bX == nVar || nVar == null)) {
                    if (i2 == iA) {
                        return amVar2;
                    }
                    i2++;
                }
            }
            return null;
        }
        return null;
    }

    am y() {
        am amVarA = a(this.bs);
        if (amVarA != null) {
            return amVarA;
        }
        return a((n) null);
    }

    public boolean a(float f2, float f3, float f4, float f5) {
        float fD = com.corrodinggames.rts.gameFramework.f.d(this.cy + this.cI, this.cz + this.cJ, f3, f4);
        float fA = com.corrodinggames.rts.gameFramework.f.a(this.cy + this.cI, this.cz + this.cJ, f3, f4);
        float f6 = f5 * f2;
        float f7 = 15.0f;
        if (15.0f < f6 + 1.0f) {
            f7 = f6 + 1.0f;
        }
        if (fA < f7 * f7 || this.ct) {
            return true;
        }
        this.cC += com.corrodinggames.rts.gameFramework.f.k(fD) * f6;
        this.cD += com.corrodinggames.rts.gameFramework.f.j(fD) * f6;
        if (com.corrodinggames.rts.gameFramework.f.c(this.cC) >= 1.0f || com.corrodinggames.rts.gameFramework.f.c(this.cD) >= 1.0f) {
            this.cy += this.cC;
            this.cz += this.cD;
            this.cC = 0.0f;
            this.cD = 0.0f;
            a(this.cy, this.cz);
            return false;
        }
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.l
    public int z() {
        return this.d;
    }
}


================================================================================
// FILE_PATH: ./game/j.java
================================================================================

package com.corrodinggames.rts.game;

import android.graphics.Paint;
import android.graphics.Rect;
import com.corrodinggames.rts.gameFramework.m.ae;
import com.corrodinggames.rts.gameFramework.m.ag;
import com.corrodinggames.rts.gameFramework.m.y;
import java.io.IOException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/j.class */
public class j {

    /* renamed from: a, reason: collision with root package name */
    public com.corrodinggames.rts.gameFramework.m.e f162a;
    y b;
    ag c;
    ae d;
    Paint e;
    Rect f;
    boolean g;

    public j() {
        this.e = new Paint();
        this.f = new Rect(-101, 0, -1, 100);
        this.c = new ag();
    }

    public j(String str) {
        this();
        try {
            this.d = new ae(str);
            this.c.a(this.d);
            if (this.d.o != 0) {
                this.g = true;
            }
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public boolean a() {
        if ((this.d != null && this.d.o != 0) || this.g) {
            return true;
        }
        return false;
    }

    public void a(y yVar) {
        a(yVar, yVar.m(), yVar.n(), 10);
    }

    public void a(y yVar, int i, int i2, int i3) {
        if (this.g) {
            return;
        }
        if (this.f162a != null && (i > this.f162a.m() || i2 > this.f162a.l())) {
            this.f162a.o();
            this.f162a = null;
            this.b = null;
        }
        if (this.f162a == null) {
            try {
                this.f162a = yVar.a(i + i3, i2 + i3, true);
                this.b = yVar.a(this.f162a);
            } catch (OutOfMemoryError e) {
                this.g = true;
                com.corrodinggames.rts.gameFramework.l.a(com.corrodinggames.rts.gameFramework.u.gameImageCreate, e);
                return;
            }
        }
        this.b.a(i, i2);
    }

    public void b() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        lVarB.bO.b(this.f, this.e);
        lVarB.bO.b(this.f162a, 0.0f, 0.0f, this.c);
    }
}


================================================================================
// FILE_PATH: ./game/s.java
================================================================================

package com.corrodinggames.rts.game;

import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.as;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/s.class */
public final class s {
    public int b;
    public int c;
    public int d;
    public int e;
    public int f;
    public int g;
    public boolean m;
    public int n;
    public int o;

    /* renamed from: a, reason: collision with root package name */
    public int f171a = 5;
    public com.corrodinggames.rts.game.units.custom.e.f h = new com.corrodinggames.rts.game.units.custom.e.f();
    public com.corrodinggames.rts.game.units.custom.e.f i = new com.corrodinggames.rts.game.units.custom.e.f();
    public com.corrodinggames.rts.game.units.custom.e.f j = new com.corrodinggames.rts.game.units.custom.e.f();
    public com.corrodinggames.rts.game.units.custom.e.f k = new com.corrodinggames.rts.game.units.custom.e.f();
    public com.corrodinggames.rts.game.units.custom.e.f l = new com.corrodinggames.rts.game.units.custom.e.f();
    public t p = new t();
    public t q = new t();

    /* JADX WARN: Multi-variable type inference failed */
    public void a(am amVar) {
        this.d++;
        if (amVar.cm < 1.0f) {
            this.f++;
        } else {
            this.c++;
        }
        as asVarR = amVar.r();
        if (!asVarR.k()) {
            this.b++;
        }
        if (!this.m && !amVar.u() && amVar.r().y()) {
            this.m = true;
        }
        com.corrodinggames.rts.game.units.custom.d.b bVarDq = amVar.dq();
        if (bVarDq != null) {
            this.k.a(bVarDq, 0.0d, Double.MAX_VALUE);
            this.l.a(bVarDq, -1.7976931348623157E308d, 0.0d);
        }
        if (amVar instanceof com.corrodinggames.rts.game.units.d.l) {
            com.corrodinggames.rts.game.units.d.l lVar = (com.corrodinggames.rts.game.units.d.l) amVar;
            int iF = lVar.f(false);
            this.b += iF;
            this.e += iF;
            if (iF != 0) {
                a(lVar);
            }
        }
        c(amVar);
        float fCy = amVar.cy();
        if (fCy != 0.0f && amVar.cm >= 1.0f) {
            this.g = (int) (this.g + fCy);
        }
        com.corrodinggames.rts.game.units.custom.e.f fVarCA = amVar.cA();
        if (!fVarCA.c() && amVar.cm >= 1.0f) {
            this.h.b(fVarCA);
            this.i.a(fVarCA, 0.0d, Double.MAX_VALUE);
            this.j.a(fVarCA, -1.7976931348623157E308d, 0.0d);
        }
        if (amVar.cU()) {
            int iB = amVar.cM().b();
            com.corrodinggames.rts.game.units.custom.d.b bVarB = asVarR.B();
            if (bVarB != null) {
                iB += bVarB.b();
            }
            if (asVarR.j()) {
                this.o += iB;
            } else {
                this.n += iB;
            }
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    public void b(am amVar) {
        this.d--;
        if (amVar.cm < 1.0f) {
            this.f--;
        } else {
            this.c--;
        }
        as asVarR = amVar.r();
        if (!asVarR.k()) {
            this.b--;
        }
        com.corrodinggames.rts.game.units.custom.d.b bVarDq = amVar.dq();
        if (bVarDq != null) {
            this.k.b(bVarDq, 0.0d, Double.MAX_VALUE);
            this.l.b(bVarDq, -1.7976931348623157E308d, 0.0d);
        }
        if (amVar instanceof com.corrodinggames.rts.game.units.d.l) {
            com.corrodinggames.rts.game.units.d.l lVar = (com.corrodinggames.rts.game.units.d.l) amVar;
            int iF = lVar.f(false);
            this.b -= iF;
            this.e -= iF;
            if (iF != 0) {
                b(lVar);
            }
        }
        d(amVar);
        float fCy = amVar.cy();
        if (fCy != 0.0f && amVar.cm >= 1.0f) {
            this.g = (int) (this.g - fCy);
        }
        com.corrodinggames.rts.game.units.custom.e.f fVarCA = amVar.cA();
        if (!fVarCA.c() && amVar.cm >= 1.0f) {
            this.h.c(fVarCA);
            this.i.b(fVarCA, 0.0d, Double.MAX_VALUE);
            this.j.b(fVarCA, -1.7976931348623157E308d, 0.0d);
        }
        if (amVar.cU()) {
            int iB = amVar.cM().b();
            com.corrodinggames.rts.game.units.custom.d.b bVarB = asVarR.B();
            if (bVarB != null) {
                iB += bVarB.b();
            }
            if (asVarR.j()) {
                this.o -= iB;
            } else {
                this.n -= iB;
            }
        }
    }

    private final void c(am amVar) {
        com.corrodinggames.rts.game.units.custom.h hVarDe = amVar.de();
        if (hVarDe != null) {
            for (com.corrodinggames.rts.game.units.custom.g gVar : hVarDe.f306a) {
                p pVarA = a(gVar);
                if (amVar.cm < 1.0f) {
                    pVarA.c++;
                } else {
                    pVarA.b++;
                }
            }
        }
    }

    private final void d(am amVar) {
        com.corrodinggames.rts.game.units.custom.h hVarDe = amVar.de();
        if (hVarDe != null) {
            for (com.corrodinggames.rts.game.units.custom.g gVar : hVarDe.f306a) {
                p pVarA = a(gVar);
                if (amVar.cm < 1.0f) {
                    pVarA.c--;
                } else {
                    pVarA.b--;
                }
            }
        }
    }

    private final void a(com.corrodinggames.rts.game.units.d.l lVar) {
        as asVar;
        com.corrodinggames.rts.game.units.custom.h hVarX;
        com.corrodinggames.rts.gameFramework.utility.m mVarDx = lVar.dx();
        if (mVarDx.f694a != 0) {
            Iterator it = mVarDx.iterator();
            while (it.hasNext()) {
                com.corrodinggames.rts.game.units.d.j jVar = (com.corrodinggames.rts.game.units.d.j) it.next();
                if (jVar.f && (asVar = jVar.g) != null && (hVarX = asVar.x()) != null) {
                    for (com.corrodinggames.rts.game.units.custom.g gVar : hVarX.f306a) {
                        a(gVar).d += jVar.f333a;
                    }
                }
            }
        }
    }

    private final void b(com.corrodinggames.rts.game.units.d.l lVar) {
        as asVar;
        com.corrodinggames.rts.game.units.custom.h hVarX;
        com.corrodinggames.rts.gameFramework.utility.m mVarDx = lVar.dx();
        if (mVarDx.f694a != 0) {
            Iterator it = mVarDx.iterator();
            while (it.hasNext()) {
                com.corrodinggames.rts.game.units.d.j jVar = (com.corrodinggames.rts.game.units.d.j) it.next();
                if (jVar.f && (asVar = jVar.g) != null && (hVarX = asVar.x()) != null) {
                    for (com.corrodinggames.rts.game.units.custom.g gVar : hVarX.f306a) {
                        a(gVar).d -= jVar.f333a;
                    }
                }
            }
        }
    }

    public final p a(com.corrodinggames.rts.game.units.custom.g gVar) {
        p[] pVarArr = this.q.b;
        int i = this.q.c;
        for (int i2 = 0; i2 < i; i2++) {
            p pVar = pVarArr[i2];
            if (pVar.f168a == gVar) {
                return pVar;
            }
            if (pVar.f168a == null) {
                pVar.f168a = gVar;
                return pVar;
            }
        }
        p pVar2 = new p();
        pVar2.f168a = gVar;
        this.q.a(pVar2);
        return pVar2;
    }
}


================================================================================
// FILE_PATH: ./game/f.java
================================================================================

package com.corrodinggames.rts.game;

import android.graphics.Color;
import android.graphics.LightingColorFilter;
import android.graphics.Paint;
import android.graphics.Rect;
import android.graphics.RectF;
import com.corrodinggames.rts.R;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ao;
import com.corrodinggames.rts.game.units.custom.af;
import com.corrodinggames.rts.game.units.custom.ay;
import com.corrodinggames.rts.game.units.custom.bp;
import com.corrodinggames.rts.game.units.custom.z;
import com.corrodinggames.rts.game.units.y;
import com.corrodinggames.rts.gameFramework.az;
import com.corrodinggames.rts.gameFramework.j.as;
import com.corrodinggames.rts.gameFramework.m.ag;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import com.corrodinggames.rts.gameFramework.utility.ai;
import com.corrodinggames.rts.gameFramework.w;
import java.io.IOException;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/f.class */
public class f extends az {
    public g g;
    public float h;
    public float i;
    public am j;
    public short k;
    public am l;
    public boolean m;
    public float n;
    public float o;
    public float p;
    public f q;
    public float r;
    public float s;
    public float t;
    public float u;
    public float v;
    public float w;
    public float x;
    public float y;
    public boolean z;
    public boolean A;
    public boolean B;
    public boolean C;
    public boolean D;
    public boolean E;
    public float F;
    public boolean G;
    public float H;
    public float I;
    public float J;
    public float K;
    public float L;
    public boolean M;
    public float N;
    public float[] O;
    public short P;
    public short Q;
    public short R;
    public boolean S;
    public boolean T;
    public float U;
    public boolean V;
    public float W;
    public float X;
    public float Y;
    public float Z;
    public boolean aa;
    public boolean ab;
    public boolean ac;
    public boolean ad;
    public boolean ae;
    public boolean af;
    public float ag;
    public float ah;
    public float ai;
    public float aj;
    public float ak;
    public float al;
    public float am;
    public float an;
    public boolean ao;
    public com.corrodinggames.rts.gameFramework.utility.m ap;
    public int ar;
    public boolean as;
    public boolean at;
    public w au;
    public int av;
    public float aw;
    public float ax;
    public float ay;
    public float az;
    public float aA;
    public boolean aB;
    public boolean aC;
    public int aD;
    public com.corrodinggames.rts.game.units.custom.h aE;
    public float aF;
    public boolean aG;
    public boolean aH;
    public float aI;
    public float aJ;
    public boolean aK;
    public float aL;
    public boolean aM;
    public float aN;
    public float aO;
    public com.corrodinggames.rts.gameFramework.d.e aP;
    public boolean aQ;
    public boolean aR;
    private boolean bn;
    public boolean aS;
    public float aT;
    public boolean aU;
    float aV;
    float aW;
    float aX;
    public boolean aY;
    public boolean aZ;
    public static final com.corrodinggames.rts.gameFramework.utility.u bi;
    public ag bj;
    public static ag bk;
    public static int bl;

    /* renamed from: a, reason: collision with root package name */
    public static final com.corrodinggames.rts.gameFramework.utility.m f157a = new com.corrodinggames.rts.gameFramework.utility.m();
    private static final f bm = new f(true);
    static com.corrodinggames.rts.gameFramework.m.e b = null;
    static com.corrodinggames.rts.gameFramework.m.e c = null;
    static com.corrodinggames.rts.gameFramework.m.e d = null;
    static final Rect e = new Rect();
    static final RectF f = new RectF();
    static final int aq = Color.a(255, 255, 255, 255);
    public static final ag ba = new ag();
    public static final Paint bb = new Paint();
    public static final Paint bd = new Paint();
    public static final Paint be = new Paint();
    public static final Paint bf = new Paint();
    public static final Paint bg = new Paint();
    public static final Paint bh = new Paint();
    public static final Paint bc = new ag();

    static {
        bc.b(-16777216);
        bc.c(108);
        bd.a(80, 255, 0, 0);
        bd.a(true);
        bd.a(5.0f);
        be.a(30, 255, 0, 0);
        be.a(true);
        be.a(8.0f);
        bf.a(80, 128, 166, 255);
        bf.a(true);
        bf.a(5.0f);
        bg.a(150, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_WAKEUP, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_SATELLITE_CS, 255);
        bg.a(true);
        bg.a(3.0f);
        bh.a(110, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_WAKEUP, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_SATELLITE_CS, 255);
        bh.a(true);
        bh.a(8.0f);
        bi = new com.corrodinggames.rts.gameFramework.utility.u();
        bk = null;
        bl = 0;
    }

    public f(boolean z) {
        super(z);
        this.g = g.f158a;
        this.k = (short) -1;
        this.r = -1.0f;
        this.s = 0.1f;
        this.x = 2.0f;
        this.y = -1.0f;
        this.z = true;
        this.H = 1.0f;
        this.P = (short) -1;
        this.Q = (short) -1;
        this.R = (short) 0;
        this.S = true;
        this.V = false;
        this.W = 0.0f;
        this.X = 0.0f;
        this.ab = false;
        this.ac = false;
        this.ad = false;
        this.ae = true;
        this.ai = 1.0f;
        this.aj = 1.0f;
        this.ak = 1.0f;
        this.al = 1.0f;
        this.am = 1.0f;
        this.ar = aq;
        this.av = -1;
        this.aI = 40.0f;
        this.aJ = 60.0f;
        this.aK = false;
        this.aL = 2.0f;
        this.aR = true;
        this.aT = 0.0f;
        if (!z) {
            f157a.add(this);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void a() {
        f157a.remove(this);
        super.a();
    }

    public static f a(f fVar) {
        f fVar2 = bm;
        fVar2.aD = -1;
        if (fVar == null) {
            fVar2.am = 1.0f;
            fVar2.ak = 1.0f;
            fVar2.al = 1.0f;
            fVar2.an = 0.0f;
        } else {
            fVar2.am = fVar.am;
            fVar2.ak = fVar.ak;
            fVar2.al = fVar.al;
            fVar2.an = fVar.an;
        }
        return fVar2;
    }

    public void a(am amVar, float f2, float f3, float f4) {
        this.j = amVar;
        this.eo = f2;
        this.ep = f3;
        this.eq = f4;
        this.bn = false;
        this.V = false;
    }

    public void b() {
        if (this.D) {
            com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
            com.corrodinggames.rts.gameFramework.d.e eVarD = lVarB.bR.d(this.eo, this.ep, this.eq, 0);
            if (eVarD != null) {
                eVarD.G = 0.7f;
                eVarD.F = 2.1f;
                eVarD.ar = (short) 2;
                eVarD.V = 90.0f;
                eVarD.W = eVarD.V;
            }
            lVarB.bM.a(com.corrodinggames.rts.gameFramework.a.e.p, 0.8f, this.eo, this.ep);
        }
        a();
    }

    @Override // com.corrodinggames.rts.gameFramework.az, com.corrodinggames.rts.gameFramework.w, com.corrodinggames.rts.gameFramework.bq
    public void a(as asVar) throws IOException {
        asVar.a(this.h);
        asVar.a(this.j);
        asVar.a(this.l);
        asVar.a(this.t);
        asVar.a(99);
        asVar.a(this.A);
        asVar.a(this.B);
        asVar.a(this.S);
        asVar.a(this.T);
        asVar.a(this.U);
        asVar.a(this.Y);
        asVar.a(this.Z);
        asVar.a(this.ar);
        asVar.a(this.aH);
        asVar.a(this.aI);
        asVar.a(this.aJ);
        asVar.a(this.aK);
        asVar.a(this.aL);
        asVar.a(this.aM);
        asVar.a(this.aN);
        asVar.a(this.aQ);
        asVar.a(this.aR);
        asVar.a(this.bn);
        asVar.a(this.aS);
        asVar.a(this.M);
        asVar.a(this.P);
        asVar.a(this.r);
        asVar.a(this.s);
        asVar.a(this.as);
        asVar.a(this.at);
        asVar.a(this.az);
        asVar.a(this.aA);
        asVar.a(this.aB);
        asVar.a(this.aC);
        asVar.a(false);
        asVar.a(0.0f);
        asVar.a(0.0f);
        asVar.a(this.E);
        asVar.a(this.F);
        asVar.a(this.J);
        asVar.a(this.K);
        asVar.a(this.L);
        asVar.a(this.m);
        asVar.a(this.n);
        asVar.a(this.o);
        asVar.a(this.C);
        asVar.a(this.D);
        asVar.a(this.q);
        asVar.a(this.aV);
        asVar.a(this.aW);
        asVar.a(this.aX);
        asVar.a(this.V);
        asVar.a(this.W);
        asVar.a(this.X);
        asVar.a(this.aU);
        asVar.a(this.R);
        asVar.a(this.ao);
        asVar.a(this.ap);
        asVar.a(this.Q);
        asVar.a(this.x);
        asVar.a(this.aa);
        asVar.a(this.ad);
        asVar.a(this.G);
        asVar.a(this.H);
        asVar.a(this.ae);
        asVar.a(this.aG);
        asVar.a(this.z);
        asVar.a(this.y);
        asVar.a(this.aO);
        asVar.a(this.i);
        asVar.a(this.aY);
        asVar.a(this.af);
        asVar.a(this.ag);
        asVar.a(this.ah);
        asVar.a(this.ai);
        asVar.a(this.aj);
        asVar.a(0);
        asVar.a(0.0f);
        asVar.a(0.0f);
        asVar.a((com.corrodinggames.rts.game.units.as) null);
        asVar.a(0);
        asVar.a(false);
        com.corrodinggames.rts.game.units.custom.g.a(this.aE, asVar);
        asVar.a(this.ak);
        asVar.a(this.al);
        asVar.a(this.ab);
        asVar.a(this.ac);
        asVar.a(this.an);
        asVar.a(false);
        g.a(this.g, asVar);
        boolean z = (this.au == null || this.au.ej) ? false : true;
        asVar.a(z);
        if (z) {
            asVar.a(this.au);
            asVar.a(this.aw);
            asVar.a(this.ax);
            asVar.a(this.ay);
        }
        asVar.a(this.k);
        asVar.a(this.aD);
        asVar.a(this.am);
        asVar.a(this.p);
        asVar.a(this.av);
        super.a(asVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.az, com.corrodinggames.rts.gameFramework.w
    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) throws IOException {
        this.h = kVar.g();
        this.j = kVar.o();
        this.l = kVar.a(com.corrodinggames.rts.gameFramework.j.m.expected);
        this.t = kVar.g();
        this.x = kVar.f();
        this.A = kVar.e();
        this.B = kVar.e();
        this.S = kVar.e();
        this.T = kVar.e();
        this.U = kVar.g();
        this.Y = kVar.g();
        this.Z = kVar.g();
        this.ar = kVar.f();
        this.aH = kVar.e();
        this.aI = kVar.g();
        this.aJ = kVar.g();
        this.aK = kVar.e();
        this.aL = kVar.g();
        this.aM = kVar.e();
        this.aN = kVar.g();
        this.aQ = kVar.e();
        this.aR = kVar.e();
        this.bn = kVar.e();
        if (kVar.b() >= 7) {
            this.aS = kVar.e();
        }
        if (kVar.b() >= 13) {
            this.M = kVar.e();
            this.P = kVar.v();
        }
        if (kVar.b() >= 16) {
            this.r = kVar.g();
            this.s = kVar.g();
        }
        if (kVar.b() >= 17) {
            this.as = kVar.e();
            this.at = kVar.e();
            this.az = kVar.g();
            this.aA = kVar.g();
            this.aB = kVar.e();
            this.aC = kVar.e();
        }
        if (kVar.b() >= 18) {
            kVar.e();
            kVar.g();
            kVar.g();
        }
        if (kVar.b() >= 28) {
            this.E = kVar.e();
            this.F = kVar.g();
            this.J = kVar.g();
            this.K = kVar.g();
            this.L = kVar.g();
        }
        if (kVar.b() >= 29) {
            this.m = kVar.e();
            this.n = kVar.g();
            this.o = kVar.g();
            this.C = kVar.e();
            this.D = kVar.e();
            this.q = (f) kVar.a(f.class);
            this.aV = kVar.g();
            this.aW = kVar.g();
            this.aX = kVar.g();
            this.V = kVar.e();
            this.W = kVar.g();
            this.X = kVar.g();
            this.aU = kVar.e();
            this.R = kVar.v();
            this.ao = kVar.e();
            com.corrodinggames.rts.gameFramework.utility.m mVar = new com.corrodinggames.rts.gameFramework.utility.m();
            kVar.a(mVar, am.class);
            if (mVar.size() > 0) {
                this.ap = mVar;
            }
            this.Q = kVar.v();
        }
        if (kVar.b() >= 35) {
            this.x = kVar.g();
            this.aa = kVar.e();
            this.ad = kVar.e();
            this.G = kVar.e();
        }
        if (kVar.b() >= 38) {
            this.H = kVar.g();
        }
        if (kVar.b() >= 39) {
            this.ae = kVar.e();
        }
        if (kVar.b() >= 41) {
            this.aG = kVar.e();
        }
        if (kVar.b() >= 43) {
            this.z = kVar.e();
            this.y = kVar.g();
        }
        if (kVar.b() >= 44) {
            this.aO = kVar.g();
        }
        if (kVar.b() >= 47) {
            this.i = kVar.g();
        }
        if (kVar.b() >= 48) {
            this.aY = kVar.e();
        }
        if (kVar.b() >= 59) {
            this.af = kVar.e();
            this.ag = kVar.g();
            this.ah = kVar.g();
            this.ai = kVar.g();
        }
        if (kVar.b() >= 60) {
            this.aj = kVar.g();
            kVar.f();
            kVar.g();
            kVar.g();
        }
        if (kVar.b() >= 62) {
            kVar.q();
            kVar.f();
            kVar.e();
        }
        if (kVar.b() >= 63) {
            this.aE = com.corrodinggames.rts.game.units.custom.g.a(kVar);
        }
        if (kVar.b() >= 64) {
            this.ak = kVar.g();
            this.al = kVar.g();
        }
        if (kVar.b() >= 66) {
            this.ab = kVar.e();
            this.ac = kVar.e();
        }
        if (kVar.b() >= 67 && kVar.b() < 78) {
            bp.a(kVar, true);
        }
        if (kVar.b() >= 68) {
            this.an = kVar.g();
        }
        if (kVar.b() >= 77) {
            kVar.e();
        }
        if (kVar.b() >= 78) {
            this.g = g.a(kVar);
        }
        if (kVar.b() >= 81 && kVar.e()) {
            this.au = kVar.a(w.class);
            this.aw = kVar.g();
            this.ax = kVar.g();
            this.ay = kVar.g();
        }
        if (kVar.b() >= 83) {
            this.k = kVar.v();
            this.aD = kVar.f();
        }
        if (kVar.b() >= 88) {
            this.am = kVar.g();
        }
        if (kVar.b() >= 89) {
            this.p = kVar.g();
            this.av = kVar.f();
        }
        super.a(kVar);
    }

    public static void c() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        b = lVarB.bO.a(R.drawable.projectiles);
        c = lVarB.bO.a(R.drawable.projectiles2);
        d = lVarB.bO.a(R.drawable.projectiles_large);
    }

    public void d() {
        this.aS = true;
    }

    public static f a(am amVar, float f2, float f3) {
        f fVar = new f(false);
        fVar.j = amVar;
        fVar.eo = f2;
        fVar.ep = f3;
        fVar.ar = Color.a(255, 100, 30, 30);
        fVar.en = amVar.en + 1;
        fVar.em = 4;
        return fVar;
    }

    public static f a(am amVar, float f2, float f3, float f4, int i) {
        f fVarA = a(amVar, f2, f3);
        fVarA.eq = f4;
        fVarA.k = (short) i;
        fVarA.I = com.corrodinggames.rts.gameFramework.f.b(amVar, 0.0f, 1.0f, amVar.bC);
        amVar.bC++;
        return fVarA;
    }

    public void a(am amVar) {
        float fD;
        if ((this.ag == 0.0f && this.ah == 0.0f) || amVar.bI()) {
            return;
        }
        if (com.corrodinggames.rts.gameFramework.f.a(this.aV, this.aW, amVar.eo, amVar.ep) > 100.0f) {
            fD = com.corrodinggames.rts.gameFramework.f.d(this.aV, this.aW, amVar.eo, amVar.ep);
        } else {
            fD = this.az;
        }
        float fBN = this.ah + (this.ag / amVar.bN());
        amVar.cc += com.corrodinggames.rts.gameFramework.f.k(fD) * fBN;
        amVar.cd += com.corrodinggames.rts.gameFramework.f.j(fD) * fBN;
    }

    public static void a(am amVar, am amVar2, float f2, f fVar, boolean z) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (lVarB.bw && f2 > 0.0f) {
            f2 = 0.0f;
        }
        if (amVar2 != null && !amVar2.bV) {
            if (fVar != null && fVar.g.bc && amVar != null) {
                amVar2.e(amVar.bX);
            }
            if (fVar != null) {
                if (fVar.ai != 1.0f && amVar2.bI()) {
                    f2 *= fVar.ai;
                }
                if (fVar.aj != 1.0f && amVar2.i()) {
                    f2 *= fVar.aj;
                }
            }
            if (f2 < 0.0f) {
                amVar2.b(amVar, -f2, fVar);
            } else {
                boolean z2 = !amVar2.bV && amVar2.cu > 0.0f;
                amVar2.a(amVar, f2, fVar);
                float f3 = f2;
                if (amVar2.J()) {
                    f3 = 0.0f;
                }
                if (f3 > 0.0f) {
                    lVarB.bY.a(amVar, amVar2, f3);
                }
                if (amVar != null) {
                    amVar.cV += f3;
                    if (z2 && (amVar2.bV || amVar2.cu < 0.0f)) {
                        amVar.cU++;
                        amVar.a(af.killedAnyUnit, amVar2);
                    }
                }
            }
            if (fVar != null && !amVar2.bV) {
                float fBQ = amVar2.bQ();
                if (fBQ != -1.0f) {
                    float fD = com.corrodinggames.rts.gameFramework.f.d(fVar.eo, fVar.ep, amVar2.eo, amVar2.ep);
                    float f4 = 100.0f / fBQ;
                    amVar2.cc += com.corrodinggames.rts.gameFramework.f.k(fD) * f4;
                    amVar2.cd += com.corrodinggames.rts.gameFramework.f.j(fD) * f4;
                }
            }
        }
    }

    public float e() {
        float f2 = 1.0f;
        if (this.J < this.F) {
            f2 = this.J / this.F;
        }
        return f2;
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void a(float f2) {
        float fD;
        float fA;
        float f3;
        float f4;
        com.corrodinggames.rts.gameFramework.d.e eVarD;
        com.corrodinggames.rts.gameFramework.d.e eVarD2;
        z zVarA;
        com.corrodinggames.rts.gameFramework.d.e eVarB;
        float f5;
        float f6;
        float f7;
        float f8;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (this.aS) {
            a();
        }
        if (this.l == null && !this.aC) {
            a();
            return;
        }
        if (this.i > 0.0f) {
            this.i = com.corrodinggames.rts.gameFramework.f.a(this.i, f2);
            if (this.i > 0.0f) {
                return;
            }
        }
        g gVar = this.g;
        if (this.i == 0.0f) {
            this.i = -1.0f;
            if (gVar.al != null) {
                gVar.al.a(this.eo, this.ep, this.eq, this.az, this.j, null, false, this.aD + 1, this, null);
            }
        }
        this.h = com.corrodinggames.rts.gameFramework.f.a(this.h, f2);
        boolean z = false;
        if (this.aG && (this.l == null || this.l.bV)) {
            z = true;
        }
        if (z) {
            a(gVar.ax, gVar.ay, (com.corrodinggames.rts.game.units.custom.h) null);
        }
        if (gVar.az) {
            this.aF = com.corrodinggames.rts.gameFramework.f.a(this.aF, f2);
            if (this.aF == 0.0f) {
                this.aF = gVar.aA;
                a(gVar.aB, gVar.aC, gVar.aD);
            }
        }
        if (gVar.R != 0.0f || gVar.S != 0.0f) {
            float f9 = gVar.R;
            if (this.l != null) {
                f9 += this.l.cj * gVar.S;
            }
            this.K = com.corrodinggames.rts.gameFramework.f.j(((360.0f * this.I) + (this.J * 1.0f)) % 360.0f) * f9;
            this.L = com.corrodinggames.rts.gameFramework.f.j(((360.0f * this.I) + (this.J * 1.5f)) % 360.0f) * f9;
        }
        if (this.E && this.l != null) {
            this.K = com.corrodinggames.rts.gameFramework.f.j((this.J * 1.0f) % 360.0f) * this.l.cj * 0.4f;
            this.L = com.corrodinggames.rts.gameFramework.f.j((this.J * 1.5f) % 360.0f) * this.l.cj * 0.4f;
            float f10 = this.l.eo + this.K;
            float f11 = this.l.ep + this.L;
            if (this.el) {
                this.aN += f2;
                this.aO += f2;
                if (this.aN > 11.0f) {
                    this.aN = com.corrodinggames.rts.gameFramework.f.c(1.0f, 4.0f);
                    com.corrodinggames.rts.gameFramework.d.e eVarB2 = lVarB.bR.b(f10, f11, this.l.eq, com.corrodinggames.rts.gameFramework.d.d.custom, false, com.corrodinggames.rts.gameFramework.d.h.low);
                    if (eVarB2 != null) {
                        eVarB2.aq = 0;
                        eVarB2.ap = 0;
                        eVarB2.ar = (short) 2;
                        eVarB2.r = true;
                        eVarB2.E = 0.5f;
                        eVarB2.W = 60.0f;
                        eVarB2.V = 60.0f;
                        eVarB2.G = 0.7f;
                        eVarB2.F = 0.3f;
                        eVarB2.as = false;
                        eVarB2.P = com.corrodinggames.rts.gameFramework.f.c(-0.3f, 0.3f);
                        eVarB2.Q = (-0.9f) + com.corrodinggames.rts.gameFramework.f.c(-0.3f, 0.3f);
                    }
                }
                if (this.aO > 75.0f) {
                    this.aO = com.corrodinggames.rts.gameFramework.f.c(1.0f, 20.0f);
                    lVarB.bR.b(f10, f11, this.l.eq);
                }
            }
        }
        float f12 = 5.0f;
        boolean z2 = false;
        boolean z3 = false;
        if (!this.aC) {
            float f13 = this.l.eo + this.K;
            float f14 = this.l.ep + this.L;
            float f15 = this.l.eq;
            fD = com.corrodinggames.rts.gameFramework.f.d(this.eo, this.ep, f13, f14);
            fA = com.corrodinggames.rts.gameFramework.f.a(this.eo, this.ep, f13, f14);
            f3 = f15;
            f4 = f3 - this.eq;
            f12 = this.l.cj;
            z2 = this.l instanceof com.corrodinggames.rts.game.units.d.d;
            z3 = this.l.cx > 10.0f + this.U;
        } else {
            float f16 = this.az;
            if (this.q != null) {
                float f17 = this.q.eo + this.K;
                float f18 = this.q.ep + this.L;
                float f19 = this.q.eq;
                fD = com.corrodinggames.rts.gameFramework.f.d(this.eo, this.ep, f17, f18);
                fA = com.corrodinggames.rts.gameFramework.f.a(this.eo, this.ep, f17, f18);
                f3 = f19;
                f4 = f3 - this.eq;
            } else if (this.l != null) {
                float f20 = this.l.eo + this.K;
                float f21 = this.l.ep + this.L;
                float f22 = this.l.eq;
                fD = com.corrodinggames.rts.gameFramework.f.d(this.eo, this.ep, f20, f21);
                fA = com.corrodinggames.rts.gameFramework.f.a(this.eo, this.ep, f20, f21);
                f3 = f22;
                f4 = f3 - this.eq;
                f12 = this.l.cj;
                z2 = this.l instanceof com.corrodinggames.rts.game.units.d.d;
                z3 = this.l.cx > 10.0f + this.U;
            } else if (this.m) {
                float f23 = this.n + this.K;
                float f24 = this.o + this.L;
                float f25 = this.p;
                fD = com.corrodinggames.rts.gameFramework.f.d(this.eo, this.ep, f23, f24);
                fA = com.corrodinggames.rts.gameFramework.f.a(this.eo, this.ep, f23, f24);
                f3 = f25;
                f4 = f3 - this.eq;
            } else {
                float f26 = this.n + this.K;
                float f27 = this.o + this.L;
                fD = com.corrodinggames.rts.gameFramework.f.d(this.eo, this.ep, f26, f27);
                fA = com.corrodinggames.rts.gameFramework.f.a(this.eo, this.ep, f26, f27);
                f3 = 0.0f;
                f4 = 0.0f - this.eq;
            }
        }
        float f28 = gVar.O;
        if (fA < 225.0f) {
            f28 = gVar.P;
        }
        if (f28 >= 0.0f) {
            this.az += com.corrodinggames.rts.gameFramework.f.c(this.az, fD, f28 * f2);
            fD = this.az;
        } else {
            this.az = fD;
        }
        boolean z4 = false;
        boolean z5 = false;
        float f29 = fD;
        if (this.au != null && !this.au.ej) {
            if (this.av >= 0) {
                y yVar = (y) this.au;
                if (this.av >= yVar.bl()) {
                    this.av = 0;
                }
                ai aiVarD = yVar.D(this.av);
                f6 = aiVarD.f680a;
                f7 = aiVarD.b;
                f8 = this.j.eq + aiVarD.c;
            } else {
                f6 = this.au.eo;
                f7 = this.au.ep;
                f8 = this.au.eq;
            }
            float f30 = f6 - this.aw;
            float f31 = f7 - this.ax;
            float f32 = f8 - this.ay;
            this.eo += f30;
            this.ep += f31;
            this.eq += f32;
            this.aw = f6;
            this.ax = f7;
            this.ay = f8;
        }
        if (!this.A) {
            this.eo += this.u * f2;
            this.ep += this.v * f2;
            if (this.w != 0.0f) {
                this.eq += this.w * f2;
                f4 = f3 - this.eq;
            }
            if (this.eq > 0.0f) {
                if (gVar.G != 0.0f) {
                    this.eq -= gVar.G * f2;
                    f4 = f3 - this.eq;
                }
                if (gVar.H != 0.0f) {
                    this.w -= gVar.H * f2;
                }
            }
            if (!this.aH || this.aI < this.eq || this.aK) {
                float fA2 = this.t * f2;
                z4 = true;
                if (fA < fA2 * fA2) {
                    fA2 = com.corrodinggames.rts.gameFramework.f.a(fA);
                    fA = 0.0f;
                }
                this.eo += com.corrodinggames.rts.gameFramework.f.k(fD) * fA2;
                this.ep += com.corrodinggames.rts.gameFramework.f.j(fD) * fA2;
            }
            if (this.aH) {
                if (this.aL < 0.0f) {
                    f5 = this.t * f2;
                    z4 = true;
                } else {
                    f5 = this.aL * f2;
                }
                if (!this.aK) {
                    this.eq = com.corrodinggames.rts.gameFramework.f.a(this.eq, this.aJ, f5);
                    if (this.eq < this.aI) {
                        f29 = -90.0f;
                    }
                    if (this.eq >= this.aJ) {
                        this.aK = true;
                    }
                } else if (fA < 400.0f) {
                    this.eq = com.corrodinggames.rts.gameFramework.f.a(this.eq, f3, f5);
                    if (com.corrodinggames.rts.gameFramework.f.c(this.eq - f3) > 0.5f) {
                        f29 = 90.0f;
                        z5 = true;
                    }
                }
            } else {
                float f33 = f4;
                float fB = this.t * f2;
                z4 = true;
                if (f33 != 0.0f) {
                    if (fA > 0.1d) {
                        fB = com.corrodinggames.rts.gameFramework.f.b((com.corrodinggames.rts.gameFramework.f.c(f33) / com.corrodinggames.rts.gameFramework.f.a(fA)) * this.t * f2, this.t * f2);
                    }
                    this.eq += com.corrodinggames.rts.gameFramework.f.b(f4, fB);
                    f4 = f3 - this.eq;
                }
            }
        }
        if (z4 && this.r > 0.0f) {
            this.t = com.corrodinggames.rts.gameFramework.f.a(this.t, this.r, this.s * f2);
        }
        if (gVar.am != 0.0f) {
            float fJ = com.corrodinggames.rts.gameFramework.f.j((((this.J * 360.0f) / gVar.an) + (360.0f * this.I)) % 360.0f) * gVar.am * f2;
            this.eo += com.corrodinggames.rts.gameFramework.f.k(fD + 90.0f) * fJ;
            this.ep += com.corrodinggames.rts.gameFramework.f.j(fD + 90.0f) * fJ;
        }
        if (this.el && ((this.aM || gVar.ah != null) && !this.bn)) {
            this.aN += f2;
            if (this.aN > gVar.ag) {
                this.aN = 0.0f;
                boolean z6 = false;
                if (this.D) {
                    z6 = true;
                }
                if (gVar.ah != null) {
                    gVar.ah.a(this.eo, this.ep, this.eq, this.aT, this);
                }
                if (this.aM && (eVarB = lVarB.bR.b(this.eo, this.ep, this.eq, com.corrodinggames.rts.gameFramework.d.d.custom, z6, com.corrodinggames.rts.gameFramework.d.h.low)) != null) {
                    if (this.eq >= 0.0f) {
                        eVarB.aq = 0;
                        eVarB.ap = 0;
                        eVarB.ar = (short) 2;
                        eVarB.r = true;
                        eVarB.E = 0.5f;
                        eVarB.V = 70.0f;
                        eVarB.W = eVarB.V;
                        eVarB.as = true;
                        if (z5) {
                            eVarB.as = false;
                        }
                        eVarB.Q = 0.1f;
                        eVarB.s = true;
                        eVarB.t = 5.0f;
                        eVarB.G = 0.5f;
                        eVarB.F = 1.2f;
                        eVarB.Y = com.corrodinggames.rts.gameFramework.f.c(-180.0f, 180.0f);
                        if (this.D) {
                            eVarB.G = 0.5f;
                            eVarB.F = 2.1f;
                        }
                    } else {
                        eVarB.aq = 9;
                        eVarB.ap = 1;
                        eVarB.ar = (short) 1;
                        eVarB.r = true;
                        eVarB.E = 0.5f;
                        eVarB.W = 60.0f;
                        eVarB.V = 60.0f;
                        eVarB.Q = 0.1f;
                    }
                }
            }
        }
        if (!this.bn) {
            boolean z7 = false;
            am amVar = null;
            boolean z8 = false;
            float f34 = 6.0f;
            if (z2) {
                f34 = f12 * 0.8f;
                if (f34 < 6.0f) {
                    f34 = 6.0f;
                }
            }
            if (z3) {
                f34 = f12 * 1.1f;
            }
            float fC = 3.0f;
            if (this.w != 0.0f || gVar.G != 0.0f) {
                fC = 3.0f + com.corrodinggames.rts.gameFramework.f.c(this.w * f2) + com.corrodinggames.rts.gameFramework.f.c(gVar.G * f2);
            }
            if (fA < f34 * f34 && com.corrodinggames.rts.gameFramework.f.c(f4) < fC) {
                z7 = true;
                amVar = this.l;
            }
            if (this.A) {
                z7 = true;
                amVar = this.l;
            }
            if (this.af && this.h == 0.0f) {
                z7 = true;
            }
            if (this.as) {
                float f35 = this.aA + 50.0f;
                am[] amVarArrA = am.bE.a();
                int size = am.bE.size();
                for (int i = 0; i < size; i++) {
                    am amVar2 = amVarArrA[i];
                    if (amVar2.eo + f35 > this.eo && amVar2.eo - f35 < this.eo && amVar2.ep + f35 > this.ep && amVar2.ep - f35 < this.ep && amVar2.bT && false == amVar2.i() && amVar2.cN == null) {
                        float fA3 = com.corrodinggames.rts.gameFramework.f.a(this.eo, this.ep, amVar2.eo, amVar2.ep);
                        float f36 = this.aA + amVar2.cj;
                        if (fA3 < f36 * f36) {
                            z7 = true;
                            amVar = amVar2;
                        }
                    }
                }
            }
            if (this.at) {
                lVarB.bL.a(this.eo, this.ep);
                if (lVarB.bU.a(ao.HOVER, lVarB.bL.T, lVarB.bL.U)) {
                    z7 = true;
                    z8 = true;
                }
            }
            if (this.aC) {
            }
            if (this.aY && (((this.aH && z5 && this.eq < 30.0f) || z7) && this.j != null)) {
                this.aY = false;
                com.corrodinggames.rts.game.units.u uVar = new com.corrodinggames.rts.game.units.u(false);
                uVar.eo = this.eo;
                uVar.ep = this.ep;
                uVar.b(this.j.bX);
                uVar.f389a = 15;
                uVar.b = 360.0f;
                n.c(uVar);
            }
            if (z7) {
                this.bn = true;
                this.aV = this.eo;
                this.aW = this.ep;
                this.aX = this.eq;
                if (this.A) {
                    if (this.aC) {
                        this.aV = this.n;
                        this.aW = this.o;
                        this.aX = 0.0f;
                    }
                    if (this.l != null) {
                        this.aV = this.l.eo + this.K;
                        this.aW = this.l.ep + this.L;
                        this.aX = this.l.eq;
                    }
                }
                if (!this.B && !this.M && !gVar.X) {
                    this.S = false;
                }
                boolean z9 = false;
                if (this.l != null) {
                    z9 = this.l.cx > 10.0f;
                }
                z zVar = gVar.aX;
                if (z9) {
                    zVar = gVar.aY;
                }
                if (this.l != null && (zVarA = gVar.a(this.l)) != null) {
                    zVar = zVarA;
                }
                if (zVar != null) {
                    zVar.a(this.aV, this.aW, this.aX, this.aT, this.l);
                }
                if (gVar.aj != null) {
                    gVar.aj.a(this.eo, this.ep, this.eq, this.az, this.j, null, false, this.aD + 1, this, this.l);
                }
                if (gVar.aZ != null && this.j != null) {
                    gVar.aZ.a(this.aV, this.aW, 0.0f, this.az, this.j.bX, false, this.j);
                }
                if (gVar.ba > 0 && this.j != null && (this.j instanceof com.corrodinggames.rts.game.units.custom.j)) {
                    com.corrodinggames.rts.game.units.custom.j jVar = (com.corrodinggames.rts.game.units.custom.j) this.j;
                    for (int i2 = 0; i2 < gVar.ba; i2++) {
                        if (jVar.B != null && jVar.B.size() > 0) {
                            am amVar3 = (am) jVar.B.remove(jVar.B.size() - 1);
                            com.corrodinggames.rts.gameFramework.utility.y.a(amVar3, jVar);
                            amVar3.eo = this.aV;
                            amVar3.ep = this.aW;
                            amVar3.cg = this.az;
                            amVar3.cd = 0.0f;
                            amVar3.cc = 0.0f;
                            amVar3.bZ = 0.0f;
                            amVar3.ca = 0.0f;
                            if (amVar3 instanceof y) {
                                y yVar2 = (y) amVar3;
                                yVar2.az();
                                yVar2.j(amVar3.cg);
                                if (amVar3 instanceof com.corrodinggames.rts.game.units.custom.j) {
                                    ((com.corrodinggames.rts.game.units.custom.j) amVar3).dF();
                                }
                            }
                            jVar.D(amVar3);
                        }
                    }
                }
                if (gVar.bb && this.j != null) {
                    this.j.f(this.aV, this.aW);
                }
                if (!z8 && amVar != null) {
                    if (this.E) {
                        this.bn = false;
                        float fE = (this.U / 60.0f) * f2 * e();
                        if (this.Z == 0.0f) {
                            a(amVar);
                        }
                        a(this.j, amVar, gVar.a(amVar, fE, true), this, false);
                    } else {
                        if (this.Z == 0.0f) {
                            a(amVar);
                        }
                        a(this.j, amVar, gVar.a(amVar, this.U, false), this, false);
                    }
                }
                if (this.q != null) {
                    if (gVar.d) {
                        this.q.h = 0.0f;
                    } else {
                        this.q.b();
                    }
                    a();
                }
                if (!this.E) {
                    boolean z10 = true;
                    if (this.l != null && this.l.cx > 10.0f) {
                        z10 = false;
                        if (gVar.aY == null && (eVarD2 = lVarB.bR.d(this.aV, this.aW, this.aX, -1127220)) != null) {
                            eVarD2.V = 10.0f;
                            eVarD2.F = 0.5f;
                            if (this.aQ) {
                                eVarD2.V = 25.0f;
                                eVarD2.F = 1.0f;
                            }
                            eVarD2.ar = (short) 2;
                            eVarD2.W = eVarD2.V;
                        }
                    }
                    if (this.G) {
                        z10 = false;
                        com.corrodinggames.rts.gameFramework.d.f.b(this.eo, this.ep).f472a = 21.0f;
                    }
                    if (z10) {
                        if (!this.aQ) {
                            if (gVar.aX == null) {
                                lVarB.bR.c(this.aV, this.aW, this.aX);
                            }
                        } else if (gVar.aX == null) {
                            if (this.Z > 10.0f && (eVarD = lVarB.bR.d(this.aV, this.aW, this.aX, 0)) != null) {
                                eVarD.F = this.Z / 25.0f;
                                eVarD.E = 0.7f;
                                if (this.aX > 5.0f) {
                                    eVarD.ar = (short) 2;
                                }
                            }
                            lVarB.bR.b(this.aV, this.aW, this.aX);
                            if (this.aR && !this.D) {
                                lVarB.bM.a(com.corrodinggames.rts.gameFramework.a.e.n, 0.5f, 1.0f + com.corrodinggames.rts.gameFramework.f.c(-0.06f, 0.06f), this.aV, this.aW);
                            }
                        }
                        if (this.D && gVar.aX == null) {
                            lVarB.bM.a(com.corrodinggames.rts.gameFramework.a.e.C, 1.6f, 0.7f, this.aV, this.aW);
                            lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                            com.corrodinggames.rts.gameFramework.d.e eVarA = lVarB.bR.a(this.aV, this.aW, this.eq, Color.a(255, 255, 255, 255));
                            if (eVarA != null) {
                                eVarA.G = 14.0f;
                                eVarA.F = 8.0f;
                                eVarA.E = 0.9f;
                                eVarA.V = 35.0f;
                                eVarA.W = eVarA.V;
                                eVarA.r = true;
                            }
                            lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                            com.corrodinggames.rts.gameFramework.d.e eVarC = lVarB.bR.c(this.aV, this.aW, this.aX, -1127220);
                            if (eVarC != null) {
                                eVarC.G = 1.5f;
                                eVarC.F = 3.0f;
                                eVarC.ar = (short) 2;
                                eVarC.V = 20.0f;
                                eVarC.W = eVarC.V;
                                eVarC.U = 0.0f;
                            }
                            lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                            com.corrodinggames.rts.gameFramework.d.e eVarC2 = lVarB.bR.c(this.aV, this.aW, this.aX, -1127220);
                            if (eVarC2 != null) {
                                eVarC2.G = 0.2f;
                                eVarC2.F = 5.0f;
                                eVarC2.ar = (short) 2;
                                eVarC2.V = 65.0f;
                                eVarC2.W = eVarC2.V;
                                eVarC2.U = 0.0f;
                            }
                            lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                            com.corrodinggames.rts.gameFramework.d.e eVarA2 = lVarB.bR.a(this.aV, this.aW, this.eq, Color.a(255, 255, 255, 255));
                            if (eVarA2 != null) {
                                eVarA2.G = 3.0f;
                                eVarA2.F = 6.0f;
                                eVarA2.E = 0.9f;
                                eVarA2.V = 290.0f;
                                eVarA2.W = eVarA2.V;
                            }
                            lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                            com.corrodinggames.rts.gameFramework.d.e eVarA3 = lVarB.bR.a(this.aV, this.aW, this.eq, Color.a(255, 255, 244, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_DATA_SERVICE));
                            if (eVarA3 != null) {
                                eVarA3.G = 2.0f;
                                eVarA3.F = 6.0f;
                                eVarA3.E = 0.5f;
                                eVarA3.V = 370.0f;
                                eVarA3.W = eVarA3.V;
                                eVarA3.U = 10.0f;
                            }
                            for (int i3 = 0; i3 < 1; i3++) {
                                lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                                com.corrodinggames.rts.gameFramework.d.e eVarA4 = lVarB.bR.a(this.aV, this.aW, this.eq, Color.a(255, 255, 244, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_DATA_SERVICE));
                                if (eVarA4 != null) {
                                    eVarA4.G = 0.2f;
                                    eVarA4.F = 9.0f;
                                    eVarA4.E = 0.7f;
                                    eVarA4.V = 210.0f;
                                    eVarA4.W = eVarA4.V;
                                    eVarA4.U = 20 + (i3 * 110);
                                }
                            }
                            lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                            com.corrodinggames.rts.gameFramework.d.e eVarA5 = lVarB.bR.a(this.aV, this.aW, this.eq, Color.a(255, 255, 255, 255));
                            if (eVarA5 != null) {
                                eVarA5.G = 3.0f;
                                eVarA5.F = 4.0f;
                                eVarA5.E = 0.2f;
                                eVarA5.V = 870.0f;
                                eVarA5.W = eVarA5.V;
                                eVarA5.r = true;
                                eVarA5.U = 70.0f;
                            }
                            lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                            com.corrodinggames.rts.gameFramework.d.e eVarA6 = lVarB.bR.a(this.aV, this.aW, this.eq, Color.a(255, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_3D_MODE, 255, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_SATELLITE_CS));
                            if (eVarA6 != null) {
                                eVarA6.G = 4.0f;
                                eVarA6.F = 1.0f;
                                eVarA6.E = 0.9f;
                                eVarA6.V = 320.0f;
                                eVarA6.W = eVarA6.V;
                            }
                            lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                            com.corrodinggames.rts.gameFramework.d.e eVarA7 = lVarB.bR.a(this.aV, this.aW, this.eq, Color.a(255, 255, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_ANTENNA_CABLE, 129));
                            if (eVarA7 != null) {
                                eVarA7.G = 2.0f;
                                eVarA7.F = 1.0f;
                                eVarA7.E = 1.0f;
                                eVarA7.V = 340.0f;
                                eVarA7.W = eVarA7.V;
                                eVarA7.s = true;
                                eVarA7.t = 20.0f;
                            }
                            lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                            com.corrodinggames.rts.gameFramework.d.e eVarA8 = lVarB.bR.a(this.aV, this.aW, this.eq, Color.a(245, 255, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_AVR_INPUT, 110));
                            if (eVarA8 != null) {
                                eVarA8.G = 1.5f;
                                eVarA8.F = 1.5f;
                                eVarA8.E = 0.3f;
                                eVarA8.V = 1340.0f;
                                eVarA8.W = eVarA8.V;
                                eVarA8.s = true;
                                eVarA8.t = 40.0f;
                                eVarA8.U = 140.0f;
                            }
                            for (int i4 = 0; i4 < 4; i4++) {
                                lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                                com.corrodinggames.rts.gameFramework.d.e eVarA9 = lVarB.bR.a(this.aV, this.aW, this.eq, Color.a(SlickToAndroidKeycodes.AndroidCodes.KEYCODE_PAIRING, 255, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_ANTENNA_CABLE, 129));
                                if (eVarA9 != null) {
                                    eVarA9.G = 1.5f;
                                    eVarA9.F = 1.4f;
                                    eVarA9.E = 1.3f;
                                    eVarA9.V = 340.0f;
                                    eVarA9.W = eVarA9.V;
                                    eVarA9.Q = -0.29f;
                                    eVarA9.s = true;
                                    eVarA9.t = 50.0f;
                                    eVarA9.U = 30 + (i4 * 40);
                                }
                            }
                            for (int i5 = 0; i5 < 2; i5++) {
                                lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                                com.corrodinggames.rts.gameFramework.d.e eVarA10 = lVarB.bR.a(this.aV, this.aW, this.eq, Color.a(SlickToAndroidKeycodes.AndroidCodes.KEYCODE_PROG_YELLOW, 255, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_ANTENNA_CABLE, 129));
                                if (eVarA10 != null) {
                                    eVarA10.G = 1.3f;
                                    eVarA10.F = 1.0f;
                                    eVarA10.E = 1.0f;
                                    eVarA10.V = 340.0f;
                                    eVarA10.W = eVarA10.V;
                                    eVarA10.Q = -0.14f;
                                    eVarA10.s = true;
                                    eVarA10.t = 50.0f;
                                    eVarA10.U = 70 + (i5 * 70);
                                }
                            }
                            for (int i6 = 0; i6 < 4; i6++) {
                                lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                                com.corrodinggames.rts.gameFramework.d.e eVarA11 = lVarB.bR.a(this.aV, this.aW - 30.0f, this.eq, -16711936);
                                if (eVarA11 != null) {
                                    eVarA11.G = 1.5f;
                                    eVarA11.F = 2.6f;
                                    eVarA11.E = 1.3f;
                                    eVarA11.V = 510.0f;
                                    eVarA11.W = eVarA11.V;
                                    eVarA11.Q = -0.2f;
                                    eVarA11.s = true;
                                    eVarA11.t = 50.0f;
                                    eVarA11.B = null;
                                    eVarA11.x = Color.a(175, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_TERRESTRIAL_ANALOG, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_TERRESTRIAL_ANALOG, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_TERRESTRIAL_ANALOG);
                                    eVarA11.U = 20 + (i6 * 40);
                                }
                            }
                            for (int i7 = 0; i7 < 2; i7++) {
                                lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                                com.corrodinggames.rts.gameFramework.d.e eVarA12 = lVarB.bR.a(this.aV, this.aW - 30.0f, this.eq, -16711936);
                                if (eVarA12 != null) {
                                    eVarA12.G = 1.5f;
                                    eVarA12.F = 3.8f;
                                    eVarA12.E = 0.8f;
                                    eVarA12.V = 590.0f;
                                    eVarA12.W = eVarA12.V;
                                    eVarA12.Q = -0.2f;
                                    eVarA12.s = true;
                                    eVarA12.t = 50.0f;
                                    eVarA12.B = null;
                                    eVarA12.x = Color.a(105, 115, 115, 115);
                                    eVarA12.U = 20 + (i7 * 40);
                                }
                            }
                            for (int i8 = 0; i8 < 1; i8++) {
                                com.corrodinggames.rts.gameFramework.d.f fVarA = com.corrodinggames.rts.gameFramework.d.f.a(this.aV + com.corrodinggames.rts.gameFramework.f.a(-10.0f, 10.0f, (int) this.eh), this.aW + com.corrodinggames.rts.gameFramework.f.a(-10.0f, 10.0f, ((int) this.eh) + i8));
                                if (fVarA != null) {
                                    fVarA.t = 200 + (i8 * 70);
                                    fVarA.f472a = 980 + (i8 * 800);
                                }
                            }
                            if (!com.corrodinggames.rts.gameFramework.utility.y.d(this.aV, this.aW)) {
                                l.a(this.aV, this.aW, m.nuke);
                            }
                            if (com.corrodinggames.rts.gameFramework.l.aB()) {
                                if (lVarB.bR.m == null) {
                                    lVarB.bR.m = lVarB.bO.a(R.drawable.shockwave_normal_256, true);
                                }
                                lVarB.bR.b(com.corrodinggames.rts.gameFramework.d.h.critical);
                                com.corrodinggames.rts.gameFramework.d.e eVarA13 = lVarB.bR.a(this.aV, this.aW, this.eq, -1);
                                if (eVarA13 != null && lVarB.bR.m != null) {
                                    eVarA13.f471a = new ay((com.corrodinggames.rts.game.units.custom.az) null);
                                    eVarA13.f471a.imageStrip = new com.corrodinggames.rts.gameFramework.d.g();
                                    eVarA13.f471a.imageStrip.k = true;
                                    eVarA13.f471a.imageStrip.i = lVarB.bR.m;
                                    eVarA13.f471a.imageStrip.b = eVarA13.f471a.imageStrip.i.m();
                                    eVarA13.f471a.imageStrip.c = eVarA13.f471a.imageStrip.i.l();
                                    eVarA13.ar = (short) 3;
                                    eVarA13.G = 0.5f;
                                    eVarA13.F = 3.5f;
                                    eVarA13.E = 0.5f;
                                    eVarA13.V = 60.0f;
                                    eVarA13.W = eVarA13.V;
                                    eVarA13.Q = -0.2f;
                                    eVarA13.s = true;
                                    eVarA13.t = 1.0f;
                                    eVarA13.B = null;
                                    eVarA13.U = 0.0f;
                                }
                            }
                        }
                    }
                }
            }
        }
        if (this.bn && !this.V) {
            this.W = com.corrodinggames.rts.gameFramework.f.a(this.W, f2);
            if (this.ao) {
                b(1.0f - (this.W / this.X));
            }
            if (this.W == 0.0f) {
                this.V = true;
                b(1.0f);
                if (!this.B && !this.M && !gVar.X) {
                    a();
                }
            }
        }
        this.J += f2;
        if (this.h == 0.0f && (!this.bn || this.V)) {
            if (gVar.ak != null) {
                gVar.ak.a(this.eo, this.ep, this.eq, this.az, this.j, null, false, this.aD + 1, this, null);
            }
            a();
        }
        if (!this.aU) {
            this.aT = f29;
            this.aU = true;
        }
        this.aT += com.corrodinggames.rts.gameFramework.f.c(this.aT, f29, 12.0f * f2);
    }

    public void b(float f2) {
        boolean z = false;
        if (this.g.f) {
            return;
        }
        if (this.g.e) {
            z = true;
        }
        if (!z) {
            if (this.Y != 0.0f && this.Z > 0.0f) {
                z = true;
            }
            if ((this.ag != 0.0f || this.ah != 0.0f) && this.Z > 0.0f) {
                z = true;
            }
        }
        if (!z) {
            return;
        }
        float f3 = this.Z * f2;
        float f4 = f3;
        if (this.g.h) {
            f4 += 150.0f;
        }
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        bi.clear();
        lVarB.cc.b(this.aV, this.aW, f4, bi);
        am[] amVarArrA = bi.a();
        int size = bi.size();
        for (int i = 0; i < size; i++) {
            b(amVarArrA[i], f2, f3);
        }
        bi.clear();
    }

    public void b(am amVar, float f2, float f3) {
        if (amVar.cN != null) {
            return;
        }
        if (this.ap != null && this.ap.contains(amVar)) {
            return;
        }
        if (this.j != null) {
            n nVar = this.j.bX;
            n nVar2 = amVar.bX;
            if (nVar2 != nVar && nVar.d(nVar2)) {
                return;
            }
            if (this.aa && !nVar.c(nVar2)) {
                return;
            }
            if (this.ab && nVar.c(nVar2)) {
                return;
            }
        }
        if (amVar.eq < -5.0f && this.aX >= -2.0f && !this.ac) {
            return;
        }
        if (this.ae) {
            if (amVar.i() != (this.aX >= 5.0f)) {
                return;
            }
        } else if (!this.ad && amVar.i()) {
            return;
        }
        float fA = com.corrodinggames.rts.gameFramework.f.a(this.aV, this.aW, amVar.eo, amVar.ep);
        if (fA > f3 * f3 && !this.g.h) {
            return;
        }
        float fSqrt = (float) StrictMath.sqrt(fA);
        if (this.g.h) {
            fSqrt -= amVar.cj;
            if (fSqrt < 0.0f) {
                fSqrt = 0.0f;
            }
        }
        if (fSqrt > f3 || fSqrt < this.g.j) {
            return;
        }
        a(f2, amVar, fSqrt);
    }

    public void a(float f2, am amVar, float f3) {
        float f4 = (float) ((1.0f - (f3 / this.Z)) + 0.1d);
        if (f4 > 1.0f) {
            f4 = 1.0f;
        }
        if (this.g.g) {
            f4 = 1.0f;
        }
        float f5 = f4 * this.Y;
        a(amVar);
        a(this.j, amVar, this.g.a(amVar, f5, true), this, true);
        if (this.ao) {
            if (this.ap == null) {
                this.ap = new com.corrodinggames.rts.gameFramework.utility.m();
            }
            this.ap.add(amVar);
        }
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public boolean a(com.corrodinggames.rts.gameFramework.l lVar) {
        if (lVar.cO.b(this.eo, this.ep)) {
            return true;
        }
        if ((this.B || this.E || this.g.X) && this.l != null && lVar.cO.b(this.l.eo, this.l.ep)) {
            return true;
        }
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public boolean c(float f2) {
        float f3;
        float f4;
        float f5;
        if (!this.S || this.i > 0.0f) {
            return false;
        }
        g gVar = this.g;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        com.corrodinggames.rts.gameFramework.m.y yVar = lVarB.bO;
        float f6 = this.eo - lVarB.cw;
        float f7 = this.ep - lVarB.cx;
        if (this.l != null) {
            f3 = this.l.eo;
            f4 = this.l.ep;
            f5 = this.l.eq;
        } else {
            f3 = this.n;
            f4 = this.o;
            f5 = this.p;
        }
        if (!this.aZ && !this.D) {
            boolean z = false;
            if (this.A) {
                if (this.l != null) {
                    if (!lVarB.bL.a(this.l.eo, this.l.ep, lVarB.bs)) {
                        z = true;
                    }
                } else if (this.m && !lVarB.bL.a(this.n, this.o, lVarB.bs)) {
                    z = true;
                }
            }
            if (!lVarB.bL.a(this.eo, this.ep, lVarB.bs) && !z) {
                return false;
            }
            this.aZ = true;
        }
        if (this.E || gVar.X) {
            if (gVar.Y != null) {
                Paint paintF = f();
                float f8 = 0.0f;
                if (gVar.ad != 0.0f) {
                    f8 = 0.0f + (gVar.ad * this.J);
                }
                float f9 = this.eo - lVarB.cw;
                float f10 = (this.ep - lVarB.cx) - this.eq;
                float f11 = (f3 - lVarB.cw) + this.K;
                float f12 = ((f4 - f5) - lVarB.cx) + this.L;
                float f13 = (f11 + f9) * 0.5f;
                float f14 = (f12 + f10) * 0.5f;
                float fB = com.corrodinggames.rts.gameFramework.f.b(f13, f14, f11, f12);
                float fD = com.corrodinggames.rts.gameFramework.f.d(f13, f14, f11, f12);
                yVar.k();
                f.a(f13 - gVar.Y.r, f14 - fB, f13 + gVar.Y.r, f14 + fB);
                yVar.a(fD + 90.0f, f13, f14);
                yVar.a(gVar.Y, f, paintF, 0.0f, f8, 0, 0);
                yVar.l();
                if (gVar.Z != null) {
                    if (gVar.aa) {
                        yVar.k();
                        yVar.a(fD + 90.0f, f9, f10);
                        yVar.a(gVar.Z, f9, f10, paintF);
                        yVar.l();
                    } else {
                        yVar.a(gVar.Z, f9, f10, paintF);
                    }
                }
                if (gVar.ab != null) {
                    if (gVar.ac) {
                        yVar.k();
                        yVar.a(fD + 90.0f, f11, f12);
                        yVar.a(gVar.ab, f11, f12, paintF);
                        yVar.l();
                        return true;
                    }
                    yVar.a(gVar.ab, f11, f12, paintF);
                    return true;
                }
                return true;
            }
            bf.c((int) (60.0f + (e() * 60.0f)));
            float f15 = (f3 - lVarB.cw) + this.K;
            float f16 = ((f4 - f5) - lVarB.cx) + this.L;
            bf.a(6.0f);
            yVar.a(this.eo - lVarB.cw, (this.ep - lVarB.cx) - this.eq, f15, f16, bf);
            bf.a(3.0f);
            yVar.a(this.eo - lVarB.cw, (this.ep - lVarB.cx) - this.eq, f15, f16, bf);
            yVar.a(f15, f16, 8.0f, bf);
            yVar.a(f15, f16, 5.0f, bf);
            return true;
        }
        if (this.B) {
            float f17 = (f3 - lVarB.cw) + this.K;
            float f18 = ((f4 - f5) - lVarB.cx) + this.L;
            bd.b(this.ar);
            be.b(this.ar);
            be.c((int) (be.f() * 0.5f));
            yVar.a(this.eo - lVarB.cw, (this.ep - lVarB.cx) - this.eq, f17, f18, be);
            yVar.a(this.eo - lVarB.cw, (this.ep - lVarB.cx) - this.eq, f17, f18, bd);
            yVar.a(f17, f18, 5.0f, bd);
            return true;
        }
        if (this.M) {
            this.N = com.corrodinggames.rts.gameFramework.f.a(this.N, f2);
            if (this.O == null) {
                this.O = new float[20];
                this.N = 0.0f;
            }
            if (this.N == 0.0f) {
                this.N = 4.0f;
                for (int i = 0; i < this.O.length; i++) {
                    this.O[i] = com.corrodinggames.rts.gameFramework.f.c(-10.0f, 10.0f);
                }
            }
            float f19 = this.eo - lVarB.cw;
            float f20 = (this.ep - lVarB.cx) - this.eq;
            float f21 = f3 - lVarB.cw;
            float f22 = (f4 - f5) - lVarB.cx;
            float fC = com.corrodinggames.rts.gameFramework.f.c(f19, f20, f21, f22);
            int length = this.O.length;
            if (fC < 200.0f) {
                length = com.corrodinggames.rts.gameFramework.f.b(0, length - 5);
            } else if (fC < 100.0f) {
                length = com.corrodinggames.rts.gameFramework.f.b(0, length - 10);
            }
            float f23 = fC / (length - 1);
            float fD2 = com.corrodinggames.rts.gameFramework.f.d(f19, f20, f21, f22);
            float f24 = f19;
            float f25 = f20;
            float fK = com.corrodinggames.rts.gameFramework.f.k(fD2);
            float fJ = com.corrodinggames.rts.gameFramework.f.j(fD2);
            for (int i2 = 0; i2 < length; i2++) {
                float f26 = this.O[i2];
                float f27 = f19 + (fK * i2 * f23);
                float f28 = f20 + (fJ * i2 * f23);
                if (i2 != length - 1) {
                    f27 -= fJ * f26;
                    f28 += fK * f26;
                }
                yVar.a(f24, f25, f27, f28, bg);
                f24 = f27;
                f25 = f28;
            }
            return true;
        }
        if (this.P != -1) {
            com.corrodinggames.rts.gameFramework.m.e eVar = b;
            int i3 = 20;
            int i4 = 20;
            if (this.R == 1) {
                eVar = d;
                i3 = 60;
                i4 = 60;
            } else if (this.R == 2) {
                eVar = c;
                i3 = 20;
                i4 = 20;
            }
            if (gVar.C != null) {
                com.corrodinggames.rts.gameFramework.utility.y.a(gVar.C, f6, f7, 0.0f, this.aT, this.x, bc, gVar.C.p, gVar.C.q, 0);
            } else if (this.Q != -1 && this.z) {
                com.corrodinggames.rts.gameFramework.utility.y.a(eVar, f6, f7, 0.0f, this.aT, this.x, bc, i3, i4, this.Q);
            }
            if (gVar.B != null) {
                eVar = gVar.B;
                i3 = gVar.B.p;
                i4 = gVar.B.q;
            }
            com.corrodinggames.rts.gameFramework.utility.y.a(eVar, f6, f7, this.eq, this.aT, this.x, f(), i3, i4, this.P);
            return true;
        }
        bb.b(this.ar);
        if (this.eq > 0.0f && this.z) {
            yVar.a(f6, f7, this.x, bc);
        }
        yVar.a(f6, f7 - this.eq, this.x, bb);
        if (this.y > 0.0f) {
            bb.c(bb.f() / 3);
            yVar.a(f6, f7 - this.eq, this.y, bb);
            return true;
        }
        return true;
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void a(float f2, boolean z) {
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void d(float f2) {
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void e(float f2) {
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public boolean f(float f2) {
        return false;
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r0v5, types: [android.graphics.Paint] */
    public Paint f() {
        ag agVarA;
        if (this.ar != aq) {
            if (com.corrodinggames.rts.gameFramework.l.at()) {
                agVarA = a(this.ar);
            } else {
                agVarA = bb;
                agVarA.b(this.ar);
            }
        } else {
            agVarA = ba;
        }
        return agVarA;
    }

    public ag a(int i) {
        if (this.bj != null) {
            return this.bj;
        }
        if (bk != null && bl == i) {
            this.bj = bk;
            return this.bj;
        }
        ag agVar = new ag();
        agVar.a(new LightingColorFilter(i, 0));
        agVar.b(i);
        bk = agVar;
        bl = i;
        this.bj = agVar;
        return this.bj;
    }

    public void a(float f2, float f3, com.corrodinggames.rts.game.units.custom.h hVar) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (this.j == null) {
            com.corrodinggames.rts.gameFramework.l.b("Projectile: cannot Retarget: source==null");
            return;
        }
        float fK = this.eo + (com.corrodinggames.rts.gameFramework.f.k(this.az) * f3);
        float fJ = this.ep + (com.corrodinggames.rts.gameFramework.f.j(this.az) * f3);
        float f4 = f2 * f2;
        float f5 = -1.0f;
        y yVar = null;
        am amVarAb = null;
        if (this.j instanceof y) {
            yVar = (y) this.j;
            amVarAb = yVar.ab();
        }
        Iterator it = lVarB.cc.a(fK, fJ, f2).iterator();
        while (it.hasNext()) {
            am amVar = (am) it.next();
            if (this.j.bX != amVar.bX) {
                boolean zB = true;
                if (yVar != null) {
                    zB = yVar.b(amVar, true);
                }
                if (zB && this.k >= 0 && yVar != null && this.k < yVar.bl() && !yVar.a((int) this.k, amVar, true, false)) {
                    zB = false;
                }
                if (hVar != null && !com.corrodinggames.rts.game.units.custom.g.a(hVar, amVar.de())) {
                    zB = false;
                }
                if (zB) {
                    float fA = com.corrodinggames.rts.gameFramework.f.a(fK, fJ, amVar.eo, amVar.ep);
                    boolean z = false;
                    if (f5 == -1.0f || fA < f5) {
                        z = true;
                    }
                    if (amVarAb == amVar) {
                        z = true;
                    }
                    if (z && fA < f4) {
                        f5 = fA;
                        this.l = amVar;
                    }
                }
            }
        }
    }
}


================================================================================
// FILE_PATH: ./game/g.java
================================================================================

package com.corrodinggames.rts.game;

import android.graphics.Color;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.custom.bh;
import com.corrodinggames.rts.game.units.custom.bi;
import com.corrodinggames.rts.game.units.custom.bp;
import com.corrodinggames.rts.game.units.custom.z;
import com.corrodinggames.rts.gameFramework.j.as;
import java.io.IOException;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/g.class */
public class g {

    /* renamed from: a, reason: collision with root package name */
    public static final g f158a = new g();
    public int b;
    public int c;
    public boolean d;
    public boolean e;
    public boolean f;
    public boolean g;
    public boolean h;
    public float u;
    public float v;
    public short y;
    public boolean A;
    public com.corrodinggames.rts.gameFramework.m.e B;
    public com.corrodinggames.rts.gameFramework.m.e C;
    public float D;
    public float E;
    public float F;
    public float G;
    public float H;
    public float Q;
    public float R;
    public float S;
    public boolean T;
    public com.corrodinggames.rts.gameFramework.m.e Y;
    public com.corrodinggames.rts.gameFramework.m.e Z;
    public boolean aa;
    public com.corrodinggames.rts.gameFramework.m.e ab;
    public boolean ac;
    public float ad;
    public z ah;
    public z ai;
    public bi aj;
    public bi ak;
    public bi al;
    public float am;
    public boolean aq;
    public boolean az;
    public com.corrodinggames.rts.game.units.custom.h aD;
    public boolean aI;
    public float aK;
    public float aL;
    public float aM;
    public boolean aN;
    public boolean aO;
    public float aP;
    public float aQ;
    public float aV;
    public z aX;
    public z aY;
    public bp aZ;
    public int ba;
    public boolean bb;
    public boolean bc;
    public com.corrodinggames.rts.game.units.custom.h bd;
    public int i = 35;
    public float j = -1.0f;
    public boolean k = false;
    public boolean l = false;
    public boolean m = false;
    public boolean n = false;
    public float o = 1.0f;
    public boolean p = false;
    public boolean q = false;
    public boolean r = false;
    public boolean s = false;
    public boolean t = false;
    public float w = 5.0f;
    public short x = -1;
    public short z = -1;
    public boolean I = false;
    public boolean J = false;
    public float K = -1.0f;
    public boolean L = false;
    public boolean M = false;
    public boolean N = false;
    public float O = -1.0f;
    public float P = -1.0f;
    public boolean U = false;
    public boolean V = false;
    public boolean W = false;
    public boolean X = false;
    public boolean ae = false;
    public boolean af = false;
    public float ag = 3.0f;
    public float an = 5.0f;
    public int ao = -1;
    public float ap = 0.5f;
    public boolean ar = false;
    public float as = -1.0f;
    public float at = -1.0f;
    public float au = -1.0f;
    public float av = 0.1f;
    public boolean aw = false;
    public float ax = 120.0f;
    public float ay = 15.0f;
    public float aA = 5.0f;
    public float aB = 120.0f;
    public float aC = 15.0f;
    public int aE = Color.a(255, 255, 255, 255);
    public float aF = 1.0f;
    public float aG = 0.0f;
    public float aH = 1.0f;
    public boolean aJ = true;
    public float aR = 1.0f;
    public float aS = 1.0f;
    public float aT = 1.0f;
    public float aU = 1.0f;
    public float aW = -1.0f;
    public com.corrodinggames.rts.gameFramework.utility.m be = null;
    public com.corrodinggames.rts.gameFramework.utility.m bf = null;
    public com.corrodinggames.rts.gameFramework.utility.m bg = null;

    public z a(am amVar) {
        com.corrodinggames.rts.gameFramework.utility.m mVar = this.bg;
        if (mVar != null && mVar.f694a > 0) {
            Iterator it = mVar.iterator();
            while (it.hasNext()) {
                h hVar = (h) it.next();
                if (hVar.a(amVar) && hVar.g != null) {
                    return hVar.g;
                }
            }
            return null;
        }
        return null;
    }

    public float a(am amVar, float f, boolean z) {
        com.corrodinggames.rts.gameFramework.utility.m mVar;
        float f2;
        if (!z) {
            mVar = this.be;
        } else {
            mVar = this.bf;
        }
        if (mVar != null && mVar.f694a > 0) {
            Iterator it = mVar.iterator();
            while (it.hasNext()) {
                h hVar = (h) it.next();
                if (hVar.a(amVar)) {
                    if (!z) {
                        if (hVar.e != null) {
                            hVar.e.h(amVar);
                        }
                        f2 = hVar.c;
                    } else {
                        if (hVar.f != null) {
                            hVar.f.h(amVar);
                        }
                        f2 = hVar.d;
                    }
                    f *= f2;
                }
            }
        }
        return f;
    }

    public static void a(g gVar, as asVar) {
        if (gVar == f158a) {
            asVar.c(0);
        } else if (gVar instanceof bh) {
            asVar.c(1);
            bh.a((bh) gVar, asVar);
        } else {
            com.corrodinggames.rts.gameFramework.l.g("writeOutLink: Unhandled projectile type");
            asVar.c(0);
        }
    }

    public static g a(com.corrodinggames.rts.gameFramework.j.k kVar) throws IOException {
        byte bD = kVar.d();
        if (bD == 0) {
            return f158a;
        }
        if (bD == 1) {
            g gVarB = bh.b(kVar);
            if (gVarB == null) {
                return f158a;
            }
            return gVarB;
        }
        throw new IOException("Unknown projectile type:" + ((int) bD));
    }
}


================================================================================
// FILE_PATH: ./game/r.java
================================================================================

package com.corrodinggames.rts.game;

import com.corrodinggames.rts.game.units.as;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/r.class */
public class r {

    /* renamed from: a, reason: collision with root package name */
    as f170a;
    int b;
}


================================================================================
// FILE_PATH: ./game/k.java
================================================================================

package com.corrodinggames.rts.game;

import android.graphics.Bitmap;
import java.io.File;
import java.io.FileOutputStream;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/k.class */
class k implements Runnable {

    /* renamed from: a, reason: collision with root package name */
    public Bitmap f163a;
    public int b;
    final /* synthetic */ i c;

    @Override // java.lang.Runnable
    public void run() {
        synchronized (this) {
            try {
                FileOutputStream fileOutputStream = new FileOutputStream(new File(this.c.h + "image_" + String.format("%07d", Integer.valueOf(this.b)) + ".jpg"));
                this.f163a.a(Bitmap.CompressFormat.JPEG, 85, fileOutputStream);
                fileOutputStream.close();
            } catch (Exception e) {
                e.printStackTrace();
                this.c.bo = false;
                this.c.a("Error saving jpg, recording has stopped. Is there free space remaining on the SD card?", 1);
            }
        }
    }
}


================================================================================
// FILE_PATH: ./game/u.java
================================================================================

package com.corrodinggames.rts.game;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/u.class */
public class u extends n {
    public u(int i) {
    }

    @Override // com.corrodinggames.rts.game.n
    public void a(float f) {
        super.a(f);
    }
}


================================================================================
// FILE_PATH: ./game/l.java
================================================================================

package com.corrodinggames.rts.game;

import android.graphics.Paint;
import android.graphics.Rect;
import android.graphics.RectF;
import com.corrodinggames.rts.R;
import com.corrodinggames.rts.gameFramework.j.as;
import com.corrodinggames.rts.gameFramework.utility.y;
import com.corrodinggames.rts.gameFramework.w;
import java.io.IOException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/l.class */
public class l extends w {

    /* renamed from: a, reason: collision with root package name */
    int f164a;
    int b;
    m e;
    int f;
    static final Rect h = new Rect();
    static final Rect i = new Rect();
    static final Paint j = y.b();
    static com.corrodinggames.rts.gameFramework.m.e k = null;
    static com.corrodinggames.rts.gameFramework.m.e l = null;
    static com.corrodinggames.rts.gameFramework.m.e m = null;
    static final RectF n = new RectF();
    int c = 50;
    int d = 40;
    int g = -1;

    public static void b() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        k = lVarB.bO.a(R.drawable.scorch_mark, true);
        k.m = true;
        l = lVarB.bO.a(R.drawable.scorch_mark_nuke, true);
        l.m = true;
        m = lVarB.bO.a(R.drawable.blood_mark, true);
        m.m = true;
    }

    public l() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        S(-1);
        this.f = lVarB.by;
    }

    public static void a(float f, float f2) {
        a(f, f2, m.normal);
    }

    public static void a(float f, float f2, m mVar) {
        if (!b(f, f2, mVar)) {
            return;
        }
        l lVar = new l();
        lVar.eo = f;
        lVar.ep = f2;
        if (mVar == m.normal) {
            lVar.f164a = 0;
            lVar.b = com.corrodinggames.rts.gameFramework.f.a(lVar, 0, 3, 0);
        } else {
            lVar.f164a = 2;
        }
        if (lVar.f164a == 2) {
            lVar.c = l.m();
            lVar.d = l.l();
        }
        lVar.e = mVar;
        lVar.d();
    }

    public static void a(com.corrodinggames.rts.game.units.y yVar, int i2) {
        if (!yVar.cJ()) {
            m mVar = i2 == 2 ? m.nuke : m.normal;
            if (!b(yVar.eo, yVar.ep, mVar)) {
                return;
            }
            l lVar = new l();
            lVar.f164a = i2;
            if (lVar.f164a == 2) {
                lVar.c = l.m();
                lVar.d = l.l();
            }
            lVar.eo = yVar.eo;
            lVar.ep = yVar.ep;
            lVar.e = mVar;
            lVar.b = com.corrodinggames.rts.gameFramework.f.a(lVar, 0, 3, 0);
            lVar.d();
        }
    }

    public static boolean b(float f, float f2, m mVar) {
        int i2 = 0;
        int i3 = 0;
        int i4 = 25;
        if (mVar == m.nuke) {
            i4 = 45;
        }
        w[] wVarArrA = w.er.a();
        int size = w.er.size();
        for (int i5 = 0; i5 < size; i5++) {
            w wVar = wVarArrA[i5];
            if (wVar instanceof l) {
                l lVar = (l) wVar;
                if (com.corrodinggames.rts.gameFramework.f.c(lVar.eo - f) < i4 && com.corrodinggames.rts.gameFramework.f.c(lVar.ep - f2) < i4 && lVar.e == mVar) {
                    i2++;
                    if (com.corrodinggames.rts.gameFramework.f.c(lVar.eo - f) < 5 && com.corrodinggames.rts.gameFramework.f.c(lVar.ep - f2) < 5) {
                        i3++;
                    }
                }
            }
        }
        if (i2 >= 3 || i3 >= 1) {
            return false;
        }
        return true;
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public boolean a(com.corrodinggames.rts.gameFramework.l lVar) {
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public boolean f(float f) {
        return false;
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public boolean c(float f) {
        return true;
    }

    public RectF c() {
        n.f48a = this.eo - (this.c * 0.5f);
        n.c = this.eo + (this.c * 0.5f);
        n.b = this.ep - (this.d * 0.5f);
        n.d = this.ep + (this.d * 0.5f);
        return n;
    }

    public void a(com.corrodinggames.rts.gameFramework.m.y yVar, int i2, int i3, float f) {
        int i4 = this.b * this.c;
        com.corrodinggames.rts.gameFramework.m.e eVar = null;
        int i5 = this.c;
        int i6 = this.d;
        if (this.f164a == 0) {
            eVar = k;
        } else if (this.f164a == 1) {
            eVar = m;
        } else if (this.f164a == 2) {
            eVar = l;
        }
        Rect rect = h;
        Rect rect2 = i;
        rect2.f47a = i4;
        rect2.b = 0;
        rect2.c = i4 + i5;
        rect2.d = 0 + i6;
        int i7 = ((int) this.eo) - i2;
        int i8 = i5 >> 1;
        int i9 = i6 >> 1;
        float f2 = i7 - i8;
        float f3 = (((int) this.ep) - i3) - i9;
        rect.f47a = (int) (f2 * f);
        rect.b = (int) (f3 * f);
        rect.c = (int) ((i7 + i8) * f);
        rect.d = (int) ((r0 + i9) * f);
        yVar.b(eVar, rect2, rect, j);
    }

    private void d() {
        com.corrodinggames.rts.gameFramework.l.B().bL.a(this);
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void e(float f) {
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void a(float f, boolean z) {
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void d(float f) {
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void a(float f) {
    }

    @Override // com.corrodinggames.rts.gameFramework.w, com.corrodinggames.rts.gameFramework.bq
    public void a(as asVar) throws IOException {
        asVar.a(this.eo);
        asVar.a(this.ep);
        asVar.a(this.f164a);
        asVar.a(this.b);
        asVar.a(this.c);
        asVar.a(this.d);
        asVar.a(this.e);
        asVar.a(this.f);
        super.a(asVar);
    }

    @Override // com.corrodinggames.rts.gameFramework.w
    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        this.eo = kVar.g();
        this.ep = kVar.g();
        this.f164a = kVar.f();
        this.b = kVar.f();
        this.c = kVar.f();
        this.d = kVar.f();
        if (kVar.b() >= 87) {
            this.e = (m) kVar.b(m.class);
            this.f = kVar.f();
        } else {
            this.e = this.f164a == 2 ? m.nuke : m.normal;
            if (this.f164a == 2) {
                this.c = l.m();
                this.d = l.l();
            }
        }
        super.a(kVar);
    }
}


================================================================================
// FILE_PATH: ./game/m.java
================================================================================

package com.corrodinggames.rts.game;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/m.class */
public enum m {
    normal,
    nuke
}


================================================================================
// FILE_PATH: ./game/a.java
================================================================================

package com.corrodinggames.rts.game;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a.class */
public abstract class a {

    /* renamed from: a, reason: collision with root package name */
    int f119a = 0;
    boolean b = false;
    boolean c = false;
    boolean d = false;
}


================================================================================
// FILE_PATH: ./game/t.java
================================================================================

package com.corrodinggames.rts.game;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/t.class */
public class t {

    /* renamed from: a, reason: collision with root package name */
    public static final p[] f172a = new p[0];
    p[] b = f172a;
    int c = 0;

    public boolean a(p pVar) {
        p[] pVarArr = this.b;
        int i = this.c;
        if (i == pVarArr.length) {
            p[] pVarArr2 = new p[i + (i < 6 ? 12 : i >> 1)];
            System.arraycopy(pVarArr, 0, pVarArr2, 0, i);
            pVarArr = pVarArr2;
            this.b = pVarArr2;
        }
        pVarArr[i] = pVar;
        this.c = i + 1;
        return true;
    }
}


================================================================================
// FILE_PATH: ./game/a/b.java
================================================================================

package com.corrodinggames.rts.game.a;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/b.class */
enum b {
    include,
    exclude
}


================================================================================
// FILE_PATH: ./game/a/n.java
================================================================================

package com.corrodinggames.rts.game.a;

import android.graphics.PointF;
import com.corrodinggames.rts.game.units.ak;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ao;
import com.corrodinggames.rts.game.units.y;
import com.corrodinggames.rts.gameFramework.j.as;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/n.class */
public class n extends h {

    /* renamed from: a, reason: collision with root package name */
    boolean f144a;
    int b;
    int c;
    i d;
    float e;
    float f;
    float g;
    float h;
    float i;
    float j;
    float k;
    int l;
    h m;
    y n;
    float o;
    boolean p;
    boolean q;
    float r;
    float s;

    @Override // com.corrodinggames.rts.game.a.o, com.corrodinggames.rts.gameFramework.bq
    public void a(as asVar) throws IOException {
        asVar.a(this.f144a);
        asVar.a(this.b);
        asVar.a(this.c);
        asVar.a(this.F.size());
        Iterator it = this.F.iterator();
        while (it.hasNext()) {
            asVar.a((y) it.next());
        }
        asVar.c(5);
        asVar.a(this.R.a(this.m));
        asVar.a(this.q);
        asVar.a(this.n);
        asVar.a(this.o);
        asVar.a(this.p);
        asVar.a(this.r);
        asVar.a(this.s);
        super.a(asVar);
    }

    @Override // com.corrodinggames.rts.game.a.o
    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        this.f144a = kVar.e();
        this.b = kVar.f();
        this.c = kVar.f();
        q();
        int iF = kVar.f();
        for (int i = 0; i < iF; i++) {
            y yVarP = kVar.p();
            if (yVarP != null) {
                if (!this.R.g(yVarP)) {
                    com.corrodinggames.rts.gameFramework.l.b("TransporterGroup:readIn: Unit is not transporterUnit");
                } else {
                    a(yVarP);
                }
            }
        }
        byte bD = kVar.d();
        if (bD >= 1) {
            this.m = (h) this.R.m(kVar.f());
        }
        if (bD >= 2) {
            this.q = kVar.e();
        }
        if (bD >= 3) {
            this.n = kVar.p();
        }
        if (bD >= 4) {
            this.o = kVar.g();
            this.p = kVar.e();
        }
        if (bD >= 5) {
            this.r = kVar.g();
            this.s = kVar.g();
        }
        super.a(kVar);
    }

    public n(a aVar) {
        super(aVar);
        this.e = 100.0f;
        this.f = 4000.0f;
        this.g = 100.0f;
        this.o = 0.0f;
        this.p = false;
    }

    public void c() {
        Iterator it = am.bE.iterator();
        while (it.hasNext()) {
            am amVar = (am) it.next();
            if (!amVar.bV && amVar.bX == this.R && this.l > this.F.size() && (amVar instanceof y)) {
                y yVar = (y) amVar;
                if (!yVar.bN && yVar.aB == null && this.R.g(yVar) && this.R.i(yVar)) {
                    a(yVar);
                }
            }
        }
    }

    public boolean d() {
        return this.m != null;
    }

    /* JADX WARN: Multi-variable type inference failed */
    @Override // com.corrodinggames.rts.game.a.h
    public void c(float f) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        this.h += f;
        n();
        if (this.l <= this.F.size()) {
        }
        this.i = com.corrodinggames.rts.gameFramework.f.a(this.i, f);
        this.j = com.corrodinggames.rts.gameFramework.f.a(this.j, f);
        this.k = com.corrodinggames.rts.gameFramework.f.a(this.k, f);
        if (!d() && !this.q && this.l > this.F.size() && this.i == 0.0f) {
            this.i = 300.0f;
            c();
        }
        if (!d() && this.F.size() != 0) {
            if (!d()) {
                this.f = com.corrodinggames.rts.gameFramework.f.a(this.f, f);
                if (this.f == 0.0f) {
                    this.f = 4000.0f;
                    if (this.d != null) {
                        PointF pointFW = this.d.w();
                        this.S = pointFW.f45a;
                        this.T = pointFW.b;
                    }
                }
            }
            if (this.j == 0.0f) {
                this.j = 400.0f;
                com.corrodinggames.rts.gameFramework.e eVarA = lVarB.cf.a(this.R);
                Iterator it = this.F.iterator();
                while (it.hasNext()) {
                    y yVar = (y) it.next();
                    if (c(yVar) > 28900.0f && !yVar.aw()) {
                        eVarA.a(yVar);
                    } else if (((ak) yVar).bB() != 0) {
                        com.corrodinggames.rts.game.units.a.c cVarCp = yVar.cp();
                        com.corrodinggames.rts.gameFramework.e eVarA2 = lVarB.cf.a(this.R);
                        eVarA2.a(yVar);
                        eVarA2.a(cVarCp);
                    }
                }
                eVarA.a(this.S, this.T);
            }
            if (this.m == null) {
                this.g = com.corrodinggames.rts.gameFramework.f.a(this.g, f);
                if (this.g == 0.0f) {
                    this.g = 100.0f;
                    if (com.corrodinggames.rts.gameFramework.f.a(0, 100) < 80) {
                        a(f, true);
                    }
                    if (this.m == null) {
                        a(f, false);
                    }
                }
            }
        }
        if (this.m != null && this.m.V) {
            this.m = null;
        }
        if (!this.q) {
            if (this.m != null) {
                ArrayList arrayList = this.m.G;
                if (this.n != null && (this.n.bV || this.n.cN != null || this.n.cO != null)) {
                    arrayList.remove(this.n);
                    this.n = null;
                }
                if (this.n == null) {
                    Iterator it2 = arrayList.iterator();
                    while (it2.hasNext()) {
                        y yVar2 = (y) it2.next();
                        if (yVar2.cN == null) {
                            Iterator it3 = this.F.iterator();
                            while (true) {
                                if (!it3.hasNext()) {
                                    break;
                                } else if (((y) it3.next()).d((am) yVar2, false)) {
                                    this.n = yVar2;
                                    break;
                                }
                            }
                        }
                    }
                    if (this.n == null) {
                        this.q = true;
                        this.j = 0.0f;
                        this.k = 0.0f;
                        this.r = this.m.S;
                        this.s = this.m.T;
                    }
                }
                if (this.n != null) {
                    if (this.j == 0.0f) {
                        this.j = 400.0f;
                        com.corrodinggames.rts.gameFramework.e eVarA3 = lVarB.cf.a(this.R);
                        Iterator it4 = this.F.iterator();
                        while (it4.hasNext()) {
                            eVarA3.a((y) it4.next());
                        }
                        eVarA3.a(this.n.eo, this.n.ep);
                    }
                    if (this.k == 0.0f) {
                        this.k = 80.0f;
                        Iterator it5 = arrayList.iterator();
                        while (it5.hasNext()) {
                            y yVar3 = (y) it5.next();
                            Iterator it6 = this.F.iterator();
                            while (true) {
                                if (it6.hasNext()) {
                                    y yVar4 = (y) it6.next();
                                    if (yVar4.d((am) yVar3, false) && com.corrodinggames.rts.gameFramework.f.a(yVar4.eo, yVar4.ep, yVar3.eo, yVar3.ep) < 14400.0f) {
                                        com.corrodinggames.rts.gameFramework.e eVarA4 = lVarB.cf.a(this.R);
                                        eVarA4.a(yVar3);
                                        eVarA4.e(yVar4);
                                        break;
                                    }
                                }
                            }
                        }
                        boolean z = false;
                        Iterator it7 = this.F.iterator();
                        while (it7.hasNext()) {
                            if (((y) it7.next()).d((am) this.n, false)) {
                                z = true;
                            }
                        }
                        if (!z) {
                            this.n = null;
                        }
                    }
                }
            }
        } else if (this.m == null) {
            e();
        } else {
            if (this.j == 0.0f) {
                this.j = 400.0f;
                float fC = this.m.S + com.corrodinggames.rts.gameFramework.f.c(-40.0f, 40.0f);
                float fC2 = this.m.T + com.corrodinggames.rts.gameFramework.f.c(-40.0f, 40.0f);
                if (this.o > 600.0f) {
                    fC += com.corrodinggames.rts.gameFramework.f.c(-300.0f, 300.0f);
                    fC2 += com.corrodinggames.rts.gameFramework.f.c(-300.0f, 300.0f);
                }
                if (this.o > 1200.0f) {
                    fC += com.corrodinggames.rts.gameFramework.f.c(-300.0f, 300.0f);
                    fC2 += com.corrodinggames.rts.gameFramework.f.c(-300.0f, 300.0f);
                }
                if (com.corrodinggames.rts.gameFramework.utility.y.a(fC, fC2, ao.LAND)) {
                    fC += com.corrodinggames.rts.gameFramework.f.c(-100.0f, 100.0f);
                    fC2 += com.corrodinggames.rts.gameFramework.f.c(-100.0f, 100.0f);
                }
                if (com.corrodinggames.rts.gameFramework.utility.y.a(fC, fC2, ao.LAND)) {
                    fC += com.corrodinggames.rts.gameFramework.f.c(-200.0f, 200.0f);
                    fC2 += com.corrodinggames.rts.gameFramework.f.c(-200.0f, 200.0f);
                }
                if (com.corrodinggames.rts.gameFramework.utility.y.a(fC, fC2, ao.LAND)) {
                    fC += com.corrodinggames.rts.gameFramework.f.c(-200.0f, 200.0f);
                    fC2 += com.corrodinggames.rts.gameFramework.f.c(-200.0f, 200.0f);
                }
                if (com.corrodinggames.rts.gameFramework.utility.y.a(fC, fC2, ao.LAND)) {
                    this.j = 30.0f;
                } else {
                    this.r = fC;
                    this.s = fC2;
                    com.corrodinggames.rts.gameFramework.e eVarA5 = lVarB.cf.a(this.R);
                    Iterator it8 = this.F.iterator();
                    while (it8.hasNext()) {
                        y yVar5 = (y) it8.next();
                        if (((ak) yVar5).bB() == 0) {
                            com.corrodinggames.rts.gameFramework.e eVarA6 = lVarB.cf.a(this.R);
                            eVarA6.a(yVar5);
                            eVarA6.a(this.S, this.T);
                        } else if (com.corrodinggames.rts.gameFramework.f.a(yVar5.eo, yVar5.ep, this.r, this.s) > 1600.0f) {
                            eVarA5.a(yVar5);
                        }
                    }
                    eVarA5.a(this.r, this.s);
                }
            }
            if (this.k == 0.0f) {
                this.k = 100.0f;
                Iterator it9 = this.F.iterator();
                while (it9.hasNext()) {
                    y yVar6 = (y) it9.next();
                    if (com.corrodinggames.rts.gameFramework.f.a(yVar6.eo, yVar6.ep, this.r, this.s) < 6400.0f) {
                        this.p = true;
                        com.corrodinggames.rts.game.units.a.c cVarCp2 = yVar6.cp();
                        com.corrodinggames.rts.gameFramework.e eVarA7 = lVarB.cf.a(this.R);
                        eVarA7.a(yVar6);
                        eVarA7.a(cVarCp2);
                    }
                }
            }
            if (this.p) {
                this.m.o();
                this.o += f;
            }
            boolean z2 = false;
            Iterator it10 = this.F.iterator();
            while (it10.hasNext()) {
                y yVar7 = (y) it10.next();
                if (!yVar7.bV && ((ak) yVar7).bB() != 0) {
                    z2 = true;
                }
            }
            if (!z2 || this.o > 1700.0f) {
                e();
            }
        }
        if (this.h > 1500.0f && this.F.size() == 0) {
            p();
        }
    }

    public void e() {
        this.q = false;
        this.m = null;
        this.o = 0.0f;
        this.j = 0.0f;
        this.k = 0.0f;
        this.p = false;
        f();
    }

    public void a(float f, boolean z) {
        Iterator it = this.R.bn.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if ((oVar instanceof h) && !(oVar instanceof n) && (!z || (oVar instanceof l))) {
                h hVar = (h) oVar;
                if (hVar.G.size() != 0 && !hVar.m()) {
                    this.m = hVar;
                    this.n = null;
                    return;
                }
            }
        }
    }

    public i a(boolean z) {
        i iVar = null;
        Iterator it = this.R.bn.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if (oVar instanceof i) {
                i iVar2 = (i) oVar;
                if (!iVar2.s || !z) {
                    if (iVar2.b == j.Active) {
                        iVar = iVar2;
                        if (com.corrodinggames.rts.gameFramework.f.c(3) == 0) {
                            return iVar;
                        }
                    } else {
                        continue;
                    }
                }
            }
        }
        return iVar;
    }

    public void f() {
        PointF pointFAm = null;
        if (1 != 0) {
            this.d = a(true);
            if (this.d == null) {
                this.d = a(false);
            }
            if (this.d != null) {
                pointFAm = this.d.w();
            }
        }
        if (pointFAm == null) {
            pointFAm = this.R.am();
            this.d = null;
        }
        this.S = pointFAm.f45a;
        this.T = pointFAm.b;
    }
}


================================================================================
// FILE_PATH: ./game/a/o.java
================================================================================

package com.corrodinggames.rts.game.a;

import android.graphics.PointF;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ao;
import com.corrodinggames.rts.game.units.ar;
import com.corrodinggames.rts.game.units.y;
import com.corrodinggames.rts.gameFramework.bq;
import com.corrodinggames.rts.gameFramework.j.as;
import com.corrodinggames.rts.gameFramework.w;
import java.util.ArrayList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/o.class */
public abstract class o extends bq {
    public int Q;
    protected final a R;
    public float S;
    public float T;
    public float U;
    public boolean V;
    static final ArrayList W = new ArrayList();

    @Override // com.corrodinggames.rts.gameFramework.bq
    public void a(as asVar) {
        asVar.a(this.S);
        asVar.a(this.T);
        asVar.a(this.U);
    }

    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        this.S = kVar.g();
        this.T = kVar.g();
        this.U = kVar.g();
    }

    public o(a aVar) {
        aVar.aI++;
        this.Q = aVar.aI;
        this.R = aVar;
        this.R.bm.add(this);
        this.R.bn.add(this);
    }

    public o(a aVar, float f, float f2) {
        this(aVar);
        this.S = f;
        this.T = f2;
    }

    public void p() {
        this.R.bm.remove(this);
        this.R.bn.remove(this);
        this.V = true;
    }

    public boolean c(float f, float f2) {
        float fA = com.corrodinggames.rts.gameFramework.f.a(this.S, this.T, f, f2);
        float f3 = this.U;
        if (fA < f3 * f3) {
            return true;
        }
        return false;
    }

    public boolean b(am amVar) {
        float fA = com.corrodinggames.rts.gameFramework.f.a(this.S, this.T, amVar.eo, amVar.ep);
        float f = this.U + amVar.cj;
        if (fA < f * f) {
            return true;
        }
        return false;
    }

    public boolean a(am amVar, float f) {
        float fA = com.corrodinggames.rts.gameFramework.f.a(this.S, this.T, amVar.eo, amVar.ep);
        float f2 = this.U + amVar.cj + f;
        if (fA < f2 * f2) {
            return true;
        }
        return false;
    }

    public float c(am amVar) {
        return com.corrodinggames.rts.gameFramework.f.a(this.S, this.T, amVar.eo, amVar.ep);
    }

    public float a(i iVar) {
        return com.corrodinggames.rts.gameFramework.f.a(this.S, this.T, iVar.S, iVar.T);
    }

    public float d(float f, float f2) {
        return com.corrodinggames.rts.gameFramework.f.a(this.S, this.T, f, f2);
    }

    public PointF w() {
        PointF pointF = new PointF();
        float fRandom = (float) (Math.random() * 360.0d);
        float fRandom2 = (float) (Math.random() * this.U);
        pointF.a(this.S + (com.corrodinggames.rts.gameFramework.f.k(fRandom) * fRandom2), this.T + (com.corrodinggames.rts.gameFramework.f.j(fRandom) * fRandom2));
        return pointF;
    }

    public PointF e(com.corrodinggames.rts.game.units.as asVar) {
        int iC;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        PointF pointF = new PointF();
        float f = this.U;
        ao aoVar = ao.LAND;
        w wVarC = null;
        if (asVar == ar.seaFactory) {
            f = 600.0f;
            aoVar = ao.WATER;
        }
        for (int i = 0; i < 15; i++) {
            ar arVar = null;
            boolean z = false;
            boolean z2 = false;
            if (this instanceof i) {
                i iVar = (i) this;
                if (i < 6 && asVar == ar.fabricator) {
                    arVar = ar.fabricator;
                }
                if (arVar != null) {
                    y yVar = null;
                    if (wVarC == null) {
                        wVarC = am.c(asVar);
                    }
                    if (wVarC instanceof y) {
                        yVar = (y) wVarC;
                    }
                    int iC2 = iVar.c(arVar);
                    if (yVar != null && iC2 > 1) {
                        int i2 = -1;
                        int iA = com.corrodinggames.rts.gameFramework.f.a(0, iC2 - 1);
                        am[] amVarArrA = am.bE.a();
                        int size = am.bE.size();
                        for (int i3 = 0; i3 < size; i3++) {
                            am amVar = amVarArrA[i3];
                            if (amVar.bX == this.R && iVar.a(amVar) && amVar.bT() && this.R.i(amVar) && amVar.r() == arVar) {
                                i2++;
                                if (i2 == iA) {
                                    float f2 = amVar.eo;
                                    float f3 = amVar.ep;
                                    float fC = f2;
                                    float fC2 = f3;
                                    if (com.corrodinggames.rts.gameFramework.f.a(0, 1) == 0) {
                                        fC2 += com.corrodinggames.rts.gameFramework.f.c(-150.0f, 150.0f);
                                    } else {
                                        fC += com.corrodinggames.rts.gameFramework.f.c(-150.0f, 150.0f);
                                    }
                                    W.clear();
                                    lVarB.bS.a(yVar, f2, f3, fC, fC2, false, W, (am) null);
                                    if (W.size() > 0) {
                                        PointF pointF2 = (PointF) W.get(0);
                                        pointF.a(pointF2.f45a, pointF2.b);
                                        z = true;
                                    } else {
                                        z2 = true;
                                    }
                                }
                            }
                        }
                    }
                }
            }
            if (!z2) {
                if (!z) {
                    float fRandom = (float) (Math.random() * 360.0d);
                    float fRandom2 = (float) (Math.random() * f);
                    pointF.a(this.S + (com.corrodinggames.rts.gameFramework.f.k(fRandom) * fRandom2), this.T + (com.corrodinggames.rts.gameFramework.f.j(fRandom) * fRandom2));
                }
                lVarB.bL.a(pointF.f45a, pointF.b);
                int i4 = lVarB.bL.T;
                int i5 = lVarB.bL.U;
                if (lVarB.bL.c(i4, i5) && (((iC = com.corrodinggames.rts.gameFramework.utility.y.c(i4, i5, aoVar)) > 5 || iC == 0) && com.corrodinggames.rts.game.units.d.d.a(asVar, pointF.f45a, pointF.b, this.R))) {
                    return pointF;
                }
                if (asVar == ar.seaFactory) {
                    f += 100.0f;
                }
            }
        }
        return null;
    }
}


================================================================================
// FILE_PATH: ./game/a/c.java
================================================================================

package com.corrodinggames.rts.game.a;

import com.corrodinggames.rts.game.units.as;
import com.corrodinggames.rts.game.units.y;
import java.util.HashMap;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/c.class */
public class c {

    /* renamed from: a, reason: collision with root package name */
    HashMap f136a = new HashMap();
    HashMap b = new HashMap();
    HashMap c = new HashMap();

    public Integer a(boolean z, as asVar, boolean z2) {
        if (z) {
            return (Integer) this.c.get(asVar);
        }
        if (!z2) {
            return (Integer) this.b.get(asVar);
        }
        return (Integer) this.f136a.get(asVar);
    }

    public void a(boolean z, as asVar, boolean z2, Integer num) {
        if (z) {
            this.c.put(asVar, num);
        } else if (!z2) {
            this.b.put(asVar, num);
        } else {
            this.f136a.put(asVar, num);
        }
    }

    public void a() {
        this.f136a.clear();
        this.b.clear();
    }

    public void a(as asVar) {
        this.f136a.put(asVar, null);
        this.b.put(asVar, null);
    }

    public void a(y yVar) {
        this.c.put(yVar.dz, null);
    }

    public void b() {
        this.c.clear();
    }
}


================================================================================
// FILE_PATH: ./game/a/h.java
================================================================================

package com.corrodinggames.rts.game.a;

import com.corrodinggames.rts.game.units.y;
import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/h.class */
public abstract class h extends o {
    ArrayList F;
    ArrayList G;

    public abstract void c(float f);

    public int l() {
        return this.F.size();
    }

    public boolean a() {
        return false;
    }

    public boolean b() {
        return false;
    }

    public h(a aVar) {
        super(aVar);
        this.F = new ArrayList();
        this.G = new ArrayList();
    }

    public boolean m() {
        Iterator it = this.R.bm.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if ((oVar instanceof n) && ((n) oVar).m == this) {
                return true;
            }
        }
        return false;
    }

    public void n() {
        Iterator it = this.F.iterator();
        while (it.hasNext()) {
            y yVar = (y) it.next();
            if (yVar == null || yVar.bV) {
                if (yVar != null && yVar.aB == this) {
                    yVar.aB = null;
                }
                if (yVar != null) {
                    this.G.remove(yVar);
                }
                it.remove();
            }
        }
    }

    public void o() {
        Iterator it = this.G.iterator();
        while (it.hasNext()) {
            y yVar = (y) it.next();
            if (yVar == null || yVar.bV || yVar.cN != null || yVar.cO != null) {
                it.remove();
            }
        }
    }

    @Override // com.corrodinggames.rts.game.a.o
    public void p() {
        q();
        this.G.clear();
        super.p();
    }

    protected void a(y yVar) {
        if (yVar.aB != null) {
            yVar.aB.b(yVar);
        }
        if (yVar.bX != null && yVar.bX != this.R) {
            com.corrodinggames.rts.gameFramework.l.g("unit.team:" + yVar.bX.k + ", ai:" + this.R.k);
        }
        this.F.add(yVar);
        yVar.aB = this;
    }

    public void b(y yVar) {
        this.F.remove(yVar);
        this.G.remove(yVar);
        if (yVar.aB == this) {
            yVar.aB = null;
        }
    }

    public void q() {
        Iterator it = this.F.iterator();
        while (it.hasNext()) {
            y yVar = (y) it.next();
            if (yVar != null && yVar.aB == this) {
                yVar.aB = null;
            }
        }
        this.F.clear();
    }

    public void b(float f) {
    }
}


================================================================================
// FILE_PATH: ./game/a/d.java
================================================================================

package com.corrodinggames.rts.game.a;

import com.corrodinggames.rts.game.units.ao;
import com.corrodinggames.rts.game.units.ar;
import com.corrodinggames.rts.game.units.as;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/d.class */
public abstract class d {
    String b;
    public ArrayList c = new ArrayList();

    /* renamed from: a, reason: collision with root package name */
    private ArrayList f137a = new ArrayList();
    final /* synthetic */ a d;

    public abstract boolean a(as asVar);

    public d(a aVar, String str) {
        this.d = aVar;
        this.b = str;
        aVar.bq.add(this);
    }

    public boolean b(as asVar) {
        Iterator it = this.c.iterator();
        while (it.hasNext()) {
            if (((e) it.next()).f138a == asVar) {
                return true;
            }
        }
        return false;
    }

    public float c(as asVar) {
        return 10.0f;
    }

    public ArrayList a() {
        Collections.shuffle(this.f137a);
        return this.f137a;
    }

    public void b() {
        this.c = new ArrayList();
        float f = 0.0f;
        Iterator it = ar.ae.iterator();
        while (it.hasNext()) {
            as asVar = (as) it.next();
            if (a(asVar)) {
                float fC = c(asVar);
                f += fC;
                this.c.add(new e(this, asVar, fC));
            }
        }
        this.f137a = new ArrayList(this.c);
        if (this.c.size() == 0) {
            com.corrodinggames.rts.gameFramework.l.e("AI: rebuildUnitMix: no units in unitMix:" + this.b);
        }
    }

    public as c() {
        return a((ao) null, -1);
    }

    public as a(ao aoVar) {
        return a(aoVar, -1);
    }

    public boolean a(as asVar, ao aoVar) {
        if (aoVar == null) {
            return true;
        }
        ao aoVarO = asVar.o();
        if (aoVarO == ao.OVER_CLIFF) {
            aoVarO = ao.LAND;
        }
        if (aoVarO == ao.OVER_CLIFF_WATER) {
            aoVarO = ao.HOVER;
        }
        if (aoVarO == aoVar) {
            return true;
        }
        return false;
    }

    public as a(ao aoVar, int i) {
        if (this.c.size() == 0) {
            com.corrodinggames.rts.gameFramework.l.e("AI: getRandomUnitType: no units in unitMix:" + this.b);
            return null;
        }
        float f = 0.0f;
        int i2 = 0;
        Iterator it = this.c.iterator();
        while (it.hasNext()) {
            e eVar = (e) it.next();
            if (a(eVar.f138a, aoVar) && (i == -1 || eVar.f138a.c() <= i)) {
                f += eVar.b;
                i2++;
            }
        }
        if (i2 == 0) {
            return null;
        }
        float fC = com.corrodinggames.rts.gameFramework.f.c(0.0f, f);
        float f2 = 0.0f;
        Iterator it2 = this.c.iterator();
        while (it2.hasNext()) {
            e eVar2 = (e) it2.next();
            if (a(eVar2.f138a, aoVar) && (i == -1 || eVar2.f138a.c() <= i)) {
                f2 += eVar2.b;
                if (f2 > fC) {
                    return eVar2.f138a;
                }
            }
        }
        com.corrodinggames.rts.gameFramework.l.e("Did not find getRandomUnit, this should only happen very rarely, name:" + this.b + " unitMix.size:" + this.c.size() + " minPrice:" + i + " movementType:" + aoVar + " totalUnits:" + i2);
        return ((e) this.c.get(this.c.size() - 1)).f138a;
    }
}


================================================================================
// FILE_PATH: ./game/a/e.java
================================================================================

package com.corrodinggames.rts.game.a;

import com.corrodinggames.rts.game.units.as;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/e.class */
public class e {

    /* renamed from: a, reason: collision with root package name */
    public as f138a;
    public float b;
    final /* synthetic */ d c;

    public e(d dVar, as asVar, float f) {
        this.c = dVar;
        this.f138a = asVar;
        this.b = f;
    }
}


================================================================================
// FILE_PATH: ./game/a/i.java
================================================================================

package com.corrodinggames.rts.game.a;

import android.graphics.PointF;
import com.corrodinggames.rts.game.units.a.s;
import com.corrodinggames.rts.game.units.ai;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ao;
import com.corrodinggames.rts.game.units.ar;
import com.corrodinggames.rts.game.units.as;
import com.corrodinggames.rts.game.units.au;
import com.corrodinggames.rts.game.units.av;
import com.corrodinggames.rts.game.units.y;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import com.corrodinggames.rts.gameFramework.utility.u;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/i.class */
public class i extends o {

    /* renamed from: a, reason: collision with root package name */
    float f140a;
    j b;
    k c;
    float d;
    float e;
    float f;
    float g;
    int h;
    float i;
    float j;
    float k;
    float l;
    float m;
    boolean n;
    boolean o;
    com.corrodinggames.rts.gameFramework.utility.m p;
    u q;
    u r;
    boolean s;
    boolean t;
    float u;
    float v;
    PointF w;
    PointF x;
    int y;
    as z;
    com.corrodinggames.rts.game.units.custom.d.b A;
    com.corrodinggames.rts.game.units.custom.d.b B;
    int C;
    int D;
    String E;
    int F;
    int G;
    boolean H;
    int I;
    int J;
    int K;
    int L;
    boolean M;
    ArrayList N;
    as O;
    com.corrodinggames.rts.game.units.custom.d.b P;

    @Override // com.corrodinggames.rts.game.a.o, com.corrodinggames.rts.gameFramework.bq
    public void a(com.corrodinggames.rts.gameFramework.j.as asVar) throws IOException {
        asVar.a(this.b);
        asVar.a(this.c);
        asVar.a(this.d);
        asVar.a(this.e);
        asVar.a(this.f);
        asVar.a(this.g);
        asVar.a(this.i);
        asVar.a(this.j);
        asVar.a(this.k);
        asVar.a(this.l);
        asVar.c(4);
        asVar.a(this.v);
        asVar.a(this.m);
        asVar.a(this.n);
        asVar.a(this.o);
        asVar.a(this.h);
        super.a(asVar);
    }

    @Override // com.corrodinggames.rts.game.a.o
    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        this.b = (j) kVar.b(j.class);
        this.c = (k) kVar.b(k.class);
        this.d = kVar.g();
        this.e = kVar.g();
        this.f = kVar.g();
        this.g = kVar.g();
        this.i = kVar.g();
        this.j = kVar.g();
        this.k = kVar.g();
        this.l = kVar.g();
        byte bD = kVar.d();
        if (bD >= 1) {
            this.v = kVar.g();
        }
        if (bD >= 2) {
            this.m = kVar.g();
        }
        if (bD >= 3) {
            this.n = kVar.e();
            this.o = kVar.e();
        }
        if (bD >= 4) {
            this.h = kVar.f();
        }
        super.a(kVar);
    }

    public i(a aVar, float f, float f2) {
        super(aVar, f, f2);
        this.d = -1.0f;
        this.g = 100.0f;
        this.i = 50.0f;
        this.j = 50.0f;
        this.p = new com.corrodinggames.rts.gameFramework.utility.m();
        this.q = new u();
        this.r = new u();
        this.v = 0.0f;
        this.w = new PointF();
        this.x = new PointF();
        this.H = false;
        this.N = new ArrayList();
    }

    public PointF a() {
        com.corrodinggames.rts.game.b.g gVarE;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        PointF pointF = null;
        int i = (int) (this.U * lVarB.bL.r);
        lVarB.bL.a(this.S, this.T);
        int i2 = lVarB.bL.T;
        int i3 = lVarB.bL.U;
        for (int i4 = i2 - i; i4 <= i2 + i; i4++) {
            for (int i5 = i3 - i; i5 <= i3 + i; i5++) {
                if (lVarB.bL.c(i4, i5) && (gVarE = lVarB.bL.e(i4, i5)) != null && gVarE.i) {
                    am amVarB = com.corrodinggames.rts.game.units.d.d.b(i4, i5);
                    boolean z = false;
                    if (amVarB == null) {
                        z = true;
                    }
                    if (amVarB != null && (amVarB instanceof y) && !((y) amVarB).r().p()) {
                        z = true;
                    }
                    if (z) {
                        lVarB.bL.a(i4, i5);
                        if (pointF == null || com.corrodinggames.rts.gameFramework.f.a(0, 100) < 50) {
                            this.w.a(lVarB.bL.T + lVarB.bL.p, lVarB.bL.U + lVarB.bL.q);
                            pointF = this.w;
                        }
                    }
                }
            }
        }
        return pointF;
    }

    public void a(y yVar) {
        this.q.remove(yVar);
    }

    public void b() {
        this.p.clear();
        this.q.clear();
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i = 0; i < size; i++) {
            am amVar = amVarArrA[i];
            if (amVar.bX == this.R && !amVar.bV && !amVar.u() && a(amVar)) {
                this.q.add(amVar);
                as asVar = amVar.dz;
                if (!this.p.contains(asVar)) {
                    this.p.add(asVar);
                }
            }
        }
    }

    public boolean a(as asVar) {
        if (a(asVar, false, true) != null) {
            return true;
        }
        return false;
    }

    public boolean b(as asVar) {
        if ((com.corrodinggames.rts.gameFramework.l.B().ar && !asVar.C()) || asVar.w()) {
            return false;
        }
        Object[] objArrA = this.p.a();
        int size = this.p.size();
        for (int i = 0; i < size; i++) {
            as asVar2 = (as) objArrA[i];
            am[] amVarArrA = this.q.a();
            int i2 = 0;
            int size2 = this.q.size();
            while (true) {
                if (i2 < size2) {
                    am amVar = amVarArrA[i2];
                    if (amVar.r() != asVar2 || !(amVar instanceof y)) {
                        i2++;
                    } else if (((y) amVar).b(asVar, true)) {
                        return true;
                    }
                }
            }
        }
        return false;
    }

    public as c() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (this.R.aY) {
            return null;
        }
        int iA = a(this.R.bC);
        as asVar = null;
        float f = -1.0f;
        Iterator it = ar.ae.iterator();
        while (it.hasNext()) {
            as asVar2 = (as) it.next();
            if (asVar2.j() && b(asVar2)) {
                int iA2 = this.R.a(asVar2, b.include);
                int iC = c(asVar2);
                boolean z = false;
                if (asVar2 instanceof com.corrodinggames.rts.game.units.custom.l) {
                    z = true;
                    com.corrodinggames.rts.game.units.custom.l lVar = (com.corrodinggames.rts.game.units.custom.l) asVar2;
                    if (lVar.fL.size() != 0) {
                        Iterator it2 = lVar.fL.iterator();
                        while (it2.hasNext()) {
                            as asVar3 = (as) it2.next();
                            iA2 += this.R.a(asVar3, b.include);
                            iC += c(asVar3);
                        }
                    }
                }
                float f2 = -2.0f;
                if (asVar2.p() && !z) {
                    int i = iC;
                    if (a() != null && com.corrodinggames.rts.gameFramework.f.a(0, 100) < 90) {
                        if (i == 0) {
                            if (this.R.o < 5000.0d) {
                                f2 = 0.98f;
                            } else {
                                f2 = 0.58f;
                            }
                        }
                        if (i == 1) {
                            f2 = 0.55f;
                        }
                        if (i == 2) {
                            f2 = 0.4f;
                        }
                        if (i >= 3) {
                            f2 = 0.25f / i;
                        }
                        if (iA2 >= 3) {
                            f2 = (float) (f2 * 0.6d);
                        }
                    }
                }
                if (asVar2 == ar.landFactory && (iA2 < 5 || iA == 0)) {
                    if (iA2 == 0) {
                        f2 = 0.8f;
                    } else if (iC < 2) {
                        f2 = 0.46f / (iA2 + (iC * 2));
                    }
                }
                if (asVar2 == ar.seaFactory && this.R.ah() && (iA2 < 5 || iA == 0)) {
                    if (iA2 == 0) {
                        f2 = 0.3f;
                    } else if (iC < 1) {
                        f2 = 0.1f / (iA2 + (iC * 2));
                    }
                }
                if (asVar2 == ar.airFactory && (iA2 < 5 || iA == 0)) {
                    if (iA2 == 0) {
                        f2 = 0.48f;
                    } else if (iC < 2) {
                        f2 = 0.29f / (iA2 + iC);
                    }
                }
                if (asVar2 == ar.turret) {
                    if (iC == 0) {
                        f2 = 0.47f;
                    } else if (iC < 3) {
                        f2 = 0.35f / iC;
                    } else if (iC < 4) {
                        f2 = 0.025f / iC;
                    }
                }
                if (asVar2 == ar.laserDefence && iC == 0) {
                    f2 = 0.018f;
                }
                if (asVar2 == ar.repairbay && iC == 0) {
                    f2 = 0.02f;
                }
                if (asVar2 == ar.antiAirTurret) {
                    if (iC == 0) {
                        f2 = 0.42f;
                    } else if (this.R.ac()) {
                        if (iC < 4) {
                            f2 = 0.3f / iC;
                        }
                    } else if (iC < 3) {
                        f2 = 0.3f / iC;
                    } else if (iC < 4) {
                        f2 = 0.02f / iC;
                    }
                }
                if (asVar2 == ar.fabricator && this.R.o > 2000.0d && iC < 5) {
                    if (iA2 == 0) {
                        f2 = 0.11f;
                    } else {
                        f2 = 0.07f / ((0.2f * iA2) + iC);
                    }
                }
                if (asVar2 == ar.AntiNukeLaucher && ((!lVarB.O() || !lVarB.bX.ay.i) && this.R.o > 2200.0d && iA2 < 4)) {
                    if (iA2 == 0) {
                        f2 = 0.06f;
                    } else if (iC < 1) {
                        f2 = 0.05f / (iA2 + (iC * 2));
                    }
                }
                if (z) {
                    com.corrodinggames.rts.game.units.custom.l lVar2 = (com.corrodinggames.rts.game.units.custom.l) asVar2;
                    if (!lVar2.fw && ((iA2 < lVar2.fx || lVar2.fx == -1) && (iC < lVar2.fy || lVar2.fy == -1))) {
                        f2 = lVar2.fz;
                        if (iC < lVar2.fA) {
                            f2 = lVar2.fB;
                        }
                        if (iC == 0) {
                            f2 += lVar2.fC;
                        }
                        if (iA2 == 0) {
                            f2 += lVar2.fD;
                        }
                        if (asVar2.p() && a() == null) {
                            f2 = -2.0f;
                        }
                    }
                }
                if (this.R.ad() && asVar2 == ar.experimentalLandFactory && this.R.o > 15000.0d) {
                    if (iA2 == 0) {
                        f2 = 0.04f;
                    }
                    if (this.R.o > 55000.0d && iA2 == 1) {
                        f2 = 0.03f;
                    }
                }
                if (f2 >= 0.0f && (f2 > f || com.corrodinggames.rts.gameFramework.f.c(0.0f, 1.0f) < 0.01d)) {
                    f = f2;
                    asVar = asVar2;
                }
            }
        }
        this.f = f;
        return asVar;
    }

    public int a(d dVar) {
        int iC = 0;
        Iterator it = dVar.c.iterator();
        while (it.hasNext()) {
            iC += c(((e) it.next()).f138a);
        }
        return iC;
    }

    public int c(as asVar) {
        int i = 0;
        u uVar = this.q;
        am[] amVarArrA = uVar.a();
        int size = uVar.size();
        for (int i2 = 0; i2 < size; i2++) {
            am amVar = amVarArrA[i2];
            if (amVar.bX == this.R && amVar.dz == asVar && a(amVar)) {
                i++;
            }
        }
        return i;
    }

    public int d() {
        int i = 0;
        u uVar = this.q;
        am[] amVarArrA = uVar.a();
        int size = uVar.size();
        for (int i2 = 0; i2 < size; i2++) {
            am amVar = amVarArrA[i2];
            if (amVar.bX == this.R && (amVar instanceof y)) {
                y yVar = (y) amVar;
                if (a(yVar, false) && !yVar.bM && yVar.aB == null && this.R.h(yVar) && this.R.i(yVar)) {
                    i++;
                }
            }
        }
        return i;
    }

    public int e() {
        return this.K;
    }

    public boolean f() {
        return h() != 0;
    }

    public am g() {
        float f = this.U + 120.0f;
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i = 0; i < size; i++) {
            am amVar = amVarArrA[i];
            if (amVar.eo + f > this.S && amVar.eo - f < this.S && amVar.ep + f > this.T && amVar.ep - f < this.T && amVar.bX != this.R && a(amVar, 120.0f) && amVar.bX.c(this.R) && this.R.j(amVar)) {
                return amVar;
            }
        }
        return null;
    }

    public int h() {
        return a(60.0f);
    }

    public int a(float f) {
        int i = 0;
        float f2 = this.U + f;
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i2 = 0; i2 < size; i2++) {
            am amVar = amVarArrA[i2];
            if (amVar.eo + f2 > this.S && amVar.eo - f2 < this.S && amVar.ep + f2 > this.T && amVar.ep - f2 < this.T && amVar.bX != this.R && a(amVar, f) && amVar.bX.c(this.R) && amVar.l() && this.R.j(amVar)) {
                i++;
            }
        }
        return i;
    }

    public void i() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        am amVarG = g();
        if (amVarG != null) {
            com.corrodinggames.rts.gameFramework.e eVarA = lVarB.cf.a(this.R);
            am[] amVarArrA = am.bE.a();
            int size = am.bE.size();
            for (int i = 0; i < size; i++) {
                am amVar = amVarArrA[i];
                if (amVar instanceof y) {
                    y yVar = (y) amVar;
                    if (amVar.bX == this.R && this.R.b(amVar, amVarG) && this.R.i(yVar) && yVar.aq()) {
                        if (!amVar.bM) {
                            if (a.a(amVar, this.S, this.T, 800.0f)) {
                                eVarA.a(yVar);
                            }
                        } else if (a.a(amVar, this.S, this.T, 540.0f)) {
                            eVarA.a(yVar);
                        }
                    }
                }
            }
            eVarA.a(amVarG);
        }
    }

    public boolean a(am amVar) {
        return a(amVar, false);
    }

    public boolean a(am amVar, boolean z) {
        if ((amVar instanceof y) && ((y) amVar).aC == this) {
            if (!z || b(amVar)) {
                return true;
            }
            return false;
        }
        return false;
    }

    public boolean a(y yVar, boolean z) {
        if (yVar.aC == this) {
            if (!z || b(yVar)) {
                return true;
            }
            return false;
        }
        return false;
    }

    public int j() {
        int i = 0;
        Iterator it = k().iterator();
        while (it.hasNext()) {
            am amVar = (am) it.next();
            if (this.R != amVar.bX && amVar.bX.c(this.R) && (amVar instanceof y) && b(amVar)) {
                i++;
            }
        }
        return i;
    }

    public com.corrodinggames.rts.game.units.f.f k() {
        return com.corrodinggames.rts.gameFramework.l.B().cc.b(this.S, this.T, this.U);
    }

    private y x() {
        return a((as) null, (PointF) null, true);
    }

    private y y() {
        return f(null);
    }

    private y f(as asVar) {
        return a(asVar, (PointF) null, false);
    }

    private y a(as asVar, PointF pointF, boolean z) {
        if (this.K == 0) {
            return null;
        }
        this.y = 0;
        float f = Float.MAX_VALUE;
        y yVar = null;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (asVar != null && ((lVarB.ar && !asVar.C()) || asVar.w())) {
            return null;
        }
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i = 0; i < size; i++) {
            am amVar = amVarArrA[i];
            if (amVar.bX == this.R && a(amVar) && amVar.cN == null && amVar.aj() && (amVar instanceof y) && this.R.i(amVar)) {
                y yVar2 = (y) amVar;
                if (f.a(yVar2) && (!z || yVar2.I())) {
                    this.y++;
                    if (asVar == null || yVar2.b(asVar, true)) {
                        boolean z2 = false;
                        float fA = -1.0f;
                        if (pointF != null) {
                            fA = com.corrodinggames.rts.gameFramework.f.a(pointF.f45a, pointF.b, amVar.eo, amVar.ep);
                        }
                        if (yVar == null) {
                            z2 = true;
                        } else {
                            if (pointF != null && fA < f) {
                                z2 = true;
                            }
                            if (com.corrodinggames.rts.gameFramework.f.c(0.0f, 1.0f) < 0.2d) {
                                z2 = true;
                            }
                        }
                        if (z2) {
                            yVar = (y) amVar;
                            if (pointF != null) {
                                f = fA;
                            }
                        }
                    }
                }
            }
        }
        return yVar;
    }

    /* JADX WARN: Removed duplicated region for block: B:38:0x00d0  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    private com.corrodinggames.rts.game.units.y a(com.corrodinggames.rts.game.units.am r6, android.graphics.PointF r7, boolean r8) {
        /*
            Method dump skipped, instructions count: 310
            To view this dump change 'Code comments level' option to 'DEBUG'
        */
        throw new UnsupportedOperationException("Method not decompiled: com.corrodinggames.rts.game.a.i.a(com.corrodinggames.rts.game.units.am, android.graphics.PointF, boolean):com.corrodinggames.rts.game.units.y");
    }

    private boolean g(as asVar) {
        PointF pointFE;
        y yVarA;
        this.z = asVar;
        this.A = null;
        this.B = null;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (asVar.p()) {
            pointFE = a();
        } else {
            pointFE = e(asVar);
        }
        if (pointFE == null || (yVarA = a(asVar, pointFE, false)) == null) {
            return false;
        }
        if (asVar == ar.seaFactory) {
            int iC = com.corrodinggames.rts.gameFramework.utility.y.c(pointFE.f45a, pointFE.b, ao.WATER);
            this.R.getClass();
            if (iC < 3000) {
                return false;
            }
        }
        int iT = 1;
        s sVarA = yVarA.a(asVar, true);
        if (sVarA != null) {
            iT = sVarA.t();
        } else {
            com.corrodinggames.rts.gameFramework.l.b("buildBuilding: could not find getBuildUnitAction for builder this shouldn't happen:" + asVar.i());
        }
        if (!sVarA.b(yVarA) || !sVarA.a((am) yVarA, false)) {
            if (!this.R.a(sVarA.B(), yVarA)) {
                this.A = sVarA.B();
                this.B = this.A.i(yVarA);
                return true;
            }
            return true;
        }
        if (sVarA.A()) {
            com.corrodinggames.rts.gameFramework.e eVarA = lVarB.cf.a(this.R);
            eVarA.a(yVarA);
            eVarA.a(sVarA.N(), pointFE, (am) null);
            return true;
        }
        com.corrodinggames.rts.gameFramework.e eVarA2 = lVarB.cf.a(this.R);
        eVarA2.a(yVarA);
        eVarA2.a(pointFE.f45a, pointFE.b, asVar, iT);
        return true;
    }

    private boolean z() {
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i = 0; i < size; i++) {
            am amVar = amVarArrA[i];
            if (amVar.bX == this.R && a(amVar) && amVar.bT() && !amVar.u() && (amVar instanceof y) && ((y) amVar).ai()) {
                return true;
            }
        }
        return false;
    }

    public boolean a(com.corrodinggames.rts.game.units.custom.h hVar) {
        com.corrodinggames.rts.game.units.custom.h hVarDe;
        am[] amVarArrA = this.q.a();
        int size = this.q.size();
        for (int i = 0; i < size; i++) {
            am amVar = amVarArrA[i];
            if (amVar.bX == this.R && amVar.bT() && (hVarDe = amVar.de()) != null && com.corrodinggames.rts.game.units.custom.g.a(hVar, hVarDe)) {
                return true;
            }
        }
        return false;
    }

    /* JADX WARN: Multi-variable type inference failed */
    private y a(as asVar, boolean z, boolean z2) {
        am[] amVarArrA = this.q.a();
        int size = this.q.size();
        for (int i = 0; i < size; i++) {
            ai aiVar = amVarArrA[i];
            if (aiVar.bX == this.R && aiVar.bT() && this.R.i(aiVar) && (aiVar instanceof com.corrodinggames.rts.game.units.d.l) && (aiVar instanceof y)) {
                y yVar = (y) aiVar;
                com.corrodinggames.rts.game.units.d.l lVar = (com.corrodinggames.rts.game.units.d.l) aiVar;
                s sVarE = aiVar.e(asVar);
                if (sVarE != null && ((lVar.dy() || !z) && !sVarE.m(aiVar) && sVarE.b(yVar) && sVarE.a((am) yVar, false) && ((!(aiVar instanceof com.corrodinggames.rts.game.units.d.e) || asVar.m() || u() <= 2 || this.s || !z) && (!z2 || yVar.aD)))) {
                    return yVar;
                }
            }
        }
        return null;
    }

    private boolean a(d dVar, boolean z) {
        Iterator it = dVar.a().iterator();
        while (it.hasNext()) {
            if (a(((e) it.next()).f138a, z)) {
                return true;
            }
        }
        return false;
    }

    private boolean a(as asVar, boolean z) {
        return a(asVar, z, 1);
    }

    private boolean a(as asVar, boolean z, int i) {
        if (i < 1) {
            com.corrodinggames.rts.gameFramework.l.b("AI", "buildUnit: quantity cannot be < 1");
            return false;
        }
        y yVarA = a(asVar, true, z);
        if (yVarA == null) {
        }
        if (yVarA == null) {
            return false;
        }
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        s sVarE = yVarA.e(asVar);
        if (sVarE == null) {
            com.corrodinggames.rts.gameFramework.l.b("AI", "buildUnit: action is null!");
            return false;
        }
        if (!sVarE.b(yVarA)) {
            com.corrodinggames.rts.gameFramework.l.b("AI", "buildUnit: isAvailable==false");
            return false;
        }
        if (!sVarE.a((am) yVarA, false)) {
            com.corrodinggames.rts.gameFramework.l.b("AI", "buildUnit: isActive==false");
            return false;
        }
        if (sVarE.g(yVarA)) {
            return false;
        }
        if (sVarE.n_() && lVarB.ar) {
            return false;
        }
        for (int i2 = 0; i2 < i; i2++) {
            com.corrodinggames.rts.gameFramework.e eVarA = lVarB.cf.a(this.R);
            eVarA.a(yVarA);
            eVarA.a(sVarE.z());
        }
        return true;
    }

    i l() {
        i iVar;
        float f = -1.0f;
        i iVar2 = null;
        Iterator it = this.R.bn.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if ((oVar instanceof i) && (iVar = (i) oVar) != this && iVar.e() > 1) {
                float fA = iVar.a(this);
                if (iVar2 == null || fA < f) {
                    f = fA;
                    iVar2 = iVar;
                }
            }
        }
        return iVar2;
    }

    public void m() {
        y yVarX;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        i iVarL = l();
        if (iVarL != null && iVarL.e() > 1 && (yVarX = iVarL.x()) != null) {
            PointF pointFW = w();
            if (com.corrodinggames.rts.gameFramework.utility.y.a(yVarX, pointFW.f45a, pointFW.b)) {
                boolean zA = this.R.a(yVarX, pointFW.f45a, pointFW.b);
                if (zA || this.R.aG != 0) {
                    com.corrodinggames.rts.gameFramework.e eVarA = lVarB.cf.a(this.R);
                    eVarA.a(yVarX);
                    eVarA.a(pointFW.f45a, pointFW.b);
                    this.h++;
                    this.g = com.corrodinggames.rts.gameFramework.f.a(1800, 2500);
                    if (this.h >= 2) {
                        this.g += 11000.0f;
                    }
                    iVarL.K--;
                    if (!zA) {
                        boolean z = true;
                        if (yVarX.aB != null) {
                            if (!yVarX.aB.a()) {
                                yVarX.aB.b(yVarX);
                            } else {
                                z = false;
                                if (!yVarX.aB.G.contains(yVarX)) {
                                    yVarX.aB.G.add(yVarX);
                                }
                            }
                        }
                        if (z) {
                            l lVar = new l(this.R);
                            lVar.c(yVarX);
                            lVar.S = pointFW.f45a;
                            lVar.T = pointFW.b;
                        }
                        this.g = com.corrodinggames.rts.gameFramework.f.a(12000, 14000);
                    }
                }
            }
        }
    }

    private am A() {
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i = 0; i < size; i++) {
            am amVar = amVarArrA[i];
            if (amVar.bX == this.R && a(amVar, true) && amVar.bI() && (amVar.cu < amVar.cv - 1.0f || amVar.cm < 1.0f)) {
                return amVar;
            }
        }
        return null;
    }

    public void n() {
        com.corrodinggames.rts.gameFramework.l.B();
        if (this.r.size() == 0 || this.s) {
            return;
        }
        for (int i = 0; i < 8; i++) {
            as asVarC = this.R.bA.c();
            if (asVarC != null && a(asVarC) && d(asVarC)) {
                return;
            }
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:34:0x00ac  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public boolean d(com.corrodinggames.rts.game.units.as r5) {
        /*
            Method dump skipped, instructions count: 241
            To view this dump change 'Code comments level' option to 'DEBUG'
        */
        throw new UnsupportedOperationException("Method not decompiled: com.corrodinggames.rts.game.a.i.d(com.corrodinggames.rts.game.units.as):boolean");
    }

    public void o() {
        am amVarR;
        if (this.r.size() != 0 && (amVarR = r()) != null) {
            this.x.a(amVarR.eo, amVarR.ep);
            y yVarA = a(amVarR, this.x, true);
            if (yVarA != null) {
                a(yVarA, amVarR);
            }
        }
    }

    public void q() {
        y yVar;
        au auVarAr;
        am amVarI;
        if (this.r.size() != 0 && this.B != null) {
            am[] amVarArrA = this.q.a();
            int size = this.q.size();
            for (int i = 0; i < size; i++) {
                am amVar = amVarArrA[i];
                if (amVar.bX == this.R && a(amVar) && amVar.cN == null && amVar.r().n() && (amVar instanceof y) && this.R.i(amVar) && com.corrodinggames.rts.gameFramework.f.c(0.0f, 1.0f) <= 0.3d && (auVarAr = (yVar = (y) amVar).ar()) != null && auVarAr.d() == av.reclaim && (amVarI = auVarAr.i()) != null && amVarI.g() > 0.0f && !this.B.c(amVarI.cM())) {
                    a(yVar, r());
                    return;
                }
            }
        }
    }

    public am r() {
        am amVar = null;
        for (int i = 0; i < 20; i++) {
            amVar = this.r.get(com.corrodinggames.rts.gameFramework.f.a(0, this.r.size() - 1));
            if (amVar == null || this.B == null || this.B.c(amVar.cM())) {
                break;
            }
        }
        return amVar;
    }

    public void a(y yVar, am amVar) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (yVar.g(amVar, true)) {
            com.corrodinggames.rts.gameFramework.e eVarA = lVarB.cf.a(this.R);
            eVarA.a(yVar);
            eVarA.d(amVar);
        }
    }

    public void s() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        am amVarA = A();
        if (amVarA != null) {
            this.x.a(amVarA.eo, amVarA.ep);
            y yVarA = a((as) null, this.x, true);
            if (yVarA != null && yVarA.a(amVarA) && amVarA.e(yVarA) < 2) {
                com.corrodinggames.rts.gameFramework.e eVarA = lVarB.cf.a(this.R);
                eVarA.a(yVarA);
                eVarA.b(amVarA);
            }
        }
    }

    public void b(float f) {
        c(f);
        int i = this.J;
        int i2 = this.I;
        b();
        this.n = z();
        if (this.n) {
            this.o = true;
        }
        if (i >= 1) {
            s();
        }
        if (this.M && this.I > 0) {
            n();
            q();
            o();
        }
        if (i < 2 && this.i == 0.0f) {
            this.i = 300.0f;
            int iA = this.R.a(this.R.bz, b.include);
            if (!this.s || iA <= 2) {
                boolean z = com.corrodinggames.rts.gameFramework.f.a(0, 100) < 5;
                if (!z && a(this.R.bz, true)) {
                    this.H = false;
                    this.i = 900.0f;
                } else {
                    if (!z) {
                        this.H = true;
                    }
                    if (!this.s && this.v == 0.0f && i < 1 && this.g == 0.0f) {
                        m();
                    }
                }
            }
        }
        int iJ = j();
        if (i == 0 && i2 == 0) {
            this.k += f;
            if (iJ > 2) {
                this.k += 2.0f * f;
            }
            if (iJ > 5) {
                this.k += 4.0f * f;
            }
        } else {
            this.k = com.corrodinggames.rts.gameFramework.f.a(this.k, f);
        }
        if (this.k > 11000.0f) {
            p();
        }
        if (this.b == j.Pre && ((i != 0 && i2 != 0) || (i2 > 5 && iJ == 0))) {
            this.l += f;
            if (this.l > 2000.0f) {
                this.b = j.Active;
            }
        }
        t();
    }

    public void t() {
        if (this.b == null) {
            com.corrodinggames.rts.gameFramework.l.a("fixOverlaps: this.state==null");
            com.corrodinggames.rts.gameFramework.l.a("id:" + this.Q);
            com.corrodinggames.rts.gameFramework.l.a("x:" + this.S);
            com.corrodinggames.rts.gameFramework.l.a("y:" + this.T);
            com.corrodinggames.rts.gameFramework.l.a("radius:" + this.U);
            if (this.R != null) {
                com.corrodinggames.rts.gameFramework.l.a("team:" + this.R.k);
                return;
            }
            return;
        }
        Iterator it = this.R.bm.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if ((oVar instanceof i) && oVar != this) {
                i iVar = (i) oVar;
                if (com.corrodinggames.rts.gameFramework.f.a(this.S, this.T, iVar.S, iVar.T) < 400.0f) {
                    if (iVar.b == null) {
                        com.corrodinggames.rts.gameFramework.l.a("fixOverlaps: targetBase.state==null");
                    } else if (iVar.b.a() < this.b.a()) {
                        iVar.p();
                    } else {
                        p();
                    }
                }
            }
        }
    }

    public int u() {
        return this.I;
    }

    /* JADX WARN: Multi-variable type inference failed */
    public void c(float f) {
        this.I = 0;
        this.J = 0;
        this.L = 0;
        this.K = 0;
        this.M = false;
        this.r.clear();
        if (1 != 0) {
            Iterator it = k().iterator();
            while (it.hasNext()) {
                am amVar = (am) it.next();
                if (amVar.g() > 0.0f && b(amVar)) {
                    this.M = true;
                    this.r.add(amVar);
                }
            }
        }
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i = 0; i < size; i++) {
            ai aiVar = amVarArrA[i];
            if (aiVar.bX == this.R && (aiVar instanceof y)) {
                y yVar = (y) aiVar;
                if (a(yVar, false) && aiVar.bT() && this.R.i(aiVar) && !aiVar.u()) {
                    as asVarR = aiVar.r();
                    if (asVarR.j()) {
                        this.I++;
                    }
                    if (asVarR.m()) {
                        this.J++;
                        if (f.a(yVar)) {
                            this.K++;
                        }
                    }
                    if (asVarR.n()) {
                        this.L++;
                    }
                    if (aiVar instanceof com.corrodinggames.rts.game.units.d.l) {
                        this.J += ((com.corrodinggames.rts.game.units.d.l) aiVar).h(ar.builder);
                    }
                }
            }
        }
    }

    public void d(float f) {
        as asVarC;
        this.s = f();
        this.t = this.s;
        if (this.s) {
            this.v += f;
            this.u = 100.0f;
        } else {
            this.v = 0.0f;
        }
        if (this.v > 6000.0f) {
            this.s = false;
        }
        this.m = com.corrodinggames.rts.gameFramework.f.a(this.m, f);
        this.e = com.corrodinggames.rts.gameFramework.f.a(this.e, f);
        this.g = com.corrodinggames.rts.gameFramework.f.a(this.g, f);
        this.i = com.corrodinggames.rts.gameFramework.f.a(this.i, f);
        this.j = com.corrodinggames.rts.gameFramework.f.a(this.j, f);
        if (this.s && this.j == 0.0f) {
            this.j = 100 + (this.Q % 15);
            if (!this.R.aY) {
                i();
            }
        }
        if (this.e <= 0.0f) {
            this.e = 270 + (this.Q % 15);
            if (this.R.ac()) {
                this.e = SlickToAndroidKeycodes.AndroidCodes.KEYCODE_BUTTON_3 + (this.Q % 15);
            }
            if (this.f < 0.2d) {
                this.e += 180.0f;
            }
            if (this.f < 0.08d) {
                this.e += 180.0f;
            }
            if ((y() != null) && (asVarC = c()) != null && ((this.f > 0.8d || this.R.a(1300.0d)) && ((this.f > 0.4d || this.R.a(1700.0d)) && ((this.f > 0.2d || this.R.a(2100.0d)) && ((this.f > 0.1d || this.R.a(2800.0d)) && ((this.f > 0.05d || this.R.a(3100.0d)) && (this.f > 0.01d || this.R.a(4800.0d)))))))) {
                this.C++;
                if (!g(asVarC)) {
                    this.e -= 120.0f;
                    this.D++;
                }
            }
        }
        float fU = u() / 3.0f;
        if (fU < 1.0f) {
            fU = 1.0f;
        }
        if (this.s) {
            this.d = (float) (this.d + (f * 0.015d));
        }
        if (this.f < 0.6d) {
            if (this.R.bb < 2) {
                this.d = (float) (this.d + (f * 7.0E-4d * fU));
            } else if (this.R.a(1200.0d)) {
                this.d = (float) (this.d + (f * 1.0E-4d * fU));
            }
            if (this.R.a(1600.0d)) {
                this.d = (float) (this.d + (f * 0.001d));
            }
            if (this.R.a(2200.0d)) {
                this.d = (float) (this.d + (f * 0.001d));
            }
            if (this.R.a(2600.0d)) {
                this.d = (float) (this.d + (f * 0.001d));
            }
            if (this.R.a(8000.0d)) {
                this.d = (float) (this.d + (f * 0.005d));
            }
            if (this.R.a(9000.0d)) {
                this.d = (float) (this.d + (f * 0.01d));
            }
            if (this.R.a(10100.0d)) {
                this.d = (float) (this.d + (f * 0.01d));
            }
            if (this.R.a(30000.0d)) {
                this.d = (float) (this.d + (f * 0.05d));
            }
        }
        if (this.R.a(5000.0d)) {
            this.d = (float) (this.d + (f * 0.001d));
        }
        if (!this.R.a(800.0d) && !this.s && this.d > 1.2f) {
            this.d = 1.2f;
        }
        if (this.d > 3.5f) {
            this.d = 3.5f;
        }
        for (int i = 0; i < 12; i++) {
            v();
            if (this.d < 3.0f) {
                return;
            }
        }
    }

    public void a(ArrayList arrayList, d dVar, ao aoVar, int i) {
        this.N.clear();
        for (int i2 = 0; i2 < i; i2++) {
            as asVarA = dVar.a(aoVar);
            if (asVarA != null && !this.N.contains(asVarA)) {
                this.N.add(asVarA);
            }
        }
        arrayList.addAll(this.N);
    }

    public void v() {
        ao aoVar;
        am amVarG;
        int iD = d();
        int i = 12;
        int i2 = 50;
        if (this.R.ac()) {
            i2 = 65;
            i = 16;
        }
        boolean zA = this.R.a(25000.0d);
        ArrayList arrayList = new ArrayList();
        boolean zAi = this.R.ai();
        boolean zAj = this.R.aj();
        float f = 0.4f;
        float f2 = 0.3f;
        if (!this.R.bh) {
            f = 0.1f;
            f2 = 0.5f;
        }
        if (!this.R.bi) {
            f = 0.2f;
            f2 = 0.1f;
        }
        float fC = com.corrodinggames.rts.gameFramework.f.c(0.0f, 1.0f);
        if (fC < f) {
            aoVar = ao.LAND;
        } else if (fC < f + f2) {
            aoVar = ao.HOVER;
        } else {
            aoVar = ao.AIR;
        }
        if ((this.R.a(1300.0d) && this.d >= 1.0f) || (this.R.a(300.0d) && this.d >= 3.0f)) {
            if (this.R.ah() && this.R.bc < i && com.corrodinggames.rts.gameFramework.f.c(100) < 35) {
                a(arrayList, this.R.bu, null, 2);
                if (zA) {
                }
            }
            if (iD < 3 && this.R.ba < i2) {
                if (aoVar == ao.LAND) {
                    a(arrayList, this.R.br, null, 4);
                    if (zA) {
                    }
                } else if (aoVar == ao.HOVER) {
                    a(arrayList, this.R.bs, null, 4);
                    if (zA) {
                    }
                } else {
                    a(arrayList, this.R.bt, null, 4);
                    if (zA) {
                    }
                }
            }
            if (this.d >= 1.0f && zAi && this.m == 0.0f) {
                int iA = this.R.a(this.R.bx, b.include);
                int iA2 = iA + this.R.a(this.R.by, b.include);
                int iAo = this.R.ao();
                if ((this.R.a(1700.0d) || iAo > 10 || (this.R.bl == 0 && iAo >= 1 && iA == 0)) && (iA2 < 3 || (iAo > 20 && iA2 < 5))) {
                    if (zAj && iA2 < 2) {
                        a(arrayList, this.R.bw, null, 2);
                    } else {
                        a(arrayList, this.R.bw, ao.AIR, 2);
                    }
                }
            }
        }
        if (arrayList.size() == 0) {
            this.F++;
        }
        while (arrayList.size() != 0) {
            as asVar = (as) arrayList.remove(arrayList.size() - 1);
            am amVarB = am.b(asVar);
            boolean z = true;
            if (this.s && com.corrodinggames.rts.gameFramework.f.c(100) < 10 && (amVarG = g()) != null && !this.R.b(amVarB, amVarG)) {
                this.F++;
                z = false;
            }
            if (z) {
                if (a(asVar, false)) {
                    this.F++;
                    this.R.bE.a(asVar);
                    this.d -= 1.0f;
                    if (this.R.g(amVarB)) {
                        this.m = 1000.0f;
                        this.R.bl++;
                        return;
                    }
                    return;
                }
                this.G++;
            }
        }
    }

    public void a(y yVar, com.corrodinggames.rts.game.units.custom.d.b bVar, boolean z) {
        this.O = yVar.r();
        if (z) {
            this.P = null;
            this.B = null;
        } else {
            this.P = bVar;
            this.B = bVar.i(yVar);
        }
    }
}


================================================================================
// FILE_PATH: ./game/a/j.java
================================================================================

package com.corrodinggames.rts.game.a;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/j.class */
enum j {
    Pre,
    Prepare,
    Active;

    int a() {
        return ordinal();
    }
}


================================================================================
// FILE_PATH: ./game/a/f.java
================================================================================

package com.corrodinggames.rts.game.a;

import com.corrodinggames.rts.game.units.a.s;
import com.corrodinggames.rts.game.units.as;
import com.corrodinggames.rts.game.units.au;
import com.corrodinggames.rts.game.units.av;
import com.corrodinggames.rts.game.units.y;
import java.util.AbstractList;
import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/f.class */
public class f {
    static boolean a(y yVar) {
        au auVarAr;
        boolean z = false;
        if (yVar.aq()) {
            z = true;
        }
        if (!z && (auVarAr = yVar.ar()) != null && auVarAr.d() == av.reclaim) {
            z = true;
        }
        return z;
    }

    static boolean b(y yVar) {
        boolean z = false;
        if (yVar.aq()) {
            z = true;
        }
        return z;
    }

    public static Object a(AbstractList abstractList) {
        int size = abstractList.size();
        if (size == 0) {
            return null;
        }
        return abstractList.get(com.corrodinggames.rts.gameFramework.f.a(0, size - 1));
    }

    public static boolean a(y yVar, com.corrodinggames.rts.game.units.custom.g gVar) {
        as asVarR = yVar.r();
        if ((asVarR instanceof com.corrodinggames.rts.game.units.custom.l) && com.corrodinggames.rts.game.units.custom.g.a(gVar, ((com.corrodinggames.rts.game.units.custom.l) asVarR).fv)) {
            return true;
        }
        return false;
    }

    public static s a(a aVar, y yVar, com.corrodinggames.rts.game.units.custom.a.e eVar) {
        ArrayList arrayListN = yVar.N();
        ArrayList arrayListAp = aVar.ap();
        Iterator it = arrayListN.iterator();
        while (it.hasNext()) {
            s sVar = (s) it.next();
            if (sVar.v(yVar) == eVar) {
                arrayListAp.add(sVar);
            }
        }
        if (arrayListAp.size() > 0) {
            return (s) a(arrayListAp);
        }
        return null;
    }
}


================================================================================
// FILE_PATH: ./game/a/g.java
================================================================================

package com.corrodinggames.rts.game.a;

import android.graphics.PointF;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ao;
import com.corrodinggames.rts.game.units.aq;
import com.corrodinggames.rts.game.units.y;
import com.corrodinggames.rts.gameFramework.j.as;
import java.io.IOException;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/g.class */
public class g extends h {

    /* renamed from: a, reason: collision with root package name */
    boolean f139a;
    String b;
    boolean c;
    boolean d;
    boolean e;
    boolean f;
    y g;
    boolean h;
    int i;
    int j;
    i k;
    float l;
    float m;
    float n;
    float o;
    float p;
    boolean q;
    boolean r;
    boolean s;
    float t;
    float u;
    boolean v;
    am w;
    float x;
    float y;
    float z;
    int A;
    boolean B;
    public int C;
    public am D;
    ao E;

    @Override // com.corrodinggames.rts.game.a.h
    public boolean a() {
        return this.f139a;
    }

    @Override // com.corrodinggames.rts.game.a.h
    public boolean b() {
        if (!this.h) {
            return true;
        }
        return false;
    }

    public static g a(a aVar, y yVar) {
        g gVar = new g(aVar, false);
        gVar.f139a = true;
        gVar.c = true;
        gVar.d = true;
        gVar.e = true;
        gVar.g = yVar;
        gVar.a(yVar);
        gVar.A = 0;
        gVar.k();
        return gVar;
    }

    @Override // com.corrodinggames.rts.game.a.o, com.corrodinggames.rts.gameFramework.bq
    public void a(as asVar) throws IOException {
        asVar.a(this.h);
        asVar.a(this.i);
        asVar.a(this.j);
        asVar.a(this.F.size());
        Iterator it = this.F.iterator();
        while (it.hasNext()) {
            asVar.a((y) it.next());
        }
        asVar.c(7);
        asVar.a(false);
        asVar.a(this.s);
        asVar.a(this.o);
        asVar.a(this.G.size());
        Iterator it2 = this.G.iterator();
        while (it2.hasNext()) {
            asVar.a((y) it2.next());
        }
        asVar.a(this.B);
        asVar.a(this.f139a);
        asVar.a(this.c);
        asVar.a(this.d);
        asVar.a(this.e);
        asVar.a(this.f);
        asVar.a(this.g);
        asVar.a(this.A);
        super.a(asVar);
    }

    @Override // com.corrodinggames.rts.game.a.o
    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        this.h = kVar.e();
        this.i = kVar.f();
        this.j = kVar.f();
        q();
        int iF = kVar.f();
        for (int i = 0; i < iF; i++) {
            y yVarP = kVar.p();
            if (yVarP != null) {
                a(yVarP);
            }
        }
        byte bD = kVar.d();
        if (bD >= 1) {
            kVar.e();
        }
        if (bD >= 2) {
            this.s = kVar.e();
        }
        if (bD >= 3) {
            this.o = kVar.g();
        }
        if (bD >= 4) {
            this.G.clear();
            int iF2 = kVar.f();
            for (int i2 = 0; i2 < iF2; i2++) {
                y yVarP2 = kVar.p();
                if (yVarP2 != null) {
                    this.G.add(yVarP2);
                }
            }
        }
        if (bD >= 5) {
            this.B = kVar.e();
        }
        if (bD >= 6) {
            this.f139a = kVar.e();
            this.c = kVar.e();
            this.d = kVar.e();
            this.e = kVar.e();
            this.f = kVar.e();
            this.g = kVar.p();
        }
        if (bD >= 7) {
            this.A = kVar.f();
        }
        if (!this.B) {
            Iterator it = this.F.iterator();
            while (it.hasNext()) {
                y yVar = (y) it.next();
                if (yVar instanceof com.corrodinggames.rts.game.units.h.f) {
                    if (yVar != null && yVar.aB == this) {
                        yVar.aB = null;
                    }
                    if (yVar != null) {
                        this.G.remove(yVar);
                    }
                    it.remove();
                }
            }
        }
        super.a(kVar);
    }

    public g(a aVar) {
        super(aVar);
        this.h = true;
        this.l = 1000.0f;
        this.m = 100.0f;
        this.n = 4000.0f;
        this.o = 0.0f;
        this.p = 1000.0f;
        this.q = false;
        this.r = false;
        this.s = false;
        this.t = 0.0f;
        this.u = 0.0f;
        this.C = -9999;
        this.D = null;
        this.E = ao.NONE;
    }

    public g(a aVar, boolean z) {
        this(aVar);
        this.h = z;
    }

    @Override // com.corrodinggames.rts.game.a.h
    protected void a(y yVar) {
        super.a(yVar);
        this.E = j();
    }

    public void c() {
        Iterator it = am.bE.iterator();
        while (it.hasNext()) {
            am amVar = (am) it.next();
            if (!amVar.bV && amVar.bX == this.R && this.A > this.F.size() && (amVar instanceof y)) {
                y yVar = (y) amVar;
                if (!yVar.bM && !yVar.bN && yVar.aB == null && this.R.h(yVar) && this.R.i(yVar)) {
                    if (this.B) {
                        if (amVar.h() != ao.LAND) {
                            if (!this.R.a(yVar, this.S, this.T) || (!b() && com.corrodinggames.rts.gameFramework.f.a(0, 100) <= 2)) {
                                a(yVar);
                            }
                        }
                    } else if (amVar.h() != ao.WATER) {
                        if (!this.R.a(yVar, this.S, this.T)) {
                        }
                        a(yVar);
                    }
                }
            }
        }
    }

    public boolean d() {
        if (this.A <= this.F.size()) {
            return true;
        }
        return false;
    }

    public am a(float f) {
        if (com.corrodinggames.rts.gameFramework.l.B().by - (f * 1000.0f) < this.C) {
            return this.D;
        }
        return null;
    }

    public am e() {
        am amVarA = a(6.0f);
        if (amVarA != null) {
            return amVarA;
        }
        return null;
    }

    public am f() {
        Iterator it = this.F.iterator();
        while (it.hasNext()) {
            am amVarAb = ((y) it.next()).ab();
            if (amVarAb != null) {
                return amVarAb;
            }
        }
        return null;
    }

    public void a(com.corrodinggames.rts.gameFramework.e eVar, boolean z, am amVar) {
        Iterator it = this.F.iterator();
        while (it.hasNext()) {
            y yVar = (y) it.next();
            if (!z || yVar.aq()) {
                if (amVar == null || this.R.a(yVar, amVar)) {
                    eVar.a(yVar);
                }
            }
        }
    }

    public void a(String str) {
        this.b = str;
    }

    public PointF a(am amVar) {
        PointF pointF = new PointF();
        pointF.f45a = this.S;
        pointF.b = this.T;
        float fRandom = (float) (Math.random() * 360.0d);
        float fC = com.corrodinggames.rts.gameFramework.f.c(50.0f, 100.0f);
        pointF.f45a += com.corrodinggames.rts.gameFramework.f.k(fRandom) * fC;
        pointF.b += com.corrodinggames.rts.gameFramework.f.j(fRandom) * fC;
        if (amVar != null) {
            float fD = com.corrodinggames.rts.gameFramework.f.d(pointF.f45a, pointF.b, amVar.eo, amVar.ep);
            float fC2 = com.corrodinggames.rts.gameFramework.f.c(100.0f, 200.0f);
            pointF.f45a += com.corrodinggames.rts.gameFramework.f.k(fD) * (-fC2);
            pointF.b += com.corrodinggames.rts.gameFramework.f.j(fD) * (-fC2);
        }
        return pointF;
    }

    @Override // com.corrodinggames.rts.game.a.h
    public void b(float f) {
        am amVarE;
        super.b(f);
        n();
        this.E = j();
        if (!this.f && (amVarE = e()) != null && f() == null) {
            if (a(amVarE, false)) {
                a("fighting attacker");
                com.corrodinggames.rts.gameFramework.e eVarA = com.corrodinggames.rts.gameFramework.l.B().cf.a(this.R);
                a(eVarA, true, amVarE);
                eVarA.a(amVarE.eo, amVarE.ep, false);
                return;
            }
            a("flight from attacker");
            PointF pointFA = a(amVarE);
            this.S = pointFA.f45a;
            this.T = pointFA.b;
            if (this.z > 200.0f) {
                this.z = 200.0f;
            }
        }
    }

    @Override // com.corrodinggames.rts.game.a.h
    public void c(float f) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        this.x += f;
        Iterator it = this.F.iterator();
        while (it.hasNext()) {
            y yVar = (y) it.next();
            if (yVar != null && this.C < yVar.bs) {
                this.C = yVar.bs;
                this.D = yVar.bt;
            }
        }
        n();
        if (d()) {
            this.l = com.corrodinggames.rts.gameFramework.f.a(this.l, f);
        } else if (this.v) {
        }
        this.y = com.corrodinggames.rts.gameFramework.f.a(this.y, f);
        this.z = com.corrodinggames.rts.gameFramework.f.a(this.z, f);
        this.p = com.corrodinggames.rts.gameFramework.f.a(this.p, f);
        if (!this.v && !this.r && !d() && this.y == 0.0f) {
            this.y = 200 + com.corrodinggames.rts.gameFramework.f.c(200);
            c();
        }
        if (!this.v || this.q) {
            if (!this.q) {
                this.n = com.corrodinggames.rts.gameFramework.f.a(this.n, f);
                if (this.n == 0.0f) {
                    if (this.k == null) {
                        this.k = g();
                    }
                    if (this.k != null) {
                        PointF pointFW = this.k.w();
                        if (!a(pointFW.f45a, pointFW.b)) {
                            this.n = 100.0f;
                            a("random move: bad target");
                        } else {
                            this.n = 4000.0f;
                            this.S = pointFW.f45a;
                            this.T = pointFW.b;
                            a("random move");
                        }
                    } else {
                        a("random move: no linked base");
                    }
                }
            }
            if (this.z == 0.0f) {
                this.z = 800.0f;
                com.corrodinggames.rts.gameFramework.e eVarA = lVarB.cf.a(this.R);
                Iterator it2 = this.F.iterator();
                while (it2.hasNext()) {
                    y yVar2 = (y) it2.next();
                    boolean z = true;
                    if (c(yVar2) < 28900.0f) {
                        z = false;
                    }
                    if (!this.f && yVar2.aj() && !yVar2.aq()) {
                        z = false;
                    }
                    if (z) {
                        eVarA.a(yVar2);
                    }
                }
                if (this.f) {
                    eVarA.a(this.S, this.T);
                } else {
                    eVarA.b(this.S, this.T);
                }
            }
        }
        if (this.h) {
            e(f);
        } else {
            d(f);
        }
        if (this.A == 0 && this.F.size() == 0) {
            p();
        }
        if (this.c) {
            if (this.g == null || this.g.bV) {
                p();
            }
        }
    }

    i g() {
        float f = -1.0f;
        i iVar = null;
        Iterator it = this.R.bn.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if (oVar instanceof i) {
                i iVar2 = (i) oVar;
                if (b(iVar2.S, iVar2.T)) {
                    float fD = iVar2.d(this.S, this.T);
                    if (iVar == null || fD < f) {
                        f = fD;
                        iVar = iVar2;
                    }
                }
            }
        }
        return iVar;
    }

    public void d(float f) {
        if (this.k == null || this.k.V) {
            k();
        }
        if (this.c && this.g != null) {
            if (this.e && !this.f) {
                if (this.g.cu / this.g.cv < 0.5d) {
                    this.f = true;
                    if (this.z > 100.0f) {
                        this.z = 100.0f;
                    }
                }
                if (this.w == null) {
                    k();
                }
            } else {
                if (this.g.cu / this.g.cv > 0.6d) {
                    this.f = false;
                }
                boolean z = false;
                if (this.k != null && !this.k.t) {
                    z = true;
                }
                if (!z) {
                    i iVarA = this.R.a(this.g.h(), this.g.eo, this.g.ep, true);
                    if (iVarA != null) {
                        this.k = iVarA;
                    }
                    if (this.k != null) {
                        PointF pointFW = this.k.w();
                        this.S = pointFW.f45a;
                        this.T = pointFW.b;
                        if (this.z > 100.0f) {
                            this.z = 100.0f;
                        }
                        a("moving to new base");
                    }
                }
            }
        }
        if (this.k != null) {
            for (int i = 0; i < 2; i++) {
                if (this.p == 0.0f) {
                    am amVarG = this.k.g();
                    if (amVarG == null) {
                        break;
                    }
                    if (a(amVarG, false)) {
                        this.w = amVarG;
                        this.p = 500.0f;
                        this.n = 2000.0f;
                        if (!this.f) {
                            this.S = amVarG.eo;
                            this.T = amVarG.ep;
                        }
                        if (this.z > 100.0f) {
                            this.z = 100.0f;
                        }
                        a("defending base");
                    }
                }
            }
            if (this.p == 0.0f) {
                this.f = false;
                this.w = null;
            }
        }
    }

    public void e(float f) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (this.v) {
            if (this.w == null || !this.w.bT() || this.w.bV || !this.r) {
                this.w = this.R.as();
                if (this.w != null && !a(this.w, true)) {
                    this.w = null;
                }
            }
            if (this.w != null) {
                if (this.q) {
                    this.u += f;
                    if (!this.r) {
                        this.t = com.corrodinggames.rts.gameFramework.f.a(this.t, f);
                        if (this.t == 0.0f) {
                            this.t = 20.0f;
                            h();
                        }
                    } else {
                        boolean z = false;
                        Iterator it = this.F.iterator();
                        while (it.hasNext()) {
                            if (c((y) it.next()) > 28900.0f) {
                                z = true;
                            }
                        }
                        if (!z) {
                            this.q = false;
                        }
                        Iterator it2 = this.F.iterator();
                        while (it2.hasNext()) {
                            if (((y) it2.next()).bs > lVarB.by - 1000) {
                                this.q = false;
                                a("Not staging due to damage");
                            }
                        }
                    }
                    if (this.u > 17000.0f) {
                        this.q = false;
                        a("attacking target");
                    }
                } else {
                    this.o += f;
                    if (this.z == 0.0f) {
                        this.z = 800.0f;
                        boolean z2 = false;
                        com.corrodinggames.rts.gameFramework.utility.m mVar = new com.corrodinggames.rts.gameFramework.utility.m();
                        Iterator it3 = this.F.iterator();
                        while (it3.hasNext()) {
                            y yVar = (y) it3.next();
                            boolean z3 = true;
                            if (this.w != null) {
                                if (!this.R.a(yVar, this.w)) {
                                    z3 = false;
                                }
                                if (z3 && !aq.a(yVar, this.w)) {
                                    z3 = false;
                                }
                            }
                            if (z3) {
                                z2 = true;
                                mVar.add(yVar);
                            }
                        }
                        if (!z2) {
                            this.q = false;
                            a("cannot reach main target");
                        } else {
                            com.corrodinggames.rts.gameFramework.e eVarA = lVarB.cf.a(this.R);
                            eVarA.a(mVar);
                            if (this.w != null && com.corrodinggames.rts.gameFramework.f.a(0, 100) < 80) {
                                eVarA.a(this.w.eo, this.w.ep, true);
                            } else {
                                eVarA.a(this.w, true);
                            }
                            a("attacking main target");
                        }
                    }
                }
            }
        } else if (this.l == 0.0f) {
            this.v = true;
            this.q = true;
        }
        if (this.v) {
            if (this.F.size() == 0) {
                p();
            }
            if (this.o > 1000.0f && this.F.size() < 3) {
                p();
            }
            if (this.o > 11000.0f) {
                p();
            }
        }
    }

    public void h() {
        float f = this.w.eo;
        float f2 = this.w.ep;
        float fD = com.corrodinggames.rts.gameFramework.f.d(f, f2, this.S, this.T);
        float fB = com.corrodinggames.rts.gameFramework.f.b(f, f2, this.S, this.T);
        if (com.corrodinggames.rts.gameFramework.f.a(0, 100) < 80) {
            fD += com.corrodinggames.rts.gameFramework.f.a(-110, 110);
        }
        int i = (int) (fB * 0.6d);
        if (i < 720) {
            i = 720;
        }
        float fA = com.corrodinggames.rts.gameFramework.f.a(50, i);
        if (com.corrodinggames.rts.gameFramework.f.a(0, 100) < 80 && fA < 450.0f) {
            fA = com.corrodinggames.rts.gameFramework.f.a(450, i);
        }
        float fK = f + (com.corrodinggames.rts.gameFramework.f.k(fD) * fA);
        float fJ = f2 + (com.corrodinggames.rts.gameFramework.f.j(fD) * fA);
        boolean z = true;
        if (!a(fK, fJ)) {
            z = false;
        }
        boolean z2 = false;
        boolean z3 = false;
        Iterator it = this.F.iterator();
        while (it.hasNext()) {
            y yVar = (y) it.next();
            if (yVar.h() == ao.LAND) {
                z2 = true;
            }
            if (yVar.h() == ao.WATER) {
                z3 = true;
            }
        }
        if (z2) {
            if (this.R.aG == 0 && !b(fK, fJ)) {
                z = false;
            }
            if (!this.R.a(fK, fJ, this.w.eo, this.w.ep, ao.LAND) && com.corrodinggames.rts.gameFramework.f.a(0, 100) < 98) {
                z = false;
            }
        }
        if (z3) {
            if (!b(fK, fJ)) {
                z = false;
            }
            if (!this.R.a(fK, fJ, this.w.eo, this.w.ep, ao.WATER)) {
                z = false;
            }
        }
        if (z) {
            this.S = fK;
            this.T = fJ;
            this.z = 0.0f;
            this.r = true;
            this.G.clear();
            Iterator it2 = this.F.iterator();
            while (it2.hasNext()) {
                y yVar2 = (y) it2.next();
                if (yVar2.h() != ao.WATER && !this.R.a(yVar2, this.S, this.T)) {
                    this.G.add(yVar2);
                }
            }
        }
    }

    public ao i() {
        return this.E;
    }

    public ao j() {
        if (this.F.size() == 0) {
            if (this.B) {
                return ao.WATER;
            }
            return ao.LAND;
        }
        boolean z = true;
        Iterator it = this.F.iterator();
        while (true) {
            if (!it.hasNext()) {
                break;
            }
            if (((y) it.next()).h() != ao.AIR) {
                z = false;
                break;
            }
        }
        if (z) {
            return ao.AIR;
        }
        if (this.B) {
            boolean z2 = true;
            Iterator it2 = this.F.iterator();
            while (it2.hasNext()) {
                if (((y) it2.next()).h() == ao.WATER) {
                    z2 = false;
                }
            }
            if (z2) {
                return ao.HOVER;
            }
            return ao.WATER;
        }
        boolean z3 = true;
        Iterator it3 = this.F.iterator();
        while (it3.hasNext()) {
            ao aoVarH = ((y) it3.next()).h();
            if (aoVarH == ao.LAND || aoVarH == ao.OVER_CLIFF) {
                z3 = false;
            }
        }
        if (z3) {
            return ao.HOVER;
        }
        return ao.LAND;
    }

    public boolean a(float f, float f2) {
        return !com.corrodinggames.rts.gameFramework.utility.y.a(f, f2, i());
    }

    public boolean b(float f, float f2) {
        Iterator it = this.F.iterator();
        while (it.hasNext()) {
            if (!this.R.a((y) it.next(), f, f2)) {
                return false;
            }
        }
        return true;
    }

    public boolean a(am amVar, boolean z) {
        Iterator it = this.F.iterator();
        while (it.hasNext()) {
            y yVar = (y) it.next();
            if (z || this.R.a(yVar, amVar.eo, amVar.ep)) {
                if (aq.a(yVar, amVar)) {
                    return true;
                }
            }
        }
        return false;
    }

    public void k() {
        PointF pointFAm = null;
        if (this.c && this.g != null) {
            this.S = this.g.eo;
            this.T = this.g.ep;
            this.k = this.R.c(this.g.eo, this.g.ep);
            return;
        }
        if (1 != 0) {
            int i = 0;
            while (i < 7) {
                boolean z = i > 3;
                if (pointFAm == null) {
                    Iterator it = this.R.bn.iterator();
                    while (it.hasNext()) {
                        o oVar = (o) it.next();
                        if (oVar instanceof i) {
                            i iVar = (i) oVar;
                            if (iVar.b == j.Active && (iVar.u() > 2 || z)) {
                                if (pointFAm == null || com.corrodinggames.rts.gameFramework.f.c(this.R.ay + 2) == 0) {
                                    for (int i2 = 0; i2 < 10; i2++) {
                                        if (pointFAm == null) {
                                            PointF pointFW = iVar.w();
                                            if (a(pointFW.f45a, pointFW.b)) {
                                                pointFAm = pointFW;
                                            }
                                        }
                                    }
                                    this.k = iVar;
                                }
                            }
                        }
                    }
                }
                i++;
            }
        }
        if (pointFAm == null) {
            pointFAm = this.R.am();
            this.k = null;
        }
        this.S = pointFAm.f45a;
        this.T = pointFAm.b;
    }
}


================================================================================
// FILE_PATH: ./game/a/k.java
================================================================================

package com.corrodinggames.rts.game.a;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/k.class */
public enum k {
    Main,
    ResourceOutpost,
    ForwardOutpost
}


================================================================================
// FILE_PATH: ./game/a/l.java
================================================================================

package com.corrodinggames.rts.game.a;

import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.y;
import com.corrodinggames.rts.gameFramework.j.as;
import java.io.IOException;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/l.class */
public class l extends h {

    /* renamed from: a, reason: collision with root package name */
    float f143a;

    @Override // com.corrodinggames.rts.game.a.o, com.corrodinggames.rts.gameFramework.bq
    public void a(as asVar) throws IOException {
        asVar.a(this.F.size());
        Iterator it = this.F.iterator();
        while (it.hasNext()) {
            asVar.a((y) it.next());
        }
        asVar.c(1);
        asVar.a(this.G.size());
        Iterator it2 = this.G.iterator();
        while (it2.hasNext()) {
            asVar.a((y) it2.next());
        }
        asVar.a(this.f143a);
        super.a(asVar);
    }

    @Override // com.corrodinggames.rts.game.a.o
    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        q();
        int iF = kVar.f();
        for (int i = 0; i < iF; i++) {
            y yVarP = kVar.p();
            if (yVarP != null) {
                a(yVarP);
            }
        }
        if (kVar.d() >= 1) {
            this.G.clear();
            int iF2 = kVar.f();
            for (int i2 = 0; i2 < iF2; i2++) {
                y yVarP2 = kVar.p();
                if (yVarP2 != null) {
                    this.G.add(yVarP2);
                }
            }
            this.f143a = kVar.g();
        }
        super.a(kVar);
    }

    public l(a aVar) {
        super(aVar);
        this.f143a = 0.0f;
    }

    @Override // com.corrodinggames.rts.game.a.h
    public void c(float f) {
        n();
        if (!m()) {
            this.f143a += f;
        }
        Iterator it = this.F.iterator();
        while (it.hasNext()) {
            y yVar = (y) it.next();
            if (c((am) yVar) < 3600.0f && yVar.cN == null) {
                if (yVar.aB == this) {
                    yVar.aB = null;
                }
                it.remove();
            }
        }
        if (this.F.size() == 0 || this.f143a > 5000.0f) {
            p();
        }
    }

    public void c(y yVar) {
        a(yVar);
        this.G.add(yVar);
    }
}


================================================================================
// FILE_PATH: ./game/a/m.java
================================================================================

package com.corrodinggames.rts.game.a;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/m.class */
public class m extends o {
    public m(a aVar) {
        super(aVar);
    }
}


================================================================================
// FILE_PATH: ./game/a/a.java
================================================================================

package com.corrodinggames.rts.game.a;

import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.Point;
import android.graphics.PointF;
import com.corrodinggames.rts.game.units.a.s;
import com.corrodinggames.rts.game.units.a.w;
import com.corrodinggames.rts.game.units.ai;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ao;
import com.corrodinggames.rts.game.units.aq;
import com.corrodinggames.rts.game.units.au;
import com.corrodinggames.rts.game.units.av;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.game.units.d.t;
import com.corrodinggames.rts.gameFramework.j.as;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import com.corrodinggames.rts.gameFramework.utility.u;
import com.corrodinggames.rts.gameFramework.utility.y;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.Random;
import java.util.concurrent.ConcurrentLinkedQueue;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/a.class */
public final class a extends com.corrodinggames.rts.game.n {
    public static boolean as;
    final int at = 3000;
    int au;
    int av;
    int aw;
    int ax;
    int ay;
    int az;
    int aA;
    int aB;
    int aC;
    int aD;
    int aE;
    int aF;
    int aG;
    int aH;
    public int aI;
    int aJ;
    boolean aK;
    float aL;
    float aM;
    float aN;
    float aO;
    float aP;
    float aQ;
    float aR;
    float aS;
    float aT;
    float aU;
    int aV;
    float aW;
    public boolean aX;
    public boolean aY;
    public boolean aZ;
    int ba;
    int bb;
    int bc;
    boolean bd;
    boolean be;
    boolean bf;
    com.corrodinggames.rts.game.units.f bg;
    boolean bh;
    boolean bi;
    boolean bj;
    boolean bk;
    int bl;
    ConcurrentLinkedQueue bm;
    ArrayList bn;
    PointF bo;
    Paint bp;
    ArrayList bq;
    d br;
    d bs;
    d bt;
    d bu;
    d bv;
    d bw;
    d bx;
    d by;
    d bz;
    d bA;
    d bB;
    d bC;
    d bD;
    public c bE;
    int bF;
    public float bG;
    ArrayList bH;
    private static ArrayList bK = new ArrayList();
    public static final u bI = new u();
    public final com.corrodinggames.rts.gameFramework.utility.m bJ;

    public boolean ac() {
        return ag() == 3 || ag() > 300;
    }

    public boolean ad() {
        return ag() >= 2;
    }

    public boolean ae() {
        return (1 & this.aJ) == 1;
    }

    public boolean af() {
        return ae();
    }

    public int ag() {
        return this.bF;
    }

    public boolean ah() {
        if (com.corrodinggames.rts.gameFramework.l.B().bU.A.i > 3000) {
            return true;
        }
        return false;
    }

    public boolean ai() {
        if (ah() || !this.bh || !this.bi || !this.bj || !this.bk) {
            return true;
        }
        return false;
    }

    public boolean aj() {
        if (this.bk && ai() && this.bi) {
            return true;
        }
        return false;
    }

    public boolean a(float f, float f2, o oVar, ao aoVar) {
        if (a(f, f2, oVar.S, oVar.T, aoVar)) {
            return true;
        }
        float f3 = -180.0f;
        while (true) {
            float f4 = f3;
            if (f4 < 180.0f) {
                if (!a(f, f2, oVar.S + (com.corrodinggames.rts.gameFramework.f.k(f4) * oVar.U * 0.4f), oVar.T + (com.corrodinggames.rts.gameFramework.f.j(f4) * oVar.U * 0.4f), aoVar)) {
                    f3 = f4 + 90.0f;
                } else {
                    return true;
                }
            } else {
                return false;
            }
        }
    }

    public boolean a(float f, float f2, float f3, float f4, ao aoVar) {
        if (aoVar == ao.AIR || aoVar == ao.NONE) {
            return true;
        }
        short sB = y.b(f, f2, aoVar);
        short sB2 = y.b(f3, f4, aoVar);
        if (sB == -3 || sB2 == -3) {
            String strName = "null";
            if (aoVar != null) {
                strName = aoVar.name();
            }
            d("pathPossible: no isolatedGroups found! (" + strName + ")");
            com.corrodinggames.rts.gameFramework.l.T();
        }
        if (sB != -1 && sB2 != -1 && sB != -2 && sB2 != -2 && sB == sB2) {
            return true;
        }
        return false;
    }

    public boolean a(am amVar, float f, float f2) {
        return a(amVar.eo, amVar.ep, f, f2, amVar.h());
    }

    public boolean b(am amVar, float f, float f2) {
        ao aoVarH = amVar.h();
        return a(amVar.eo, amVar.ep, f, f2, aoVarH) || a(amVar.eo, amVar.ep, f + 60.0f, f2, aoVarH) || a(amVar.eo, amVar.ep, f - 60.0f, f2, aoVarH) || a(amVar.eo, amVar.ep, f, f2 + 60.0f, aoVarH) || a(amVar.eo, amVar.ep, f, f2 - 60.0f, aoVarH);
    }

    public boolean a(am amVar, am amVar2) {
        return b(amVar, amVar2.eo, amVar2.ep);
    }

    @Override // com.corrodinggames.rts.game.n, com.corrodinggames.rts.gameFramework.bq
    public void a(as asVar) throws IOException {
        int i;
        asVar.a(this.aK);
        asVar.a(this.aL);
        asVar.a(this.aM);
        asVar.a(this.aN);
        asVar.a(this.aO);
        asVar.a(this.aT);
        asVar.a(this.aV);
        asVar.a(this.aW);
        asVar.a(this.aX);
        asVar.a(this.ba);
        asVar.a(this.bm.size());
        Iterator it = this.bm.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if (oVar instanceof i) {
                i = 1;
            } else if (oVar instanceof g) {
                i = 2;
            } else if (oVar instanceof n) {
                i = 3;
            } else if (oVar instanceof m) {
                i = 4;
            } else if (oVar instanceof l) {
                i = 5;
            } else {
                throw new RuntimeException("zone not instance not supported:" + oVar.getClass().getName());
            }
            asVar.c(i);
            asVar.a(oVar.Q);
        }
        Iterator it2 = this.bm.iterator();
        while (it2.hasNext()) {
            o oVar2 = (o) it2.next();
            asVar.a(oVar2.Q);
            oVar2.a(asVar);
        }
        asVar.c(9);
        asVar.a(this.aI);
        asVar.a(this.bd);
        asVar.a(this.bh);
        asVar.a(this.bi);
        asVar.a(this.bj);
        asVar.a(this.bk);
        asVar.a(this.aU);
        asVar.a(this.bl);
        asVar.a(this.au);
        asVar.a(this.av);
        asVar.a(this.aw);
        asVar.a(this.aY);
        asVar.a(this.aJ);
        asVar.e();
        asVar.a(this.bJ.f694a);
        for (int i2 = 0; i2 < this.bJ.f694a; i2++) {
            com.corrodinggames.rts.game.a.a.a aVar = (com.corrodinggames.rts.game.a.a.a) this.bJ.get(i2);
            asVar.a(aVar.a());
            aVar.a(asVar);
        }
        asVar.e();
        super.a(asVar);
    }

    public o l(int i) {
        if (i == 1) {
            return new i(this, -1.0f, -1.0f);
        }
        if (i == 2) {
            return new g(this);
        }
        if (i == 3) {
            return new n(this);
        }
        if (i == 4) {
            return new m(this);
        }
        if (i == 5) {
            return new l(this);
        }
        if (i == 0) {
            com.corrodinggames.rts.gameFramework.l.b("Found zone type 0, loading PlainZone instead");
            return new m(this);
        }
        throw new RuntimeException("Unknown zone type:" + i);
    }

    @Override // com.corrodinggames.rts.game.n
    public void c(com.corrodinggames.rts.gameFramework.j.k kVar) {
        o oVarM;
        this.aK = kVar.e();
        this.aL = kVar.g();
        this.aM = kVar.g();
        this.aN = kVar.g();
        this.aO = kVar.g();
        this.aT = kVar.g();
        this.aV = kVar.f();
        this.aW = kVar.g();
        this.aX = kVar.e();
        this.ba = kVar.f();
        int iF = kVar.f();
        this.bm.clear();
        boolean z = false;
        if (kVar.b() >= 20) {
            z = true;
            for (int i = 0; i < iF; i++) {
                l((int) kVar.d()).Q = kVar.f();
            }
        }
        for (int i2 = 0; i2 < iF; i2++) {
            if (!z) {
                oVarM = l((int) kVar.d());
            } else {
                oVarM = m(kVar.f());
            }
            oVarM.a(kVar);
        }
        byte bD = kVar.d();
        if (bD >= 1) {
            this.aI = kVar.f();
        }
        this.bn.clear();
        this.bn.addAll(this.bm);
        if (bD >= 2) {
            this.bd = kVar.e();
            this.bh = kVar.e();
            this.bi = kVar.e();
        }
        if (bD >= 3) {
            this.bj = kVar.e();
            this.bk = kVar.e();
        }
        if (bD >= 4) {
            this.aU = kVar.g();
        }
        if (bD >= 5) {
            this.bl = kVar.f();
        }
        if (bD >= 6) {
            this.au = kVar.f();
            this.av = kVar.f();
            this.aw = kVar.f();
        }
        if (bD >= 7) {
            this.aY = kVar.e();
        }
        if (bD >= 8) {
            this.aJ = kVar.f();
        }
        if (bD >= 9) {
            kVar.a("ai-c s");
            this.bJ.clear();
            int iF2 = kVar.f();
            for (int i3 = 0; i3 < iF2; i3++) {
                com.corrodinggames.rts.game.a.a.a aVarA = ((com.corrodinggames.rts.game.a.a.b) kVar.b(com.corrodinggames.rts.game.a.a.b.class)).a();
                aVarA.a(kVar);
                a(aVarA);
            }
            kVar.a("ai-c e");
        }
        super.c(kVar);
        ak();
    }

    public o m(int i) {
        Iterator it = this.bm.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if (oVar.Q == i) {
                return oVar;
            }
        }
        return null;
    }

    public int a(o oVar) {
        if (oVar == null) {
            return -1;
        }
        return oVar.Q;
    }

    void ak() {
        this.az = 0;
        this.aC = 0;
        this.aD = 0;
        this.aE = 0;
        this.aA = 0;
        this.aB = 0;
        this.aF = 0;
        this.aG = 0;
        this.ax = 0;
        this.ay = 0;
        this.aH = 0;
        Iterator it = this.bn.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if (oVar instanceof i) {
                i iVar = (i) oVar;
                this.ax++;
                if (iVar.u() >= 2) {
                    this.ay++;
                }
                if (iVar.n) {
                    this.aH++;
                }
            }
            if (oVar instanceof g) {
                g gVar = (g) oVar;
                if (!gVar.f139a) {
                    if (gVar.h) {
                        this.az++;
                        if (!gVar.v && !gVar.d()) {
                            if (!gVar.B) {
                                this.aA++;
                            } else {
                                this.aB++;
                            }
                        }
                    } else {
                        this.aC++;
                        if (gVar.d()) {
                            this.aD++;
                        }
                        this.aE += gVar.l();
                    }
                }
            }
            if (oVar instanceof n) {
                this.aF++;
                if (((h) oVar).l() > 0) {
                    this.aG++;
                }
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public boolean a(com.corrodinggames.rts.game.units.as asVar) {
        am amVarB = am.b(asVar);
        if (!amVarB.bI() && (amVarB instanceof com.corrodinggames.rts.game.units.y) && !g(amVarB) && !amVarB.aj() && ((com.corrodinggames.rts.game.units.y) amVarB).l()) {
            if (asVar instanceof com.corrodinggames.rts.game.units.custom.l) {
                com.corrodinggames.rts.game.units.custom.l lVar = (com.corrodinggames.rts.game.units.custom.l) asVar;
                if (lVar.fw || !lVar.fs) {
                    return false;
                }
                return true;
            }
            return true;
        }
        return false;
    }

    public a(int i) {
        this(i, true);
    }

    public a(int i, boolean z) {
        super(i, z);
        this.at = 3000;
        this.aJ = 0;
        this.aR = 0.0f;
        this.aS = 0.0f;
        this.bd = true;
        this.be = true;
        this.bf = false;
        this.bm = new ConcurrentLinkedQueue();
        this.bn = new ArrayList();
        this.bo = new PointF();
        this.bq = new ArrayList();
        this.br = new d("attackingUnitsLand") { // from class: com.corrodinggames.rts.game.a.a.1
            @Override // com.corrodinggames.rts.game.a.d
            public boolean a(com.corrodinggames.rts.game.units.as asVar) {
                return a.this.a(asVar) && a(asVar, ao.LAND);
            }
        };
        this.bs = new d("attackingUnitsHover") { // from class: com.corrodinggames.rts.game.a.a.6
            @Override // com.corrodinggames.rts.game.a.d
            public boolean a(com.corrodinggames.rts.game.units.as asVar) {
                return a.this.a(asVar) && a(asVar, ao.HOVER);
            }
        };
        this.bt = new d("attackingUnitsAir") { // from class: com.corrodinggames.rts.game.a.a.7
            @Override // com.corrodinggames.rts.game.a.d
            public boolean a(com.corrodinggames.rts.game.units.as asVar) {
                return a.this.a(asVar) && a(asVar, ao.AIR);
            }
        };
        this.bu = new d("attackingUnitsWater") { // from class: com.corrodinggames.rts.game.a.a.8
            @Override // com.corrodinggames.rts.game.a.d
            public boolean a(com.corrodinggames.rts.game.units.as asVar) {
                return a.this.a(asVar) && a(asVar, ao.WATER);
            }
        };
        this.bv = new d("buildingUnits") { // from class: com.corrodinggames.rts.game.a.a.9
            @Override // com.corrodinggames.rts.game.a.d
            public boolean a(com.corrodinggames.rts.game.units.as asVar) {
                if (am.b(asVar).bI()) {
                    if ((asVar instanceof com.corrodinggames.rts.game.units.custom.l) && ((com.corrodinggames.rts.game.units.custom.l) asVar).fw) {
                        return false;
                    }
                    return true;
                }
                return false;
            }
        };
        this.bw = new d("transportUnits") { // from class: com.corrodinggames.rts.game.a.a.10
            @Override // com.corrodinggames.rts.game.a.d
            public boolean a(com.corrodinggames.rts.game.units.as asVar) {
                if (a.this.g(am.b(asVar))) {
                    if ((asVar instanceof com.corrodinggames.rts.game.units.custom.l) && ((com.corrodinggames.rts.game.units.custom.l) asVar).fw) {
                        return false;
                    }
                    if (asVar.o() == ao.AIR || asVar.o() == ao.HOVER || asVar.o() == ao.OVER_CLIFF_WATER) {
                        return true;
                    }
                    return false;
                }
                return false;
            }
        };
        this.bx = new d("transportUnitsFlying") { // from class: com.corrodinggames.rts.game.a.a.11
            @Override // com.corrodinggames.rts.game.a.d
            public boolean a(com.corrodinggames.rts.game.units.as asVar) {
                if (a.this.bw.a(asVar) && asVar.o() == ao.AIR) {
                    return true;
                }
                return false;
            }
        };
        this.by = new d("transportUnitsNonFlying") { // from class: com.corrodinggames.rts.game.a.a.12
            @Override // com.corrodinggames.rts.game.a.d
            public boolean a(com.corrodinggames.rts.game.units.as asVar) {
                if (a.this.bw.a(asVar) && asVar.o() != ao.AIR) {
                    return true;
                }
                return false;
            }
        };
        this.bz = new d("builderUnits") { // from class: com.corrodinggames.rts.game.a.a.13
            @Override // com.corrodinggames.rts.game.a.d
            public boolean a(com.corrodinggames.rts.game.units.as asVar) {
                if (asVar.m()) {
                    if ((!(asVar instanceof com.corrodinggames.rts.game.units.custom.l) || !((com.corrodinggames.rts.game.units.custom.l) asVar).fw) && asVar.o() != ao.WATER) {
                        return true;
                    }
                    return false;
                }
                return false;
            }
        };
        this.bA = new d("harvesterUnits") { // from class: com.corrodinggames.rts.game.a.a.2
            @Override // com.corrodinggames.rts.game.a.d
            public boolean a(com.corrodinggames.rts.game.units.as asVar) {
                am.b(asVar);
                if (asVar.n()) {
                    if ((!(asVar instanceof com.corrodinggames.rts.game.units.custom.l) || !((com.corrodinggames.rts.game.units.custom.l) asVar).fw) && asVar.o() != ao.WATER) {
                        return true;
                    }
                    return false;
                }
                return false;
            }
        };
        this.bB = new d("extractorUnits") { // from class: com.corrodinggames.rts.game.a.a.3
            @Override // com.corrodinggames.rts.game.a.d
            public boolean a(com.corrodinggames.rts.game.units.as asVar) {
                if (am.b(asVar).bI() && asVar.p()) {
                    if ((asVar instanceof com.corrodinggames.rts.game.units.custom.l) && ((com.corrodinggames.rts.game.units.custom.l) asVar).fw) {
                        return false;
                    }
                    return true;
                }
                return false;
            }
        };
        this.bC = new d("buildingFactories") { // from class: com.corrodinggames.rts.game.a.a.4
            @Override // com.corrodinggames.rts.game.a.d
            public boolean a(com.corrodinggames.rts.game.units.as asVar) {
                com.corrodinggames.rts.game.units.as asVarI;
                am amVarB = am.b(asVar);
                if (amVarB.bI()) {
                    if ((asVar instanceof com.corrodinggames.rts.game.units.custom.l) && ((com.corrodinggames.rts.game.units.custom.l) asVar).fw) {
                        return false;
                    }
                    boolean z2 = false;
                    Iterator it = amVarB.N().iterator();
                    while (it.hasNext()) {
                        s sVar = (s) it.next();
                        if (sVar != null && (sVar instanceof w)) {
                            w wVar = (w) sVar;
                            if (!wVar.F() && (asVarI = wVar.i()) != null && !asVarI.j()) {
                                z2 = true;
                            }
                        }
                    }
                    if (z2) {
                        return true;
                    }
                    return false;
                }
                return false;
            }
        };
        this.bD = new d("buildingFactoriesForBuilders") { // from class: com.corrodinggames.rts.game.a.a.5
            @Override // com.corrodinggames.rts.game.a.d
            public boolean a(com.corrodinggames.rts.game.units.as asVar) {
                com.corrodinggames.rts.game.units.as asVarI;
                am amVarB = am.b(asVar);
                if (amVarB.bI()) {
                    if ((asVar instanceof com.corrodinggames.rts.game.units.custom.l) && ((com.corrodinggames.rts.game.units.custom.l) asVar).fw) {
                        return false;
                    }
                    boolean z2 = false;
                    Iterator it = amVarB.N().iterator();
                    while (it.hasNext()) {
                        s sVar = (s) it.next();
                        if (sVar != null && (sVar instanceof w)) {
                            w wVar = (w) sVar;
                            if (!wVar.F() && (asVarI = wVar.i()) != null && !asVarI.j() && asVarI.m()) {
                                z2 = true;
                            }
                        }
                    }
                    if (z2) {
                        return true;
                    }
                    return false;
                }
                return false;
            }
        };
        this.bE = new c();
        this.bG = 0.0f;
        this.bH = new ArrayList();
        this.bJ = new com.corrodinggames.rts.gameFramework.utility.m();
        av();
    }

    private void av() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        this.aL = 100 + (this.k * 9);
        this.aN = SlickToAndroidKeycodes.AndroidCodes.KEYCODE_BUTTON_15 + (this.k * 19);
        this.aP = 50 + (this.k * 2);
        this.aW = 4200 + (this.k * 5);
        this.aT = 3500 + (this.k * 5);
        this.aU = 7500 + (this.k * 5);
        this.bp = new Paint();
        this.bp.b(Color.a(0, 255, 0));
        this.bp.a(Paint.Style.STROKE);
        this.bp.a(true);
        lVarB.b(this.bp, 14.0f);
        al();
    }

    public void al() {
        Iterator it = this.bq.iterator();
        while (it.hasNext()) {
            ((d) it.next()).b();
        }
    }

    public void d(String str) {
        com.corrodinggames.rts.gameFramework.l.b("ai_debug(" + this.k + ")", str);
    }

    public PointF am() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        lVarB.bL.a(com.corrodinggames.rts.gameFramework.f.a(0, lVarB.bL.C), com.corrodinggames.rts.gameFramework.f.a(0, lVarB.bL.D));
        this.bo.a(lVarB.bL.T, lVarB.bL.U);
        return this.bo;
    }

    public PointF an() {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (lVarB.bL.A.size() == 0) {
            return null;
        }
        Point point = (Point) lVarB.bL.A.get(com.corrodinggames.rts.gameFramework.f.c(lVarB.bL.A.size()));
        lVarB.bL.a(point.f44a, point.b);
        this.bo.a(lVarB.bL.T, lVarB.bL.U);
        return this.bo;
    }

    public PointF a(float f, float f2) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        float f3 = -1.0f;
        PointF pointF = new PointF();
        for (int i = 0; i < lVarB.bL.A.size(); i++) {
            Point point = (Point) lVarB.bL.A.get(i);
            lVarB.bL.a(point.f44a, point.b);
            this.bo.a(lVarB.bL.T, lVarB.bL.U);
            PointF pointF2 = this.bo;
            float fA = com.corrodinggames.rts.gameFramework.f.a(pointF2.f45a, pointF2.b, f, f2);
            if (fA < f3 || f3 == -1.0f) {
                f3 = fA;
                pointF.a(pointF2);
            }
        }
        if (f3 == -1.0f) {
            return null;
        }
        return pointF;
    }

    i e(am amVar) {
        Iterator it = this.bn.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if (oVar instanceof i) {
                i iVar = (i) oVar;
                if (iVar.b(amVar)) {
                    return iVar;
                }
            }
        }
        return null;
    }

    i b(float f, float f2) {
        Iterator it = this.bn.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if (oVar instanceof i) {
                i iVar = (i) oVar;
                if (iVar.c(f, f2)) {
                    return iVar;
                }
            }
        }
        return null;
    }

    i f(am amVar) {
        return c(amVar.eo, amVar.ep);
    }

    i c(float f, float f2) {
        float f3 = -1.0f;
        i iVar = null;
        Iterator it = this.bn.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if (oVar instanceof i) {
                i iVar2 = (i) oVar;
                float fD = iVar2.d(f, f2);
                if (iVar == null || fD < f3) {
                    f3 = fD;
                    iVar = iVar2;
                }
            }
        }
        return iVar;
    }

    i a(ao aoVar, float f, float f2, boolean z) {
        float f3 = -1.0f;
        i iVar = null;
        Iterator it = this.bn.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if (oVar instanceof i) {
                i iVar2 = (i) oVar;
                float fD = iVar2.d(f, f2);
                if (a(f, f2, iVar2, aoVar) && (!z || !iVar2.t)) {
                    if (iVar == null || fD < f3) {
                        f3 = fD;
                        iVar = iVar2;
                    }
                }
            }
        }
        return iVar;
    }

    public static boolean a(am amVar, float f, float f2, float f3) {
        if (com.corrodinggames.rts.gameFramework.f.a(amVar.eo, amVar.ep, f, f2) < f3 * f3) {
            return true;
        }
        return false;
    }

    private boolean a(PointF pointF) {
        if (a(this, pointF.f45a, pointF.b, 290.0f) != null) {
            return false;
        }
        i iVarC = c(pointF.f45a, pointF.b);
        if (iVarC != null && iVarC.d(pointF.f45a, pointF.b) < 490000.0f) {
            return false;
        }
        PointF pointFA = a(pointF.f45a, pointF.b);
        if ((pointFA != null && com.corrodinggames.rts.gameFramework.f.a(pointF.f45a, pointF.b, pointFA.f45a, pointFA.b) < 160000.0f) || y.d(pointF.f45a, pointF.b) || y.d(pointF.f45a + 60.0f, pointF.b) || y.d(pointF.f45a, pointF.b + 60.0f) || y.d(pointF.f45a - 60.0f, pointF.b) || y.d(pointF.f45a, pointF.b + 60.0f)) {
            return false;
        }
        return true;
    }

    private boolean b(PointF pointF) {
        Iterator it = am.bE.iterator();
        while (it.hasNext()) {
            am amVar = (am) it.next();
            if (amVar.bX != this && (amVar instanceof com.corrodinggames.rts.game.units.d.e)) {
                if (amVar.bX.c(this) && a(amVar, pointF.f45a, pointF.b, 300.0f)) {
                    return false;
                }
                if (amVar.bX.d(this) && a(amVar, pointF.f45a, pointF.b, 320.0f)) {
                    return false;
                }
            }
        }
        if (b(this, pointF.f45a, pointF.b, 360.0f) >= 4 || a((com.corrodinggames.rts.game.n) this, pointF.f45a, pointF.b, 360.0f, true) >= 2) {
            return false;
        }
        return true;
    }

    public int a(d dVar, b bVar) {
        int iA = 0;
        Iterator it = dVar.c.iterator();
        while (it.hasNext()) {
            iA += a(((e) it.next()).f138a, bVar);
        }
        return iA;
    }

    public int a(com.corrodinggames.rts.game.units.as asVar, b bVar) {
        return a(asVar, true, bVar);
    }

    /* JADX WARN: Multi-variable type inference failed */
    public int a(com.corrodinggames.rts.game.units.as asVar, boolean z, b bVar) {
        boolean zJ = asVar.j();
        Integer numA = this.bE.a(zJ, asVar, z);
        if (numA != null) {
            return numA.intValue();
        }
        int iH = 0;
        if (zJ) {
            z = false;
        }
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i = 0; i < size; i++) {
            ai aiVar = amVarArrA[i];
            if (aiVar.bX == this && (bVar == b.include || !aiVar.bM)) {
                if (aiVar.dz == asVar) {
                    iH++;
                }
                if (z && (aiVar instanceof com.corrodinggames.rts.game.units.d.l)) {
                    iH += ((com.corrodinggames.rts.game.units.d.l) aiVar).h(asVar);
                }
            }
        }
        this.bE.a(zJ, asVar, z, Integer.valueOf(iH));
        return iH;
    }

    public int ao() {
        int size = 0;
        Iterator it = this.bn.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if (oVar instanceof g) {
                size += ((g) oVar).G.size();
            }
        }
        return size;
    }

    public boolean g(am amVar) {
        if (amVar instanceof com.corrodinggames.rts.game.units.y) {
            com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) amVar;
            if (yVar.cr()) {
                com.corrodinggames.rts.game.units.as asVarR = yVar.r();
                if ((asVarR instanceof com.corrodinggames.rts.game.units.custom.l) && !((com.corrodinggames.rts.game.units.custom.l) asVarR).ft) {
                    return false;
                }
                return true;
            }
            return false;
        }
        return false;
    }

    public boolean h(am amVar) {
        if (amVar instanceof com.corrodinggames.rts.game.units.y) {
            com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) amVar;
            if (!yVar.bI() && yVar.l() && !g(yVar) && !yVar.aj()) {
                com.corrodinggames.rts.game.units.as asVarR = yVar.r();
                if ((asVarR instanceof com.corrodinggames.rts.game.units.custom.l) && !((com.corrodinggames.rts.game.units.custom.l) asVarR).fs) {
                    return false;
                }
                return true;
            }
            return false;
        }
        return false;
    }

    public boolean b(am amVar, am amVar2) {
        if (this.U) {
            if (amVar instanceof com.corrodinggames.rts.game.units.y) {
                com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) amVar;
                if (yVar.aq() && aq.a(yVar, amVar2)) {
                    return true;
                }
                return false;
            }
            return false;
        }
        if (h(amVar) && (amVar instanceof com.corrodinggames.rts.game.units.y) && aq.a((com.corrodinggames.rts.game.units.y) amVar, amVar2)) {
            return true;
        }
        return false;
    }

    public void i(float f) {
        if (!as || !com.corrodinggames.rts.gameFramework.l.B().bl || this.aZ || this.aX) {
            return;
        }
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i = 0; i < size; i++) {
            am amVar = amVarArrA[i];
            if (amVar.bX == this && lVarB.cN.b((int) (amVar.eo - 200.0f), (int) (amVar.ep - 200.0f), (int) (amVar.eo + 200.0f), (int) (amVar.ep + 200.0f))) {
                if (amVar instanceof com.corrodinggames.rts.game.units.y) {
                }
                String str = VariableScope.nullOrMissingString;
                float f2 = (amVar.ep - lVarB.cx) - 60.0f;
                this.bp.b(Color.a(0, 255, 0));
                if (amVar instanceof com.corrodinggames.rts.game.units.d.e) {
                    f2 -= 80.0f;
                    str = ((((((str + "Base ( Team:" + this.k + " )") + "\nuseTransportsOnThisMap: " + ai()) + "\nuseHoverTransportsOnThisMap: " + aj()) + "\nattackingCount: " + this.ba) + "\ndefendingCount: " + this.bb) + "\nnumOfUnitsNeedingTransport: " + ao()) + "\ntransport: " + this.aG;
                    if (ae()) {
                        str = str + "\nTurtling: true";
                    }
                    this.bp.b(Color.a(255, 255, 255));
                }
                if (str.length() != 0) {
                    for (String str2 : str.split("\n")) {
                        float f3 = amVar.eo - lVarB.cw;
                        float f4 = f2;
                        float fM = (-this.bp.l()) + this.bp.m();
                        lVarB.bO.k();
                        if (lVarB.cX > 1.0f) {
                            lVarB.S();
                            f3 *= lVarB.cX;
                            f4 *= lVarB.cX;
                            fM /= lVarB.cX;
                        }
                        lVarB.bO.a(str2, f3, f4, this.bp);
                        lVarB.bO.l();
                        f2 += fM;
                    }
                }
            }
        }
        Iterator it = this.bm.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if (lVarB.cN.b((int) (oVar.S - oVar.U), (int) (oVar.T - oVar.U), (int) (oVar.S + oVar.U), (int) (oVar.T + oVar.U))) {
                this.bp.b(K());
                lVarB.bO.a(oVar.S - lVarB.cw, oVar.T - lVarB.cx, oVar.U + 2.0f, this.bp);
                int iA = Color.a(0, 255, 0);
                String str3 = VariableScope.nullOrMissingString + "\n" + oVar.getClass().getSimpleName() + " ( Team:" + this.k + " )";
                float f5 = oVar.T - lVarB.cx;
                if (oVar instanceof i) {
                    f5 -= 50.0f;
                    i iVar = (i) oVar;
                    String str4 = (((str3 + "\nState: " + iVar.b.name() + "(id:" + iVar.Q + ")") + "\nunsafe: " + iVar.f() + " (" + iVar.s + ")") + "\nunsafeBaseTimer: " + iVar.v) + "\nallowedUnits: " + iVar.d;
                    if (iVar.z != null) {
                        str4 = str4 + "\nlastAttemptedBuilding: " + iVar.z.i();
                    }
                    if (iVar.A != null) {
                        str4 = str4 + "\nlastAttemptedBuilding-cannotAffordPrice: " + iVar.A.a(false, true, 4, true);
                    }
                    if (iVar.B != null) {
                        str4 = str4 + "\nlastAttemptedBuilding-cannotAffordBy: " + iVar.B.a(false, true, 4, true);
                    }
                    String str5 = ((((str4 + "\nlastAttemptedBuildingCount: " + iVar.C) + "\nlastAttemptedBuildingFailed: " + iVar.D) + "\nlastUnitAttempt: " + iVar.E + " (" + iVar.F + " - " + iVar.G + ")") + "\nbuildBuildingDelay: " + iVar.e) + "\ncredits: " + com.corrodinggames.rts.gameFramework.f.c(this.o) + " (x" + com.corrodinggames.rts.gameFramework.f.g(E()) + ")";
                    if (iVar.b == j.Pre) {
                        str5 = str5 + "\nclaimedBaseTimer: " + iVar.l;
                    }
                    if (iVar.k > 100.0f) {
                        str5 = str5 + "\nabandonedTimer: " + iVar.k;
                    }
                    if (iVar.g > 0.0f) {
                        str5 = str5 + "\nrequestedBuildersDelay: " + iVar.g + " (" + iVar.h + ")";
                    }
                    str3 = (str5 + "\nBuilders: " + iVar.J) + "\nIdle Builders: " + iVar.K;
                }
                if (oVar instanceof g) {
                    g gVar = (g) oVar;
                    if (gVar.c) {
                        str3 = str3 + "\nVIP Mode";
                    }
                    String str6 = (((str3 + "\n" + (gVar.b() ? "Defensive Type" : "Attack Type")) + "\nUnits: " + gVar.F.size() + " / " + gVar.A) + "\nStagingForAttack: " + gVar.q) + "\nAttackDelay: " + gVar.l;
                    if (gVar.u != 0.0f) {
                        str6 = str6 + "\nStagingTimer: " + gVar.u;
                    }
                    String str7 = str6 + "\nStagingTargetFound: " + gVar.r;
                    if (gVar.o != 0.0f) {
                        str7 = str7 + "\nattackingFor: " + gVar.o;
                    }
                    str3 = str7 + "\ncommonMovement: " + gVar.i().name();
                    if (gVar.B) {
                        str3 = str3 + " (seaGroup)";
                    }
                    if (gVar.G.size() > 0) {
                        str3 = str3 + "\nunitsNeedingTransport:" + gVar.G.size();
                    }
                    if (gVar.b != null) {
                        str3 = str3 + "\nlast action:" + gVar.b;
                    }
                    if (!gVar.v && !gVar.q) {
                        str3 = str3 + "\nnext move:" + ((int) k(gVar.n)) + "s";
                    }
                }
                if (oVar instanceof n) {
                    n nVar = (n) oVar;
                    str3 = ((str3 + "\nUnitsWanted: " + nVar.l) + "\nunits: " + nVar.F.size()) + "\nreadyToMoveOut: " + nVar.q;
                    if (nVar.m != null) {
                        str3 = str3 + "\nCurrentlyHelping: " + nVar.m.Q;
                    }
                }
                if (oVar instanceof l) {
                    str3 = str3 + "\nneedsTransportGroup: " + ((l) oVar).f143a;
                }
                this.bp.b(K());
                for (String str8 : str3.split("\n")) {
                    if (!str8.trim().equals(VariableScope.nullOrMissingString)) {
                        float f6 = oVar.S - lVarB.cw;
                        float f7 = f5;
                        float fM2 = (-this.bp.l()) + this.bp.m();
                        lVarB.bO.k();
                        if (lVarB.cX > 1.0f) {
                            lVarB.S();
                            f6 *= lVarB.cX;
                            f7 *= lVarB.cX;
                            fM2 /= lVarB.cX;
                        }
                        lVarB.bO.a(str8, f6, f7, this.bp);
                        lVarB.bO.l();
                        f5 += fM2;
                        this.bp.b(iA);
                    }
                }
            }
        }
    }

    public am e(com.corrodinggames.rts.game.n nVar) {
        Iterator it = am.bE.iterator();
        while (it.hasNext()) {
            am amVar = (am) it.next();
            if (amVar.bX == nVar && ((amVar instanceof com.corrodinggames.rts.game.units.d.e) || amVar.bP)) {
                return amVar;
            }
        }
        Iterator it2 = am.bE.iterator();
        while (it2.hasNext()) {
            am amVar2 = (am) it2.next();
            if (amVar2.bX == nVar && amVar2.bO) {
                return amVar2;
            }
        }
        return null;
    }

    @Override // com.corrodinggames.rts.game.n
    public void a(float f) {
        am amVarE;
        super.a(f);
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (this.aX || this.aZ) {
            return;
        }
        if (!lVarB.bX.B || (lVarB.bX.C && !lVarB.cb.j())) {
            if (this.bG > 0.0f) {
                this.bG -= f;
                return;
            }
            this.bF = C();
            if (this.be && lVarB.by > 3000) {
                this.be = false;
                am[] amVarArrA = am.bE.a();
                int i = 0;
                int size = am.bE.size();
                while (true) {
                    if (i >= size) {
                        break;
                    }
                    am amVar = amVarArrA[i];
                    if (!(amVar instanceof com.corrodinggames.rts.game.units.f)) {
                        i++;
                    } else {
                        d("firstRunDelayed: Found damagingBorder");
                        this.bg = (com.corrodinggames.rts.game.units.f) amVar;
                        break;
                    }
                }
            }
            if (this.bd) {
                this.bd = false;
                this.bh = true;
                this.bi = true;
                this.bj = true;
                this.bk = true;
                am amVarE2 = e(this);
                if (amVarE2 == null) {
                    d("firstRun: no command center found");
                }
                if (amVarE2 != null) {
                    for (int i2 = 0; i2 < com.corrodinggames.rts.game.n.c; i2++) {
                        com.corrodinggames.rts.game.n nVarK = com.corrodinggames.rts.game.n.k(i2);
                        if (nVarK != null && nVarK != this && (amVarE = e(nVarK)) != null) {
                            if (!a(amVarE2.eo, amVarE2.ep, amVarE.eo, amVarE.ep, ao.LAND)) {
                                this.bh = false;
                            }
                            if (!a(amVarE2.eo, amVarE2.ep, amVarE.eo, amVarE.ep, ao.HOVER)) {
                                this.bi = false;
                            }
                        }
                    }
                    Iterator it = lVarB.bL.A.iterator();
                    while (it.hasNext()) {
                        PointF pointFA = lVarB.bL.a((Point) it.next());
                        if (!a(amVarE2.eo, amVarE2.ep, pointFA.f45a, pointFA.b + lVarB.bL.o, ao.LAND)) {
                            this.bj = false;
                        }
                        if (!a(amVarE2.eo, amVarE2.ep, pointFA.f45a, pointFA.b + lVarB.bL.o, ao.HOVER)) {
                            this.bk = false;
                        }
                    }
                }
            }
            this.aP += f;
            this.aQ += f;
            if (this.aP > 25.0f) {
                this.aP -= 25.0f;
                if (this.aP > 25.0f) {
                    this.aP = 25.0f;
                }
                if (this.aP < -1.0f) {
                    this.aP = -1.0f;
                }
                Iterator it2 = this.bm.iterator();
                while (it2.hasNext()) {
                    o oVar = (o) it2.next();
                    if (oVar instanceof i) {
                        ((i) oVar).f140a += this.aQ;
                    }
                }
                for (int i3 = 0; i3 < 2; i3++) {
                    i iVar = null;
                    Iterator it3 = this.bm.iterator();
                    while (it3.hasNext()) {
                        o oVar2 = (o) it3.next();
                        if (oVar2 instanceof i) {
                            i iVar2 = (i) oVar2;
                            if (iVar == null || iVar.f140a < iVar2.f140a) {
                                iVar = iVar2;
                            }
                        }
                    }
                    if (iVar == null || iVar.f140a < 50.0f) {
                        break;
                    }
                    i iVar3 = iVar;
                    iVar3.b(iVar3.f140a);
                    iVar3.d(iVar3.f140a);
                    iVar3.f140a = 0.0f;
                }
                this.aQ = 0.0f;
            }
            this.aL += f;
            this.aM += f;
            if (this.aL > 80.0f) {
                n(this.aM);
                this.aL -= 80.0f;
                if (this.aL > 80.0f) {
                    this.aL = 80.0f;
                }
                if (this.aL < -1.0f) {
                    this.aL = -1.0f;
                }
                this.aM = 0.0f;
            }
            this.aN += f;
            this.aO += f;
            if (this.aN > 250.0f) {
                m(this.aO);
                this.aN -= 250.0f;
                if (this.aN > 250.0f) {
                    this.aN = 250.0f;
                }
                if (this.aN < -1.0f) {
                    this.aN = -1.0f;
                }
                this.aO = 0.0f;
            }
        }
    }

    public float j(float f) {
        return (f / 60.0f) * 1000.0f;
    }

    public float k(float f) {
        return f / 60.0f;
    }

    public void a(com.corrodinggames.rts.game.units.y yVar, com.corrodinggames.rts.game.units.a.c cVar) {
        com.corrodinggames.rts.gameFramework.e eVarA = com.corrodinggames.rts.gameFramework.l.B().cf.a(this);
        eVarA.a(yVar);
        eVarA.a(cVar);
    }

    public void l(float f) {
        Iterator it = am.bE.iterator();
        while (it.hasNext()) {
            am amVar = (am) it.next();
            if (amVar.bX == this && (amVar instanceof com.corrodinggames.rts.game.units.y) && i(amVar)) {
                com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) amVar;
                if (yVar instanceof com.corrodinggames.rts.game.units.h.e) {
                    boolean z = false;
                    am amVarAb = yVar.ab();
                    if (amVarAb != null && yVar.h(amVarAb)) {
                        z = !amVarAb.cH();
                    }
                    boolean z2 = !yVar.Q();
                    if (z && z != z2) {
                        a(yVar, com.corrodinggames.rts.game.units.h.e.j.N());
                    }
                    if (!z && z != z2) {
                        a(yVar, com.corrodinggames.rts.game.units.h.e.k.N());
                    }
                }
                if (yVar instanceof com.corrodinggames.rts.game.units.b.c) {
                    boolean z3 = true;
                    am amVarAb2 = yVar.ab();
                    if (amVarAb2 != null && yVar.h(amVarAb2)) {
                        z3 = !amVarAb2.Q();
                    }
                    boolean z4 = !yVar.Q();
                    if (z3 && z3 != z4) {
                        a(yVar, com.corrodinggames.rts.game.units.b.c.y.N());
                    }
                    if (!z3 && z3 != z4) {
                        a(yVar, com.corrodinggames.rts.game.units.b.c.z.N());
                    }
                }
                if (yVar.be() == com.corrodinggames.rts.game.units.b.bomber && yVar.aq() && yVar.ab() != null) {
                    com.corrodinggames.rts.gameFramework.e eVarA = com.corrodinggames.rts.gameFramework.l.B().cf.a(this);
                    eVarA.a(yVar);
                    eVarA.a(yVar.ab());
                }
            }
        }
    }

    public com.corrodinggames.rts.game.units.a c(com.corrodinggames.rts.game.units.y yVar) {
        if (yVar.aS()) {
            boolean z = true;
            if (yVar.aj()) {
                z = false;
            }
            if (g(yVar)) {
                z = false;
            }
            if (z) {
                if (this.aY) {
                    return com.corrodinggames.rts.game.units.a.aggressive;
                }
                return com.corrodinggames.rts.game.units.a.outOfRange;
            }
        }
        return com.corrodinggames.rts.game.units.a.onlyInRange;
    }

    public ArrayList ap() {
        bK.clear();
        return bK;
    }

    public void d(com.corrodinggames.rts.game.units.y yVar) {
        Iterator it = this.bJ.iterator();
        while (it.hasNext()) {
            ((com.corrodinggames.rts.game.a.a.a) it.next()).a(this, yVar);
        }
    }

    public void e(com.corrodinggames.rts.game.units.y yVar) {
        Iterator it = this.bJ.iterator();
        while (it.hasNext()) {
            ((com.corrodinggames.rts.game.a.a.a) it.next()).b(this, yVar);
        }
    }

    public void m(float f) {
        boolean z;
        am amVarAr;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        this.bE.b();
        Iterator it = this.bJ.iterator();
        while (it.hasNext()) {
            ((com.corrodinggames.rts.game.a.a.a) it.next()).b(j(f), this);
        }
        int i = 0;
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i2 = 0; i2 < size; i2++) {
            am amVar = amVarArrA[i2];
            if (amVar.bX == this && !amVar.u()) {
                i++;
                if (amVar instanceof com.corrodinggames.rts.game.units.y) {
                    com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) amVar;
                    if (!yVar.bD) {
                        yVar.bD = true;
                        d(yVar);
                    }
                    if (amVar.cN == null) {
                        i iVar = yVar.aC;
                        yVar.aC = f(yVar);
                        if (yVar.aC != null && iVar != yVar.aC) {
                            if (yVar.bI()) {
                                yVar.aD = a(amVar.eo, amVar.ep, yVar.aC.S, yVar.aC.T, ao.LAND);
                                if (!yVar.aD && yVar.r().p()) {
                                    yVar.aD = a(amVar.eo, amVar.ep + 15.0f, yVar.aC.S, yVar.aC.T, ao.LAND);
                                }
                            } else {
                                yVar.aD = a(amVar.eo, amVar.ep, yVar.aC.S, yVar.aC.T, ao.LAND);
                            }
                        }
                    }
                }
            }
        }
        l(f);
        Iterator it2 = am.bE.iterator();
        while (it2.hasNext()) {
            am amVar2 = (am) it2.next();
            if (amVar2.bX == this && (amVar2 instanceof com.corrodinggames.rts.game.units.y)) {
                com.corrodinggames.rts.game.units.y yVar2 = (com.corrodinggames.rts.game.units.y) amVar2;
                com.corrodinggames.rts.game.units.a aVarC = c(yVar2);
                if (yVar2.P != aVarC && i(yVar2)) {
                    com.corrodinggames.rts.gameFramework.e eVarA = lVarB.cf.a(this);
                    eVarA.a(yVar2);
                    eVarA.a(aVarC);
                }
                if (yVar2.aj() && yVar2.dd() && yVar2.aB == null && i(yVar2)) {
                    g.a(this, yVar2);
                }
            }
        }
        if (i == 0 && !this.U) {
            this.aZ = true;
        }
        this.aU = com.corrodinggames.rts.gameFramework.f.a(this.aU, f);
        this.aT = com.corrodinggames.rts.gameFramework.f.a(this.aT, f);
        if (ac()) {
            this.aT = com.corrodinggames.rts.gameFramework.f.a(this.aT, 4.0f * f);
        }
        if (this.aT == 0.0f) {
            int i3 = 0;
            Iterator it3 = this.bn.iterator();
            while (it3.hasNext()) {
                o oVar = (o) it3.next();
                if ((oVar instanceof i) && ((i) oVar).b == j.Pre) {
                    i3++;
                }
            }
            boolean z2 = false;
            if (i3 > 2) {
                z2 = true;
            }
            if (z2) {
                this.aT = 300.0f;
            } else {
                PointF pointFAn = an();
                if (pointFAn != null) {
                    pointFAn.b += lVarB.bL.o;
                    if (b(pointFAn.f45a, pointFAn.b) == null && b(pointFAn)) {
                        this.aT = 2000.0f;
                        i iVar2 = new i(this, pointFAn.f45a, pointFAn.b);
                        iVar2.U = 360.0f;
                        iVar2.b = j.Pre;
                        iVar2.c = k.ResourceOutpost;
                        this.aw++;
                    }
                }
            }
        }
        if (this.aU == 0.0f) {
            this.aU = 100.0f;
            int i4 = 0;
            Iterator it4 = this.bn.iterator();
            while (it4.hasNext()) {
                o oVar2 = (o) it4.next();
                if ((oVar2 instanceof i) && ((i) oVar2).c == k.ForwardOutpost) {
                    i4++;
                }
            }
            if (i4 < 3 && (amVarAr = ar()) != null) {
                PointF pointF = new PointF();
                pointF.f45a = amVarAr.eo;
                pointF.b = amVarAr.ep;
                if (pointF != null && b(pointF.f45a, pointF.b) == null && a(pointF)) {
                    this.aU = 5000.0f;
                    i iVar3 = new i(this, pointF.f45a, pointF.b);
                    iVar3.U = 310.0f;
                    iVar3.b = j.Pre;
                    iVar3.c = k.ForwardOutpost;
                    this.aw++;
                }
            }
        }
        this.bc = 0;
        this.ba = 0;
        this.bb = 0;
        am[] amVarArrA2 = am.bE.a();
        int size2 = am.bE.size();
        for (int i5 = 0; i5 < size2; i5++) {
            am amVar3 = amVarArrA2[i5];
            if (amVar3.bX == this && (amVar3 instanceof com.corrodinggames.rts.game.units.y)) {
                com.corrodinggames.rts.game.units.y yVar3 = (com.corrodinggames.rts.game.units.y) amVar3;
                if (!amVar3.bI()) {
                    if (yVar3.aB != null && yVar3.aB.b()) {
                        this.bb++;
                    } else if (h(yVar3) && !yVar3.bM) {
                        if (yVar3.h() == ao.WATER) {
                            this.bc++;
                        } else {
                            this.ba++;
                        }
                    }
                }
            }
        }
        this.aR = com.corrodinggames.rts.gameFramework.f.a(this.aR, f);
        this.aS += f;
        if (this.aR == 0.0f) {
            int i6 = 0;
            int i7 = 0;
            int i8 = 0;
            int i9 = 0;
            Iterator it5 = am.bE.iterator();
            while (it5.hasNext()) {
                am amVar4 = (am) it5.next();
                if (amVar4.bX == this && amVar4.bT()) {
                    if (((amVar4 instanceof com.corrodinggames.rts.game.units.d.m) || (amVar4 instanceof com.corrodinggames.rts.game.units.d.a) || (amVar4 instanceof t)) && (amVar4 instanceof com.corrodinggames.rts.game.units.d.a)) {
                        i7++;
                        if (((com.corrodinggames.rts.game.units.d.a) amVar4).V() > 1) {
                            i6++;
                        }
                    }
                    if (amVar4.r().p()) {
                        i8++;
                        if (s.c(amVar4.cm())) {
                            i9++;
                        }
                    }
                }
            }
            if (a(4100.0d) || this.aS > 2400.0f || this.aH == 0) {
                Iterator it6 = am.bE.iterator();
                while (it6.hasNext()) {
                    am amVar5 = (am) it6.next();
                    if (amVar5.bX == this && (amVar5 instanceof com.corrodinggames.rts.game.units.y)) {
                        com.corrodinggames.rts.game.units.y yVar4 = (com.corrodinggames.rts.game.units.y) amVar5;
                        if (yVar4.cl()) {
                            ArrayList arrayListN = yVar4.N();
                            ArrayList arrayListAp = ap();
                            Iterator it7 = arrayListN.iterator();
                            while (it7.hasNext()) {
                                s sVar = (s) it7.next();
                                if (sVar.n(yVar4)) {
                                    arrayListAp.add(sVar);
                                }
                            }
                            if (arrayListAp.size() > 0) {
                                a(yVar4, (s) f.a(arrayListAp));
                            }
                        }
                    }
                }
                boolean z3 = false;
                if (a(30000.0d)) {
                    z3 = true;
                }
                Iterator it8 = am.bE.iterator();
                while (it8.hasNext()) {
                    am amVar6 = (am) it8.next();
                    if (amVar6.bX == this && (amVar6 instanceof com.corrodinggames.rts.game.units.y)) {
                        com.corrodinggames.rts.game.units.y yVar5 = (com.corrodinggames.rts.game.units.y) amVar6;
                        com.corrodinggames.rts.game.units.a.c cVarCm = yVar5.cm();
                        if (s.c(cVarCm)) {
                            float fCn = yVar5.cn();
                            if (fCn < 0.0f) {
                                fCn = 6.0f;
                                z = false;
                            } else {
                                z = true;
                            }
                            if (fCn == 0.0f) {
                                continue;
                            } else {
                                int iC = com.corrodinggames.rts.gameFramework.f.c(100);
                                float f2 = 100.0f - fCn;
                                if (z3) {
                                    f2 -= 4.0f;
                                }
                                if (!z) {
                                    if (amVar6.r().p() && i9 > 0) {
                                        f2 = 50.0f;
                                    }
                                    if (i7 > 0 && i6 == 0) {
                                        f2 = 99.0f;
                                        if (amVar6 instanceof com.corrodinggames.rts.game.units.d.a) {
                                            f2 = 40.0f;
                                        }
                                    }
                                }
                                if (f2 < 10.0f) {
                                    f2 = 10.0f;
                                }
                                if (((float) iC) > f2) {
                                    if (yVar5.co()) {
                                    }
                                    if (com.corrodinggames.rts.gameFramework.f.c(100) > 50) {
                                        yVar5.a(this.bH);
                                        if (this.bH.size() != 0) {
                                            cVarCm = (com.corrodinggames.rts.game.units.a.c) this.bH.get(new Random().nextInt(this.bH.size()));
                                        }
                                    }
                                    boolean z4 = false;
                                    s sVarA = yVar5.a(cVarCm);
                                    if (sVarA != null) {
                                        if (sVarA.m(yVar5)) {
                                            z4 = true;
                                        }
                                        if (sVarA.e() == com.corrodinggames.rts.game.units.a.u.targetGround) {
                                            z4 = true;
                                        }
                                        if (!sVarA.b(yVar5)) {
                                            z4 = true;
                                        }
                                        if (!sVarA.a((am) yVar5, false)) {
                                            z4 = true;
                                        }
                                    } else {
                                        z4 = true;
                                    }
                                    if (!z4) {
                                        a(yVar5, cVarCm);
                                        a(yVar5, sVarA.B(), true);
                                        this.aR = 900.0f;
                                        this.aS = 0.0f;
                                        if (!z3) {
                                            break;
                                        }
                                        if (a(40000.0d)) {
                                            if (com.corrodinggames.rts.gameFramework.f.c(100) > 95) {
                                                break;
                                            }
                                        } else if (com.corrodinggames.rts.gameFramework.f.c(100) > 80) {
                                            break;
                                        }
                                    } else {
                                        continue;
                                    }
                                } else {
                                    continue;
                                }
                            }
                        } else {
                            continue;
                        }
                    }
                }
            }
        }
        Iterator it9 = this.bm.iterator();
        while (it9.hasNext()) {
            o oVar3 = (o) it9.next();
            if (oVar3 instanceof h) {
                ((h) oVar3).b(f);
            }
        }
    }

    public boolean a(com.corrodinggames.rts.game.units.y yVar, s sVar) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (sVar.b(yVar) && sVar.a((am) yVar, false)) {
            com.corrodinggames.rts.gameFramework.e eVarA = lVarB.cf.a(this);
            eVarA.a(yVar);
            eVarA.a(sVar.z());
            return true;
        }
        return false;
    }

    public boolean a(com.corrodinggames.rts.game.units.y yVar, s sVar, PointF pointF, am amVar) {
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        if (sVar.b(yVar) && sVar.a((am) yVar, false)) {
            com.corrodinggames.rts.gameFramework.e eVarA = lVarB.cf.a(this);
            eVarA.a(yVar);
            eVarA.a(sVar.z(), pointF, amVar);
            return true;
        }
        return false;
    }

    public void aq() {
        Iterator it = this.bm.iterator();
        while (it.hasNext()) {
            o oVar = (o) it.next();
            if (oVar instanceof i) {
                ((i) oVar).t();
            }
        }
        Iterator it2 = this.bm.iterator();
        while (it2.hasNext()) {
            o oVar2 = (o) it2.next();
            Iterator it3 = this.bm.iterator();
            while (it3.hasNext()) {
                o oVar3 = (o) it3.next();
                if (oVar2 != oVar3 && oVar2.Q == oVar3.Q) {
                    com.corrodinggames.rts.gameFramework.l.a("Id overlap on:" + oVar2.Q);
                    com.corrodinggames.rts.gameFramework.l.a("zone x:" + oVar2.S);
                    com.corrodinggames.rts.gameFramework.l.a("zone y:" + oVar2.T);
                    com.corrodinggames.rts.gameFramework.l.a("zone radius:" + oVar2.U);
                    com.corrodinggames.rts.gameFramework.l.a("zone type:" + oVar2.getClass().getName());
                }
            }
        }
        int i = 0;
        Iterator it4 = this.bm.iterator();
        while (it4.hasNext()) {
            if (((o) it4.next()) instanceof i) {
                i++;
            }
        }
        int i2 = 0;
        Iterator it5 = this.bm.iterator();
        while (it5.hasNext()) {
            o oVar4 = (o) it5.next();
            if (oVar4 instanceof i) {
                Iterator it6 = this.bm.iterator();
                while (it6.hasNext()) {
                    o oVar5 = (o) it6.next();
                    if ((oVar5 instanceof i) && oVar4 != oVar5 && com.corrodinggames.rts.gameFramework.f.a(oVar4.S, oVar4.T, oVar5.S, oVar5.T) < 400.0f) {
                        i2++;
                    }
                }
            }
        }
        if (i2 > 0) {
            d("baseOverlapCount:" + i2);
        }
    }

    @Override // com.corrodinggames.rts.game.n
    public void a(com.corrodinggames.rts.game.units.y yVar) {
        if (yVar.bX == this) {
            this.bE.a(yVar);
        }
    }

    public void n(float f) {
        int i;
        au auVarAr;
        i iVarF;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        this.bE.a();
        Iterator it = this.bJ.iterator();
        while (it.hasNext()) {
            ((com.corrodinggames.rts.game.a.a.a) it.next()).a(j(f), this);
        }
        Iterator it2 = this.bm.iterator();
        while (it2.hasNext()) {
            o oVar = (o) it2.next();
            if (oVar instanceof h) {
                ((h) oVar).c(f);
            }
        }
        if (this.bg != null) {
            Iterator it3 = this.bm.iterator();
            while (true) {
                if (!it3.hasNext()) {
                    break;
                }
                o oVar2 = (o) it3.next();
                if (this.bg.a(oVar2.S, oVar2.T)) {
                    if (oVar2 instanceof i) {
                        oVar2.p();
                        break;
                    } else if (oVar2 instanceof g) {
                        PointF pointFA = this.bg.a(oVar2.S, oVar2.T, oVar2.U + 20.0f);
                        oVar2.S = pointFA.f45a;
                        oVar2.T = pointFA.b;
                    }
                }
            }
        }
        this.aW = com.corrodinggames.rts.gameFramework.f.a(this.aW, f);
        int i2 = 0;
        Iterator it4 = this.bn.iterator();
        while (it4.hasNext()) {
            if (((o) it4.next()) instanceof i) {
                i2++;
            }
        }
        if (i2 < 1) {
            Iterator it5 = am.bE.iterator();
            while (true) {
                if (!it5.hasNext()) {
                    break;
                }
                am amVar = (am) it5.next();
                if (amVar.bX == this && (amVar instanceof com.corrodinggames.rts.game.units.d.e)) {
                    i iVar = new i(this, amVar.eo, amVar.ep);
                    iVar.U = 420.0f;
                    iVar.b = j.Active;
                    iVar.c = k.Main;
                    i2++;
                    break;
                }
            }
            if (i2 < 1) {
                Iterator it6 = am.bE.iterator();
                while (true) {
                    if (!it6.hasNext()) {
                        break;
                    }
                    am amVar2 = (am) it6.next();
                    if (amVar2.bX == this && this.bz.b(amVar2.r())) {
                        i iVar2 = new i(this, amVar2.eo, amVar2.ep);
                        iVar2.U = 420.0f;
                        iVar2.b = j.Active;
                        iVar2.c = k.Main;
                        i2++;
                        break;
                    }
                }
            }
            if (i2 < 1) {
                Iterator it7 = am.bE.iterator();
                while (true) {
                    if (!it7.hasNext()) {
                        break;
                    }
                    am amVar3 = (am) it7.next();
                    if (amVar3.bX == this && (amVar3 instanceof com.corrodinggames.rts.game.units.y)) {
                        com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) amVar3;
                        boolean z = false;
                        Iterator it8 = this.bz.c.iterator();
                        while (true) {
                            if (it8.hasNext()) {
                                if (yVar.b(((e) it8.next()).f138a, true)) {
                                    z = true;
                                    break;
                                }
                            } else {
                                break;
                            }
                        }
                        if (z) {
                            i iVar3 = new i(this, amVar3.eo, amVar3.ep);
                            iVar3.U = 420.0f;
                            iVar3.b = j.Active;
                            iVar3.c = k.Main;
                            i2++;
                            break;
                        }
                    }
                }
            }
            if (i2 < 1) {
                Iterator it9 = am.bE.iterator();
                while (true) {
                    if (!it9.hasNext()) {
                        break;
                    }
                    am amVar4 = (am) it9.next();
                    if (amVar4.bX == this && (amVar4 instanceof com.corrodinggames.rts.game.units.y) && ((com.corrodinggames.rts.game.units.y) amVar4).ai()) {
                        i iVar4 = new i(this, amVar4.eo, amVar4.ep);
                        iVar4.U = 420.0f;
                        iVar4.b = j.Active;
                        iVar4.c = k.Main;
                        int i3 = i2 + 1;
                        break;
                    }
                }
            }
            if (!this.bf) {
                this.bf = true;
                if (a(this.bB, b.include) >= 1) {
                    for (int i4 = 0; i4 < lVarB.bL.A.size(); i4++) {
                        Point point = (Point) lVarB.bL.A.get(i4);
                        lVarB.bL.a(point.f44a, point.b);
                        this.bo.a(lVarB.bL.T, lVarB.bL.U);
                        PointF pointF = this.bo;
                        pointF.b += lVarB.bL.o;
                        if (b(pointF.f45a, pointF.b) == null && a(this.bB, pointF.f45a, pointF.b, 200) >= 1 && b(pointF)) {
                            i iVar5 = new i(this, pointF.f45a, pointF.b);
                            iVar5.U = 360.0f;
                            iVar5.b = j.Pre;
                            iVar5.c = k.ResourceOutpost;
                        }
                    }
                }
            }
        }
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i5 = 0; i5 < size; i5++) {
            am amVar5 = amVarArrA[i5];
            if (amVar5.bX == this && amVar5.cN == null && (amVar5 instanceof com.corrodinggames.rts.game.units.y) && amVar5.aj() && i(amVar5)) {
                com.corrodinggames.rts.game.units.y yVar2 = (com.corrodinggames.rts.game.units.y) amVar5;
                if (e((am) yVar2) != null) {
                    if (yVar2.aq()) {
                    }
                } else if (yVar2.aq() && (iVarF = f(yVar2)) != null) {
                    PointF pointFW = iVarF.w();
                    com.corrodinggames.rts.gameFramework.e eVarA = lVarB.cf.a(this);
                    eVarA.a(yVar2);
                    eVarA.a(pointFW.f45a, pointFW.b);
                }
            }
        }
        int size2 = am.bE.size();
        for (int i6 = 0; i6 < size2; i6++) {
            am amVar6 = amVarArrA[i6];
            if (amVar6.bX == this && (amVar6 instanceof com.corrodinggames.rts.game.units.y)) {
                com.corrodinggames.rts.game.units.y yVar3 = (com.corrodinggames.rts.game.units.y) amVar6;
                if (yVar3.V > 2400.0f && i(yVar3)) {
                    if (!yVar3.aN || yVar3.V >= 24000.0f) {
                        com.corrodinggames.rts.gameFramework.e eVarA2 = lVarB.cf.a(this);
                        eVarA2.a(yVar3);
                        eVarA2.h();
                        if (!yVar3.aj()) {
                        }
                    }
                } else if (!yVar3.aj() && i(yVar3) && (auVarAr = yVar3.ar()) != null && auVarAr.d() == av.build && yVar3.V > 700.0f) {
                    com.corrodinggames.rts.gameFramework.e eVarA3 = lVarB.cf.a(this);
                    eVarA3.a(yVar3);
                    eVarA3.h();
                }
            }
        }
        if (!this.U) {
            ak();
            int i7 = 1;
            boolean z2 = true;
            if (af()) {
                i7 = 1 + 1;
                z2 = false;
            }
            if (this.ay > 6) {
                i7 = 2;
            }
            if (this.ay > 11) {
                i7 = 3;
            }
            if (this.aC < i7) {
                g gVar = new g(this, false);
                gVar.A = 8;
                if (ac()) {
                    gVar.A = 10;
                }
                gVar.k();
                this.av++;
            }
            if ((this.aD >= i7 || this.aE > 6) && this.aA < 1 && z2) {
                g gVar2 = new g(this, true);
                if (this.au < 2) {
                    gVar2.A = 3;
                } else if (this.au < 5) {
                    gVar2.A = 5;
                } else {
                    gVar2.A = 7;
                    if (ac()) {
                        if (this.au < 25) {
                            gVar2.A = 14;
                        } else {
                            gVar2.A = 18;
                        }
                    }
                }
                gVar2.k();
                this.au++;
            }
            if (ah() && this.aB < 1 && z2) {
                g gVar3 = new g(this, true);
                gVar3.B = true;
                gVar3.A = 5;
                if (ac()) {
                    gVar3.A = 10;
                }
                gVar3.k();
            }
            if (ai() && this.aF < 3) {
                n nVar = new n(this);
                nVar.l = 1;
                nVar.f();
            }
        }
        if (this.U) {
            if (this.aW > 30.0f) {
                this.aW = 30.0f;
            }
            if (this.aW == 0.0f) {
                this.aV++;
                if (this.aV == 1) {
                    this.aW = 1000.0f;
                    return;
                }
                if (this.aV == 2) {
                    this.aW = 3000.0f;
                    am amVarAs = as();
                    if (amVarAs != null) {
                        if (this.U) {
                            i = 0;
                        } else {
                            i = 2;
                            if (this.ba < 4) {
                                i = 5;
                            }
                        }
                        com.corrodinggames.rts.gameFramework.e eVarA4 = lVarB.cf.a(this);
                        int size3 = am.bE.size();
                        for (int i8 = 0; i8 < size3; i8++) {
                            am amVar7 = amVarArrA[i8];
                            if (amVar7.bX == this && (amVar7 instanceof com.corrodinggames.rts.game.units.y)) {
                                com.corrodinggames.rts.game.units.y yVar4 = (com.corrodinggames.rts.game.units.y) amVar7;
                                if (!yVar4.bM && b(yVar4, amVarAs)) {
                                    if (i <= 0) {
                                        eVarA4.a(yVar4);
                                    } else {
                                        i--;
                                    }
                                }
                            }
                        }
                        eVarA4.b(amVarAs.eo, amVarAs.ep);
                        return;
                    }
                    return;
                }
                this.aV = 0;
            }
        }
    }

    public boolean i(am amVar) {
        if (amVar.u() || amVar.t() || amVar.cW() || amVar.bN) {
            return false;
        }
        return true;
    }

    public am ar() {
        am amVar = null;
        int i = 0;
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i2 = 0; i2 < size; i2++) {
            am amVar2 = amVarArrA[i2];
            if (!amVar2.bV && amVar2.cN == null && this == amVar2.bX && h(amVar2)) {
                i++;
            }
        }
        int iRandom = (int) (Math.random() * i);
        int i3 = 0;
        Iterator it = am.bE.iterator();
        while (true) {
            if (!it.hasNext()) {
                break;
            }
            am amVar3 = (am) it.next();
            if (!amVar3.bV && amVar3.cN == null && this == amVar3.bX && h(amVar3)) {
                if (i3 == iRandom) {
                    amVar = amVar3;
                    break;
                }
                i3++;
            }
        }
        return amVar;
    }

    public am as() {
        am amVar = null;
        int i = 0;
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i2 = 0; i2 < size; i2++) {
            am amVar2 = amVarArrA[i2];
            if (!amVar2.bV && amVar2.cN == null && !amVar2.u() && c(amVar2.bX) && j(amVar2)) {
                i++;
            }
        }
        int iRandom = (int) (Math.random() * i);
        int i3 = 0;
        Iterator it = am.bE.iterator();
        while (true) {
            if (!it.hasNext()) {
                break;
            }
            am amVar3 = (am) it.next();
            if (!amVar3.bV && amVar3.cN == null && !amVar3.u() && c(amVar3.bX) && j(amVar3)) {
                if (i3 == iRandom) {
                    amVar = amVar3;
                    break;
                }
                i3++;
            }
        }
        return amVar;
    }

    public PointF at() {
        am amVar = null;
        int i = 0;
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i2 = 0; i2 < size; i2++) {
            am amVar2 = amVarArrA[i2];
            if (!amVar2.bV && amVar2.cN == null && !amVar2.u() && c(amVar2.bX) && j(amVar2)) {
                i++;
            }
        }
        int iRandom = (int) (Math.random() * i);
        int i3 = 0;
        Iterator it = am.bE.iterator();
        while (true) {
            if (!it.hasNext()) {
                break;
            }
            am amVar3 = (am) it.next();
            if (!amVar3.bV && amVar3.cN == null && !amVar3.u() && c(amVar3.bX) && j(amVar3)) {
                if (i3 == iRandom) {
                    amVar = amVar3;
                    break;
                }
                i3++;
            }
        }
        if (amVar != null) {
            return new PointF(amVar.eo, amVar.ep);
        }
        return null;
    }

    public static am a(com.corrodinggames.rts.game.n nVar, float f, float f2, float f3) {
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i = 0; i < size; i++) {
            am amVar = amVarArrA[i];
            if (amVar.eo + f3 > f && amVar.eo - f3 < f && amVar.ep + f3 > f2 && amVar.ep - f3 < f2 && amVar.bX != nVar && a(amVar, f, f2, f3) && amVar.bX.c(nVar)) {
                return amVar;
            }
        }
        return null;
    }

    public static int a(com.corrodinggames.rts.game.n nVar, float f, float f2, float f3, boolean z) {
        int i = 0;
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i2 = 0; i2 < size; i2++) {
            am amVar = amVarArrA[i2];
            if (amVar.eo + f3 > f && amVar.eo - f3 < f && amVar.ep + f3 > f2 && amVar.ep - f3 < f2 && amVar.bX != nVar && a(amVar, f, f2, f3) && amVar.bX.d(nVar) && (!z || amVar.bI())) {
                i++;
            }
        }
        return i;
    }

    public static int b(com.corrodinggames.rts.game.n nVar, float f, float f2, float f3) {
        int i = 0;
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i2 = 0; i2 < size; i2++) {
            am amVar = amVarArrA[i2];
            if (amVar.eo + f3 > f && amVar.eo - f3 < f && amVar.ep + f3 > f2 && amVar.ep - f3 < f2 && amVar.bX != nVar && a(amVar, f, f2, f3) && amVar.bX.c(nVar)) {
                i++;
            }
        }
        return i;
    }

    public int a(d dVar, float f, float f2, int i) {
        int iA = 0;
        Iterator it = dVar.c.iterator();
        while (it.hasNext()) {
            iA += a(((e) it.next()).f138a, f, f2, i);
        }
        return iA;
    }

    public int a(com.corrodinggames.rts.game.units.as asVar, float f, float f2, int i) {
        int i2 = 0;
        com.corrodinggames.rts.gameFramework.l lVarB = com.corrodinggames.rts.gameFramework.l.B();
        bI.clear();
        lVarB.cc.a(this, f, f2, i, bI);
        am[] amVarArrA = bI.a();
        int size = bI.size();
        for (int i3 = 0; i3 < size; i3++) {
            am amVar = amVarArrA[i3];
            if (amVar.bX == this && amVar.dz == asVar && a(amVar, f, f2, i)) {
                i2++;
            }
        }
        return i2;
    }

    public int au() {
        int i = 0;
        am[] amVarArrA = am.bE.a();
        int size = am.bE.size();
        for (int i2 = 0; i2 < size; i2++) {
            am amVar = amVarArrA[i2];
            i++;
        }
        return i;
    }

    @Override // com.corrodinggames.rts.game.n
    public void T() {
        if (this.aZ && au() != 0) {
            com.corrodinggames.rts.gameFramework.l.e("waking up AI");
            this.aZ = false;
        }
    }

    @Override // com.corrodinggames.rts.game.n
    public void d(am amVar) {
        if (!(amVar instanceof com.corrodinggames.rts.game.units.y)) {
            return;
        }
        com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) amVar;
        yVar.bD = false;
        if (yVar.aC != null) {
            yVar.aC.a(yVar);
            yVar.aC = null;
        }
        if (yVar.aB != null) {
            yVar.aB.b(yVar);
            yVar.aB = null;
        }
        e(yVar);
    }

    public void a(com.corrodinggames.rts.game.units.y yVar, com.corrodinggames.rts.game.units.custom.d.b bVar, boolean z) {
        if (yVar.aC != null) {
            yVar.aC.a(yVar, bVar, z);
        }
    }

    public boolean j(am amVar) {
        if (!amVar.cg() && c(amVar.bX)) {
            return false;
        }
        return true;
    }

    public boolean a(com.corrodinggames.rts.game.units.custom.d.b bVar, am amVar) {
        return a(bVar, amVar, false);
    }

    public boolean a(com.corrodinggames.rts.game.units.custom.d.b bVar, am amVar, boolean z) {
        return bVar.b(amVar);
    }

    public void a(com.corrodinggames.rts.game.a.a.a aVar) {
        if (!this.bJ.contains(aVar)) {
            this.bJ.add(aVar);
        } else {
            c("Skipping add of component: " + aVar.a().name());
        }
    }
}


================================================================================
// FILE_PATH: ./game/a/a/b.java
================================================================================

package com.corrodinggames.rts.game.a.a;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/a/b.class */
public enum b {
    unknown { // from class: com.corrodinggames.rts.game.a.a.b.1
        @Override // com.corrodinggames.rts.game.a.a.b
        public a a() {
            return null;
        }
    },
    nuking { // from class: com.corrodinggames.rts.game.a.a.b.2
        @Override // com.corrodinggames.rts.game.a.a.b
        public a a() {
            return new d();
        }
    };

    public abstract a a();
}


================================================================================
// FILE_PATH: ./game/a/a/c.java
================================================================================

package com.corrodinggames.rts.game.a.a;

import com.corrodinggames.rts.game.units.y;
import com.corrodinggames.rts.gameFramework.j.as;
import com.corrodinggames.rts.gameFramework.j.k;
import com.corrodinggames.rts.gameFramework.utility.u;
import java.io.IOException;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/a/c.class */
public abstract class c extends a {

    /* renamed from: a, reason: collision with root package name */
    u f134a = new u();

    public abstract boolean c(com.corrodinggames.rts.game.a.a aVar, y yVar);

    @Override // com.corrodinggames.rts.game.a.a.a
    public void a(k kVar) {
        super.a(kVar);
        int iF = kVar.f();
        for (int i = 0; i < iF; i++) {
            y yVarP = kVar.p();
            if (yVarP != null) {
                this.f134a.add(yVarP);
            }
        }
    }

    @Override // com.corrodinggames.rts.game.a.a.a
    public void a(as asVar) throws IOException {
        super.a(asVar);
        asVar.a(this.f134a.size());
        Iterator it = this.f134a.iterator();
        while (it.hasNext()) {
            asVar.a((y) it.next());
        }
    }

    @Override // com.corrodinggames.rts.game.a.a.a
    public void a(com.corrodinggames.rts.game.a.a aVar, y yVar) {
        if (c(aVar, yVar) && !this.f134a.contains(yVar)) {
            this.f134a.add(yVar);
        }
    }

    @Override // com.corrodinggames.rts.game.a.a.a
    public void b(com.corrodinggames.rts.game.a.a aVar, y yVar) {
    }
}


================================================================================
// FILE_PATH: ./game/a/a/d.java
================================================================================

package com.corrodinggames.rts.game.a.a;

import android.graphics.PointF;
import com.corrodinggames.rts.game.a.f;
import com.corrodinggames.rts.game.units.a.s;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.custom.a.e;
import com.corrodinggames.rts.game.units.custom.g;
import com.corrodinggames.rts.game.units.d.l;
import com.corrodinggames.rts.game.units.y;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/a/d.class */
public class d extends c {
    public final boolean b = true;
    static final g c = g.c("nukeLauncher");

    @Override // com.corrodinggames.rts.game.a.a.a
    public b a() {
        return b.nuking;
    }

    @Override // com.corrodinggames.rts.game.a.a.c
    public boolean c(com.corrodinggames.rts.game.a.a aVar, y yVar) {
        return a(yVar);
    }

    public PointF d(com.corrodinggames.rts.game.a.a aVar, y yVar) {
        return aVar.at();
    }

    public void e(com.corrodinggames.rts.game.a.a aVar, y yVar) {
        s sVarA = f.a(aVar, yVar, e.launch);
        if (sVarA != null) {
            if (sVarA.b(yVar) && sVarA.a((am) yVar, false)) {
                PointF pointFD = d(aVar, yVar);
                if (pointFD != null) {
                    aVar.c("nuke: launching at:" + pointFD.f45a + ", " + pointFD.b);
                    aVar.a(yVar, sVarA, pointFD, (am) null);
                    return;
                } else {
                    aVar.c("nuke: no target");
                    return;
                }
            }
            aVar.c("nuke: not ready");
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    public void f(com.corrodinggames.rts.game.a.a aVar, y yVar) {
        s sVarA;
        if ((yVar instanceof l) && ((l) yVar).dy() && (sVarA = f.a(aVar, yVar, e.launchAmmo)) != null && aVar.a(sVarA.B(), yVar)) {
            aVar.c("ai nuke building");
            aVar.a(yVar, sVarA);
        }
    }

    public boolean a(y yVar) {
        if (f.a(yVar, c)) {
            return true;
        }
        return false;
    }

    @Override // com.corrodinggames.rts.game.a.a.a
    public void b(float f, com.corrodinggames.rts.game.a.a aVar) {
        am[] amVarArrA = this.f134a.a();
        int size = this.f134a.size();
        for (int i = 0; i < size; i++) {
            y yVar = (y) amVarArrA[i];
            f(aVar, yVar);
            e(aVar, yVar);
        }
    }
}


================================================================================
// FILE_PATH: ./game/a/a/a.java
================================================================================

package com.corrodinggames.rts.game.a.a;

import com.corrodinggames.rts.game.units.y;
import com.corrodinggames.rts.gameFramework.j.as;
import com.corrodinggames.rts.gameFramework.j.k;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/a/a/a.class */
public abstract class a {
    public abstract b a();

    public void a(float f, com.corrodinggames.rts.game.a.a aVar) {
    }

    public void b(float f, com.corrodinggames.rts.game.a.a aVar) {
    }

    public void a(k kVar) {
    }

    public void a(as asVar) {
    }

    public void a(com.corrodinggames.rts.game.a.a aVar, y yVar) {
    }

    public void b(com.corrodinggames.rts.game.a.a aVar, y yVar) {
    }
}


================================================================================
// FILE_PATH: ./game/b/b.java
================================================================================

package com.corrodinggames.rts.game.b;

import android.graphics.Paint;
import android.graphics.Point;
import android.graphics.PointF;
import android.graphics.PorterDuff;
import android.graphics.PorterDuffXfermode;
import android.graphics.Rect;
import android.graphics.RectF;
import android.os.Build;
import com.corrodinggames.rts.R;
import com.corrodinggames.rts.game.n;
import com.corrodinggames.rts.game.units.al;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ao;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.br;
import com.corrodinggames.rts.gameFramework.j.as;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.m.ag;
import com.corrodinggames.rts.gameFramework.m.y;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import com.corrodinggames.rts.gameFramework.utility.ae;
import com.corrodinggames.rts.gameFramework.utility.af;
import com.corrodinggames.rts.gameFramework.w;
import java.io.BufferedInputStream;
import java.io.ByteArrayInputStream;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Properties;
import java.util.concurrent.locks.ReentrantLock;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;
import javax.xml.transform.Transformer;
import javax.xml.transform.TransformerException;
import javax.xml.transform.TransformerFactory;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.stream.StreamResult;
import org.w3c.dom.DOMException;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.NodeList;
import org.xml.sax.EntityResolver;
import org.xml.sax.InputSource;
import org.xml.sax.SAXException;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/b/b.class */
public final class b {
    static boolean f;
    public static h l;
    public static h m;
    public int n;
    public int o;
    public int p;
    public int q;
    public float r;
    public float s;
    public e x;
    public int C;
    public int D;
    public static com.corrodinggames.rts.gameFramework.m.e K;
    public static y L;
    public byte[][] M;
    public byte[][] N;
    public i Q;
    public boolean R;
    public boolean S;
    public int T;
    public int U;
    public boolean W;
    public boolean X;
    public int Y;
    public int Z;
    Paint ab;
    Paint ac;
    Paint ad;
    Paint ae;
    Paint af;
    Paint ag;
    HashMap ah;
    float ai;
    long ap;
    float aq;
    float ar;

    /* renamed from: a, reason: collision with root package name */
    static final boolean f146a = false;
    static final boolean b = false;
    static final boolean c = false;
    public static boolean d = false;
    static ReentrantLock e = new ReentrantLock();
    static Paint g = new Paint();
    static Paint h = new Paint();
    static Paint i = new Paint();
    static Paint j = new Paint();
    public static boolean H = false;
    public static boolean I = false;
    public static boolean J = false;
    public static c al = new c();
    boolean[] k = new boolean[SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_CONTENTS_MENU];
    public ArrayList t = new ArrayList();
    public e u = null;
    public e v = null;
    public e w = null;
    public e y = null;
    public ArrayList z = new ArrayList();
    public ArrayList A = new ArrayList();
    private int as = 1;
    public g[] B = new g[0];
    public boolean E = true;
    public boolean F = false;
    public boolean G = false;
    Rect O = new Rect();
    protected ArrayList P = new ArrayList();
    public PointF V = new PointF();
    float aa = 0.0f;
    float aj = 1.0f;
    int ak = 0;
    Paint am = new Paint();
    Rect an = new Rect();
    Rect ao = new Rect();

    public static void a() {
        if (f) {
            return;
        }
        e.lock();
    }

    public static void b() {
        if (f) {
            return;
        }
        e.unlock();
    }

    public static void c() {
        l lVarB = l.B();
        g.a(150, 255, 255, 255);
        g.a(Paint.Style.STROKE);
        g.a(1.0f);
        lVarB.a(g, 16.0f);
        h.a(150, 255, 0, 0);
        h.a(Paint.Style.STROKE);
        h.a(1.0f);
        i.a(150, 0, 255, 0);
        i.a(Paint.Style.STROKE);
        i.a(1.0f);
        j.a(150, 255, 0, 0);
        long jA = br.a();
        com.corrodinggames.rts.gameFramework.m.e eVarA = lVarB.bO.a(R.drawable.fog_smooth);
        K = lVarB.bO.b(((20 + 2) * 16) + 1, ((20 + 2) * 16) + 1, true);
        K.m = true;
        K.b(true);
        L = lVarB.bO.b(K);
        com.corrodinggames.rts.gameFramework.m.e eVarB = lVarB.bO.b(20 + 1, 20 + 1, true);
        y yVarB = lVarB.bO.b(eVarB);
        a(b(1), 2, 5, true, eVarB, yVarB, eVarA);
        a(b(2), 0, 5, true, eVarB, yVarB, eVarA);
        a(b(4), 0, 3, true, eVarB, yVarB, eVarA);
        a(b(8), 2, 3, true, eVarB, yVarB, eVarA);
        a(a(16, 1, 2), 1, 0, true, eVarB, yVarB, eVarA);
        a(a(32, 2, 4), 2, 1, true, eVarB, yVarB, eVarA);
        a(a(64, 8, 4), 1, 2, true, eVarB, yVarB, eVarA);
        a(a(-128, 1, 8), 0, 1, true, eVarB, yVarB, eVarA);
        a(a(16 + 32, 2, 1, 4), 2, 0, true, eVarB, yVarB, eVarA);
        a(a(32 + 64, 4, 8, 2), 2, 2, true, eVarB, yVarB, eVarA);
        a(a(64 - 128, 8, 4, 1), 0, 2, true, eVarB, yVarB, eVarA);
        a(a((-128) + 16, 1, 8, 2), 0, 0, true, eVarB, yVarB, eVarA);
        a(b(1 + 2), a(2, 5, 0, 5), true, eVarB, yVarB, eVarA);
        a(b(2 + 4), a(0, 5, 0, 3), true, eVarB, yVarB, eVarA);
        a(b(4 + 8), a(0, 3, 2, 3), true, eVarB, yVarB, eVarA);
        a(b(8 + 1), a(2, 3, 2, 5), true, eVarB, yVarB, eVarA);
        a(a(16 + 32 + 64, 1, 2, 4, 8), a(2, 0, 2, 2), true, eVarB, yVarB, eVarA);
        a(a((32 + 64) - 128, 1, 2, 4, 8), a(2, 2, 0, 2), true, eVarB, yVarB, eVarA);
        a(a((64 - 128) + 16, 1, 2, 4, 8), a(0, 2, 0, 0), true, eVarB, yVarB, eVarA);
        a(a((-128) + 16 + 32, 1, 2, 4, 8), a(0, 0, 2, 0), true, eVarB, yVarB, eVarA);
        a(b(16 + 64), a(1, 0, 1, 2), true, eVarB, yVarB, eVarA);
        a(b((-128) + 32), a(0, 1, 2, 1), true, eVarB, yVarB, eVarA);
        a(b(1 + 4), a(2, 5, 0, 3), true, eVarB, yVarB, eVarA);
        a(b(2 + 8), a(0, 5, 2, 3), true, eVarB, yVarB, eVarA);
        a(a(16 + 4, 2, 1), a(1, 0, 0, 3), true, eVarB, yVarB, eVarA);
        a(a(64 + 2, 4, 8), a(1, 2, 0, 5), true, eVarB, yVarB, eVarA);
        a(a((-128) + 2, 1, 8), a(0, 1, 0, 5), true, eVarB, yVarB, eVarA);
        a(a(32 + 1, 2, 4), a(2, 1, 2, 5), true, eVarB, yVarB, eVarA);
        a(a(16 + 8, 2, 1), a(1, 0, 2, 3), true, eVarB, yVarB, eVarA);
        a(a(64 + 1, 4, 8), a(1, 2, 2, 5), true, eVarB, yVarB, eVarA);
        a(a((-128) + 4, 1, 8), a(0, 1, 0, 3), true, eVarB, yVarB, eVarA);
        a(a(32 + 8, 2, 4), a(2, 1, 2, 3), true, eVarB, yVarB, eVarA);
        a(a(16 + 4 + 8, 2, 1), a(1, 0, 0, 3, 2, 3), true, eVarB, yVarB, eVarA);
        a(a(64 + 2 + 1, 4, 8), a(1, 2, 0, 5, 2, 5), true, eVarB, yVarB, eVarA);
        a(a((-128) + 2 + 4, 1, 8), a(0, 1, 2, 5, 2, 3), true, eVarB, yVarB, eVarA);
        a(a(32 + 1 + 8, 2, 4), a(2, 1, 0, 5, 0, 3), true, eVarB, yVarB, eVarA);
        a(b(-1), a(1, 4), true, eVarB, yVarB, eVarA);
        L.p();
        L.q();
        L = null;
        yVarB.q();
        br.a("smoothFog load took:", jA);
        d();
        l = new h(1.0f, false);
        l.a();
        m = new h(0.5f, false);
        m.a();
    }

    public static void d() {
        if (H) {
            return;
        }
        H = true;
        I = l.B().bQ.softFogFading;
        if (l.at() && Build.VERSION.SDK_INT > 26) {
            long jMaxMemory = Runtime.getRuntime().maxMemory() / 1048576;
            l.e("MaxHeapSizeInMB:" + jMaxMemory);
            if (jMaxMemory > 200) {
                l.e("enabling softFades");
                I = true;
            }
        }
    }

    private static int[] b(int i2) {
        return new int[]{i2};
    }

    private static int[] a(int i2, int... iArr) {
        ArrayList arrayList = new ArrayList();
        arrayList.add(Integer.valueOf(i2));
        if (iArr.length == 1) {
            arrayList.add(Integer.valueOf(i2 + iArr[0]));
        } else if (iArr.length == 2) {
            arrayList.add(Integer.valueOf(i2 + iArr[0]));
            arrayList.add(Integer.valueOf(i2 + iArr[1]));
            arrayList.add(Integer.valueOf(i2 + iArr[0] + iArr[1]));
        } else if (iArr.length == 3) {
            arrayList.add(Integer.valueOf(i2 + iArr[0]));
            arrayList.add(Integer.valueOf(i2 + iArr[1]));
            arrayList.add(Integer.valueOf(i2 + iArr[2]));
            arrayList.add(Integer.valueOf(i2 + iArr[0] + iArr[1]));
            arrayList.add(Integer.valueOf(i2 + iArr[0] + iArr[2]));
            arrayList.add(Integer.valueOf(i2 + iArr[1] + iArr[2]));
            arrayList.add(Integer.valueOf(i2 + iArr[0] + iArr[1] + iArr[2]));
        } else if (iArr.length == 4) {
            arrayList.add(Integer.valueOf(i2 + iArr[0]));
            arrayList.add(Integer.valueOf(i2 + iArr[1]));
            arrayList.add(Integer.valueOf(i2 + iArr[2]));
            arrayList.add(Integer.valueOf(i2 + iArr[3]));
            arrayList.add(Integer.valueOf(i2 + iArr[0] + iArr[1] + iArr[2] + iArr[3]));
            arrayList.add(Integer.valueOf(i2 + iArr[0] + iArr[1] + iArr[2]));
            arrayList.add(Integer.valueOf(i2 + iArr[0] + iArr[1] + iArr[3]));
            arrayList.add(Integer.valueOf(i2 + iArr[1] + iArr[2] + iArr[3]));
            arrayList.add(Integer.valueOf(i2 + iArr[0] + iArr[1]));
            arrayList.add(Integer.valueOf(i2 + iArr[0] + iArr[2]));
            arrayList.add(Integer.valueOf(i2 + iArr[0] + iArr[3]));
            arrayList.add(Integer.valueOf(i2 + iArr[1] + iArr[2]));
            arrayList.add(Integer.valueOf(i2 + iArr[1] + iArr[3]));
            arrayList.add(Integer.valueOf(i2 + iArr[2] + iArr[3]));
        } else {
            throw new RuntimeException("unhandled:" + iArr.length);
        }
        int[] iArr2 = new int[arrayList.size()];
        for (int i3 = 0; i3 < arrayList.size(); i3++) {
            if (arrayList.get(i3) != null) {
                iArr2[i3] = ((Integer) arrayList.get(i3)).intValue();
            }
        }
        return iArr2;
    }

    private static int[] a(int... iArr) {
        return iArr;
    }

    private static void a(int[] iArr, int i2, int i3, boolean z, com.corrodinggames.rts.gameFramework.m.e eVar, y yVar, com.corrodinggames.rts.gameFramework.m.e eVar2) {
        a(iArr, a(i2, i3), z, eVar, yVar, eVar2);
    }

    private static void a(int[] iArr, int[] iArr2, boolean z, com.corrodinggames.rts.gameFramework.m.e eVar, y yVar, com.corrodinggames.rts.gameFramework.m.e eVar2) {
        if (z) {
            yVar.o();
        }
        Rect rect = new Rect();
        Rect rect2 = new Rect();
        Rect rect3 = new Rect();
        Rect rect4 = new Rect();
        rect.a(0, 0, 20, 20);
        for (int i2 = 0; i2 < iArr2.length; i2 += 2) {
            int i3 = iArr2[i2 + 0] * 20;
            int i4 = iArr2[i2 + 1] * 20;
            rect2.a(i3, i4, i3 + 20, i4 + 20);
            yVar.a(eVar2, rect2, rect, (Paint) null);
            rect4.a(rect2.c - 1, rect2.b, rect2.c, rect2.d);
            rect3.a(rect.c, rect.b, rect.c + 1, rect.d);
            yVar.a(eVar2, rect4, rect3, (Paint) null);
            rect4.a(rect2.f47a, rect2.d - 1, rect2.c, rect2.d);
            rect3.a(rect.f47a, rect.d, rect.c, rect.d + 1);
            yVar.a(eVar2, rect4, rect3, (Paint) null);
        }
        yVar.p();
        for (int i5 : iArr) {
            a(i5 + 128, eVar);
        }
    }

    public static void a(int i2, com.corrodinggames.rts.gameFramework.m.e eVar) {
        Rect rect = new Rect();
        Rect rect2 = new Rect();
        rect2.a(0, 0, 20, 20);
        a(i2, rect);
        h.a(L, eVar, rect2, rect, (Paint) null);
    }

    public static void a(int i2, Rect rect) {
        int i3 = ((i2 % 16) * (20 + 2)) + 1;
        int i4 = (((int) (i2 * 0.0625f)) * (20 + 2)) + 1;
        rect.f47a = i3;
        rect.b = i4;
        rect.c = i3 + 20;
        rect.d = i4 + 20;
    }

    public final short a(g gVar) {
        if (this.as >= this.B.length) {
            g[] gVarArr = new g[com.corrodinggames.rts.gameFramework.f.c(this.B.length + 100, 32767)];
            System.arraycopy(this.B, 0, gVarArr, 0, this.B.length);
            this.B = gVarArr;
        }
        int i2 = this.as;
        if (this.as < 32766) {
            this.as++;
        } else {
            l.b("Max unique tile limit reached at: " + this.as);
        }
        this.B[i2] = gVar;
        return (short) i2;
    }

    public final g a(short s) {
        return this.B[s];
    }

    public g a(g gVar, int i2, int i3) {
        int length;
        if (gVar != null && gVar.m != null && (((i2 * 13) + (i3 * 1313)) % (gVar.m.length + 1)) - 1 >= 0) {
            return gVar.m[length];
        }
        return gVar;
    }

    public boolean a(float f2, float f3, n nVar) {
        if (this.E) {
            int i2 = (int) (f2 * this.r);
            int i3 = (int) (f3 * this.s);
            if (nVar.N != null && c(i2, i3) && nVar.N[i2][i3] >= 5) {
                return false;
            }
            return true;
        }
        return true;
    }

    public boolean a(int i2, int i3, n nVar) {
        if (this.E && nVar.N != null && c(i2, i3) && nVar.N[i2][i3] >= 5) {
            return false;
        }
        return true;
    }

    public void a(float f2, float f3) {
        this.T = (int) (f2 * this.r);
        this.U = (int) (f3 * this.s);
    }

    public void a(int i2, int i3) {
        this.T = i2 * this.n;
        this.U = i3 * this.o;
    }

    public void b(int i2, int i3) {
        this.T = (i2 * this.n) + this.p;
        this.U = (i3 * this.o) + this.q;
    }

    public PointF a(Point point) {
        this.V.a(point.f44a * this.n, point.b * this.o);
        return this.V;
    }

    public void b(float f2, float f3) {
        a(f2, f3);
        a(this.T, this.U);
    }

    public float a(float f2) {
        if (f2 < 0.0f) {
            f2 = 0.0f;
        }
        if (f2 > i()) {
            f2 = i();
        }
        return f2;
    }

    public float b(float f2) {
        if (f2 < 0.0f) {
            f2 = 0.0f;
        }
        if (f2 > j()) {
            f2 = j();
        }
        return f2;
    }

    public final boolean c(int i2, int i3) {
        return i2 >= 0 && i2 < this.C && i3 >= 0 && i3 < this.D;
    }

    public g c(float f2, float f3) {
        int i2 = (int) (f2 * this.r);
        int i3 = (int) (f3 * this.s);
        if (i2 < 0 || i2 >= this.C || i3 < 0 || i3 >= this.D) {
            return null;
        }
        return this.u.a(i2, i3);
    }

    public g d(int i2, int i3) {
        if (c(i2, i3)) {
            return this.u.a(i2, i3);
        }
        return null;
    }

    public g e(int i2, int i3) {
        if (!c(i2, i3) || this.y == null) {
            return null;
        }
        return this.y.a(i2, i3);
    }

    void a(RectF rectF) {
        if (l.C()) {
            rectF.f48a *= this.n / 20;
            rectF.c *= this.n / 20;
            rectF.b *= this.o / 20;
            rectF.d *= this.o / 20;
        }
    }

    public b() {
        this.n = 20;
        this.o = 20;
        if (l.C()) {
            this.n = 60;
            this.o = 60;
        }
        this.p = this.n / 2;
        this.q = this.o / 2;
        this.r = 1.0f / this.n;
        this.s = 1.0f / this.o;
        this.ab = new ag();
        this.ab.a(100, 255, 0, 0);
        this.ab.b(16.0f);
        this.ac = new ag();
        this.ac.a(Paint.Style.STROKE);
        this.ac.a(1.0f);
        this.ac.a(255, 0, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_PAIRING, 0);
        this.ad = new ag();
        this.ad.a(Paint.Style.STROKE);
        this.ad.a(1.0f);
        this.ad.a(100, 0, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_PROG_YELLOW, 0);
        this.ae = new ag();
        this.ae.a(Paint.Style.STROKE);
        this.ae.a(1.0f);
        this.ae.a(255, 175, 0, 0);
        this.af = new ag();
        this.af.a(155, 175, 0, 0);
        this.ag = new ag();
        this.ag.a(new PorterDuffXfermode(PorterDuff.Mode.CLEAR));
    }

    public static void a(String str, as asVar) throws IOException {
        InputStream inputStreamB = b(str);
        if (inputStreamB == null) {
            throw new IOException("writeMapStream: Could not find map:" + str);
        }
        int iA = (int) a(str);
        if (iA == -1) {
            new IOException("writeMapStream: Failed to get map size");
        }
        if (iA == 0) {
            new IOException("writeMapStream: Got empty map size");
        }
        l.e("Sending map stream of size: " + iA);
        asVar.a(inputStreamB, iA);
    }

    public static long a(String str) {
        String str2 = VariableScope.nullOrMissingString + str;
        String strE = com.corrodinggames.rts.gameFramework.e.a.e(str2);
        af afVarA = ae.a(strE);
        if (afVarA != null && !strE.endsWith(".rwmod")) {
            long jA = afVarA.a(strE, false);
            if (jA == -1) {
            }
            return jA;
        }
        if (com.corrodinggames.rts.gameFramework.e.a.c(str2)) {
            try {
                return l.B().am.d().b(strE).getLength();
            } catch (IOException e2) {
                throw new RuntimeException(e2);
            }
        }
        return new File(strE).length();
    }

    public static InputStream b(String str) {
        InputStream inputStreamD;
        InputStream inputStreamD2 = d(str);
        if (inputStreamD2 == null && (inputStreamD = d(str.replace(".tmx", VariableScope.nullOrMissingString) + "_moved")) != null) {
            String strTrim = com.corrodinggames.rts.gameFramework.f.a(inputStreamD).trim();
            l.e("Found moved map at:" + strTrim);
            inputStreamD2 = d(strTrim);
        }
        return inputStreamD2;
    }

    public static String c(String str) {
        if (str == null) {
            return null;
        }
        return com.corrodinggames.rts.gameFramework.e.a.e(str);
    }

    public static InputStream d(String str) {
        String strC = c(VariableScope.nullOrMissingString + str);
        l.e("Mapfile: " + strC);
        return com.corrodinggames.rts.gameFramework.e.a.k(strC);
    }

    public void a(Document document, OutputStream outputStream) throws TransformerException, IllegalArgumentException {
        Transformer transformerNewTransformer = TransformerFactory.newInstance().newTransformer();
        transformerNewTransformer.setOutputProperty("indent", "yes");
        transformerNewTransformer.transform(new DOMSource(document), new StreamResult(outputStream));
    }

    public void a(InputStream inputStream, OutputStream outputStream) throws f, TransformerException, ParserConfigurationException, SAXException, DOMException, IOException, IllegalArgumentException {
        float f2;
        DocumentBuilderFactory documentBuilderFactoryNewInstance = DocumentBuilderFactory.newInstance();
        documentBuilderFactoryNewInstance.setValidating(false);
        DocumentBuilder documentBuilderNewDocumentBuilder = documentBuilderFactoryNewInstance.newDocumentBuilder();
        documentBuilderNewDocumentBuilder.setEntityResolver(new EntityResolver() { // from class: com.corrodinggames.rts.game.b.b.1
            @Override // org.xml.sax.EntityResolver
            public InputSource resolveEntity(String str, String str2) {
                return new InputSource(new ByteArrayInputStream(new byte[0]));
            }
        });
        Document document = documentBuilderNewDocumentBuilder.parse(inputStream);
        Element documentElement = document.getDocumentElement();
        String attribute = documentElement.getAttribute("orientation");
        if (!attribute.equals("orthogonal")) {
            throw new f("Only orthogonal maps are supported, found: " + attribute);
        }
        NodeList elementsByTagName = documentElement.getElementsByTagName("SOMETHING");
        for (int i2 = 0; i2 < elementsByTagName.getLength(); i2++) {
        }
        NodeList elementsByTagName2 = documentElement.getElementsByTagName("layer");
        for (int i3 = 0; i3 < elementsByTagName2.getLength(); i3++) {
            Element element = (Element) elementsByTagName2.item(i3);
            if ("units".equalsIgnoreCase(element.getAttribute("name"))) {
                element.getParentNode().removeChild(element);
            }
        }
        NodeList elementsByTagName3 = documentElement.getElementsByTagName("objectgroup");
        for (int i4 = 0; i4 < elementsByTagName3.getLength(); i4++) {
            Element element2 = (Element) elementsByTagName3.item(i4);
            if ("UnitObjects".equalsIgnoreCase(element2.getAttribute("name"))) {
                element2.getParentNode().removeChild(element2);
            }
        }
        Element elementCreateElement = document.createElement("objectgroup");
        elementCreateElement.setAttribute("name", "UnitObjects");
        Iterator it = am.bF().iterator();
        while (it.hasNext()) {
            am amVar = (am) it.next();
            if ((amVar instanceof am) && (!(amVar instanceof al) || !((al) amVar).bM)) {
                if (!amVar.bV && !amVar.u()) {
                    com.corrodinggames.rts.game.units.custom.b.n nVarDn = amVar.dn();
                    if (amVar.cO != null && nVarDn != null) {
                        if (!nVarDn.D) {
                        }
                    } else {
                        Element elementCreateElement2 = document.createElement("object");
                        int i5 = 20;
                        if (20 < amVar.cj) {
                            i5 = (int) amVar.cj;
                        }
                        elementCreateElement2.setAttribute("name", amVar.r().i() + " (t:" + amVar.bX.k + ")");
                        elementCreateElement2.setAttribute("x", VariableScope.nullOrMissingString + (amVar.eo - (i5 / 2)));
                        elementCreateElement2.setAttribute("y", VariableScope.nullOrMissingString + (amVar.ep - (i5 / 2)));
                        elementCreateElement2.setAttribute("width", VariableScope.nullOrMissingString + i5);
                        elementCreateElement2.setAttribute("height", VariableScope.nullOrMissingString + i5);
                        if (amVar.bI()) {
                            f2 = amVar.cg;
                        } else {
                            f2 = amVar.cg + 90.0f;
                        }
                        elementCreateElement2.setAttribute("rotation", VariableScope.nullOrMissingString + f2);
                        Integer numA = a(amVar.r());
                        if (numA != null) {
                            elementCreateElement2.setAttribute("gid", VariableScope.nullOrMissingString + numA);
                        }
                        Element elementCreateElement3 = document.createElement("properties");
                        Element elementCreateElement4 = document.createElement("property");
                        elementCreateElement4.setAttribute("name", "unit");
                        elementCreateElement4.setAttribute("value", amVar.r().i());
                        elementCreateElement3.appendChild(elementCreateElement4);
                        Element elementCreateElement5 = document.createElement("property");
                        elementCreateElement5.setAttribute("name", "team");
                        elementCreateElement5.setAttribute("value", VariableScope.nullOrMissingString + amVar.bX.k);
                        elementCreateElement3.appendChild(elementCreateElement5);
                        elementCreateElement2.appendChild(elementCreateElement3);
                        elementCreateElement.appendChild(elementCreateElement2);
                    }
                }
            }
        }
        documentElement.appendChild(elementCreateElement);
        a(document, outputStream);
    }

    public boolean a(String str, String str2) throws DOMException, IllegalArgumentException {
        l lVarB = l.B();
        try {
            b(str, str2);
            lVarB.bS.h.a((String) null, "Map exported.");
            return true;
        } catch (f e2) {
            lVarB.c("Error exporting map", "Failed to export map. error: " + e2.getMessage());
            return false;
        } catch (IOException e3) {
            e3.printStackTrace();
            lVarB.c("Error exporting map", "Failed to export map. IO error: " + e3.getMessage());
            return false;
        } catch (NoClassDefFoundError e4) {
            e4.printStackTrace();
            lVarB.c("Error exporting map", "Failed to export map. Class not found: " + e4.getMessage());
            return false;
        }
    }

    public void b(String str, String str2) throws f, DOMException, IOException, IllegalArgumentException {
        l.e(" --- Saving map:" + str + " to: " + str2);
        InputStream inputStreamB = b(str);
        if (inputStreamB == null) {
            throw new IOException("Could not find orginal map: " + str);
        }
        BufferedInputStream bufferedInputStream = new BufferedInputStream(inputStreamB);
        String strE = com.corrodinggames.rts.gameFramework.e.a.e(str2);
        File parentFile = new File(strE).getParentFile();
        if (!com.corrodinggames.rts.gameFramework.e.a.i(parentFile.getAbsolutePath())) {
            com.corrodinggames.rts.gameFramework.e.a.l(parentFile.getAbsolutePath());
        }
        if (!com.corrodinggames.rts.gameFramework.e.a.f(parentFile.getAbsolutePath())) {
            l.b("Save Map: Could not create parent directory");
        }
        try {
            OutputStream outputStreamB = com.corrodinggames.rts.gameFramework.e.a.b(strE, false);
            if (outputStreamB == null) {
                throw new IOException("Failed to get save target:" + strE);
            }
            try {
                a(bufferedInputStream, outputStreamB);
                try {
                    outputStreamB.close();
                    bufferedInputStream.close();
                    inputStreamB.close();
                } catch (IOException e2) {
                    e2.printStackTrace();
                }
            } catch (IOException e3) {
                throw new IOException(e3);
            } catch (ParserConfigurationException e4) {
                throw new IOException(e4);
            } catch (TransformerException e5) {
                throw new IOException(e5);
            } catch (SAXException e6) {
                throw new IOException(e6);
            }
        } catch (FileNotFoundException e7) {
            throw new IOException("Failed to open save target:" + strE);
        }
    }

    public void a(String str, boolean z) throws f, ParserConfigurationException, NumberFormatException, IOException {
        l.e(" --- Loading map ---");
        InputStream inputStreamB = b(str);
        if (inputStreamB == null) {
            throw new f("Could not find map: " + com.corrodinggames.rts.gameFramework.e.a.d(c(str)));
        }
        BufferedInputStream bufferedInputStream = new BufferedInputStream(inputStreamB);
        a(bufferedInputStream, z);
        try {
            bufferedInputStream.close();
            inputStreamB.close();
        } catch (IOException e2) {
            e2.printStackTrace();
        }
    }

    public j e(String str) {
        j jVar = null;
        Iterator it = this.t.iterator();
        while (it.hasNext()) {
            j jVar2 = (j) it.next();
            if (str.equals(jVar2.f155a)) {
                jVar = jVar2;
            }
        }
        if (jVar == null) {
            int i2 = 1;
            if (this.t.size() > 0) {
                j jVar3 = (j) this.t.get(this.t.size() - 1);
                i2 = jVar3.l + 100;
                jVar3.c(i2);
            }
            j jVar4 = new j(this, str, i2 + 1);
            this.t.add(jVar4);
            jVar = jVar4;
        }
        if (jVar.b == null) {
            jVar.c();
        }
        return jVar;
    }

    public g a(String str, int i2, int i3) {
        j jVarE = e(str);
        if (this.ah == null) {
            this.ah = new HashMap();
        }
        int iA = jVarE.l + jVarE.a(i2, i3);
        g gVar = (g) this.ah.get(Integer.valueOf(iA));
        if (gVar != null) {
            return gVar;
        }
        g gVarA = g.a(this, this.u, jVarE, iA - jVarE.l, (short) 0, (short) 0, true);
        this.ah.put(Integer.valueOf(iA), gVarA);
        return gVarA;
    }

    public void a(InputStream inputStream, boolean z) throws f, ParserConfigurationException, NumberFormatException, IOException {
        int iA;
        NodeList elementsByTagName;
        this.A.clear();
        l.b();
        m.b();
        try {
            l.e("---- Loading map data ----");
            DocumentBuilderFactory documentBuilderFactoryNewInstance = DocumentBuilderFactory.newInstance();
            documentBuilderFactoryNewInstance.setValidating(false);
            DocumentBuilder documentBuilderNewDocumentBuilder = documentBuilderFactoryNewInstance.newDocumentBuilder();
            documentBuilderNewDocumentBuilder.setEntityResolver(new EntityResolver() { // from class: com.corrodinggames.rts.game.b.b.2
                @Override // org.xml.sax.EntityResolver
                public InputSource resolveEntity(String str, String str2) {
                    return new InputSource(new ByteArrayInputStream(new byte[0]));
                }
            });
            Element documentElement = documentBuilderNewDocumentBuilder.parse(inputStream).getDocumentElement();
            String attribute = documentElement.getAttribute("orientation");
            if (!attribute.equals("orthogonal")) {
                throw new f("Only orthogonal maps are supported, found: " + attribute);
            }
            int i2 = Integer.parseInt(documentElement.getAttribute("width"));
            int i3 = Integer.parseInt(documentElement.getAttribute("height"));
            this.C = i2;
            this.D = i3;
            l.e("Map size: " + this.C + ", " + this.D);
            this.ar = 150.0f;
            if (this.E) {
                l.e("Setting up team fog..");
                for (int i4 = 0; i4 < n.c; i4++) {
                    n nVarK = n.k(i4);
                    if (nVarK != null) {
                        nVarK.L = this.C;
                        nVarK.M = this.D;
                        nVarK.N = new byte[this.C][this.D];
                        for (int i5 = 0; i5 < this.C; i5++) {
                            for (int i6 = 0; i6 < this.D; i6++) {
                                nVarK.N[i5][i6] = 10;
                            }
                        }
                    }
                }
            } else {
                l.e("No team fog on this map..");
                for (int i7 = 0; i7 < n.c; i7++) {
                    n nVarK2 = n.k(i7);
                    if (nVarK2 != null) {
                        nVarK2.N = (byte[][]) null;
                    }
                }
            }
            Element element = (Element) documentElement.getElementsByTagName("properties").item(0);
            if (element != null && (elementsByTagName = element.getElementsByTagName("property")) != null) {
                Properties properties = new Properties();
                for (int i8 = 0; i8 < elementsByTagName.getLength(); i8++) {
                    Element element2 = (Element) elementsByTagName.item(i8);
                    properties.setProperty(element2.getAttribute("name"), element2.getAttribute("value"));
                }
            }
            j jVar = null;
            NodeList elementsByTagName2 = documentElement.getElementsByTagName("tileset");
            for (short s = 0; s < elementsByTagName2.getLength(); s = (short) (s + 1)) {
                j jVar2 = new j(this, (Element) elementsByTagName2.item(s));
                jVar2.n = s;
                if (jVar != null) {
                    jVar.c(jVar2.l - 1);
                }
                jVar = jVar2;
                this.t.add(jVar2);
            }
            NodeList elementsByTagName3 = documentElement.getElementsByTagName("layer");
            for (int i9 = 0; i9 < elementsByTagName3.getLength(); i9++) {
                Element element3 = (Element) elementsByTagName3.item(i9);
                String attribute2 = element3.getAttribute("name");
                if (!"set".equalsIgnoreCase(attribute2) && !"set-disabled".equalsIgnoreCase(attribute2)) {
                    e eVar = new e(this, element3);
                    eVar.j = i9;
                    this.z.add(eVar);
                }
            }
            Iterator it = this.z.iterator();
            while (it.hasNext()) {
                e eVar2 = (e) it.next();
                if (eVar2.r) {
                    this.u = eVar2;
                }
                if (eVar2.k.equalsIgnoreCase("grounddetails")) {
                    this.v = eVar2;
                }
                if (eVar2.k.equalsIgnoreCase("grounddetails2")) {
                    this.w = eVar2;
                }
                if (eVar2.k.equalsIgnoreCase("Items") || eVar2.k.equalsIgnoreCase("Objects")) {
                    this.y = eVar2;
                }
                if (eVar2.k.equalsIgnoreCase("PathingOverride")) {
                    this.x = eVar2;
                }
            }
            if (this.u == null) {
                throw new f("'Ground' layer was not found in map, this layer is required");
            }
            if (this.B == null || this.B.length == 0) {
                throw new f("Invalid map, no tiles have been set");
            }
            if (!l.C() && !l.D()) {
                for (int i10 = 0; i10 < this.C; i10++) {
                    for (int i11 = 0; i11 < this.D; i11++) {
                        if (this.u.a(i10, i11) == null) {
                            throw new f("An empty tile on the Ground layer at " + i10 + "," + i11 + " all tiles must be filled");
                        }
                    }
                }
            }
            if (this.y == null) {
                throw new f("'Items' layer was not found in map, this layer is required");
            }
            NodeList elementsByTagName4 = documentElement.getElementsByTagName("objectgroup");
            for (int i12 = 0; i12 < elementsByTagName4.getLength(); i12++) {
                i iVar = new i((Element) elementsByTagName4.item(i12), this);
                iVar.f154a = i12;
                this.P.add(iVar);
            }
            j.a();
            Iterator it2 = this.t.iterator();
            while (it2.hasNext()) {
                j jVar3 = (j) it2.next();
                if (jVar3.q) {
                    jVar3.c();
                }
            }
            j.b();
            int i13 = 0;
            while (i13 <= 1) {
                Iterator it3 = this.z.iterator();
                while (it3.hasNext()) {
                    e eVar3 = (e) it3.next();
                    if ((eVar3 == this.u) == (i13 == 0)) {
                        eVar3.w = false;
                        if (eVar3.s) {
                            for (int i14 = 0; i14 < this.C; i14++) {
                                for (int i15 = 0; i15 < this.D; i15++) {
                                    g gVarA = eVar3.a(i14, i15);
                                    if (gVarA != null && gVarA.c == -2) {
                                        gVarA.c = l.a(gVarA.f152a, gVarA.b);
                                        if (gVarA.c >= 0 && (iA = m.a(gVarA.f152a, gVarA.b)) != gVarA.c) {
                                            throw new RuntimeException("Meta index mismatch: " + iA + " vs " + gVarA.c);
                                        }
                                        if (gVarA.c < 0) {
                                            eVar3.w = true;
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                i13++;
            }
            l.c();
            m.c();
            this.Q = f("triggers");
            a aVarA = null;
            if (this.Q != null) {
                aVarA = this.Q.a("map_info");
            }
            boolean z2 = false;
            boolean z3 = false;
            l lVarB = l.B();
            lVarB.ce = null;
            String str = null;
            String strB = null;
            if (aVarA != null) {
                String strB2 = aVarA.b("type");
                strB = aVarA.b("fog");
                if ("mission".equalsIgnoreCase(strB2) || "survival".equalsIgnoreCase(strB2) || "challenge".equalsIgnoreCase(strB2) || "skirmish".equalsIgnoreCase(strB2)) {
                    str = strB2;
                } else {
                    l.b("Unknown map type:" + strB2);
                }
            } else {
                l.b("Map type not found on mapInfo");
            }
            if (str == null) {
                l.b("Defaulting to skirmish map type");
                str = "skirmish";
            } else {
                l.b("Map type: " + str);
            }
            lVarB.ce = new com.corrodinggames.rts.gameFramework.n.f();
            lVarB.ce.a(z);
            if (strB != null && !VariableScope.nullOrMissingString.equals(strB)) {
                if (!strB.equalsIgnoreCase("none")) {
                    z2 = true;
                    if (strB.equalsIgnoreCase("los")) {
                        z3 = true;
                    } else if (!strB.equalsIgnoreCase("map")) {
                        l.e("Unknown map fog type: " + strB);
                    }
                }
            } else if (l.av() && !lVarB.N()) {
                z2 = true;
                if (str != null && str.equalsIgnoreCase("skirmish")) {
                    z3 = true;
                }
            }
            if (!z2) {
                this.E = false;
            }
            if (z2 && z3) {
                this.F = true;
            }
            this.W = true;
        } catch (IOException e2) {
            throw new f("Failed to parse map", e2);
        } catch (ParserConfigurationException e3) {
            throw new RuntimeException("Failed to parse map", e3);
        } catch (SAXException e4) {
            l.e(" --- SAXException: Failed to parse map - " + e4.getMessage() + " ---");
            try {
                l.e("available:" + inputStream.available());
                inputStream.reset();
                l.e("after reset:" + inputStream.available());
            } catch (IOException e5) {
                l.e("-- error writing debug info --");
                e5.printStackTrace();
            }
            throw new f("Failed to parse map - " + e4.getMessage(), e4);
        }
    }

    public void e() {
    }

    public void a(com.corrodinggames.rts.game.l lVar) {
        if (l.aU && !l.aW) {
            return;
        }
        al.a(lVar);
    }

    public void a(com.corrodinggames.rts.game.units.y yVar, int i2, int i3, int i4, int i5, int i6, int i7, y yVar2, boolean z, int i8) {
        l lVarB = l.B();
        b bVar = lVarB.bL;
        com.corrodinggames.rts.game.units.as asVarI = lVarB.bS.ac.i();
        ao aoVarO = asVarI.o();
        for (int i9 = i2; i9 <= i4; i9++) {
            for (int i10 = i3; i10 <= i5; i10++) {
                boolean zA = com.corrodinggames.rts.game.units.d.d.a(yVar, asVarI, aoVarO, i9, i10, i8);
                int i11 = (i9 * bVar.n) - i6;
                int i12 = (i10 * bVar.o) - i7;
                this.an.a(i11, i12, (i11 + bVar.n) - 1, (i12 + bVar.o) - 1);
                if (z) {
                    if (zA) {
                        yVar2.b(this.an, bVar.ad);
                    } else {
                        yVar2.b(this.an, bVar.af);
                        yVar2.b(this.an, bVar.ae);
                    }
                } else if (zA) {
                    yVar2.b(this.an, bVar.ac);
                } else {
                    yVar2.b(this.an, bVar.ae);
                }
            }
        }
    }

    public static void f() {
        al.d();
    }

    public void c(float f2) {
        al.a(f2);
    }

    public void g() {
        al.c();
    }

    public void d(float f2) {
        l lVarB = l.B();
        boolean zAt = l.at();
        if (zAt) {
            lVarB.bO.a(e);
        }
        c(f2);
        if (zAt) {
            lVarB.bO.b(e);
        }
        if (this.X) {
            new Rect();
            Rect rect = new Rect();
            int i2 = this.Y * this.n;
            int i3 = this.Z * this.o;
            rect.a(i2, i3, i2 + this.n, i3 + this.o);
            rect.a(-l.B().cu, -l.B().cv);
        }
    }

    public void e(float f2) {
        l.B();
        f(f2);
    }

    public void h() {
        Iterator it = this.t.iterator();
        while (it.hasNext()) {
            ((j) it.next()).d();
        }
        this.t.clear();
        Iterator it2 = this.z.iterator();
        while (it2.hasNext()) {
            ((e) it2.next()).b();
        }
        this.z.clear();
        this.P.clear();
        this.Q = null;
        al.c();
    }

    public j a(int i2) {
        for (int i3 = 0; i3 < this.t.size(); i3++) {
            j jVar = (j) this.t.get(i3);
            if (jVar.d(i2)) {
                return jVar;
            }
        }
        return null;
    }

    public Integer a(com.corrodinggames.rts.game.units.as asVar) {
        String strI = asVar.i();
        Integer numC = c("unit", strI);
        if (numC == null) {
            numC = c("customUnit", strI);
        }
        return numC;
    }

    public Integer c(String str, String str2) {
        for (int i2 = 0; i2 < this.t.size(); i2++) {
            Integer numB = ((j) this.t.get(i2)).b(str, str2);
            if (numB != null) {
                return numB;
            }
        }
        return null;
    }

    public i f(String str) {
        Iterator it = this.P.iterator();
        while (it.hasNext()) {
            i iVar = (i) it.next();
            if (str.equalsIgnoreCase(iVar.b)) {
                return iVar;
            }
        }
        return null;
    }

    public float i() {
        return this.C * this.n;
    }

    public float j() {
        return this.D * this.o;
    }

    public void a(float f2, float f3, int i2, n nVar, boolean z) {
        com.corrodinggames.rts.gameFramework.n.f fVar;
        l lVarB = l.B();
        if (this.E) {
            long jA = 0;
            if (f146a) {
                jA = br.a();
            }
            boolean z2 = true;
            boolean z3 = nVar.E;
            if (!lVarB.ay() && (fVar = lVarB.ce) != null && !fVar.a() && !fVar.b()) {
                z2 = false;
            }
            if (!z2) {
                b(f2, f3, i2, nVar, z);
            } else {
                for (int i3 = 0; i3 < n.c; i3++) {
                    n nVarK = n.k(i3);
                    if (nVarK != null && (nVarK == nVar || (!nVarK.w && (nVarK.d(nVar) || z3)))) {
                        b(f2, f3, i2, nVarK, z);
                    }
                }
            }
            if (f146a) {
                this.ap += br.a() - jA;
            }
        }
    }

    public byte a(int i2, int i3, byte[][] bArr, byte b2) {
        byte b3 = 0;
        int i4 = this.C;
        int i5 = this.D;
        if (i2 >= 1) {
            if (bArr[i2 - 1][i3] >= b2) {
                b3 = (byte) (0 - 128);
            }
            if (i3 >= 1 && bArr[i2 - 1][i3 - 1] >= b2) {
                b3 = (byte) (b3 + 1);
            }
            if (i3 < i5 - 1 && bArr[i2 - 1][i3 + 1] >= b2) {
                b3 = (byte) (b3 + 8);
            }
        }
        if (i3 >= 1) {
            if (bArr[i2][i3 - 1] >= b2) {
                b3 = (byte) (b3 + 16);
            }
            if (i2 < i4 - 1 && bArr[i2 + 1][i3 - 1] >= b2) {
                b3 = (byte) (b3 + 2);
            }
        }
        if (i2 < i4 - 1 && bArr[i2 + 1][i3] >= b2) {
            b3 = (byte) (b3 + 32);
        }
        if (i3 < i5 - 1) {
            if (bArr[i2][i3 + 1] >= b2) {
                b3 = (byte) (b3 + 64);
            }
            if (i2 < i4 - 1 && bArr[i2 + 1][i3 + 1] >= b2) {
                b3 = (byte) (b3 + 4);
            }
        }
        if (b3 == 127) {
            b3 = -1;
        }
        return b3;
    }

    public void k() {
        l();
        for (int i2 = 0; i2 < this.C; i2++) {
            for (int i3 = 0; i3 < this.D; i3++) {
                this.M[i2][i3] = 0;
                this.N[i2][i3] = 0;
            }
        }
    }

    public void f(int i2, int i3) {
        this.M[i2][i3] = 0;
        this.N[i2][i3] = 0;
    }

    public void g(int i2, int i3) {
        int i4 = i2 - 1;
        int i5 = i3 - 1;
        if (i4 < 0) {
            i4 = 0;
        }
        if (i5 < 0) {
            i5 = 0;
        }
        int i6 = i2 + 1;
        int i7 = i3 + 1;
        if (i6 > this.C - 1) {
            i6 = this.C - 1;
        }
        if (i7 > this.D - 1) {
            i7 = this.D - 1;
        }
        for (int i8 = i4; i8 <= i6; i8++) {
            for (int i9 = i5; i9 <= i7; i9++) {
                if (this.M[i8][i9] != 0) {
                    this.M[i8][i9] = 127;
                }
                if (this.N[i8][i9] != 0) {
                    this.N[i8][i9] = 127;
                }
            }
        }
    }

    public void l() {
        boolean z = false;
        if (this.M == null) {
            z = true;
        } else if (this.M.length != this.C || this.M[0].length != this.D) {
            l.e("smoothFog_cache: Size mismatch");
            z = true;
        }
        if (z) {
            l.e("Building smoothFog_cache");
            this.M = new byte[this.C][this.D];
            this.N = new byte[this.C][this.D];
            for (int i2 = 0; i2 < this.C; i2++) {
                for (int i3 = 0; i3 < this.D; i3++) {
                    this.M[i2][i3] = 127;
                    this.N[i2][i3] = 127;
                }
            }
        }
    }

    public void b(float f2, float f3, int i2, n nVar, boolean z) {
        byte b2;
        l lVarB = l.B();
        if (this.E && nVar.N != null) {
            l();
            float f4 = (i2 - 5) * (i2 - 5);
            float f5 = (i2 - 3) * (i2 - 3);
            float f6 = i2 * i2;
            float f7 = (1.0f / (f6 - f5)) * 10.0f;
            a(f2, f3);
            int i3 = this.T;
            int i4 = this.U;
            float f8 = f2 * this.r;
            float f9 = f3 * this.s;
            byte[][] bArr = nVar.N;
            int i5 = i2 - 1;
            int i6 = i3 - i5;
            int i7 = i4 - i5;
            if (i6 < 0) {
                i6 = 0;
            }
            if (i7 < 0) {
                i7 = 0;
            }
            int i8 = i3 + i5;
            int i9 = i4 + i5;
            if (i8 > this.C - 1) {
                i8 = this.C - 1;
            }
            if (i9 > this.D - 1) {
                i9 = this.D - 1;
            }
            c cVar = al;
            boolean z2 = false;
            boolean zQ = nVar.q();
            for (int i10 = i6; i10 <= i8; i10++) {
                for (int i11 = i7; i11 <= i9; i11++) {
                    byte b3 = bArr[i10][i11];
                    if (b3 != 0) {
                        float fA = com.corrodinggames.rts.gameFramework.f.a(f8, f9, i10, i11);
                        if (fA <= f5) {
                            if (b3 > 0) {
                                bArr[i10][i11] = 0;
                                if (zQ) {
                                    cVar.a(i10, i11, true);
                                    z2 = true;
                                    if (fA <= f4 && z) {
                                        f(i10, i11);
                                    } else {
                                        g(i10, i11);
                                    }
                                }
                            }
                        } else if (fA <= f6 && b3 > (b2 = (byte) ((fA - f5) * f7))) {
                            bArr[i10][i11] = b2;
                            if (zQ) {
                                cVar.a(i10, i11, true);
                                z2 = true;
                                g(i10, i11);
                            }
                        }
                    }
                }
            }
            if (z2) {
                lVarB.bW.O = true;
            }
        }
    }

    public void f(float f2) {
        l lVarB = l.B();
        if (f146a) {
            this.aq += f2;
            if (this.aq > 60.0f) {
                this.aq = 0.0f;
                if (this.ap > 0) {
                    l.e("seeThoughFogOfWarTimes: " + br.b(this.ap));
                    this.ap = 0L;
                }
                if (this.ap < 0) {
                    l.e("seeThoughFogOfWarTimes negative: " + br.b(this.ap));
                    this.ap = 0L;
                }
            }
        }
        if (this.E && this.F) {
            l();
            this.ar += f2;
            if (this.ar > 260.0f) {
                this.ar = 0.0f;
                w[] wVarArrA = am.er.a();
                int size = w.er.size();
                boolean z = false;
                for (int i2 = 0; i2 < n.c; i2++) {
                    n nVarK = n.k(i2);
                    if (nVarK != null && !nVarK.G) {
                        z = true;
                        for (int i3 = 0; i3 < size; i3++) {
                            w wVar = wVarArrA[i3];
                            if (wVar instanceof com.corrodinggames.rts.game.units.y) {
                                com.corrodinggames.rts.game.units.y yVar = (com.corrodinggames.rts.game.units.y) wVar;
                                if (yVar.bI()) {
                                    yVar.g(nVarK);
                                }
                            }
                        }
                        if (nVarK.N == null) {
                            l.b("fogOfWar_map==null for:" + i2);
                        }
                        boolean z2 = false;
                        boolean zQ = nVarK.q();
                        byte[][] bArr = nVarK.N;
                        byte[][] bArr2 = this.N;
                        for (int i4 = 0; i4 < this.C; i4++) {
                            for (int i5 = 0; i5 < this.D; i5++) {
                                if (bArr[i4][i5] < 5) {
                                    bArr[i4][i5] = 5;
                                    if (zQ) {
                                        al.a(i4, i5, true);
                                        z2 = true;
                                        bArr2[i4][i5] = 127;
                                    }
                                }
                            }
                        }
                        if (z2) {
                            lVarB.bW.O = true;
                        }
                    }
                }
                for (int i6 = 0; i6 < size; i6++) {
                    w wVar2 = wVarArrA[i6];
                    if (wVar2 instanceof com.corrodinggames.rts.game.units.y) {
                        com.corrodinggames.rts.game.units.y yVar2 = (com.corrodinggames.rts.game.units.y) wVar2;
                        if (!yVar2.bV) {
                            yVar2.c(false);
                        }
                    }
                }
                if (z) {
                    for (int i7 = 0; i7 < size; i7++) {
                        w wVar3 = wVarArrA[i7];
                        if (wVar3 instanceof com.corrodinggames.rts.game.units.y) {
                            com.corrodinggames.rts.game.units.y yVar3 = (com.corrodinggames.rts.game.units.y) wVar3;
                            if (yVar3.bI()) {
                                yVar3.cX();
                            }
                        }
                    }
                }
            }
        }
    }

    public void a(as asVar) throws IOException {
        asVar.a(false);
    }

    public void a(com.corrodinggames.rts.gameFramework.j.k kVar) {
        if (kVar.e()) {
            int iF = kVar.f();
            int iF2 = kVar.f();
            for (int i2 = 0; i2 < iF; i2++) {
                for (int i3 = 0; i3 < iF2; i3++) {
                    kVar.d();
                }
            }
        }
    }

    private InputStream a(String str, String str2, int i2) {
        String[] strArrSplit = str2.split("/");
        if (strArrSplit.length >= i2) {
            String str3 = VariableScope.nullOrMissingString;
            boolean z = true;
            for (int length = strArrSplit.length - i2; length < strArrSplit.length; length++) {
                if (!z) {
                    str3 = str3 + "/";
                }
                z = false;
                str3 = str3 + strArrSplit[length];
            }
            return com.corrodinggames.rts.gameFramework.e.a.j(str + str3);
        }
        return null;
    }

    public InputStream d(String str, String str2) throws IOException {
        InputStream inputStreamJ = com.corrodinggames.rts.gameFramework.e.a.j(str + str2);
        if (inputStreamJ == null) {
            inputStreamJ = a(str, str2, 3);
        }
        if (inputStreamJ == null) {
            inputStreamJ = a(str, str2, 2);
        }
        if (inputStreamJ == null) {
            inputStreamJ = a(str, str2, 1);
        }
        if (inputStreamJ == null) {
            throw new IOException("File could not be found:" + str + str2);
        }
        return inputStreamJ;
    }

    public boolean a(n nVar, int i2, int i3) {
        if (!this.G && this.E && nVar.N != null && c(i2, i3) && nVar.N[i2][i3] == 10) {
            return false;
        }
        return true;
    }
}


================================================================================
// FILE_PATH: ./game/b/c.java
================================================================================

package com.corrodinggames.rts.game.b;

import android.graphics.Paint;
import android.graphics.PorterDuff;
import android.graphics.Rect;
import android.graphics.RectF;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.br;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.m.ag;
import com.corrodinggames.rts.gameFramework.m.y;
import com.corrodinggames.rts.gameFramework.m.z;
import com.corrodinggames.rts.gameFramework.u;
import com.corrodinggames.rts.gameFramework.w;
import java.util.ArrayList;
import java.util.Iterator;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/b/c.class */
public final class c {
    int f;
    int g;
    int h;
    int i;
    int j;
    int k;
    float l;
    boolean n;

    /* renamed from: a, reason: collision with root package name */
    int f149a = 7;
    public com.corrodinggames.rts.gameFramework.m.e b = null;
    public y c = null;
    d[][] d = (d[][]) null;
    public ag e = new ag();
    float m = 1.0f;
    Rect o = new Rect();
    int p = 0;

    public void a() {
        l lVarB = l.B();
        this.m = g();
        if (this.m > 1.0f) {
        }
        this.i = (int) (this.h / this.m);
        this.k = (int) (this.j / this.m);
        this.l = 1.0f / this.k;
        this.f = lVarB.cu - (this.i / 2);
        this.g = lVarB.cv - (this.i / 2);
        float f = 1.0f / 20;
        this.f = ((int) (this.f * f)) * 20;
        this.g = ((int) (this.g * f)) * 20;
        for (int i = 0; i < this.f149a; i++) {
            for (int i2 = 0; i2 < this.f149a; i2++) {
                d dVar = this.d[i][i2];
                dVar.k = true;
                dVar.n = false;
            }
        }
    }

    public void b() {
        for (int i = 0; i < this.f149a; i++) {
            for (int i2 = 0; i2 < this.f149a; i2++) {
                d dVar = this.d[i][i2];
                dVar.i = i;
                dVar.j = i2;
            }
        }
    }

    public void a(int i) {
        d[] dVarArr = new d[this.f149a];
        if (i > 0) {
            for (int i2 = 0; i2 < this.f149a; i2++) {
                dVarArr[i2] = this.d[i2][0];
            }
            for (int i3 = 1; i3 < this.f149a; i3++) {
                for (int i4 = 0; i4 < this.f149a; i4++) {
                    this.d[i4][i3 - 1] = this.d[i4][i3];
                }
            }
            for (int i5 = 0; i5 < this.f149a; i5++) {
                this.d[i5][this.f149a - 1] = dVarArr[i5];
            }
            for (int i6 = 0; i6 < this.f149a; i6++) {
                this.d[i6][this.f149a - 1].k = true;
            }
        } else {
            for (int i7 = 0; i7 < this.f149a; i7++) {
                dVarArr[i7] = this.d[i7][this.f149a - 1];
            }
            for (int i8 = this.f149a - 2; i8 >= 0; i8--) {
                for (int i9 = 0; i9 < this.f149a; i9++) {
                    this.d[i9][i8 + 1] = this.d[i9][i8];
                }
            }
            for (int i10 = 0; i10 < this.f149a; i10++) {
                this.d[i10][0] = dVarArr[i10];
            }
            for (int i11 = 0; i11 < this.f149a; i11++) {
                this.d[i11][0].k = true;
            }
        }
        b();
    }

    public void b(int i) {
        d[] dVarArr = new d[this.f149a];
        if (i > 0) {
            for (int i2 = 0; i2 < this.f149a; i2++) {
                dVarArr[i2] = this.d[0][i2];
            }
            for (int i3 = 1; i3 < this.f149a; i3++) {
                for (int i4 = 0; i4 < this.f149a; i4++) {
                    this.d[i3 - 1][i4] = this.d[i3][i4];
                }
            }
            for (int i5 = 0; i5 < this.f149a; i5++) {
                this.d[this.f149a - 1][i5] = dVarArr[i5];
            }
            for (int i6 = 0; i6 < this.f149a; i6++) {
                this.d[this.f149a - 1][i6].k = true;
            }
        } else {
            for (int i7 = 0; i7 < this.f149a; i7++) {
                dVarArr[i7] = this.d[this.f149a - 1][i7];
            }
            for (int i8 = this.f149a - 2; i8 >= 0; i8--) {
                for (int i9 = 0; i9 < this.f149a; i9++) {
                    this.d[i8 + 1][i9] = this.d[i8][i9];
                }
            }
            for (int i10 = 0; i10 < this.f149a; i10++) {
                this.d[0][i10] = dVarArr[i10];
            }
            for (int i11 = 0; i11 < this.f149a; i11++) {
                this.d[0][i11].k = true;
            }
        }
        b();
    }

    public d a(int i, int i2) {
        if (i < 0 || i >= this.f149a || i2 < 0 || i2 >= this.f149a || this.d == null) {
            return null;
        }
        return this.d[i][i2];
    }

    public void a(int i, int i2, boolean z) {
        b bVar = l.B().bL;
        int i3 = bVar.n;
        int i4 = bVar.o;
        int i5 = i * i3;
        int i6 = i2 * i4;
        a((i5 - this.f) - i3, (i6 - this.g) - i4, 3 * i3, 3 * i4, z);
    }

    public void c() {
        if (this.d != null) {
            for (int i = 0; i < this.f149a; i++) {
                for (int i2 = 0; i2 < this.f149a; i2++) {
                    this.d[i][i2].k = true;
                }
            }
        }
    }

    public void a(int i, int i2, int i3, int i4, boolean z) {
        d dVarA;
        d dVarA2;
        d dVarA3;
        int i5 = (int) (i * this.l);
        int i6 = (int) (i2 * this.l);
        d dVarA4 = a(i5, i6);
        if (dVarA4 != null) {
            if (z) {
                dVarA4.l = true;
            } else {
                dVarA4.k = true;
            }
            boolean z2 = false;
            boolean z3 = false;
            if (i + i3 >= (dVarA4.i * this.k) + this.i) {
                z2 = true;
            }
            if (i2 + i4 >= (dVarA4.j * this.k) + this.i) {
                z3 = true;
            }
            if (z2 && (dVarA3 = a(i5 + 1, i6)) != null) {
                if (z) {
                    dVarA3.l = true;
                } else {
                    dVarA3.k = true;
                }
            }
            if (z3 && (dVarA2 = a(i5, i6 + 1)) != null) {
                if (z) {
                    dVarA2.l = true;
                } else {
                    dVarA2.k = true;
                }
            }
            if (z2 && z3 && (dVarA = a(i5 + 1, i6 + 1)) != null) {
                if (z) {
                    dVarA.l = true;
                } else {
                    dVarA.k = true;
                }
            }
        }
    }

    public void a(com.corrodinggames.rts.game.l lVar) {
        RectF rectFC = lVar.c();
        for (int i = 0; i < this.f149a; i++) {
            for (int i2 = 0; i2 < this.f149a; i2++) {
                if (this.d != null) {
                    d dVar = this.d[i][i2];
                    if (com.corrodinggames.rts.gameFramework.f.a(dVar.b(), rectFC)) {
                        boolean z = this.m != 1.0f;
                        if (z) {
                        }
                        lVar.a(dVar.f150a, dVar.c(), dVar.d(), this.m);
                        dVar.d.p();
                        if (z) {
                        }
                    }
                }
            }
        }
    }

    public void a(int i, int i2, y yVar) {
        d dVar = this.d[i][i2];
        boolean z = this.m != 1.0f;
        if (z) {
        }
        Rect rectB = dVar.b();
        com.corrodinggames.rts.gameFramework.f.a(rectB, 95.0f);
        w[] wVarArrA = w.er.a();
        int size = w.er.size();
        for (int i3 = 0; i3 < size; i3++) {
            w wVar = wVarArrA[i3];
            if (wVar instanceof com.corrodinggames.rts.game.l) {
                com.corrodinggames.rts.game.l lVar = (com.corrodinggames.rts.game.l) wVar;
                if (rectB.b((int) lVar.eo, (int) lVar.ep)) {
                    lVar.a(yVar, dVar.c(), dVar.d(), this.m);
                }
            }
        }
        if (z) {
        }
    }

    public void b(int i, int i2, y yVar) {
        l lVarB = l.B();
        b bVar = lVarB.bL;
        if (lVarB.bS.F()) {
            int i3 = this.f + (i * this.k);
            int i4 = this.g + (i2 * this.k);
            int i5 = this.i;
            int i6 = this.i;
            int i7 = bVar.u.n;
            int i8 = bVar.u.o;
            if (((int) (i3 * bVar.r)) < 0) {
            }
            if (((int) (i4 * bVar.s)) < 0) {
            }
            if (((int) ((i3 + i5) * bVar.r)) > i7 - 1) {
                int i9 = i7 - 1;
            }
            if (((int) ((i4 + i6) * bVar.s)) > i8 - 1) {
                int i10 = i8 - 1;
            }
            if (this.m < 0.4d) {
                return;
            }
            boolean z = this.m != 1.0f;
            if (z) {
                yVar.i();
                yVar.a(this.m, this.m);
            }
            if (z) {
                yVar.j();
            }
        }
    }

    public void b(int i, int i2) {
        d dVar = b.al.d[i][i2];
        l lVarB = l.B();
        b bVar = lVarB.bL;
        dVar.n = true;
        this.c.b(-16777216);
        com.corrodinggames.rts.gameFramework.m.e eVar = lVarB.bW.J;
        if (eVar != null) {
            Rect rect = new Rect();
            RectF rectF = new RectF();
            rect.a((int) (((this.f + (i * this.k)) / (bVar.n * bVar.C)) * eVar.p), (int) (((this.g + (i2 * this.k)) / (bVar.o * bVar.D)) * eVar.q), (int) (((this.f + ((i + 1) * this.k)) / (bVar.n * bVar.C)) * eVar.p), (int) (((this.g + ((i2 + 1) * this.k)) / (bVar.o * bVar.D)) * eVar.q));
            rectF.a(0.0f, 0.0f, this.h, this.h);
            this.c.a(eVar, rect, rectF, this.e);
        }
        this.c.p();
        if (l.aW) {
            dVar.f150a.a(0, PorterDuff.Mode.CLEAR);
        }
        dVar.f150a.b(this.b, 0.0f, 0.0f, (Paint) null);
        dVar.d.p();
    }

    public void c(int i, int i2) {
        c(i, i2, this.c);
    }

    public void c(int i, int i2, y yVar) {
        d dVar = b.al.d[i][i2];
        l lVarB = l.B();
        b bVar = lVarB.bL;
        boolean z = false;
        if (lVarB.bQ.renderFancyWater) {
            z = true;
        }
        if (l.C() || l.D()) {
            z = true;
        }
        if (z) {
            yVar.a(0, PorterDuff.Mode.CLEAR);
        } else {
            boolean z2 = false;
            if (l.C()) {
                z2 = true;
            }
            if (l.aX) {
                z2 = true;
            }
            if (com.corrodinggames.rts.gameFramework.f.g.bO) {
            }
            if (bVar.E) {
            }
            if (z2) {
                yVar.b(-16777216);
            }
        }
        if (l.aX) {
            yVar.a(0, PorterDuff.Mode.CLEAR);
        }
        int i3 = this.f + (i * this.k);
        int i4 = this.g + (i2 * this.k);
        boolean z3 = false;
        boolean z4 = false;
        if (!bVar.u.w) {
            z3 = true;
        }
        if (bVar.E) {
            z4 = true;
        }
        if (b.d) {
            z3 = false;
            z4 = false;
        }
        if (z3) {
            yVar.a(true);
        }
        bVar.u.a(yVar, i3, i4, i3, i4, this.i, this.i, this.m, this.m, bVar.E, false, false);
        if (bVar.v != null) {
            if (z3 && bVar.v.w) {
                yVar.f();
                l.e("Ending blit early");
            }
            bVar.v.a(yVar, i3, i4, i3, i4, this.i, this.i, this.m, this.m, bVar.E, false, false);
        }
        if (bVar.w != null) {
            if (z3 && bVar.w.w) {
                yVar.f();
                l.e("Ending blit early");
            }
            bVar.w.a(yVar, i3, i4, i3, i4, this.i, this.i, this.m, this.m, bVar.E, false, false);
        }
        Iterator it = bVar.z.iterator();
        while (it.hasNext()) {
            e eVar = (e) it.next();
            if (eVar.m) {
                if (z3 && eVar.w) {
                    yVar.f();
                    l.e("Ending blit early");
                }
                eVar.a(yVar, i3, i4, i3, i4, this.i, this.i, this.m, this.m, bVar.E, false, false);
            }
        }
        a(i, i2, yVar);
        if (bVar.E) {
            if (z4) {
                yVar.a(false);
            }
            bVar.u.a(yVar, i3, i4, i3, i4, this.i, this.i, this.m, this.m, bVar.E, true, true);
        }
        if (z3 || z4) {
            yVar.f();
        }
        if (lVarB.bS.F()) {
            b(i, i2, yVar);
        }
        dVar.k = false;
        dVar.l = false;
        dVar.m = 0;
        dVar.n = false;
        yVar.p();
        if (z || l.aW) {
            dVar.f150a.a(0, PorterDuff.Mode.CLEAR);
        }
        dVar.f150a.b(this.b, 0.0f, 0.0f, (Paint) null);
        dVar.d.p();
        if (b.c) {
            dVar.f150a.a(VariableScope.nullOrMissingString + dVar.c, 40.0f, 40.0f, b.h);
        }
        dVar.c++;
    }

    public void d() {
        if (l.aU && !l.aX && !l.aY) {
            return;
        }
        l lVarB = l.B();
        int iMax = Math.max((int) lVarB.cF, (int) lVarB.cH) + 3;
        if (this.d != null && this.h * this.f149a < iMax + this.h + 1) {
            l.b("map", "screen must have changed size, layerBufferSize too small at " + this.f149a + ", adding to LayerBitmapBuffer");
            l.b("map", "new viewpoint:" + lVarB.cF + ", " + lVarB.cH);
            c(this.f149a + 1);
        }
        if (this.d == null) {
            l.b("map", "setupLayerBuffers for size:" + iMax);
            long jNanoTime = System.nanoTime();
            if (l.aX || l.aY) {
                this.h = 1024;
                this.f149a = (int) ((iMax / this.h) + 1.5f);
            } else {
                iMax = Math.max(600, iMax);
                this.h = (iMax / (this.f149a - 2)) + 7 + 4;
                this.h = ((int) ((this.h * (1.0f / 20)) + 0.5f)) * 20;
            }
            if (this.h * this.f149a < iMax + this.h + 1) {
                l.b("layerBufferSize is too small");
                l.b("layerBufferCount:" + this.f149a);
                l.b("(layerBufferSize*(layerBufferCount):" + (this.h * this.f149a));
                l.b("longest+layerBufferSize+1:" + (iMax + this.h + 1));
                l.b("longest:" + iMax);
                if (l.aX || l.aY) {
                    this.f149a++;
                } else {
                    this.h += 100;
                }
            }
            l.e("layerBufferSize:" + this.h);
            this.j = this.h - 4;
            l.b("layerBuffer:" + this.f149a + "x" + this.f149a + " = " + (this.f149a * this.f149a) + (b.I ? " x2 for soft fade " : VariableScope.nullOrMissingString));
            this.d = new d[this.f149a][this.f149a];
            boolean z = false;
            if (lVarB.bQ.renderFancyWater) {
                z = true;
            }
            if (l.C() || l.D()) {
                z = true;
            }
            if (this.h <= 0) {
                l.b("layerBuffer buffer size was too small at: " + this.h);
                this.h = 512;
            }
            if (z) {
                this.b = lVarB.bO.a(this.h, this.h, true);
            } else {
                this.b = lVarB.bO.a(this.h, this.h, false);
            }
            this.b.b(true);
            this.c = lVarB.bO.b(this.b);
            f();
            l.e("----- layerBuffers create in:" + ((System.nanoTime() - jNanoTime) / 1000000.0d) + " ms");
        }
    }

    public void c(int i) {
        if (i < this.f149a) {
            l.g("newLayerBufferCount:" + i);
            return;
        }
        d[][] dVarArr = new d[i][i];
        for (int i2 = 0; i2 < this.f149a; i2++) {
            for (int i3 = 0; i3 < this.f149a; i3++) {
                dVarArr[i2][i3] = this.d[i2][i3];
            }
        }
        this.d = dVarArr;
        this.f149a = i;
        f();
    }

    public void e() {
        b.I = false;
        b.J = true;
        for (int i = 0; i < this.f149a; i++) {
            for (int i2 = 0; i2 < this.f149a; i2++) {
                d dVar = this.d[i][i2];
                if (dVar != null) {
                    if (dVar.f != null) {
                        dVar.f.q();
                        dVar.f = null;
                    }
                    if (dVar.e != null) {
                        dVar.e.o();
                        dVar.e = null;
                    }
                }
            }
        }
    }

    public void f() {
        l lVarB = l.B();
        ArrayList arrayList = null;
        boolean z = false;
        for (int i = 0; i < this.f149a; i++) {
            for (int i2 = 0; i2 < this.f149a; i2++) {
                if (this.d[i][i2] == null) {
                    d dVar = new d(this, i, i2);
                    dVar.b = this.p;
                    this.p++;
                    this.d[i][i2] = dVar;
                    if (this.h <= 0) {
                        l.b("initMissingLayerBufferImages: layerBuffer buffer size was too small at: " + this.h);
                        this.h = 512;
                    }
                    if (z) {
                        dVar.d = lVarB.bO.r();
                    } else if (lVarB.bQ.renderFancyWater) {
                        dVar.d = lVarB.bO.a(this.h, this.h, true);
                    } else {
                        dVar.d = lVarB.bO.a(this.h, this.h, false);
                    }
                    dVar.d.b(true);
                    if (dVar.d.A()) {
                        if (!z) {
                            l.b("initMissingLayerBufferImages: Failed to create map buffer at :" + this.h + "px");
                        }
                        dVar.f150a = new z();
                    } else {
                        try {
                            dVar.f150a = lVarB.bO.b(dVar.d);
                        } catch (OutOfMemoryError e) {
                            if (!z) {
                                l.a(u.gameImageCreate, e);
                            }
                            z = true;
                            dVar.f150a = new z();
                        }
                    }
                    if (arrayList == null) {
                        arrayList = new ArrayList();
                    }
                    arrayList.add(dVar);
                }
            }
        }
        if (z && b.I) {
            e();
        }
        if (arrayList != null) {
            Iterator it = arrayList.iterator();
            while (it.hasNext()) {
                d dVar2 = (d) it.next();
                if (b.I) {
                    try {
                        dVar2.a();
                    } catch (OutOfMemoryError e2) {
                        e();
                        l.b("Not enough free memory to enable smooth fog fading");
                        System.gc();
                    }
                }
            }
        }
        a();
    }

    public float g() {
        l lVarB = l.B();
        if (lVarB.cX > 1.0f) {
            return 1.0f;
        }
        return lVarB.cX;
    }

    public void a(float f) {
        l lVarB = l.B();
        b bVar = lVarB.bL;
        Long lValueOf = null;
        boolean z = false;
        float fG = g();
        boolean z2 = false;
        float f2 = fG / this.m;
        if (com.corrodinggames.rts.gameFramework.f.c(f2 - 1.0f) < 0.01f) {
            f2 = 1.0f;
        }
        if (fG > 0.6d) {
            float f3 = 0.3f;
            if (l.av()) {
                f3 = 0.1f;
            }
            if (fG - this.m > f3) {
                z2 = true;
            }
            if (fG == 1.0f && this.m != 1.0f) {
                z2 = true;
            }
        }
        if (f2 != 1.0f) {
            int i = 10;
            float f4 = 0.03f;
            if (fG < 0.3f) {
                i = 20;
                f4 = 0.09f;
            } else if (fG < 0.5f) {
                i = 20;
                f4 = 0.07f;
            }
            if (fG > 1.3f) {
                i = 7;
            }
            if (!l.av()) {
                i += 10;
            }
            if (com.corrodinggames.rts.gameFramework.f.c(bVar.aj - fG) > 0.03f) {
                bVar.aj = lVarB.cX;
                bVar.ak = 0;
            } else {
                bVar.ak++;
            }
            if (bVar.ak < 3) {
                bVar.ai = 0.0f;
            } else if (com.corrodinggames.rts.gameFramework.f.c(fG - this.m) > f4) {
                bVar.ai += 1.0f;
            }
            if (bVar.ai > i) {
                bVar.ai = 0.0f;
                z2 = true;
            }
        }
        if (lVarB.cu + lVarB.cA + 4.0f > this.f + (this.f149a * this.k)) {
            this.f += this.k;
            b(1);
        }
        if (lVarB.cu - 1 < this.f) {
            this.f -= this.k;
            b(-1);
        }
        if (lVarB.cv + lVarB.cB + 4.0f > this.g + (this.f149a * this.k)) {
            this.g += this.k;
            a(1);
        }
        if (lVarB.cv - 1 < this.g) {
            this.g -= this.k;
            a(-1);
        }
        if (lVarB.cu + lVarB.cA + 4.0f > this.f + (this.f149a * this.k)) {
            z2 = true;
        }
        if (lVarB.cu - 1 < this.f) {
            z2 = true;
        }
        if (lVarB.cv + lVarB.cB + 4.0f > this.g + (this.f149a * this.k)) {
            z2 = true;
        }
        if (lVarB.cv - 1 < this.g) {
            z2 = true;
        }
        if (z2) {
            a();
        }
        float f5 = lVarB.cX / this.m;
        if (com.corrodinggames.rts.gameFramework.f.c(f5 - 1.0f) < 1.0E-4f) {
            f5 = 1.0f;
        }
        float f6 = (lVarB.cF / f5) + 2.0f;
        float f7 = (lVarB.cH / f5) + 2.0f;
        if (f5 != 1.0f) {
            lVarB.bO.k();
            lVarB.bO.a(f5, f5);
            bVar.ao.a(lVarB.cK);
            bVar.ao.c = ((int) (bVar.ao.f47a + (bVar.ao.b() / f5))) + 2;
            bVar.ao.d = ((int) (bVar.ao.b + (bVar.ao.c() / f5))) + 2;
            lVarB.bO.a(bVar.ao);
        }
        float f8 = (this.f - lVarB.cw) * this.m;
        float f9 = (this.g - lVarB.cx) * this.m;
        float f10 = (int) f8;
        float f11 = (int) f9;
        int i2 = 0;
        boolean z3 = false;
        if (l.av() && lVarB.cX < 0.3d) {
            z3 = true;
        }
        this.e.a(z3);
        this.e.d(z3);
        this.e.b(z3);
        boolean z4 = false;
        for (int i3 = 0; i3 < this.f149a; i3++) {
            try {
                for (int i4 = 0; i4 < this.f149a; i4++) {
                    d dVar = this.d[i3][i4];
                    int i5 = (int) (f10 + (i3 * this.k * this.m));
                    int i6 = (int) (f11 + (i4 * this.k * this.m));
                    if (dVar.l && !this.n) {
                        dVar.m++;
                    }
                    dVar.p.a(i5 + 1, i6 + 1, (i5 + this.h) - 2, (i6 + this.h) - 2);
                    if (dVar.p.f47a <= f6 && dVar.p.b <= f7) {
                        if (dVar.p.c > f6) {
                            dVar.p.c = (int) f6;
                        }
                        if (dVar.p.d > f7) {
                            dVar.p.d = (int) f7;
                        }
                        int i7 = (int) ((0.0f - lVarB.cw) * this.m);
                        int i8 = (int) ((0.0f - lVarB.cx) * this.m);
                        int i9 = (int) ((bVar.i() - lVarB.cw) * this.m);
                        int iJ = (int) ((bVar.j() - lVarB.cx) * this.m);
                        if (dVar.p.f47a < i7) {
                            dVar.p.f47a = i7;
                        }
                        if (dVar.p.b < i8) {
                            dVar.p.b = i8;
                        }
                        if (dVar.p.c > i9) {
                            dVar.p.c = i9;
                        }
                        if (dVar.p.d > iJ) {
                            dVar.p.d = iJ;
                        }
                        if (!dVar.p.a()) {
                            boolean z5 = false;
                            boolean z6 = true;
                            if (dVar.k) {
                                z5 = true;
                                z6 = false;
                            }
                            if (dVar.l) {
                                int i10 = 10;
                                if (i2 > 3) {
                                    i10 = 10 + 2;
                                }
                                if (i2 > 6) {
                                    i10 += 2;
                                }
                                if (dVar.m > i10) {
                                    dVar.m = 0;
                                    z5 = true;
                                    i2++;
                                }
                            }
                            if (z5) {
                                z = true;
                                boolean z7 = false;
                                long jA = br.a();
                                if (lValueOf == null) {
                                    lValueOf = Long.valueOf(jA);
                                } else {
                                    int i11 = 200;
                                    if (this.n) {
                                        i11 = 30;
                                    }
                                    if (br.a(lValueOf.longValue(), jA) > i11) {
                                        z7 = true;
                                        this.n = true;
                                    }
                                }
                                if (z7 && dVar.k && !dVar.n) {
                                    b(i3, i4);
                                }
                                if (!z7) {
                                    if (b.I) {
                                        if (dVar.e != null && dVar.e.p != dVar.d.p) {
                                            l.e("wrong sized fadeOutBitmap width:" + dVar.e.p + " vs " + dVar.d.p);
                                            dVar.e.o();
                                            dVar.e = null;
                                        }
                                        if (dVar.e == null) {
                                            try {
                                                dVar.a();
                                            } catch (OutOfMemoryError e) {
                                                e.printStackTrace();
                                                l.a(u.gameImageCreate, e);
                                                e();
                                                l.b("Not enough free memory to keep smooth fog fading");
                                                System.gc();
                                            }
                                            if (b.I && dVar.e == null) {
                                                lVarB.i("Disabling smooth fog fading due to error");
                                                e();
                                                l.b("fadeOutBitmap == null");
                                                System.gc();
                                            }
                                        }
                                    }
                                    if (b.I) {
                                        if (dVar.g > 0.0f) {
                                        }
                                        com.corrodinggames.rts.gameFramework.m.e eVar = dVar.d;
                                        dVar.d = dVar.e;
                                        dVar.e = eVar;
                                        y yVar = dVar.f150a;
                                        dVar.f150a = dVar.f;
                                        dVar.f = yVar;
                                        if (z6) {
                                            dVar.g = 1.0f;
                                        } else {
                                            dVar.g = 0.0f;
                                        }
                                    } else {
                                        dVar.g = 0.0f;
                                    }
                                    if (l.at() && !z4) {
                                        b.a();
                                        z4 = true;
                                    }
                                    lVarB.bO.i();
                                    c(i3, i4);
                                    lVarB.bO.j();
                                    if (b.f146a) {
                                        br.a("re-drawTile", jA);
                                    }
                                }
                            }
                            dVar.o.a(dVar.p);
                            dVar.o.a(-i5, -i6);
                            dVar.q.a(dVar.p);
                            dVar.q.a(-f10, -f11);
                            dVar.q.a(f8, f9);
                            if (dVar.g > 0.0f) {
                                dVar.h.a(z3);
                                dVar.h.c((int) ((1.0f - dVar.g) * 255.0f));
                                lVarB.bO.a(dVar.e, dVar.o, dVar.q, this.e);
                                if (dVar.g < 0.98d) {
                                    lVarB.bO.a(dVar.d, dVar.o, dVar.q, dVar.h);
                                }
                                dVar.g -= 0.1f * f;
                            } else if (dVar.d.A()) {
                                lVarB.bO.a(dVar.d, dVar.q, this.e, 0.0f, 0.0f, 0, 0);
                            } else {
                                lVarB.bO.a(dVar.d, dVar.o, dVar.q, this.e);
                            }
                        }
                    }
                }
            } finally {
                if (z4) {
                    b.b();
                }
            }
        }
        if (f5 != 1.0f) {
            lVarB.bO.l();
        }
        if (!z) {
            this.n = false;
        }
    }
}


================================================================================
// FILE_PATH: ./game/b/h.java
================================================================================

package com.corrodinggames.rts.game.b;

import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.Rect;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.m.y;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/b/h.class */
public class h {
    public com.corrodinggames.rts.gameFramework.m.e b;
    y c;
    int e;
    int f;
    int g;
    int h;
    float i;
    boolean j;
    h k;
    static final Rect l = new Rect();
    static final Rect m = new Rect();
    static final Rect n = new Rect();

    /* renamed from: a, reason: collision with root package name */
    int f153a = 0;
    Paint d = new Paint();
    Rect o = new Rect();
    int p = -1;

    public h(float f, boolean z) {
        this.i = 1.0f;
        this.i = f;
        this.j = z;
        this.e = (int) (20.0f * f);
        this.f = (int) (20.0f * f);
        this.g = this.e + 2;
        this.h = this.f + 2;
        if (!z) {
            this.k = new h(f, true);
        }
    }

    public void a() {
        l lVarB = l.B();
        this.b = lVarB.bO.b(20 * this.g, 20 * this.h, this.j);
        this.c = lVarB.bO.b(this.b);
        if (this.j) {
            this.b.m = true;
        }
        if (this.k != null) {
            this.k.a();
        }
    }

    public void b() {
        this.f153a = 0;
        this.c.b(-16777216);
        this.c.o();
        this.b.r();
        if (this.k != null) {
            this.k.b();
        }
    }

    public int a(j jVar, int i) {
        int iA;
        jVar.a(i, l);
        if (this.f153a >= 400) {
            return -1;
        }
        boolean z = true;
        if (!this.j) {
            z = !a(jVar.b, l);
        }
        if (z) {
            int i2 = this.f153a;
            this.f153a++;
            a(i2, jVar.b, l);
            return i2;
        }
        if (this.k != null && (iA = this.k.a(jVar, i)) != -1) {
            return iA + 500;
        }
        return -1;
    }

    public static boolean a(com.corrodinggames.rts.gameFramework.m.e eVar, Rect rect) {
        int iM = rect.f47a;
        int iM2 = rect.c;
        int iL = rect.b;
        int iL2 = rect.d;
        if (iM < 0) {
            iM = 0;
        }
        if (iM2 < 0) {
            iM2 = 0;
        }
        if (iL < 0) {
            iL = 0;
        }
        if (iL2 < 0) {
            iL2 = 0;
        }
        if (iM > eVar.m()) {
            iM = eVar.m();
        }
        if (iM2 > eVar.m()) {
            iM2 = eVar.m();
        }
        if (iL > eVar.l()) {
            iL = eVar.l();
        }
        if (iL2 > eVar.l()) {
            iL2 = eVar.l();
        }
        if (!eVar.k()) {
            l.e("hasImageAlpha: Cannot get pixel data for: " + eVar.a());
            return true;
        }
        eVar.x();
        for (int i = iL; i < iL2; i++) {
            for (int i2 = iM; i2 < iM2; i2++) {
                if (Color.a(eVar.a(i2, i)) != 255) {
                    return true;
                }
            }
        }
        eVar.y();
        return false;
    }

    public void c() {
        this.c.p();
        if (this.k != null) {
            this.k.c();
        }
    }

    public void a(int i, com.corrodinggames.rts.gameFramework.m.e eVar, Rect rect) {
        Rect rect2 = new Rect();
        a(i, rect2);
        boolean z = false;
        if (this.i < 1.0f) {
            z = true;
        }
        this.d.a(z);
        this.d.d(z);
        this.d.b(z);
        a(this.c, eVar, rect, rect2, this.d);
    }

    public static void a(y yVar, com.corrodinggames.rts.gameFramework.m.e eVar, Rect rect, Rect rect2, Paint paint) {
        for (int i = 0; i <= 3; i++) {
            a(rect, m, i, 0);
            a(rect2, n, i, 1);
            yVar.a(eVar, m, n, paint);
        }
        for (int i2 = 0; i2 <= 3; i2++) {
            a(rect, m, i2, 1, -1);
            a(rect2, n, i2, 1, 0);
            yVar.a(eVar, m, n, paint);
        }
        yVar.a(eVar, rect, rect2, paint);
    }

    public static Rect a(Rect rect, Rect rect2, int i, int i2, int i3) {
        if (i == 0) {
            rect2.f47a = rect.f47a - 0;
            rect2.c = rect.c + 0;
            rect2.b = (rect.b - i2) - i3;
            rect2.d = rect.b - i3;
        } else if (i == 1) {
            rect2.f47a = rect.c + i3;
            rect2.c = rect.c + i2 + i3;
            rect2.b = rect.b - 0;
            rect2.d = rect.d + 0;
        } else if (i == 2) {
            rect2.f47a = rect.f47a - 0;
            rect2.c = rect.c + 0;
            rect2.b = rect.d + i3;
            rect2.d = rect.d + i2 + i3;
        } else {
            rect2.f47a = rect.f47a - i3;
            rect2.c = (rect.f47a - i2) - i3;
            rect2.b = rect.b - 0;
            rect2.d = rect.d + 0;
        }
        return rect2;
    }

    public static Rect a(Rect rect, Rect rect2, int i, int i2) {
        if (i == 0) {
            rect2.f47a = (rect.c - 1) + i2;
            rect2.b = rect.b - i2;
        } else if (i == 1) {
            rect2.f47a = (rect.c - 1) + i2;
            rect2.b = (rect.d - 1) + i2;
        } else if (i == 2) {
            rect2.f47a = rect.f47a - i2;
            rect2.b = (rect.d - 1) + i2;
        } else {
            rect2.f47a = rect.f47a - i2;
            rect2.b = rect.b - i2;
        }
        rect2.c = rect2.f47a + 1;
        rect2.d = rect2.b + 1;
        return rect2;
    }

    public final com.corrodinggames.rts.gameFramework.m.e a(int i) {
        if (i >= 500) {
            return this.k.a(i - 500);
        }
        return this.b;
    }

    public final Rect b(int i) {
        if (i >= 500) {
            return this.k.b(i - 500);
        }
        if (this.p == i) {
            return this.o;
        }
        this.p = i;
        a(i, this.o);
        return this.o;
    }

    public void a(int i, Rect rect) {
        int i2 = ((i % 20) * this.g) + 1;
        int i3 = (((int) (i * 0.05f)) * this.h) + 1;
        rect.f47a = i2;
        rect.b = i3;
        rect.c = i2 + this.e;
        rect.d = i3 + this.f;
    }
}


================================================================================
// FILE_PATH: ./game/b/d.java
================================================================================

package com.corrodinggames.rts.game.b;

import android.graphics.Paint;
import android.graphics.Rect;
import android.graphics.RectF;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.m.ag;
import com.corrodinggames.rts.gameFramework.m.y;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/b/d.class */
public class d {

    /* renamed from: a, reason: collision with root package name */
    public y f150a;
    int b;
    int c;
    public com.corrodinggames.rts.gameFramework.m.e d;
    public com.corrodinggames.rts.gameFramework.m.e e;
    public y f;
    public float g;
    public int i;
    public int j;
    final /* synthetic */ c s;
    public Paint h = new ag();
    public boolean k = true;
    public boolean l = true;
    public int m = 0;
    public boolean n = false;
    public final Rect o = new Rect();
    public final Rect p = new Rect();
    public final RectF q = new RectF();
    public final Rect r = new Rect();

    public void a() {
        l lVarB = l.B();
        this.e = lVarB.bO.a(this.d.p, this.d.q, true);
        if (this.e != null && !this.e.A()) {
            this.e.a("fadeOutBitmap");
        }
        if (this.e == null || this.e.A()) {
            throw new OutOfMemoryError("Failed to create fade out bitmap");
        }
        this.e.b(true);
        this.f = lVarB.bO.b(this.e);
    }

    public Rect b() {
        this.r.a(c(), d(), c() + this.s.i, d() + this.s.i);
        return this.r;
    }

    public d(c cVar, int i, int i2) {
        this.s = cVar;
        this.i = i;
        this.j = i2;
    }

    public int c() {
        return this.s.f + (this.i * this.s.k);
    }

    public int d() {
        return this.s.g + (this.j * this.s.k);
    }
}


================================================================================
// FILE_PATH: ./game/b/e.java
================================================================================

package com.corrodinggames.rts.game.b;

import android.graphics.Color;
import android.graphics.LightingColorFilter;
import android.graphics.Paint;
import android.graphics.Point;
import android.graphics.Rect;
import android.graphics.RectF;
import android.util.Log;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.m.ag;
import com.corrodinggames.rts.gameFramework.m.y;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import java.io.BufferedInputStream;
import java.io.ByteArrayInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Locale;
import java.util.Properties;
import java.util.zip.GZIPInputStream;
import java.util.zip.InflaterInputStream;
import org.w3c.dom.Element;
import org.w3c.dom.NodeList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/b/e.class */
public class e {
    private static byte[] x = new byte[SlickToAndroidKeycodes.AndroidCodes.KEYCODE_TV_CONTENTS_MENU];

    /* renamed from: a, reason: collision with root package name */
    static ag f151a;
    static ag[] b;
    static ag c;
    static ag d;
    static ag e;
    static ag f;
    static ag g;
    static ag[] h;
    public b i;
    public int j;
    public String k;
    public String l;
    public boolean m;
    public int n;
    public int o;
    public Properties p;
    public short[] q;
    public boolean r;
    public boolean s;
    final Rect t = new Rect();
    final Rect u = new Rect();
    final RectF v = new RectF();
    public boolean w;

    static {
        for (int i = 0; i < 256; i++) {
            x[i] = -1;
        }
        for (int i2 = 65; i2 <= 90; i2++) {
            x[i2] = (byte) (i2 - 65);
        }
        for (int i3 = 97; i3 <= 122; i3++) {
            x[i3] = (byte) ((26 + i3) - 97);
        }
        for (int i4 = 48; i4 <= 57; i4++) {
            x[i4] = (byte) ((52 + i4) - 48);
        }
        x[43] = 62;
        x[47] = 63;
        f151a = new ag();
        f151a.b(-16777216);
        f151a.a(Paint.Style.FILL);
        b = new ag[11];
        for (int i5 = 0; i5 <= 10; i5++) {
            b[i5] = new ag();
            b[i5].b(-16777216);
            b[i5].a(Paint.Style.FILL);
            b[i5].c(i5 * 25);
        }
        c = new ag();
        c.b(-16777216);
        c.a(Paint.Style.FILL);
        d = new ag();
        d.a(false);
        d.d(false);
        d.b(false);
        e = new ag();
        e.a(true);
        f = new ag();
        f.a(false);
        f.d(false);
        f.b(false);
        g = new ag();
        g.a(true);
        h = new ag[11];
        for (int i6 = 0; i6 <= 10; i6++) {
            ag agVar = new ag();
            agVar.a(new LightingColorFilter(Color.a(255 - (i6 * 25), 255 - (i6 * 25), 255 - (i6 * 25)), 0));
            h[i6] = agVar;
        }
    }

    public final g a(int i, int i2) {
        if (this.q == null) {
            this.q = new short[this.n * this.o];
        }
        return this.i.a(this.q[(i * this.o) + i2]);
    }

    public short[] a() {
        if (this.q == null) {
            this.q = new short[this.n * this.o];
        }
        return this.q;
    }

    public void a(int i, int i2, g gVar, boolean z) {
        if (this.q == null) {
            this.q = new short[this.n * this.o];
        }
        if (gVar == null) {
            this.q[(i * this.o) + i2] = 0;
            return;
        }
        if (z) {
            gVar = this.i.a(gVar, i, i2);
        }
        if (gVar.i) {
            boolean z2 = false;
            Iterator it = this.i.A.iterator();
            while (it.hasNext()) {
                Point point = (Point) it.next();
                if (point.f44a == i && point.b == i2) {
                    l.e("resPools point:" + i + ", " + i2 + " already exists");
                    z2 = true;
                }
            }
            if (!z2) {
                this.i.A.add(new Point(i, i2));
            }
        }
        if (gVar.d == -1) {
            gVar.d = this.i.a(gVar);
        }
        this.q[(i * this.o) + i2] = gVar.d;
    }

    public void a(y yVar, float f2, float f3, float f4, float f5, float f6, float f7, float f8, float f9, boolean z, boolean z2, boolean z3) {
        ag agVar;
        h hVar;
        ag agVar2;
        l lVarB = l.B();
        b bVar = this.i;
        int i = (int) (f4 * bVar.r);
        if (i < 0) {
            i = 0;
        }
        int i2 = (int) (f5 * bVar.s);
        if (i2 < 0) {
            i2 = 0;
        }
        int i3 = (int) ((f4 + f6) * bVar.r);
        if (i3 > this.n - 1) {
            i3 = this.n - 1;
        }
        int i4 = (int) ((f5 + f7) * bVar.s);
        if (i4 > this.o - 1) {
            i4 = this.o - 1;
        }
        byte[][] bArr = lVarB.bs.N;
        float f10 = f2 * f8;
        float f11 = f3 * f9;
        float f12 = bVar.n * f8;
        float f13 = bVar.o * f9;
        byte b2 = 15;
        if (!z2) {
            b2 = 10;
        }
        boolean z4 = bVar.G;
        if (z4) {
            b2 = 15;
        }
        if (z && bArr == null) {
            z = false;
        }
        ag agVar3 = b[5];
        ag agVar4 = f151a;
        ag agVar5 = c;
        agVar5.c(255);
        if (z4) {
            agVar4 = b[7];
            agVar5.c((int) ((1.0f - ((1.0f - (agVar3.f() / 255.0f)) * (1.0f - (agVar4.f() / 255.0f)))) * 255.0f));
        }
        boolean z5 = false;
        if (l.av() && f8 < 1.0f && f9 < 1.0f) {
            z5 = true;
        }
        if (z3) {
        }
        if (!this.r) {
            agVar = f;
            if (z5) {
                agVar = g;
            }
        } else {
            agVar = d;
            if (z5) {
                agVar = e;
            }
        }
        ag agVar6 = agVar;
        float f14 = 0.0f;
        boolean z6 = false;
        if (!l.av()) {
            z6 = true;
        } else if (z3) {
            if (f8 < 1.0f || f9 >= 1.0f) {
            }
        } else if (f8 < 1.0f || f9 < 1.0f) {
            f14 = 0.5f * f8;
        }
        if (f8 < 0.5f) {
            hVar = b.m;
        } else {
            hVar = b.l;
        }
        short[] sArrA = a();
        g[] gVarArr = bVar.B;
        RectF rectF = this.v;
        Rect rect = this.u;
        int i5 = this.o;
        boolean z7 = this.r;
        Rect rect2 = this.t;
        bVar.l();
        byte[][] bArr2 = bVar.M;
        byte[][] bArr3 = bVar.N;
        com.corrodinggames.rts.gameFramework.m.e eVar = b.K;
        for (int i6 = i; i6 < i3 + 1; i6++) {
            int i7 = i2;
            while (i7 < i4 + 1) {
                g gVar = gVarArr[sArrA[(i6 * i5) + i7]];
                if (gVar != null) {
                    byte b3 = 0;
                    if (z) {
                        b3 = bArr[i6][i7];
                    }
                    if (b3 != b2) {
                        float f15 = (i6 * f12) + 0.0f;
                        float f16 = (i7 * f13) + 0.0f;
                        float f17 = ((i6 + 1) * f12) + f14;
                        float f18 = ((i7 + 1) * f13) + f14;
                        rectF.a(f15 - f10, f16 - f11, f17 - f10, f18 - f11);
                        if (z5 && !z3) {
                            rectF.b = (int) rectF.b;
                            rectF.f48a = (int) rectF.f48a;
                        }
                        if (!z3) {
                            j jVar = gVar.f152a;
                            if (!z6) {
                                if (gVar.c >= 0) {
                                    yVar.a(hVar.a(gVar.c), hVar.b(gVar.c), rectF, agVar6);
                                } else {
                                    gVar.a(yVar, rectF, f8, agVar6);
                                }
                            } else {
                                rect.a((int) (f15 - f10), (int) (f16 - f11), (int) (f17 - f10), (int) (f18 - f11));
                                if (gVar.c >= 0) {
                                    yVar.b(hVar.a(gVar.c), hVar.b(gVar.c), rect, agVar6);
                                } else {
                                    yVar.a(jVar.b, jVar.b(gVar.b), rect, agVar6);
                                }
                            }
                        }
                        if (z && z7 && z2 && (b3 != 0 || bArr3[i6][i7] != 0 || bArr2[i6][i7] != 0)) {
                            if (b3 >= 5) {
                                if (z3 && (b3 == 10 || bArr2[i6][i7] == 0)) {
                                    int i8 = i7 + 1;
                                    while (i8 < i4) {
                                        if (b3 != bArr[i6][i8] || (b3 != 10 && bArr2[i6][i8] != 0)) {
                                            break;
                                        } else {
                                            i8++;
                                        }
                                    }
                                    int i9 = i8 - 1;
                                    if (i9 > i7) {
                                        rectF.d += (i9 - i7) * f13;
                                        i7 = i9;
                                    }
                                }
                                if (b3 == 10) {
                                    agVar2 = agVar5;
                                } else {
                                    agVar2 = agVar3;
                                }
                                rect.f47a = (int) rectF.f48a;
                                rect.c = (int) rectF.c;
                                rect.b = (int) rectF.b;
                                rect.d = (int) rectF.d;
                                yVar.a(rect, agVar2);
                            } else {
                                byte bA = bArr3[i6][i7];
                                if (bA == 127) {
                                    bA = bVar.a(i6, i7, bArr, (byte) 5);
                                    bArr3[i6][i7] = bA;
                                }
                                if (bA != 0) {
                                    int i10 = bA + 128;
                                    if (eVar != null) {
                                        b.a(i10, rect2);
                                        rect.a((int) (f15 - f10), (int) (f16 - f11), (int) (f17 - f10), (int) (f18 - f11));
                                        yVar.b(eVar, rect2, rect, agVar3);
                                    } else if (!bVar.k[bA + 128]) {
                                        l.e("SmoothFog, missing: " + ((int) bA));
                                        bVar.k[bA + 128] = true;
                                    }
                                }
                            }
                            if (b3 != 10) {
                                byte bA2 = bArr2[i6][i7];
                                if (bA2 == 127) {
                                    bA2 = bVar.a(i6, i7, bArr, (byte) 10);
                                    bArr2[i6][i7] = bA2;
                                }
                                if (bA2 != 0) {
                                    int i11 = bA2 + 128;
                                    if (eVar != null) {
                                        b.a(i11, rect2);
                                        rect.a((int) (f15 - f10), (int) (f16 - f11), (int) (f17 - f10), (int) (f18 - f11));
                                        yVar.b(eVar, rect2, rect, agVar4);
                                    } else if (!bVar.k[bA2 + 128]) {
                                        l.e("SmoothFog, missing: " + ((int) bA2));
                                        bVar.k[bA2 + 128] = true;
                                    }
                                }
                            }
                        }
                    }
                }
                i7++;
            }
        }
    }

    public void b() {
        this.q = null;
        this.p = null;
        this.i = null;
    }

    public e(b bVar, String str, int i, int i2) {
        this.i = bVar;
        a(str);
        this.n = i;
        this.o = i2;
        a();
    }

    void a(String str) {
        this.k = str;
        Log.d("RustedWarfare", "MapLayer create: " + str);
        if (str != null) {
            this.l = str.toLowerCase(Locale.ENGLISH);
        }
        this.m = this.l.contains("items");
        this.r = this.l.equalsIgnoreCase("ground");
        if (this.m || this.r) {
            this.s = true;
        }
        if (str != null && str.equalsIgnoreCase("grounddetails")) {
            this.s = true;
        }
    }

    public e(b bVar, Element element) throws f, IOException {
        NodeList elementsByTagName;
        this.i = bVar;
        a(element.getAttribute("name"));
        this.n = Short.parseShort(element.getAttribute("width"));
        this.o = Short.parseShort(element.getAttribute("height"));
        Element element2 = (Element) element.getElementsByTagName("properties").item(0);
        if (element2 != null && (elementsByTagName = element2.getElementsByTagName("property")) != null) {
            this.p = new Properties();
            for (int i = 0; i < elementsByTagName.getLength(); i++) {
                Element element3 = (Element) elementsByTagName.item(i);
                this.p.setProperty(element3.getAttribute("name"), element3.getAttribute("value"));
            }
        }
        Element element4 = (Element) element.getElementsByTagName("data").item(0);
        if (element4 == null) {
            throw new f("Map is missing <data> element");
        }
        try {
            InputStream inputStreamA = a(element4.getFirstChild().getNodeValue(), element4.getAttribute("encoding"), element4.getAttribute("compression"));
            BufferedInputStream bufferedInputStream = new BufferedInputStream(inputStreamA);
            a(bufferedInputStream);
            if (bufferedInputStream != null) {
                bufferedInputStream.close();
            }
            if (inputStreamA != null) {
                inputStreamA.close();
            }
        } catch (IOException e2) {
            throw new f("Unable to decompress base64 block", e2);
        }
    }

    void a(InputStream inputStream) throws f {
        b bVar = this.i;
        g gVarA = null;
        int i = -1;
        boolean z = this.s;
        HashMap map = new HashMap();
        short s = 0;
        while (true) {
            short s2 = s;
            if (s2 < this.o) {
                short s3 = 0;
                while (true) {
                    short s4 = s3;
                    if (s4 < this.n) {
                        int i2 = 0 | inputStream.read() | (inputStream.read() << 8) | (inputStream.read() << 16) | (inputStream.read() << 24);
                        boolean z2 = (i2 & Integer.MIN_VALUE) != 0;
                        boolean z3 = (i2 & 1073741824) != 0;
                        boolean z4 = (i2 & 536870912) != 0;
                        int i3 = i2 & 536870911;
                        if (z2 || z3 || z4) {
                        }
                        if (i3 != 0) {
                            if (i == i3 && gVarA != null) {
                                a(s4, s2, gVarA, true);
                            } else {
                                g gVar = (g) map.get(Integer.valueOf(i3));
                                if (gVar != null) {
                                    gVarA = gVar;
                                    i = i3;
                                    a(s4, s2, gVarA, true);
                                } else {
                                    j jVarA = bVar.a(i3);
                                    if (jVarA != null) {
                                        gVarA = g.a(bVar, this, jVarA, i3 - jVarA.l, s4, s2, z);
                                        if (gVarA != null) {
                                            a(s4, s2, gVarA, true);
                                            map.put(Integer.valueOf(i3), gVarA);
                                        }
                                        i = i3;
                                    } else {
                                        throw new f("Unable to decode base64 block, could not find tileId: " + i3);
                                    }
                                }
                            }
                        }
                        s3 = (short) (s4 + 1);
                    }
                }
            } else {
                return;
            }
            s = (short) (s2 + 1);
        }
    }

    public static InputStream a(String str, String str2, String str3) throws f {
        InputStream gZIPInputStream;
        if (str2.equals("base64")) {
            byte[] bArrA = a(str.toCharArray());
            if ("gzip".equals(str3)) {
                try {
                    gZIPInputStream = new GZIPInputStream(new ByteArrayInputStream(bArrA));
                } catch (IOException e2) {
                    throw new f("Unable to decode block in map", e2);
                }
            } else if (VariableScope.nullOrMissingString.equals(str3)) {
                gZIPInputStream = new ByteArrayInputStream(bArrA);
            } else if ("zlib".equals(str3)) {
                gZIPInputStream = new InflaterInputStream(new ByteArrayInputStream(bArrA));
            } else {
                throw new f("Unsupport tiled map compression: " + str2 + "," + str3 + " (only gzip base64 is supported, this can be set in Tiled's Preferences)");
            }
            return gZIPInputStream;
        }
        throw new f("Unsupport tiled map encoding: " + str2 + "," + str3 + " (only gzip base64 is supported, this can be set in Tiled's Preferences)");
    }

    public static byte[] a(char[] cArr) {
        int length = cArr.length;
        byte[] bArr = x;
        for (int i = 0; i < cArr.length; i++) {
            if (cArr[i] > 255 || bArr[cArr[i]] < 0) {
                length--;
            }
        }
        int i2 = (length / 4) * 3;
        if (length % 4 == 3) {
            i2 += 2;
        }
        if (length % 4 == 2) {
            i2++;
        }
        byte[] bArr2 = new byte[i2];
        int i3 = 0;
        int i4 = 0;
        int i5 = 0;
        for (int i6 = 0; i6 < cArr.length; i6++) {
            byte b2 = cArr[i6] > 255 ? (byte) -1 : bArr[cArr[i6]];
            if (b2 >= 0) {
                i3 += 6;
                i4 = (i4 << 6) | b2;
                if (i3 >= 8) {
                    i3 -= 8;
                    int i7 = i5;
                    i5++;
                    bArr2[i7] = (byte) ((i4 >> i3) & 255);
                }
            }
        }
        if (i5 != bArr2.length) {
            throw new RuntimeException("Data length appears to be wrong (wrote " + i5 + " should be " + bArr2.length + ")");
        }
        return bArr2;
    }
}


================================================================================
// FILE_PATH: ./game/b/i.java
================================================================================

package com.corrodinggames.rts.game.b;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.Properties;
import org.w3c.dom.Element;
import org.w3c.dom.NodeList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/b/i.class */
public class i {

    /* renamed from: a, reason: collision with root package name */
    public int f154a;
    public String b;
    public ArrayList c;
    public int d;
    public int e;
    public Properties f;

    public a a(String str) {
        if (this.c != null) {
            Iterator it = this.c.iterator();
            while (it.hasNext()) {
                a aVar = (a) it.next();
                if (str.equalsIgnoreCase(aVar.b)) {
                    return aVar;
                }
            }
            return null;
        }
        return null;
    }

    public i(Element element, b bVar) {
        NodeList elementsByTagName;
        this.b = element.getAttribute("name");
        if (element.hasAttribute("width")) {
            this.d = Integer.parseInt(element.getAttribute("width"));
        }
        if (element.hasAttribute("height")) {
            this.e = Integer.parseInt(element.getAttribute("height"));
        }
        this.c = new ArrayList();
        Element element2 = (Element) element.getElementsByTagName("properties").item(0);
        if (element2 != null && (elementsByTagName = element2.getElementsByTagName("property")) != null) {
            this.f = new Properties();
            for (int i = 0; i < elementsByTagName.getLength(); i++) {
                Element element3 = (Element) elementsByTagName.item(i);
                this.f.setProperty(element3.getAttribute("name"), element3.getAttribute("value"));
            }
        }
        NodeList elementsByTagName2 = element.getElementsByTagName("object");
        for (int i2 = 0; i2 < elementsByTagName2.getLength(); i2++) {
            a aVar = new a((Element) elementsByTagName2.item(i2), bVar, this);
            aVar.f145a = i2;
            this.c.add(aVar);
        }
    }
}


================================================================================
// FILE_PATH: ./game/b/j.java
================================================================================

package com.corrodinggames.rts.game.b;

import android.graphics.Rect;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.l;
import java.io.BufferedInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
import java.util.Properties;
import javax.xml.parsers.DocumentBuilderFactory;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/b/j.class */
public class j {

    /* renamed from: a, reason: collision with root package name */
    public String f155a;
    public com.corrodinggames.rts.gameFramework.m.e b;
    public String c;
    int d;
    int e;
    int f;
    int g;
    int j;
    float k;
    public int l;
    public short n;
    public b o;
    static String t = "[EMBED]";
    static ArrayList u = new ArrayList();
    int h = 0;
    int i = 0;
    public int m = Integer.MAX_VALUE;
    public boolean p = false;
    public boolean q = false;
    public boolean r = false;
    public boolean s = false;
    private HashMap x = new HashMap();
    Rect v = new Rect();
    int w = -1;

    public String a(b bVar, Element element) {
        Element element2 = (Element) element.getElementsByTagName("properties").item(0);
        if (element2 != null) {
            NodeList elementsByTagName = element2.getElementsByTagName("property");
            for (int i = 0; i < elementsByTagName.getLength(); i++) {
                Element element3 = (Element) elementsByTagName.item(i);
                if (element3.getAttribute("name").equals("embedded_png")) {
                    String attribute = element3.getAttribute("value");
                    if (attribute != null && !attribute.equals(VariableScope.nullOrMissingString)) {
                        return attribute;
                    }
                    Node firstChild = element3.getFirstChild();
                    if (firstChild != null) {
                        return firstChild.getNodeValue();
                    }
                }
            }
            return null;
        }
        return null;
    }

    public static Element a(b bVar, String str) throws f {
        try {
            return DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(bVar.d("tilesets/", str)).getDocumentElement();
        } catch (Exception e) {
            l.B().a("Unable to load or parse sourced tileset: tilesets/" + str, 1);
            throw new f("Unable to load or parse sourced tileset: tilesets/" + str, e);
        }
    }

    public j(b bVar, String str, int i) throws f, NumberFormatException {
        this.o = bVar;
        this.l = i;
        Element elementA = a(bVar, str);
        this.f155a = str;
        a(elementA);
    }

    public j(b bVar, Element element) throws f, NumberFormatException {
        this.o = bVar;
        this.l = Integer.parseInt(element.getAttribute("firstgid"));
        String attribute = element.getAttribute("source");
        if (attribute != null && !attribute.equals(VariableScope.nullOrMissingString)) {
            element = a(bVar, attribute);
            this.f155a = attribute;
        }
        a(element);
    }

    public void a(Element element) throws f, NumberFormatException {
        NodeList elementsByTagName = element.getElementsByTagName("image");
        if (elementsByTagName.getLength() > 0) {
            this.c = l.k(((Element) elementsByTagName.item(0)).getAttribute("source").trim());
        }
        String strA = a(this.o, element);
        if (strA != null) {
            this.c = a(strA, this.c);
        }
        if (this.c == null) {
            throw new f("Map tileset is missing an image tag or embedded image data");
        }
        this.d = this.o.n;
        this.e = this.o.o;
        if (element.hasAttribute("tilewidth")) {
            this.d = Integer.parseInt(element.getAttribute("tilewidth"));
            this.e = Integer.parseInt(element.getAttribute("tileheight"));
        }
        if (l.C()) {
            this.d = this.o.n;
            this.e = this.o.o;
        }
        int i = 0;
        if (element.hasAttribute("spacing")) {
            i = Integer.parseInt(element.getAttribute("spacing"));
        }
        this.f = this.d + i;
        this.g = this.e + i;
        NodeList elementsByTagName2 = element.getElementsByTagName("tile");
        for (int i2 = 0; i2 < elementsByTagName2.getLength(); i2++) {
            Element element2 = (Element) elementsByTagName2.item(i2);
            int i3 = Integer.parseInt(element2.getAttribute("id")) + this.l;
            Properties properties = new Properties();
            Element element3 = (Element) element2.getElementsByTagName("properties").item(0);
            if (element3 != null) {
                NodeList elementsByTagName3 = element3.getElementsByTagName("property");
                for (int i4 = 0; i4 < elementsByTagName3.getLength(); i4++) {
                    Element element4 = (Element) elementsByTagName3.item(i4);
                    String attribute = element4.getAttribute("name");
                    String attribute2 = element4.getAttribute("value");
                    if ("unit".equalsIgnoreCase(attribute) || "customUnit".equalsIgnoreCase(attribute)) {
                        this.s = true;
                    }
                    properties.setProperty(attribute, attribute2);
                }
            }
            this.x.put(new Integer(i3), properties);
        }
    }

    public static String a(String str, String str2) {
        Iterator it = u.iterator();
        while (it.hasNext()) {
            k kVar = (k) it.next();
            if (str.equalsIgnoreCase(kVar.f)) {
                return kVar.d;
            }
        }
        k kVar2 = new k();
        kVar2.b = false;
        kVar2.e = null;
        kVar2.f = str;
        kVar2.c = t;
        kVar2.d = t + k.f156a;
        kVar2.g = str2;
        k.f156a++;
        u.add(kVar2);
        return kVar2.d;
    }

    public static com.corrodinggames.rts.gameFramework.m.e a(String str) throws f, IOException {
        l lVarB = l.B();
        String str2 = "tilesets/bitmaps/";
        if (str.startsWith(t)) {
            str2 = t;
        }
        k kVar = null;
        Iterator it = u.iterator();
        while (true) {
            if (!it.hasNext()) {
                break;
            }
            k kVar2 = (k) it.next();
            if (str.equalsIgnoreCase(kVar2.d) && str2.equalsIgnoreCase(kVar2.c)) {
                kVar = kVar2;
                break;
            }
        }
        if (kVar != null) {
            if (kVar.f != null) {
                try {
                    com.corrodinggames.rts.gameFramework.m.e eVarA = lVarB.bO.a((InputStream) new BufferedInputStream(e.a(kVar.f, "base64", VariableScope.nullOrMissingString)), false);
                    if (eVarA == null) {
                        throw new f("Embedded tilesetBitmap is null for: " + str);
                    }
                    kVar.e = eVarA;
                    kVar.f = null;
                } catch (RuntimeException e) {
                    e.printStackTrace();
                    throw new f("Error loading embedded base64 image:" + kVar.g + " - " + e.getMessage());
                }
            }
            kVar.b = true;
            return kVar.e;
        }
        try {
            InputStream inputStreamD = lVarB.bL.d(str2, str);
            com.corrodinggames.rts.gameFramework.m.e eVarA2 = lVarB.bO.a(inputStreamD, false);
            if (inputStreamD != null) {
                try {
                    inputStreamD.close();
                } catch (IOException e2) {
                    e2.printStackTrace();
                }
            }
            if (eVarA2 == null) {
                throw new RuntimeException("tilesetBitmap is null for: " + str);
            }
            eVarA2.a("tilesets/" + str);
            k kVar3 = new k();
            kVar3.b = true;
            kVar3.e = eVarA2;
            kVar3.c = str2;
            kVar3.d = str;
            u.add(kVar3);
            return kVar3.e;
        } catch (IOException e3) {
            throw new f("Image file could not be found or loaded: " + str2 + str, e3);
        }
    }

    public static void a() {
        Iterator it = u.iterator();
        while (it.hasNext()) {
            ((k) it.next()).b = false;
        }
    }

    public static void b() {
        Iterator it = u.iterator();
        while (it.hasNext()) {
            k kVar = (k) it.next();
            if (!kVar.b) {
                if (kVar.e != null) {
                    kVar.e.o();
                    kVar.e = null;
                }
                kVar.f = null;
                it.remove();
            }
        }
    }

    void c() {
        this.b = a(this.c);
        this.j = this.b.m() / this.f;
        if (this.j == 0) {
            this.j = 1;
        }
        this.k = 1.0f / this.j;
    }

    public Properties a(int i) {
        return (Properties) this.x.get(new Integer(i));
    }

    public final void a(int i, Rect rect) {
        int i2 = i % this.j;
        int i3 = (int) (i * this.k);
        int i4 = this.h + (i2 * this.f);
        int i5 = this.i + (i3 * this.g);
        rect.f47a = i4;
        rect.b = i5;
        rect.c = i4 + this.d;
        rect.d = i5 + this.e;
    }

    public final Rect b(int i) {
        if (this.w == i) {
            return this.v;
        }
        this.w = i;
        a(i, this.v);
        return this.v;
    }

    public void c(int i) {
        this.m = i;
    }

    public boolean d(int i) {
        return i >= this.l && i <= this.m;
    }

    public void d() {
        this.b = null;
        this.o = null;
        this.x = null;
    }

    public Integer b(String str, String str2) {
        for (Map.Entry entry : this.x.entrySet()) {
            Integer num = (Integer) entry.getKey();
            String property = ((Properties) entry.getValue()).getProperty(str);
            if (property != null && property.equals(str2)) {
                return num;
            }
        }
        return null;
    }

    public int a(int i, int i2) {
        int iM;
        if (this.b == null) {
            l.e("getIndexOffsetByPosition tilesetBitmap == null");
            iM = 3;
        } else if (this.d == 0) {
            l.e("getIndexOffsetByPosition tileWidth==0");
            iM = 3;
        } else {
            iM = this.b.m() / this.d;
        }
        return i + (i2 * iM);
    }
}


================================================================================
// FILE_PATH: ./game/b/f.java
================================================================================

package com.corrodinggames.rts.game.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/b/f.class */
public class f extends Exception {
    public f(String str) {
        super(str);
    }

    public f(String str, Exception exc) {
        super(str, exc);
    }
}


================================================================================
// FILE_PATH: ./game/b/g.java
================================================================================

package com.corrodinggames.rts.game.b;

import android.graphics.Paint;
import android.graphics.Rect;
import android.graphics.RectF;
import android.util.Log;
import com.corrodinggames.rts.game.n;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ar;
import com.corrodinggames.rts.game.units.as;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.m.y;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import com.corrodinggames.rts.gameFramework.w;
import java.util.Properties;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/b/g.class */
public final class g {

    /* renamed from: a, reason: collision with root package name */
    public j f152a;
    public int b;
    public int c = -2;
    public short d = -1;
    public boolean e;
    public boolean f;
    public boolean g;
    public boolean h;
    public boolean i;
    public byte j;
    public boolean k;
    public boolean l;
    public g[] m;
    static final Rect n = new Rect();

    public static boolean a(g gVar, g gVar2) {
        if (gVar == gVar2) {
            return true;
        }
        return gVar != null && gVar2 != null && gVar.f152a == gVar2.f152a && gVar.b == gVar2.b;
    }

    /* renamed from: a, reason: merged with bridge method [inline-methods] */
    public g clone() {
        g gVar = new g();
        gVar.f152a = this.f152a;
        gVar.b = this.b;
        gVar.e = this.e;
        gVar.f = this.f;
        gVar.g = this.g;
        gVar.h = this.h;
        gVar.i = this.i;
        gVar.j = this.j;
        gVar.k = this.k;
        gVar.l = this.l;
        return gVar;
    }

    public static void a(String str) throws InterruptedException {
        l.b(str);
        l.B().a("Missing unit data while loading map: " + str, 1);
        try {
            Thread.sleep(2L);
        } catch (InterruptedException e) {
        }
    }

    public static g a(b bVar, e eVar, j jVar, int i, short s, short s2, boolean z) {
        String str;
        n nVarK;
        Properties propertiesA = jVar.a(jVar.l + i);
        if (propertiesA != null) {
            String property = propertiesA.getProperty("showFog");
            if (property != null) {
                int i2 = Integer.parseInt(property);
                l lVarB = l.B();
                bVar.a((int) s, (int) s2);
                lVarB.bL.a(bVar.T + bVar.p, bVar.U + bVar.q, i2, lVarB.bs, false);
                return null;
            }
            String property2 = propertiesA.getProperty("unit");
            String property3 = propertiesA.getProperty("customUnit");
            if (property2 != null || property3 != null) {
                String property4 = propertiesA.getProperty("team");
                if ("none".equalsIgnoreCase(property4)) {
                    nVarK = n.k(-1);
                } else {
                    if (property4 == null) {
                        l.b("map", "warning: unit has no team property:" + property2 + " at: " + ((int) s) + "," + ((int) s2));
                        return null;
                    }
                    nVarK = n.k(Integer.valueOf(property4).intValue());
                    if (nVarK == null) {
                        l.b("map", "skipping unit without player:" + property2 + " at: " + ((int) s) + "," + ((int) s2) + " team:" + property4);
                        return null;
                    }
                    if (nVarK.b()) {
                        l.b("map", "Unit team is marked as spectator:" + property2 + " (skipping unit)");
                        return null;
                    }
                }
                am dVar = null;
                if (property3 != null) {
                    com.corrodinggames.rts.game.units.custom.l lVarN = com.corrodinggames.rts.game.units.custom.l.n(property3);
                    if (lVarN == null) {
                        String str2 = "Could not find custom unit of:" + property3 + " at x:" + ((int) s) + ", y:" + ((int) s2);
                        a(str2);
                        throw new f(str2);
                    }
                    as asVarC = com.corrodinggames.rts.game.units.custom.l.c(lVarN);
                    if (asVarC != null) {
                        if (asVarC instanceof com.corrodinggames.rts.game.units.custom.l) {
                            lVarN = (com.corrodinggames.rts.game.units.custom.l) asVarC;
                        } else {
                            l.b("replacement not a custom unit:" + asVarC.i());
                        }
                    }
                    dVar = com.corrodinggames.rts.game.units.custom.l.a(false, lVarN);
                    if (dVar == null) {
                        String str3 = "Metadata unit is null for:" + property3;
                        a(str3);
                        throw new f(str3);
                    }
                } else {
                    as asVarA = ar.a(property2);
                    if (asVarA != null) {
                        dVar = asVarA.a();
                    }
                    if (dVar == null && "scoutShip".equalsIgnoreCase(property2)) {
                        dVar = new com.corrodinggames.rts.game.units.h.d(false);
                    }
                    if (dVar == null) {
                        String str4 = "Could not find unit:" + property2 + " at: " + ((int) s) + "," + ((int) s2);
                        a(str4);
                        throw new f(str4);
                    }
                }
                bVar.a((int) s, (int) s2);
                dVar.eo = bVar.T + dVar.cZ();
                dVar.ep = bVar.U + dVar.da();
                if (nVarK != null) {
                    dVar.b(nVarK);
                    if (propertiesA.getProperty("type") != null) {
                        dVar.a_(propertiesA.getProperty("type"));
                    }
                    if (propertiesA.getProperty("randomRotate") != null) {
                        dVar.cg = com.corrodinggames.rts.gameFramework.f.a(dVar, -180, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_STB_INPUT);
                    }
                    dVar.bO = "builder".equalsIgnoreCase(property2) || "builder".equalsIgnoreCase(property3);
                    dVar.bP = "commandCenter".equalsIgnoreCase(property2) || "commandCenter".equalsIgnoreCase(property3);
                    dVar.bM = true;
                    dVar.n();
                    n.c(dVar);
                    w.dL();
                    return null;
                }
                throw new f("team has not been set for:" + property2);
            }
            if (eVar != null && eVar.l.equals("units")) {
                Log.d("RustedWarfare", "non unit on units layer at:" + ((int) s) + "," + ((int) s2));
                return null;
            }
        }
        g gVar = new g();
        gVar.f152a = jVar;
        jVar.p = true;
        if (eVar != null && !eVar.r) {
            jVar.r = true;
        }
        if (z) {
            jVar.q = true;
        }
        gVar.b = i;
        if (propertiesA != null) {
            if (propertiesA.getProperty("water") != null) {
                gVar.e = true;
            }
            if (propertiesA.getProperty("water-bridge") != null) {
                gVar.f = true;
            }
            if (propertiesA.getProperty("lava") != null || propertiesA.getProperty("lava-cliff") != null) {
                gVar.g = true;
                if (propertiesA.getProperty("lava-cliff") != null) {
                    gVar.h = true;
                }
            }
            if (propertiesA.getProperty("cliff-soft") != null) {
                gVar.h = true;
            }
            if (propertiesA.getProperty("cliff") != null) {
                gVar.h = true;
            }
            if (propertiesA.getProperty("large-cliff") != null) {
                gVar.k = true;
            }
            if (propertiesA.getProperty("trees") != null) {
                gVar.k = true;
            }
            if (propertiesA.getProperty("res_pool") != null) {
                gVar.i = true;
            }
            if (propertiesA.getProperty("tree") != null) {
            }
            if (propertiesA.getProperty("small-rock") != null) {
                gVar.j = (byte) 40;
            }
            if (propertiesA.getProperty("large-rock") != null) {
                gVar.j = (byte) -1;
            }
            if (propertiesA.getProperty("block-land") != null) {
                gVar.j = (byte) -1;
            }
            if (propertiesA.getProperty("block-buildings") != null) {
                gVar.l = true;
            }
        }
        int i3 = 0;
        int i4 = 0;
        if (gVar.f152a != null && (str = gVar.f152a.c) != null) {
            if (gVar.b == 0 && str.equals("shallowwater.png")) {
                i3 = 5;
            }
            if (gVar.b == 0 && str.equals("deepwater.png")) {
                i3 = 2;
            }
            if (gVar.b == 0 && str.equals("water.png")) {
                i3 = 2;
            }
            if (gVar.b == 0 && str.equals("longgrass.png")) {
                i3 = 3;
            }
            if (gVar.b == 0 && str.equals("mountain.png")) {
                i3 = 3;
            }
            if (gVar.b == 7 && str.equals("stone.png")) {
                i3 = 4;
                i4 = 23;
            }
            if (gVar.b != 0 || str.equals("lava.png")) {
            }
            if (gVar.b == 0 && str.equals("snow.png")) {
                i3 = 2;
            }
        }
        if (propertiesA != null && propertiesA.getProperty("randomTileBy") != null) {
            try {
                i3 = Integer.parseInt(propertiesA.getProperty("randomTileBy"));
                if (propertiesA.getProperty("randomTileFixedOffset") != null) {
                    try {
                        i4 = Integer.parseInt(propertiesA.getProperty("randomTileFixedOffset"));
                    } catch (NumberFormatException e) {
                        throw new f("(x:" + ((int) s) + "y:" + ((int) s2) + ") - randomTileFixedOffset: Unexpected integer value:'" + propertiesA.getProperty("randomTileBy") + "'");
                    }
                }
            } catch (NumberFormatException e2) {
                throw new f("(x:" + ((int) s) + "y:" + ((int) s2) + ") - randomTileBy: Unexpected integer value:'" + propertiesA.getProperty("randomTileBy") + "'");
            }
        }
        if (i3 > 0) {
            g[] gVarArr = new g[i3];
            for (int i5 = 0; i5 < i3; i5++) {
                gVarArr[i5] = gVar.clone();
                gVarArr[i5].b += i5 + 1 + i4;
            }
            gVar.m = gVarArr;
        }
        return gVar;
    }

    g() {
    }

    public void a(y yVar, RectF rectF, float f, Paint paint) {
        j jVar = this.f152a;
        yVar.a(jVar.b, jVar.b(this.b), rectF, paint);
    }
}


================================================================================
// FILE_PATH: ./game/b/k.java
================================================================================

package com.corrodinggames.rts.game.b;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/b/k.class */
class k {

    /* renamed from: a, reason: collision with root package name */
    static int f156a = 1;
    public boolean b;
    public String c;
    public String d;
    public com.corrodinggames.rts.gameFramework.m.e e;
    public String f;
    public String g;

    k() {
    }
}


================================================================================
// FILE_PATH: ./game/b/a.java
================================================================================

package com.corrodinggames.rts.game.b;

import android.graphics.RectF;
import com.corrodinggames.rts.game.n;
import com.corrodinggames.rts.game.units.am;
import com.corrodinggames.rts.game.units.ar;
import com.corrodinggames.rts.game.units.as;
import com.corrodinggames.rts.game.units.custom.bb;
import com.corrodinggames.rts.game.units.custom.bc;
import com.corrodinggames.rts.game.units.custom.logicBooleans.VariableScope;
import com.corrodinggames.rts.gameFramework.j.ad;
import com.corrodinggames.rts.gameFramework.l;
import com.corrodinggames.rts.gameFramework.utility.SlickToAndroidKeycodes;
import com.corrodinggames.rts.gameFramework.utility.m;
import com.corrodinggames.rts.gameFramework.utility.x;
import com.corrodinggames.rts.gameFramework.w;
import java.util.ArrayList;
import java.util.Enumeration;
import java.util.Iterator;
import java.util.Locale;
import java.util.Properties;
import org.w3c.dom.Element;
import org.w3c.dom.NodeList;

/* loaded from: game-lib.jar:com/corrodinggames/rts/game/b/a.class */
public class a {

    /* renamed from: a, reason: collision with root package name */
    public int f145a;
    public String b;
    public String c;
    public String d;
    public float e;
    public float f;
    public float g;
    public float h;
    public float i;
    private String p;
    public RectF j;
    public int k;
    public j l;
    public int m;
    public Properties n;
    public m o = new m();

    static float a(Element element, String str) throws f {
        String attribute = element.getAttribute(str);
        try {
            return Float.parseFloat(attribute);
        } catch (NumberFormatException e) {
            throw new f("Invalid map: Error reading '" + str + "' invalid float: " + attribute, e);
        }
    }

    public a(Element element, b bVar, i iVar) throws f {
        n nVarK;
        am amVarA;
        NodeList elementsByTagName;
        String textContent;
        this.k = -1;
        this.m = -1;
        this.b = element.getAttribute("name");
        if (this.b != null) {
            this.c = this.b.trim().toLowerCase(Locale.ENGLISH);
        }
        this.d = element.getAttribute("type");
        this.e = Float.parseFloat(element.getAttribute("x"));
        this.f = Float.parseFloat(element.getAttribute("y"));
        if (element.hasAttribute("rotation")) {
            this.i = Float.parseFloat(element.getAttribute("rotation")) - 90.0f;
        }
        if (!element.getAttribute("width").equals(VariableScope.nullOrMissingString)) {
            this.g = a(element, "width");
        }
        if (!element.getAttribute("height").equals(VariableScope.nullOrMissingString)) {
            this.h = a(element, "height");
        }
        Element element2 = (Element) element.getElementsByTagName("image").item(0);
        if (element2 != null) {
            this.p = element2.getAttribute("source");
        }
        Element element3 = (Element) element.getElementsByTagName("properties").item(0);
        if (element3 != null && (elementsByTagName = element3.getElementsByTagName("property")) != null) {
            this.n = new Properties();
            for (int i = 0; i < elementsByTagName.getLength(); i++) {
                Element element4 = (Element) elementsByTagName.item(i);
                String attribute = element4.getAttribute("name");
                if (element4.hasAttribute("value")) {
                    textContent = element4.getAttribute("value");
                } else {
                    textContent = element4.getTextContent();
                }
                this.n.setProperty(attribute, textContent);
            }
        }
        if (element.hasAttribute("gid")) {
            this.k = Integer.parseInt(element.getAttribute("gid"));
            this.l = bVar.a(this.k);
            if (this.l != null) {
                this.l.p = true;
                this.l.r = true;
                this.m = this.k - this.l.l;
            } else {
                throw new RuntimeException("Unable to decode base 64 block, could not find tileId:" + this.k);
            }
        }
        Properties properties = this.n;
        this.j = new RectF(this.e, this.f, this.e + this.g, this.f + this.h);
        bVar.a(this.j);
        this.e = this.j.f48a;
        this.f = this.j.b;
        this.g = this.j.b();
        this.h = this.j.c();
        float fD = this.j.d();
        float fE = this.j.e();
        String attribute2 = element.getAttribute("type");
        if (attribute2 != null && !attribute2.equals(VariableScope.nullOrMissingString) && !attribute2.equals("unit") && !attribute2.equals("comment") && !iVar.b.equalsIgnoreCase("triggers")) {
            d("Triggers should be on triggers layer");
        }
        if (properties != null) {
            String property = properties.getProperty("unit");
            String property2 = properties.getProperty("customUnit");
            if (property != null || property2 != null) {
                String property3 = properties.getProperty("team");
                if (property3 == null) {
                    throw new f("Unit object team missing for:" + (property != null ? property : property2));
                }
                if ("none".equalsIgnoreCase(property3)) {
                    nVarK = n.k(-1);
                } else {
                    try {
                        nVarK = n.k(Integer.valueOf(property3).intValue());
                        if (nVarK == null) {
                            l.b("map", "Unit object without team:" + property + " (skipping unit)");
                            return;
                        } else if (nVarK.b()) {
                            l.b("map", "Unit team is marked as spectator:" + property + " (skipping unit)");
                            return;
                        }
                    } catch (NumberFormatException e) {
                        throw new f("Unit object team invalid: " + e.getMessage(), e);
                    }
                }
                if (property2 != null) {
                    com.corrodinggames.rts.game.units.custom.l lVarN = com.corrodinggames.rts.game.units.custom.l.n(property2);
                    if (lVarN == null) {
                        throw new f("Could not find custom unit of:" + property2 + " at x:" + this.e + ", y:" + this.f);
                    }
                    as asVarC = com.corrodinggames.rts.game.units.custom.l.c(lVarN);
                    if (asVarC != null) {
                        if (asVarC instanceof com.corrodinggames.rts.game.units.custom.l) {
                            lVarN = (com.corrodinggames.rts.game.units.custom.l) asVarC;
                        } else {
                            l.b("replacement not a custom unit:" + asVarC.i());
                        }
                    }
                    amVarA = com.corrodinggames.rts.game.units.custom.l.a(false, lVarN);
                    if (amVarA == null) {
                        throw new RuntimeException("Metadata unit is null for:" + property2);
                    }
                } else {
                    as asVarA = ar.a(property);
                    if (asVarA != null) {
                        amVarA = asVarA.a();
                    } else {
                        throw new f("Could not find unit type of:" + property + " at x:" + this.e + ", y:" + this.f);
                    }
                }
                amVarA.eo = fD;
                amVarA.ep = fE;
                if (!amVarA.bI()) {
                    amVarA.h(this.i);
                }
                if (nVarK != null) {
                    amVarA.b(nVarK);
                    if (properties.getProperty("type") != null) {
                        amVarA.a_(properties.getProperty("type"));
                    }
                    if (properties.getProperty("randomRotate") != null && !amVarA.bI()) {
                        amVarA.h(com.corrodinggames.rts.gameFramework.f.a(amVarA, -180, SlickToAndroidKeycodes.AndroidCodes.KEYCODE_STB_INPUT));
                    }
                    amVarA.bO = "builder".equalsIgnoreCase(property) || "builder".equalsIgnoreCase(property2);
                    amVarA.bP = "commandCenter".equalsIgnoreCase(property) || "commandCenter".equalsIgnoreCase(property2);
                    amVarA.bM = true;
                    amVarA.n();
                    n.c(amVarA);
                    w.dL();
                    return;
                }
                throw new f("team is null:" + property);
            }
        }
    }

    public boolean a(am amVar) {
        return this.j.b((int) amVar.eo, (int) amVar.ep);
    }

    public void a(String str) {
        if (!this.o.contains(str)) {
            this.o.add(str);
        }
    }

    public String[] a() {
        if (this.n == null) {
            return x.h;
        }
        m mVar = new m();
        Enumeration<?> enumerationPropertyNames = this.n.propertyNames();
        while (enumerationPropertyNames.hasMoreElements()) {
            String str = (String) enumerationPropertyNames.nextElement();
            if (!this.o.contains(str)) {
                mVar.add(str);
            }
        }
        return (String[]) mVar.toArray(x.h);
    }

    public String b(String str) {
        a(str);
        if (this.n == null) {
            return null;
        }
        return this.n.getProperty(str);
    }

    public String a(String str, String str2) {
        a(str);
        if (this.n == null) {
            return null;
        }
        return this.n.getProperty(str, str2);
    }

    public Integer c(String str) throws f {
        String strA = a(str, (String) null);
        if (strA == null) {
            return null;
        }
        try {
            return Integer.valueOf(Integer.parseInt(strA));
        } catch (NumberFormatException e) {
            throw new f(str + ": Unexpected integer value:'" + strA + "'");
        }
    }

    public bb a(String str, bb bbVar) {
        String strA = a(str, (String) null);
        if (strA == null) {
            return bbVar;
        }
        ArrayList arrayList = new ArrayList();
        arrayList.add(new bc(null, strA));
        String str2 = str + "_";
        m mVar = new m();
        for (Object obj : this.n.keySet()) {
            if (obj instanceof String) {
                String str3 = (String) obj;
                if (str3.startsWith(str2)) {
                    mVar.add(str3);
                }
            } else {
                l.b("createLocaleStringFromProperty: Non string:" + obj);
            }
        }
        Iterator it = mVar.iterator();
        while (it.hasNext()) {
            String str4 = (String) it.next();
            String lowerCase = str4.substring(str2.length()).toLowerCase(Locale.ROOT);
            l.b("createLocaleStringFromProperty checking: " + str4);
            if (lowerCase.length() <= 4) {
                String strB = b(str4);
                l.b("createLocaleStringFromProperty got: " + strB);
                l.b("createLocaleStringFromProperty code: " + lowerCase);
                arrayList.add(new bc(lowerCase, strB));
            }
        }
        bb bbVar2 = new bb((bc[]) arrayList.toArray(new bc[0]));
        bbVar2.b();
        l.b("createLocaleStringFromProperty final: " + bbVar2.b());
        l.b("createLocaleStringFromProperty locate: " + com.corrodinggames.rts.gameFramework.h.a.c());
        return bbVar2;
    }

    public void d(String str) {
        ad.g("(Map trigger: " + this.b + ", type:" + this.d + "): " + str);
    }

    public String b() {
        return "(Map trigger: " + this.b + ", type:" + this.d + ")";
    }
}
